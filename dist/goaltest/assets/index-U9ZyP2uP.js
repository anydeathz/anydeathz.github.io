function VQ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function eo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PT={exports:{}},Xp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NP;function BQ(){if(NP)return Xp;NP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Xp.Fragment=e,Xp.jsx=n,Xp.jsxs=n,Xp}var MP;function zQ(){return MP||(MP=1,PT.exports=BQ()),PT.exports}var m=zQ(),RT={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jP;function UQ(){if(jP)return qe;jP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function k(H,ne,ye){this.props=H,this.context=ne,this.refs=S,this.updater=ye||b}k.prototype.isReactComponent={},k.prototype.setState=function(H,ne){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ne,"setState")},k.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=k.prototype;function N(H,ne,ye){this.props=H,this.context=ne,this.refs=S,this.updater=ye||b}var R=N.prototype=new C;R.constructor=N,T(R,k.prototype),R.isPureReactComponent=!0;var D=Array.isArray;function z(){}var j={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function P(H,ne,ye){var be=ye.ref;return{$$typeof:t,type:H,key:ne,ref:be!==void 0?be:null,props:ye}}function B(H,ne){return P(H.type,ne,H.props)}function U(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function V(H){var ne={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ye){return ne[ye]})}var L=/\/+/g;function Z(H,ne){return typeof H=="object"&&H!==null&&H.key!=null?V(""+H.key):ne.toString(36)}function oe(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(z,z):(H.status="pending",H.then(function(ne){H.status==="pending"&&(H.status="fulfilled",H.value=ne)},function(ne){H.status==="pending"&&(H.status="rejected",H.reason=ne)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function W(H,ne,ye,be,ke){var pe=typeof H;(pe==="undefined"||pe==="boolean")&&(H=null);var we=!1;if(H===null)we=!0;else switch(pe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(H.$$typeof){case t:case e:we=!0;break;case f:return we=H._init,W(we(H._payload),ne,ye,be,ke)}}if(we)return ke=ke(H),we=be===""?"."+Z(H,0):be,D(ke)?(ye="",we!=null&&(ye=we.replace(L,"$&/")+"/"),W(ke,ne,ye,"",function(Ce){return Ce})):ke!=null&&(U(ke)&&(ke=B(ke,ye+(ke.key==null||H&&H.key===ke.key?"":(""+ke.key).replace(L,"$&/")+"/")+we)),ne.push(ke)),1;we=0;var et=be===""?".":be+":";if(D(H))for(var ie=0;ie<H.length;ie++)be=H[ie],pe=et+Z(be,ie),we+=W(be,ne,ye,pe,ke);else if(ie=v(H),typeof ie=="function")for(H=ie.call(H),ie=0;!(be=H.next()).done;)be=be.value,pe=et+Z(be,ie++),we+=W(be,ne,ye,pe,ke);else if(pe==="object"){if(typeof H.then=="function")return W(oe(H),ne,ye,be,ke);throw ne=String(H),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function Y(H,ne,ye){if(H==null)return H;var be=[],ke=0;return W(H,be,"","",function(pe){return ne.call(ye,pe,ke++)}),be}function ce(H){if(H._status===-1){var ne=H._result;ne=ne(),ne.then(function(ye){(H._status===0||H._status===-1)&&(H._status=1,H._result=ye)},function(ye){(H._status===0||H._status===-1)&&(H._status=2,H._result=ye)}),H._status===-1&&(H._status=0,H._result=ne)}if(H._status===1)return H._result.default;throw H._result}var he=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Se={map:Y,forEach:function(H,ne,ye){Y(H,function(){ne.apply(this,arguments)},ye)},count:function(H){var ne=0;return Y(H,function(){ne++}),ne},toArray:function(H){return Y(H,function(ne){return ne})||[]},only:function(H){if(!U(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return qe.Activity=p,qe.Children=Se,qe.Component=k,qe.Fragment=n,qe.Profiler=i,qe.PureComponent=N,qe.StrictMode=r,qe.Suspense=c,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,qe.__COMPILER_RUNTIME={__proto__:null,c:function(H){return j.H.useMemoCache(H)}},qe.cache=function(H){return function(){return H.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(H,ne,ye){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var be=T({},H.props),ke=H.key;if(ne!=null)for(pe in ne.key!==void 0&&(ke=""+ne.key),ne)!M.call(ne,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&ne.ref===void 0||(be[pe]=ne[pe]);var pe=arguments.length-2;if(pe===1)be.children=ye;else if(1<pe){for(var we=Array(pe),et=0;et<pe;et++)we[et]=arguments[et+2];be.children=we}return P(H.type,ke,be)},qe.createContext=function(H){return H={$$typeof:a,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},qe.createElement=function(H,ne,ye){var be,ke={},pe=null;if(ne!=null)for(be in ne.key!==void 0&&(pe=""+ne.key),ne)M.call(ne,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(ke[be]=ne[be]);var we=arguments.length-2;if(we===1)ke.children=ye;else if(1<we){for(var et=Array(we),ie=0;ie<we;ie++)et[ie]=arguments[ie+2];ke.children=et}if(H&&H.defaultProps)for(be in we=H.defaultProps,we)ke[be]===void 0&&(ke[be]=we[be]);return P(H,pe,ke)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(H){return{$$typeof:l,render:H}},qe.isValidElement=U,qe.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:ce}},qe.memo=function(H,ne){return{$$typeof:d,type:H,compare:ne===void 0?null:ne}},qe.startTransition=function(H){var ne=j.T,ye={};j.T=ye;try{var be=H(),ke=j.S;ke!==null&&ke(ye,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(z,he)}catch(pe){he(pe)}finally{ne!==null&&ye.types!==null&&(ne.types=ye.types),j.T=ne}},qe.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},qe.use=function(H){return j.H.use(H)},qe.useActionState=function(H,ne,ye){return j.H.useActionState(H,ne,ye)},qe.useCallback=function(H,ne){return j.H.useCallback(H,ne)},qe.useContext=function(H){return j.H.useContext(H)},qe.useDebugValue=function(){},qe.useDeferredValue=function(H,ne){return j.H.useDeferredValue(H,ne)},qe.useEffect=function(H,ne){return j.H.useEffect(H,ne)},qe.useEffectEvent=function(H){return j.H.useEffectEvent(H)},qe.useId=function(){return j.H.useId()},qe.useImperativeHandle=function(H,ne,ye){return j.H.useImperativeHandle(H,ne,ye)},qe.useInsertionEffect=function(H,ne){return j.H.useInsertionEffect(H,ne)},qe.useLayoutEffect=function(H,ne){return j.H.useLayoutEffect(H,ne)},qe.useMemo=function(H,ne){return j.H.useMemo(H,ne)},qe.useOptimistic=function(H,ne){return j.H.useOptimistic(H,ne)},qe.useReducer=function(H,ne,ye){return j.H.useReducer(H,ne,ye)},qe.useRef=function(H){return j.H.useRef(H)},qe.useState=function(H){return j.H.useState(H)},qe.useSyncExternalStore=function(H,ne,ye){return j.H.useSyncExternalStore(H,ne,ye)},qe.useTransition=function(){return j.H.useTransition()},qe.version="19.2.0",qe}var IP;function Oh(){return IP||(IP=1,RT.exports=UQ()),RT.exports}var _=Oh();const Cs=eo(_),FQ=VQ({__proto__:null,default:Cs},[_]);var LT={exports:{}},Qp={},VT={exports:{}},BT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DP;function $Q(){return DP||(DP=1,(function(t){function e(W,Y){var ce=W.length;W.push(Y);e:for(;0<ce;){var he=ce-1>>>1,Se=W[he];if(0<i(Se,Y))W[he]=Y,W[ce]=Se,ce=he;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Y=W[0],ce=W.pop();if(ce!==Y){W[0]=ce;e:for(var he=0,Se=W.length,H=Se>>>1;he<H;){var ne=2*(he+1)-1,ye=W[ne],be=ne+1,ke=W[be];if(0>i(ye,ce))be<Se&&0>i(ke,ye)?(W[he]=ke,W[be]=ce,he=be):(W[he]=ye,W[ne]=ce,he=ne);else if(be<Se&&0>i(ke,ce))W[he]=ke,W[be]=ce,he=be;else break e}}return Y}function i(W,Y){var ce=W.sortIndex-Y.sortIndex;return ce!==0?ce:W.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],f=1,p=null,g=3,v=!1,b=!1,T=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function R(W){for(var Y=n(d);Y!==null;){if(Y.callback===null)r(d);else if(Y.startTime<=W)r(d),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=n(d)}}function D(W){if(T=!1,R(W),!b)if(n(c)!==null)b=!0,z||(z=!0,V());else{var Y=n(d);Y!==null&&oe(D,Y.startTime-W)}}var z=!1,j=-1,M=5,P=-1;function B(){return S?!0:!(t.unstable_now()-P<M)}function U(){if(S=!1,z){var W=t.unstable_now();P=W;var Y=!0;try{e:{b=!1,T&&(T=!1,C(j),j=-1),v=!0;var ce=g;try{t:{for(R(W),p=n(c);p!==null&&!(p.expirationTime>W&&B());){var he=p.callback;if(typeof he=="function"){p.callback=null,g=p.priorityLevel;var Se=he(p.expirationTime<=W);if(W=t.unstable_now(),typeof Se=="function"){p.callback=Se,R(W),Y=!0;break t}p===n(c)&&r(c),R(W)}else r(c);p=n(c)}if(p!==null)Y=!0;else{var H=n(d);H!==null&&oe(D,H.startTime-W),Y=!1}}break e}finally{p=null,g=ce,v=!1}Y=void 0}}finally{Y?V():z=!1}}}var V;if(typeof N=="function")V=function(){N(U)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,Z=L.port2;L.port1.onmessage=U,V=function(){Z.postMessage(null)}}else V=function(){k(U,0)};function oe(W,Y){j=k(function(){W(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(W){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var ce=g;g=Y;try{return W()}finally{g=ce}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(W,Y){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ce=g;g=W;try{return Y()}finally{g=ce}},t.unstable_scheduleCallback=function(W,Y,ce){var he=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?he+ce:he):ce=he,W){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ce+Se,W={id:f++,callback:Y,priorityLevel:W,startTime:ce,expirationTime:Se,sortIndex:-1},ce>he?(W.sortIndex=ce,e(d,W),n(c)===null&&W===n(d)&&(T?(C(j),j=-1):T=!0,oe(D,ce-he))):(W.sortIndex=Se,e(c,W),b||v||(b=!0,z||(z=!0,V()))),W},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(W){var Y=g;return function(){var ce=g;g=Y;try{return W.apply(this,arguments)}finally{g=ce}}}})(BT)),BT}var PP;function HQ(){return PP||(PP=1,VT.exports=$Q()),VT.exports}var zT={exports:{}},Dr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RP;function qQ(){if(RP)return Dr;RP=1;var t=Oh();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,d,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:d,implementation:f}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Dr.createPortal=function(c,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(c,d,null,f)},Dr.flushSync=function(c){var d=a.T,f=r.p;try{if(a.T=null,r.p=2,c)return c()}finally{a.T=d,r.p=f,r.d.f()}},Dr.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Dr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Dr.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):f==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Dr.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Dr.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin);r.d.L(c,f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Dr.preloadModule=function(c,d){if(typeof c=="string")if(d){var f=l(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Dr.requestFormReset=function(c){r.d.r(c)},Dr.unstable_batchedUpdates=function(c,d){return c(d)},Dr.useFormState=function(c,d,f){return a.H.useFormState(c,d,f)},Dr.useFormStatus=function(){return a.H.useHostTransitionStatus()},Dr.version="19.2.0",Dr}var LP;function Wz(){if(LP)return zT.exports;LP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zT.exports=qQ(),zT.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VP;function WQ(){if(VP)return Qp;VP=1;var t=HQ(),e=Oh(),n=Wz();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var u=o,h=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(h=u.return),o=u.return;while(o)}return u.tag===3?h:null}function a(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(s(o)!==o)throw Error(r(188))}function d(o){var u=o.alternate;if(!u){if(u=s(o),u===null)throw Error(r(188));return u!==o?null:o}for(var h=o,y=u;;){var w=h.return;if(w===null)break;var E=w.alternate;if(E===null){if(y=w.return,y!==null){h=y;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===h)return c(w),o;if(E===y)return c(w),u;E=E.sibling}throw Error(r(188))}if(h.return!==y.return)h=w,y=E;else{for(var O=!1,F=w.child;F;){if(F===h){O=!0,h=w,y=E;break}if(F===y){O=!0,y=w,h=E;break}F=F.sibling}if(!O){for(F=E.child;F;){if(F===h){O=!0,h=E,y=w;break}if(F===y){O=!0,y=E,h=w;break}F=F.sibling}if(!O)throw Error(r(189))}}if(h.alternate!==y)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:u}function f(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=f(o),u!==null)return u;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),N=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function V(o){return o===null||typeof o!="object"?null:(o=U&&o[U]||o["@@iterator"],typeof o=="function"?o:null)}var L=Symbol.for("react.client.reference");function Z(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===L?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case T:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case z:return"SuspenseList";case P:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case N:return o.displayName||"Context";case C:return(o._context.displayName||"Context")+".Consumer";case R:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case j:return u=o.displayName||null,u!==null?u:Z(o.type)||"Memo";case M:u=o._payload,o=o._init;try{return Z(o(u))}catch{}}return null}var oe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},he=[],Se=-1;function H(o){return{current:o}}function ne(o){0>Se||(o.current=he[Se],he[Se]=null,Se--)}function ye(o,u){Se++,he[Se]=o.current,o.current=u}var be=H(null),ke=H(null),pe=H(null),we=H(null);function et(o,u){switch(ye(pe,u),ye(ke,o),ye(be,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?ZD(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=ZD(u),o=eP(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ne(be),ye(be,o)}function ie(){ne(be),ne(ke),ne(pe)}function Ce(o){o.memoizedState!==null&&ye(we,o);var u=be.current,h=eP(u,o.type);u!==h&&(ye(ke,o),ye(be,h))}function Re(o){ke.current===o&&(ne(be),ne(ke)),we.current===o&&(ne(we),Wp._currentValue=ce)}var me,dt;function Me(o){if(me===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);me=u&&u[1]||"",dt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+o+dt}var Vt=!1;function ct(o,u){if(!o||Vt)return"";Vt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(u){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(re){var ee=re}Reflect.construct(o,[],ue)}else{try{ue.call()}catch(re){ee=re}o.call(ue.prototype)}}else{try{throw Error()}catch(re){ee=re}(ue=o())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(re){if(re&&ee&&typeof re.stack=="string")return[re.stack,ee.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=y.DetermineComponentFrameRoot(),O=E[0],F=E[1];if(O&&F){var q=O.split(`
`),J=F.split(`
`);for(w=y=0;y<q.length&&!q[y].includes("DetermineComponentFrameRoot");)y++;for(;w<J.length&&!J[w].includes("DetermineComponentFrameRoot");)w++;if(y===q.length||w===J.length)for(y=q.length-1,w=J.length-1;1<=y&&0<=w&&q[y]!==J[w];)w--;for(;1<=y&&0<=w;y--,w--)if(q[y]!==J[w]){if(y!==1||w!==1)do if(y--,w--,0>w||q[y]!==J[w]){var ae=`
`+q[y].replace(" at new "," at ");return o.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",o.displayName)),ae}while(1<=y&&0<=w);break}}}finally{Vt=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?Me(h):""}function Zn(o,u){switch(o.tag){case 26:case 27:case 5:return Me(o.type);case 16:return Me("Lazy");case 13:return o.child!==u&&u!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return ct(o.type,!1);case 11:return ct(o.type.render,!1);case 1:return ct(o.type,!0);case 31:return Me("Activity");default:return""}}function Rs(o){try{var u="",h=null;do u+=Zn(o,h),h=o,o=o.return;while(o);return u}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var nn=Object.prototype.hasOwnProperty,vn=t.unstable_scheduleCallback,ca=t.unstable_cancelCallback,Jh=t.unstable_shouldYield,ru=t.unstable_requestPaint,fr=t.unstable_now,no=t.unstable_getCurrentPriorityLevel,iu=t.unstable_ImmediatePriority,su=t.unstable_UserBlockingPriority,ua=t.unstable_NormalPriority,au=t.unstable_LowPriority,ou=t.unstable_IdlePriority,lu=t.log,Ud=t.unstable_setDisableYieldValue,Mr=null,kn=null;function ai(o){if(typeof lu=="function"&&Ud(o),kn&&typeof kn.setStrictMode=="function")try{kn.setStrictMode(Mr,o)}catch{}}var Kt=Math.clz32?Math.clz32:Fd,cu=Math.log,da=Math.LN2;function Fd(o){return o>>>=0,o===0?32:31-(cu(o)/da|0)|0}var _i=256,ro=262144,rn=4194304;function Bt(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function zt(o,u,h){var y=o.pendingLanes;if(y===0)return 0;var w=0,E=o.suspendedLanes,O=o.pingedLanes;o=o.warmLanes;var F=y&134217727;return F!==0?(y=F&~E,y!==0?w=Bt(y):(O&=F,O!==0?w=Bt(O):h||(h=F&~o,h!==0&&(w=Bt(h))))):(F=y&~E,F!==0?w=Bt(F):O!==0?w=Bt(O):h||(h=y&~o,h!==0&&(w=Bt(h)))),w===0?0:u!==0&&u!==w&&(u&E)===0&&(E=w&-w,h=u&-u,E>=h||E===32&&(h&4194048)!==0)?u:w}function jr(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function Nt(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qr(){var o=rn;return rn<<=1,(rn&62914560)===0&&(rn=4194304),o}function Ki(o){for(var u=[],h=0;31>h;h++)u.push(o);return u}function Ls(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function $d(o,u,h,y,w,E){var O=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var F=o.entanglements,q=o.expirationTimes,J=o.hiddenUpdates;for(h=O&~h;0<h;){var ae=31-Kt(h),ue=1<<ae;F[ae]=0,q[ae]=-1;var ee=J[ae];if(ee!==null)for(J[ae]=null,ae=0;ae<ee.length;ae++){var re=ee[ae];re!==null&&(re.lane&=-536870913)}h&=~ue}y!==0&&fa(o,y,0),E!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=E&~(O&~u))}function fa(o,u,h){o.pendingLanes|=u,o.suspendedLanes&=~u;var y=31-Kt(u);o.entangledLanes|=u,o.entanglements[y]=o.entanglements[y]|1073741824|h&261930}function io(o,u){var h=o.entangledLanes|=u;for(o=o.entanglements;h;){var y=31-Kt(h),w=1<<y;w&u|o[y]&u&&(o[y]|=u),h&=~w}}function ha(o,u){var h=u&-u;return h=(h&42)!==0?1:Vs(h),(h&(o.suspendedLanes|u))!==0?0:h}function Vs(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ai(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function pl(){var o=Y.p;return o!==0?o:(o=window.event,o===void 0?32:TP(o.type))}function Ci(o,u){var h=Y.p;try{return Y.p=o,u()}finally{Y.p=h}}var Wr=Math.random().toString(36).slice(2),sn="__reactFiber$"+Wr,_n="__reactProps$"+Wr,Yi="__reactContainer$"+Wr,Ge="__reactEvents$"+Wr,Pt="__reactListeners$"+Wr,Ut="__reactHandles$"+Wr,Ir="__reactResources$"+Wr,un="__reactMarker$"+Wr;function pa(o){delete o[sn],delete o[_n],delete o[Ge],delete o[Pt],delete o[Ut]}function Xi(o){var u=o[sn];if(u)return u;for(var h=o.parentNode;h;){if(u=h[Yi]||h[sn]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(o=oP(o);o!==null;){if(h=o[sn])return h;o=oP(o)}return u}o=h,h=o.parentNode}return null}function oi(o){if(o=o[sn]||o[Yi]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function Oi(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function ma(o){var u=o[Ir];return u||(u=o[Ir]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function An(o){o[un]=!0}var Zh=new Set,ep={};function ga(o,u){ya(o,u),ya(o+"Capture",u)}function ya(o,u){for(ep[o]=u,o=0;o<u.length;o++)Zh.add(u[o])}var tp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),np={},rp={};function N0(o){return nn.call(rp,o)?!0:nn.call(np,o)?!1:tp.test(o)?rp[o]=!0:(np[o]=!0,!1)}function Hd(o,u,h){if(N0(u))if(h===null)o.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var y=u.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+h)}}function Ni(o,u,h){if(h===null)o.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+h)}}function Cn(o,u,h,y){if(y===null)o.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(u,h,""+y)}}function er(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ml(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ip(o,u,h){var y=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var w=y.get,E=y.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return w.call(this)},set:function(O){h=""+O,E.call(this,O)}}),Object.defineProperty(o,u,{enumerable:y.enumerable}),{getValue:function(){return h},setValue:function(O){h=""+O},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function bt(o){if(!o._valueTracker){var u=ml(o)?"checked":"value";o._valueTracker=ip(o,u,""+o[u])}}function uu(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var h=u.getValue(),y="";return o&&(y=ml(o)?o.checked?"true":"false":o.value),o=y,o!==h?(u.setValue(o),!0):!1}function va(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var du=/[\n"\\]/g;function li(o){return o.replace(du,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function qd(o,u,h,y,w,E,O,F){o.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.type=O:o.removeAttribute("type"),u!=null?O==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+er(u)):o.value!==""+er(u)&&(o.value=""+er(u)):O!=="submit"&&O!=="reset"||o.removeAttribute("value"),u!=null?sp(o,O,er(u)):h!=null?sp(o,O,er(h)):y!=null&&o.removeAttribute("value"),w==null&&E!=null&&(o.defaultChecked=!!E),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?o.name=""+er(F):o.removeAttribute("name")}function M0(o,u,h,y,w,E,O,F){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(o.type=E),u!=null||h!=null){if(!(E!=="submit"&&E!=="reset"||u!=null)){bt(o);return}h=h!=null?""+er(h):"",u=u!=null?""+er(u):h,F||u===o.value||(o.value=u),o.defaultValue=u}y=y??w,y=typeof y!="function"&&typeof y!="symbol"&&!!y,o.checked=F?o.checked:!!y,o.defaultChecked=!!y,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.name=O),bt(o)}function sp(o,u,h){u==="number"&&va(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function gl(o,u,h,y){if(o=o.options,u){u={};for(var w=0;w<h.length;w++)u["$"+h[w]]=!0;for(h=0;h<o.length;h++)w=u.hasOwnProperty("$"+o[h].value),o[h].selected!==w&&(o[h].selected=w),w&&y&&(o[h].defaultSelected=!0)}else{for(h=""+er(h),u=null,w=0;w<o.length;w++){if(o[w].value===h){o[w].selected=!0,y&&(o[w].defaultSelected=!0);return}u!==null||o[w].disabled||(u=o[w])}u!==null&&(u.selected=!0)}}function j0(o,u,h){if(u!=null&&(u=""+er(u),u!==o.value&&(o.value=u),h==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=h!=null?""+er(h):""}function yl(o,u,h,y){if(u==null){if(y!=null){if(h!=null)throw Error(r(92));if(oe(y)){if(1<y.length)throw Error(r(93));y=y[0]}h=y}h==null&&(h=""),u=h}h=er(u),o.defaultValue=h,y=o.textContent,y===h&&y!==""&&y!==null&&(o.value=y),bt(o)}function ci(o,u){if(u){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=u;return}}o.textContent=u}var I0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ap(o,u,h){var y=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?y?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":y?o.setProperty(u,h):typeof h!="number"||h===0||I0.has(u)?u==="float"?o.cssFloat=h:o[u]=(""+h).trim():o[u]=h+"px"}function op(o,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,h!=null){for(var y in h)!h.hasOwnProperty(y)||u!=null&&u.hasOwnProperty(y)||(y.indexOf("--")===0?o.setProperty(y,""):y==="float"?o.cssFloat="":o[y]="");for(var w in u)y=u[w],u.hasOwnProperty(w)&&h[w]!==y&&ap(o,w,y)}else for(var E in u)u.hasOwnProperty(E)&&ap(o,E,u[E])}function Wd(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var D0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gd(o){return vl.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Bs(){}var lp=null;function Qi(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var bl=null,ba=null;function fu(o){var u=oi(o);if(u&&(o=u.stateNode)){var h=o[_n]||null;e:switch(o=u.stateNode,u.type){case"input":if(qd(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+li(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var y=h[u];if(y!==o&&y.form===o.form){var w=y[_n]||null;if(!w)throw Error(r(90));qd(y,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(u=0;u<h.length;u++)y=h[u],y.form===o.form&&uu(y)}break e;case"textarea":j0(o,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&gl(o,!!h.multiple,u,!1)}}}var Kd=!1;function xl(o,u,h){if(Kd)return o(u,h);Kd=!0;try{var y=o(u);return y}finally{if(Kd=!1,(bl!==null||ba!==null)&&(Ay(),bl&&(u=bl,o=ba,ba=bl=null,fu(u),o)))for(u=0;u<o.length;u++)fu(o[u])}}function zs(o,u){var h=o.stateNode;if(h===null)return null;var y=h[_n]||null;if(y===null)return null;h=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var Ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hu=!1;if(Ji)try{var kt={};Object.defineProperty(kt,"passive",{get:function(){hu=!0}}),window.addEventListener("test",kt,kt),window.removeEventListener("test",kt,kt)}catch{hu=!1}var xa=null,cp=null,pu=null;function up(){if(pu)return pu;var o,u=cp,h=u.length,y,w="value"in xa?xa.value:xa.textContent,E=w.length;for(o=0;o<h&&u[o]===w[o];o++);var O=h-o;for(y=1;y<=O&&u[h-y]===w[E-y];y++);return pu=w.slice(o,1<y?1-y:void 0)}function mu(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function so(){return!0}function Us(){return!1}function hr(o){function u(h,y,w,E,O){this._reactName=h,this._targetInst=w,this.type=y,this.nativeEvent=E,this.target=O,this.currentTarget=null;for(var F in o)o.hasOwnProperty(F)&&(h=o[F],this[F]=h?h(E):E[F]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?so:Us,this.isPropagationStopped=Us,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),u}var ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=hr(ao),wl=p({},ao,{view:0,detail:0}),dp=hr(wl),Sl,Yd,Sa,Xd=p({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tl,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Sa&&(Sa&&o.type==="mousemove"?(Sl=o.screenX-Sa.screenX,Yd=o.screenY-Sa.screenY):Yd=Sl=0,Sa=o),Sl)},movementY:function(o){return"movementY"in o?o.movementY:Yd}}),fp=hr(Xd),gu=p({},Xd,{dataTransfer:0}),P0=hr(gu),R0=p({},wl,{relatedTarget:0}),yu=hr(R0),hp=p({},ao,{animationName:0,elapsedTime:0,pseudoElement:0}),L0=hr(hp),Qd=p({},ao,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),V0=hr(Qd),B0=p({},ao,{data:0}),Ta=hr(B0),z0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $0(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=F0[o])?!!u[o]:!1}function Tl(){return $0}var Gr=p({},wl,{key:function(o){if(o.key){var u=z0[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=mu(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?U0[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tl,charCode:function(o){return o.type==="keypress"?mu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?mu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),H0=hr(Gr),q0=p({},Xd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oo=hr(q0),x=p({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tl}),A=hr(x),I=p({},ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),$=hr(I),X=p({},Xd,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),te=hr(X),xe=p({},ao,{newState:0,oldState:0}),Ke=hr(xe),bn=[9,13,27,32],mt=Ji&&"CompositionEvent"in window,Yt=null;Ji&&"documentMode"in document&&(Yt=document.documentMode);var Zi=Ji&&"TextEvent"in window&&!Yt,Ea=Ji&&(!mt||Yt&&8<Yt&&11>=Yt),Fs=" ",$s=!1;function vu(o,u){switch(o){case"keyup":return bn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jd(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Zd=!1;function lX(o,u){switch(o){case"compositionend":return Jd(u);case"keypress":return u.which!==32?null:($s=!0,Fs);case"textInput":return o=u.data,o===Fs&&$s?null:o;default:return null}}function cX(o,u){if(Zd)return o==="compositionend"||!mt&&vu(o,u)?(o=up(),pu=cp=xa=null,Zd=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ea&&u.locale!=="ko"?null:u.data;default:return null}}var uX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uj(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!uX[o.type]:u==="textarea"}function dj(o,u,h,y){bl?ba?ba.push(y):ba=[y]:bl=y,u=Dy(u,"onChange"),0<u.length&&(h=new wa("onChange","change",null,h,y),o.push({event:h,listeners:u}))}var pp=null,mp=null;function dX(o){GD(o,0)}function W0(o){var u=Oi(o);if(uu(u))return o}function fj(o,u){if(o==="change")return u}var hj=!1;if(Ji){var F1;if(Ji){var $1="oninput"in document;if(!$1){var pj=document.createElement("div");pj.setAttribute("oninput","return;"),$1=typeof pj.oninput=="function"}F1=$1}else F1=!1;hj=F1&&(!document.documentMode||9<document.documentMode)}function mj(){pp&&(pp.detachEvent("onpropertychange",gj),mp=pp=null)}function gj(o){if(o.propertyName==="value"&&W0(mp)){var u=[];dj(u,mp,o,Qi(o)),xl(dX,u)}}function fX(o,u,h){o==="focusin"?(mj(),pp=u,mp=h,pp.attachEvent("onpropertychange",gj)):o==="focusout"&&mj()}function hX(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return W0(mp)}function pX(o,u){if(o==="click")return W0(u)}function mX(o,u){if(o==="input"||o==="change")return W0(u)}function gX(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Mi=typeof Object.is=="function"?Object.is:gX;function gp(o,u){if(Mi(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var h=Object.keys(o),y=Object.keys(u);if(h.length!==y.length)return!1;for(y=0;y<h.length;y++){var w=h[y];if(!nn.call(u,w)||!Mi(o[w],u[w]))return!1}return!0}function yj(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function vj(o,u){var h=yj(o);o=0;for(var y;h;){if(h.nodeType===3){if(y=o+h.textContent.length,o<=u&&y>=u)return{node:h,offset:u-o};o=y}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=yj(h)}}function bj(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?bj(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function xj(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=va(o.document);u instanceof o.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)o=u.contentWindow;else break;u=va(o.document)}return u}function H1(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var yX=Ji&&"documentMode"in document&&11>=document.documentMode,ef=null,q1=null,yp=null,W1=!1;function wj(o,u,h){var y=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;W1||ef==null||ef!==va(y)||(y=ef,"selectionStart"in y&&H1(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),yp&&gp(yp,y)||(yp=y,y=Dy(q1,"onSelect"),0<y.length&&(u=new wa("onSelect","select",null,u,h),o.push({event:u,listeners:y}),u.target=ef)))}function bu(o,u){var h={};return h[o.toLowerCase()]=u.toLowerCase(),h["Webkit"+o]="webkit"+u,h["Moz"+o]="moz"+u,h}var tf={animationend:bu("Animation","AnimationEnd"),animationiteration:bu("Animation","AnimationIteration"),animationstart:bu("Animation","AnimationStart"),transitionrun:bu("Transition","TransitionRun"),transitionstart:bu("Transition","TransitionStart"),transitioncancel:bu("Transition","TransitionCancel"),transitionend:bu("Transition","TransitionEnd")},G1={},Sj={};Ji&&(Sj=document.createElement("div").style,"AnimationEvent"in window||(delete tf.animationend.animation,delete tf.animationiteration.animation,delete tf.animationstart.animation),"TransitionEvent"in window||delete tf.transitionend.transition);function xu(o){if(G1[o])return G1[o];if(!tf[o])return o;var u=tf[o],h;for(h in u)if(u.hasOwnProperty(h)&&h in Sj)return G1[o]=u[h];return o}var Tj=xu("animationend"),Ej=xu("animationiteration"),kj=xu("animationstart"),vX=xu("transitionrun"),bX=xu("transitionstart"),xX=xu("transitioncancel"),_j=xu("transitionend"),Aj=new Map,K1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");K1.push("scrollEnd");function Hs(o,u){Aj.set(o,u),ga(u,[o])}var G0=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},es=[],nf=0,Y1=0;function K0(){for(var o=nf,u=Y1=nf=0;u<o;){var h=es[u];es[u++]=null;var y=es[u];es[u++]=null;var w=es[u];es[u++]=null;var E=es[u];if(es[u++]=null,y!==null&&w!==null){var O=y.pending;O===null?w.next=w:(w.next=O.next,O.next=w),y.pending=w}E!==0&&Cj(h,w,E)}}function Y0(o,u,h,y){es[nf++]=o,es[nf++]=u,es[nf++]=h,es[nf++]=y,Y1|=y,o.lanes|=y,o=o.alternate,o!==null&&(o.lanes|=y)}function X1(o,u,h,y){return Y0(o,u,h,y),X0(o)}function wu(o,u){return Y0(o,null,null,u),X0(o)}function Cj(o,u,h){o.lanes|=h;var y=o.alternate;y!==null&&(y.lanes|=h);for(var w=!1,E=o.return;E!==null;)E.childLanes|=h,y=E.alternate,y!==null&&(y.childLanes|=h),E.tag===22&&(o=E.stateNode,o===null||o._visibility&1||(w=!0)),o=E,E=E.return;return o.tag===3?(E=o.stateNode,w&&u!==null&&(w=31-Kt(h),o=E.hiddenUpdates,y=o[w],y===null?o[w]=[u]:y.push(u),u.lane=h|536870912),E):null}function X0(o){if(50<Bp)throw Bp=0,sT=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var rf={};function wX(o,u,h,y){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(o,u,h,y){return new wX(o,u,h,y)}function Q1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function lo(o,u){var h=o.alternate;return h===null?(h=ji(o.tag,u,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=u,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,u=o.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function Oj(o,u){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,u=h.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Q0(o,u,h,y,w,E){var O=0;if(y=o,typeof o=="function")Q1(o)&&(O=1);else if(typeof o=="string")O=_Q(o,h,be.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case P:return o=ji(31,h,u,w),o.elementType=P,o.lanes=E,o;case T:return Su(h.children,w,E,u);case S:O=8,w|=24;break;case k:return o=ji(12,h,u,w|2),o.elementType=k,o.lanes=E,o;case D:return o=ji(13,h,u,w),o.elementType=D,o.lanes=E,o;case z:return o=ji(19,h,u,w),o.elementType=z,o.lanes=E,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case N:O=10;break e;case C:O=9;break e;case R:O=11;break e;case j:O=14;break e;case M:O=16,y=null;break e}O=29,h=Error(r(130,o===null?"null":typeof o,"")),y=null}return u=ji(O,h,u,w),u.elementType=o,u.type=y,u.lanes=E,u}function Su(o,u,h,y){return o=ji(7,o,y,u),o.lanes=h,o}function J1(o,u,h){return o=ji(6,o,null,u),o.lanes=h,o}function Nj(o){var u=ji(18,null,null,0);return u.stateNode=o,u}function Z1(o,u,h){return u=ji(4,o.children!==null?o.children:[],o.key,u),u.lanes=h,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Mj=new WeakMap;function ts(o,u){if(typeof o=="object"&&o!==null){var h=Mj.get(o);return h!==void 0?h:(u={value:o,source:u,stack:Rs(u)},Mj.set(o,u),u)}return{value:o,source:u,stack:Rs(u)}}var sf=[],af=0,J0=null,vp=0,ns=[],rs=0,El=null,ka=1,_a="";function co(o,u){sf[af++]=vp,sf[af++]=J0,J0=o,vp=u}function jj(o,u,h){ns[rs++]=ka,ns[rs++]=_a,ns[rs++]=El,El=o;var y=ka;o=_a;var w=32-Kt(y)-1;y&=~(1<<w),h+=1;var E=32-Kt(u)+w;if(30<E){var O=w-w%5;E=(y&(1<<O)-1).toString(32),y>>=O,w-=O,ka=1<<32-Kt(u)+w|h<<w|y,_a=E+o}else ka=1<<E|h<<w|y,_a=o}function eS(o){o.return!==null&&(co(o,1),jj(o,1,0))}function tS(o){for(;o===J0;)J0=sf[--af],sf[af]=null,vp=sf[--af],sf[af]=null;for(;o===El;)El=ns[--rs],ns[rs]=null,_a=ns[--rs],ns[rs]=null,ka=ns[--rs],ns[rs]=null}function Ij(o,u){ns[rs++]=ka,ns[rs++]=_a,ns[rs++]=El,ka=u.id,_a=u.overflow,El=o}var pr=null,Ft=null,lt=!1,kl=null,is=!1,nS=Error(r(519));function _l(o){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bp(ts(u,o)),nS}function Dj(o){var u=o.stateNode,h=o.type,y=o.memoizedProps;switch(u[sn]=o,u[_n]=y,h){case"dialog":nt("cancel",u),nt("close",u);break;case"iframe":case"object":case"embed":nt("load",u);break;case"video":case"audio":for(h=0;h<Up.length;h++)nt(Up[h],u);break;case"source":nt("error",u);break;case"img":case"image":case"link":nt("error",u),nt("load",u);break;case"details":nt("toggle",u);break;case"input":nt("invalid",u),M0(u,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":nt("invalid",u);break;case"textarea":nt("invalid",u),yl(u,y.value,y.defaultValue,y.children)}h=y.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||y.suppressHydrationWarning===!0||QD(u.textContent,h)?(y.popover!=null&&(nt("beforetoggle",u),nt("toggle",u)),y.onScroll!=null&&nt("scroll",u),y.onScrollEnd!=null&&nt("scrollend",u),y.onClick!=null&&(u.onclick=Bs),u=!0):u=!1,u||_l(o,!0)}function Pj(o){for(pr=o.return;pr;)switch(pr.tag){case 5:case 31:case 13:is=!1;return;case 27:case 3:is=!0;return;default:pr=pr.return}}function of(o){if(o!==pr)return!1;if(!lt)return Pj(o),lt=!0,!1;var u=o.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||xT(o.type,o.memoizedProps)),h=!h),h&&Ft&&_l(o),Pj(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Ft=aP(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Ft=aP(o)}else u===27?(u=Ft,zl(o.type)?(o=kT,kT=null,Ft=o):Ft=u):Ft=pr?as(o.stateNode.nextSibling):null;return!0}function Tu(){Ft=pr=null,lt=!1}function rS(){var o=kl;return o!==null&&(hi===null?hi=o:hi.push.apply(hi,o),kl=null),o}function bp(o){kl===null?kl=[o]:kl.push(o)}var iS=H(null),Eu=null,uo=null;function Al(o,u,h){ye(iS,u._currentValue),u._currentValue=h}function fo(o){o._currentValue=iS.current,ne(iS)}function sS(o,u,h){for(;o!==null;){var y=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),o===h)break;o=o.return}}function aS(o,u,h,y){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var E=w.dependencies;if(E!==null){var O=w.child;E=E.firstContext;e:for(;E!==null;){var F=E;E=w;for(var q=0;q<u.length;q++)if(F.context===u[q]){E.lanes|=h,F=E.alternate,F!==null&&(F.lanes|=h),sS(E.return,h,o),y||(O=null);break e}E=F.next}}else if(w.tag===18){if(O=w.return,O===null)throw Error(r(341));O.lanes|=h,E=O.alternate,E!==null&&(E.lanes|=h),sS(O,h,o),O=null}else O=w.child;if(O!==null)O.return=w;else for(O=w;O!==null;){if(O===o){O=null;break}if(w=O.sibling,w!==null){w.return=O.return,O=w;break}O=O.return}w=O}}function lf(o,u,h,y){o=null;for(var w=u,E=!1;w!==null;){if(!E){if((w.flags&524288)!==0)E=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var O=w.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var F=w.type;Mi(w.pendingProps.value,O.value)||(o!==null?o.push(F):o=[F])}}else if(w===we.current){if(O=w.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(Wp):o=[Wp])}w=w.return}o!==null&&aS(u,o,h,y),u.flags|=262144}function Z0(o){for(o=o.firstContext;o!==null;){if(!Mi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function ku(o){Eu=o,uo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function mr(o){return Rj(Eu,o)}function ey(o,u){return Eu===null&&ku(o),Rj(o,u)}function Rj(o,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},uo===null){if(o===null)throw Error(r(308));uo=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else uo=uo.next=u;return h}var SX=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(h,y){o.push(y)}};this.abort=function(){u.aborted=!0,o.forEach(function(h){return h()})}},TX=t.unstable_scheduleCallback,EX=t.unstable_NormalPriority,On={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oS(){return{controller:new SX,data:new Map,refCount:0}}function xp(o){o.refCount--,o.refCount===0&&TX(EX,function(){o.controller.abort()})}var wp=null,lS=0,cf=0,uf=null;function kX(o,u){if(wp===null){var h=wp=[];lS=0,cf=dT(),uf={status:"pending",value:void 0,then:function(y){h.push(y)}}}return lS++,u.then(Lj,Lj),u}function Lj(){if(--lS===0&&wp!==null){uf!==null&&(uf.status="fulfilled");var o=wp;wp=null,cf=0,uf=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function _X(o,u){var h=[],y={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return o.then(function(){y.status="fulfilled",y.value=u;for(var w=0;w<h.length;w++)(0,h[w])(u)},function(w){for(y.status="rejected",y.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),y}var Vj=W.S;W.S=function(o,u){wD=fr(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&kX(o,u),Vj!==null&&Vj(o,u)};var _u=H(null);function cS(){var o=_u.current;return o!==null?o:Mt.pooledCache}function ty(o,u){u===null?ye(_u,_u.current):ye(_u,u.pool)}function Bj(){var o=cS();return o===null?null:{parent:On._currentValue,pool:o}}var df=Error(r(460)),uS=Error(r(474)),ny=Error(r(542)),ry={then:function(){}};function zj(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Uj(o,u,h){switch(h=o[h],h===void 0?o.push(u):h!==u&&(u.then(Bs,Bs),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,$j(o),o;default:if(typeof u.status=="string")u.then(Bs,Bs);else{if(o=Mt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(y){if(u.status==="pending"){var w=u;w.status="fulfilled",w.value=y}},function(y){if(u.status==="pending"){var w=u;w.status="rejected",w.reason=y}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,$j(o),o}throw Cu=u,df}}function Au(o){try{var u=o._init;return u(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Cu=h,df):h}}var Cu=null;function Fj(){if(Cu===null)throw Error(r(459));var o=Cu;return Cu=null,o}function $j(o){if(o===df||o===ny)throw Error(r(483))}var ff=null,Sp=0;function iy(o){var u=Sp;return Sp+=1,ff===null&&(ff=[]),Uj(ff,o,u)}function Tp(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function sy(o,u){throw u.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function Hj(o){function u(K,G){if(o){var Q=K.deletions;Q===null?(K.deletions=[G],K.flags|=16):Q.push(G)}}function h(K,G){if(!o)return null;for(;G!==null;)u(K,G),G=G.sibling;return null}function y(K){for(var G=new Map;K!==null;)K.key!==null?G.set(K.key,K):G.set(K.index,K),K=K.sibling;return G}function w(K,G){return K=lo(K,G),K.index=0,K.sibling=null,K}function E(K,G,Q){return K.index=Q,o?(Q=K.alternate,Q!==null?(Q=Q.index,Q<G?(K.flags|=67108866,G):Q):(K.flags|=67108866,G)):(K.flags|=1048576,G)}function O(K){return o&&K.alternate===null&&(K.flags|=67108866),K}function F(K,G,Q,le){return G===null||G.tag!==6?(G=J1(Q,K.mode,le),G.return=K,G):(G=w(G,Q),G.return=K,G)}function q(K,G,Q,le){var Ie=Q.type;return Ie===T?ae(K,G,Q.props.children,le,Q.key):G!==null&&(G.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===M&&Au(Ie)===G.type)?(G=w(G,Q.props),Tp(G,Q),G.return=K,G):(G=Q0(Q.type,Q.key,Q.props,null,K.mode,le),Tp(G,Q),G.return=K,G)}function J(K,G,Q,le){return G===null||G.tag!==4||G.stateNode.containerInfo!==Q.containerInfo||G.stateNode.implementation!==Q.implementation?(G=Z1(Q,K.mode,le),G.return=K,G):(G=w(G,Q.children||[]),G.return=K,G)}function ae(K,G,Q,le,Ie){return G===null||G.tag!==7?(G=Su(Q,K.mode,le,Ie),G.return=K,G):(G=w(G,Q),G.return=K,G)}function ue(K,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=J1(""+G,K.mode,Q),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v:return Q=Q0(G.type,G.key,G.props,null,K.mode,Q),Tp(Q,G),Q.return=K,Q;case b:return G=Z1(G,K.mode,Q),G.return=K,G;case M:return G=Au(G),ue(K,G,Q)}if(oe(G)||V(G))return G=Su(G,K.mode,Q,null),G.return=K,G;if(typeof G.then=="function")return ue(K,iy(G),Q);if(G.$$typeof===N)return ue(K,ey(K,G),Q);sy(K,G)}return null}function ee(K,G,Q,le){var Ie=G!==null?G.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ie!==null?null:F(K,G,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return Q.key===Ie?q(K,G,Q,le):null;case b:return Q.key===Ie?J(K,G,Q,le):null;case M:return Q=Au(Q),ee(K,G,Q,le)}if(oe(Q)||V(Q))return Ie!==null?null:ae(K,G,Q,le,null);if(typeof Q.then=="function")return ee(K,G,iy(Q),le);if(Q.$$typeof===N)return ee(K,G,ey(K,Q),le);sy(K,Q)}return null}function re(K,G,Q,le,Ie){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return K=K.get(Q)||null,F(G,K,""+le,Ie);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case v:return K=K.get(le.key===null?Q:le.key)||null,q(G,K,le,Ie);case b:return K=K.get(le.key===null?Q:le.key)||null,J(G,K,le,Ie);case M:return le=Au(le),re(K,G,Q,le,Ie)}if(oe(le)||V(le))return K=K.get(Q)||null,ae(G,K,le,Ie,null);if(typeof le.then=="function")return re(K,G,Q,iy(le),Ie);if(le.$$typeof===N)return re(K,G,Q,ey(G,le),Ie);sy(G,le)}return null}function Oe(K,G,Q,le){for(var Ie=null,ft=null,Ne=G,Qe=G=0,it=null;Ne!==null&&Qe<Q.length;Qe++){Ne.index>Qe?(it=Ne,Ne=null):it=Ne.sibling;var ht=ee(K,Ne,Q[Qe],le);if(ht===null){Ne===null&&(Ne=it);break}o&&Ne&&ht.alternate===null&&u(K,Ne),G=E(ht,G,Qe),ft===null?Ie=ht:ft.sibling=ht,ft=ht,Ne=it}if(Qe===Q.length)return h(K,Ne),lt&&co(K,Qe),Ie;if(Ne===null){for(;Qe<Q.length;Qe++)Ne=ue(K,Q[Qe],le),Ne!==null&&(G=E(Ne,G,Qe),ft===null?Ie=Ne:ft.sibling=Ne,ft=Ne);return lt&&co(K,Qe),Ie}for(Ne=y(Ne);Qe<Q.length;Qe++)it=re(Ne,K,Qe,Q[Qe],le),it!==null&&(o&&it.alternate!==null&&Ne.delete(it.key===null?Qe:it.key),G=E(it,G,Qe),ft===null?Ie=it:ft.sibling=it,ft=it);return o&&Ne.forEach(function(ql){return u(K,ql)}),lt&&co(K,Qe),Ie}function Be(K,G,Q,le){if(Q==null)throw Error(r(151));for(var Ie=null,ft=null,Ne=G,Qe=G=0,it=null,ht=Q.next();Ne!==null&&!ht.done;Qe++,ht=Q.next()){Ne.index>Qe?(it=Ne,Ne=null):it=Ne.sibling;var ql=ee(K,Ne,ht.value,le);if(ql===null){Ne===null&&(Ne=it);break}o&&Ne&&ql.alternate===null&&u(K,Ne),G=E(ql,G,Qe),ft===null?Ie=ql:ft.sibling=ql,ft=ql,Ne=it}if(ht.done)return h(K,Ne),lt&&co(K,Qe),Ie;if(Ne===null){for(;!ht.done;Qe++,ht=Q.next())ht=ue(K,ht.value,le),ht!==null&&(G=E(ht,G,Qe),ft===null?Ie=ht:ft.sibling=ht,ft=ht);return lt&&co(K,Qe),Ie}for(Ne=y(Ne);!ht.done;Qe++,ht=Q.next())ht=re(Ne,K,Qe,ht.value,le),ht!==null&&(o&&ht.alternate!==null&&Ne.delete(ht.key===null?Qe:ht.key),G=E(ht,G,Qe),ft===null?Ie=ht:ft.sibling=ht,ft=ht);return o&&Ne.forEach(function(LQ){return u(K,LQ)}),lt&&co(K,Qe),Ie}function Ct(K,G,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===T&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:e:{for(var Ie=Q.key;G!==null;){if(G.key===Ie){if(Ie=Q.type,Ie===T){if(G.tag===7){h(K,G.sibling),le=w(G,Q.props.children),le.return=K,K=le;break e}}else if(G.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===M&&Au(Ie)===G.type){h(K,G.sibling),le=w(G,Q.props),Tp(le,Q),le.return=K,K=le;break e}h(K,G);break}else u(K,G);G=G.sibling}Q.type===T?(le=Su(Q.props.children,K.mode,le,Q.key),le.return=K,K=le):(le=Q0(Q.type,Q.key,Q.props,null,K.mode,le),Tp(le,Q),le.return=K,K=le)}return O(K);case b:e:{for(Ie=Q.key;G!==null;){if(G.key===Ie)if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){h(K,G.sibling),le=w(G,Q.children||[]),le.return=K,K=le;break e}else{h(K,G);break}else u(K,G);G=G.sibling}le=Z1(Q,K.mode,le),le.return=K,K=le}return O(K);case M:return Q=Au(Q),Ct(K,G,Q,le)}if(oe(Q))return Oe(K,G,Q,le);if(V(Q)){if(Ie=V(Q),typeof Ie!="function")throw Error(r(150));return Q=Ie.call(Q),Be(K,G,Q,le)}if(typeof Q.then=="function")return Ct(K,G,iy(Q),le);if(Q.$$typeof===N)return Ct(K,G,ey(K,Q),le);sy(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,G!==null&&G.tag===6?(h(K,G.sibling),le=w(G,Q),le.return=K,K=le):(h(K,G),le=J1(Q,K.mode,le),le.return=K,K=le),O(K)):h(K,G)}return function(K,G,Q,le){try{Sp=0;var Ie=Ct(K,G,Q,le);return ff=null,Ie}catch(Ne){if(Ne===df||Ne===ny)throw Ne;var ft=ji(29,Ne,null,K.mode);return ft.lanes=le,ft.return=K,ft}finally{}}}var Ou=Hj(!0),qj=Hj(!1),Cl=!1;function dS(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fS(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ol(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Nl(o,u,h){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(gt&2)!==0){var w=y.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),y.pending=u,u=X0(o),Cj(o,null,h),u}return Y0(o,y,u,h),X0(o)}function Ep(o,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var y=u.lanes;y&=o.pendingLanes,h|=y,u.lanes=h,io(o,h)}}function hS(o,u){var h=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,h===y)){var w=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var O={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};E===null?w=E=O:E=E.next=O,h=h.next}while(h!==null);E===null?w=E=u:E=E.next=u}else w=E=u;h={baseState:y.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:y.shared,callbacks:y.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=u}var pS=!1;function kp(){if(pS){var o=uf;if(o!==null)throw o}}function _p(o,u,h,y){pS=!1;var w=o.updateQueue;Cl=!1;var E=w.firstBaseUpdate,O=w.lastBaseUpdate,F=w.shared.pending;if(F!==null){w.shared.pending=null;var q=F,J=q.next;q.next=null,O===null?E=J:O.next=J,O=q;var ae=o.alternate;ae!==null&&(ae=ae.updateQueue,F=ae.lastBaseUpdate,F!==O&&(F===null?ae.firstBaseUpdate=J:F.next=J,ae.lastBaseUpdate=q))}if(E!==null){var ue=w.baseState;O=0,ae=J=q=null,F=E;do{var ee=F.lane&-536870913,re=ee!==F.lane;if(re?(rt&ee)===ee:(y&ee)===ee){ee!==0&&ee===cf&&(pS=!0),ae!==null&&(ae=ae.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Oe=o,Be=F;ee=u;var Ct=h;switch(Be.tag){case 1:if(Oe=Be.payload,typeof Oe=="function"){ue=Oe.call(Ct,ue,ee);break e}ue=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Be.payload,ee=typeof Oe=="function"?Oe.call(Ct,ue,ee):Oe,ee==null)break e;ue=p({},ue,ee);break e;case 2:Cl=!0}}ee=F.callback,ee!==null&&(o.flags|=64,re&&(o.flags|=8192),re=w.callbacks,re===null?w.callbacks=[ee]:re.push(ee))}else re={lane:ee,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ae===null?(J=ae=re,q=ue):ae=ae.next=re,O|=ee;if(F=F.next,F===null){if(F=w.shared.pending,F===null)break;re=F,F=re.next,re.next=null,w.lastBaseUpdate=re,w.shared.pending=null}}while(!0);ae===null&&(q=ue),w.baseState=q,w.firstBaseUpdate=J,w.lastBaseUpdate=ae,E===null&&(w.shared.lanes=0),Pl|=O,o.lanes=O,o.memoizedState=ue}}function Wj(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function Gj(o,u){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)Wj(h[o],u)}var hf=H(null),ay=H(0);function Kj(o,u){o=wo,ye(ay,o),ye(hf,u),wo=o|u.baseLanes}function mS(){ye(ay,wo),ye(hf,hf.current)}function gS(){wo=ay.current,ne(hf),ne(ay)}var Ii=H(null),ss=null;function Ml(o){var u=o.alternate;ye(xn,xn.current&1),ye(Ii,o),ss===null&&(u===null||hf.current!==null||u.memoizedState!==null)&&(ss=o)}function yS(o){ye(xn,xn.current),ye(Ii,o),ss===null&&(ss=o)}function Yj(o){o.tag===22?(ye(xn,xn.current),ye(Ii,o),ss===null&&(ss=o)):jl()}function jl(){ye(xn,xn.current),ye(Ii,Ii.current)}function Di(o){ne(Ii),ss===o&&(ss=null),ne(xn)}var xn=H(0);function oy(o){for(var u=o;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||TT(h)||ET(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var ho=0,Ye=null,_t=null,Nn=null,ly=!1,pf=!1,Nu=!1,cy=0,Ap=0,mf=null,AX=0;function dn(){throw Error(r(321))}function vS(o,u){if(u===null)return!1;for(var h=0;h<u.length&&h<o.length;h++)if(!Mi(o[h],u[h]))return!1;return!0}function bS(o,u,h,y,w,E){return ho=E,Ye=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,W.H=o===null||o.memoizedState===null?jI:DS,Nu=!1,E=h(y,w),Nu=!1,pf&&(E=Qj(u,h,y,w)),Xj(o),E}function Xj(o){W.H=Np;var u=_t!==null&&_t.next!==null;if(ho=0,Nn=_t=Ye=null,ly=!1,Ap=0,mf=null,u)throw Error(r(300));o===null||Mn||(o=o.dependencies,o!==null&&Z0(o)&&(Mn=!0))}function Qj(o,u,h,y){Ye=o;var w=0;do{if(pf&&(mf=null),Ap=0,pf=!1,25<=w)throw Error(r(301));if(w+=1,Nn=_t=null,o.updateQueue!=null){var E=o.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}W.H=II,E=u(h,y)}while(pf);return E}function CX(){var o=W.H,u=o.useState()[0];return u=typeof u.then=="function"?Cp(u):u,o=o.useState()[0],(_t!==null?_t.memoizedState:null)!==o&&(Ye.flags|=1024),u}function xS(){var o=cy!==0;return cy=0,o}function wS(o,u,h){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~h}function SS(o){if(ly){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}ly=!1}ho=0,Nn=_t=Ye=null,pf=!1,Ap=cy=0,mf=null}function Kr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Ye.memoizedState=Nn=o:Nn=Nn.next=o,Nn}function wn(){if(_t===null){var o=Ye.alternate;o=o!==null?o.memoizedState:null}else o=_t.next;var u=Nn===null?Ye.memoizedState:Nn.next;if(u!==null)Nn=u,_t=o;else{if(o===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));_t=o,o={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Nn===null?Ye.memoizedState=Nn=o:Nn=Nn.next=o}return Nn}function uy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cp(o){var u=Ap;return Ap+=1,mf===null&&(mf=[]),o=Uj(mf,o,u),u=Ye,(Nn===null?u.memoizedState:Nn.next)===null&&(u=u.alternate,W.H=u===null||u.memoizedState===null?jI:DS),o}function dy(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Cp(o);if(o.$$typeof===N)return mr(o)}throw Error(r(438,String(o)))}function TS(o){var u=null,h=Ye.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var y=Ye.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(u={data:y.data.map(function(w){return w.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=uy(),Ye.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(o),y=0;y<o;y++)h[y]=B;return u.index++,h}function po(o,u){return typeof u=="function"?u(o):u}function fy(o){var u=wn();return ES(u,_t,o)}function ES(o,u,h){var y=o.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=h;var w=o.baseQueue,E=y.pending;if(E!==null){if(w!==null){var O=w.next;w.next=E.next,E.next=O}u.baseQueue=w=E,y.pending=null}if(E=o.baseState,w===null)o.memoizedState=E;else{u=w.next;var F=O=null,q=null,J=u,ae=!1;do{var ue=J.lane&-536870913;if(ue!==J.lane?(rt&ue)===ue:(ho&ue)===ue){var ee=J.revertLane;if(ee===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ue===cf&&(ae=!0);else if((ho&ee)===ee){J=J.next,ee===cf&&(ae=!0);continue}else ue={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(F=q=ue,O=E):q=q.next=ue,Ye.lanes|=ee,Pl|=ee;ue=J.action,Nu&&h(E,ue),E=J.hasEagerState?J.eagerState:h(E,ue)}else ee={lane:ue,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(F=q=ee,O=E):q=q.next=ee,Ye.lanes|=ue,Pl|=ue;J=J.next}while(J!==null&&J!==u);if(q===null?O=E:q.next=F,!Mi(E,o.memoizedState)&&(Mn=!0,ae&&(h=uf,h!==null)))throw h;o.memoizedState=E,o.baseState=O,o.baseQueue=q,y.lastRenderedState=E}return w===null&&(y.lanes=0),[o.memoizedState,y.dispatch]}function kS(o){var u=wn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var y=h.dispatch,w=h.pending,E=u.memoizedState;if(w!==null){h.pending=null;var O=w=w.next;do E=o(E,O.action),O=O.next;while(O!==w);Mi(E,u.memoizedState)||(Mn=!0),u.memoizedState=E,u.baseQueue===null&&(u.baseState=E),h.lastRenderedState=E}return[E,y]}function Jj(o,u,h){var y=Ye,w=wn(),E=lt;if(E){if(h===void 0)throw Error(r(407));h=h()}else h=u();var O=!Mi((_t||w).memoizedState,h);if(O&&(w.memoizedState=h,Mn=!0),w=w.queue,CS(tI.bind(null,y,w,o),[o]),w.getSnapshot!==u||O||Nn!==null&&Nn.memoizedState.tag&1){if(y.flags|=2048,gf(9,{destroy:void 0},eI.bind(null,y,w,h,u),null),Mt===null)throw Error(r(349));E||(ho&127)!==0||Zj(y,u,h)}return h}function Zj(o,u,h){o.flags|=16384,o={getSnapshot:u,value:h},u=Ye.updateQueue,u===null?(u=uy(),Ye.updateQueue=u,u.stores=[o]):(h=u.stores,h===null?u.stores=[o]:h.push(o))}function eI(o,u,h,y){u.value=h,u.getSnapshot=y,nI(u)&&rI(o)}function tI(o,u,h){return h(function(){nI(u)&&rI(o)})}function nI(o){var u=o.getSnapshot;o=o.value;try{var h=u();return!Mi(o,h)}catch{return!0}}function rI(o){var u=wu(o,2);u!==null&&pi(u,o,2)}function _S(o){var u=Kr();if(typeof o=="function"){var h=o;if(o=h(),Nu){ai(!0);try{h()}finally{ai(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:o},u}function iI(o,u,h,y){return o.baseState=h,ES(o,_t,typeof y=="function"?y:po)}function OX(o,u,h,y,w){if(my(o))throw Error(r(485));if(o=u.action,o!==null){var E={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){E.listeners.push(O)}};W.T!==null?h(!0):E.isTransition=!1,y(E),h=u.pending,h===null?(E.next=u.pending=E,sI(u,E)):(E.next=h.next,u.pending=h.next=E)}}function sI(o,u){var h=u.action,y=u.payload,w=o.state;if(u.isTransition){var E=W.T,O={};W.T=O;try{var F=h(w,y),q=W.S;q!==null&&q(O,F),aI(o,u,F)}catch(J){AS(o,u,J)}finally{E!==null&&O.types!==null&&(E.types=O.types),W.T=E}}else try{E=h(w,y),aI(o,u,E)}catch(J){AS(o,u,J)}}function aI(o,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(y){oI(o,u,y)},function(y){return AS(o,u,y)}):oI(o,u,h)}function oI(o,u,h){u.status="fulfilled",u.value=h,lI(u),o.state=h,u=o.pending,u!==null&&(h=u.next,h===u?o.pending=null:(h=h.next,u.next=h,sI(o,h)))}function AS(o,u,h){var y=o.pending;if(o.pending=null,y!==null){y=y.next;do u.status="rejected",u.reason=h,lI(u),u=u.next;while(u!==y)}o.action=null}function lI(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function cI(o,u){return u}function uI(o,u){if(lt){var h=Mt.formState;if(h!==null){e:{var y=Ye;if(lt){if(Ft){t:{for(var w=Ft,E=is;w.nodeType!==8;){if(!E){w=null;break t}if(w=as(w.nextSibling),w===null){w=null;break t}}E=w.data,w=E==="F!"||E==="F"?w:null}if(w){Ft=as(w.nextSibling),y=w.data==="F!";break e}}_l(y)}y=!1}y&&(u=h[0])}}return h=Kr(),h.memoizedState=h.baseState=u,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cI,lastRenderedState:u},h.queue=y,h=OI.bind(null,Ye,y),y.dispatch=h,y=_S(!1),E=IS.bind(null,Ye,!1,y.queue),y=Kr(),w={state:u,dispatch:null,action:o,pending:null},y.queue=w,h=OX.bind(null,Ye,w,E,h),w.dispatch=h,y.memoizedState=o,[u,h,!1]}function dI(o){var u=wn();return fI(u,_t,o)}function fI(o,u,h){if(u=ES(o,u,cI)[0],o=fy(po)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var y=Cp(u)}catch(O){throw O===df?ny:O}else y=u;u=wn();var w=u.queue,E=w.dispatch;return h!==u.memoizedState&&(Ye.flags|=2048,gf(9,{destroy:void 0},NX.bind(null,w,h),null)),[y,E,o]}function NX(o,u){o.action=u}function hI(o){var u=wn(),h=_t;if(h!==null)return fI(u,h,o);wn(),u=u.memoizedState,h=wn();var y=h.queue.dispatch;return h.memoizedState=o,[u,y,!1]}function gf(o,u,h,y){return o={tag:o,create:h,deps:y,inst:u,next:null},u=Ye.updateQueue,u===null&&(u=uy(),Ye.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=o.next=o:(y=h.next,h.next=o,o.next=y,u.lastEffect=o),o}function pI(){return wn().memoizedState}function hy(o,u,h,y){var w=Kr();Ye.flags|=o,w.memoizedState=gf(1|u,{destroy:void 0},h,y===void 0?null:y)}function py(o,u,h,y){var w=wn();y=y===void 0?null:y;var E=w.memoizedState.inst;_t!==null&&y!==null&&vS(y,_t.memoizedState.deps)?w.memoizedState=gf(u,E,h,y):(Ye.flags|=o,w.memoizedState=gf(1|u,E,h,y))}function mI(o,u){hy(8390656,8,o,u)}function CS(o,u){py(2048,8,o,u)}function MX(o){Ye.flags|=4;var u=Ye.updateQueue;if(u===null)u=uy(),Ye.updateQueue=u,u.events=[o];else{var h=u.events;h===null?u.events=[o]:h.push(o)}}function gI(o){var u=wn().memoizedState;return MX({ref:u,nextImpl:o}),function(){if((gt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function yI(o,u){return py(4,2,o,u)}function vI(o,u){return py(4,4,o,u)}function bI(o,u){if(typeof u=="function"){o=o();var h=u(o);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function xI(o,u,h){h=h!=null?h.concat([o]):null,py(4,4,bI.bind(null,u,o),h)}function OS(){}function wI(o,u){var h=wn();u=u===void 0?null:u;var y=h.memoizedState;return u!==null&&vS(u,y[1])?y[0]:(h.memoizedState=[o,u],o)}function SI(o,u){var h=wn();u=u===void 0?null:u;var y=h.memoizedState;if(u!==null&&vS(u,y[1]))return y[0];if(y=o(),Nu){ai(!0);try{o()}finally{ai(!1)}}return h.memoizedState=[y,u],y}function NS(o,u,h){return h===void 0||(ho&1073741824)!==0&&(rt&261930)===0?o.memoizedState=u:(o.memoizedState=h,o=TD(),Ye.lanes|=o,Pl|=o,h)}function TI(o,u,h,y){return Mi(h,u)?h:hf.current!==null?(o=NS(o,h,y),Mi(o,u)||(Mn=!0),o):(ho&42)===0||(ho&1073741824)!==0&&(rt&261930)===0?(Mn=!0,o.memoizedState=h):(o=TD(),Ye.lanes|=o,Pl|=o,u)}function EI(o,u,h,y,w){var E=Y.p;Y.p=E!==0&&8>E?E:8;var O=W.T,F={};W.T=F,IS(o,!1,u,h);try{var q=w(),J=W.S;if(J!==null&&J(F,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ae=_X(q,y);Op(o,u,ae,Li(o))}else Op(o,u,y,Li(o))}catch(ue){Op(o,u,{then:function(){},status:"rejected",reason:ue},Li())}finally{Y.p=E,O!==null&&F.types!==null&&(O.types=F.types),W.T=O}}function jX(){}function MS(o,u,h,y){if(o.tag!==5)throw Error(r(476));var w=kI(o).queue;EI(o,w,u,ce,h===null?jX:function(){return _I(o),h(y)})}function kI(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:ce},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:h},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function _I(o){var u=kI(o);u.next===null&&(u=o.alternate.memoizedState),Op(o,u.next.queue,{},Li())}function jS(){return mr(Wp)}function AI(){return wn().memoizedState}function CI(){return wn().memoizedState}function IX(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var h=Li();o=Ol(h);var y=Nl(u,o,h);y!==null&&(pi(y,u,h),Ep(y,u,h)),u={cache:oS()},o.payload=u;return}u=u.return}}function DX(o,u,h){var y=Li();h={lane:y,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},my(o)?NI(u,h):(h=X1(o,u,h,y),h!==null&&(pi(h,o,y),MI(h,u,y)))}function OI(o,u,h){var y=Li();Op(o,u,h,y)}function Op(o,u,h,y){var w={lane:y,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(my(o))NI(u,w);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=u.lastRenderedReducer,E!==null))try{var O=u.lastRenderedState,F=E(O,h);if(w.hasEagerState=!0,w.eagerState=F,Mi(F,O))return Y0(o,u,w,0),Mt===null&&K0(),!1}catch{}finally{}if(h=X1(o,u,w,y),h!==null)return pi(h,o,y),MI(h,u,y),!0}return!1}function IS(o,u,h,y){if(y={lane:2,revertLane:dT(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},my(o)){if(u)throw Error(r(479))}else u=X1(o,h,y,2),u!==null&&pi(u,o,2)}function my(o){var u=o.alternate;return o===Ye||u!==null&&u===Ye}function NI(o,u){pf=ly=!0;var h=o.pending;h===null?u.next=u:(u.next=h.next,h.next=u),o.pending=u}function MI(o,u,h){if((h&4194048)!==0){var y=u.lanes;y&=o.pendingLanes,h|=y,u.lanes=h,io(o,h)}}var Np={readContext:mr,use:dy,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn};Np.useEffectEvent=dn;var jI={readContext:mr,use:dy,useCallback:function(o,u){return Kr().memoizedState=[o,u===void 0?null:u],o},useContext:mr,useEffect:mI,useImperativeHandle:function(o,u,h){h=h!=null?h.concat([o]):null,hy(4194308,4,bI.bind(null,u,o),h)},useLayoutEffect:function(o,u){return hy(4194308,4,o,u)},useInsertionEffect:function(o,u){hy(4,2,o,u)},useMemo:function(o,u){var h=Kr();u=u===void 0?null:u;var y=o();if(Nu){ai(!0);try{o()}finally{ai(!1)}}return h.memoizedState=[y,u],y},useReducer:function(o,u,h){var y=Kr();if(h!==void 0){var w=h(u);if(Nu){ai(!0);try{h(u)}finally{ai(!1)}}}else w=u;return y.memoizedState=y.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},y.queue=o,o=o.dispatch=DX.bind(null,Ye,o),[y.memoizedState,o]},useRef:function(o){var u=Kr();return o={current:o},u.memoizedState=o},useState:function(o){o=_S(o);var u=o.queue,h=OI.bind(null,Ye,u);return u.dispatch=h,[o.memoizedState,h]},useDebugValue:OS,useDeferredValue:function(o,u){var h=Kr();return NS(h,o,u)},useTransition:function(){var o=_S(!1);return o=EI.bind(null,Ye,o.queue,!0,!1),Kr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,h){var y=Ye,w=Kr();if(lt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),Mt===null)throw Error(r(349));(rt&127)!==0||Zj(y,u,h)}w.memoizedState=h;var E={value:h,getSnapshot:u};return w.queue=E,mI(tI.bind(null,y,E,o),[o]),y.flags|=2048,gf(9,{destroy:void 0},eI.bind(null,y,E,h,u),null),h},useId:function(){var o=Kr(),u=Mt.identifierPrefix;if(lt){var h=_a,y=ka;h=(y&~(1<<32-Kt(y)-1)).toString(32)+h,u="_"+u+"R_"+h,h=cy++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=AX++,u="_"+u+"r_"+h.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:jS,useFormState:uI,useActionState:uI,useOptimistic:function(o){var u=Kr();u.memoizedState=u.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=IS.bind(null,Ye,!0,h),h.dispatch=u,[o,u]},useMemoCache:TS,useCacheRefresh:function(){return Kr().memoizedState=IX.bind(null,Ye)},useEffectEvent:function(o){var u=Kr(),h={impl:o};return u.memoizedState=h,function(){if((gt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},DS={readContext:mr,use:dy,useCallback:wI,useContext:mr,useEffect:CS,useImperativeHandle:xI,useInsertionEffect:yI,useLayoutEffect:vI,useMemo:SI,useReducer:fy,useRef:pI,useState:function(){return fy(po)},useDebugValue:OS,useDeferredValue:function(o,u){var h=wn();return TI(h,_t.memoizedState,o,u)},useTransition:function(){var o=fy(po)[0],u=wn().memoizedState;return[typeof o=="boolean"?o:Cp(o),u]},useSyncExternalStore:Jj,useId:AI,useHostTransitionStatus:jS,useFormState:dI,useActionState:dI,useOptimistic:function(o,u){var h=wn();return iI(h,_t,o,u)},useMemoCache:TS,useCacheRefresh:CI};DS.useEffectEvent=gI;var II={readContext:mr,use:dy,useCallback:wI,useContext:mr,useEffect:CS,useImperativeHandle:xI,useInsertionEffect:yI,useLayoutEffect:vI,useMemo:SI,useReducer:kS,useRef:pI,useState:function(){return kS(po)},useDebugValue:OS,useDeferredValue:function(o,u){var h=wn();return _t===null?NS(h,o,u):TI(h,_t.memoizedState,o,u)},useTransition:function(){var o=kS(po)[0],u=wn().memoizedState;return[typeof o=="boolean"?o:Cp(o),u]},useSyncExternalStore:Jj,useId:AI,useHostTransitionStatus:jS,useFormState:hI,useActionState:hI,useOptimistic:function(o,u){var h=wn();return _t!==null?iI(h,_t,o,u):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:TS,useCacheRefresh:CI};II.useEffectEvent=gI;function PS(o,u,h,y){u=o.memoizedState,h=h(y,u),h=h==null?u:p({},u,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var RS={enqueueSetState:function(o,u,h){o=o._reactInternals;var y=Li(),w=Ol(y);w.payload=u,h!=null&&(w.callback=h),u=Nl(o,w,y),u!==null&&(pi(u,o,y),Ep(u,o,y))},enqueueReplaceState:function(o,u,h){o=o._reactInternals;var y=Li(),w=Ol(y);w.tag=1,w.payload=u,h!=null&&(w.callback=h),u=Nl(o,w,y),u!==null&&(pi(u,o,y),Ep(u,o,y))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var h=Li(),y=Ol(h);y.tag=2,u!=null&&(y.callback=u),u=Nl(o,y,h),u!==null&&(pi(u,o,h),Ep(u,o,h))}};function DI(o,u,h,y,w,E,O){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,E,O):u.prototype&&u.prototype.isPureReactComponent?!gp(h,y)||!gp(w,E):!0}function PI(o,u,h,y){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,y),u.state!==o&&RS.enqueueReplaceState(u,u.state,null)}function Mu(o,u){var h=u;if("ref"in u){h={};for(var y in u)y!=="ref"&&(h[y]=u[y])}if(o=o.defaultProps){h===u&&(h=p({},h));for(var w in o)h[w]===void 0&&(h[w]=o[w])}return h}function RI(o){G0(o)}function LI(o){console.error(o)}function VI(o){G0(o)}function gy(o,u){try{var h=o.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(y){setTimeout(function(){throw y})}}function BI(o,u,h){try{var y=o.onCaughtError;y(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function LS(o,u,h){return h=Ol(h),h.tag=3,h.payload={element:null},h.callback=function(){gy(o,u)},h}function zI(o){return o=Ol(o),o.tag=3,o}function UI(o,u,h,y){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var E=y.value;o.payload=function(){return w(E)},o.callback=function(){BI(u,h,y)}}var O=h.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(o.callback=function(){BI(u,h,y),typeof w!="function"&&(Rl===null?Rl=new Set([this]):Rl.add(this));var F=y.stack;this.componentDidCatch(y.value,{componentStack:F!==null?F:""})})}function PX(o,u,h,y,w){if(h.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(u=h.alternate,u!==null&&lf(u,h,w,!0),h=Ii.current,h!==null){switch(h.tag){case 31:case 13:return ss===null?Cy():h.alternate===null&&fn===0&&(fn=3),h.flags&=-257,h.flags|=65536,h.lanes=w,y===ry?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([y]):u.add(y),lT(o,y,w)),!1;case 22:return h.flags|=65536,y===ry?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([y])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([y]):h.add(y)),lT(o,y,w)),!1}throw Error(r(435,h.tag))}return lT(o,y,w),Cy(),!1}if(lt)return u=Ii.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=w,y!==nS&&(o=Error(r(422),{cause:y}),bp(ts(o,h)))):(y!==nS&&(u=Error(r(423),{cause:y}),bp(ts(u,h))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,y=ts(y,h),w=LS(o.stateNode,y,w),hS(o,w),fn!==4&&(fn=2)),!1;var E=Error(r(520),{cause:y});if(E=ts(E,h),Vp===null?Vp=[E]:Vp.push(E),fn!==4&&(fn=2),u===null)return!0;y=ts(y,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,o=w&-w,h.lanes|=o,o=LS(h.stateNode,y,o),hS(h,o),!1;case 1:if(u=h.type,E=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Rl===null||!Rl.has(E))))return h.flags|=65536,w&=-w,h.lanes|=w,w=zI(w),UI(w,o,h,y),hS(h,w),!1}h=h.return}while(h!==null);return!1}var VS=Error(r(461)),Mn=!1;function gr(o,u,h,y){u.child=o===null?qj(u,null,h,y):Ou(u,o.child,h,y)}function FI(o,u,h,y,w){h=h.render;var E=u.ref;if("ref"in y){var O={};for(var F in y)F!=="ref"&&(O[F]=y[F])}else O=y;return ku(u),y=bS(o,u,h,O,E,w),F=xS(),o!==null&&!Mn?(wS(o,u,w),mo(o,u,w)):(lt&&F&&eS(u),u.flags|=1,gr(o,u,y,w),u.child)}function $I(o,u,h,y,w){if(o===null){var E=h.type;return typeof E=="function"&&!Q1(E)&&E.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=E,HI(o,u,E,y,w)):(o=Q0(h.type,null,y,u,u.mode,w),o.ref=u.ref,o.return=u,u.child=o)}if(E=o.child,!WS(o,w)){var O=E.memoizedProps;if(h=h.compare,h=h!==null?h:gp,h(O,y)&&o.ref===u.ref)return mo(o,u,w)}return u.flags|=1,o=lo(E,y),o.ref=u.ref,o.return=u,u.child=o}function HI(o,u,h,y,w){if(o!==null){var E=o.memoizedProps;if(gp(E,y)&&o.ref===u.ref)if(Mn=!1,u.pendingProps=y=E,WS(o,w))(o.flags&131072)!==0&&(Mn=!0);else return u.lanes=o.lanes,mo(o,u,w)}return BS(o,u,h,y,w)}function qI(o,u,h,y){var w=y.children,E=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((u.flags&128)!==0){if(E=E!==null?E.baseLanes|h:h,o!==null){for(y=u.child=o.child,w=0;y!==null;)w=w|y.lanes|y.childLanes,y=y.sibling;y=w&~E}else y=0,u.child=null;return WI(o,u,E,h,y)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&ty(u,E!==null?E.cachePool:null),E!==null?Kj(u,E):mS(),Yj(u);else return y=u.lanes=536870912,WI(o,u,E!==null?E.baseLanes|h:h,h,y)}else E!==null?(ty(u,E.cachePool),Kj(u,E),jl(),u.memoizedState=null):(o!==null&&ty(u,null),mS(),jl());return gr(o,u,w,h),u.child}function Mp(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function WI(o,u,h,y,w){var E=cS();return E=E===null?null:{parent:On._currentValue,pool:E},u.memoizedState={baseLanes:h,cachePool:E},o!==null&&ty(u,null),mS(),Yj(u),o!==null&&lf(o,u,y,!0),u.childLanes=w,null}function yy(o,u){return u=by({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function GI(o,u,h){return Ou(u,o.child,null,h),o=yy(u,u.pendingProps),o.flags|=2,Di(u),u.memoizedState=null,o}function RX(o,u,h){var y=u.pendingProps,w=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(lt){if(y.mode==="hidden")return o=yy(u,y),u.lanes=536870912,Mp(null,o);if(yS(u),(o=Ft)?(o=sP(o,is),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:El!==null?{id:ka,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},h=Nj(o),h.return=u,u.child=h,pr=u,Ft=null)):o=null,o===null)throw _l(u);return u.lanes=536870912,null}return yy(u,y)}var E=o.memoizedState;if(E!==null){var O=E.dehydrated;if(yS(u),w)if(u.flags&256)u.flags&=-257,u=GI(o,u,h);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(r(558));else if(Mn||lf(o,u,h,!1),w=(h&o.childLanes)!==0,Mn||w){if(y=Mt,y!==null&&(O=ha(y,h),O!==0&&O!==E.retryLane))throw E.retryLane=O,wu(o,O),pi(y,o,O),VS;Cy(),u=GI(o,u,h)}else o=E.treeContext,Ft=as(O.nextSibling),pr=u,lt=!0,kl=null,is=!1,o!==null&&Ij(u,o),u=yy(u,y),u.flags|=4096;return u}return o=lo(o.child,{mode:y.mode,children:y.children}),o.ref=u.ref,u.child=o,o.return=u,o}function vy(o,u){var h=u.ref;if(h===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(u.flags|=4194816)}}function BS(o,u,h,y,w){return ku(u),h=bS(o,u,h,y,void 0,w),y=xS(),o!==null&&!Mn?(wS(o,u,w),mo(o,u,w)):(lt&&y&&eS(u),u.flags|=1,gr(o,u,h,w),u.child)}function KI(o,u,h,y,w,E){return ku(u),u.updateQueue=null,h=Qj(u,y,h,w),Xj(o),y=xS(),o!==null&&!Mn?(wS(o,u,E),mo(o,u,E)):(lt&&y&&eS(u),u.flags|=1,gr(o,u,h,E),u.child)}function YI(o,u,h,y,w){if(ku(u),u.stateNode===null){var E=rf,O=h.contextType;typeof O=="object"&&O!==null&&(E=mr(O)),E=new h(y,E),u.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=RS,u.stateNode=E,E._reactInternals=u,E=u.stateNode,E.props=y,E.state=u.memoizedState,E.refs={},dS(u),O=h.contextType,E.context=typeof O=="object"&&O!==null?mr(O):rf,E.state=u.memoizedState,O=h.getDerivedStateFromProps,typeof O=="function"&&(PS(u,h,O,y),E.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(O=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),O!==E.state&&RS.enqueueReplaceState(E,E.state,null),_p(u,y,E,w),kp(),E.state=u.memoizedState),typeof E.componentDidMount=="function"&&(u.flags|=4194308),y=!0}else if(o===null){E=u.stateNode;var F=u.memoizedProps,q=Mu(h,F);E.props=q;var J=E.context,ae=h.contextType;O=rf,typeof ae=="object"&&ae!==null&&(O=mr(ae));var ue=h.getDerivedStateFromProps;ae=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function",F=u.pendingProps!==F,ae||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(F||J!==O)&&PI(u,E,y,O),Cl=!1;var ee=u.memoizedState;E.state=ee,_p(u,y,E,w),kp(),J=u.memoizedState,F||ee!==J||Cl?(typeof ue=="function"&&(PS(u,h,ue,y),J=u.memoizedState),(q=Cl||DI(u,h,q,y,ee,J,O))?(ae||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(u.flags|=4194308)):(typeof E.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=J),E.props=y,E.state=J,E.context=O,y=q):(typeof E.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{E=u.stateNode,fS(o,u),O=u.memoizedProps,ae=Mu(h,O),E.props=ae,ue=u.pendingProps,ee=E.context,J=h.contextType,q=rf,typeof J=="object"&&J!==null&&(q=mr(J)),F=h.getDerivedStateFromProps,(J=typeof F=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==ue||ee!==q)&&PI(u,E,y,q),Cl=!1,ee=u.memoizedState,E.state=ee,_p(u,y,E,w),kp();var re=u.memoizedState;O!==ue||ee!==re||Cl||o!==null&&o.dependencies!==null&&Z0(o.dependencies)?(typeof F=="function"&&(PS(u,h,F,y),re=u.memoizedState),(ae=Cl||DI(u,h,ae,y,ee,re,q)||o!==null&&o.dependencies!==null&&Z0(o.dependencies))?(J||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(y,re,q),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(y,re,q)),typeof E.componentDidUpdate=="function"&&(u.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof E.componentDidUpdate!="function"||O===o.memoizedProps&&ee===o.memoizedState||(u.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&ee===o.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=re),E.props=y,E.state=re,E.context=q,y=ae):(typeof E.componentDidUpdate!="function"||O===o.memoizedProps&&ee===o.memoizedState||(u.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&ee===o.memoizedState||(u.flags|=1024),y=!1)}return E=y,vy(o,u),y=(u.flags&128)!==0,E||y?(E=u.stateNode,h=y&&typeof h.getDerivedStateFromError!="function"?null:E.render(),u.flags|=1,o!==null&&y?(u.child=Ou(u,o.child,null,w),u.child=Ou(u,null,h,w)):gr(o,u,h,w),u.memoizedState=E.state,o=u.child):o=mo(o,u,w),o}function XI(o,u,h,y){return Tu(),u.flags|=256,gr(o,u,h,y),u.child}var zS={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function US(o){return{baseLanes:o,cachePool:Bj()}}function FS(o,u,h){return o=o!==null?o.childLanes&~h:0,u&&(o|=Ri),o}function QI(o,u,h){var y=u.pendingProps,w=!1,E=(u.flags&128)!==0,O;if((O=E)||(O=o!==null&&o.memoizedState===null?!1:(xn.current&2)!==0),O&&(w=!0,u.flags&=-129),O=(u.flags&32)!==0,u.flags&=-33,o===null){if(lt){if(w?Ml(u):jl(),(o=Ft)?(o=sP(o,is),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:El!==null?{id:ka,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},h=Nj(o),h.return=u,u.child=h,pr=u,Ft=null)):o=null,o===null)throw _l(u);return ET(o)?u.lanes=32:u.lanes=536870912,null}var F=y.children;return y=y.fallback,w?(jl(),w=u.mode,F=by({mode:"hidden",children:F},w),y=Su(y,w,h,null),F.return=u,y.return=u,F.sibling=y,u.child=F,y=u.child,y.memoizedState=US(h),y.childLanes=FS(o,O,h),u.memoizedState=zS,Mp(null,y)):(Ml(u),$S(u,F))}var q=o.memoizedState;if(q!==null&&(F=q.dehydrated,F!==null)){if(E)u.flags&256?(Ml(u),u.flags&=-257,u=HS(o,u,h)):u.memoizedState!==null?(jl(),u.child=o.child,u.flags|=128,u=null):(jl(),F=y.fallback,w=u.mode,y=by({mode:"visible",children:y.children},w),F=Su(F,w,h,null),F.flags|=2,y.return=u,F.return=u,y.sibling=F,u.child=y,Ou(u,o.child,null,h),y=u.child,y.memoizedState=US(h),y.childLanes=FS(o,O,h),u.memoizedState=zS,u=Mp(null,y));else if(Ml(u),ET(F)){if(O=F.nextSibling&&F.nextSibling.dataset,O)var J=O.dgst;O=J,y=Error(r(419)),y.stack="",y.digest=O,bp({value:y,source:null,stack:null}),u=HS(o,u,h)}else if(Mn||lf(o,u,h,!1),O=(h&o.childLanes)!==0,Mn||O){if(O=Mt,O!==null&&(y=ha(O,h),y!==0&&y!==q.retryLane))throw q.retryLane=y,wu(o,y),pi(O,o,y),VS;TT(F)||Cy(),u=HS(o,u,h)}else TT(F)?(u.flags|=192,u.child=o.child,u=null):(o=q.treeContext,Ft=as(F.nextSibling),pr=u,lt=!0,kl=null,is=!1,o!==null&&Ij(u,o),u=$S(u,y.children),u.flags|=4096);return u}return w?(jl(),F=y.fallback,w=u.mode,q=o.child,J=q.sibling,y=lo(q,{mode:"hidden",children:y.children}),y.subtreeFlags=q.subtreeFlags&65011712,J!==null?F=lo(J,F):(F=Su(F,w,h,null),F.flags|=2),F.return=u,y.return=u,y.sibling=F,u.child=y,Mp(null,y),y=u.child,F=o.child.memoizedState,F===null?F=US(h):(w=F.cachePool,w!==null?(q=On._currentValue,w=w.parent!==q?{parent:q,pool:q}:w):w=Bj(),F={baseLanes:F.baseLanes|h,cachePool:w}),y.memoizedState=F,y.childLanes=FS(o,O,h),u.memoizedState=zS,Mp(o.child,y)):(Ml(u),h=o.child,o=h.sibling,h=lo(h,{mode:"visible",children:y.children}),h.return=u,h.sibling=null,o!==null&&(O=u.deletions,O===null?(u.deletions=[o],u.flags|=16):O.push(o)),u.child=h,u.memoizedState=null,h)}function $S(o,u){return u=by({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function by(o,u){return o=ji(22,o,null,u),o.lanes=0,o}function HS(o,u,h){return Ou(u,o.child,null,h),o=$S(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function JI(o,u,h){o.lanes|=u;var y=o.alternate;y!==null&&(y.lanes|=u),sS(o.return,u,h)}function qS(o,u,h,y,w,E){var O=o.memoizedState;O===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:h,tailMode:w,treeForkCount:E}:(O.isBackwards=u,O.rendering=null,O.renderingStartTime=0,O.last=y,O.tail=h,O.tailMode=w,O.treeForkCount=E)}function ZI(o,u,h){var y=u.pendingProps,w=y.revealOrder,E=y.tail;y=y.children;var O=xn.current,F=(O&2)!==0;if(F?(O=O&1|2,u.flags|=128):O&=1,ye(xn,O),gr(o,u,y,h),y=lt?vp:0,!F&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&JI(o,h,u);else if(o.tag===19)JI(o,h,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(w){case"forwards":for(h=u.child,w=null;h!==null;)o=h.alternate,o!==null&&oy(o)===null&&(w=h),h=h.sibling;h=w,h===null?(w=u.child,u.child=null):(w=h.sibling,h.sibling=null),qS(u,!1,w,h,E,y);break;case"backwards":case"unstable_legacy-backwards":for(h=null,w=u.child,u.child=null;w!==null;){if(o=w.alternate,o!==null&&oy(o)===null){u.child=w;break}o=w.sibling,w.sibling=h,h=w,w=o}qS(u,!0,h,null,E,y);break;case"together":qS(u,!1,null,null,void 0,y);break;default:u.memoizedState=null}return u.child}function mo(o,u,h){if(o!==null&&(u.dependencies=o.dependencies),Pl|=u.lanes,(h&u.childLanes)===0)if(o!==null){if(lf(o,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,h=lo(o,o.pendingProps),u.child=h,h.return=u;o.sibling!==null;)o=o.sibling,h=h.sibling=lo(o,o.pendingProps),h.return=u;h.sibling=null}return u.child}function WS(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Z0(o)))}function LX(o,u,h){switch(u.tag){case 3:et(u,u.stateNode.containerInfo),Al(u,On,o.memoizedState.cache),Tu();break;case 27:case 5:Ce(u);break;case 4:et(u,u.stateNode.containerInfo);break;case 10:Al(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,yS(u),null;break;case 13:var y=u.memoizedState;if(y!==null)return y.dehydrated!==null?(Ml(u),u.flags|=128,null):(h&u.child.childLanes)!==0?QI(o,u,h):(Ml(u),o=mo(o,u,h),o!==null?o.sibling:null);Ml(u);break;case 19:var w=(o.flags&128)!==0;if(y=(h&u.childLanes)!==0,y||(lf(o,u,h,!1),y=(h&u.childLanes)!==0),w){if(y)return ZI(o,u,h);u.flags|=128}if(w=u.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ye(xn,xn.current),y)break;return null;case 22:return u.lanes=0,qI(o,u,h,u.pendingProps);case 24:Al(u,On,o.memoizedState.cache)}return mo(o,u,h)}function eD(o,u,h){if(o!==null)if(o.memoizedProps!==u.pendingProps)Mn=!0;else{if(!WS(o,h)&&(u.flags&128)===0)return Mn=!1,LX(o,u,h);Mn=(o.flags&131072)!==0}else Mn=!1,lt&&(u.flags&1048576)!==0&&jj(u,vp,u.index);switch(u.lanes=0,u.tag){case 16:e:{var y=u.pendingProps;if(o=Au(u.elementType),u.type=o,typeof o=="function")Q1(o)?(y=Mu(o,y),u.tag=1,u=YI(null,u,o,y,h)):(u.tag=0,u=BS(null,u,o,y,h));else{if(o!=null){var w=o.$$typeof;if(w===R){u.tag=11,u=FI(null,u,o,y,h);break e}else if(w===j){u.tag=14,u=$I(null,u,o,y,h);break e}}throw u=Z(o)||o,Error(r(306,u,""))}}return u;case 0:return BS(o,u,u.type,u.pendingProps,h);case 1:return y=u.type,w=Mu(y,u.pendingProps),YI(o,u,y,w,h);case 3:e:{if(et(u,u.stateNode.containerInfo),o===null)throw Error(r(387));y=u.pendingProps;var E=u.memoizedState;w=E.element,fS(o,u),_p(u,y,null,h);var O=u.memoizedState;if(y=O.cache,Al(u,On,y),y!==E.cache&&aS(u,[On],h,!0),kp(),y=O.element,E.isDehydrated)if(E={element:y,isDehydrated:!1,cache:O.cache},u.updateQueue.baseState=E,u.memoizedState=E,u.flags&256){u=XI(o,u,y,h);break e}else if(y!==w){w=ts(Error(r(424)),u),bp(w),u=XI(o,u,y,h);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Ft=as(o.firstChild),pr=u,lt=!0,kl=null,is=!0,h=qj(u,null,y,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Tu(),y===w){u=mo(o,u,h);break e}gr(o,u,y,h)}u=u.child}return u;case 26:return vy(o,u),o===null?(h=dP(u.type,null,u.pendingProps,null))?u.memoizedState=h:lt||(h=u.type,o=u.pendingProps,y=Py(pe.current).createElement(h),y[sn]=u,y[_n]=o,yr(y,h,o),An(y),u.stateNode=y):u.memoizedState=dP(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Ce(u),o===null&&lt&&(y=u.stateNode=lP(u.type,u.pendingProps,pe.current),pr=u,is=!0,w=Ft,zl(u.type)?(kT=w,Ft=as(y.firstChild)):Ft=w),gr(o,u,u.pendingProps.children,h),vy(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&lt&&((w=y=Ft)&&(y=hQ(y,u.type,u.pendingProps,is),y!==null?(u.stateNode=y,pr=u,Ft=as(y.firstChild),is=!1,w=!0):w=!1),w||_l(u)),Ce(u),w=u.type,E=u.pendingProps,O=o!==null?o.memoizedProps:null,y=E.children,xT(w,E)?y=null:O!==null&&xT(w,O)&&(u.flags|=32),u.memoizedState!==null&&(w=bS(o,u,CX,null,null,h),Wp._currentValue=w),vy(o,u),gr(o,u,y,h),u.child;case 6:return o===null&&lt&&((o=h=Ft)&&(h=pQ(h,u.pendingProps,is),h!==null?(u.stateNode=h,pr=u,Ft=null,o=!0):o=!1),o||_l(u)),null;case 13:return QI(o,u,h);case 4:return et(u,u.stateNode.containerInfo),y=u.pendingProps,o===null?u.child=Ou(u,null,y,h):gr(o,u,y,h),u.child;case 11:return FI(o,u,u.type,u.pendingProps,h);case 7:return gr(o,u,u.pendingProps,h),u.child;case 8:return gr(o,u,u.pendingProps.children,h),u.child;case 12:return gr(o,u,u.pendingProps.children,h),u.child;case 10:return y=u.pendingProps,Al(u,u.type,y.value),gr(o,u,y.children,h),u.child;case 9:return w=u.type._context,y=u.pendingProps.children,ku(u),w=mr(w),y=y(w),u.flags|=1,gr(o,u,y,h),u.child;case 14:return $I(o,u,u.type,u.pendingProps,h);case 15:return HI(o,u,u.type,u.pendingProps,h);case 19:return ZI(o,u,h);case 31:return RX(o,u,h);case 22:return qI(o,u,h,u.pendingProps);case 24:return ku(u),y=mr(On),o===null?(w=cS(),w===null&&(w=Mt,E=oS(),w.pooledCache=E,E.refCount++,E!==null&&(w.pooledCacheLanes|=h),w=E),u.memoizedState={parent:y,cache:w},dS(u),Al(u,On,w)):((o.lanes&h)!==0&&(fS(o,u),_p(u,null,null,h),kp()),w=o.memoizedState,E=u.memoizedState,w.parent!==y?(w={parent:y,cache:y},u.memoizedState=w,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=w),Al(u,On,y)):(y=E.cache,Al(u,On,y),y!==w.cache&&aS(u,[On],h,!0))),gr(o,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function go(o){o.flags|=4}function GS(o,u,h,y,w){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(w&335544128)===w)if(o.stateNode.complete)o.flags|=8192;else if(AD())o.flags|=8192;else throw Cu=ry,uS}else o.flags&=-16777217}function tD(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!gP(u))if(AD())o.flags|=8192;else throw Cu=ry,uS}function xy(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?qr():536870912,o.lanes|=u,xf|=u)}function jp(o,u){if(!lt)switch(o.tailMode){case"hidden":u=o.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function $t(o){var u=o.alternate!==null&&o.alternate.child===o.child,h=0,y=0;if(u)for(var w=o.child;w!==null;)h|=w.lanes|w.childLanes,y|=w.subtreeFlags&65011712,y|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)h|=w.lanes|w.childLanes,y|=w.subtreeFlags,y|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=y,o.childLanes=h,u}function VX(o,u,h){var y=u.pendingProps;switch(tS(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(u),null;case 1:return $t(u),null;case 3:return h=u.stateNode,y=null,o!==null&&(y=o.memoizedState.cache),u.memoizedState.cache!==y&&(u.flags|=2048),fo(On),ie(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(of(u)?go(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,rS())),$t(u),null;case 26:var w=u.type,E=u.memoizedState;return o===null?(go(u),E!==null?($t(u),tD(u,E)):($t(u),GS(u,w,null,y,h))):E?E!==o.memoizedState?(go(u),$t(u),tD(u,E)):($t(u),u.flags&=-16777217):(o=o.memoizedProps,o!==y&&go(u),$t(u),GS(u,w,o,y,h)),null;case 27:if(Re(u),h=pe.current,w=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==y&&go(u);else{if(!y){if(u.stateNode===null)throw Error(r(166));return $t(u),null}o=be.current,of(u)?Dj(u):(o=lP(w,y,h),u.stateNode=o,go(u))}return $t(u),null;case 5:if(Re(u),w=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==y&&go(u);else{if(!y){if(u.stateNode===null)throw Error(r(166));return $t(u),null}if(E=be.current,of(u))Dj(u);else{var O=Py(pe.current);switch(E){case 1:E=O.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:E=O.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":E=O.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":E=O.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":E=O.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof y.is=="string"?O.createElement("select",{is:y.is}):O.createElement("select"),y.multiple?E.multiple=!0:y.size&&(E.size=y.size);break;default:E=typeof y.is=="string"?O.createElement(w,{is:y.is}):O.createElement(w)}}E[sn]=u,E[_n]=y;e:for(O=u.child;O!==null;){if(O.tag===5||O.tag===6)E.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===u)break e;for(;O.sibling===null;){if(O.return===null||O.return===u)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}u.stateNode=E;e:switch(yr(E,w,y),w){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&go(u)}}return $t(u),GS(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,h),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==y&&go(u);else{if(typeof y!="string"&&u.stateNode===null)throw Error(r(166));if(o=pe.current,of(u)){if(o=u.stateNode,h=u.memoizedProps,y=null,w=pr,w!==null)switch(w.tag){case 27:case 5:y=w.memoizedProps}o[sn]=u,o=!!(o.nodeValue===h||y!==null&&y.suppressHydrationWarning===!0||QD(o.nodeValue,h)),o||_l(u,!0)}else o=Py(o).createTextNode(y),o[sn]=u,u.stateNode=o}return $t(u),null;case 31:if(h=u.memoizedState,o===null||o.memoizedState!==null){if(y=of(u),h!==null){if(o===null){if(!y)throw Error(r(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[sn]=u}else Tu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;$t(u),o=!1}else h=rS(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return u.flags&256?(Di(u),u):(Di(u),null);if((u.flags&128)!==0)throw Error(r(558))}return $t(u),null;case 13:if(y=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=of(u),y!==null&&y.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=u.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[sn]=u}else Tu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;$t(u),w=!1}else w=rS(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return u.flags&256?(Di(u),u):(Di(u),null)}return Di(u),(u.flags&128)!==0?(u.lanes=h,u):(h=y!==null,o=o!==null&&o.memoizedState!==null,h&&(y=u.child,w=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(w=y.alternate.memoizedState.cachePool.pool),E=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(E=y.memoizedState.cachePool.pool),E!==w&&(y.flags|=2048)),h!==o&&h&&(u.child.flags|=8192),xy(u,u.updateQueue),$t(u),null);case 4:return ie(),o===null&&mT(u.stateNode.containerInfo),$t(u),null;case 10:return fo(u.type),$t(u),null;case 19:if(ne(xn),y=u.memoizedState,y===null)return $t(u),null;if(w=(u.flags&128)!==0,E=y.rendering,E===null)if(w)jp(y,!1);else{if(fn!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(E=oy(o),E!==null){for(u.flags|=128,jp(y,!1),o=E.updateQueue,u.updateQueue=o,xy(u,o),u.subtreeFlags=0,o=h,h=u.child;h!==null;)Oj(h,o),h=h.sibling;return ye(xn,xn.current&1|2),lt&&co(u,y.treeForkCount),u.child}o=o.sibling}y.tail!==null&&fr()>ky&&(u.flags|=128,w=!0,jp(y,!1),u.lanes=4194304)}else{if(!w)if(o=oy(E),o!==null){if(u.flags|=128,w=!0,o=o.updateQueue,u.updateQueue=o,xy(u,o),jp(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!lt)return $t(u),null}else 2*fr()-y.renderingStartTime>ky&&h!==536870912&&(u.flags|=128,w=!0,jp(y,!1),u.lanes=4194304);y.isBackwards?(E.sibling=u.child,u.child=E):(o=y.last,o!==null?o.sibling=E:u.child=E,y.last=E)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=fr(),o.sibling=null,h=xn.current,ye(xn,w?h&1|2:h&1),lt&&co(u,y.treeForkCount),o):($t(u),null);case 22:case 23:return Di(u),gS(),y=u.memoizedState!==null,o!==null?o.memoizedState!==null!==y&&(u.flags|=8192):y&&(u.flags|=8192),y?(h&536870912)!==0&&(u.flags&128)===0&&($t(u),u.subtreeFlags&6&&(u.flags|=8192)):$t(u),h=u.updateQueue,h!==null&&xy(u,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==h&&(u.flags|=2048),o!==null&&ne(_u),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),fo(On),$t(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function BX(o,u){switch(tS(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return fo(On),ie(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Re(u),null;case 31:if(u.memoizedState!==null){if(Di(u),u.alternate===null)throw Error(r(340));Tu()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(Di(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Tu()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return ne(xn),null;case 4:return ie(),null;case 10:return fo(u.type),null;case 22:case 23:return Di(u),gS(),o!==null&&ne(_u),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return fo(On),null;case 25:return null;default:return null}}function nD(o,u){switch(tS(u),u.tag){case 3:fo(On),ie();break;case 26:case 27:case 5:Re(u);break;case 4:ie();break;case 31:u.memoizedState!==null&&Di(u);break;case 13:Di(u);break;case 19:ne(xn);break;case 10:fo(u.type);break;case 22:case 23:Di(u),gS(),o!==null&&ne(_u);break;case 24:fo(On)}}function Ip(o,u){try{var h=u.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var w=y.next;h=w;do{if((h.tag&o)===o){y=void 0;var E=h.create,O=h.inst;y=E(),O.destroy=y}h=h.next}while(h!==w)}}catch(F){wt(u,u.return,F)}}function Il(o,u,h){try{var y=u.updateQueue,w=y!==null?y.lastEffect:null;if(w!==null){var E=w.next;y=E;do{if((y.tag&o)===o){var O=y.inst,F=O.destroy;if(F!==void 0){O.destroy=void 0,w=u;var q=h,J=F;try{J()}catch(ae){wt(w,q,ae)}}}y=y.next}while(y!==E)}}catch(ae){wt(u,u.return,ae)}}function rD(o){var u=o.updateQueue;if(u!==null){var h=o.stateNode;try{Gj(u,h)}catch(y){wt(o,o.return,y)}}}function iD(o,u,h){h.props=Mu(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(y){wt(o,u,y)}}function Dp(o,u){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var y=o.stateNode;break;case 30:y=o.stateNode;break;default:y=o.stateNode}typeof h=="function"?o.refCleanup=h(y):h.current=y}}catch(w){wt(o,u,w)}}function Aa(o,u){var h=o.ref,y=o.refCleanup;if(h!==null)if(typeof y=="function")try{y()}catch(w){wt(o,u,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){wt(o,u,w)}else h.current=null}function sD(o){var u=o.type,h=o.memoizedProps,y=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&y.focus();break e;case"img":h.src?y.src=h.src:h.srcSet&&(y.srcset=h.srcSet)}}catch(w){wt(o,o.return,w)}}function KS(o,u,h){try{var y=o.stateNode;oQ(y,o.type,h,u),y[_n]=u}catch(w){wt(o,o.return,w)}}function aD(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&zl(o.type)||o.tag===4}function YS(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||aD(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&zl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function XS(o,u,h){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(o),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Bs));else if(y!==4&&(y===27&&zl(o.type)&&(h=o.stateNode,u=null),o=o.child,o!==null))for(XS(o,u,h),o=o.sibling;o!==null;)XS(o,u,h),o=o.sibling}function wy(o,u,h){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?h.insertBefore(o,u):h.appendChild(o);else if(y!==4&&(y===27&&zl(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(wy(o,u,h),o=o.sibling;o!==null;)wy(o,u,h),o=o.sibling}function oD(o){var u=o.stateNode,h=o.memoizedProps;try{for(var y=o.type,w=u.attributes;w.length;)u.removeAttributeNode(w[0]);yr(u,y,h),u[sn]=o,u[_n]=h}catch(E){wt(o,o.return,E)}}var yo=!1,jn=!1,QS=!1,lD=typeof WeakSet=="function"?WeakSet:Set,tr=null;function zX(o,u){if(o=o.containerInfo,vT=Fy,o=xj(o),H1(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var y=h.getSelection&&h.getSelection();if(y&&y.rangeCount!==0){h=y.anchorNode;var w=y.anchorOffset,E=y.focusNode;y=y.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var O=0,F=-1,q=-1,J=0,ae=0,ue=o,ee=null;t:for(;;){for(var re;ue!==h||w!==0&&ue.nodeType!==3||(F=O+w),ue!==E||y!==0&&ue.nodeType!==3||(q=O+y),ue.nodeType===3&&(O+=ue.nodeValue.length),(re=ue.firstChild)!==null;)ee=ue,ue=re;for(;;){if(ue===o)break t;if(ee===h&&++J===w&&(F=O),ee===E&&++ae===y&&(q=O),(re=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=re}h=F===-1||q===-1?null:{start:F,end:q}}else h=null}h=h||{start:0,end:0}}else h=null;for(bT={focusedElem:o,selectionRange:h},Fy=!1,tr=u;tr!==null;)if(u=tr,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,tr=o;else for(;tr!==null;){switch(u=tr,E=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)w=o[h],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&E!==null){o=void 0,h=u,w=E.memoizedProps,E=E.memoizedState,y=h.stateNode;try{var Oe=Mu(h.type,w);o=y.getSnapshotBeforeUpdate(Oe,E),y.__reactInternalSnapshotBeforeUpdate=o}catch(Be){wt(h,h.return,Be)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,h=o.nodeType,h===9)ST(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":ST(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,tr=o;break}tr=u.return}}function cD(o,u,h){var y=h.flags;switch(h.tag){case 0:case 11:case 15:bo(o,h),y&4&&Ip(5,h);break;case 1:if(bo(o,h),y&4)if(o=h.stateNode,u===null)try{o.componentDidMount()}catch(O){wt(h,h.return,O)}else{var w=Mu(h.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(w,u,o.__reactInternalSnapshotBeforeUpdate)}catch(O){wt(h,h.return,O)}}y&64&&rD(h),y&512&&Dp(h,h.return);break;case 3:if(bo(o,h),y&64&&(o=h.updateQueue,o!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{Gj(o,u)}catch(O){wt(h,h.return,O)}}break;case 27:u===null&&y&4&&oD(h);case 26:case 5:bo(o,h),u===null&&y&4&&sD(h),y&512&&Dp(h,h.return);break;case 12:bo(o,h);break;case 31:bo(o,h),y&4&&fD(o,h);break;case 13:bo(o,h),y&4&&hD(o,h),y&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=YX.bind(null,h),mQ(o,h))));break;case 22:if(y=h.memoizedState!==null||yo,!y){u=u!==null&&u.memoizedState!==null||jn,w=yo;var E=jn;yo=y,(jn=u)&&!E?xo(o,h,(h.subtreeFlags&8772)!==0):bo(o,h),yo=w,jn=E}break;case 30:break;default:bo(o,h)}}function uD(o){var u=o.alternate;u!==null&&(o.alternate=null,uD(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&pa(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Xt=null,ui=!1;function vo(o,u,h){for(h=h.child;h!==null;)dD(o,u,h),h=h.sibling}function dD(o,u,h){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Mr,h)}catch{}switch(h.tag){case 26:jn||Aa(h,u),vo(o,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:jn||Aa(h,u);var y=Xt,w=ui;zl(h.type)&&(Xt=h.stateNode,ui=!1),vo(o,u,h),$p(h.stateNode),Xt=y,ui=w;break;case 5:jn||Aa(h,u);case 6:if(y=Xt,w=ui,Xt=null,vo(o,u,h),Xt=y,ui=w,Xt!==null)if(ui)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(h.stateNode)}catch(E){wt(h,u,E)}else try{Xt.removeChild(h.stateNode)}catch(E){wt(h,u,E)}break;case 18:Xt!==null&&(ui?(o=Xt,rP(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Cf(o)):rP(Xt,h.stateNode));break;case 4:y=Xt,w=ui,Xt=h.stateNode.containerInfo,ui=!0,vo(o,u,h),Xt=y,ui=w;break;case 0:case 11:case 14:case 15:Il(2,h,u),jn||Il(4,h,u),vo(o,u,h);break;case 1:jn||(Aa(h,u),y=h.stateNode,typeof y.componentWillUnmount=="function"&&iD(h,u,y)),vo(o,u,h);break;case 21:vo(o,u,h);break;case 22:jn=(y=jn)||h.memoizedState!==null,vo(o,u,h),jn=y;break;default:vo(o,u,h)}}function fD(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Cf(o)}catch(h){wt(u,u.return,h)}}}function hD(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Cf(o)}catch(h){wt(u,u.return,h)}}function UX(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new lD),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new lD),u;default:throw Error(r(435,o.tag))}}function Sy(o,u){var h=UX(o);u.forEach(function(y){if(!h.has(y)){h.add(y);var w=XX.bind(null,o,y);y.then(w,w)}})}function di(o,u){var h=u.deletions;if(h!==null)for(var y=0;y<h.length;y++){var w=h[y],E=o,O=u,F=O;e:for(;F!==null;){switch(F.tag){case 27:if(zl(F.type)){Xt=F.stateNode,ui=!1;break e}break;case 5:Xt=F.stateNode,ui=!1;break e;case 3:case 4:Xt=F.stateNode.containerInfo,ui=!0;break e}F=F.return}if(Xt===null)throw Error(r(160));dD(E,O,w),Xt=null,ui=!1,E=w.alternate,E!==null&&(E.return=null),w.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)pD(u,o),u=u.sibling}var qs=null;function pD(o,u){var h=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:di(u,o),fi(o),y&4&&(Il(3,o,o.return),Ip(3,o),Il(5,o,o.return));break;case 1:di(u,o),fi(o),y&512&&(jn||h===null||Aa(h,h.return)),y&64&&yo&&(o=o.updateQueue,o!==null&&(y=o.callbacks,y!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?y:h.concat(y))));break;case 26:var w=qs;if(di(u,o),fi(o),y&512&&(jn||h===null||Aa(h,h.return)),y&4){var E=h!==null?h.memoizedState:null;if(y=o.memoizedState,h===null)if(y===null)if(o.stateNode===null){e:{y=o.type,h=o.memoizedProps,w=w.ownerDocument||w;t:switch(y){case"title":E=w.getElementsByTagName("title")[0],(!E||E[un]||E[sn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=w.createElement(y),w.head.insertBefore(E,w.querySelector("head > title"))),yr(E,y,h),E[sn]=o,An(E),y=E;break e;case"link":var O=pP("link","href",w).get(y+(h.href||""));if(O){for(var F=0;F<O.length;F++)if(E=O[F],E.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&E.getAttribute("rel")===(h.rel==null?null:h.rel)&&E.getAttribute("title")===(h.title==null?null:h.title)&&E.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){O.splice(F,1);break t}}E=w.createElement(y),yr(E,y,h),w.head.appendChild(E);break;case"meta":if(O=pP("meta","content",w).get(y+(h.content||""))){for(F=0;F<O.length;F++)if(E=O[F],E.getAttribute("content")===(h.content==null?null:""+h.content)&&E.getAttribute("name")===(h.name==null?null:h.name)&&E.getAttribute("property")===(h.property==null?null:h.property)&&E.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&E.getAttribute("charset")===(h.charSet==null?null:h.charSet)){O.splice(F,1);break t}}E=w.createElement(y),yr(E,y,h),w.head.appendChild(E);break;default:throw Error(r(468,y))}E[sn]=o,An(E),y=E}o.stateNode=y}else mP(w,o.type,o.stateNode);else o.stateNode=hP(w,y,o.memoizedProps);else E!==y?(E===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):E.count--,y===null?mP(w,o.type,o.stateNode):hP(w,y,o.memoizedProps)):y===null&&o.stateNode!==null&&KS(o,o.memoizedProps,h.memoizedProps)}break;case 27:di(u,o),fi(o),y&512&&(jn||h===null||Aa(h,h.return)),h!==null&&y&4&&KS(o,o.memoizedProps,h.memoizedProps);break;case 5:if(di(u,o),fi(o),y&512&&(jn||h===null||Aa(h,h.return)),o.flags&32){w=o.stateNode;try{ci(w,"")}catch(Oe){wt(o,o.return,Oe)}}y&4&&o.stateNode!=null&&(w=o.memoizedProps,KS(o,w,h!==null?h.memoizedProps:w)),y&1024&&(QS=!0);break;case 6:if(di(u,o),fi(o),y&4){if(o.stateNode===null)throw Error(r(162));y=o.memoizedProps,h=o.stateNode;try{h.nodeValue=y}catch(Oe){wt(o,o.return,Oe)}}break;case 3:if(Vy=null,w=qs,qs=Ry(u.containerInfo),di(u,o),qs=w,fi(o),y&4&&h!==null&&h.memoizedState.isDehydrated)try{Cf(u.containerInfo)}catch(Oe){wt(o,o.return,Oe)}QS&&(QS=!1,mD(o));break;case 4:y=qs,qs=Ry(o.stateNode.containerInfo),di(u,o),fi(o),qs=y;break;case 12:di(u,o),fi(o);break;case 31:di(u,o),fi(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,Sy(o,y)));break;case 13:di(u,o),fi(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Ey=fr()),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,Sy(o,y)));break;case 22:w=o.memoizedState!==null;var q=h!==null&&h.memoizedState!==null,J=yo,ae=jn;if(yo=J||w,jn=ae||q,di(u,o),jn=ae,yo=J,fi(o),y&8192)e:for(u=o.stateNode,u._visibility=w?u._visibility&-2:u._visibility|1,w&&(h===null||q||yo||jn||ju(o)),h=null,u=o;;){if(u.tag===5||u.tag===26){if(h===null){q=h=u;try{if(E=q.stateNode,w)O=E.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{F=q.stateNode;var ue=q.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;F.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Oe){wt(q,q.return,Oe)}}}else if(u.tag===6){if(h===null){q=u;try{q.stateNode.nodeValue=w?"":q.memoizedProps}catch(Oe){wt(q,q.return,Oe)}}}else if(u.tag===18){if(h===null){q=u;try{var re=q.stateNode;w?iP(re,!0):iP(q.stateNode,!1)}catch(Oe){wt(q,q.return,Oe)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}y&4&&(y=o.updateQueue,y!==null&&(h=y.retryQueue,h!==null&&(y.retryQueue=null,Sy(o,h))));break;case 19:di(u,o),fi(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,Sy(o,y)));break;case 30:break;case 21:break;default:di(u,o),fi(o)}}function fi(o){var u=o.flags;if(u&2){try{for(var h,y=o.return;y!==null;){if(aD(y)){h=y;break}y=y.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var w=h.stateNode,E=YS(o);wy(o,E,w);break;case 5:var O=h.stateNode;h.flags&32&&(ci(O,""),h.flags&=-33);var F=YS(o);wy(o,F,O);break;case 3:case 4:var q=h.stateNode.containerInfo,J=YS(o);XS(o,J,q);break;default:throw Error(r(161))}}catch(ae){wt(o,o.return,ae)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function mD(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;mD(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function bo(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)cD(o,u.alternate,u),u=u.sibling}function ju(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Il(4,u,u.return),ju(u);break;case 1:Aa(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&iD(u,u.return,h),ju(u);break;case 27:$p(u.stateNode);case 26:case 5:Aa(u,u.return),ju(u);break;case 22:u.memoizedState===null&&ju(u);break;case 30:ju(u);break;default:ju(u)}o=o.sibling}}function xo(o,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var y=u.alternate,w=o,E=u,O=E.flags;switch(E.tag){case 0:case 11:case 15:xo(w,E,h),Ip(4,E);break;case 1:if(xo(w,E,h),y=E,w=y.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(J){wt(y,y.return,J)}if(y=E,w=y.updateQueue,w!==null){var F=y.stateNode;try{var q=w.shared.hiddenCallbacks;if(q!==null)for(w.shared.hiddenCallbacks=null,w=0;w<q.length;w++)Wj(q[w],F)}catch(J){wt(y,y.return,J)}}h&&O&64&&rD(E),Dp(E,E.return);break;case 27:oD(E);case 26:case 5:xo(w,E,h),h&&y===null&&O&4&&sD(E),Dp(E,E.return);break;case 12:xo(w,E,h);break;case 31:xo(w,E,h),h&&O&4&&fD(w,E);break;case 13:xo(w,E,h),h&&O&4&&hD(w,E);break;case 22:E.memoizedState===null&&xo(w,E,h),Dp(E,E.return);break;case 30:break;default:xo(w,E,h)}u=u.sibling}}function JS(o,u){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&xp(h))}function ZS(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&xp(o))}function Ws(o,u,h,y){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)gD(o,u,h,y),u=u.sibling}function gD(o,u,h,y){var w=u.flags;switch(u.tag){case 0:case 11:case 15:Ws(o,u,h,y),w&2048&&Ip(9,u);break;case 1:Ws(o,u,h,y);break;case 3:Ws(o,u,h,y),w&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&xp(o)));break;case 12:if(w&2048){Ws(o,u,h,y),o=u.stateNode;try{var E=u.memoizedProps,O=E.id,F=E.onPostCommit;typeof F=="function"&&F(O,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(q){wt(u,u.return,q)}}else Ws(o,u,h,y);break;case 31:Ws(o,u,h,y);break;case 13:Ws(o,u,h,y);break;case 23:break;case 22:E=u.stateNode,O=u.alternate,u.memoizedState!==null?E._visibility&2?Ws(o,u,h,y):Pp(o,u):E._visibility&2?Ws(o,u,h,y):(E._visibility|=2,yf(o,u,h,y,(u.subtreeFlags&10256)!==0||!1)),w&2048&&JS(O,u);break;case 24:Ws(o,u,h,y),w&2048&&ZS(u.alternate,u);break;default:Ws(o,u,h,y)}}function yf(o,u,h,y,w){for(w=w&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var E=o,O=u,F=h,q=y,J=O.flags;switch(O.tag){case 0:case 11:case 15:yf(E,O,F,q,w),Ip(8,O);break;case 23:break;case 22:var ae=O.stateNode;O.memoizedState!==null?ae._visibility&2?yf(E,O,F,q,w):Pp(E,O):(ae._visibility|=2,yf(E,O,F,q,w)),w&&J&2048&&JS(O.alternate,O);break;case 24:yf(E,O,F,q,w),w&&J&2048&&ZS(O.alternate,O);break;default:yf(E,O,F,q,w)}u=u.sibling}}function Pp(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=o,y=u,w=y.flags;switch(y.tag){case 22:Pp(h,y),w&2048&&JS(y.alternate,y);break;case 24:Pp(h,y),w&2048&&ZS(y.alternate,y);break;default:Pp(h,y)}u=u.sibling}}var Rp=8192;function vf(o,u,h){if(o.subtreeFlags&Rp)for(o=o.child;o!==null;)yD(o,u,h),o=o.sibling}function yD(o,u,h){switch(o.tag){case 26:vf(o,u,h),o.flags&Rp&&o.memoizedState!==null&&AQ(h,qs,o.memoizedState,o.memoizedProps);break;case 5:vf(o,u,h);break;case 3:case 4:var y=qs;qs=Ry(o.stateNode.containerInfo),vf(o,u,h),qs=y;break;case 22:o.memoizedState===null&&(y=o.alternate,y!==null&&y.memoizedState!==null?(y=Rp,Rp=16777216,vf(o,u,h),Rp=y):vf(o,u,h));break;default:vf(o,u,h)}}function vD(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Lp(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var y=u[h];tr=y,xD(y,o)}vD(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)bD(o),o=o.sibling}function bD(o){switch(o.tag){case 0:case 11:case 15:Lp(o),o.flags&2048&&Il(9,o,o.return);break;case 3:Lp(o);break;case 12:Lp(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,Ty(o)):Lp(o);break;default:Lp(o)}}function Ty(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var y=u[h];tr=y,xD(y,o)}vD(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Il(8,u,u.return),Ty(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,Ty(u));break;default:Ty(u)}o=o.sibling}}function xD(o,u){for(;tr!==null;){var h=tr;switch(h.tag){case 0:case 11:case 15:Il(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var y=h.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:xp(h.memoizedState.cache)}if(y=h.child,y!==null)y.return=h,tr=y;else e:for(h=o;tr!==null;){y=tr;var w=y.sibling,E=y.return;if(uD(y),y===h){tr=null;break e}if(w!==null){w.return=E,tr=w;break e}tr=E}}}var FX={getCacheForType:function(o){var u=mr(On),h=u.data.get(o);return h===void 0&&(h=o(),u.data.set(o,h)),h},cacheSignal:function(){return mr(On).controller.signal}},$X=typeof WeakMap=="function"?WeakMap:Map,gt=0,Mt=null,tt=null,rt=0,xt=0,Pi=null,Dl=!1,bf=!1,eT=!1,wo=0,fn=0,Pl=0,Iu=0,tT=0,Ri=0,xf=0,Vp=null,hi=null,nT=!1,Ey=0,wD=0,ky=1/0,_y=null,Rl=null,Fn=0,Ll=null,wf=null,So=0,rT=0,iT=null,SD=null,Bp=0,sT=null;function Li(){return(gt&2)!==0&&rt!==0?rt&-rt:W.T!==null?dT():pl()}function TD(){if(Ri===0)if((rt&536870912)===0||lt){var o=ro;ro<<=1,(ro&3932160)===0&&(ro=262144),Ri=o}else Ri=536870912;return o=Ii.current,o!==null&&(o.flags|=32),Ri}function pi(o,u,h){(o===Mt&&(xt===2||xt===9)||o.cancelPendingCommit!==null)&&(Sf(o,0),Vl(o,rt,Ri,!1)),Ls(o,h),((gt&2)===0||o!==Mt)&&(o===Mt&&((gt&2)===0&&(Iu|=h),fn===4&&Vl(o,rt,Ri,!1)),Ca(o))}function ED(o,u,h){if((gt&6)!==0)throw Error(r(327));var y=!h&&(u&127)===0&&(u&o.expiredLanes)===0||jr(o,u),w=y?WX(o,u):oT(o,u,!0),E=y;do{if(w===0){bf&&!y&&Vl(o,u,0,!1);break}else{if(h=o.current.alternate,E&&!HX(h)){w=oT(o,u,!1),E=!1;continue}if(w===2){if(E=u,o.errorRecoveryDisabledLanes&E)var O=0;else O=o.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){u=O;e:{var F=o;w=Vp;var q=F.current.memoizedState.isDehydrated;if(q&&(Sf(F,O).flags|=256),O=oT(F,O,!1),O!==2){if(eT&&!q){F.errorRecoveryDisabledLanes|=E,Iu|=E,w=4;break e}E=hi,hi=w,E!==null&&(hi===null?hi=E:hi.push.apply(hi,E))}w=O}if(E=!1,w!==2)continue}}if(w===1){Sf(o,0),Vl(o,u,0,!0);break}e:{switch(y=o,E=w,E){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Vl(y,u,Ri,!Dl);break e;case 2:hi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(w=Ey+300-fr(),10<w)){if(Vl(y,u,Ri,!Dl),zt(y,0,!0)!==0)break e;So=u,y.timeoutHandle=tP(kD.bind(null,y,h,hi,_y,nT,u,Ri,Iu,xf,Dl,E,"Throttled",-0,0),w);break e}kD(y,h,hi,_y,nT,u,Ri,Iu,xf,Dl,E,null,-0,0)}}break}while(!0);Ca(o)}function kD(o,u,h,y,w,E,O,F,q,J,ae,ue,ee,re){if(o.timeoutHandle=-1,ue=u.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bs},yD(u,E,ue);var Oe=(E&62914560)===E?Ey-fr():(E&4194048)===E?wD-fr():0;if(Oe=CQ(ue,Oe),Oe!==null){So=E,o.cancelPendingCommit=Oe(ID.bind(null,o,u,E,h,y,w,O,F,q,ae,ue,null,ee,re)),Vl(o,E,O,!J);return}}ID(o,u,E,h,y,w,O,F,q)}function HX(o){for(var u=o;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var y=0;y<h.length;y++){var w=h[y],E=w.getSnapshot;w=w.value;try{if(!Mi(E(),w))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Vl(o,u,h,y){u&=~tT,u&=~Iu,o.suspendedLanes|=u,o.pingedLanes&=~u,y&&(o.warmLanes|=u),y=o.expirationTimes;for(var w=u;0<w;){var E=31-Kt(w),O=1<<E;y[E]=-1,w&=~O}h!==0&&fa(o,h,u)}function Ay(){return(gt&6)===0?(zp(0),!1):!0}function aT(){if(tt!==null){if(xt===0)var o=tt.return;else o=tt,uo=Eu=null,SS(o),ff=null,Sp=0,o=tt;for(;o!==null;)nD(o.alternate,o),o=o.return;tt=null}}function Sf(o,u){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,uQ(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),So=0,aT(),Mt=o,tt=h=lo(o.current,null),rt=u,xt=0,Pi=null,Dl=!1,bf=jr(o,u),eT=!1,xf=Ri=tT=Iu=Pl=fn=0,hi=Vp=null,nT=!1,(u&8)!==0&&(u|=u&32);var y=o.entangledLanes;if(y!==0)for(o=o.entanglements,y&=u;0<y;){var w=31-Kt(y),E=1<<w;u|=o[w],y&=~E}return wo=u,K0(),h}function _D(o,u){Ye=null,W.H=Np,u===df||u===ny?(u=Fj(),xt=3):u===uS?(u=Fj(),xt=4):xt=u===VS?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Pi=u,tt===null&&(fn=1,gy(o,ts(u,o.current)))}function AD(){var o=Ii.current;return o===null?!0:(rt&4194048)===rt?ss===null:(rt&62914560)===rt||(rt&536870912)!==0?o===ss:!1}function CD(){var o=W.H;return W.H=Np,o===null?Np:o}function OD(){var o=W.A;return W.A=FX,o}function Cy(){fn=4,Dl||(rt&4194048)!==rt&&Ii.current!==null||(bf=!0),(Pl&134217727)===0&&(Iu&134217727)===0||Mt===null||Vl(Mt,rt,Ri,!1)}function oT(o,u,h){var y=gt;gt|=2;var w=CD(),E=OD();(Mt!==o||rt!==u)&&(_y=null,Sf(o,u)),u=!1;var O=fn;e:do try{if(xt!==0&&tt!==null){var F=tt,q=Pi;switch(xt){case 8:aT(),O=6;break e;case 3:case 2:case 9:case 6:Ii.current===null&&(u=!0);var J=xt;if(xt=0,Pi=null,Tf(o,F,q,J),h&&bf){O=0;break e}break;default:J=xt,xt=0,Pi=null,Tf(o,F,q,J)}}qX(),O=fn;break}catch(ae){_D(o,ae)}while(!0);return u&&o.shellSuspendCounter++,uo=Eu=null,gt=y,W.H=w,W.A=E,tt===null&&(Mt=null,rt=0,K0()),O}function qX(){for(;tt!==null;)ND(tt)}function WX(o,u){var h=gt;gt|=2;var y=CD(),w=OD();Mt!==o||rt!==u?(_y=null,ky=fr()+500,Sf(o,u)):bf=jr(o,u);e:do try{if(xt!==0&&tt!==null){u=tt;var E=Pi;t:switch(xt){case 1:xt=0,Pi=null,Tf(o,u,E,1);break;case 2:case 9:if(zj(E)){xt=0,Pi=null,MD(u);break}u=function(){xt!==2&&xt!==9||Mt!==o||(xt=7),Ca(o)},E.then(u,u);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:zj(E)?(xt=0,Pi=null,MD(u)):(xt=0,Pi=null,Tf(o,u,E,7));break;case 5:var O=null;switch(tt.tag){case 26:O=tt.memoizedState;case 5:case 27:var F=tt;if(O?gP(O):F.stateNode.complete){xt=0,Pi=null;var q=F.sibling;if(q!==null)tt=q;else{var J=F.return;J!==null?(tt=J,Oy(J)):tt=null}break t}}xt=0,Pi=null,Tf(o,u,E,5);break;case 6:xt=0,Pi=null,Tf(o,u,E,6);break;case 8:aT(),fn=6;break e;default:throw Error(r(462))}}GX();break}catch(ae){_D(o,ae)}while(!0);return uo=Eu=null,W.H=y,W.A=w,gt=h,tt!==null?0:(Mt=null,rt=0,K0(),fn)}function GX(){for(;tt!==null&&!Jh();)ND(tt)}function ND(o){var u=eD(o.alternate,o,wo);o.memoizedProps=o.pendingProps,u===null?Oy(o):tt=u}function MD(o){var u=o,h=u.alternate;switch(u.tag){case 15:case 0:u=KI(h,u,u.pendingProps,u.type,void 0,rt);break;case 11:u=KI(h,u,u.pendingProps,u.type.render,u.ref,rt);break;case 5:SS(u);default:nD(h,u),u=tt=Oj(u,wo),u=eD(h,u,wo)}o.memoizedProps=o.pendingProps,u===null?Oy(o):tt=u}function Tf(o,u,h,y){uo=Eu=null,SS(u),ff=null,Sp=0;var w=u.return;try{if(PX(o,w,u,h,rt)){fn=1,gy(o,ts(h,o.current)),tt=null;return}}catch(E){if(w!==null)throw tt=w,E;fn=1,gy(o,ts(h,o.current)),tt=null;return}u.flags&32768?(lt||y===1?o=!0:bf||(rt&536870912)!==0?o=!1:(Dl=o=!0,(y===2||y===9||y===3||y===6)&&(y=Ii.current,y!==null&&y.tag===13&&(y.flags|=16384))),jD(u,o)):Oy(u)}function Oy(o){var u=o;do{if((u.flags&32768)!==0){jD(u,Dl);return}o=u.return;var h=VX(u.alternate,u,wo);if(h!==null){tt=h;return}if(u=u.sibling,u!==null){tt=u;return}tt=u=o}while(u!==null);fn===0&&(fn=5)}function jD(o,u){do{var h=BX(o.alternate,o);if(h!==null){h.flags&=32767,tt=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(o=o.sibling,o!==null)){tt=o;return}tt=o=h}while(o!==null);fn=6,tt=null}function ID(o,u,h,y,w,E,O,F,q){o.cancelPendingCommit=null;do Ny();while(Fn!==0);if((gt&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(E=u.lanes|u.childLanes,E|=Y1,$d(o,h,E,O,F,q),o===Mt&&(tt=Mt=null,rt=0),wf=u,Ll=o,So=h,rT=E,iT=w,SD=y,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,QX(ua,function(){return VD(),null})):(o.callbackNode=null,o.callbackPriority=0),y=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||y){y=W.T,W.T=null,w=Y.p,Y.p=2,O=gt,gt|=4;try{zX(o,u,h)}finally{gt=O,Y.p=w,W.T=y}}Fn=1,DD(),PD(),RD()}}function DD(){if(Fn===1){Fn=0;var o=Ll,u=wf,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=W.T,W.T=null;var y=Y.p;Y.p=2;var w=gt;gt|=4;try{pD(u,o);var E=bT,O=xj(o.containerInfo),F=E.focusedElem,q=E.selectionRange;if(O!==F&&F&&F.ownerDocument&&bj(F.ownerDocument.documentElement,F)){if(q!==null&&H1(F)){var J=q.start,ae=q.end;if(ae===void 0&&(ae=J),"selectionStart"in F)F.selectionStart=J,F.selectionEnd=Math.min(ae,F.value.length);else{var ue=F.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var re=ee.getSelection(),Oe=F.textContent.length,Be=Math.min(q.start,Oe),Ct=q.end===void 0?Be:Math.min(q.end,Oe);!re.extend&&Be>Ct&&(O=Ct,Ct=Be,Be=O);var K=vj(F,Be),G=vj(F,Ct);if(K&&G&&(re.rangeCount!==1||re.anchorNode!==K.node||re.anchorOffset!==K.offset||re.focusNode!==G.node||re.focusOffset!==G.offset)){var Q=ue.createRange();Q.setStart(K.node,K.offset),re.removeAllRanges(),Be>Ct?(re.addRange(Q),re.extend(G.node,G.offset)):(Q.setEnd(G.node,G.offset),re.addRange(Q))}}}}for(ue=[],re=F;re=re.parentNode;)re.nodeType===1&&ue.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<ue.length;F++){var le=ue[F];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Fy=!!vT,bT=vT=null}finally{gt=w,Y.p=y,W.T=h}}o.current=u,Fn=2}}function PD(){if(Fn===2){Fn=0;var o=Ll,u=wf,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=W.T,W.T=null;var y=Y.p;Y.p=2;var w=gt;gt|=4;try{cD(o,u.alternate,u)}finally{gt=w,Y.p=y,W.T=h}}Fn=3}}function RD(){if(Fn===4||Fn===3){Fn=0,ru();var o=Ll,u=wf,h=So,y=SD;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Fn=5:(Fn=0,wf=Ll=null,LD(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(Rl=null),Ai(h),u=u.stateNode,kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Mr,u,void 0,(u.current.flags&128)===128)}catch{}if(y!==null){u=W.T,w=Y.p,Y.p=2,W.T=null;try{for(var E=o.onRecoverableError,O=0;O<y.length;O++){var F=y[O];E(F.value,{componentStack:F.stack})}}finally{W.T=u,Y.p=w}}(So&3)!==0&&Ny(),Ca(o),w=o.pendingLanes,(h&261930)!==0&&(w&42)!==0?o===sT?Bp++:(Bp=0,sT=o):Bp=0,zp(0)}}function LD(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,xp(u)))}function Ny(){return DD(),PD(),RD(),VD()}function VD(){if(Fn!==5)return!1;var o=Ll,u=rT;rT=0;var h=Ai(So),y=W.T,w=Y.p;try{Y.p=32>h?32:h,W.T=null,h=iT,iT=null;var E=Ll,O=So;if(Fn=0,wf=Ll=null,So=0,(gt&6)!==0)throw Error(r(331));var F=gt;if(gt|=4,bD(E.current),gD(E,E.current,O,h),gt=F,zp(0,!1),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Mr,E)}catch{}return!0}finally{Y.p=w,W.T=y,LD(o,u)}}function BD(o,u,h){u=ts(h,u),u=LS(o.stateNode,u,2),o=Nl(o,u,2),o!==null&&(Ls(o,2),Ca(o))}function wt(o,u,h){if(o.tag===3)BD(o,o,h);else for(;u!==null;){if(u.tag===3){BD(u,o,h);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Rl===null||!Rl.has(y))){o=ts(h,o),h=zI(2),y=Nl(u,h,2),y!==null&&(UI(h,y,u,o),Ls(y,2),Ca(y));break}}u=u.return}}function lT(o,u,h){var y=o.pingCache;if(y===null){y=o.pingCache=new $X;var w=new Set;y.set(u,w)}else w=y.get(u),w===void 0&&(w=new Set,y.set(u,w));w.has(h)||(eT=!0,w.add(h),o=KX.bind(null,o,u,h),u.then(o,o))}function KX(o,u,h){var y=o.pingCache;y!==null&&y.delete(u),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Mt===o&&(rt&h)===h&&(fn===4||fn===3&&(rt&62914560)===rt&&300>fr()-Ey?(gt&2)===0&&Sf(o,0):tT|=h,xf===rt&&(xf=0)),Ca(o)}function zD(o,u){u===0&&(u=qr()),o=wu(o,u),o!==null&&(Ls(o,u),Ca(o))}function YX(o){var u=o.memoizedState,h=0;u!==null&&(h=u.retryLane),zD(o,h)}function XX(o,u){var h=0;switch(o.tag){case 31:case 13:var y=o.stateNode,w=o.memoizedState;w!==null&&(h=w.retryLane);break;case 19:y=o.stateNode;break;case 22:y=o.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(u),zD(o,h)}function QX(o,u){return vn(o,u)}var My=null,Ef=null,cT=!1,jy=!1,uT=!1,Bl=0;function Ca(o){o!==Ef&&o.next===null&&(Ef===null?My=Ef=o:Ef=Ef.next=o),jy=!0,cT||(cT=!0,ZX())}function zp(o,u){if(!uT&&jy){uT=!0;do for(var h=!1,y=My;y!==null;){if(o!==0){var w=y.pendingLanes;if(w===0)var E=0;else{var O=y.suspendedLanes,F=y.pingedLanes;E=(1<<31-Kt(42|o)+1)-1,E&=w&~(O&~F),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(h=!0,HD(y,E))}else E=rt,E=zt(y,y===Mt?E:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(E&3)===0||jr(y,E)||(h=!0,HD(y,E));y=y.next}while(h);uT=!1}}function JX(){UD()}function UD(){jy=cT=!1;var o=0;Bl!==0&&cQ()&&(o=Bl);for(var u=fr(),h=null,y=My;y!==null;){var w=y.next,E=FD(y,u);E===0?(y.next=null,h===null?My=w:h.next=w,w===null&&(Ef=h)):(h=y,(o!==0||(E&3)!==0)&&(jy=!0)),y=w}Fn!==0&&Fn!==5||zp(o),Bl!==0&&(Bl=0)}function FD(o,u){for(var h=o.suspendedLanes,y=o.pingedLanes,w=o.expirationTimes,E=o.pendingLanes&-62914561;0<E;){var O=31-Kt(E),F=1<<O,q=w[O];q===-1?((F&h)===0||(F&y)!==0)&&(w[O]=Nt(F,u)):q<=u&&(o.expiredLanes|=F),E&=~F}if(u=Mt,h=rt,h=zt(o,o===u?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y=o.callbackNode,h===0||o===u&&(xt===2||xt===9)||o.cancelPendingCommit!==null)return y!==null&&y!==null&&ca(y),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||jr(o,h)){if(u=h&-h,u===o.callbackPriority)return u;switch(y!==null&&ca(y),Ai(h)){case 2:case 8:h=su;break;case 32:h=ua;break;case 268435456:h=ou;break;default:h=ua}return y=$D.bind(null,o),h=vn(h,y),o.callbackPriority=u,o.callbackNode=h,u}return y!==null&&y!==null&&ca(y),o.callbackPriority=2,o.callbackNode=null,2}function $D(o,u){if(Fn!==0&&Fn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(Ny()&&o.callbackNode!==h)return null;var y=rt;return y=zt(o,o===Mt?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y===0?null:(ED(o,y,u),FD(o,fr()),o.callbackNode!=null&&o.callbackNode===h?$D.bind(null,o):null)}function HD(o,u){if(Ny())return null;ED(o,u,!0)}function ZX(){dQ(function(){(gt&6)!==0?vn(iu,JX):UD()})}function dT(){if(Bl===0){var o=cf;o===0&&(o=_i,_i<<=1,(_i&261888)===0&&(_i=256)),Bl=o}return Bl}function qD(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Gd(""+o)}function WD(o,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,o.id&&h.setAttribute("form",o.id),u.parentNode.insertBefore(h,u),o=new FormData(o),h.parentNode.removeChild(h),o}function eQ(o,u,h,y,w){if(u==="submit"&&h&&h.stateNode===w){var E=qD((w[_n]||null).action),O=y.submitter;O&&(u=(u=O[_n]||null)?qD(u.formAction):O.getAttribute("formAction"),u!==null&&(E=u,O=null));var F=new wa("action","action",null,y,w);o.push({event:F,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Bl!==0){var q=O?WD(w,O):new FormData(w);MS(h,{pending:!0,data:q,method:w.method,action:E},null,q)}}else typeof E=="function"&&(F.preventDefault(),q=O?WD(w,O):new FormData(w),MS(h,{pending:!0,data:q,method:w.method,action:E},E,q))},currentTarget:w}]})}}for(var fT=0;fT<K1.length;fT++){var hT=K1[fT],tQ=hT.toLowerCase(),nQ=hT[0].toUpperCase()+hT.slice(1);Hs(tQ,"on"+nQ)}Hs(Tj,"onAnimationEnd"),Hs(Ej,"onAnimationIteration"),Hs(kj,"onAnimationStart"),Hs("dblclick","onDoubleClick"),Hs("focusin","onFocus"),Hs("focusout","onBlur"),Hs(vX,"onTransitionRun"),Hs(bX,"onTransitionStart"),Hs(xX,"onTransitionCancel"),Hs(_j,"onTransitionEnd"),ya("onMouseEnter",["mouseout","mouseover"]),ya("onMouseLeave",["mouseout","mouseover"]),ya("onPointerEnter",["pointerout","pointerover"]),ya("onPointerLeave",["pointerout","pointerover"]),ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Up="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rQ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Up));function GD(o,u){u=(u&4)!==0;for(var h=0;h<o.length;h++){var y=o[h],w=y.event;y=y.listeners;e:{var E=void 0;if(u)for(var O=y.length-1;0<=O;O--){var F=y[O],q=F.instance,J=F.currentTarget;if(F=F.listener,q!==E&&w.isPropagationStopped())break e;E=F,w.currentTarget=J;try{E(w)}catch(ae){G0(ae)}w.currentTarget=null,E=q}else for(O=0;O<y.length;O++){if(F=y[O],q=F.instance,J=F.currentTarget,F=F.listener,q!==E&&w.isPropagationStopped())break e;E=F,w.currentTarget=J;try{E(w)}catch(ae){G0(ae)}w.currentTarget=null,E=q}}}}function nt(o,u){var h=u[Ge];h===void 0&&(h=u[Ge]=new Set);var y=o+"__bubble";h.has(y)||(KD(u,o,2,!1),h.add(y))}function pT(o,u,h){var y=0;u&&(y|=4),KD(h,o,y,u)}var Iy="_reactListening"+Math.random().toString(36).slice(2);function mT(o){if(!o[Iy]){o[Iy]=!0,Zh.forEach(function(h){h!=="selectionchange"&&(rQ.has(h)||pT(h,!1,o),pT(h,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[Iy]||(u[Iy]=!0,pT("selectionchange",!1,u))}}function KD(o,u,h,y){switch(TP(u)){case 2:var w=MQ;break;case 8:w=jQ;break;default:w=NT}h=w.bind(null,u,h,o),w=void 0,!hu||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(w=!0),y?w!==void 0?o.addEventListener(u,h,{capture:!0,passive:w}):o.addEventListener(u,h,!0):w!==void 0?o.addEventListener(u,h,{passive:w}):o.addEventListener(u,h,!1)}function gT(o,u,h,y,w){var E=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var O=y.tag;if(O===3||O===4){var F=y.stateNode.containerInfo;if(F===w)break;if(O===4)for(O=y.return;O!==null;){var q=O.tag;if((q===3||q===4)&&O.stateNode.containerInfo===w)return;O=O.return}for(;F!==null;){if(O=Xi(F),O===null)return;if(q=O.tag,q===5||q===6||q===26||q===27){y=E=O;continue e}F=F.parentNode}}y=y.return}xl(function(){var J=E,ae=Qi(h),ue=[];e:{var ee=Aj.get(o);if(ee!==void 0){var re=wa,Oe=o;switch(o){case"keypress":if(mu(h)===0)break e;case"keydown":case"keyup":re=H0;break;case"focusin":Oe="focus",re=yu;break;case"focusout":Oe="blur",re=yu;break;case"beforeblur":case"afterblur":re=yu;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=fp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=P0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=A;break;case Tj:case Ej:case kj:re=L0;break;case _j:re=$;break;case"scroll":case"scrollend":re=dp;break;case"wheel":re=te;break;case"copy":case"cut":case"paste":re=V0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=oo;break;case"toggle":case"beforetoggle":re=Ke}var Be=(u&4)!==0,Ct=!Be&&(o==="scroll"||o==="scrollend"),K=Be?ee!==null?ee+"Capture":null:ee;Be=[];for(var G=J,Q;G!==null;){var le=G;if(Q=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Q===null||K===null||(le=zs(G,K),le!=null&&Be.push(Fp(G,le,Q))),Ct)break;G=G.return}0<Be.length&&(ee=new re(ee,Oe,null,h,ae),ue.push({event:ee,listeners:Be}))}}if((u&7)===0){e:{if(ee=o==="mouseover"||o==="pointerover",re=o==="mouseout"||o==="pointerout",ee&&h!==lp&&(Oe=h.relatedTarget||h.fromElement)&&(Xi(Oe)||Oe[Yi]))break e;if((re||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,re?(Oe=h.relatedTarget||h.toElement,re=J,Oe=Oe?Xi(Oe):null,Oe!==null&&(Ct=s(Oe),Be=Oe.tag,Oe!==Ct||Be!==5&&Be!==27&&Be!==6)&&(Oe=null)):(re=null,Oe=J),re!==Oe)){if(Be=fp,le="onMouseLeave",K="onMouseEnter",G="mouse",(o==="pointerout"||o==="pointerover")&&(Be=oo,le="onPointerLeave",K="onPointerEnter",G="pointer"),Ct=re==null?ee:Oi(re),Q=Oe==null?ee:Oi(Oe),ee=new Be(le,G+"leave",re,h,ae),ee.target=Ct,ee.relatedTarget=Q,le=null,Xi(ae)===J&&(Be=new Be(K,G+"enter",Oe,h,ae),Be.target=Q,Be.relatedTarget=Ct,le=Be),Ct=le,re&&Oe)t:{for(Be=iQ,K=re,G=Oe,Q=0,le=K;le;le=Be(le))Q++;le=0;for(var Ie=G;Ie;Ie=Be(Ie))le++;for(;0<Q-le;)K=Be(K),Q--;for(;0<le-Q;)G=Be(G),le--;for(;Q--;){if(K===G||G!==null&&K===G.alternate){Be=K;break t}K=Be(K),G=Be(G)}Be=null}else Be=null;re!==null&&YD(ue,ee,re,Be,!1),Oe!==null&&Ct!==null&&YD(ue,Ct,Oe,Be,!0)}}e:{if(ee=J?Oi(J):window,re=ee.nodeName&&ee.nodeName.toLowerCase(),re==="select"||re==="input"&&ee.type==="file")var ft=fj;else if(uj(ee))if(hj)ft=mX;else{ft=hX;var Ne=fX}else re=ee.nodeName,!re||re.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&Wd(J.elementType)&&(ft=fj):ft=pX;if(ft&&(ft=ft(o,J))){dj(ue,ft,h,ae);break e}Ne&&Ne(o,ee,J),o==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&sp(ee,"number",ee.value)}switch(Ne=J?Oi(J):window,o){case"focusin":(uj(Ne)||Ne.contentEditable==="true")&&(ef=Ne,q1=J,yp=null);break;case"focusout":yp=q1=ef=null;break;case"mousedown":W1=!0;break;case"contextmenu":case"mouseup":case"dragend":W1=!1,wj(ue,h,ae);break;case"selectionchange":if(yX)break;case"keydown":case"keyup":wj(ue,h,ae)}var Qe;if(mt)e:{switch(o){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Zd?vu(o,h)&&(it="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(it="onCompositionStart");it&&(Ea&&h.locale!=="ko"&&(Zd||it!=="onCompositionStart"?it==="onCompositionEnd"&&Zd&&(Qe=up()):(xa=ae,cp="value"in xa?xa.value:xa.textContent,Zd=!0)),Ne=Dy(J,it),0<Ne.length&&(it=new Ta(it,o,null,h,ae),ue.push({event:it,listeners:Ne}),Qe?it.data=Qe:(Qe=Jd(h),Qe!==null&&(it.data=Qe)))),(Qe=Zi?lX(o,h):cX(o,h))&&(it=Dy(J,"onBeforeInput"),0<it.length&&(Ne=new Ta("onBeforeInput","beforeinput",null,h,ae),ue.push({event:Ne,listeners:it}),Ne.data=Qe)),eQ(ue,o,J,h,ae)}GD(ue,u)})}function Fp(o,u,h){return{instance:o,listener:u,currentTarget:h}}function Dy(o,u){for(var h=u+"Capture",y=[];o!==null;){var w=o,E=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||E===null||(w=zs(o,h),w!=null&&y.unshift(Fp(o,w,E)),w=zs(o,u),w!=null&&y.push(Fp(o,w,E))),o.tag===3)return y;o=o.return}return[]}function iQ(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function YD(o,u,h,y,w){for(var E=u._reactName,O=[];h!==null&&h!==y;){var F=h,q=F.alternate,J=F.stateNode;if(F=F.tag,q!==null&&q===y)break;F!==5&&F!==26&&F!==27||J===null||(q=J,w?(J=zs(h,E),J!=null&&O.unshift(Fp(h,J,q))):w||(J=zs(h,E),J!=null&&O.push(Fp(h,J,q)))),h=h.return}O.length!==0&&o.push({event:u,listeners:O})}var sQ=/\r\n?/g,aQ=/\u0000|\uFFFD/g;function XD(o){return(typeof o=="string"?o:""+o).replace(sQ,`
`).replace(aQ,"")}function QD(o,u){return u=XD(u),XD(o)===u}function At(o,u,h,y,w,E){switch(h){case"children":typeof y=="string"?u==="body"||u==="textarea"&&y===""||ci(o,y):(typeof y=="number"||typeof y=="bigint")&&u!=="body"&&ci(o,""+y);break;case"className":Ni(o,"class",y);break;case"tabIndex":Ni(o,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Ni(o,h,y);break;case"style":op(o,y,E);break;case"data":if(u!=="object"){Ni(o,"data",y);break}case"src":case"href":if(y===""&&(u!=="a"||h!=="href")){o.removeAttribute(h);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(h);break}y=Gd(""+y),o.setAttribute(h,y);break;case"action":case"formAction":if(typeof y=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(h==="formAction"?(u!=="input"&&At(o,u,"name",w.name,w,null),At(o,u,"formEncType",w.formEncType,w,null),At(o,u,"formMethod",w.formMethod,w,null),At(o,u,"formTarget",w.formTarget,w,null)):(At(o,u,"encType",w.encType,w,null),At(o,u,"method",w.method,w,null),At(o,u,"target",w.target,w,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(h);break}y=Gd(""+y),o.setAttribute(h,y);break;case"onClick":y!=null&&(o.onclick=Bs);break;case"onScroll":y!=null&&nt("scroll",o);break;case"onScrollEnd":y!=null&&nt("scrollend",o);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(h=y.__html,h!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":o.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){o.removeAttribute("xlink:href");break}h=Gd(""+y),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(h,""+y):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":y===!0?o.setAttribute(h,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(h,y):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?o.setAttribute(h,y):o.removeAttribute(h);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?o.removeAttribute(h):o.setAttribute(h,y);break;case"popover":nt("beforetoggle",o),nt("toggle",o),Hd(o,"popover",y);break;case"xlinkActuate":Cn(o,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Cn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Cn(o,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Cn(o,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Cn(o,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Cn(o,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Cn(o,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Cn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Cn(o,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Hd(o,"is",y);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=D0.get(h)||h,Hd(o,h,y))}}function yT(o,u,h,y,w,E){switch(h){case"style":op(o,y,E);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(h=y.__html,h!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof y=="string"?ci(o,y):(typeof y=="number"||typeof y=="bigint")&&ci(o,""+y);break;case"onScroll":y!=null&&nt("scroll",o);break;case"onScrollEnd":y!=null&&nt("scrollend",o);break;case"onClick":y!=null&&(o.onclick=Bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ep.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),u=h.slice(2,w?h.length-7:void 0),E=o[_n]||null,E=E!=null?E[h]:null,typeof E=="function"&&o.removeEventListener(u,E,w),typeof y=="function")){typeof E!="function"&&E!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(u,y,w);break e}h in o?o[h]=y:y===!0?o.setAttribute(h,""):Hd(o,h,y)}}}function yr(o,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",o),nt("load",o);var y=!1,w=!1,E;for(E in h)if(h.hasOwnProperty(E)){var O=h[E];if(O!=null)switch(E){case"src":y=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:At(o,u,E,O,h,null)}}w&&At(o,u,"srcSet",h.srcSet,h,null),y&&At(o,u,"src",h.src,h,null);return;case"input":nt("invalid",o);var F=E=O=w=null,q=null,J=null;for(y in h)if(h.hasOwnProperty(y)){var ae=h[y];if(ae!=null)switch(y){case"name":w=ae;break;case"type":O=ae;break;case"checked":q=ae;break;case"defaultChecked":J=ae;break;case"value":E=ae;break;case"defaultValue":F=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,u));break;default:At(o,u,y,ae,h,null)}}M0(o,E,F,q,J,O,w,!1);return;case"select":nt("invalid",o),y=O=E=null;for(w in h)if(h.hasOwnProperty(w)&&(F=h[w],F!=null))switch(w){case"value":E=F;break;case"defaultValue":O=F;break;case"multiple":y=F;default:At(o,u,w,F,h,null)}u=E,h=O,o.multiple=!!y,u!=null?gl(o,!!y,u,!1):h!=null&&gl(o,!!y,h,!0);return;case"textarea":nt("invalid",o),E=w=y=null;for(O in h)if(h.hasOwnProperty(O)&&(F=h[O],F!=null))switch(O){case"value":y=F;break;case"defaultValue":w=F;break;case"children":E=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:At(o,u,O,F,h,null)}yl(o,y,w,E);return;case"option":for(q in h)if(h.hasOwnProperty(q)&&(y=h[q],y!=null))switch(q){case"selected":o.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:At(o,u,q,y,h,null)}return;case"dialog":nt("beforetoggle",o),nt("toggle",o),nt("cancel",o),nt("close",o);break;case"iframe":case"object":nt("load",o);break;case"video":case"audio":for(y=0;y<Up.length;y++)nt(Up[y],o);break;case"image":nt("error",o),nt("load",o);break;case"details":nt("toggle",o);break;case"embed":case"source":case"link":nt("error",o),nt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in h)if(h.hasOwnProperty(J)&&(y=h[J],y!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:At(o,u,J,y,h,null)}return;default:if(Wd(u)){for(ae in h)h.hasOwnProperty(ae)&&(y=h[ae],y!==void 0&&yT(o,u,ae,y,h,void 0));return}}for(F in h)h.hasOwnProperty(F)&&(y=h[F],y!=null&&At(o,u,F,y,h,null))}function oQ(o,u,h,y){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,E=null,O=null,F=null,q=null,J=null,ae=null;for(re in h){var ue=h[re];if(h.hasOwnProperty(re)&&ue!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":q=ue;default:y.hasOwnProperty(re)||At(o,u,re,null,y,ue)}}for(var ee in y){var re=y[ee];if(ue=h[ee],y.hasOwnProperty(ee)&&(re!=null||ue!=null))switch(ee){case"type":E=re;break;case"name":w=re;break;case"checked":J=re;break;case"defaultChecked":ae=re;break;case"value":O=re;break;case"defaultValue":F=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,u));break;default:re!==ue&&At(o,u,ee,re,y,ue)}}qd(o,O,F,q,J,ae,E,w);return;case"select":re=O=F=ee=null;for(E in h)if(q=h[E],h.hasOwnProperty(E)&&q!=null)switch(E){case"value":break;case"multiple":re=q;default:y.hasOwnProperty(E)||At(o,u,E,null,y,q)}for(w in y)if(E=y[w],q=h[w],y.hasOwnProperty(w)&&(E!=null||q!=null))switch(w){case"value":ee=E;break;case"defaultValue":F=E;break;case"multiple":O=E;default:E!==q&&At(o,u,w,E,y,q)}u=F,h=O,y=re,ee!=null?gl(o,!!h,ee,!1):!!y!=!!h&&(u!=null?gl(o,!!h,u,!0):gl(o,!!h,h?[]:"",!1));return;case"textarea":re=ee=null;for(F in h)if(w=h[F],h.hasOwnProperty(F)&&w!=null&&!y.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:At(o,u,F,null,y,w)}for(O in y)if(w=y[O],E=h[O],y.hasOwnProperty(O)&&(w!=null||E!=null))switch(O){case"value":ee=w;break;case"defaultValue":re=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==E&&At(o,u,O,w,y,E)}j0(o,ee,re);return;case"option":for(var Oe in h)if(ee=h[Oe],h.hasOwnProperty(Oe)&&ee!=null&&!y.hasOwnProperty(Oe))switch(Oe){case"selected":o.selected=!1;break;default:At(o,u,Oe,null,y,ee)}for(q in y)if(ee=y[q],re=h[q],y.hasOwnProperty(q)&&ee!==re&&(ee!=null||re!=null))switch(q){case"selected":o.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:At(o,u,q,ee,y,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in h)ee=h[Be],h.hasOwnProperty(Be)&&ee!=null&&!y.hasOwnProperty(Be)&&At(o,u,Be,null,y,ee);for(J in y)if(ee=y[J],re=h[J],y.hasOwnProperty(J)&&ee!==re&&(ee!=null||re!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,u));break;default:At(o,u,J,ee,y,re)}return;default:if(Wd(u)){for(var Ct in h)ee=h[Ct],h.hasOwnProperty(Ct)&&ee!==void 0&&!y.hasOwnProperty(Ct)&&yT(o,u,Ct,void 0,y,ee);for(ae in y)ee=y[ae],re=h[ae],!y.hasOwnProperty(ae)||ee===re||ee===void 0&&re===void 0||yT(o,u,ae,ee,y,re);return}}for(var K in h)ee=h[K],h.hasOwnProperty(K)&&ee!=null&&!y.hasOwnProperty(K)&&At(o,u,K,null,y,ee);for(ue in y)ee=y[ue],re=h[ue],!y.hasOwnProperty(ue)||ee===re||ee==null&&re==null||At(o,u,ue,ee,y,re)}function JD(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lQ(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,h=performance.getEntriesByType("resource"),y=0;y<h.length;y++){var w=h[y],E=w.transferSize,O=w.initiatorType,F=w.duration;if(E&&F&&JD(O)){for(O=0,F=w.responseEnd,y+=1;y<h.length;y++){var q=h[y],J=q.startTime;if(J>F)break;var ae=q.transferSize,ue=q.initiatorType;ae&&JD(ue)&&(q=q.responseEnd,O+=ae*(q<F?1:(F-J)/(q-J)))}if(--y,u+=8*(E+O)/(w.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var vT=null,bT=null;function Py(o){return o.nodeType===9?o:o.ownerDocument}function ZD(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eP(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function xT(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var wT=null;function cQ(){var o=window.event;return o&&o.type==="popstate"?o===wT?!1:(wT=o,!0):(wT=null,!1)}var tP=typeof setTimeout=="function"?setTimeout:void 0,uQ=typeof clearTimeout=="function"?clearTimeout:void 0,nP=typeof Promise=="function"?Promise:void 0,dQ=typeof queueMicrotask=="function"?queueMicrotask:typeof nP<"u"?function(o){return nP.resolve(null).then(o).catch(fQ)}:tP;function fQ(o){setTimeout(function(){throw o})}function zl(o){return o==="head"}function rP(o,u){var h=u,y=0;do{var w=h.nextSibling;if(o.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"||h==="/&"){if(y===0){o.removeChild(w),Cf(u);return}y--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")y++;else if(h==="html")$p(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,$p(h);for(var E=h.firstChild;E;){var O=E.nextSibling,F=E.nodeName;E[un]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&E.rel.toLowerCase()==="stylesheet"||h.removeChild(E),E=O}}else h==="body"&&$p(o.ownerDocument.body);h=w}while(h);Cf(u)}function iP(o,u){var h=o;o=0;do{var y=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),y&&y.nodeType===8)if(h=y.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=y}while(h)}function ST(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":ST(h),pa(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function hQ(o,u,h,y){for(;o.nodeType===1;){var w=h;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!y&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(y){if(!o[un])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(E=o.getAttribute("rel"),E==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(E!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(E=o.getAttribute("src"),(E!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&E&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var E=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===E)return o}else return o;if(o=as(o.nextSibling),o===null)break}return null}function pQ(o,u,h){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=as(o.nextSibling),o===null))return null;return o}function sP(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=as(o.nextSibling),o===null))return null;return o}function TT(o){return o.data==="$?"||o.data==="$~"}function ET(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function mQ(o,u){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||h.readyState!=="loading")u();else{var y=function(){u(),h.removeEventListener("DOMContentLoaded",y)};h.addEventListener("DOMContentLoaded",y),o._reactRetry=y}}function as(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var kT=null;function aP(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(u===0)return as(o.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}o=o.nextSibling}return null}function oP(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return o;u--}else h!=="/$"&&h!=="/&"||u++}o=o.previousSibling}return null}function lP(o,u,h){switch(u=Py(h),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function $p(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);pa(o)}var ls=new Map,cP=new Set;function Ry(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var To=Y.d;Y.d={f:gQ,r:yQ,D:vQ,C:bQ,L:xQ,m:wQ,X:TQ,S:SQ,M:EQ};function gQ(){var o=To.f(),u=Ay();return o||u}function yQ(o){var u=oi(o);u!==null&&u.tag===5&&u.type==="form"?_I(u):To.r(o)}var kf=typeof document>"u"?null:document;function uP(o,u,h){var y=kf;if(y&&typeof u=="string"&&u){var w=li(u);w='link[rel="'+o+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),cP.has(w)||(cP.add(w),o={rel:o,crossOrigin:h,href:u},y.querySelector(w)===null&&(u=y.createElement("link"),yr(u,"link",o),An(u),y.head.appendChild(u)))}}function vQ(o){To.D(o),uP("dns-prefetch",o,null)}function bQ(o,u){To.C(o,u),uP("preconnect",o,u)}function xQ(o,u,h){To.L(o,u,h);var y=kf;if(y&&o&&u){var w='link[rel="preload"][as="'+li(u)+'"]';u==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+li(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+li(h.imageSizes)+'"]')):w+='[href="'+li(o)+'"]';var E=w;switch(u){case"style":E=_f(o);break;case"script":E=Af(o)}ls.has(E)||(o=p({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:o,as:u},h),ls.set(E,o),y.querySelector(w)!==null||u==="style"&&y.querySelector(Hp(E))||u==="script"&&y.querySelector(qp(E))||(u=y.createElement("link"),yr(u,"link",o),An(u),y.head.appendChild(u)))}}function wQ(o,u){To.m(o,u);var h=kf;if(h&&o){var y=u&&typeof u.as=="string"?u.as:"script",w='link[rel="modulepreload"][as="'+li(y)+'"][href="'+li(o)+'"]',E=w;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Af(o)}if(!ls.has(E)&&(o=p({rel:"modulepreload",href:o},u),ls.set(E,o),h.querySelector(w)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(qp(E)))return}y=h.createElement("link"),yr(y,"link",o),An(y),h.head.appendChild(y)}}}function SQ(o,u,h){To.S(o,u,h);var y=kf;if(y&&o){var w=ma(y).hoistableStyles,E=_f(o);u=u||"default";var O=w.get(E);if(!O){var F={loading:0,preload:null};if(O=y.querySelector(Hp(E)))F.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":u},h),(h=ls.get(E))&&_T(o,h);var q=O=y.createElement("link");An(q),yr(q,"link",o),q._p=new Promise(function(J,ae){q.onload=J,q.onerror=ae}),q.addEventListener("load",function(){F.loading|=1}),q.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Ly(O,u,y)}O={type:"stylesheet",instance:O,count:1,state:F},w.set(E,O)}}}function TQ(o,u){To.X(o,u);var h=kf;if(h&&o){var y=ma(h).hoistableScripts,w=Af(o),E=y.get(w);E||(E=h.querySelector(qp(w)),E||(o=p({src:o,async:!0},u),(u=ls.get(w))&&AT(o,u),E=h.createElement("script"),An(E),yr(E,"link",o),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},y.set(w,E))}}function EQ(o,u){To.M(o,u);var h=kf;if(h&&o){var y=ma(h).hoistableScripts,w=Af(o),E=y.get(w);E||(E=h.querySelector(qp(w)),E||(o=p({src:o,async:!0,type:"module"},u),(u=ls.get(w))&&AT(o,u),E=h.createElement("script"),An(E),yr(E,"link",o),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},y.set(w,E))}}function dP(o,u,h,y){var w=(w=pe.current)?Ry(w):null;if(!w)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=_f(h.href),h=ma(w).hoistableStyles,y=h.get(u),y||(y={type:"style",instance:null,count:0,state:null},h.set(u,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=_f(h.href);var E=ma(w).hoistableStyles,O=E.get(o);if(O||(w=w.ownerDocument||w,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(o,O),(E=w.querySelector(Hp(o)))&&!E._p&&(O.instance=E,O.state.loading=5),ls.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ls.set(o,h),E||kQ(w,o,h,O.state))),u&&y===null)throw Error(r(528,""));return O}if(u&&y!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Af(h),h=ma(w).hoistableScripts,y=h.get(u),y||(y={type:"script",instance:null,count:0,state:null},h.set(u,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function _f(o){return'href="'+li(o)+'"'}function Hp(o){return'link[rel="stylesheet"]['+o+"]"}function fP(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function kQ(o,u,h,y){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?y.loading=1:(u=o.createElement("link"),y.preload=u,u.addEventListener("load",function(){return y.loading|=1}),u.addEventListener("error",function(){return y.loading|=2}),yr(u,"link",h),An(u),o.head.appendChild(u))}function Af(o){return'[src="'+li(o)+'"]'}function qp(o){return"script[async]"+o}function hP(o,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var y=o.querySelector('style[data-href~="'+li(h.href)+'"]');if(y)return u.instance=y,An(y),y;var w=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return y=(o.ownerDocument||o).createElement("style"),An(y),yr(y,"style",w),Ly(y,h.precedence,o),u.instance=y;case"stylesheet":w=_f(h.href);var E=o.querySelector(Hp(w));if(E)return u.state.loading|=4,u.instance=E,An(E),E;y=fP(h),(w=ls.get(w))&&_T(y,w),E=(o.ownerDocument||o).createElement("link"),An(E);var O=E;return O._p=new Promise(function(F,q){O.onload=F,O.onerror=q}),yr(E,"link",y),u.state.loading|=4,Ly(E,h.precedence,o),u.instance=E;case"script":return E=Af(h.src),(w=o.querySelector(qp(E)))?(u.instance=w,An(w),w):(y=h,(w=ls.get(E))&&(y=p({},h),AT(y,w)),o=o.ownerDocument||o,w=o.createElement("script"),An(w),yr(w,"link",y),o.head.appendChild(w),u.instance=w);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(y=u.instance,u.state.loading|=4,Ly(y,h.precedence,o));return u.instance}function Ly(o,u,h){for(var y=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=y.length?y[y.length-1]:null,E=w,O=0;O<y.length;O++){var F=y[O];if(F.dataset.precedence===u)E=F;else if(E!==w)break}E?E.parentNode.insertBefore(o,E.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(o,u.firstChild))}function _T(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function AT(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var Vy=null;function pP(o,u,h){if(Vy===null){var y=new Map,w=Vy=new Map;w.set(h,y)}else w=Vy,y=w.get(h),y||(y=new Map,w.set(h,y));if(y.has(o))return y;for(y.set(o,null),h=h.getElementsByTagName(o),w=0;w<h.length;w++){var E=h[w];if(!(E[un]||E[sn]||o==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var O=E.getAttribute(u)||"";O=o+O;var F=y.get(O);F?F.push(E):y.set(O,[E])}}return y}function mP(o,u,h){o=o.ownerDocument||o,o.head.insertBefore(h,u==="title"?o.querySelector("head > title"):null)}function _Q(o,u,h){if(h===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function gP(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function AQ(o,u,h,y){if(h.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var w=_f(y.href),E=u.querySelector(Hp(w));if(E){u=E._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=By.bind(o),u.then(o,o)),h.state.loading|=4,h.instance=E,An(E);return}E=u.ownerDocument||u,y=fP(y),(w=ls.get(w))&&_T(y,w),E=E.createElement("link"),An(E);var O=E;O._p=new Promise(function(F,q){O.onload=F,O.onerror=q}),yr(E,"link",y),h.instance=E}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=By.bind(o),u.addEventListener("load",h),u.addEventListener("error",h))}}var CT=0;function CQ(o,u){return o.stylesheets&&o.count===0&&Uy(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var y=setTimeout(function(){if(o.stylesheets&&Uy(o,o.stylesheets),o.unsuspend){var E=o.unsuspend;o.unsuspend=null,E()}},6e4+u);0<o.imgBytes&&CT===0&&(CT=62500*lQ());var w=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Uy(o,o.stylesheets),o.unsuspend)){var E=o.unsuspend;o.unsuspend=null,E()}},(o.imgBytes>CT?50:800)+u);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(y),clearTimeout(w)}}:null}function By(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uy(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var zy=null;function Uy(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,zy=new Map,u.forEach(OQ,o),zy=null,By.call(o))}function OQ(o,u){if(!(u.state.loading&4)){var h=zy.get(o);if(h)var y=h.get(null);else{h=new Map,zy.set(o,h);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<w.length;E++){var O=w[E];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(h.set(O.dataset.precedence,O),y=O)}y&&h.set(null,y)}w=u.instance,O=w.getAttribute("data-precedence"),E=h.get(O)||y,E===y&&h.set(null,w),h.set(O,w),this.count++,y=By.bind(this),w.addEventListener("load",y),w.addEventListener("error",y),E?E.parentNode.insertBefore(w,E.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),u.state.loading|=4}}var Wp={$$typeof:N,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function NQ(o,u,h,y,w,E,O,F,q){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.hiddenUpdates=Ki(null),this.identifierPrefix=y,this.onUncaughtError=w,this.onCaughtError=E,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function yP(o,u,h,y,w,E,O,F,q,J,ae,ue){return o=new NQ(o,u,h,O,q,J,ae,ue,F),u=1,E===!0&&(u|=24),E=ji(3,null,null,u),o.current=E,E.stateNode=o,u=oS(),u.refCount++,o.pooledCache=u,u.refCount++,E.memoizedState={element:y,isDehydrated:h,cache:u},dS(E),o}function vP(o){return o?(o=rf,o):rf}function bP(o,u,h,y,w,E){w=vP(w),y.context===null?y.context=w:y.pendingContext=w,y=Ol(u),y.payload={element:h},E=E===void 0?null:E,E!==null&&(y.callback=E),h=Nl(o,y,u),h!==null&&(pi(h,o,u),Ep(h,o,u))}function xP(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<u?h:u}}function OT(o,u){xP(o,u),(o=o.alternate)&&xP(o,u)}function wP(o){if(o.tag===13||o.tag===31){var u=wu(o,67108864);u!==null&&pi(u,o,67108864),OT(o,67108864)}}function SP(o){if(o.tag===13||o.tag===31){var u=Li();u=Vs(u);var h=wu(o,u);h!==null&&pi(h,o,u),OT(o,u)}}var Fy=!0;function MQ(o,u,h,y){var w=W.T;W.T=null;var E=Y.p;try{Y.p=2,NT(o,u,h,y)}finally{Y.p=E,W.T=w}}function jQ(o,u,h,y){var w=W.T;W.T=null;var E=Y.p;try{Y.p=8,NT(o,u,h,y)}finally{Y.p=E,W.T=w}}function NT(o,u,h,y){if(Fy){var w=MT(y);if(w===null)gT(o,u,y,$y,h),EP(o,y);else if(DQ(w,o,u,h,y))y.stopPropagation();else if(EP(o,y),u&4&&-1<IQ.indexOf(o)){for(;w!==null;){var E=oi(w);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var O=Bt(E.pendingLanes);if(O!==0){var F=E;for(F.pendingLanes|=2,F.entangledLanes|=2;O;){var q=1<<31-Kt(O);F.entanglements[1]|=q,O&=~q}Ca(E),(gt&6)===0&&(ky=fr()+500,zp(0))}}break;case 31:case 13:F=wu(E,2),F!==null&&pi(F,E,2),Ay(),OT(E,2)}if(E=MT(y),E===null&&gT(o,u,y,$y,h),E===w)break;w=E}w!==null&&y.stopPropagation()}else gT(o,u,y,null,h)}}function MT(o){return o=Qi(o),jT(o)}var $y=null;function jT(o){if($y=null,o=Xi(o),o!==null){var u=s(o);if(u===null)o=null;else{var h=u.tag;if(h===13){if(o=a(u),o!==null)return o;o=null}else if(h===31){if(o=l(u),o!==null)return o;o=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return $y=o,null}function TP(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(no()){case iu:return 2;case su:return 8;case ua:case au:return 32;case ou:return 268435456;default:return 32}default:return 32}}var IT=!1,Ul=null,Fl=null,$l=null,Gp=new Map,Kp=new Map,Hl=[],IQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function EP(o,u){switch(o){case"focusin":case"focusout":Ul=null;break;case"dragenter":case"dragleave":Fl=null;break;case"mouseover":case"mouseout":$l=null;break;case"pointerover":case"pointerout":Gp.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kp.delete(u.pointerId)}}function Yp(o,u,h,y,w,E){return o===null||o.nativeEvent!==E?(o={blockedOn:u,domEventName:h,eventSystemFlags:y,nativeEvent:E,targetContainers:[w]},u!==null&&(u=oi(u),u!==null&&wP(u)),o):(o.eventSystemFlags|=y,u=o.targetContainers,w!==null&&u.indexOf(w)===-1&&u.push(w),o)}function DQ(o,u,h,y,w){switch(u){case"focusin":return Ul=Yp(Ul,o,u,h,y,w),!0;case"dragenter":return Fl=Yp(Fl,o,u,h,y,w),!0;case"mouseover":return $l=Yp($l,o,u,h,y,w),!0;case"pointerover":var E=w.pointerId;return Gp.set(E,Yp(Gp.get(E)||null,o,u,h,y,w)),!0;case"gotpointercapture":return E=w.pointerId,Kp.set(E,Yp(Kp.get(E)||null,o,u,h,y,w)),!0}return!1}function kP(o){var u=Xi(o.target);if(u!==null){var h=s(u);if(h!==null){if(u=h.tag,u===13){if(u=a(h),u!==null){o.blockedOn=u,Ci(o.priority,function(){SP(h)});return}}else if(u===31){if(u=l(h),u!==null){o.blockedOn=u,Ci(o.priority,function(){SP(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Hy(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var h=MT(o.nativeEvent);if(h===null){h=o.nativeEvent;var y=new h.constructor(h.type,h);lp=y,h.target.dispatchEvent(y),lp=null}else return u=oi(h),u!==null&&wP(u),o.blockedOn=h,!1;u.shift()}return!0}function _P(o,u,h){Hy(o)&&h.delete(u)}function PQ(){IT=!1,Ul!==null&&Hy(Ul)&&(Ul=null),Fl!==null&&Hy(Fl)&&(Fl=null),$l!==null&&Hy($l)&&($l=null),Gp.forEach(_P),Kp.forEach(_P)}function qy(o,u){o.blockedOn===u&&(o.blockedOn=null,IT||(IT=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,PQ)))}var Wy=null;function AP(o){Wy!==o&&(Wy=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Wy===o&&(Wy=null);for(var u=0;u<o.length;u+=3){var h=o[u],y=o[u+1],w=o[u+2];if(typeof y!="function"){if(jT(y||h)===null)continue;break}var E=oi(h);E!==null&&(o.splice(u,3),u-=3,MS(E,{pending:!0,data:w,method:h.method,action:y},y,w))}}))}function Cf(o){function u(q){return qy(q,o)}Ul!==null&&qy(Ul,o),Fl!==null&&qy(Fl,o),$l!==null&&qy($l,o),Gp.forEach(u),Kp.forEach(u);for(var h=0;h<Hl.length;h++){var y=Hl[h];y.blockedOn===o&&(y.blockedOn=null)}for(;0<Hl.length&&(h=Hl[0],h.blockedOn===null);)kP(h),h.blockedOn===null&&Hl.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(y=0;y<h.length;y+=3){var w=h[y],E=h[y+1],O=w[_n]||null;if(typeof E=="function")O||AP(h);else if(O){var F=null;if(E&&E.hasAttribute("formAction")){if(w=E,O=E[_n]||null)F=O.formAction;else if(jT(w)!==null)continue}else F=O.action;typeof F=="function"?h[y+1]=F:(h.splice(y,3),y-=3),AP(h)}}}function CP(){function o(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(O){return w=O})},focusReset:"manual",scroll:"manual"})}function u(){w!==null&&(w(),w=null),y||setTimeout(h,20)}function h(){if(!y&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,w=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){y=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),w!==null&&(w(),w=null)}}}function DT(o){this._internalRoot=o}Gy.prototype.render=DT.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,y=Li();bP(h,y,o,u,null,null)},Gy.prototype.unmount=DT.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;bP(o.current,2,null,o,null,null),Ay(),u[Yi]=null}};function Gy(o){this._internalRoot=o}Gy.prototype.unstable_scheduleHydration=function(o){if(o){var u=pl();o={blockedOn:null,target:o,priority:u};for(var h=0;h<Hl.length&&u!==0&&u<Hl[h].priority;h++);Hl.splice(h,0,o),h===0&&kP(o)}};var OP=e.version;if(OP!=="19.2.0")throw Error(r(527,OP,"19.2.0"));Y.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(u),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var RQ={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ky=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ky.isDisabled&&Ky.supportsFiber)try{Mr=Ky.inject(RQ),kn=Ky}catch{}}return Qp.createRoot=function(o,u){if(!i(o))throw Error(r(299));var h=!1,y="",w=RI,E=LI,O=VI;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(O=u.onRecoverableError)),u=yP(o,1,!1,null,null,h,y,null,w,E,O,CP),o[Yi]=u.current,mT(o),new DT(u)},Qp.hydrateRoot=function(o,u,h){if(!i(o))throw Error(r(299));var y=!1,w="",E=RI,O=LI,F=VI,q=null;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(O=h.onCaughtError),h.onRecoverableError!==void 0&&(F=h.onRecoverableError),h.formState!==void 0&&(q=h.formState)),u=yP(o,1,!0,u,h??null,y,w,q,E,O,F,CP),u.context=vP(null),h=u.current,y=Li(),y=Vs(y),w=Ol(y),w.callback=null,Nl(h,w,y),h=y,u.current.lanes=h,Ls(u,h),Ca(u),o[Yi]=u.current,mT(o),new Gy(u)},Qp.version="19.2.0",Qp}var BP;function GQ(){if(BP)return LT.exports;BP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),LT.exports=WQ(),LT.exports}var KQ=GQ();const a2=_.createContext({});function o2(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const l2=typeof window<"u",Gz=l2?_.useLayoutEffect:_.useEffect,uw=_.createContext(null);function c2(t,e){t.indexOf(e)===-1&&t.push(e)}function u2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fo=(t,e,n)=>n>e?e:n<t?t:n;let d2=()=>{};const $o={},Kz=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Yz(t){return typeof t=="object"&&t!==null}const Xz=t=>/^0[^.\s]+$/u.test(t);function f2(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ts=t=>t,YQ=(t,e)=>n=>e(t(n)),Bg=(...t)=>t.reduce(YQ),Ym=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class h2{constructor(){this.subscriptions=[]}add(e){return c2(this.subscriptions,e),()=>u2(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const La=t=>t*1e3,xs=t=>t/1e3;function Qz(t,e){return e?t*(1e3/e):0}const Jz=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,XQ=1e-7,QQ=12;function JQ(t,e,n,r,i){let s,a,l=0;do a=e+(n-e)/2,s=Jz(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>XQ&&++l<QQ);return a}function zg(t,e,n,r){if(t===e&&n===r)return Ts;const i=s=>JQ(s,0,1,t,n);return s=>s===0||s===1?s:Jz(i(s),e,r)}const Zz=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,eU=t=>e=>1-t(1-e),tU=zg(.33,1.53,.69,.99),p2=eU(tU),nU=Zz(p2),rU=t=>(t*=2)<1?.5*p2(t):.5*(2-Math.pow(2,-10*(t-1))),m2=t=>1-Math.sin(Math.acos(t)),iU=eU(m2),sU=Zz(m2),ZQ=zg(.42,0,1,1),eJ=zg(0,0,.58,1),aU=zg(.42,0,.58,1),tJ=t=>Array.isArray(t)&&typeof t[0]!="number",oU=t=>Array.isArray(t)&&typeof t[0]=="number",nJ={linear:Ts,easeIn:ZQ,easeInOut:aU,easeOut:eJ,circIn:m2,circInOut:sU,circOut:iU,backIn:p2,backInOut:nU,backOut:tU,anticipate:rU},rJ=t=>typeof t=="string",zP=t=>{if(oU(t)){d2(t.length===4);const[e,n,r,i]=t;return zg(e,n,r,i)}else if(rJ(t))return nJ[t];return t},Yy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function iJ(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){a.has(f)&&(d.schedule(f),t()),f(l)}const d={schedule:(f,p=!1,g=!1)=>{const b=g&&i?n:r;return p&&a.add(f),b.has(f)||b.add(f),f},cancel:f=>{r.delete(f),a.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const sJ=40;function lU(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Yy.reduce((N,R)=>(N[R]=iJ(s),N),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:f,update:p,preRender:g,render:v,postRender:b}=a,T=()=>{const N=$o.useManualTiming?i.timestamp:performance.now();n=!1,$o.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(N-i.timestamp,sJ),1)),i.timestamp=N,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),f.process(i),p.process(i),g.process(i),v.process(i),b.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(T))},S=()=>{n=!0,r=!0,i.isProcessing||t(T)};return{schedule:Yy.reduce((N,R)=>{const D=a[R];return N[R]=(z,j=!1,M=!1)=>(n||S(),D.schedule(z,j,M)),N},{}),cancel:N=>{for(let R=0;R<Yy.length;R++)a[Yy[R]].cancel(N)},state:i,steps:a}}const{schedule:Jt,cancel:_c,state:xr,steps:UT}=lU(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ts,!0);let Rv;function aJ(){Rv=void 0}const bi={now:()=>(Rv===void 0&&bi.set(xr.isProcessing||$o.useManualTiming?xr.timestamp:performance.now()),Rv),set:t=>{Rv=t,queueMicrotask(aJ)}},cU=t=>e=>typeof e=="string"&&e.startsWith(t),uU=cU("--"),oJ=cU("var(--"),g2=t=>oJ(t)?lJ.test(t.split("/*")[0].trim()):!1,lJ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Xm={...Nh,transform:t=>Fo(0,1,t)},Xy={...Nh,default:1},_m=t=>Math.round(t*1e5)/1e5,y2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cJ(t){return t==null}const uJ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,v2=(t,e)=>n=>!!(typeof n=="string"&&uJ.test(n)&&n.startsWith(t)||e&&!cJ(n)&&Object.prototype.hasOwnProperty.call(n,e)),dU=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,l]=r.match(y2);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},dJ=t=>Fo(0,255,t),FT={...Nh,transform:t=>Math.round(dJ(t))},qu={test:v2("rgb","red"),parse:dU("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+FT.transform(t)+", "+FT.transform(e)+", "+FT.transform(n)+", "+_m(Xm.transform(r))+")"};function fJ(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const A_={test:v2("#"),parse:fJ,transform:qu.transform},Ug=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Yl=Ug("deg"),Va=Ug("%"),Fe=Ug("px"),hJ=Ug("vh"),pJ=Ug("vw"),UP={...Va,parse:t=>Va.parse(t)/100,transform:t=>Va.transform(t*100)},Ff={test:v2("hsl","hue"),parse:dU("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Va.transform(_m(e))+", "+Va.transform(_m(n))+", "+_m(Xm.transform(r))+")"},Dn={test:t=>qu.test(t)||A_.test(t)||Ff.test(t),parse:t=>qu.test(t)?qu.parse(t):Ff.test(t)?Ff.parse(t):A_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qu.transform(t):Ff.transform(t),getAnimatableNone:t=>{const e=Dn.parse(t);return e.alpha=0,Dn.transform(e)}},mJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gJ(t){return isNaN(t)&&typeof t=="string"&&(t.match(y2)?.length||0)+(t.match(mJ)?.length||0)>0}const fU="number",hU="color",yJ="var",vJ="var(",FP="${}",bJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qm(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(bJ,c=>(Dn.test(c)?(r.color.push(s),i.push(hU),n.push(Dn.parse(c))):c.startsWith(vJ)?(r.var.push(s),i.push(yJ),n.push(c)):(r.number.push(s),i.push(fU),n.push(parseFloat(c))),++s,FP)).split(FP);return{values:n,split:l,indexes:r,types:i}}function pU(t){return Qm(t).values}function mU(t){const{split:e,types:n}=Qm(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const l=n[a];l===fU?s+=_m(i[a]):l===hU?s+=Dn.transform(i[a]):s+=i[a]}return s}}const xJ=t=>typeof t=="number"?0:Dn.test(t)?Dn.getAnimatableNone(t):t;function wJ(t){const e=pU(t);return mU(t)(e.map(xJ))}const Ac={test:gJ,parse:pU,createTransformer:mU,getAnimatableNone:wJ};function $T(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function SJ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=$T(c,l,t+1/3),s=$T(c,l,t),a=$T(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function ob(t,e){return n=>n>0?e:t}const on=(t,e,n)=>t+(e-t)*n,HT=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},TJ=[A_,qu,Ff],EJ=t=>TJ.find(e=>e.test(t));function $P(t){const e=EJ(t);if(!e)return!1;let n=e.parse(t);return e===Ff&&(n=SJ(n)),n}const HP=(t,e)=>{const n=$P(t),r=$P(e);if(!n||!r)return ob(t,e);const i={...n};return s=>(i.red=HT(n.red,r.red,s),i.green=HT(n.green,r.green,s),i.blue=HT(n.blue,r.blue,s),i.alpha=on(n.alpha,r.alpha,s),qu.transform(i))},C_=new Set(["none","hidden"]);function kJ(t,e){return C_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _J(t,e){return n=>on(t,e,n)}function b2(t){return typeof t=="number"?_J:typeof t=="string"?g2(t)?ob:Dn.test(t)?HP:OJ:Array.isArray(t)?gU:typeof t=="object"?Dn.test(t)?HP:AJ:ob}function gU(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>b2(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function AJ(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=b2(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function CJ(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],l=t.values[a]??0;n[i]=l,r[s]++}return n}const OJ=(t,e)=>{const n=Ac.createTransformer(e),r=Qm(t),i=Qm(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?C_.has(t)&&!i.values.length||C_.has(e)&&!r.values.length?kJ(t,e):Bg(gU(CJ(r,i),i.values),n):ob(t,e)};function yU(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?on(t,e,n):b2(t)(t,e)}const NJ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Jt.update(e,n),stop:()=>_c(e),now:()=>xr.isProcessing?xr.timestamp:bi.now()}},vU=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},lb=2e4;function x2(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<lb;)e+=n,r=t.next(e);return e>=lb?1/0:e}function MJ(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(x2(r),lb);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:xs(i)}}const jJ=5;function bU(t,e,n){const r=Math.max(e-jJ,0);return Qz(n-t(r),e-r)}const pn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qT=.001;function IJ({duration:t=pn.duration,bounce:e=pn.bounce,velocity:n=pn.velocity,mass:r=pn.mass}){let i,s,a=1-e;a=Fo(pn.minDamping,pn.maxDamping,a),t=Fo(pn.minDuration,pn.maxDuration,xs(t)),a<1?(i=d=>{const f=d*a,p=f*t,g=f-n,v=O_(d,a),b=Math.exp(-p);return qT-g/v*b},s=d=>{const p=d*a*t,g=p*n+n,v=Math.pow(a,2)*Math.pow(d,2)*t,b=Math.exp(-p),T=O_(Math.pow(d,2),a);return(-i(d)+qT>0?-1:1)*((g-v)*b)/T}):(i=d=>{const f=Math.exp(-d*t),p=(d-n)*t+1;return-qT+f*p},s=d=>{const f=Math.exp(-d*t),p=(n-d)*(t*t);return f*p});const l=5/t,c=PJ(i,s,l);if(t=La(t),isNaN(c))return{stiffness:pn.stiffness,damping:pn.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:t}}}const DJ=12;function PJ(t,e,n){let r=n;for(let i=1;i<DJ;i++)r=r-t(r)/e(r);return r}function O_(t,e){return t*Math.sqrt(1-e*e)}const RJ=["duration","bounce"],LJ=["stiffness","damping","mass"];function qP(t,e){return e.some(n=>t[n]!==void 0)}function VJ(t){let e={velocity:pn.velocity,stiffness:pn.stiffness,damping:pn.damping,mass:pn.mass,isResolvedFromDuration:!1,...t};if(!qP(t,LJ)&&qP(t,RJ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Fo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:pn.mass,stiffness:i,damping:s}}else{const n=IJ(t);e={...e,...n,mass:pn.mass},e.isResolvedFromDuration=!0}return e}function cb(t=pn.visualDuration,e=pn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:d,mass:f,duration:p,velocity:g,isResolvedFromDuration:v}=VJ({...n,velocity:-xs(n.velocity||0)}),b=g||0,T=d/(2*Math.sqrt(c*f)),S=a-s,k=xs(Math.sqrt(c/f)),C=Math.abs(S)<5;r||(r=C?pn.restSpeed.granular:pn.restSpeed.default),i||(i=C?pn.restDelta.granular:pn.restDelta.default);let N;if(T<1){const D=O_(k,T);N=z=>{const j=Math.exp(-T*k*z);return a-j*((b+T*k*S)/D*Math.sin(D*z)+S*Math.cos(D*z))}}else if(T===1)N=D=>a-Math.exp(-k*D)*(S+(b+k*S)*D);else{const D=k*Math.sqrt(T*T-1);N=z=>{const j=Math.exp(-T*k*z),M=Math.min(D*z,300);return a-j*((b+T*k*S)*Math.sinh(M)+D*S*Math.cosh(M))/D}}const R={calculatedDuration:v&&p||null,next:D=>{const z=N(D);if(v)l.done=D>=p;else{let j=D===0?b:0;T<1&&(j=D===0?La(b):bU(N,D,z));const M=Math.abs(j)<=r,P=Math.abs(a-z)<=i;l.done=M&&P}return l.value=l.done?a:z,l},toString:()=>{const D=Math.min(x2(R),lb),z=vU(j=>R.next(D*j).value,D,30);return D+"ms "+z},toTransition:()=>{}};return R}cb.applyToOptions=t=>{const e=MJ(t,100,cb);return t.ease=e.ease,t.duration=La(e.duration),t.type="keyframes",t};function N_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:d=.5,restSpeed:f}){const p=t[0],g={done:!1,value:p},v=M=>l!==void 0&&M<l||c!==void 0&&M>c,b=M=>l===void 0?c:c===void 0||Math.abs(l-M)<Math.abs(c-M)?l:c;let T=n*e;const S=p+T,k=a===void 0?S:a(S);k!==S&&(T=k-p);const C=M=>-T*Math.exp(-M/r),N=M=>k+C(M),R=M=>{const P=C(M),B=N(M);g.done=Math.abs(P)<=d,g.value=g.done?k:B};let D,z;const j=M=>{v(g.value)&&(D=M,z=cb({keyframes:[g.value,b(g.value)],velocity:bU(N,M,g.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return j(0),{calculatedDuration:null,next:M=>{let P=!1;return!z&&D===void 0&&(P=!0,R(M),j(M)),D!==void 0&&M>=D?z.next(M-D):(!P&&R(M),g)}}}function BJ(t,e,n){const r=[],i=n||$o.mix||yU,s=t.length-1;for(let a=0;a<s;a++){let l=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Ts:e;l=Bg(c,l)}r.push(l)}return r}function zJ(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(d2(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=BJ(e,r,i),c=l.length,d=f=>{if(a&&f<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const g=Ym(t[p],t[p+1],f);return l[p](g)};return n?f=>d(Fo(t[0],t[s-1],f)):d}function UJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ym(0,e,r);t.push(on(n,1,i))}}function FJ(t){const e=[0];return UJ(e,t.length-1),e}function $J(t,e){return t.map(n=>n*e)}function HJ(t,e){return t.map(()=>e||aU).splice(0,t.length-1)}function Am({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=tJ(r)?r.map(zP):zP(r),s={done:!1,value:e[0]},a=$J(n&&n.length===e.length?n:FJ(e),t),l=zJ(a,e,{ease:Array.isArray(i)?i:HJ(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const qJ=t=>t!==null;function w2(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(qJ),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const WJ={decay:N_,inertia:N_,tween:Am,keyframes:Am,spring:cb};function xU(t){typeof t.type=="string"&&(t.type=WJ[t.type])}class S2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const GJ=t=>t/100;class T2 extends S2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==bi.now()&&this.tick(bi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;xU(e);const{type:n=Am,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:l}=e;const c=n||Am;c!==Am&&typeof l[0]!="number"&&(this.mixKeyframes=Bg(GJ,yU(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=x2(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:p,repeatType:g,repeatDelay:v,type:b,onUpdate:T,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-d*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?k<0:k>i;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let N=this.currentTime,R=r;if(p){const M=Math.min(this.currentTime,i)/l;let P=Math.floor(M),B=M%1;!B&&M>=1&&(B=1),B===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(g==="reverse"?(B=1-B,v&&(B-=v/l)):g==="mirror"&&(R=a)),N=Fo(0,1,B)*l}const D=C?{done:!1,value:f[0]}:R.next(N);s&&(D.value=s(D.value));let{done:z}=D;!C&&c!==null&&(z=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return j&&b!==N_&&(D.value=w2(f,this.options,S,this.speed)),T&&T(D.value),j&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return xs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xs(e)}get time(){return xs(this.currentTime)}set time(e){e=La(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(bi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=NJ,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(bi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function KJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Wu=t=>t*180/Math.PI,M_=t=>{const e=Wu(Math.atan2(t[1],t[0]));return j_(e)},YJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:M_,rotateZ:M_,skewX:t=>Wu(Math.atan(t[1])),skewY:t=>Wu(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},j_=t=>(t=t%360,t<0&&(t+=360),t),WP=M_,GP=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),KP=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),XJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:GP,scaleY:KP,scale:t=>(GP(t)+KP(t))/2,rotateX:t=>j_(Wu(Math.atan2(t[6],t[5]))),rotateY:t=>j_(Wu(Math.atan2(-t[2],t[0]))),rotateZ:WP,rotate:WP,skewX:t=>Wu(Math.atan(t[4])),skewY:t=>Wu(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function I_(t){return t.includes("scale")?1:0}function D_(t,e){if(!t||t==="none")return I_(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=XJ,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=YJ,i=l}if(!i)return I_(e);const s=r[e],a=i[1].split(",").map(JJ);return typeof s=="function"?s(a):a[s]}const QJ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return D_(n,e)};function JJ(t){return parseFloat(t.trim())}const Mh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jh=new Set(Mh),YP=t=>t===Nh||t===Fe,ZJ=new Set(["x","y","z"]),eZ=Mh.filter(t=>!ZJ.has(t));function tZ(t){const e=[];return eZ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const nd={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>D_(e,"x"),y:(t,{transform:e})=>D_(e,"y")};nd.translateX=nd.x;nd.translateY=nd.y;const rd=new Set;let P_=!1,R_=!1,L_=!1;function wU(){if(R_){const t=Array.from(rd).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=tZ(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}R_=!1,P_=!1,rd.forEach(t=>t.complete(L_)),rd.clear()}function SU(){rd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(R_=!0)})}function nZ(){L_=!0,SU(),wU(),L_=!1}class E2{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(rd.add(this),P_||(P_=!0,Jt.read(SU),Jt.resolveKeyframes(wU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}KJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),rd.delete(this)}cancel(){this.state==="scheduled"&&(rd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rZ=t=>t.startsWith("--");function iZ(t,e,n){rZ(e)?t.style.setProperty(e,n):t.style[e]=n}const sZ=f2(()=>window.ScrollTimeline!==void 0),aZ={};function oZ(t,e){const n=f2(t);return()=>aZ[e]??n()}const TU=oZ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),dm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,XP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dm([0,.65,.55,1]),circOut:dm([.55,0,1,.45]),backIn:dm([.31,.01,.66,-.59]),backOut:dm([.33,1.53,.69,.99])};function EU(t,e){if(t)return typeof t=="function"?TU()?vU(t,e):"ease-out":oU(t)?dm(t):Array.isArray(t)?t.map(n=>EU(n,e)||XP.easeOut):XP[t]}function lZ(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:c}={},d=void 0){const f={[e]:n};c&&(f.offset=c);const p=EU(l,i);Array.isArray(p)&&(f.easing=p);const g={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return d&&(g.pseudoElement=d),t.animate(f,g)}function kU(t){return typeof t=="function"&&"applyToOptions"in t}function cZ({type:t,...e}){return kU(t)&&TU()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class uZ extends S2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,d2(typeof e.type!="string");const d=cZ(e);this.animation=lZ(n,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=w2(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):iZ(n,r,f),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return xs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xs(e)}get time(){return xs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=La(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&sZ()?(this.animation.timeline=e,Ts):n(this)}}const _U={anticipate:rU,backInOut:nU,circInOut:sU};function dZ(t){return t in _U}function fZ(t){typeof t.ease=="string"&&dZ(t.ease)&&(t.ease=_U[t.ease])}const QP=10;class hZ extends uZ{constructor(e){fZ(e),xU(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new T2({...a,autoplay:!1}),c=La(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-QP).value,l.sample(c).value,QP),l.stop()}}const JP=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ac.test(t)||t==="0")&&!t.startsWith("url("));function pZ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function mZ(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=JP(i,e),l=JP(s,e);return!a||!l?!1:pZ(t)||(n==="spring"||kU(n))&&r}function V_(t){t.duration=0,t.type="keyframes"}const gZ=new Set(["opacity","clipPath","filter","transform"]),yZ=f2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function vZ(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return yZ()&&n&&gZ.has(n)&&(n!=="transform"||!d)&&!c&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const bZ=40;class xZ extends S2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:c,motionValue:d,element:f,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=bi.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:d,element:f,...p},v=f?.KeyframeResolver||E2;this.keyframeResolver=new v(l,(b,T,S)=>this.onKeyframesResolved(b,T,g,!S),c,d,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:c,isHandoff:d,onUpdate:f}=r;this.resolvedAt=bi.now(),mZ(e,s,a,l)||(($o.instantAnimations||!c)&&f?.(w2(e,r,n)),e[0]=e[e.length-1],V_(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>bZ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!d&&vZ(g)?new hZ({...g,element:g.motionValue.owner.current}):new T2(g);v.finished.then(()=>this.notifyFinished()).catch(Ts),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),nZ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const wZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SZ(t){const e=wZ.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function AU(t,e,n=1){const[r,i]=SZ(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return Kz(a)?parseFloat(a):a}return g2(i)?AU(i,e,n+1):i}function k2(t,e){return t?.[e]??t?.default??t}const CU=new Set(["width","height","top","left","right","bottom",...Mh]),TZ={test:t=>t==="auto",parse:t=>t},OU=t=>e=>e.test(t),NU=[Nh,Fe,Va,Yl,pJ,hJ,TZ],ZP=t=>NU.find(OU(t));function EZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Xz(t):!0}const kZ=new Set(["brightness","contrast","saturate","opacity"]);function _Z(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(y2)||[];if(!r)return t;const i=n.replace(r,"");let s=kZ.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const AZ=/\b([a-z-]*)\(.*?\)/gu,B_={...Ac,getAnimatableNone:t=>{const e=t.match(AZ);return e?e.map(_Z).join(" "):t}},eR={...Nh,transform:Math.round},CZ={rotate:Yl,rotateX:Yl,rotateY:Yl,rotateZ:Yl,scale:Xy,scaleX:Xy,scaleY:Xy,scaleZ:Xy,skew:Yl,skewX:Yl,skewY:Yl,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:Xm,originX:UP,originY:UP,originZ:Fe},_2={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe,...CZ,zIndex:eR,fillOpacity:Xm,strokeOpacity:Xm,numOctaves:eR},OZ={..._2,color:Dn,backgroundColor:Dn,outlineColor:Dn,fill:Dn,stroke:Dn,borderColor:Dn,borderTopColor:Dn,borderRightColor:Dn,borderBottomColor:Dn,borderLeftColor:Dn,filter:B_,WebkitFilter:B_},MU=t=>OZ[t];function jU(t,e){let n=MU(t);return n!==B_&&(n=Ac),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const NZ=new Set(["auto","none","0"]);function MZ(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!NZ.has(s)&&Qm(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=jU(n,i)}class jZ extends E2{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),g2(d))){const f=AU(d,n.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!CU.has(r)||e.length!==2)return;const[i,s]=e,a=ZP(i),l=ZP(s);if(a!==l)if(YP(a)&&YP(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else nd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||EZ(e[i]))&&r.push(i);r.length&&MZ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=nd[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function IZ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const IU=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function DU(t){return Yz(t)&&"offsetHeight"in t}const tR=30,DZ=t=>!isNaN(parseFloat(t));class PZ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=bi.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=bi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=DZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new h2);const r=this.events[e].add(n);return e==="change"?()=>{r(),Jt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=bi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>tR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,tR);return Qz(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ch(t,e){return new PZ(t,e)}const{schedule:A2}=lU(queueMicrotask,!1),Ks={x:!1,y:!1};function PU(){return Ks.x||Ks.y}function RZ(t){return t==="x"||t==="y"?Ks[t]?null:(Ks[t]=!0,()=>{Ks[t]=!1}):Ks.x||Ks.y?null:(Ks.x=Ks.y=!0,()=>{Ks.x=Ks.y=!1})}function RU(t,e){const n=IZ(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function nR(t){return!(t.pointerType==="touch"||PU())}function LZ(t,e,n={}){const[r,i,s]=RU(t,n),a=l=>{if(!nR(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const f=p=>{nR(p)&&(d(p),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return r.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const LU=(t,e)=>e?t===e?!0:LU(t,e.parentElement):!1,C2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,VZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BZ(t){return VZ.has(t.tagName)||t.tabIndex!==-1}const Lv=new WeakSet;function rR(t){return e=>{e.key==="Enter"&&t(e)}}function WT(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=rR(()=>{if(Lv.has(n))return;WT(n,"down");const i=rR(()=>{WT(n,"up")}),s=()=>WT(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function iR(t){return C2(t)&&!PU()}function UZ(t,e,n={}){const[r,i,s]=RU(t,n),a=l=>{const c=l.currentTarget;if(!iR(l))return;Lv.add(c);const d=e(c,l),f=(v,b)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),Lv.has(c)&&Lv.delete(c),iR(v)&&typeof d=="function"&&d(v,{success:b})},p=v=>{f(v,c===window||c===document||n.useGlobalTarget||LU(c,v.target))},g=v=>{f(v,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),DU(l)&&(l.addEventListener("focus",d=>zZ(d,i)),!BZ(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function VU(t){return Yz(t)&&"ownerSVGElement"in t}function FZ(t){return VU(t)&&t.tagName==="svg"}const Ur=t=>!!(t&&t.getVelocity),$Z=[...NU,Dn,Ac],HZ=t=>$Z.find(OU(t)),O2=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function sR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function qZ(...t){return e=>{let n=!1;const r=t.map(i=>{const s=sR(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():sR(t[i],null)}}}}function WZ(...t){return _.useCallback(qZ(...t),t)}class GZ extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=DU(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function KZ({children:t,isPresent:e,anchorX:n,root:r}){const i=_.useId(),s=_.useRef(null),a=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=_.useContext(O2),c=WZ(s,t?.ref);return _.useInsertionEffect(()=>{const{width:d,height:f,top:p,left:g,right:v}=a.current;if(e||!s.current||!d||!f)return;const b=n==="left"?`left: ${g}`:`right: ${v}`;s.current.dataset.motionPopId=i;const T=document.createElement("style");l&&(T.nonce=l);const S=r??document.head;return S.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${b}px !important;
            top: ${p}px !important;
          }
        `),()=>{S.contains(T)&&S.removeChild(T)}},[e]),m.jsx(GZ,{isPresent:e,childRef:s,sizeRef:a,children:_.cloneElement(t,{ref:c})})}const YZ=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:l,root:c})=>{const d=o2(XZ),f=_.useId();let p=!0,g=_.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:n,custom:i,onExitComplete:v=>{d.set(v,!0);for(const b of d.values())if(!b)return;r&&r()},register:v=>(d.set(v,!1),()=>d.delete(v))}),[n,d,r]);return s&&p&&(g={...g}),_.useMemo(()=>{d.forEach((v,b)=>d.set(b,!1))},[n]),_.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),a==="popLayout"&&(t=m.jsx(KZ,{isPresent:n,anchorX:l,root:c,children:t})),m.jsx(uw.Provider,{value:g,children:t})};function XZ(){return new Map}function BU(t=!0){const e=_.useContext(uw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=_.useId();_.useEffect(()=>{if(t)return i(s)},[t]);const a=_.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const Qy=t=>t.key||"";function aR(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const Wt=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[d,f]=BU(a),p=_.useMemo(()=>aR(t),[t]),g=a&&!d?[]:p.map(Qy),v=_.useRef(!0),b=_.useRef(p),T=o2(()=>new Map),[S,k]=_.useState(p),[C,N]=_.useState(p);Gz(()=>{v.current=!1,b.current=p;for(let z=0;z<C.length;z++){const j=Qy(C[z]);g.includes(j)?T.delete(j):T.get(j)!==!0&&T.set(j,!1)}},[C,g.length,g.join("-")]);const R=[];if(p!==S){let z=[...p];for(let j=0;j<C.length;j++){const M=C[j],P=Qy(M);g.includes(P)||(z.splice(j,0,M),R.push(M))}return s==="wait"&&R.length&&(z=R),N(aR(z)),k(p),null}const{forceRender:D}=_.useContext(a2);return m.jsx(m.Fragment,{children:C.map(z=>{const j=Qy(z),M=a&&!d?!1:p===C||g.includes(j),P=()=>{if(T.has(j))T.set(j,!0);else return;let B=!0;T.forEach(U=>{U||(B=!1)}),B&&(D?.(),N(b.current),a&&f?.(),r&&r())};return m.jsx(YZ,{isPresent:M,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:M?void 0:P,anchorX:l,children:z},j)})})},zU=_.createContext({strict:!1}),oR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},uh={};for(const t in oR)uh[t]={isEnabled:e=>oR[t].some(n=>!!e[n])};function QZ(t){for(const e in t)uh[e]={...uh[e],...t[e]}}const JZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ub(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||JZ.has(t)}let UU=t=>!ub(t);function ZZ(t){typeof t=="function"&&(UU=e=>e.startsWith("on")?!ub(e):t(e))}try{ZZ(require("@emotion/is-prop-valid").default)}catch{}function eee(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(UU(i)||n===!0&&ub(i)||!e&&!ub(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const dw=_.createContext({});function fw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Jm(t){return typeof t=="string"||Array.isArray(t)}const N2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],M2=["initial",...N2];function hw(t){return fw(t.animate)||M2.some(e=>Jm(t[e]))}function FU(t){return!!(hw(t)||t.variants)}function tee(t,e){if(hw(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Jm(n)?n:void 0,animate:Jm(r)?r:void 0}}return t.inherit!==!1?e:{}}function nee(t){const{initial:e,animate:n}=tee(t,_.useContext(dw));return _.useMemo(()=>({initial:e,animate:n}),[lR(e),lR(n)])}function lR(t){return Array.isArray(t)?t.join(" "):t}function cR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Jp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Fe.test(t))t=parseFloat(t);else return t;const n=cR(t,e.target.x),r=cR(t,e.target.y);return`${n}% ${r}%`}},ree={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ac.parse(t);if(i.length>5)return r;const s=Ac.createTransformer(t),a=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+a]/=l,i[1+a]/=c;const d=on(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=d),typeof i[3+a]=="number"&&(i[3+a]/=d),s(i)}},z_={borderRadius:{...Jp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jp,borderTopRightRadius:Jp,borderBottomLeftRadius:Jp,borderBottomRightRadius:Jp,boxShadow:ree};function $U(t,{layout:e,layoutId:n}){return jh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!z_[t]||t==="opacity")}const iee={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},see=Mh.length;function aee(t,e,n){let r="",i=!0;for(let s=0;s<see;s++){const a=Mh[s],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=IU(l,_2[a]);if(!c){i=!1;const f=iee[a]||a;r+=`${f}(${d}) `}n&&(e[a]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function j2(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,l=!1;for(const c in e){const d=e[c];if(jh.has(c)){a=!0;continue}else if(uU(c)){i[c]=d;continue}else{const f=IU(d,_2[c]);c.startsWith("origin")?(l=!0,s[c]=f):r[c]=f}}if(e.transform||(a||n?r.transform=aee(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${c} ${d} ${f}`}}const I2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HU(t,e,n){for(const r in e)!Ur(e[r])&&!$U(r,n)&&(t[r]=e[r])}function oee({transformTemplate:t},e){return _.useMemo(()=>{const n=I2();return j2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function lee(t,e){const n=t.style||{},r={};return HU(r,n,t),Object.assign(r,oee(t,e)),r}function cee(t,e){const n={},r=lee(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const uee={offset:"stroke-dashoffset",array:"stroke-dasharray"},dee={offset:"strokeDashoffset",array:"strokeDasharray"};function fee(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?uee:dee;t[s.offset]=Fe.transform(-r);const a=Fe.transform(e),l=Fe.transform(n);t[s.array]=`${a} ${l}`}function qU(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},c,d,f){if(j2(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=f?.transformBox??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&fee(p,i,s,a,!1)}const WU=()=>({...I2(),attrs:{}}),GU=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hee(t,e,n,r){const i=_.useMemo(()=>{const s=WU();return qU(s,e,GU(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};HU(s,t.style,t),i.style={...s,...i.style}}return i}const pee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function D2(t){return typeof t!="string"||t.includes("-")?!1:!!(pee.indexOf(t)>-1||/[A-Z]/u.test(t))}function mee(t,e,n,{latestValues:r},i,s=!1){const l=(D2(t)?hee:cee)(e,r,i,t),c=eee(e,typeof t=="string",s),d=t!==_.Fragment?{...c,...l,ref:n}:{},{children:f}=e,p=_.useMemo(()=>Ur(f)?f.get():f,[f]);return _.createElement(t,{...d,children:p})}function uR(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function P2(t,e,n,r){if(typeof e=="function"){const[i,s]=uR(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=uR(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Vv(t){return Ur(t)?t.get():t}function gee({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:yee(n,r,i,t),renderState:e()}}function yee(t,e,n,r){const i={},s=r(t,{});for(const g in s)i[g]=Vv(s[g]);let{initial:a,animate:l}=t;const c=hw(t),d=FU(t);e&&d&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const p=f?l:a;if(p&&typeof p!="boolean"&&!fw(p)){const g=Array.isArray(p)?p:[p];for(let v=0;v<g.length;v++){const b=P2(t,g[v]);if(b){const{transitionEnd:T,transition:S,...k}=b;for(const C in k){let N=k[C];if(Array.isArray(N)){const R=f?N.length-1:0;N=N[R]}N!==null&&(i[C]=N)}for(const C in T)i[C]=T[C]}}}return i}const KU=t=>(e,n)=>{const r=_.useContext(dw),i=_.useContext(uw),s=()=>gee(t,e,r,i);return n?s():o2(s)};function R2(t,e,n){const{style:r}=t,i={};for(const s in r)(Ur(r[s])||e.style&&Ur(e.style[s])||$U(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const vee=KU({scrapeMotionValuesFromProps:R2,createRenderState:I2});function YU(t,e,n){const r=R2(t,e,n);for(const i in t)if(Ur(t[i])||Ur(e[i])){const s=Mh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const bee=KU({scrapeMotionValuesFromProps:YU,createRenderState:WU}),xee=Symbol.for("motionComponentSymbol");function $f(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function wee(t,e,n){return _.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):$f(n)&&(n.current=r))},[e])}const L2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),See="framerAppearId",XU="data-"+L2(See),QU=_.createContext({});function Tee(t,e,n,r,i){const{visualElement:s}=_.useContext(dw),a=_.useContext(zU),l=_.useContext(uw),c=_.useContext(O2).reducedMotion,d=_.useRef(null);r=r||a.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,p=_.useContext(QU);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Eee(d.current,n,i,p);const g=_.useRef(!1);_.useInsertionEffect(()=>{f&&g.current&&f.update(n,l)});const v=n[XU],b=_.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return Gz(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),b.current&&f.animationState&&f.animationState.animateChanges())}),_.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),b.current=!1),f.enteringChildren=void 0)}),f}function Eee(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:JU(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&$f(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:c,layoutRoot:d})}function JU(t){if(t)return t.options.allowProjection!==!1?t.projection:JU(t.parent)}function GT(t,{forwardMotionProps:e=!1}={},n,r){n&&QZ(n);const i=D2(t)?bee:vee;function s(l,c){let d;const f={..._.useContext(O2),...l,layoutId:kee(l)},{isStatic:p}=f,g=nee(l),v=i(l,p);if(!p&&l2){_ee();const b=Aee(f);d=b.MeasureLayout,g.visualElement=Tee(t,v,f,r,b.ProjectionNode)}return m.jsxs(dw.Provider,{value:g,children:[d&&g.visualElement?m.jsx(d,{visualElement:g.visualElement,...f}):null,mee(t,l,wee(v,g.visualElement,c),v,p,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=_.forwardRef(s);return a[xee]=t,a}function kee({layoutId:t}){const e=_.useContext(a2).id;return e&&t!==void 0?e+"-"+t:t}function _ee(t,e){_.useContext(zU).strict}function Aee(t){const{drag:e,layout:n}=uh;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Cee(t,e){if(typeof Proxy>"u")return GT;const n=new Map,r=(s,a)=>GT(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,GT(a,void 0,t,e)),n.get(a))})}function ZU({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Oee({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Nee(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function KT(t){return t===void 0||t===1}function U_({scale:t,scaleX:e,scaleY:n}){return!KT(t)||!KT(e)||!KT(n)}function Bu(t){return U_(t)||e9(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function e9(t){return dR(t.x)||dR(t.y)}function dR(t){return t&&t!=="0%"}function db(t,e,n){const r=t-n,i=e*r;return n+i}function fR(t,e,n,r,i){return i!==void 0&&(t=db(t,i,r)),db(t,n,r)+e}function F_(t,e=0,n=1,r,i){t.min=fR(t.min,e,n,r,i),t.max=fR(t.max,e,n,r,i)}function t9(t,{x:e,y:n}){F_(t.x,e.translate,e.scale,e.originPoint),F_(t.y,n.translate,n.scale,n.originPoint)}const hR=.999999999999,pR=1.0000000000001;function Mee(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let l=0;l<i;l++){s=n[l],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&qf(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,t9(t,a)),r&&Bu(s.latestValues)&&qf(t,s.latestValues))}e.x<pR&&e.x>hR&&(e.x=1),e.y<pR&&e.y>hR&&(e.y=1)}function Hf(t,e){t.min=t.min+e,t.max=t.max+e}function mR(t,e,n,r,i=.5){const s=on(t.min,t.max,i);F_(t,e,n,s,r)}function qf(t,e){mR(t.x,e.x,e.scaleX,e.scale,e.originX),mR(t.y,e.y,e.scaleY,e.scale,e.originY)}function n9(t,e){return ZU(Nee(t.getBoundingClientRect(),e))}function jee(t,e,n){const r=n9(t,n),{scroll:i}=e;return i&&(Hf(r.x,i.offset.x),Hf(r.y,i.offset.y)),r}const gR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wf=()=>({x:gR(),y:gR()}),yR=()=>({min:0,max:0}),$n=()=>({x:yR(),y:yR()}),$_={current:null},r9={current:!1};function Iee(){if(r9.current=!0,!!l2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$_.current=t.matches;t.addEventListener("change",e),e()}else $_.current=!1}const Dee=new WeakMap;function Pee(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ur(i))t.addValue(r,i);else if(Ur(s))t.addValue(r,ch(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,ch(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const vR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ree{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=E2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=bi.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Jt.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=hw(n),this.isVariantNode=FU(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const v=p[g];c[g]!==void 0&&Ur(v)&&v.set(c[g])}}mount(e){this.current=e,Dee.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),r9.current||Iee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$_.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_c(this.notifyUpdate),_c(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=jh.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Jt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in uh){const n=uh[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$n()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<vR.length;r++){const i=vR[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Pee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ch(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Kz(r)||Xz(r))?r=parseFloat(r):!HZ(r)&&Ac.test(n)&&(r=jU(e,n)),this.setBaseTarget(e,Ur(r)?r.get():r)),Ur(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=P2(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ur(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new h2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){A2.render(this.render)}}class i9 extends Ree{constructor(){super(...arguments),this.KeyframeResolver=jZ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ur(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function s9(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function Lee(t){return window.getComputedStyle(t)}class Vee extends i9{constructor(){super(...arguments),this.type="html",this.renderInstance=s9}readValueFromInstance(e,n){if(jh.has(n))return this.projection?.isProjecting?I_(n):QJ(e,n);{const r=Lee(e),i=(uU(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return n9(e,n)}build(e,n,r){j2(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return R2(e,n,r)}}const a9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Bee(t,e,n,r){s9(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(a9.has(i)?i:L2(i),e.attrs[i])}class zee extends i9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$n}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(jh.has(n)){const r=MU(n);return r&&r.default||0}return n=a9.has(n)?n:L2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return YU(e,n,r)}build(e,n,r){qU(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){Bee(e,n,r,i)}mount(e){this.isSVGTag=GU(e.tagName),super.mount(e)}}const Uee=(t,e)=>D2(t)?new zee(e):new Vee(e,{allowProjection:t!==_.Fragment});function eh(t,e,n){const r=t.getProps();return P2(r,e,n!==void 0?n:r.custom,t)}const H_=t=>Array.isArray(t);function Fee(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ch(n))}function $ee(t){return H_(t)?t[t.length-1]||0:t}function Hee(t,e){const n=eh(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const l=$ee(s[a]);Fee(t,a,l)}}function qee(t){return!!(Ur(t)&&t.add)}function q_(t,e){const n=t.getValue("willChange");if(qee(n))return n.add(e);if(!n&&$o.WillChange){const r=new $o.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function o9(t){return t.props[XU]}const Wee=t=>t!==null;function Gee(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Wee),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const Kee={type:"spring",stiffness:500,damping:25,restSpeed:10},Yee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Xee={type:"keyframes",duration:.8},Qee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Jee=(t,{keyframes:e})=>e.length>2?Xee:jh.has(t)?t.startsWith("scale")?Yee(e[1]):Kee:Qee;function Zee({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const V2=(t,e,n,r={},i,s)=>a=>{const l=k2(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-La(c);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};Zee(l)||Object.assign(f,Jee(t,f)),f.duration&&(f.duration=La(f.duration)),f.repeatDelay&&(f.repeatDelay=La(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(V_(f),f.delay===0&&(p=!0)),($o.instantAnimations||$o.skipAnimations)&&(p=!0,V_(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,p&&!s&&e.get()!==void 0){const g=Gee(f.keyframes,l);if(g!==void 0){Jt.update(()=>{f.onUpdate(g),f.onComplete()});return}}return l.isSync?new T2(f):new xZ(f)};function ete({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function l9(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(s=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const p=t.getValue(f,t.latestValues[f]??null),g=l[f];if(g===void 0||d&&ete(d,f))continue;const v={delay:n,...k2(s||{},f)},b=p.get();if(b!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===b&&!v.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const k=o9(t);if(k){const C=window.MotionHandoffAnimation(k,f,Jt);C!==null&&(v.startTime=C,T=!0)}}q_(t,f),p.start(V2(f,p,g,t.shouldReduceMotion&&CU.has(f)?{type:!1}:v,t,T));const S=p.animation;S&&c.push(S)}return a&&Promise.all(c).then(()=>{Jt.update(()=>{a&&Hee(t,a)})}),c}function c9(t,e,n,r=0,i=1){const s=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),a=t.size,l=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:l-s*r}function W_(t,e,n={}){const r=eh(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(l9(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=i;return tte(t,e,c,d,f,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[s,a]:[a,s];return c().then(()=>d())}else return Promise.all([s(),a(n.delay)])}function tte(t,e,n=0,r=0,i=0,s=1,a){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(W_(c,e,{...a,delay:n+(typeof r=="function"?0:r)+c9(t.variantChildren,c,r,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function nte(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>W_(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=W_(t,e,n);else{const i=typeof e=="function"?eh(t,e,n.custom):e;r=Promise.all(l9(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function u9(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const rte=M2.length;function d9(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?d9(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<rte;n++){const r=M2[n],i=t.props[r];(Jm(i)||i===!1)&&(e[r]=i)}return e}const ite=[...N2].reverse(),ste=N2.length;function ate(t){return e=>Promise.all(e.map(({animation:n,options:r})=>nte(t,n,r)))}function ote(t){let e=ate(t),n=bR(),r=!0;const i=c=>(d,f)=>{const p=eh(t,f,c==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:g,transitionEnd:v,...b}=p;d={...d,...b,...v}}return d};function s(c){e=c(t)}function a(c){const{props:d}=t,f=d9(t.parent)||{},p=[],g=new Set;let v={},b=1/0;for(let S=0;S<ste;S++){const k=ite[S],C=n[k],N=d[k]!==void 0?d[k]:f[k],R=Jm(N),D=k===c?C.isActive:null;D===!1&&(b=S);let z=N===f[k]&&N!==d[k]&&R;if(z&&r&&t.manuallyAnimateOnMount&&(z=!1),C.protectedKeys={...v},!C.isActive&&D===null||!N&&!C.prevProp||fw(N)||typeof N=="boolean")continue;const j=lte(C.prevProp,N);let M=j||k===c&&C.isActive&&!z&&R||S>b&&R,P=!1;const B=Array.isArray(N)?N:[N];let U=B.reduce(i(k),{});D===!1&&(U={});const{prevResolvedValues:V={}}=C,L={...V,...U},Z=Y=>{M=!0,g.has(Y)&&(P=!0,g.delete(Y)),C.needsAnimating[Y]=!0;const ce=t.getValue(Y);ce&&(ce.liveStyle=!1)};for(const Y in L){const ce=U[Y],he=V[Y];if(v.hasOwnProperty(Y))continue;let Se=!1;H_(ce)&&H_(he)?Se=!u9(ce,he):Se=ce!==he,Se?ce!=null?Z(Y):g.add(Y):ce!==void 0&&g.has(Y)?Z(Y):C.protectedKeys[Y]=!0}C.prevProp=N,C.prevResolvedValues=U,C.isActive&&(v={...v,...U}),r&&t.blockInitialAnimation&&(M=!1);const oe=z&&j;M&&(!oe||P)&&p.push(...B.map(Y=>{const ce={type:k};if(typeof Y=="string"&&r&&!oe&&t.manuallyAnimateOnMount&&t.parent){const{parent:he}=t,Se=eh(he,Y);if(he.enteringChildren&&Se){const{delayChildren:H}=Se.transition||{};ce.delay=c9(he.enteringChildren,t,H)}}return{animation:Y,options:ce}}))}if(g.size){const S={};if(typeof d.initial!="boolean"){const k=eh(t,Array.isArray(d.initial)?d.initial[0]:d.initial);k&&k.transition&&(S.transition=k.transition)}g.forEach(k=>{const C=t.getBaseTarget(k),N=t.getValue(k);N&&(N.liveStyle=!0),S[k]=C??null}),p.push({animation:S})}let T=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(p):Promise.resolve()}function l(c,d){if(n[c].isActive===d)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(c,d)),n[c].isActive=d;const f=a(c);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=bR()}}}function lte(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!u9(e,t):!1}function Du(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bR(){return{animate:Du(!0),whileInView:Du(),whileHover:Du(),whileTap:Du(),whileDrag:Du(),whileFocus:Du(),exit:Du()}}class Uc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class cte extends Uc{constructor(e){super(e),e.animationState||(e.animationState=ote(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ute=0;class dte extends Uc{constructor(){super(...arguments),this.id=ute++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const fte={animation:{Feature:cte},exit:{Feature:dte}};function Zm(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Fg(t){return{point:{x:t.pageX,y:t.pageY}}}const hte=t=>e=>C2(e)&&t(e,Fg(e));function Cm(t,e,n,r){return Zm(t,e,hte(n),r)}const f9=1e-4,pte=1-f9,mte=1+f9,h9=.01,gte=0-h9,yte=0+h9;function Yr(t){return t.max-t.min}function vte(t,e,n){return Math.abs(t-e)<=n}function xR(t,e,n,r=.5){t.origin=r,t.originPoint=on(e.min,e.max,t.origin),t.scale=Yr(n)/Yr(e),t.translate=on(n.min,n.max,t.origin)-t.originPoint,(t.scale>=pte&&t.scale<=mte||isNaN(t.scale))&&(t.scale=1),(t.translate>=gte&&t.translate<=yte||isNaN(t.translate))&&(t.translate=0)}function Om(t,e,n,r){xR(t.x,e.x,n.x,r?r.originX:void 0),xR(t.y,e.y,n.y,r?r.originY:void 0)}function wR(t,e,n){t.min=n.min+e.min,t.max=t.min+Yr(e)}function bte(t,e,n){wR(t.x,e.x,n.x),wR(t.y,e.y,n.y)}function SR(t,e,n){t.min=e.min-n.min,t.max=t.min+Yr(e)}function fb(t,e,n){SR(t.x,e.x,n.x),SR(t.y,e.y,n.y)}function hs(t){return[t("x"),t("y")]}const p9=({current:t})=>t?t.ownerDocument.defaultView:null,TR=(t,e)=>Math.abs(t-e);function xte(t,e){const n=TR(t.x,e.x),r=TR(t.y,e.y);return Math.sqrt(n**2+r**2)}class m9{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=XT(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=xte(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!b)return;const{point:T}=g,{timestamp:S}=xr;this.history.push({...T,timestamp:S});const{onStart:k,onMove:C}=this.handlers;v||(k&&k(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=YT(v,this.transformPagePoint),Jt.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:b,onSessionEnd:T,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=XT(g.type==="pointercancel"?this.lastMoveEventInfo:YT(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,k),T&&T(g,k)},!C2(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const l=Fg(e),c=YT(l,this.transformPagePoint),{point:d}=c,{timestamp:f}=xr;this.history=[{...d,timestamp:f}];const{onSessionStart:p}=n;p&&p(e,XT(c,this.history)),this.removeListeners=Bg(Cm(this.contextWindow,"pointermove",this.handlePointerMove),Cm(this.contextWindow,"pointerup",this.handlePointerUp),Cm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_c(this.updatePoint)}}function YT(t,e){return e?{point:e(t.point)}:t}function ER(t,e){return{x:t.x-e.x,y:t.y-e.y}}function XT({point:t},e){return{point:t,delta:ER(t,g9(e)),offset:ER(t,wte(e)),velocity:Ste(e,.1)}}function wte(t){return t[0]}function g9(t){return t[t.length-1]}function Ste(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=g9(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>La(e)));)n--;if(!r)return{x:0,y:0};const s=xs(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Tte(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?on(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?on(n,t,r.max):Math.min(t,n)),t}function kR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Ete(t,{top:e,left:n,bottom:r,right:i}){return{x:kR(t.x,n,i),y:kR(t.y,e,r)}}function _R(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function kte(t,e){return{x:_R(t.x,e.x),y:_R(t.y,e.y)}}function _te(t,e){let n=.5;const r=Yr(t),i=Yr(e);return i>r?n=Ym(e.min,e.max-r,t.min):r>i&&(n=Ym(t.min,t.max-i,e.min)),Fo(0,1,n)}function Ate(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const G_=.35;function Cte(t=G_){return t===!1?t=0:t===!0&&(t=G_),{x:AR(t,"left","right"),y:AR(t,"top","bottom")}}function AR(t,e,n){return{min:CR(t,e),max:CR(t,n)}}function CR(t,e){return typeof t=="number"?t:t[e]||0}const Ote=new WeakMap;class Nte{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$n(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Fg(p).point)},a=(p,g)=>{const{drag:v,dragPropagation:b,onDragStart:T}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RZ(v),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hs(k=>{let C=this.getAxisMotionValue(k).get()||0;if(Va.test(C)){const{projection:N}=this.visualElement;if(N&&N.layout){const R=N.layout.layoutBox[k];R&&(C=Yr(R)*(parseFloat(C)/100))}}this.originPoint[k]=C}),T&&Jt.postRender(()=>T(p,g)),q_(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:T,onDrag:S}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:k}=g;if(b&&this.currentDirection===null){this.currentDirection=Mte(k),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",g.point,k),this.updateAxis("y",g.point,k),this.visualElement.render(),S&&S(p,g)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>hs(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new m9(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:p9(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Jt.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Jy(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Tte(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&$f(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Ete(r.layoutBox,e):this.constraints=!1,this.elastic=Cte(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&hs(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Ate(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!$f(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=jee(r,i.root,this.visualElement.getTransformPagePoint());let a=kte(i.layout.layoutBox,s);if(n){const l=n(Oee(a));this.hasMutatedConstraints=!!l,l&&(a=ZU(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=hs(f=>{if(!Jy(f,n,this.currentDirection))return;let p=c&&c[f]||{};a&&(p={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,b={type:"inertia",velocity:r?e[f]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,b)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return q_(this.visualElement,e),r.start(V2(e,r,0,n,this.visualElement,!1))}stopAnimation(){hs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hs(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){hs(n=>{const{drag:r}=this.getProps();if(!Jy(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[n];s.set(e[n]-on(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!$f(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};hs(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=_te({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hs(a=>{if(!Jy(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];l.set(on(c,d,i[a]))})}addListeners(){if(!this.visualElement.current)return;Ote.set(this.visualElement,this);const e=this.visualElement.current,n=Cm(e,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();$f(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Jt.read(r);const a=Zm(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(hs(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=c[f].translate,p.set(p.get()+c[f].translate))}),this.visualElement.render())}));return()=>{a(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=G_,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function Jy(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Mte(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class jte extends Uc{constructor(e){super(e),this.removeGroupControls=Ts,this.removeListeners=Ts,this.controls=new Nte(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ts}unmount(){this.removeGroupControls(),this.removeListeners()}}const OR=t=>(e,n)=>{t&&Jt.postRender(()=>t(e,n))};class Ite extends Uc{constructor(){super(...arguments),this.removePointerDownListener=Ts}onPointerDown(e){this.session=new m9(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:p9(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:OR(e),onStart:OR(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Jt.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Cm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let QT=!1;class Dte extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),QT&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Bv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,QT=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Jt.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),A2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;QT=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function y9(t){const[e,n]=BU(),r=_.useContext(a2);return m.jsx(Dte,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(QU),isPresent:e,safeToRemove:n})}function Pte(t,e,n){const r=Ur(t)?t:ch(t);return r.start(V2("",r,e,n)),r.animation}const Rte=(t,e)=>t.depth-e.depth;class Lte{constructor(){this.children=[],this.isDirty=!1}add(e){c2(this.children,e),this.isDirty=!0}remove(e){u2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Rte),this.isDirty=!1,this.children.forEach(e)}}function Vte(t,e){const n=bi.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(_c(r),t(s-e))};return Jt.setup(r,!0),()=>_c(r)}const v9=["TopLeft","TopRight","BottomLeft","BottomRight"],Bte=v9.length,NR=t=>typeof t=="string"?parseFloat(t):t,MR=t=>typeof t=="number"||Fe.test(t);function zte(t,e,n,r,i,s){i?(t.opacity=on(0,n.opacity??1,Ute(r)),t.opacityExit=on(e.opacity??1,0,Fte(r))):s&&(t.opacity=on(e.opacity??1,n.opacity??1,r));for(let a=0;a<Bte;a++){const l=`border${v9[a]}Radius`;let c=jR(e,l),d=jR(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||MR(c)===MR(d)?(t[l]=Math.max(on(NR(c),NR(d),r),0),(Va.test(d)||Va.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=on(e.rotate||0,n.rotate||0,r))}function jR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Ute=b9(0,.5,iU),Fte=b9(.5,.95,Ts);function b9(t,e,n){return r=>r<t?0:r>e?1:n(Ym(t,e,r))}function IR(t,e){t.min=e.min,t.max=e.max}function Gs(t,e){IR(t.x,e.x),IR(t.y,e.y)}function DR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function PR(t,e,n,r,i){return t-=e,t=db(t,1/n,r),i!==void 0&&(t=db(t,1/i,r)),t}function $te(t,e=0,n=1,r=.5,i,s=t,a=t){if(Va.test(e)&&(e=parseFloat(e),e=on(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=on(s.min,s.max,r);t===s&&(l-=e),t.min=PR(t.min,e,n,l,i),t.max=PR(t.max,e,n,l,i)}function RR(t,e,[n,r,i],s,a){$te(t,e[n],e[r],e[i],e.scale,s,a)}const Hte=["x","scaleX","originX"],qte=["y","scaleY","originY"];function LR(t,e,n,r){RR(t.x,e,Hte,n?n.x:void 0,r?r.x:void 0),RR(t.y,e,qte,n?n.y:void 0,r?r.y:void 0)}function VR(t){return t.translate===0&&t.scale===1}function x9(t){return VR(t.x)&&VR(t.y)}function BR(t,e){return t.min===e.min&&t.max===e.max}function Wte(t,e){return BR(t.x,e.x)&&BR(t.y,e.y)}function zR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function w9(t,e){return zR(t.x,e.x)&&zR(t.y,e.y)}function UR(t){return Yr(t.x)/Yr(t.y)}function FR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Gte{constructor(){this.members=[]}add(e){c2(this.members,e),e.scheduleRender()}remove(e){if(u2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Kte(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:g,skewX:v,skewY:b}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),v&&(r+=`skewX(${v}deg) `),b&&(r+=`skewY(${b}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const JT=["","X","Y","Z"],Yte=1e3;let Xte=0;function ZT(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function S9(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=o9(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Jt,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&S9(r)}function T9({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},l=e?.()){this.id=Xte++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Zte),this.nodes.forEach(rne),this.nodes.forEach(ine),this.nodes.forEach(ene)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Lte)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new h2),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=VU(a)&&!FZ(a),this.instance=a;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let f,p=0;const g=()=>this.root.updateBlockedByResize=!1;Jt.read(()=>{p=window.innerWidth}),t(a,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,f&&f(),f=Vte(g,250),Bv.hasAnimatedSinceResize&&(Bv.hasAnimatedSinceResize=!1,this.nodes.forEach(qR)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||cne,{onLayoutAnimationStart:T,onLayoutAnimationComplete:S}=d.getProps(),k=!this.targetLayout||!w9(this.targetLayout,v),C=!p&&g;if(this.options.layoutRoot||this.resumeFrom||C||p&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...k2(b,"layout"),onPlay:T,onComplete:S};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(f,C)}else p||qR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_c(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sne),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&S9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($R);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(HR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nne),this.nodes.forEach(Qte),this.nodes.forEach(Jte)):this.nodes.forEach(HR),this.clearAllSnapshots();const l=bi.now();xr.delta=Fo(0,1e3/60,l-xr.timestamp),xr.timestamp=l,xr.isProcessing=!0,UT.update.process(xr),UT.preRender.process(xr),UT.render.process(xr),xr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,A2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tne),this.sharedNodes.forEach(ane)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Yr(this.snapshot.measuredBox.x)&&!Yr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=$n(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!x9(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&this.instance&&(l||Bu(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),une(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return $n();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(dne))){const{scroll:d}=this.root;d&&(Hf(l.x,d.offset.x),Hf(l.y,d.offset.y))}return l}removeElementScroll(a){const l=$n();if(Gs(l,a),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Gs(l,a),Hf(l.x,f.offset.x),Hf(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=$n();Gs(c,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&qf(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Bu(f.latestValues)&&qf(c,f.latestValues)}return Bu(this.latestValues)&&qf(c,this.latestValues),c}removeTransform(a){const l=$n();Gs(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Bu(d.latestValues))continue;U_(d.latestValues)&&d.updateSnapshot();const f=$n(),p=d.measurePageBox();Gs(f,p),LR(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Bu(this.latestValues)&&LR(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!this.layout||!(f||p))return;this.resolvedRelativeTargetAt=xr.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$n(),this.targetWithTransforms=$n()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bte(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gs(this.target,this.layout.layoutBox),t9(this.target,this.targetDelta)):Gs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||U_(this.parent.latestValues)||e9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,l,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$n(),this.relativeTargetOrigin=$n(),fb(this.relativeTargetOrigin,l,c),Gs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===xr.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Gs(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;Mee(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=$n());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(DR(this.prevProjectionDelta.x,this.projectionDelta.x),DR(this.prevProjectionDelta.y,this.projectionDelta.y)),Om(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!FR(this.projectionDelta.x,this.prevProjectionDelta.x)||!FR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wf(),this.projectionDelta=Wf(),this.projectionDeltaWithTransform=Wf()}setAnimationOrigin(a,l=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},p=Wf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=$n(),v=c?c.source:void 0,b=this.layout?this.layout.source:void 0,T=v!==b,S=this.getStack(),k=!S||S.members.length<=1,C=!!(T&&!k&&this.options.crossfade===!0&&!this.path.some(lne));this.animationProgress=0;let N;this.mixTargetDelta=R=>{const D=R/1e3;WR(p.x,a.x,D),WR(p.y,a.y,D),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fb(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),one(this.relativeTarget,this.relativeTargetOrigin,g,D),N&&Wte(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=$n()),Gs(N,this.relativeTarget)),T&&(this.animationValues=f,zte(f,d,this.latestValues,D,C,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(_c(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jt.update(()=>{Bv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ch(0)),this.currentAnimation=Pte(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yte),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:f}=a;if(!(!l||!c||!d)){if(this!==a&&this.layout&&d&&E9(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||$n();const p=Yr(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+p;const g=Yr(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+g}Gs(l,c),qf(l,f),Om(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Gte),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&ZT("z",a,d,this.animationValues);for(let f=0;f<JT.length;f++)ZT(`rotate${JT[f]}`,a,d,this.animationValues),ZT(`skew${JT[f]}`,a,d,this.animationValues);a.render();for(const f in d)a.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Vv(l?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Vv(l?.pointerEvents)||""),this.hasProjected&&!Bu(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let p=Kte(this.projectionDeltaWithTransform,this.treeScale,f);c&&(p=c(f,p)),a.transform=p;const{x:g,y:v}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,d.animationValues?a.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const b in z_){if(f[b]===void 0)continue;const{correct:T,applyTo:S,isCSSVariable:k}=z_[b],C=p==="none"?f[b]:T(f[b],d);if(S){const N=S.length;for(let R=0;R<N;R++)a[S[R]]=C}else k?this.options.visualElement.renderState.vars[b]=C:a[b]=C}this.options.layoutId&&(a.pointerEvents=d===this?Vv(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach($R),this.root.sharedNodes.clear()}}}function Qte(t){t.updateLayout()}function Jte(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?hs(f=>{const p=s?e.measuredBox[f]:e.layoutBox[f],g=Yr(p);p.min=n[f].min,p.max=p.min+g}):E9(i,e.layoutBox,n)&&hs(f=>{const p=s?e.measuredBox[f]:e.layoutBox[f],g=Yr(n[f]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=Wf();Om(a,n,e.layoutBox);const l=Wf();s?Om(l,t.applyTransform(r,!0),e.measuredBox):Om(l,n,e.layoutBox);const c=!x9(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const v=$n();fb(v,e.layoutBox,p.layoutBox);const b=$n();fb(b,n,g.layoutBox),w9(v,b)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Zte(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ene(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tne(t){t.clearSnapshot()}function $R(t){t.clearMeasurements()}function HR(t){t.isLayoutDirty=!1}function nne(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function qR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function rne(t){t.resolveTargetDelta()}function ine(t){t.calcProjection()}function sne(t){t.resetSkewAndRotation()}function ane(t){t.removeLeadSnapshot()}function WR(t,e,n){t.translate=on(e.translate,0,n),t.scale=on(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function GR(t,e,n,r){t.min=on(e.min,n.min,r),t.max=on(e.max,n.max,r)}function one(t,e,n,r){GR(t.x,e.x,n.x,r),GR(t.y,e.y,n.y,r)}function lne(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const cne={duration:.45,ease:[.4,0,.1,1]},KR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),YR=KR("applewebkit/")&&!KR("chrome/")?Math.round:Ts;function XR(t){t.min=YR(t.min),t.max=YR(t.max)}function une(t){XR(t.x),XR(t.y)}function E9(t,e,n){return t==="position"||t==="preserve-aspect"&&!vte(UR(e),UR(n),.2)}function dne(t){return t!==t.root&&t.scroll?.wasRoot}const fne=T9({attachResizeListener:(t,e)=>Zm(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),eE={current:void 0},k9=T9({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!eE.current){const t=new fne({});t.mount(window),t.setOptions({layoutScroll:!0}),eE.current=t}return eE.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),hne={pan:{Feature:Ite},drag:{Feature:jte,ProjectionNode:k9,MeasureLayout:y9}};function QR(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Jt.postRender(()=>s(e,Fg(e)))}class pne extends Uc{mount(){const{current:e}=this.node;e&&(this.unmount=LZ(e,(n,r)=>(QR(this.node,r,"Start"),i=>QR(this.node,i,"End"))))}unmount(){}}class mne extends Uc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bg(Zm(this.node.current,"focus",()=>this.onFocus()),Zm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function JR(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Jt.postRender(()=>s(e,Fg(e)))}class gne extends Uc{mount(){const{current:e}=this.node;e&&(this.unmount=UZ(e,(n,r)=>(JR(this.node,r,"Start"),(i,{success:s})=>JR(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const K_=new WeakMap,tE=new WeakMap,yne=t=>{const e=K_.get(t.target);e&&e(t)},vne=t=>{t.forEach(yne)};function bne({root:t,...e}){const n=t||document;tE.has(n)||tE.set(n,{});const r=tE.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(vne,{root:t,...e})),r[i]}function xne(t,e,n){const r=bne(e);return K_.set(t,n),r.observe(t),()=>{K_.delete(t),r.unobserve(t)}}const wne={some:0,all:1};class Sne extends Uc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:wne[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=d?f:p;g&&g(c)};return xne(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Tne(e,n))&&this.startObserver()}unmount(){}}function Tne({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Ene={inView:{Feature:Sne},tap:{Feature:gne},focus:{Feature:mne},hover:{Feature:pne}},kne={layout:{ProjectionNode:k9,MeasureLayout:y9}},_ne={...fte,...Ene,...hne,...kne},Xe=Cee(_ne,Uee),Ane=()=>{};var ZR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Cne=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},A9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let g=(l&15)<<2|d>>6,v=d&63;c||(v=64,a||(g=64)),r.push(n[f],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Cne(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||p==null)throw new One;const g=s<<2|l>>4;if(r.push(g),d!==64){const v=l<<4&240|d>>2;if(r.push(v),p!==64){const b=d<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class One extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nne=function(t){const e=_9(t);return A9.encodeByteArray(e,!0)},hb=function(t){return Nne(t).replace(/\./g,"")},C9=function(t){try{return A9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jne=()=>Mne().__FIREBASE_DEFAULTS__,Ine=()=>{if(typeof process>"u"||typeof ZR>"u")return;const t=ZR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Dne=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&C9(t[1]);return e&&JSON.parse(e)},pw=()=>{try{return Ane()||jne()||Ine()||Dne()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},O9=t=>pw()?.emulatorHosts?.[t],Pne=t=>{const e=O9(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},N9=()=>pw()?.config,M9=t=>pw()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function j9(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lne(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[hb(JSON.stringify(n)),hb(JSON.stringify(a)),""].join(".")}const Nm={};function Vne(){const t={prod:[],emulator:[]};for(const e of Object.keys(Nm))Nm[e]?t.emulator.push(e):t.prod.push(e);return t}function Bne(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let e4=!1;function I9(t,e){if(typeof window>"u"||typeof document>"u"||!Ih(window.location.host)||Nm[t]===e||Nm[t]||e4)return;Nm[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=Vne().prod.length>0;function a(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{e4=!0,a()},g}function f(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=Bne(r),v=n("text"),b=document.getElementById(v)||document.createElement("span"),T=n("learnmore"),S=document.getElementById(T)||document.createElement("a"),k=n("preprendIcon"),C=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const N=g.element;l(N),f(S,T);const R=d();c(C,k),N.append(C,b,S,R),document.body.appendChild(N)}s?(b.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($r())}function Une(){const t=pw()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fne(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $ne(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Hne(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qne(){const t=$r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Wne(){return!Une()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gne(){try{return typeof indexedDB=="object"}catch{return!1}}function Kne(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yne="FirebaseError";class el extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Yne,Object.setPrototypeOf(this,el.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$g.prototype.create)}}class $g{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Xne(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new el(i,l,r)}}function Xne(t,e){return t.replace(Qne,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Qne=/\{\$([^}]+)}/g;function Jne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(t4(s)&&t4(a)){if(!gd(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function t4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function hm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Zne(t,e){const n=new ere(t,e);return n.subscribe.bind(n)}class ere{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tre(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nE),i.error===void 0&&(i.error=nE),i.complete===void 0&&(i.complete=nE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tre(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(t){return t&&t._delegate?t._delegate:t}class yd{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nre=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Rne;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ire(e))try{this.getOrInitializeService({instanceIdentifier:zu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=zu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zu){return this.instances.has(e)}getOptions(e=zu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rre(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zu){return this.component?this.component.multipleInstances?e:zu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function rre(t){return t===zu?void 0:t}function ire(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nre(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const are={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},ore=st.INFO,lre={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},cre=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=lre[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class B2{constructor(e){this.name=e,this._logLevel=ore,this._logHandler=cre,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?are[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const ure=(t,e)=>e.some(n=>t instanceof n);let n4,r4;function dre(){return n4||(n4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fre(){return r4||(r4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D9=new WeakMap,Y_=new WeakMap,P9=new WeakMap,rE=new WeakMap,z2=new WeakMap;function hre(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(pc(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&D9.set(n,t)}).catch(()=>{}),z2.set(e,t),e}function pre(t){if(Y_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Y_.set(t,e)}let X_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Y_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||P9.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mre(t){X_=t(X_)}function gre(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(iE(this),e,...n);return P9.set(r,e.sort?e.sort():[e]),pc(r)}:fre().includes(t)?function(...e){return t.apply(iE(this),e),pc(D9.get(this))}:function(...e){return pc(t.apply(iE(this),e))}}function yre(t){return typeof t=="function"?gre(t):(t instanceof IDBTransaction&&pre(t),ure(t,dre())?new Proxy(t,X_):t)}function pc(t){if(t instanceof IDBRequest)return hre(t);if(rE.has(t))return rE.get(t);const e=yre(t);return e!==t&&(rE.set(t,e),z2.set(e,t)),e}const iE=t=>z2.get(t);function vre(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=pc(a);return r&&a.addEventListener("upgradeneeded",c=>{r(pc(a.result),c.oldVersion,c.newVersion,pc(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const bre=["get","getKey","getAll","getAllKeys","count"],xre=["put","add","delete","clear"],sE=new Map;function i4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sE.get(e))return sE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xre.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bre.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return sE.set(e,s),s}mre(t=>({...t,get:(e,n,r)=>i4(e,n)||t.get(e,n,r),has:(e,n)=>!!i4(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wre{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Sre(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Sre(t){return t.getComponent()?.type==="VERSION"}const Q_="@firebase/app",s4="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new B2("@firebase/app"),Tre="@firebase/app-compat",Ere="@firebase/analytics-compat",kre="@firebase/analytics",_re="@firebase/app-check-compat",Are="@firebase/app-check",Cre="@firebase/auth",Ore="@firebase/auth-compat",Nre="@firebase/database",Mre="@firebase/data-connect",jre="@firebase/database-compat",Ire="@firebase/functions",Dre="@firebase/functions-compat",Pre="@firebase/installations",Rre="@firebase/installations-compat",Lre="@firebase/messaging",Vre="@firebase/messaging-compat",Bre="@firebase/performance",zre="@firebase/performance-compat",Ure="@firebase/remote-config",Fre="@firebase/remote-config-compat",$re="@firebase/storage",Hre="@firebase/storage-compat",qre="@firebase/firestore",Wre="@firebase/ai",Gre="@firebase/firestore-compat",Kre="firebase",Yre="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="[DEFAULT]",Xre={[Q_]:"fire-core",[Tre]:"fire-core-compat",[kre]:"fire-analytics",[Ere]:"fire-analytics-compat",[Are]:"fire-app-check",[_re]:"fire-app-check-compat",[Cre]:"fire-auth",[Ore]:"fire-auth-compat",[Nre]:"fire-rtdb",[Mre]:"fire-data-connect",[jre]:"fire-rtdb-compat",[Ire]:"fire-fn",[Dre]:"fire-fn-compat",[Pre]:"fire-iid",[Rre]:"fire-iid-compat",[Lre]:"fire-fcm",[Vre]:"fire-fcm-compat",[Bre]:"fire-perf",[zre]:"fire-perf-compat",[Ure]:"fire-rc",[Fre]:"fire-rc-compat",[$re]:"fire-gcs",[Hre]:"fire-gcs-compat",[qre]:"fire-fst",[Gre]:"fire-fst-compat",[Wre]:"fire-vertex","fire-js":"fire-js",[Kre]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=new Map,Qre=new Map,Z_=new Map;function a4(t,e){try{t.container.addComponent(e)}catch(n){Ho.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dh(t){const e=t.name;if(Z_.has(e))return Ho.debug(`There were multiple attempts to register component ${e}.`),!1;Z_.set(e,t);for(const n of pb.values())a4(n,t);for(const n of Qre.values())a4(n,t);return!0}function U2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ys(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jre={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mc=new $g("app","Firebase",Jre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zre{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=Yre;function R9(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:J_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw mc.create("bad-app-name",{appName:String(i)});if(n||(n=N9()),!n)throw mc.create("no-options");const s=pb.get(i);if(s){if(gd(n,s.options)&&gd(r,s.config))return s;throw mc.create("duplicate-app",{appName:i})}const a=new sre(i);for(const c of Z_.values())a.addComponent(c);const l=new Zre(n,r,a);return pb.set(i,l),l}function L9(t=J_){const e=pb.get(t);if(!e&&t===J_&&N9())return R9();if(!e)throw mc.create("no-app",{appName:t});return e}function gc(t,e,n){let r=Xre[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ho.warn(a.join(" "));return}dh(new yd(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eie="firebase-heartbeat-database",tie=1,eg="firebase-heartbeat-store";let aE=null;function V9(){return aE||(aE=vre(eie,tie,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(eg)}catch(n){console.warn(n)}}}}).catch(t=>{throw mc.create("idb-open",{originalErrorMessage:t.message})})),aE}async function nie(t){try{const n=(await V9()).transaction(eg),r=await n.objectStore(eg).get(B9(t));return await n.done,r}catch(e){if(e instanceof el)Ho.warn(e.message);else{const n=mc.create("idb-get",{originalErrorMessage:e?.message});Ho.warn(n.message)}}}async function o4(t,e){try{const r=(await V9()).transaction(eg,"readwrite");await r.objectStore(eg).put(e,B9(t)),await r.done}catch(n){if(n instanceof el)Ho.warn(n.message);else{const r=mc.create("idb-set",{originalErrorMessage:n?.message});Ho.warn(r.message)}}}function B9(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rie=1024,iie=30;class sie{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oie(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=l4();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>iie){const i=lie(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ho.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=l4(),{heartbeatsToSend:n,unsentEntries:r}=aie(this._heartbeatsCache.heartbeats),i=hb(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ho.warn(e),""}}}function l4(){return new Date().toISOString().substring(0,10)}function aie(t,e=rie){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),c4(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),c4(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gne()?Kne().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nie(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return o4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return o4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function c4(t){return hb(JSON.stringify({version:2,heartbeats:t})).length}function lie(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cie(t){dh(new yd("platform-logger",e=>new wre(e),"PRIVATE")),dh(new yd("heartbeat",e=>new sie(e),"PRIVATE")),gc(Q_,s4,t),gc(Q_,s4,"esm2020"),gc("fire-js","")}cie("");function z9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uie=z9,U9=new $g("auth","Firebase",z9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=new B2("@firebase/auth");function die(t,...e){mb.logLevel<=st.WARN&&mb.warn(`Auth (${Dh}): ${t}`,...e)}function zv(t,...e){mb.logLevel<=st.ERROR&&mb.error(`Auth (${Dh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t,...e){throw F2(t,...e)}function Ba(t,...e){return F2(t,...e)}function F9(t,e,n){const r={...uie(),[e]:n};return new $g("auth","Firebase",r).create(e,{appName:t.name})}function Lo(t){return F9(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function F2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return U9.create(t,...e)}function ze(t,e,...n){if(!t)throw F2(e,...n)}function jo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zv(e),new Error(e)}function qo(t,e){t||jo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(){return typeof self<"u"&&self.location?.href||""}function fie(){return u4()==="http:"||u4()==="https:"}function u4(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hie(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fie()||$ne()||"connection"in navigator)?navigator.onLine:!0}function pie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){this.shortDelay=e,this.longDelay=n,qo(n>e,"Short delay should be less than long delay!"),this.isMobile=zne()||Hne()}get(){return hie()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t,e){qo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gie=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yie=new qg(3e4,6e4);function tl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function nl(t,e,n,r,i={}){return H9(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=Hg({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...s};return Fne()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ih(t.emulatorConfig.host)&&(d.credentials="include"),$9.fetch()(await q9(t,t.config.apiHost,n,l),d)})}async function H9(t,e,n){t._canInitEmulator=!1;const r={...mie,...e};try{const i=new bie(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Zy(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zy(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Zy(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Zy(t,"user-disabled",a);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw F9(t,f,d);ra(t,f)}}catch(i){if(i instanceof el)throw i;ra(t,"network-request-failed",{message:String(i)})}}async function Wg(t,e,n,r,i={}){const s=await nl(t,e,n,r,i);return"mfaPendingCredential"in s&&ra(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function q9(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?$2(t.config,i):`${t.config.apiScheme}://${i}`;return gie.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function vie(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bie{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ba(this.auth,"network-request-failed")),yie.get())})}}function Zy(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ba(t,e,r);return i.customData._tokenResponse=n,i}function d4(t){return t!==void 0&&t.enterprise!==void 0}class xie{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vie(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wie(t,e){return nl(t,"GET","/v2/recaptchaConfig",tl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sie(t,e){return nl(t,"POST","/v1/accounts:delete",e)}async function gb(t,e){return nl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tie(t,e=!1){const n=Wn(t),r=await n.getIdToken(e),i=H2(r);ze(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:Mm(oE(i.auth_time)),issuedAtTime:Mm(oE(i.iat)),expirationTime:Mm(oE(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function oE(t){return Number(t)*1e3}function H2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zv("JWT malformed, contained fewer than 3 sections"),null;try{const i=C9(n);return i?JSON.parse(i):(zv("Failed to decode base64 JWT payload"),null)}catch(i){return zv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function f4(t){const e=H2(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tg(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof el&&Eie(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Eie({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mm(this.lastLoginAt),this.creationTime=Mm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yb(t){const e=t.auth,n=await t.getIdToken(),r=await tg(t,gb(e,{idToken:n}));ze(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?W9(i.providerUserInfo):[],a=Aie(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!a?.length,d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new tA(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function _ie(t){const e=Wn(t);await yb(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Aie(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function W9(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cie(t,e){const n=await H9(t,{},async()=>{const r=Hg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await q9(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Ih(t.emulatorConfig.host)&&(c.credentials="include"),$9.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Oie(t,e){return nl(t,"POST","/v2/accounts:revokeToken",tl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=f4(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Cie(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new th;return r&&(ze(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ze(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ze(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new th,this.toJSON())}_performRefresh(){return jo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zs{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new kie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new tA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await tg(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Tie(this,e)}reload(){return _ie(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yb(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ys(this.auth.app))return Promise.reject(Lo(this.auth));const e=await this.getIdToken();return await tg(this,Sie(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:v,providerData:b,stsTokenManager:T}=n;ze(p&&T,e,"internal-error");const S=th.fromJSON(this.name,T);ze(typeof p=="string",e,"internal-error"),Wl(r,e.name),Wl(i,e.name),ze(typeof g=="boolean",e,"internal-error"),ze(typeof v=="boolean",e,"internal-error"),Wl(s,e.name),Wl(a,e.name),Wl(l,e.name),Wl(c,e.name),Wl(d,e.name),Wl(f,e.name);const k=new Zs({uid:p,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:v,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:S,createdAt:d,lastLoginAt:f});return b&&Array.isArray(b)&&(k.providerData=b.map(C=>({...C}))),c&&(k._redirectEventId=c),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new th;i.updateFromServerResponse(n);const s=new Zs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await yb(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ze(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?W9(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,l=new th;l.updateFromIdToken(r);const c=new Zs({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new tA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=new Map;function Io(t){qo(t instanceof Function,"Expected a class definition");let e=h4.get(t);return e?(qo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,h4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}G9.type="NONE";const p4=G9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t,e,n){return`firebase:${t}:${e}:${n}`}class nh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Uv(this.userKey,i.apiKey,s),this.fullPersistenceKey=Uv("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gb(this.auth,{idToken:e}).catch(()=>{});return n?Zs._fromGetAccountInfoResponse(this.auth,n,e):null}return Zs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new nh(Io(p4),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Io(p4);const a=Uv(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(a);if(f){let p;if(typeof f=="string"){const g=await gb(e,{idToken:f}).catch(()=>{});if(!g)break;p=await Zs._fromGetAccountInfoResponse(e,g,f)}else p=Zs._fromJSON(e,f);d!==s&&(l=p),s=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new nh(s,e,r):(s=c[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new nh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Q9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(K9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z9(e))return"Blackberry";if(eF(e))return"Webos";if(Y9(e))return"Safari";if((e.includes("chrome/")||X9(e))&&!e.includes("edge/"))return"Chrome";if(J9(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function K9(t=$r()){return/firefox\//i.test(t)}function Y9(t=$r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function X9(t=$r()){return/crios\//i.test(t)}function Q9(t=$r()){return/iemobile/i.test(t)}function J9(t=$r()){return/android/i.test(t)}function Z9(t=$r()){return/blackberry/i.test(t)}function eF(t=$r()){return/webos/i.test(t)}function q2(t=$r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Nie(t=$r()){return q2(t)&&!!window.navigator?.standalone}function Mie(){return qne()&&document.documentMode===10}function tF(t=$r()){return q2(t)||J9(t)||eF(t)||Z9(t)||/windows phone/i.test(t)||Q9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t,e=[]){let n;switch(t){case"Browser":n=m4($r());break;case"Worker":n=`${m4($r())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const c=e(s);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iie(t,e={}){return nl(t,"GET","/v2/passwordPolicy",tl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Die=6;class Pie{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Die,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g4(this),this.idTokenSubscription=new g4(this),this.beforeStateQueue=new jie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=U9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Io(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gb(this,{idToken:e}),r=await Zs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ys(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,a=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yb(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pie()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ys(this.app))return Promise.reject(Lo(this));const n=e?Wn(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ys(this.app)?Promise.reject(Lo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ys(this.app)?Promise.reject(Lo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Io(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Iie(this),n=new Pie(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $g("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Oie(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Io(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await nh.create(this,[Io(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ys(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&die(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fc(t){return Wn(t)}class g4{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zne(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lie(t){mw=t}function rF(t){return mw.loadJS(t)}function Vie(){return mw.recaptchaEnterpriseScript}function Bie(){return mw.gapiScript}function zie(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Uie{constructor(){this.enterprise=new Fie}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Fie{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $ie="recaptcha-enterprise",iF="NO_RECAPTCHA";class Hie{constructor(e){this.type=$ie,this.auth=Fc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{wie(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new xie(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(c=>{l(c)})})}function i(s,a,l){const c=window.grecaptcha;d4(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(iF)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Uie().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&d4(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Vie();c.length!==0&&(c+=l),rF(c).then(()=>{i(l,s,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function y4(t,e,n,r=!1,i=!1){const s=new Hie(t);let a;if(i)a=iF;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function vb(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await y4(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await y4(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qie(t,e){const n=U2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(gd(s,e??{}))return i;ra(i,"already-initialized")}return n.initialize({options:e})}function Wie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Io);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Gie(t,e,n){const r=Fc(t);ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=sF(e),{host:a,port:l}=Kie(e),c=l===null?"":`:${l}`,d={url:`${s}//${a}${c}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ze(gd(d,r.config.emulator)&&gd(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Ih(a)?(j9(`${s}//${a}${c}`),I9("Auth",!0)):Yie()}function sF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Kie(t){const e=sF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:v4(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:v4(a)}}}function v4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Yie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jo("not implemented")}_getIdTokenResponse(e){return jo("not implemented")}_linkToIdToken(e,n){return jo("not implemented")}_getReauthenticationResolver(e){return jo("not implemented")}}async function Xie(t,e){return nl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qie(t,e){return Wg(t,"POST","/v1/accounts:signInWithPassword",tl(t,e))}async function Jie(t,e){return nl(t,"POST","/v1/accounts:sendOobCode",tl(t,e))}async function Zie(t,e){return Jie(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ese(t,e){return Wg(t,"POST","/v1/accounts:signInWithEmailLink",tl(t,e))}async function tse(t,e){return Wg(t,"POST","/v1/accounts:signInWithEmailLink",tl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends W2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ng(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ng(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vb(e,n,"signInWithPassword",Qie);case"emailLink":return ese(e,{email:this._email,oobCode:this._password});default:ra(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vb(e,r,"signUpPassword",Xie);case"emailLink":return tse(e,{idToken:n,email:this._email,oobCode:this._password});default:ra(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(t,e){return Wg(t,"POST","/v1/accounts:signInWithIdp",tl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nse="http://localhost";class vd extends W2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ra("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new vd(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return rh(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rh(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rh(e,n)}buildRequest(){const e={requestUri:nse,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hg(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rse(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ise(t){const e=fm(hm(t)).link,n=e?fm(hm(e)).deep_link_id:null,r=fm(hm(t)).deep_link_id;return(r?fm(hm(r)).link:null)||r||n||e||t}class G2{constructor(e){const n=fm(hm(e)),r=n.apiKey??null,i=n.oobCode??null,s=rse(n.mode??null);ze(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ise(e);try{return new G2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this.providerId=Ph.PROVIDER_ID}static credential(e,n){return ng._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=G2.parseLink(n);return ze(r,"argument-error"),ng._fromEmailAndCode(e,r.code,r.tenantId)}}Ph.PROVIDER_ID="password";Ph.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ph.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg extends aF{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends Gg{constructor(){super("facebook.com")}static credential(e){return vd._fromParams({providerId:nc.PROVIDER_ID,signInMethod:nc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nc.credentialFromTaggedObject(e)}static credentialFromError(e){return nc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nc.credential(e.oauthAccessToken)}catch{return null}}}nc.FACEBOOK_SIGN_IN_METHOD="facebook.com";nc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends Gg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vd._fromParams({providerId:rc.PROVIDER_ID,signInMethod:rc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rc.credentialFromTaggedObject(e)}static credentialFromError(e){return rc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return rc.credential(n,r)}catch{return null}}}rc.GOOGLE_SIGN_IN_METHOD="google.com";rc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends Gg{constructor(){super("github.com")}static credential(e){return vd._fromParams({providerId:ic.PROVIDER_ID,signInMethod:ic.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ic.credentialFromTaggedObject(e)}static credentialFromError(e){return ic.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ic.credential(e.oauthAccessToken)}catch{return null}}}ic.GITHUB_SIGN_IN_METHOD="github.com";ic.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends Gg{constructor(){super("twitter.com")}static credential(e,n){return vd._fromParams({providerId:sc.PROVIDER_ID,signInMethod:sc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return sc.credentialFromTaggedObject(e)}static credentialFromError(e){return sc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return sc.credential(n,r)}catch{return null}}}sc.TWITTER_SIGN_IN_METHOD="twitter.com";sc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sse(t,e){return Wg(t,"POST","/v1/accounts:signUp",tl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Zs._fromIdTokenResponse(e,r,i),a=b4(r);return new bd({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=b4(r);return new bd({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function b4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb extends el{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bb.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new bb(e,n,r,i)}}function oF(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bb._fromErrorAndOperation(t,s,e,r):s})}async function ase(t,e,n=!1){const r=await tg(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bd._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ose(t,e,n=!1){const{auth:r}=t;if(ys(r.app))return Promise.reject(Lo(r));const i="reauthenticate";try{const s=await tg(t,oF(r,i,e,t),n);ze(s.idToken,r,"internal-error");const a=H2(s.idToken);ze(a,r,"internal-error");const{sub:l}=a;return ze(t.uid===l,r,"user-mismatch"),bd._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ra(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(t,e,n=!1){if(ys(t.app))return Promise.reject(Lo(t));const r="signIn",i=await oF(t,r,e),s=await bd._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function lse(t,e){return lF(Fc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cF(t){const e=Fc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cse(t,e,n){const r=Fc(t);await vb(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Zie)}async function use(t,e,n){if(ys(t.app))return Promise.reject(Lo(t));const r=Fc(t),a=await vb(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sse).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&cF(t),c}),l=await bd._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function dse(t,e,n){return ys(t.app)?Promise.reject(Lo(t)):lse(Wn(t),Ph.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cF(t),r})}function fse(t,e,n,r){return Wn(t).onIdTokenChanged(e,n,r)}function hse(t,e,n){return Wn(t).beforeAuthStateChanged(e,n)}function js(t,e,n,r){return Wn(t).onAuthStateChanged(e,n,r)}function pse(t){return Wn(t).signOut()}const xb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xb,"1"),this.storage.removeItem(xb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mse=1e3,gse=10;class dF extends uF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);Mie()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,gse):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dF.type="LOCAL";const yse=dF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF extends uF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fF.type="SESSION";const hF=fF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vse(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new gw(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async d=>d(n.origin,s)),c=await vse(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const d=K2("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(){return window}function xse(t){za().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(){return typeof za().WorkerGlobalScope<"u"&&typeof za().importScripts=="function"}async function wse(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Sse(){return navigator?.serviceWorker?.controller||null}function Tse(){return pF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF="firebaseLocalStorageDb",Ese=1,wb="firebaseLocalStorage",gF="fbase_key";class Kg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yw(t,e){return t.transaction([wb],e?"readwrite":"readonly").objectStore(wb)}function kse(){const t=indexedDB.deleteDatabase(mF);return new Kg(t).toPromise()}function nA(){const t=indexedDB.open(mF,Ese);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wb,{keyPath:gF})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wb)?e(r):(r.close(),await kse(),e(await nA()))})})}async function x4(t,e,n){const r=yw(t,!0).put({[gF]:e,value:n});return new Kg(r).toPromise()}async function _se(t,e){const n=yw(t,!1).get(e),r=await new Kg(n).toPromise();return r===void 0?null:r.value}function w4(t,e){const n=yw(t,!0).delete(e);return new Kg(n).toPromise()}const Ase=800,Cse=3;class yF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Cse)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gw._getInstance(Tse()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wse(),!this.activeServiceWorker)return;this.sender=new bse(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Sse()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nA();return await x4(e,xb,"1"),await w4(e,xb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>x4(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_se(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>w4(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=yw(i,!1).getAll();return new Kg(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ase)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yF.type="LOCAL";const Ose=yF;new qg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nse(t,e){return e?Io(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2 extends W2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rh(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rh(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rh(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Mse(t){return lF(t.auth,new Y2(t),t.bypassAuthState)}function jse(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),ose(n,new Y2(t),t.bypassAuthState)}async function Ise(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),ase(n,new Y2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mse;case"linkViaPopup":case"linkViaRedirect":return Ise;case"reauthViaPopup":case"reauthViaRedirect":return jse;default:ra(this.auth,"internal-error")}}resolve(e){qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dse=new qg(2e3,1e4);class Gf extends vF{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Gf.currentPopupAction&&Gf.currentPopupAction.cancel(),Gf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){qo(this.filter.length===1,"Popup operations only handle one event");const e=K2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ba(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ba(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gf.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ba(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Dse.get())};e()}}Gf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pse="pendingRedirect",Fv=new Map;class Rse extends vF{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Fv.get(this.auth._key());if(!e){try{const r=await Lse(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fv.set(this.auth._key(),e)}return this.bypassAuthState||Fv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Lse(t,e){const n=zse(e),r=Bse(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Vse(t,e){Fv.set(t._key(),e)}function Bse(t){return Io(t._redirectPersistence)}function zse(t){return Uv(Pse,t.config.apiKey,t.name)}async function Use(t,e,n=!1){if(ys(t.app))return Promise.reject(Lo(t));const r=Fc(t),i=Nse(r,e),a=await new Rse(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fse=600*1e3;class $se{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Hse(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!bF(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ba(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Fse&&this.cachedEventUids.clear(),this.cachedEventUids.has(S4(e))}saveEventToCache(e){this.cachedEventUids.add(S4(e)),this.lastProcessedEventTime=Date.now()}}function S4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bF({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Hse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qse(t,e={}){return nl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gse=/^https?/;async function Kse(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qse(t);for(const n of e)try{if(Yse(n))return}catch{}ra(t,"unauthorized-domain")}function Yse(t){const e=eA(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Gse.test(n))return!1;if(Wse.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xse=new qg(3e4,6e4);function T4(){const t=za().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Qse(t){return new Promise((e,n)=>{function r(){T4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T4(),n(Ba(t,"network-request-failed"))},timeout:Xse.get()})}if(za().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(za().gapi?.load)r();else{const i=zie("iframefcb");return za()[i]=()=>{gapi.load?r():n(Ba(t,"network-request-failed"))},rF(`${Bie()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw $v=null,e})}let $v=null;function Jse(t){return $v=$v||Qse(t),$v}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zse=new qg(5e3,15e3),eae="__/auth/iframe",tae="emulator/auth/iframe",nae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iae(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$2(e,tae):`https://${t.config.authDomain}/${eae}`,r={apiKey:e.apiKey,appName:t.name,v:Dh},i=rae.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Hg(r).slice(1)}`}async function sae(t){const e=await Jse(t),n=za().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:iae(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nae,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Ba(t,"network-request-failed"),l=za().setTimeout(()=>{s(a)},Zse.get());function c(){za().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oae=500,lae=600,cae="_blank",uae="http://localhost";class E4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dae(t,e,n,r=oae,i=lae){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...aae,width:r.toString(),height:i.toString(),top:s,left:a},d=$r().toLowerCase();n&&(l=X9(d)?cae:n),K9(d)&&(e=e||uae,c.scrollbars="yes");const f=Object.entries(c).reduce((g,[v,b])=>`${g}${v}=${b},`,"");if(Nie(d)&&l!=="_self")return fae(e||"",l),new E4(null);const p=window.open(e||"",l,f);ze(p,t,"popup-blocked");try{p.focus()}catch{}return new E4(p)}function fae(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hae="__/auth/handler",pae="emulator/auth/handler",mae=encodeURIComponent("fac");async function k4(t,e,n,r,i,s){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Dh,eventId:i};if(e instanceof aF){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Jne(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))a[f]=p}if(e instanceof Gg){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),d=c?`#${mae}=${encodeURIComponent(c)}`:"";return`${gae(t)}?${Hg(l).slice(1)}${d}`}function gae({config:t}){return t.emulator?$2(t,pae):`https://${t.authDomain}/${hae}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="webStorageSupport";class yae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hF,this._completeRedirectFn=Use,this._overrideRedirectResult=Vse}async _openPopup(e,n,r,i){qo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await k4(e,n,r,eA(),i);return dae(e,s,K2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await k4(e,n,r,eA(),i);return xse(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sae(e),r=new $se(e);return n.register("authEvent",i=>(ze(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lE,{type:lE},i=>{const s=i?.[0]?.[lE];s!==void 0&&n(!!s),ra(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Kse(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tF()||Y9()||q2()}}const vae=yae;var _4="@firebase/auth",A4="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wae(t){dh(new yd("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;ze(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nF(t)},d=new Rie(r,i,s,c);return Wie(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dh(new yd("auth-internal",e=>{const n=Fc(e.getProvider("auth").getImmediate());return(r=>new bae(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gc(_4,A4,xae(t)),gc(_4,A4,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sae=300,Tae=M9("authIdTokenMaxAge")||Sae;let C4=null;const Eae=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Tae)return;const i=n?.token;C4!==i&&(C4=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Is(t=L9()){const e=U2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qie(t,{popupRedirectResolver:vae,persistence:[Ose,yse,hF]}),r=M9("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=Eae(s.toString());hse(n,a,()=>a(n.currentUser)),fse(n,l=>a(l))}}const i=O9("auth");return i&&Gie(n,`http://${i}`),n}function kae(){return document.getElementsByTagName("head")?.[0]??document}Lie({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ba("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",kae().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wae("Browser");var O4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yc,xF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,M){function P(){}P.prototype=M.prototype,j.F=M.prototype,j.prototype=new P,j.prototype.constructor=j,j.D=function(B,U,V){for(var L=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)L[Z-2]=arguments[Z];return M.prototype[U].apply(B,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,M,P){P||(P=0);const B=Array(16);if(typeof M=="string")for(var U=0;U<16;++U)B[U]=M.charCodeAt(P++)|M.charCodeAt(P++)<<8|M.charCodeAt(P++)<<16|M.charCodeAt(P++)<<24;else for(U=0;U<16;++U)B[U]=M[P++]|M[P++]<<8|M[P++]<<16|M[P++]<<24;M=j.g[0],P=j.g[1],U=j.g[2];let V=j.g[3],L;L=M+(V^P&(U^V))+B[0]+3614090360&4294967295,M=P+(L<<7&4294967295|L>>>25),L=V+(U^M&(P^U))+B[1]+3905402710&4294967295,V=M+(L<<12&4294967295|L>>>20),L=U+(P^V&(M^P))+B[2]+606105819&4294967295,U=V+(L<<17&4294967295|L>>>15),L=P+(M^U&(V^M))+B[3]+3250441966&4294967295,P=U+(L<<22&4294967295|L>>>10),L=M+(V^P&(U^V))+B[4]+4118548399&4294967295,M=P+(L<<7&4294967295|L>>>25),L=V+(U^M&(P^U))+B[5]+1200080426&4294967295,V=M+(L<<12&4294967295|L>>>20),L=U+(P^V&(M^P))+B[6]+2821735955&4294967295,U=V+(L<<17&4294967295|L>>>15),L=P+(M^U&(V^M))+B[7]+4249261313&4294967295,P=U+(L<<22&4294967295|L>>>10),L=M+(V^P&(U^V))+B[8]+1770035416&4294967295,M=P+(L<<7&4294967295|L>>>25),L=V+(U^M&(P^U))+B[9]+2336552879&4294967295,V=M+(L<<12&4294967295|L>>>20),L=U+(P^V&(M^P))+B[10]+4294925233&4294967295,U=V+(L<<17&4294967295|L>>>15),L=P+(M^U&(V^M))+B[11]+2304563134&4294967295,P=U+(L<<22&4294967295|L>>>10),L=M+(V^P&(U^V))+B[12]+1804603682&4294967295,M=P+(L<<7&4294967295|L>>>25),L=V+(U^M&(P^U))+B[13]+4254626195&4294967295,V=M+(L<<12&4294967295|L>>>20),L=U+(P^V&(M^P))+B[14]+2792965006&4294967295,U=V+(L<<17&4294967295|L>>>15),L=P+(M^U&(V^M))+B[15]+1236535329&4294967295,P=U+(L<<22&4294967295|L>>>10),L=M+(U^V&(P^U))+B[1]+4129170786&4294967295,M=P+(L<<5&4294967295|L>>>27),L=V+(P^U&(M^P))+B[6]+3225465664&4294967295,V=M+(L<<9&4294967295|L>>>23),L=U+(M^P&(V^M))+B[11]+643717713&4294967295,U=V+(L<<14&4294967295|L>>>18),L=P+(V^M&(U^V))+B[0]+3921069994&4294967295,P=U+(L<<20&4294967295|L>>>12),L=M+(U^V&(P^U))+B[5]+3593408605&4294967295,M=P+(L<<5&4294967295|L>>>27),L=V+(P^U&(M^P))+B[10]+38016083&4294967295,V=M+(L<<9&4294967295|L>>>23),L=U+(M^P&(V^M))+B[15]+3634488961&4294967295,U=V+(L<<14&4294967295|L>>>18),L=P+(V^M&(U^V))+B[4]+3889429448&4294967295,P=U+(L<<20&4294967295|L>>>12),L=M+(U^V&(P^U))+B[9]+568446438&4294967295,M=P+(L<<5&4294967295|L>>>27),L=V+(P^U&(M^P))+B[14]+3275163606&4294967295,V=M+(L<<9&4294967295|L>>>23),L=U+(M^P&(V^M))+B[3]+4107603335&4294967295,U=V+(L<<14&4294967295|L>>>18),L=P+(V^M&(U^V))+B[8]+1163531501&4294967295,P=U+(L<<20&4294967295|L>>>12),L=M+(U^V&(P^U))+B[13]+2850285829&4294967295,M=P+(L<<5&4294967295|L>>>27),L=V+(P^U&(M^P))+B[2]+4243563512&4294967295,V=M+(L<<9&4294967295|L>>>23),L=U+(M^P&(V^M))+B[7]+1735328473&4294967295,U=V+(L<<14&4294967295|L>>>18),L=P+(V^M&(U^V))+B[12]+2368359562&4294967295,P=U+(L<<20&4294967295|L>>>12),L=M+(P^U^V)+B[5]+4294588738&4294967295,M=P+(L<<4&4294967295|L>>>28),L=V+(M^P^U)+B[8]+2272392833&4294967295,V=M+(L<<11&4294967295|L>>>21),L=U+(V^M^P)+B[11]+1839030562&4294967295,U=V+(L<<16&4294967295|L>>>16),L=P+(U^V^M)+B[14]+4259657740&4294967295,P=U+(L<<23&4294967295|L>>>9),L=M+(P^U^V)+B[1]+2763975236&4294967295,M=P+(L<<4&4294967295|L>>>28),L=V+(M^P^U)+B[4]+1272893353&4294967295,V=M+(L<<11&4294967295|L>>>21),L=U+(V^M^P)+B[7]+4139469664&4294967295,U=V+(L<<16&4294967295|L>>>16),L=P+(U^V^M)+B[10]+3200236656&4294967295,P=U+(L<<23&4294967295|L>>>9),L=M+(P^U^V)+B[13]+681279174&4294967295,M=P+(L<<4&4294967295|L>>>28),L=V+(M^P^U)+B[0]+3936430074&4294967295,V=M+(L<<11&4294967295|L>>>21),L=U+(V^M^P)+B[3]+3572445317&4294967295,U=V+(L<<16&4294967295|L>>>16),L=P+(U^V^M)+B[6]+76029189&4294967295,P=U+(L<<23&4294967295|L>>>9),L=M+(P^U^V)+B[9]+3654602809&4294967295,M=P+(L<<4&4294967295|L>>>28),L=V+(M^P^U)+B[12]+3873151461&4294967295,V=M+(L<<11&4294967295|L>>>21),L=U+(V^M^P)+B[15]+530742520&4294967295,U=V+(L<<16&4294967295|L>>>16),L=P+(U^V^M)+B[2]+3299628645&4294967295,P=U+(L<<23&4294967295|L>>>9),L=M+(U^(P|~V))+B[0]+4096336452&4294967295,M=P+(L<<6&4294967295|L>>>26),L=V+(P^(M|~U))+B[7]+1126891415&4294967295,V=M+(L<<10&4294967295|L>>>22),L=U+(M^(V|~P))+B[14]+2878612391&4294967295,U=V+(L<<15&4294967295|L>>>17),L=P+(V^(U|~M))+B[5]+4237533241&4294967295,P=U+(L<<21&4294967295|L>>>11),L=M+(U^(P|~V))+B[12]+1700485571&4294967295,M=P+(L<<6&4294967295|L>>>26),L=V+(P^(M|~U))+B[3]+2399980690&4294967295,V=M+(L<<10&4294967295|L>>>22),L=U+(M^(V|~P))+B[10]+4293915773&4294967295,U=V+(L<<15&4294967295|L>>>17),L=P+(V^(U|~M))+B[1]+2240044497&4294967295,P=U+(L<<21&4294967295|L>>>11),L=M+(U^(P|~V))+B[8]+1873313359&4294967295,M=P+(L<<6&4294967295|L>>>26),L=V+(P^(M|~U))+B[15]+4264355552&4294967295,V=M+(L<<10&4294967295|L>>>22),L=U+(M^(V|~P))+B[6]+2734768916&4294967295,U=V+(L<<15&4294967295|L>>>17),L=P+(V^(U|~M))+B[13]+1309151649&4294967295,P=U+(L<<21&4294967295|L>>>11),L=M+(U^(P|~V))+B[4]+4149444226&4294967295,M=P+(L<<6&4294967295|L>>>26),L=V+(P^(M|~U))+B[11]+3174756917&4294967295,V=M+(L<<10&4294967295|L>>>22),L=U+(M^(V|~P))+B[2]+718787259&4294967295,U=V+(L<<15&4294967295|L>>>17),L=P+(V^(U|~M))+B[9]+3951481745&4294967295,j.g[0]=j.g[0]+M&4294967295,j.g[1]=j.g[1]+(U+(L<<21&4294967295|L>>>11))&4294967295,j.g[2]=j.g[2]+U&4294967295,j.g[3]=j.g[3]+V&4294967295}r.prototype.v=function(j,M){M===void 0&&(M=j.length);const P=M-this.blockSize,B=this.C;let U=this.h,V=0;for(;V<M;){if(U==0)for(;V<=P;)i(this,j,V),V+=this.blockSize;if(typeof j=="string"){for(;V<M;)if(B[U++]=j.charCodeAt(V++),U==this.blockSize){i(this,B),U=0;break}}else for(;V<M;)if(B[U++]=j[V++],U==this.blockSize){i(this,B),U=0;break}}this.h=U,this.o+=M},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var M=1;M<j.length-8;++M)j[M]=0;M=this.o*8;for(var P=j.length-8;P<j.length;++P)j[P]=M&255,M/=256;for(this.v(j),j=Array(16),M=0,P=0;P<4;++P)for(let B=0;B<32;B+=8)j[M++]=this.g[P]>>>B&255;return j};function s(j,M){var P=l;return Object.prototype.hasOwnProperty.call(P,j)?P[j]:P[j]=M(j)}function a(j,M){this.h=M;const P=[];let B=!0;for(let U=j.length-1;U>=0;U--){const V=j[U]|0;B&&V==M||(P[U]=V,B=!1)}this.g=P}var l={};function c(j){return-128<=j&&j<128?s(j,function(M){return new a([M|0],M<0?-1:0)}):new a([j|0],j<0?-1:0)}function d(j){if(isNaN(j)||!isFinite(j))return p;if(j<0)return S(d(-j));const M=[];let P=1;for(let B=0;j>=P;B++)M[B]=j/P|0,P*=4294967296;return new a(M,0)}function f(j,M){if(j.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(j.charAt(0)=="-")return S(f(j.substring(1),M));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=d(Math.pow(M,8));let B=p;for(let V=0;V<j.length;V+=8){var U=Math.min(8,j.length-V);const L=parseInt(j.substring(V,V+U),M);U<8?(U=d(Math.pow(M,U)),B=B.j(U).add(d(L))):(B=B.j(P),B=B.add(d(L)))}return B}var p=c(0),g=c(1),v=c(16777216);t=a.prototype,t.m=function(){if(T(this))return-S(this).m();let j=0,M=1;for(let P=0;P<this.g.length;P++){const B=this.i(P);j+=(B>=0?B:4294967296+B)*M,M*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(b(this))return"0";if(T(this))return"-"+S(this).toString(j);const M=d(Math.pow(j,6));var P=this;let B="";for(;;){const U=R(P,M).g;P=k(P,U.j(M));let V=((P.g.length>0?P.g[0]:P.h)>>>0).toString(j);if(P=U,b(P))return V+B;for(;V.length<6;)V="0"+V;B=V+B}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function b(j){if(j.h!=0)return!1;for(let M=0;M<j.g.length;M++)if(j.g[M]!=0)return!1;return!0}function T(j){return j.h==-1}t.l=function(j){return j=k(this,j),T(j)?-1:b(j)?0:1};function S(j){const M=j.g.length,P=[];for(let B=0;B<M;B++)P[B]=~j.g[B];return new a(P,~j.h).add(g)}t.abs=function(){return T(this)?S(this):this},t.add=function(j){const M=Math.max(this.g.length,j.g.length),P=[];let B=0;for(let U=0;U<=M;U++){let V=B+(this.i(U)&65535)+(j.i(U)&65535),L=(V>>>16)+(this.i(U)>>>16)+(j.i(U)>>>16);B=L>>>16,V&=65535,L&=65535,P[U]=L<<16|V}return new a(P,P[P.length-1]&-2147483648?-1:0)};function k(j,M){return j.add(S(M))}t.j=function(j){if(b(this)||b(j))return p;if(T(this))return T(j)?S(this).j(S(j)):S(S(this).j(j));if(T(j))return S(this.j(S(j)));if(this.l(v)<0&&j.l(v)<0)return d(this.m()*j.m());const M=this.g.length+j.g.length,P=[];for(var B=0;B<2*M;B++)P[B]=0;for(B=0;B<this.g.length;B++)for(let U=0;U<j.g.length;U++){const V=this.i(B)>>>16,L=this.i(B)&65535,Z=j.i(U)>>>16,oe=j.i(U)&65535;P[2*B+2*U]+=L*oe,C(P,2*B+2*U),P[2*B+2*U+1]+=V*oe,C(P,2*B+2*U+1),P[2*B+2*U+1]+=L*Z,C(P,2*B+2*U+1),P[2*B+2*U+2]+=V*Z,C(P,2*B+2*U+2)}for(j=0;j<M;j++)P[j]=P[2*j+1]<<16|P[2*j];for(j=M;j<2*M;j++)P[j]=0;return new a(P,0)};function C(j,M){for(;(j[M]&65535)!=j[M];)j[M+1]+=j[M]>>>16,j[M]&=65535,M++}function N(j,M){this.g=j,this.h=M}function R(j,M){if(b(M))throw Error("division by zero");if(b(j))return new N(p,p);if(T(j))return M=R(S(j),M),new N(S(M.g),S(M.h));if(T(M))return M=R(j,S(M)),new N(S(M.g),M.h);if(j.g.length>30){if(T(j)||T(M))throw Error("slowDivide_ only works with positive integers.");for(var P=g,B=M;B.l(j)<=0;)P=D(P),B=D(B);var U=z(P,1),V=z(B,1);for(B=z(B,2),P=z(P,2);!b(B);){var L=V.add(B);L.l(j)<=0&&(U=U.add(P),V=L),B=z(B,1),P=z(P,1)}return M=k(j,U.j(M)),new N(U,M)}for(U=p;j.l(M)>=0;){for(P=Math.max(1,Math.floor(j.m()/M.m())),B=Math.ceil(Math.log(P)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),V=d(P),L=V.j(M);T(L)||L.l(j)>0;)P-=B,V=d(P),L=V.j(M);b(V)&&(V=g),U=U.add(V),j=k(j,L)}return new N(U,j)}t.B=function(j){return R(this,j).h},t.and=function(j){const M=Math.max(this.g.length,j.g.length),P=[];for(let B=0;B<M;B++)P[B]=this.i(B)&j.i(B);return new a(P,this.h&j.h)},t.or=function(j){const M=Math.max(this.g.length,j.g.length),P=[];for(let B=0;B<M;B++)P[B]=this.i(B)|j.i(B);return new a(P,this.h|j.h)},t.xor=function(j){const M=Math.max(this.g.length,j.g.length),P=[];for(let B=0;B<M;B++)P[B]=this.i(B)^j.i(B);return new a(P,this.h^j.h)};function D(j){const M=j.g.length+1,P=[];for(let B=0;B<M;B++)P[B]=j.i(B)<<1|j.i(B-1)>>>31;return new a(P,j.h)}function z(j,M){const P=M>>5;M%=32;const B=j.g.length-P,U=[];for(let V=0;V<B;V++)U[V]=M>0?j.i(V+P)>>>M|j.i(V+P+1)<<32-M:j.i(V+P);return new a(U,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,xF=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,yc=a}).apply(typeof O4<"u"?O4:typeof self<"u"?self:typeof window<"u"?window:{});var ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wF,pm,SF,Hv,rA,TF,EF,kF;(function(){var t,e=Object.defineProperty;function n(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof ev=="object"&&ev];for(var A=0;A<x.length;++A){var I=x[A];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(x,A){if(A)e:{var I=r;x=x.split(".");for(var $=0;$<x.length-1;$++){var X=x[$];if(!(X in I))break e;I=I[X]}x=x[x.length-1],$=I[x],A=A($),A!=$&&A!=null&&e(I,x,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(x){return x||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(x){return x||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(x){return x||function(A){var I=[],$;for($ in A)Object.prototype.hasOwnProperty.call(A,$)&&I.push([$,A[$]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(x){var A=typeof x;return A=="object"&&x!=null||A=="function"}function c(x,A,I){return x.call.apply(x.bind,arguments)}function d(x,A,I){return d=c,d.apply(null,arguments)}function f(x,A){var I=Array.prototype.slice.call(arguments,1);return function(){var $=I.slice();return $.push.apply($,arguments),x.apply(this,$)}}function p(x,A){function I(){}I.prototype=A.prototype,x.Z=A.prototype,x.prototype=new I,x.prototype.constructor=x,x.Ob=function($,X,te){for(var xe=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)xe[Ke-2]=arguments[Ke];return A.prototype[X].apply($,xe)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?x=>x&&AsyncContext.Snapshot.wrap(x):x=>x;function v(x){const A=x.length;if(A>0){const I=Array(A);for(let $=0;$<A;$++)I[$]=x[$];return I}return[]}function b(x,A){for(let $=1;$<arguments.length;$++){const X=arguments[$];var I=typeof X;if(I=I!="object"?I:X?Array.isArray(X)?"array":I:"null",I=="array"||I=="object"&&typeof X.length=="number"){I=x.length||0;const te=X.length||0;x.length=I+te;for(let xe=0;xe<te;xe++)x[I+xe]=X[xe]}else x.push(X)}}class T{constructor(A,I){this.i=A,this.j=I,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function S(x){a.setTimeout(()=>{throw x},0)}function k(){var x=j;let A=null;return x.g&&(A=x.g,x.g=x.g.next,x.g||(x.h=null),A.next=null),A}class C{constructor(){this.h=this.g=null}add(A,I){const $=N.get();$.set(A,I),this.h?this.h.next=$:this.g=$,this.h=$}}var N=new T(()=>new R,x=>x.reset());class R{constructor(){this.next=this.g=this.h=null}set(A,I){this.h=A,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let D,z=!1,j=new C,M=()=>{const x=Promise.resolve(void 0);D=()=>{x.then(P)}};function P(){for(var x;x=k();){try{x.h.call(x.g)}catch(I){S(I)}var A=N;A.j(x),A.h<100&&(A.h++,x.next=A.g,A.g=x)}z=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(x,A){this.type=x,this.g=this.target=A,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var x=!1,A=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const I=()=>{};a.addEventListener("test",I,A),a.removeEventListener("test",I,A)}catch{}return x})();function L(x){return/^[\s\xa0]*$/.test(x)}function Z(x,A){U.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x&&this.init(x,A)}p(Z,U),Z.prototype.init=function(x,A){const I=this.type=x.type,$=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;this.target=x.target||x.srcElement,this.g=A,A=x.relatedTarget,A||(I=="mouseover"?A=x.fromElement:I=="mouseout"&&(A=x.toElement)),this.relatedTarget=A,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=x.pointerType,this.state=x.state,this.i=x,x.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),W=0;function Y(x,A,I,$,X){this.listener=x,this.proxy=null,this.src=A,this.type=I,this.capture=!!$,this.ha=X,this.key=++W,this.da=this.fa=!1}function ce(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function he(x,A,I){for(const $ in x)A.call(I,x[$],$,x)}function Se(x,A){for(const I in x)A.call(void 0,x[I],I,x)}function H(x){const A={};for(const I in x)A[I]=x[I];return A}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(x,A){let I,$;for(let X=1;X<arguments.length;X++){$=arguments[X];for(I in $)x[I]=$[I];for(let te=0;te<ne.length;te++)I=ne[te],Object.prototype.hasOwnProperty.call($,I)&&(x[I]=$[I])}}function be(x){this.src=x,this.g={},this.h=0}be.prototype.add=function(x,A,I,$,X){const te=x.toString();x=this.g[te],x||(x=this.g[te]=[],this.h++);const xe=pe(x,A,$,X);return xe>-1?(A=x[xe],I||(A.fa=!1)):(A=new Y(A,this.src,te,!!$,X),A.fa=I,x.push(A)),A};function ke(x,A){const I=A.type;if(I in x.g){var $=x.g[I],X=Array.prototype.indexOf.call($,A,void 0),te;(te=X>=0)&&Array.prototype.splice.call($,X,1),te&&(ce(A),x.g[I].length==0&&(delete x.g[I],x.h--))}}function pe(x,A,I,$){for(let X=0;X<x.length;++X){const te=x[X];if(!te.da&&te.listener==A&&te.capture==!!I&&te.ha==$)return X}return-1}var we="closure_lm_"+(Math.random()*1e6|0),et={};function ie(x,A,I,$,X){if(Array.isArray(A)){for(let te=0;te<A.length;te++)ie(x,A[te],I,$,X);return null}return I=Rs(I),x&&x[oe]?x.J(A,I,l($)?!!$.capture:!1,X):Ce(x,A,I,!1,$,X)}function Ce(x,A,I,$,X,te){if(!A)throw Error("Invalid event type");const xe=l(X)?!!X.capture:!!X;let Ke=ct(x);if(Ke||(x[we]=Ke=new be(x)),I=Ke.add(A,I,$,xe,te),I.proxy)return I;if($=Re(),I.proxy=$,$.src=x,$.listener=I,x.addEventListener)V||(X=xe),X===void 0&&(X=!1),x.addEventListener(A.toString(),$,X);else if(x.attachEvent)x.attachEvent(Me(A.toString()),$);else if(x.addListener&&x.removeListener)x.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Re(){function x(I){return A.call(x.src,x.listener,I)}const A=Vt;return x}function me(x,A,I,$,X){if(Array.isArray(A))for(var te=0;te<A.length;te++)me(x,A[te],I,$,X);else $=l($)?!!$.capture:!!$,I=Rs(I),x&&x[oe]?(x=x.i,te=String(A).toString(),te in x.g&&(A=x.g[te],I=pe(A,I,$,X),I>-1&&(ce(A[I]),Array.prototype.splice.call(A,I,1),A.length==0&&(delete x.g[te],x.h--)))):x&&(x=ct(x))&&(A=x.g[A.toString()],x=-1,A&&(x=pe(A,I,$,X)),(I=x>-1?A[x]:null)&&dt(I))}function dt(x){if(typeof x!="number"&&x&&!x.da){var A=x.src;if(A&&A[oe])ke(A.i,x);else{var I=x.type,$=x.proxy;A.removeEventListener?A.removeEventListener(I,$,x.capture):A.detachEvent?A.detachEvent(Me(I),$):A.addListener&&A.removeListener&&A.removeListener($),(I=ct(A))?(ke(I,x),I.h==0&&(I.src=null,A[we]=null)):ce(x)}}}function Me(x){return x in et?et[x]:et[x]="on"+x}function Vt(x,A){if(x.da)x=!0;else{A=new Z(A,this);const I=x.listener,$=x.ha||x.src;x.fa&&dt(x),x=I.call($,A)}return x}function ct(x){return x=x[we],x instanceof be?x:null}var Zn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rs(x){return typeof x=="function"?x:(x[Zn]||(x[Zn]=function(A){return x.handleEvent(A)}),x[Zn])}function nn(){B.call(this),this.i=new be(this),this.M=this,this.G=null}p(nn,B),nn.prototype[oe]=!0,nn.prototype.removeEventListener=function(x,A,I,$){me(this,x,A,I,$)};function vn(x,A){var I,$=x.G;if($)for(I=[];$;$=$.G)I.push($);if(x=x.M,$=A.type||A,typeof A=="string")A=new U(A,x);else if(A instanceof U)A.target=A.target||x;else{var X=A;A=new U($,x),ye(A,X)}X=!0;let te,xe;if(I)for(xe=I.length-1;xe>=0;xe--)te=A.g=I[xe],X=ca(te,$,!0,A)&&X;if(te=A.g=x,X=ca(te,$,!0,A)&&X,X=ca(te,$,!1,A)&&X,I)for(xe=0;xe<I.length;xe++)te=A.g=I[xe],X=ca(te,$,!1,A)&&X}nn.prototype.N=function(){if(nn.Z.N.call(this),this.i){var x=this.i;for(const A in x.g){const I=x.g[A];for(let $=0;$<I.length;$++)ce(I[$]);delete x.g[A],x.h--}}this.G=null},nn.prototype.J=function(x,A,I,$){return this.i.add(String(x),A,!1,I,$)},nn.prototype.K=function(x,A,I,$){return this.i.add(String(x),A,!0,I,$)};function ca(x,A,I,$){if(A=x.i.g[String(A)],!A)return!0;A=A.concat();let X=!0;for(let te=0;te<A.length;++te){const xe=A[te];if(xe&&!xe.da&&xe.capture==I){const Ke=xe.listener,bn=xe.ha||xe.src;xe.fa&&ke(x.i,xe),X=Ke.call(bn,$)!==!1&&X}}return X&&!$.defaultPrevented}function Jh(x,A){if(typeof x!="function")if(x&&typeof x.handleEvent=="function")x=d(x.handleEvent,x);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:a.setTimeout(x,A||0)}function ru(x){x.g=Jh(()=>{x.g=null,x.i&&(x.i=!1,ru(x))},x.l);const A=x.h;x.h=null,x.m.apply(null,A)}class fr extends B{constructor(A,I){super(),this.m=A,this.l=I,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:ru(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function no(x){B.call(this),this.h=x,this.g={}}p(no,B);var iu=[];function su(x){he(x.g,function(A,I){this.g.hasOwnProperty(I)&&dt(A)},x),x.g={}}no.prototype.N=function(){no.Z.N.call(this),su(this)},no.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ua=a.JSON.stringify,au=a.JSON.parse,ou=class{stringify(x){return a.JSON.stringify(x,void 0)}parse(x){return a.JSON.parse(x,void 0)}};function lu(){}function Ud(){}var Mr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kn(){U.call(this,"d")}p(kn,U);function ai(){U.call(this,"c")}p(ai,U);var Kt={},cu=null;function da(){return cu=cu||new nn}Kt.Ia="serverreachability";function Fd(x){U.call(this,Kt.Ia,x)}p(Fd,U);function _i(x){const A=da();vn(A,new Fd(A))}Kt.STAT_EVENT="statevent";function ro(x,A){U.call(this,Kt.STAT_EVENT,x),this.stat=A}p(ro,U);function rn(x){const A=da();vn(A,new ro(A,x))}Kt.Ja="timingevent";function Bt(x,A){U.call(this,Kt.Ja,x),this.size=A}p(Bt,U);function zt(x,A){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){x()},A)}function jr(){this.g=!0}jr.prototype.ua=function(){this.g=!1};function Nt(x,A,I,$,X,te){x.info(function(){if(x.g)if(te){var xe="",Ke=te.split("&");for(let mt=0;mt<Ke.length;mt++){var bn=Ke[mt].split("=");if(bn.length>1){const Yt=bn[0];bn=bn[1];const Zi=Yt.split("_");xe=Zi.length>=2&&Zi[1]=="type"?xe+(Yt+"="+bn+"&"):xe+(Yt+"=redacted&")}}}else xe=null;else xe=te;return"XMLHTTP REQ ("+$+") [attempt "+X+"]: "+A+`
`+I+`
`+xe})}function qr(x,A,I,$,X,te,xe){x.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+X+"]: "+A+`
`+I+`
`+te+" "+xe})}function Ki(x,A,I,$){x.info(function(){return"XMLHTTP TEXT ("+A+"): "+$d(x,I)+($?" "+$:"")})}function Ls(x,A){x.info(function(){return"TIMEOUT: "+A})}jr.prototype.info=function(){};function $d(x,A){if(!x.g)return A;if(!A)return null;try{const te=JSON.parse(A);if(te){for(x=0;x<te.length;x++)if(Array.isArray(te[x])){var I=te[x];if(!(I.length<2)){var $=I[1];if(Array.isArray($)&&!($.length<1)){var X=$[0];if(X!="noop"&&X!="stop"&&X!="close")for(let xe=1;xe<$.length;xe++)$[xe]=""}}}}return ua(te)}catch{return A}}var fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ha;function Vs(){}p(Vs,lu),Vs.prototype.g=function(){return new XMLHttpRequest},ha=new Vs;function Ai(x){return encodeURIComponent(String(x))}function pl(x){var A=1;x=x.split(":");const I=[];for(;A>0&&x.length;)I.push(x.shift()),A--;return x.length&&I.push(x.join(":")),I}function Ci(x,A,I,$){this.j=x,this.i=A,this.l=I,this.S=$||1,this.V=new no(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wr}function Wr(){this.i=null,this.g="",this.h=!1}var sn={},_n={};function Yi(x,A,I){x.M=1,x.A=uu(Cn(A)),x.u=I,x.R=!0,Ge(x,null)}function Ge(x,A){x.F=Date.now(),un(x),x.B=Cn(x.A);var I=x.B,$=x.S;Array.isArray($)||($=[String($)]),Wd(I.i,"t",$),x.C=0,I=x.j.L,x.h=new Wr,x.g=F0(x.j,I?A:null,!x.u),x.P>0&&(x.O=new fr(d(x.Y,x,x.g),x.P)),A=x.V,I=x.g,$=x.ba;var X="readystatechange";Array.isArray(X)||(X&&(iu[0]=X.toString()),X=iu);for(let te=0;te<X.length;te++){const xe=ie(I,X[te],$||A.handleEvent,!1,A.h||A);if(!xe)break;A.g[xe.key]=xe}A=x.J?H(x.J):{},x.u?(x.v||(x.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.B,x.v,x.u,A)):(x.v="GET",x.g.ea(x.B,x.v,null,A)),_i(),Nt(x.i,x.v,x.B,x.l,x.S,x.u)}Ci.prototype.ba=function(x){x=x.target;const A=this.O;A&&Us(x)==3?A.j():this.Y(x)},Ci.prototype.Y=function(x){try{if(x==this.g)e:{const Ke=Us(this.g),bn=this.g.ya(),mt=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||hr(this.g)))){this.K||Ke!=4||bn==7||(bn==8||mt<=0?_i(3):_i(2)),Xi(this);var A=this.g.ca();this.X=A;var I=Pt(this);if(this.o=A==200,qr(this.i,this.v,this.B,this.l,this.S,Ke,A),this.o){if(this.U&&!this.L){t:{if(this.g){var $,X=this.g;if(($=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L($)){var te=$;break t}}te=null}if(x=te)Ki(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ma(this,x);else{this.o=!1,this.m=3,rn(12),Oi(this),oi(this);break e}}if(this.R){x=!0;let Yt;for(;!this.K&&this.C<I.length;)if(Yt=Ir(this,I),Yt==_n){Ke==4&&(this.m=4,rn(14),x=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==sn){this.m=4,rn(15),Ki(this.i,this.l,I,"[Invalid Chunk]"),x=!1;break}else Ki(this.i,this.l,Yt,null),ma(this,Yt);if(Ut(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||I.length!=0||this.h.h||(this.m=1,rn(16),x=!1),this.o=this.o&&x,!x)Ki(this.i,this.l,I,"[Invalid Chunked Response]"),Oi(this),oi(this);else if(I.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),hp(xe),xe.P=!0,rn(11))}}else Ki(this.i,this.l,I,null),ma(this,I);Ke==4&&Oi(this),this.o&&!this.K&&(Ke==4?V0(this.j,this):(this.o=!1,un(this)))}else ao(this.g),A==400&&I.indexOf("Unknown SID")>0?(this.m=3,rn(12)):(this.m=0,rn(13)),Oi(this),oi(this)}}}catch{}finally{}};function Pt(x){if(!Ut(x))return x.g.la();const A=hr(x.g);if(A==="")return"";let I="";const $=A.length,X=Us(x.g)==4;if(!x.h.i){if(typeof TextDecoder>"u")return Oi(x),oi(x),"";x.h.i=new a.TextDecoder}for(let te=0;te<$;te++)x.h.h=!0,I+=x.h.i.decode(A[te],{stream:!(X&&te==$-1)});return A.length=0,x.h.g+=I,x.C=0,x.h.g}function Ut(x){return x.g?x.v=="GET"&&x.M!=2&&x.j.Aa:!1}function Ir(x,A){var I=x.C,$=A.indexOf(`
`,I);return $==-1?_n:(I=Number(A.substring(I,$)),isNaN(I)?sn:($+=1,$+I>A.length?_n:(A=A.slice($,$+I),x.C=$+I,A)))}Ci.prototype.cancel=function(){this.K=!0,Oi(this)};function un(x){x.T=Date.now()+x.H,pa(x,x.H)}function pa(x,A){if(x.D!=null)throw Error("WatchDog timer not null");x.D=zt(d(x.aa,x),A)}function Xi(x){x.D&&(a.clearTimeout(x.D),x.D=null)}Ci.prototype.aa=function(){this.D=null;const x=Date.now();x-this.T>=0?(Ls(this.i,this.B),this.M!=2&&(_i(),rn(17)),Oi(this),this.m=2,oi(this)):pa(this,this.T-x)};function oi(x){x.j.I==0||x.K||V0(x.j,x)}function Oi(x){Xi(x);var A=x.O;A&&typeof A.dispose=="function"&&A.dispose(),x.O=null,su(x.V),x.g&&(A=x.g,x.g=null,A.abort(),A.dispose())}function ma(x,A){try{var I=x.j;if(I.I!=0&&(I.g==x||ya(I.h,x))){if(!x.L&&ya(I.h,x)&&I.I==3){try{var $=I.Ba.g.parse(A)}catch{$=null}if(Array.isArray($)&&$.length==3){var X=$;if(X[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<x.F)Qd(I),Sl(I);else break e;yu(I),rn(18)}}else I.xa=X[1],0<I.xa-I.K&&X[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=zt(d(I.Va,I),6e3));ga(I.h)<=1&&I.ta&&(I.ta=void 0)}else Ta(I,11)}else if((x.L||I.g==x)&&Qd(I),!L(A))for(X=I.Ba.g.parse(A),A=0;A<X.length;A++){let mt=X[A];const Yt=mt[0];if(!(Yt<=I.K))if(I.K=Yt,mt=mt[1],I.I==2)if(mt[0]=="c"){I.M=mt[1],I.ba=mt[2];const Zi=mt[3];Zi!=null&&(I.ka=Zi,I.j.info("VER="+I.ka));const Ea=mt[4];Ea!=null&&(I.za=Ea,I.j.info("SVER="+I.za));const Fs=mt[5];Fs!=null&&typeof Fs=="number"&&Fs>0&&($=1.5*Fs,I.O=$,I.j.info("backChannelRequestTimeoutMs_="+$)),$=I;const $s=x.g;if($s){const vu=$s.g?$s.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vu){var te=$.h;te.g||vu.indexOf("spdy")==-1&&vu.indexOf("quic")==-1&&vu.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(tp(te,te.h),te.h=null))}if($.G){const Jd=$s.g?$s.g.getResponseHeader("X-HTTP-Session-Id"):null;Jd&&($.wa=Jd,bt($.J,$.G,Jd))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-x.F,I.j.info("Handshake RTT: "+I.T+"ms")),$=I;var xe=x;if($.na=U0($,$.L?$.ba:null,$.W),xe.L){np($.h,xe);var Ke=xe,bn=$.O;bn&&(Ke.H=bn),Ke.D&&(Xi(Ke),un(Ke)),$.g=xe}else R0($);I.i.length>0&&Sa(I)}else mt[0]!="stop"&&mt[0]!="close"||Ta(I,7);else I.I==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?Ta(I,7):dp(I):mt[0]!="noop"&&I.l&&I.l.qa(mt),I.A=0)}}_i(4)}catch{}}var An=class{constructor(x,A){this.g=x,this.map=A}};function Zh(x){this.l=x||10,a.PerformanceNavigationTiming?(x=a.performance.getEntriesByType("navigation"),x=x.length>0&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ep(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function ga(x){return x.h?1:x.g?x.g.size:0}function ya(x,A){return x.h?x.h==A:x.g?x.g.has(A):!1}function tp(x,A){x.g?x.g.add(A):x.h=A}function np(x,A){x.h&&x.h==A?x.h=null:x.g&&x.g.has(A)&&x.g.delete(A)}Zh.prototype.cancel=function(){if(this.i=rp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function rp(x){if(x.h!=null)return x.i.concat(x.h.G);if(x.g!=null&&x.g.size!==0){let A=x.i;for(const I of x.g.values())A=A.concat(I.G);return A}return v(x.i)}var N0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hd(x,A){if(x){x=x.split("&");for(let I=0;I<x.length;I++){const $=x[I].indexOf("=");let X,te=null;$>=0?(X=x[I].substring(0,$),te=x[I].substring($+1)):X=x[I],A(X,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Ni(x){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;x instanceof Ni?(this.l=x.l,er(this,x.j),this.o=x.o,this.g=x.g,ml(this,x.u),this.h=x.h,ip(this,D0(x.i)),this.m=x.m):x&&(A=String(x).match(N0))?(this.l=!1,er(this,A[1]||"",!0),this.o=va(A[2]||""),this.g=va(A[3]||"",!0),ml(this,A[4]),this.h=va(A[5]||"",!0),ip(this,A[6]||"",!0),this.m=va(A[7]||"")):(this.l=!1,this.i=new yl(null,this.l))}Ni.prototype.toString=function(){const x=[];var A=this.j;A&&x.push(du(A,qd,!0),":");var I=this.g;return(I||A=="file")&&(x.push("//"),(A=this.o)&&x.push(du(A,qd,!0),"@"),x.push(Ai(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&x.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&x.push("/"),x.push(du(I,I.charAt(0)=="/"?sp:M0,!0))),(I=this.i.toString())&&x.push("?",I),(I=this.m)&&x.push("#",du(I,j0)),x.join("")},Ni.prototype.resolve=function(x){const A=Cn(this);let I=!!x.j;I?er(A,x.j):I=!!x.o,I?A.o=x.o:I=!!x.g,I?A.g=x.g:I=x.u!=null;var $=x.h;if(I)ml(A,x.u);else if(I=!!x.h){if($.charAt(0)!="/")if(this.g&&!this.h)$="/"+$;else{var X=A.h.lastIndexOf("/");X!=-1&&($=A.h.slice(0,X+1)+$)}if(X=$,X==".."||X==".")$="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){$=X.lastIndexOf("/",0)==0,X=X.split("/");const te=[];for(let xe=0;xe<X.length;){const Ke=X[xe++];Ke=="."?$&&xe==X.length&&te.push(""):Ke==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),$&&xe==X.length&&te.push("")):(te.push(Ke),$=!0)}$=te.join("/")}else $=X}return I?A.h=$:I=x.i.toString()!=="",I?ip(A,D0(x.i)):I=!!x.m,I&&(A.m=x.m),A};function Cn(x){return new Ni(x)}function er(x,A,I){x.j=I?va(A,!0):A,x.j&&(x.j=x.j.replace(/:$/,""))}function ml(x,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);x.u=A}else x.u=null}function ip(x,A,I){A instanceof yl?(x.i=A,Gd(x.i,x.l)):(I||(A=du(A,gl)),x.i=new yl(A,x.l))}function bt(x,A,I){x.i.set(A,I)}function uu(x){return bt(x,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),x}function va(x,A){return x?A?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function du(x,A,I){return typeof x=="string"?(x=encodeURI(x).replace(A,li),I&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function li(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var qd=/[#\/\?@]/g,M0=/[#\?:]/g,sp=/[#\?]/g,gl=/[#\?@]/g,j0=/#/g;function yl(x,A){this.h=this.g=null,this.i=x||null,this.j=!!A}function ci(x){x.g||(x.g=new Map,x.h=0,x.i&&Hd(x.i,function(A,I){x.add(decodeURIComponent(A.replace(/\+/g," ")),I)}))}t=yl.prototype,t.add=function(x,A){ci(this),this.i=null,x=vl(this,x);let I=this.g.get(x);return I||this.g.set(x,I=[]),I.push(A),this.h+=1,this};function I0(x,A){ci(x),A=vl(x,A),x.g.has(A)&&(x.i=null,x.h-=x.g.get(A).length,x.g.delete(A))}function ap(x,A){return ci(x),A=vl(x,A),x.g.has(A)}t.forEach=function(x,A){ci(this),this.g.forEach(function(I,$){I.forEach(function(X){x.call(A,X,$,this)},this)},this)};function op(x,A){ci(x);let I=[];if(typeof A=="string")ap(x,A)&&(I=I.concat(x.g.get(vl(x,A))));else for(x=Array.from(x.g.values()),A=0;A<x.length;A++)I=I.concat(x[A]);return I}t.set=function(x,A){return ci(this),this.i=null,x=vl(this,x),ap(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[A]),this.h+=1,this},t.get=function(x,A){return x?(x=op(this,x),x.length>0?String(x[0]):A):A};function Wd(x,A,I){I0(x,A),I.length>0&&(x.i=null,x.g.set(vl(x,A),v(I)),x.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],A=Array.from(this.g.keys());for(let $=0;$<A.length;$++){var I=A[$];const X=Ai(I);I=op(this,I);for(let te=0;te<I.length;te++){let xe=X;I[te]!==""&&(xe+="="+Ai(I[te])),x.push(xe)}}return this.i=x.join("&")};function D0(x){const A=new yl;return A.i=x.i,x.g&&(A.g=new Map(x.g),A.h=x.h),A}function vl(x,A){return A=String(A),x.j&&(A=A.toLowerCase()),A}function Gd(x,A){A&&!x.j&&(ci(x),x.i=null,x.g.forEach(function(I,$){const X=$.toLowerCase();$!=X&&(I0(this,$),Wd(this,X,I))},x)),x.j=A}function Bs(x,A){const I=new jr;if(a.Image){const $=new Image;$.onload=f(Qi,I,"TestLoadImage: loaded",!0,A,$),$.onerror=f(Qi,I,"TestLoadImage: error",!1,A,$),$.onabort=f(Qi,I,"TestLoadImage: abort",!1,A,$),$.ontimeout=f(Qi,I,"TestLoadImage: timeout",!1,A,$),a.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=x}else A(!1)}function lp(x,A){const I=new jr,$=new AbortController,X=setTimeout(()=>{$.abort(),Qi(I,"TestPingServer: timeout",!1,A)},1e4);fetch(x,{signal:$.signal}).then(te=>{clearTimeout(X),te.ok?Qi(I,"TestPingServer: ok",!0,A):Qi(I,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(X),Qi(I,"TestPingServer: error",!1,A)})}function Qi(x,A,I,$,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),$(I)}catch{}}function bl(){this.g=new ou}function ba(x){this.i=x.Sb||null,this.h=x.ab||!1}p(ba,lu),ba.prototype.g=function(){return new fu(this.i,this.h)};function fu(x,A){nn.call(this),this.H=x,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(fu,nn),t=fu.prototype,t.open=function(x,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=x,this.D=A,this.readyState=1,zs(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};x&&(A.body=x),(this.H||a).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xl(this)),this.readyState=0},t.Pa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,zs(this)),this.g&&(this.readyState=3,zs(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Kd(this)}else x.text().then(this.Oa.bind(this),this.ga.bind(this))};function Kd(x){x.j.read().then(x.Ma.bind(x)).catch(x.ga.bind(x))}t.Ma=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var A=x.value?x.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!x.done}))&&(this.response=this.responseText+=A)}x.done?xl(this):zs(this),this.readyState==3&&Kd(this)}},t.Oa=function(x){this.g&&(this.response=this.responseText=x,xl(this))},t.Na=function(x){this.g&&(this.response=x,xl(this))},t.ga=function(){this.g&&xl(this)};function xl(x){x.readyState=4,x.l=null,x.j=null,x.B=null,zs(x)}t.setRequestHeader=function(x,A){this.A.append(x,A)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],A=this.h.entries();for(var I=A.next();!I.done;)I=I.value,x.push(I[0]+": "+I[1]),I=A.next();return x.join(`\r
`)};function zs(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(fu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function Ji(x){let A="";return he(x,function(I,$){A+=$,A+=":",A+=I,A+=`\r
`}),A}function hu(x,A,I){e:{for($ in I){var $=!1;break e}$=!0}$||(I=Ji(I),typeof x=="string"?I!=null&&Ai(I):bt(x,A,I))}function kt(x){nn.call(this),this.headers=new Map,this.L=x||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(kt,nn);var xa=/^https?$/i,cp=["POST","PUT"];t=kt.prototype,t.Fa=function(x){this.H=x},t.ea=function(x,A,I,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);A=A?A.toUpperCase():"GET",this.D=x,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ha.g(),this.g.onreadystatechange=g(d(this.Ca,this));try{this.B=!0,this.g.open(A,String(x),!0),this.B=!1}catch(te){pu(this,te);return}if(x=I||"",I=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var X in $)I.set(X,$[X]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const te of $.keys())I.set(te,$.get(te));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(I.keys()).find(te=>te.toLowerCase()=="content-type"),X=a.FormData&&x instanceof a.FormData,!(Array.prototype.indexOf.call(cp,A,void 0)>=0)||$||X||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,xe]of I)this.g.setRequestHeader(te,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(x),this.v=!1}catch(te){pu(this,te)}};function pu(x,A){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=A,x.o=5,up(x),so(x)}function up(x){x.A||(x.A=!0,vn(x,"complete"),vn(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=x||7,vn(this,"complete"),vn(this,"abort"),so(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),so(this,!0)),kt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?mu(this):this.Xa())},t.Xa=function(){mu(this)};function mu(x){if(x.h&&typeof s<"u"){if(x.v&&Us(x)==4)setTimeout(x.Ca.bind(x),0);else if(vn(x,"readystatechange"),Us(x)==4){x.h=!1;try{const te=x.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var I;if(!(I=A)){var $;if($=te===0){let xe=String(x.D).match(N0)[1]||null;!xe&&a.self&&a.self.location&&(xe=a.self.location.protocol.slice(0,-1)),$=!xa.test(xe?xe.toLowerCase():"")}I=$}if(I)vn(x,"complete"),vn(x,"success");else{x.o=6;try{var X=Us(x)>2?x.g.statusText:""}catch{X=""}x.l=X+" ["+x.ca()+"]",up(x)}}finally{so(x)}}}}function so(x,A){if(x.g){x.m&&(clearTimeout(x.m),x.m=null);const I=x.g;x.g=null,A||vn(x,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Us(x){return x.g?x.g.readyState:0}t.ca=function(){try{return Us(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(x){if(this.g){var A=this.g.responseText;return x&&A.indexOf(x)==0&&(A=A.substring(x.length)),au(A)}};function hr(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.F){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function ao(x){const A={};x=(x.g&&Us(x)>=2&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<x.length;$++){if(L(x[$]))continue;var I=pl(x[$]);const X=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const te=A[X]||[];A[X]=te,te.push(I)}Se(A,function($){return $.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(x,A,I){return I&&I.internalChannelParams&&I.internalChannelParams[x]||A}function wl(x){this.za=0,this.i=[],this.j=new jr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wa("failFast",!1,x),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wa("baseRetryDelayMs",5e3,x),this.Za=wa("retryDelaySeedMs",1e4,x),this.Ta=wa("forwardChannelMaxRetries",2,x),this.va=wa("forwardChannelRequestTimeoutMs",2e4,x),this.ma=x&&x.xmlHttpFactory||void 0,this.Ua=x&&x.Rb||void 0,this.Aa=x&&x.useFetchStreams||!1,this.O=void 0,this.L=x&&x.supportsCrossDomainXhr||!1,this.M="",this.h=new Zh(x&&x.concurrentRequestLimit),this.Ba=new bl,this.S=x&&x.fastHandshake||!1,this.R=x&&x.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=x&&x.Pb||!1,x&&x.ua&&this.j.ua(),x&&x.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&x&&x.detectBufferingProxy||!1,this.ia=void 0,x&&x.longPollingTimeout&&x.longPollingTimeout>0&&(this.ia=x.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=wl.prototype,t.ka=8,t.I=1,t.connect=function(x,A,I,$){rn(0),this.W=x,this.H=A||{},I&&$!==void 0&&(this.H.OSID=I,this.H.OAID=$),this.F=this.X,this.J=U0(this,null,this.W),Sa(this)};function dp(x){if(Yd(x),x.I==3){var A=x.V++,I=Cn(x.J);if(bt(I,"SID",x.M),bt(I,"RID",A),bt(I,"TYPE","terminate"),gu(x,I),A=new Ci(x,x.j,A),A.M=2,A.A=uu(Cn(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(A.A.toString(),"")}catch{}!I&&a.Image&&(new Image().src=A.A,I=!0),I||(A.g=F0(A.j,null),A.g.ea(A.A)),A.F=Date.now(),un(A)}z0(x)}function Sl(x){x.g&&(hp(x),x.g.cancel(),x.g=null)}function Yd(x){Sl(x),x.v&&(a.clearTimeout(x.v),x.v=null),Qd(x),x.h.cancel(),x.m&&(typeof x.m=="number"&&a.clearTimeout(x.m),x.m=null)}function Sa(x){if(!ep(x.h)&&!x.m){x.m=!0;var A=x.Ea;D||M(),z||(D(),z=!0),j.add(A,x),x.D=0}}function Xd(x,A){return ga(x.h)>=x.h.j-(x.m?1:0)?!1:x.m?(x.i=A.G.concat(x.i),!0):x.I==1||x.I==2||x.D>=(x.Sa?0:x.Ta)?!1:(x.m=zt(d(x.Ea,x,A),B0(x,x.D)),x.D++,!0)}t.Ea=function(x){if(this.m)if(this.m=null,this.I==1){if(!x){this.V=Math.floor(Math.random()*1e5),x=this.V++;const X=new Ci(this,this.j,x);let te=this.o;if(this.U&&(te?(te=H(te),ye(te,this.U)):te=this.U),this.u!==null||this.R||(X.J=te,te=null),this.S)e:{for(var A=0,I=0;I<this.i.length;I++){t:{var $=this.i[I];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(A+=$,A>4096){A=I;break e}if(A===4096||I===this.i.length-1){A=I+1;break e}}A=1e3}else A=1e3;A=P0(this,X,A),I=Cn(this.J),bt(I,"RID",x),bt(I,"CVER",22),this.G&&bt(I,"X-HTTP-Session-Id",this.G),gu(this,I),te&&(this.R?A="headers="+Ai(Ji(te))+"&"+A:this.u&&hu(I,this.u,te)),tp(this.h,X),this.Ra&&bt(I,"TYPE","init"),this.S?(bt(I,"$req",A),bt(I,"SID","null"),X.U=!0,Yi(X,I,null)):Yi(X,I,A),this.I=2}}else this.I==3&&(x?fp(this,x):this.i.length==0||ep(this.h)||fp(this))};function fp(x,A){var I;A?I=A.l:I=x.V++;const $=Cn(x.J);bt($,"SID",x.M),bt($,"RID",I),bt($,"AID",x.K),gu(x,$),x.u&&x.o&&hu($,x.u,x.o),I=new Ci(x,x.j,I,x.D+1),x.u===null&&(I.J=x.o),A&&(x.i=A.G.concat(x.i)),A=P0(x,I,1e3),I.H=Math.round(x.va*.5)+Math.round(x.va*.5*Math.random()),tp(x.h,I),Yi(I,$,A)}function gu(x,A){x.H&&he(x.H,function(I,$){bt(A,$,I)}),x.l&&he({},function(I,$){bt(A,$,I)})}function P0(x,A,I){I=Math.min(x.i.length,I);const $=x.l?d(x.l.Ka,x.l,x):null;e:{var X=x.i;let Ke=-1;for(;;){const bn=["count="+I];Ke==-1?I>0?(Ke=X[0].g,bn.push("ofs="+Ke)):Ke=0:bn.push("ofs="+Ke);let mt=!0;for(let Yt=0;Yt<I;Yt++){var te=X[Yt].g;const Zi=X[Yt].map;if(te-=Ke,te<0)Ke=Math.max(0,X[Yt].g-100),mt=!1;else try{te="req"+te+"_"||"";try{var xe=Zi instanceof Map?Zi:Object.entries(Zi);for(const[Ea,Fs]of xe){let $s=Fs;l(Fs)&&($s=ua(Fs)),bn.push(te+Ea+"="+encodeURIComponent($s))}}catch(Ea){throw bn.push(te+"type="+encodeURIComponent("_badmap")),Ea}}catch{$&&$(Zi)}}if(mt){xe=bn.join("&");break e}}xe=void 0}return x=x.i.splice(0,I),A.G=x,xe}function R0(x){if(!x.g&&!x.v){x.Y=1;var A=x.Da;D||M(),z||(D(),z=!0),j.add(A,x),x.A=0}}function yu(x){return x.g||x.v||x.A>=3?!1:(x.Y++,x.v=zt(d(x.Da,x),B0(x,x.A)),x.A++,!0)}t.Da=function(){if(this.v=null,L0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var x=4*this.T;this.j.info("BP detection timer enabled: "+x),this.B=zt(d(this.Wa,this),x)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rn(10),Sl(this),L0(this))};function hp(x){x.B!=null&&(a.clearTimeout(x.B),x.B=null)}function L0(x){x.g=new Ci(x,x.j,"rpc",x.Y),x.u===null&&(x.g.J=x.o),x.g.P=0;var A=Cn(x.na);bt(A,"RID","rpc"),bt(A,"SID",x.M),bt(A,"AID",x.K),bt(A,"CI",x.F?"0":"1"),!x.F&&x.ia&&bt(A,"TO",x.ia),bt(A,"TYPE","xmlhttp"),gu(x,A),x.u&&x.o&&hu(A,x.u,x.o),x.O&&(x.g.H=x.O);var I=x.g;x=x.ba,I.M=1,I.A=uu(Cn(A)),I.u=null,I.R=!0,Ge(I,x)}t.Va=function(){this.C!=null&&(this.C=null,Sl(this),yu(this),rn(19))};function Qd(x){x.C!=null&&(a.clearTimeout(x.C),x.C=null)}function V0(x,A){var I=null;if(x.g==A){Qd(x),hp(x),x.g=null;var $=2}else if(ya(x.h,A))I=A.G,np(x.h,A),$=1;else return;if(x.I!=0){if(A.o)if($==1){I=A.u?A.u.length:0,A=Date.now()-A.F;var X=x.D;$=da(),vn($,new Bt($,I)),Sa(x)}else R0(x);else if(X=A.m,X==3||X==0&&A.X>0||!($==1&&Xd(x,A)||$==2&&yu(x)))switch(I&&I.length>0&&(A=x.h,A.i=A.i.concat(I)),X){case 1:Ta(x,5);break;case 4:Ta(x,10);break;case 3:Ta(x,6);break;default:Ta(x,2)}}}function B0(x,A){let I=x.Qa+Math.floor(Math.random()*x.Za);return x.isActive()||(I*=2),I*A}function Ta(x,A){if(x.j.info("Error code "+A),A==2){var I=d(x.bb,x),$=x.Ua;const X=!$;$=new Ni($||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||er($,"https"),uu($),X?Bs($.toString(),I):lp($.toString(),I)}else rn(2);x.I=0,x.l&&x.l.pa(A),z0(x),Yd(x)}t.bb=function(x){x?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function z0(x){if(x.I=0,x.ja=[],x.l){const A=rp(x.h);(A.length!=0||x.i.length!=0)&&(b(x.ja,A),b(x.ja,x.i),x.h.i.length=0,v(x.i),x.i.length=0),x.l.oa()}}function U0(x,A,I){var $=I instanceof Ni?Cn(I):new Ni(I);if($.g!="")A&&($.g=A+"."+$.g),ml($,$.u);else{var X=a.location;$=X.protocol,A=A?A+"."+X.hostname:X.hostname,X=+X.port;const te=new Ni(null);$&&er(te,$),A&&(te.g=A),X&&ml(te,X),I&&(te.h=I),$=te}return I=x.G,A=x.wa,I&&A&&bt($,I,A),bt($,"VER",x.ka),gu(x,$),$}function F0(x,A,I){if(A&&!x.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=x.Aa&&!x.ma?new kt(new ba({ab:I})):new kt(x.ma),A.Fa(x.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $0(){}t=$0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Tl(){}Tl.prototype.g=function(x,A){return new Gr(x,A)};function Gr(x,A){nn.call(this),this.g=new wl(A),this.l=x,this.h=A&&A.messageUrlParams||null,x=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(x?x["X-WebChannel-Content-Type"]=A.messageContentType:x={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(x?x["X-WebChannel-Client-Profile"]=A.sa:x={"X-WebChannel-Client-Profile":A.sa}),this.g.U=x,(x=A&&A.Qb)&&!L(x)&&(this.g.u=x),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!L(A)&&(this.g.G=A,x=this.h,x!==null&&A in x&&(x=this.h,A in x&&delete x[A])),this.j=new oo(this)}p(Gr,nn),Gr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gr.prototype.close=function(){dp(this.g)},Gr.prototype.o=function(x){var A=this.g;if(typeof x=="string"){var I={};I.__data__=x,x=I}else this.v&&(I={},I.__data__=ua(x),x=I);A.i.push(new An(A.Ya++,x)),A.I==3&&Sa(A)},Gr.prototype.N=function(){this.g.l=null,delete this.j,dp(this.g),delete this.g,Gr.Z.N.call(this)};function H0(x){kn.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var A=x.__sm__;if(A){e:{for(const I in A){x=I;break e}x=void 0}(this.i=x)&&(x=this.i,A=A!==null&&x in A?A[x]:void 0),this.data=A}else this.data=x}p(H0,kn);function q0(){ai.call(this),this.status=1}p(q0,ai);function oo(x){this.g=x}p(oo,$0),oo.prototype.ra=function(){vn(this.g,"a")},oo.prototype.qa=function(x){vn(this.g,new H0(x))},oo.prototype.pa=function(x){vn(this.g,new q0)},oo.prototype.oa=function(){vn(this.g,"b")},Tl.prototype.createWebChannel=Tl.prototype.g,Gr.prototype.send=Gr.prototype.o,Gr.prototype.open=Gr.prototype.m,Gr.prototype.close=Gr.prototype.close,kF=function(){return new Tl},EF=function(){return da()},TF=Kt,rA={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,Hv=fa,io.COMPLETE="complete",SF=io,Ud.EventType=Mr,Mr.OPEN="a",Mr.CLOSE="b",Mr.ERROR="c",Mr.MESSAGE="d",nn.prototype.listen=nn.prototype.J,pm=Ud,kt.prototype.listenOnce=kt.prototype.K,kt.prototype.getLastError=kt.prototype.Ha,kt.prototype.getLastErrorCode=kt.prototype.ya,kt.prototype.getStatus=kt.prototype.ca,kt.prototype.getResponseJson=kt.prototype.La,kt.prototype.getResponseText=kt.prototype.la,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Fa,wF=kt}).apply(typeof ev<"u"?ev:typeof self<"u"?self:typeof window<"u"?window:{});const N4="@firebase/firestore",M4="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=new B2("@firebase/firestore");function Df(){return xd.logLevel}function _e(t,...e){if(xd.logLevel<=st.DEBUG){const n=e.map(X2);xd.debug(`Firestore (${Rh}): ${t}`,...n)}}function Wo(t,...e){if(xd.logLevel<=st.ERROR){const n=e.map(X2);xd.error(`Firestore (${Rh}): ${t}`,...n)}}function fh(t,...e){if(xd.logLevel<=st.WARN){const n=e.map(X2);xd.warn(`Firestore (${Rh}): ${t}`,...n)}}function X2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_F(t,r,n)}function _F(t,e,n){let r=`FIRESTORE (${Rh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Wo(r),new Error(r)}function vt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||_F(e,i,r)}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends el{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _ae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Vr.UNAUTHENTICATED)))}shutdown(){}}class Aae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Cae{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new vc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vc,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vc)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string",31837,{l:r}),new AF(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new Vr(e)}}class Oae{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nae{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Oae(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Vr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class j4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mae{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ys(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vt(this.o===void 0,3512);const r=s=>{s.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,_e("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new j4(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new j4(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=jae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function at(t,e){return t<e?-1:t>e?1:0}function iA(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return cE(i)===cE(s)?at(i,s):cE(i)?1:-1}return at(t.length,e.length)}const Iae=55296,Dae=57343;function cE(t){const e=t.charCodeAt(0);return e>=Iae&&e<=Dae}function hh(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="__name__";class Da{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Da.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Da?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Da.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return at(e.length,n.length)}static compareSegments(e,n){const r=Da.isNumericId(e),i=Da.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Da.extractNumericId(e).compare(Da.extractNumericId(n)):iA(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yc.fromString(e.substring(4,e.length-2))}}class Lt extends Da{construct(e,n,r){return new Lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Lt(n)}static emptyPath(){return new Lt([])}}const Pae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kr extends Da{construct(e,n,r){return new kr(e,n,r)}static isValidIdentifier(e){return Pae.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I4}static keyField(){return new kr([I4])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Te(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Te(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Te(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new Te(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kr(n)}static emptyPath(){return new kr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Lt.fromString(e))}static fromName(e){return new Pe(Lt.fromString(e).popFirst(5))}static empty(){return new Pe(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(t,e,n){if(!n)throw new Te(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Rae(t,e,n,r){if(e===!0&&r===!0)throw new Te(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function D4(t){if(!Pe.isDocumentKey(t))throw new Te(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function P4(t){if(Pe.isDocumentKey(t))throw new Te(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function OF(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function Es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vw(t);throw new Te(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t,e){const n={typeString:t};return e&&(n.value=e),n}function Yg(t,e){if(!OF(t))throw new Te(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Te(de.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=-62135596800,L4=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*L4);return new Ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<R4)throw new Te(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L4}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yg(e,Ot._jsonSchema))return new Ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-R4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ot._jsonSchemaVersion="firestore/timestamp/1.0",Ot._jsonSchema={type:Ln("string",Ot._jsonSchemaVersion),seconds:Ln("number"),nanoseconds:Ln("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new Ot(0,0))}static max(){return new He(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=-1;function Lae(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(r===1e9?new Ot(n+1,0):new Ot(n,r));return new Cc(i,Pe.empty(),e)}function Vae(t){return new Cc(t.readTime,t.key,rg)}class Cc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Cc(He.min(),Pe.empty(),rg)}static max(){return new Cc(He.max(),Pe.empty(),rg)}}function Bae(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:at(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zae="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Uae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==zae)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,r)=>{n(e)}))}static reject(e){return new fe(((n,r)=>{r(e)}))}static waitFor(e){return new fe(((n,r)=>{let i=0,s=0,a=!1;e.forEach((l=>{++i,l.next((()=>{++s,a&&s===i&&n()}),(c=>r(c)))})),a=!0,s===i&&n()}))}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next((i=>i?fe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new fe(((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next((f=>{a[d]=f,++l,l===s&&r(a)}),(f=>i(f)))}}))}static doWhile(e,n){return new fe(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function Fae(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bw.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=-1;function xw(t){return t==null}function Sb(t){return t===0&&1/t==-1/0}function $ae(t){return typeof t=="number"&&Number.isInteger(t)&&!Sb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF="";function Hae(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=V4(e)),e=qae(t.get(n),e);return V4(e)}function qae(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case NF:n+="";break;default:n+=s}}return n}function V4(t){return t+NF+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $c(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n){this.comparator=e,this.root=n||Sr.EMPTY}insert(e,n){return new ln(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sr.BLACK,null,null))}remove(e){return new ln(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tv(this.root,e,this.comparator,!1)}getReverseIterator(){return new tv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tv(this.root,e,this.comparator,!0)}}class tv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Sr.RED,this.left=i??Sr.EMPTY,this.right=s??Sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Sr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Sr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Sr.EMPTY=null,Sr.RED=!0,Sr.BLACK=!1;Sr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Sr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.comparator=e,this.data=new ln(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z4(this.data.getIterator())}getIteratorFrom(e){return new z4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new qn(this.comparator);return n.data=e,n}}class z4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.fields=e,e.sort(kr.comparator)}static empty(){return new Fi([])}unionWith(e){let n=new qn(kr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hh(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new jF("Invalid base64 string: "+s):s}})(e);return new Or(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new Or(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Or.EMPTY_BYTE_STRING=new Or("");const Wae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oc(t){if(vt(!!t,39018),typeof t=="string"){let e=0;const n=Wae.exec(t);if(vt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tn(t.seconds),nanos:Tn(t.nanos)}}function Tn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nc(t){return typeof t=="string"?Or.fromBase64String(t):Or.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF="server_timestamp",DF="__type__",PF="__previous_value__",RF="__local_write_time__";function Z2(t){return(t?.mapValue?.fields||{})[DF]?.stringValue===IF}function ww(t){const e=t.mapValue.fields[PF];return Z2(e)?ww(e):e}function ig(t){const e=Oc(t.mapValue.fields[RF].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gae{constructor(e,n,r,i,s,a,l,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f}}const Tb="(default)";class sg{constructor(e,n){this.projectId=e,this.database=n||Tb}static empty(){return new sg("","")}get isDefaultDatabase(){return this.database===Tb}isEqual(e){return e instanceof sg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF="__type__",Kae="__max__",nv={mapValue:{}},VF="__vector__",Eb="value";function Mc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Z2(t)?4:Xae(t)?9007199254740991:Yae(t)?10:11:Ue(28295,{value:t})}function Wa(t,e){if(t===e)return!0;const n=Mc(t);if(n!==Mc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ig(t).isEqual(ig(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Oc(i.timestampValue),l=Oc(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Nc(i.bytesValue).isEqual(Nc(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Tn(i.geoPointValue.latitude)===Tn(s.geoPointValue.latitude)&&Tn(i.geoPointValue.longitude)===Tn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Tn(i.integerValue)===Tn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Tn(i.doubleValue),l=Tn(s.doubleValue);return a===l?Sb(a)===Sb(l):isNaN(a)&&isNaN(l)}return!1})(t,e);case 9:return hh(t.arrayValue.values||[],e.arrayValue.values||[],Wa);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(B4(a)!==B4(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Wa(a[c],l[c])))return!1;return!0})(t,e);default:return Ue(52216,{left:t})}}function ag(t,e){return(t.values||[]).find((n=>Wa(n,e)))!==void 0}function ph(t,e){if(t===e)return 0;const n=Mc(t),r=Mc(e);if(n!==r)return at(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const l=Tn(s.integerValue||s.doubleValue),c=Tn(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return U4(t.timestampValue,e.timestampValue);case 4:return U4(ig(t),ig(e));case 5:return iA(t.stringValue,e.stringValue);case 6:return(function(s,a){const l=Nc(s),c=Nc(a);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const l=s.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const f=at(l[d],c[d]);if(f!==0)return f}return at(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const l=at(Tn(s.latitude),Tn(a.latitude));return l!==0?l:at(Tn(s.longitude),Tn(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return F4(t.arrayValue,e.arrayValue);case 10:return(function(s,a){const l=s.fields||{},c=a.fields||{},d=l[Eb]?.arrayValue,f=c[Eb]?.arrayValue,p=at(d?.values?.length||0,f?.values?.length||0);return p!==0?p:F4(d,f)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===nv.mapValue&&a===nv.mapValue)return 0;if(s===nv.mapValue)return 1;if(a===nv.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),d=a.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const g=iA(c[p],f[p]);if(g!==0)return g;const v=ph(l[c[p]],d[f[p]]);if(v!==0)return v}return at(c.length,f.length)})(t.mapValue,e.mapValue);default:throw Ue(23264,{he:n})}}function U4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const n=Oc(t),r=Oc(e),i=at(n.seconds,r.seconds);return i!==0?i:at(n.nanos,r.nanos)}function F4(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ph(n[i],r[i]);if(s)return s}return at(n.length,r.length)}function mh(t){return sA(t)}function sA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Oc(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Nc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=sA(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${sA(n.fields[a])}`;return i+"}"})(t.mapValue):Ue(61005,{value:t})}function qv(t){switch(Mc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ww(t);return e?16+qv(e):16;case 5:return 2*t.stringValue.length;case 6:return Nc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+qv(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return $c(r.fields,((s,a)=>{i+=s.length+qv(a)})),i})(t.mapValue);default:throw Ue(13486,{value:t})}}function $4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function aA(t){return!!t&&"integerValue"in t}function eO(t){return!!t&&"arrayValue"in t}function H4(t){return!!t&&"nullValue"in t}function q4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wv(t){return!!t&&"mapValue"in t}function Yae(t){return(t?.mapValue?.fields||{})[LF]?.stringValue===VF}function jm(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $c(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=jm(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jm(t.arrayValue.values[n]);return e}return{...t}}function Xae(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Kae}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.value=e}static empty(){return new yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jm(n)}setAll(e){let n=kr.emptyPath(),r={},i=[];e.forEach(((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=jm(a):i.push(l.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Wv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){$c(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new yi(jm(this.value))}}function BF(t){const e=[];return $c(t.fields,((n,r)=>{const i=new kr([n]);if(Wv(r)){const s=BF(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new Fi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Br(e,0,He.min(),He.min(),He.min(),yi.empty(),0)}static newFoundDocument(e,n,r,i){return new Br(e,1,n,He.min(),r,i,0)}static newNoDocument(e,n){return new Br(e,2,n,He.min(),He.min(),yi.empty(),0)}static newUnknownDocument(e,n){return new Br(e,3,n,He.min(),He.min(),yi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Br(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n){this.position=e,this.inclusive=n}}function W4(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Pe.comparator(Pe.fromName(a.referenceValue),n.key):r=ph(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function G4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n="asc"){this.field=e,this.dir=n}}function Qae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{}class Rn extends zF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Zae(e,n,r):n==="array-contains"?new noe(e,r):n==="in"?new roe(e,r):n==="not-in"?new ioe(e,r):n==="array-contains-any"?new soe(e,r):new Rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eoe(e,r):new toe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ph(n,this.value)):n!==null&&Mc(this.value)===Mc(n)&&this.matchesComparison(ph(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ia extends zF{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ia(e,n)}matches(e){return UF(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UF(t){return t.op==="and"}function FF(t){return Jae(t)&&UF(t)}function Jae(t){for(const e of t.filters)if(e instanceof ia)return!1;return!0}function oA(t){if(t instanceof Rn)return t.field.canonicalString()+t.op.toString()+mh(t.value);if(FF(t))return t.filters.map((e=>oA(e))).join(",");{const e=t.filters.map((n=>oA(n))).join(",");return`${t.op}(${e})`}}function $F(t,e){return t instanceof Rn?(function(r,i){return i instanceof Rn&&r.op===i.op&&r.field.isEqual(i.field)&&Wa(r.value,i.value)})(t,e):t instanceof ia?(function(r,i){return i instanceof ia&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,l)=>s&&$F(a,i.filters[l])),!0):!1})(t,e):void Ue(19439)}function HF(t){return t instanceof Rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${mh(n.value)}`})(t):t instanceof ia?(function(n){return n.op.toString()+" {"+n.getFilters().map(HF).join(" ,")+"}"})(t):"Filter"}class Zae extends Rn{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class eoe extends Rn{constructor(e,n){super(e,"in",n),this.keys=qF("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class toe extends Rn{constructor(e,n){super(e,"not-in",n),this.keys=qF("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function qF(t,e){return(e.arrayValue?.values||[]).map((n=>Pe.fromName(n.referenceValue)))}class noe extends Rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return eO(n)&&ag(n.arrayValue,this.value)}}class roe extends Rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ag(this.value.arrayValue,n)}}class ioe extends Rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ag(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ag(this.value.arrayValue,n)}}class soe extends Rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!eO(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ag(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aoe{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function K4(t,e=null,n=[],r=[],i=null,s=null,a=null){return new aoe(t,e,n,r,i,s,a)}function tO(t){const e=We(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>oA(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),xw(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>mh(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>mh(r))).join(",")),e.Te=n}return e.Te}function nO(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Qae(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$F(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!G4(t.startAt,e.startAt)&&G4(t.endAt,e.endAt)}function lA(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ooe(t,e,n,r,i,s,a,l){return new Bh(t,e,n,r,i,s,a,l)}function rO(t){return new Bh(t)}function Y4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WF(t){return t.collectionGroup!==null}function Im(t){const e=We(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new qn(kr.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new og(s,r))})),n.has(kr.keyField().canonicalString())||e.Ie.push(new og(kr.keyField(),r))}return e.Ie}function Ua(t){const e=We(t);return e.Ee||(e.Ee=loe(e,Im(t))),e.Ee}function loe(t,e){if(t.limitType==="F")return K4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new og(i.field,s)}));const n=t.endAt?new kb(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new kb(t.startAt.position,t.startAt.inclusive):null;return K4(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cA(t,e){const n=t.filters.concat([e]);return new Bh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function uA(t,e,n){return new Bh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sw(t,e){return nO(Ua(t),Ua(e))&&t.limitType===e.limitType}function GF(t){return`${tO(Ua(t))}|lt:${t.limitType}`}function Pf(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>HF(i))).join(", ")}]`),xw(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>mh(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>mh(i))).join(",")),`Target(${r})`})(Ua(t))}; limitType=${t.limitType})`}function Tw(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Im(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,l,c){const d=W4(a,l,c);return a.inclusive?d<=0:d<0})(r.startAt,Im(r),i)||r.endAt&&!(function(a,l,c){const d=W4(a,l,c);return a.inclusive?d>=0:d>0})(r.endAt,Im(r),i))})(t,e)}function coe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KF(t){return(e,n)=>{let r=!1;for(const i of Im(t)){const s=uoe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function uoe(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):(function(s,a,l){const c=a.data.field(s),d=l.data.field(s);return c!==null&&d!==null?ph(c,d):Ue(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$c(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return MF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const doe=new ln(Pe.comparator);function Go(){return doe}const YF=new ln(Pe.comparator);function mm(...t){let e=YF;for(const n of t)e=e.insert(n.key,n);return e}function XF(t){let e=YF;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Gu(){return Dm()}function QF(){return Dm()}function Dm(){return new Id((t=>t.toString()),((t,e)=>t.isEqual(e)))}const foe=new ln(Pe.comparator),hoe=new qn(Pe.comparator);function ot(...t){let e=hoe;for(const n of t)e=e.add(n);return e}const poe=new qn(at);function moe(){return poe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sb(e)?"-0":e}}function JF(t){return{integerValue:""+t}}function goe(t,e){return $ae(e)?JF(e):iO(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this._=void 0}}function yoe(t,e,n){return t instanceof lg?(function(i,s){const a={fields:{[DF]:{stringValue:IF},[RF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Z2(s)&&(s=ww(s)),s&&(a.fields[PF]=s),{mapValue:a}})(n,e):t instanceof cg?e8(t,e):t instanceof ug?t8(t,e):(function(i,s){const a=ZF(i,s),l=X4(a)+X4(i.Ae);return aA(a)&&aA(i.Ae)?JF(l):iO(i.serializer,l)})(t,e)}function voe(t,e,n){return t instanceof cg?e8(t,e):t instanceof ug?t8(t,e):n}function ZF(t,e){return t instanceof _b?(function(r){return aA(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class lg extends Ew{}class cg extends Ew{constructor(e){super(),this.elements=e}}function e8(t,e){const n=n8(e);for(const r of t.elements)n.some((i=>Wa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class ug extends Ew{constructor(e){super(),this.elements=e}}function t8(t,e){let n=n8(e);for(const r of t.elements)n=n.filter((i=>!Wa(i,r)));return{arrayValue:{values:n}}}class _b extends Ew{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function X4(t){return Tn(t.integerValue||t.doubleValue)}function n8(t){return eO(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class boe{constructor(e,n){this.field=e,this.transform=n}}function xoe(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof cg&&i instanceof cg||r instanceof ug&&i instanceof ug?hh(r.elements,i.elements,Wa):r instanceof _b&&i instanceof _b?Wa(r.Ae,i.Ae):r instanceof lg&&i instanceof lg})(t.transform,e.transform)}class woe{constructor(e,n){this.version=e,this.transformResults=n}}class ks{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ks}static exists(e){return new ks(void 0,e)}static updateTime(e){return new ks(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kw{}function r8(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sO(t.key,ks.none()):new Xg(t.key,t.data,ks.none());{const n=t.data,r=yi.empty();let i=new qn(kr.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Hc(t.key,r,new Fi(i.toArray()),ks.none())}}function Soe(t,e,n){t instanceof Xg?(function(i,s,a){const l=i.value.clone(),c=J4(i.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Hc?(function(i,s,a){if(!Gv(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=J4(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(i8(i)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function Pm(t,e,n,r){return t instanceof Xg?(function(s,a,l,c){if(!Gv(s.precondition,a))return l;const d=s.value.clone(),f=Z4(s.fieldTransforms,c,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Hc?(function(s,a,l,c){if(!Gv(s.precondition,a))return l;const d=Z4(s.fieldTransforms,c,a),f=a.data;return f.setAll(i8(s)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,a,l){return Gv(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(t,e,n)}function Toe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ZF(r.transform,i||null);s!=null&&(n===null&&(n=yi.empty()),n.set(r.field,s))}return n||null}function Q4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&hh(r,i,((s,a)=>xoe(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xg extends kw{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hc extends kw{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function i8(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function J4(t,e,n){const r=new Map;vt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,voe(a,l,n[i]))}return r}function Z4(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,yoe(s,a,e))}return r}class sO extends kw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Eoe extends kw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Soe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QF();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const c=r8(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(He.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ot())}isEqual(e){return this.batchId===e.batchId&&hh(this.mutations,e.mutations,((n,r)=>Q4(n,r)))&&hh(this.baseMutations,e.baseMutations,((n,r)=>Q4(n,r)))}}class aO{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){vt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return foe})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new aO(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _oe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aoe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,ut;function Coe(t){switch(t){case de.OK:return Ue(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function s8(t){if(t===void 0)return Wo("GRPC error has no .code"),de.UNKNOWN;switch(t){case In.OK:return de.OK;case In.CANCELLED:return de.CANCELLED;case In.UNKNOWN:return de.UNKNOWN;case In.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case In.INTERNAL:return de.INTERNAL;case In.UNAVAILABLE:return de.UNAVAILABLE;case In.UNAUTHENTICATED:return de.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case In.NOT_FOUND:return de.NOT_FOUND;case In.ALREADY_EXISTS:return de.ALREADY_EXISTS;case In.PERMISSION_DENIED:return de.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case In.ABORTED:return de.ABORTED;case In.OUT_OF_RANGE:return de.OUT_OF_RANGE;case In.UNIMPLEMENTED:return de.UNIMPLEMENTED;case In.DATA_LOSS:return de.DATA_LOSS;default:return Ue(39323,{code:t})}}(ut=In||(In={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ooe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Noe=new yc([4294967295,4294967295],0);function e5(t){const e=Ooe().encode(t),n=new xF;return n.update(e),new Uint8Array(n.digest())}function t5(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yc([n,r],0),new yc([i,s],0)]}class oO{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gm(`Invalid padding: ${n}`);if(r<0)throw new gm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=yc.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(yc.fromNumber(r)));return i.compare(Noe)===1&&(i=new yc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=e5(e),[r,i]=t5(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new oO(s,i,n);return r.forEach((l=>a.insert(l))),a}insert(e){if(this.ge===0)return;const n=e5(e),[r,i]=t5(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Qg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _w(He.min(),i,new ln(at),Go(),ot())}}class Qg{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qg(r,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class a8{constructor(e,n){this.targetId=e,this.Ce=n}}class o8{constructor(e,n,r=Or.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class n5{constructor(){this.ve=0,this.Fe=r5(),this.Me=Or.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),n=ot(),r=ot();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ue(38017,{changeType:s})}})),new Qg(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=r5()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Moe{constructor(e){this.Ge=e,this.ze=new Map,this.je=Go(),this.Je=rv(),this.He=rv(),this.Ye=new ln(at)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(lA(s))if(r===0){const a=new Pe(s.path);this.et(n,a,Br.newNoDocument(a,He.min()))}else vt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=Nc(r).toUint8Array()}catch(c){if(c instanceof jF)return fh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new oO(a,i,s)}catch(c){return fh(c instanceof gm?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,a)=>{const l=this.ot(a);if(l){if(s.current&&lA(l.target)){const c=new Pe(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Br.newNoDocument(c,e))}s.Be&&(n.set(a,s.ke()),s.qe())}}));let r=ot();this.He.forEach(((s,a)=>{let l=!0;a.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new _w(e,n,this.Ye,this.je,r);return this.je=Go(),this.Je=rv(),this.He=rv(),this.Ye=new ln(at),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new n5,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new qn(at),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new qn(at),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new n5),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rv(){return new ln(Pe.comparator)}function r5(){return new ln(Pe.comparator)}const joe={asc:"ASCENDING",desc:"DESCENDING"},Ioe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Doe={and:"AND",or:"OR"};class Poe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dA(t,e){return t.useProto3Json||xw(e)?e:{value:e}}function Ab(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Roe(t,e){return Ab(t,e.toTimestamp())}function Fa(t){return vt(!!t,49232),He.fromTimestamp((function(n){const r=Oc(n);return new Ot(r.seconds,r.nanos)})(t))}function lO(t,e){return fA(t,e).canonicalString()}function fA(t,e){const n=(function(i){return new Lt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function c8(t){const e=Lt.fromString(t);return vt(p8(e),10190,{key:e.toString()}),e}function hA(t,e){return lO(t.databaseId,e.path)}function uE(t,e){const n=c8(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(d8(n))}function u8(t,e){return lO(t.databaseId,e)}function Loe(t){const e=c8(t);return e.length===4?Lt.emptyPath():d8(e)}function pA(t){return new Lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function d8(t){return vt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function i5(t,e,n){return{name:hA(t,e),fields:n.value.mapValue.fields}}function Voe(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ue(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,f){return d.useProto3Json?(vt(f===void 0||typeof f=="string",58123),Or.fromBase64String(f||"")):(vt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Or.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&(function(d){const f=d.code===void 0?de.UNKNOWN:s8(d.code);return new Te(f,d.message||"")})(a);n=new o8(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=uE(t,r.document.name),s=Fa(r.document.updateTime),a=r.document.createTime?Fa(r.document.createTime):He.min(),l=new yi({mapValue:{fields:r.document.fields}}),c=Br.newFoundDocument(i,s,a,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Kv(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=uE(t,r.document),s=r.readTime?Fa(r.readTime):He.min(),a=Br.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Kv([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=uE(t,r.document),s=r.removedTargetIds||[];n=new Kv([],s,i,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new Aoe(i,s),l=r.targetId;n=new a8(l,a)}}return n}function Boe(t,e){let n;if(e instanceof Xg)n={update:i5(t,e.key,e.value)};else if(e instanceof sO)n={delete:hA(t,e.key)};else if(e instanceof Hc)n={update:i5(t,e.key,e.data),updateMask:Koe(e.fieldMask)};else{if(!(e instanceof Eoe))return Ue(16599,{Vt:e.type});n={verify:hA(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const l=a.transform;if(l instanceof lg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof cg)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ug)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof _b)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Ue(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:Roe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ue(27497)})(t,e.precondition)),n}function zoe(t,e){return t&&t.length>0?(vt(e!==void 0,14353),t.map((n=>(function(i,s){let a=i.updateTime?Fa(i.updateTime):Fa(s);return a.isEqual(He.min())&&(a=Fa(s)),new woe(a,i.transformResults||[])})(n,e)))):[]}function Uoe(t,e){return{documents:[u8(t,e.path)]}}function Foe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=u8(t,i);const s=(function(d){if(d.length!==0)return h8(ia.create(d,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(d){if(d.length!==0)return d.map((f=>(function(g){return{field:Rf(g.field),direction:qoe(g.dir)}})(f)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=dA(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function $oe(t){let e=Loe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){vt(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=(function(p){const g=f8(p);return g instanceof ia&&FF(g)?g.getFilters():[g]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((g=>(function(b){return new og(Lf(b.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(g)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let g;return g=typeof p=="object"?p.value:p,xw(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,v=p.values||[];return new kb(v,g)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const g=!p.before,v=p.values||[];return new kb(v,g)})(n.endAt)),ooe(e,i,a,s,l,"F",c,d)}function Hoe(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function f8(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Lf(n.unaryFilter.field);return Rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Lf(n.unaryFilter.field);return Rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Lf(n.unaryFilter.field);return Rn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Lf(n.unaryFilter.field);return Rn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Rn.create(Lf(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ia.create(n.compositeFilter.filters.map((r=>f8(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(n.compositeFilter.op))})(t):Ue(30097,{filter:t})}function qoe(t){return joe[t]}function Woe(t){return Ioe[t]}function Goe(t){return Doe[t]}function Rf(t){return{fieldPath:t.canonicalString()}}function Lf(t){return kr.fromServerFormat(t.fieldPath)}function h8(t){return t instanceof Rn?(function(n){if(n.op==="=="){if(q4(n.value))return{unaryFilter:{field:Rf(n.field),op:"IS_NAN"}};if(H4(n.value))return{unaryFilter:{field:Rf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q4(n.value))return{unaryFilter:{field:Rf(n.field),op:"IS_NOT_NAN"}};if(H4(n.value))return{unaryFilter:{field:Rf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rf(n.field),op:Woe(n.op),value:n.value}}})(t):t instanceof ia?(function(n){const r=n.getFilters().map((i=>h8(i)));return r.length===1?r[0]:{compositeFilter:{op:Goe(n.op),filters:r}}})(t):Ue(54877,{filter:t})}function Koe(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function p8(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n,r,i,s=He.min(),a=He.min(),l=Or.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new cc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yoe{constructor(e){this.yt=e}}function Xoe(t){const e=$oe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uA(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qoe{constructor(){this.Cn=new Joe}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(Cc.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(Cc.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class Joe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qn(Lt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qn(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m8=41943040;class mi{static withCacheSize(e){return new mi(e,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi.DEFAULT_COLLECTION_PERCENTILE=10,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mi.DEFAULT=new mi(m8,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mi.DISABLED=new mi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gh(0)}static cr(){return new gh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5="LruGarbageCollector",Zoe=1048576;function o5([t,e],[n,r]){const i=at(t,n);return i===0?at(e,r):i}class ele{constructor(e){this.Ir=e,this.buffer=new qn(o5),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();o5(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tle{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(a5,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vh(n)?_e(a5,"Ignoring IndexedDB error during garbage collection: ",n):await Lh(n)}await this.Vr(3e5)}))}}class nle{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(bw.ce);const r=new ele(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(s5)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s5):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,l,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(d=Date.now(),Df()<=st.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function rle(t,e){return new nle(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ile{constructor(){this.changes=new Id((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Br.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ale{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Pm(r.mutation,i,Fi.empty(),Ot.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ot()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ot()){const i=Gu();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=mm();return s.forEach(((l,c)=>{a=a.insert(l,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Gu();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ot())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,l)=>{n.set(a,l)}))}))}computeViews(e,n,r,i){let s=Go();const a=Dm(),l=(function(){return Dm()})();return n.forEach(((c,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Hc)?s=s.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),Pm(f.mutation,d,f.mutation.getFieldMask(),Ot.now())):a.set(d.key,Fi.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((d,f)=>a.set(d,f))),n.forEach(((d,f)=>l.set(d,new sle(f,a.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=Dm();let i=new ln(((a,l)=>a-l)),s=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const l of a)l.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||Fi.empty();f=l.applyToLocalView(d,f),r.set(c,f);const p=(i.get(l.batchId)||ot()).add(c);i=i.insert(l.batchId,p)}))})).next((()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,f=c.value,p=QF();f.forEach((g=>{if(!s.has(g)){const v=r8(n.get(g),r.get(g));v!==null&&p.set(g,v),s=s.add(g)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,p))}return fe.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return Pe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):fe.resolve(Gu());let l=rg,c=s;return a.next((d=>fe.forEach(d,((f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?fe.resolve():this.remoteDocumentCache.getEntry(e,f).next((g=>{c=c.insert(f,g)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,c,d,ot()))).next((f=>({batchId:l,changes:XF(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next((r=>{let i=mm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=mm();return this.indexManager.getCollectionParents(e,s).next((l=>fe.forEach(l,(c=>{const d=(function(p,g){return new Bh(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((f=>{f.forEach(((p,g)=>{a=a.insert(p,g)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((c,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,Br.newInvalidDocument(f)))}));let l=mm();return a.forEach(((c,d)=>{const f=s.get(c);f!==void 0&&Pm(f.mutation,d,Fi.empty(),Ot.now()),Tw(n,d)&&(l=l.insert(c,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ole{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Fa(i.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Xoe(i.bundledQuery),readTime:Fa(i.readTime)}})(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lle{constructor(){this.overlays=new ln(Pe.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gu();return fe.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=Gu(),s=n.length+1,a=new Pe(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ln(((d,f)=>d-f));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=Gu(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=Gu(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=i)););return fe.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new _oe(n,r));let s=this.qr.get(n);s===void 0&&(s=ot(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cle{constructor(){this.sessionToken=Or.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.Qr=new qn(ir.$r),this.Ur=new qn(ir.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ir(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new ir(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Pe(new Lt([])),r=new ir(n,e),i=new ir(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Pe(new Lt([])),r=new ir(n,e),i=new ir(n,e+1);let s=ot();return this.Ur.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new ir(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ir{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Pe.comparator(e.key,n.key)||at(e.Yr,n.Yr)}static Kr(e,n){return at(e.Yr,n.Yr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ule{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new qn(ir.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new koe(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Zr=this.Zr.add(new ir(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return fe.resolve(a)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?J2:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ir(n,0),i=new ir(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(a=>{const l=this.Xr(a.Yr);s.push(l)})),fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qn(at);return n.forEach((i=>{const s=new ir(i,0),a=new ir(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(l=>{r=r.add(l.Yr)}))})),fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Pe.isDocumentKey(s)||(s=s.child(""));const a=new ir(new Pe(s),0);let l=new qn(at);return this.Zr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Yr)),!0)}),a),fe.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){vt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return fe.forEach(n.mutations,(i=>{const s=new ir(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new ir(n,0),i=this.Zr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dle{constructor(e){this.ri=e,this.docs=(function(){return new ln(Pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():Br.newInvalidDocument(n))}getEntries(e,n){let r=Go();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Br.newInvalidDocument(i))})),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Go();const a=n.path,l=new Pe(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||Bae(Vae(f),r)<=0||(i.has(f.key)||Tw(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return fe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ue(9500)}ii(e,n){return fe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new fle(this)}getSize(e){return fe.resolve(this.size)}}class fle extends ile{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hle{constructor(e){this.persistence=e,this.si=new Id((n=>tO(n)),nO),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.oi=0,this._i=new cO,this.targetCount=0,this.ai=gh.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new gh(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),fe.waitFor(s).next((()=>i))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),fe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e,n){this.ui={},this.overlays={},this.ci=new bw(0),this.li=!1,this.li=!0,this.hi=new cle,this.referenceDelegate=e(this),this.Pi=new hle(this),this.indexManager=new Qoe,this.remoteDocumentCache=(function(i){return new dle(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Yoe(n),this.Ii=new ole(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new ule(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const i=new ple(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return fe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class ple extends Uae{constructor(e){super(),this.currentSequenceNumber=e}}class uO{constructor(e){this.persistence=e,this.Ri=new cO,this.Vi=null}static mi(e){return new uO(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(r=>{const i=Pe.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,He.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Cb{constructor(e,n){this.persistence=e,this.pi=new Id((r=>Hae(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=rle(this,n)}static mi(e,n){return new Cb(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return fe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?fe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((l=>{l||(r++,s.removeEntry(a,He.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qv(e.data.value)),n}br(e,n,r){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ot(),i=ot();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new dO(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gle{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Wne()?8:Fae($r())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new mle;return this.Ss(e,n,a).next((l=>{if(s.result=l,this.Vs)return this.bs(e,n,a,l.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Df()<=st.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Pf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(Df()<=st.DEBUG&&_e("QueryEngine","Query:",Pf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Df()<=st.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Pf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ua(n))):fe.resolve())}ys(e,n){if(Y4(n))return fe.resolve(null);let r=Ua(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=uA(n,null,"F"),r=Ua(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=ot(...s);return this.ps.getDocuments(e,a).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.Ds(n,l);return this.Cs(n,d,a,c.readTime)?this.ys(e,uA(n,null,"F")):this.vs(e,d,n,c)}))))})))))}ws(e,n,r,i){return Y4(n)||i.isEqual(He.min())?fe.resolve(null):this.ps.getDocuments(e,r).next((s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?fe.resolve(null):(Df()<=st.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pf(n)),this.vs(e,a,n,Lae(i,rg)).next((l=>l)))}))}Ds(e,n){let r=new qn(KF(e));return n.forEach(((i,s)=>{Tw(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Df()<=st.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Pf(n)),this.ps.getDocumentsMatchingQuery(e,n,Cc.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="LocalStore",yle=3e8;class vle{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new ln(at),this.xs=new Id((s=>tO(s)),nO),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ale(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ble(t,e,n,r){return new vle(t,e,n,r)}async function y8(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],l=[];let c=ot();for(const d of i){a.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of s){l.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Ls:d,removedBatchIds:a,addedBatchIds:l})))}))}))}function xle(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,d,f){const p=d.batch,g=p.keys();let v=fe.resolve();return g.forEach((b=>{v=v.next((()=>f.getEntry(c,b))).next((T=>{const S=d.docVersions.get(b);vt(S!==null,48541),T.version.compareTo(S)<0&&(p.applyToRemoteDocument(T,d),T.isValidDocument()&&(T.setReadTime(d.commitVersion),f.addEntry(T)))}))})),v.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=ot();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function v8(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function wle(t,e){const n=We(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((f,p)=>{const g=i.get(p);if(!g)return;l.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(s,f.addedDocuments,p))));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Or.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(p,v),(function(T,S,k){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=yle?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(g,v,f)&&l.push(n.Pi.updateTargetData(s,v))}));let c=Go(),d=ot();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))})),l.push(Sle(s,a,e.documentUpdates).next((f=>{c=f.ks,d=f.qs}))),!r.isEqual(He.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next((p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));l.push(f)}return fe.waitFor(l).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,c,d))).next((()=>c))})).then((s=>(n.Ms=i,s)))}function Sle(t,e,n){let r=ot(),i=ot();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=Go();return n.forEach(((l,c)=>{const d=s.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(He.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):_e(fO,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)})),{ks:a,qs:i}}))}function Tle(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=J2),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Ele(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,fe.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new cc(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function mA(t,e,n){const r=We(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Vh(a))throw a;_e(fO,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function l5(t,e,n){const r=We(t);let i=He.min(),s=ot();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,d,f){const p=We(c),g=p.xs.get(f);return g!==void 0?fe.resolve(p.Ms.get(g)):p.Pi.getTargetData(d,f)})(r,a,Ua(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next((c=>{s=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:He.min(),n?s:ot()))).next((l=>(kle(r,coe(e),l),{documents:l,Qs:s})))))}function kle(t,e,n){let r=t.Os.get(e)||He.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class c5{constructor(){this.activeTargetIds=moe()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _le{constructor(){this.Mo=new c5,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new c5,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ale{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5="ConnectivityMonitor";class d5{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(u5,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(u5,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iv=null;function gA(){return iv===null?iv=(function(){return 268435456+Math.round(2147483648*Math.random())})():iv++,"0x"+iv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="RestConnection",Cle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ole{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Tb?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=gA(),l=this.zo(e,n.toUriEncodedString());_e(dE,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:d}=new URL(l),f=Ih(d);return this.Jo(e,l,c,r,f).then((p=>(_e(dE,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw fh(dE,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=Cle[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nle{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="WebChannelConnection";class Mle extends Ole{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=gA();return new Promise(((l,c)=>{const d=new wF;d.setWithCredentials(!0),d.listenOnce(SF.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Hv.NO_ERROR:const p=d.getResponseJson();_e(Pr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Hv.TIMEOUT:_e(Pr,`RPC '${e}' ${a} timed out`),c(new Te(de.DEADLINE_EXCEEDED,"Request time out"));break;case Hv.HTTP_ERROR:const g=d.getStatus();if(_e(Pr,`RPC '${e}' ${a} failed with status:`,g,"response text:",d.getResponseText()),g>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v?.error;if(b&&b.status&&b.message){const T=(function(k){const C=k.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(C)>=0?C:de.UNKNOWN})(b.status);c(new Te(T,b.message))}else c(new Te(de.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Te(de.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{_e(Pr,`RPC '${e}' ${a} completed.`)}}));const f=JSON.stringify(i);_e(Pr,`RPC '${e}' ${a} sending request:`,i),d.send(n,"POST",f,r,15)}))}T_(e,n,r){const i=gA(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=kF(),l=EF(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");_e(Pr,`Creating RPC '${e}' stream ${i}: ${f}`,c);const p=a.createWebChannel(f,c);this.I_(p);let g=!1,v=!1;const b=new Nle({Yo:S=>{v?_e(Pr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(g||(_e(Pr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),_e(Pr,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Zo:()=>p.close()}),T=(S,k,C)=>{S.listen(k,(N=>{try{C(N)}catch(R){setTimeout((()=>{throw R}),0)}}))};return T(p,pm.EventType.OPEN,(()=>{v||(_e(Pr,`RPC '${e}' stream ${i} transport opened.`),b.o_())})),T(p,pm.EventType.CLOSE,(()=>{v||(v=!0,_e(Pr,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(p))})),T(p,pm.EventType.ERROR,(S=>{v||(v=!0,fh(Pr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),b.a_(new Te(de.UNAVAILABLE,"The operation could not be completed")))})),T(p,pm.EventType.MESSAGE,(S=>{if(!v){const k=S.data[0];vt(!!k,16349);const C=k,N=C?.error||C[0]?.error;if(N){_e(Pr,`RPC '${e}' stream ${i} received error:`,N);const R=N.status;let D=(function(M){const P=In[M];if(P!==void 0)return s8(P)})(R),z=N.message;D===void 0&&(D=de.INTERNAL,z="Unknown error status: "+R+" with message "+N.message),v=!0,b.a_(new Te(D,z)),p.close()}else _e(Pr,`RPC '${e}' stream ${i} received:`,k),b.u_(k)}})),T(l,TF.STAT_EVENT,(S=>{S.stat===rA.PROXY?_e(Pr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===rA.NOPROXY&&_e(Pr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function fE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t){return new Poe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="PersistentStream";class x8{constructor(e,n,r,i,s,a,l,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new b8(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Wo(n.toString()),Wo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Te(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(f5,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(_e(f5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jle extends x8{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Voe(this.serializer,e),r=(function(s){if(!("targetChange"in s))return He.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?He.min():a.readTime?Fa(a.readTime):He.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=pA(this.serializer),n.addTarget=(function(s,a){let l;const c=a.target;if(l=lA(c)?{documents:Uoe(s,c)}:{query:Foe(s,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=l8(s,a.resumeToken);const d=dA(s,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(He.min())>0){l.readTime=Ab(s,a.snapshotVersion.toTimestamp());const d=dA(s,a.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=Hoe(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=pA(this.serializer),n.removeTarget=e,this.q_(n)}}class Ile extends x8{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=zoe(e.writeResults,e.commitTime),r=Fa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=pA(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Boe(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dle{}class Ple extends Dle{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Te(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,fA(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Te(de.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Ho(e,fA(n,r),i,a,l,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(de.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Rle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wo(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="RemoteStore";class Lle{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{Dd(this)&&(_e(wd,"Restarting streams for network reachability change."),await(async function(c){const d=We(c);d.Ea.add(4),await Jg(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Cw(d)})(this))}))})),this.Ra=new Rle(r,i)}}async function Cw(t){if(Dd(t))for(const e of t.da)await e(!0)}async function Jg(t){for(const e of t.da)await e(!1)}function w8(t,e){const n=We(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),gO(n)?mO(n):zh(n).O_()&&pO(n,e))}function hO(t,e){const n=We(t),r=zh(n);n.Ia.delete(e),r.O_()&&S8(n,e),n.Ia.size===0&&(r.O_()?r.L_():Dd(n)&&n.Ra.set("Unknown"))}function pO(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zh(t).Y_(e)}function S8(t,e){t.Va.Ue(e),zh(t).Z_(e)}function mO(t){t.Va=new Moe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),zh(t).start(),t.Ra.ua()}function gO(t){return Dd(t)&&!zh(t).x_()&&t.Ia.size>0}function Dd(t){return We(t).Ea.size===0}function T8(t){t.Va=void 0}async function Vle(t){t.Ra.set("Online")}async function Ble(t){t.Ia.forEach(((e,n)=>{pO(t,e)}))}async function zle(t,e){T8(t),gO(t)?(t.Ra.ha(e),mO(t)):t.Ra.set("Unknown")}async function Ule(t,e,n){if(t.Ra.set("Online"),e instanceof o8&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){_e(wd,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ob(t,r)}else if(e instanceof Kv?t.Va.Ze(e):e instanceof a8?t.Va.st(e):t.Va.tt(e),!n.isEqual(He.min()))try{const r=await v8(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const l=s.Va.Tt(a);return l.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(d);f&&s.Ia.set(d,f.withResumeToken(c.resumeToken,a))}})),l.targetMismatches.forEach(((c,d)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(Or.EMPTY_BYTE_STRING,f.snapshotVersion)),S8(s,c);const p=new cc(f.target,c,d,f.sequenceNumber);pO(s,p)})),s.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){_e(wd,"Failed to raise snapshot:",r),await Ob(t,r)}}async function Ob(t,e,n){if(!Vh(e))throw e;t.Ea.add(1),await Jg(t),t.Ra.set("Offline"),n||(n=()=>v8(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(wd,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Cw(t)}))}function E8(t,e){return e().catch((n=>Ob(t,n,e)))}async function Ow(t){const e=We(t),n=jc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:J2;for(;Fle(e);)try{const i=await Tle(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,$le(e,i)}catch(i){await Ob(e,i)}k8(e)&&_8(e)}function Fle(t){return Dd(t)&&t.Ta.length<10}function $le(t,e){t.Ta.push(e);const n=jc(t);n.O_()&&n.X_&&n.ea(e.mutations)}function k8(t){return Dd(t)&&!jc(t).x_()&&t.Ta.length>0}function _8(t){jc(t).start()}async function Hle(t){jc(t).ra()}async function qle(t){const e=jc(t);for(const n of t.Ta)e.ea(n.mutations)}async function Wle(t,e,n){const r=t.Ta.shift(),i=aO.from(r,e,n);await E8(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Ow(t)}async function Gle(t,e){e&&jc(t).X_&&await(async function(r,i){if((function(a){return Coe(a)&&a!==de.ABORTED})(i.code)){const s=r.Ta.shift();jc(r).B_(),await E8(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Ow(r)}})(t,e),k8(t)&&_8(t)}async function h5(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),_e(wd,"RemoteStore received new credentials");const r=Dd(n);n.Ea.add(3),await Jg(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cw(n)}async function Kle(t,e){const n=We(t);e?(n.Ea.delete(2),await Cw(n)):e||(n.Ea.add(2),await Jg(n),n.Ra.set("Unknown"))}function zh(t){return t.ma||(t.ma=(function(n,r,i){const s=We(n);return s.sa(),new jle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Vle.bind(null,t),t_:Ble.bind(null,t),r_:zle.bind(null,t),H_:Ule.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),gO(t)?mO(t):t.Ra.set("Unknown")):(await t.ma.stop(),T8(t))}))),t.ma}function jc(t){return t.fa||(t.fa=(function(n,r,i){const s=We(n);return s.sa(),new Ile(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Hle.bind(null,t),r_:Gle.bind(null,t),ta:qle.bind(null,t),na:Wle.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ow(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(wd,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new yO(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vO(t,e){if(Wo("AsyncQueue",`${e}: ${t}`),Vh(t))return new Te(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{static emptySet(e){return new ih(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=mm(),this.sortedSet=new ln(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ih)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ih;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(){this.ga=new ln(Pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class yh{constructor(e,n,r,i,s,a,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((l=>{a.push({type:0,doc:l})})),new yh(e,n,ih.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yle{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Xle{constructor(){this.queries=m5(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=We(n),s=i.queries;i.queries=m5(),s.forEach(((a,l)=>{for(const c of l.Sa)c.onError(r)}))})(this,new Te(de.ABORTED,"Firestore shutting down"))}}function m5(){return new Id((t=>GF(t)),Sw)}async function A8(t,e){const n=We(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Yle,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=vO(a,`Initialization of query '${Pf(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&bO(n)}async function C8(t,e){const n=We(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Qle(t,e){const n=We(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Fa(i)&&(r=!0);a.wa=i}}r&&bO(n)}function Jle(t,e,n){const r=We(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function bO(t){t.Ca.forEach((e=>{e.next()}))}var yA,g5;(g5=yA||(yA={})).Ma="default",g5.Cache="cache";class O8{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e){this.key=e}}class M8{constructor(e){this.key=e}}class Zle{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ot(),this.mutatedKeys=ot(),this.eu=KF(e),this.tu=new ih(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new p5,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,p)=>{const g=i.get(f),v=Tw(this.query,p)?p:null,b=!!g&&this.mutatedKeys.has(g.key),T=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;g&&v?g.data.isEqual(v.data)?b!==T&&(r.track({type:3,doc:v}),S=!0):this.su(g,v)||(r.track({type:2,doc:v}),S=!0,(c&&this.eu(v,c)>0||d&&this.eu(v,d)<0)&&(l=!0)):!g&&v?(r.track({type:0,doc:v}),S=!0):g&&!v&&(r.track({type:1,doc:g}),S=!0,(c||d)&&(l=!0)),S&&(v?(a=a.add(v),s=T?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:a,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((f,p)=>(function(v,b){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:S})}};return T(v)-T(b)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,a.length!==0||d?{snapshot:new yh(this.query,e.tu,s,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new p5,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new M8(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new N8(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ot();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xO="SyncEngine";class ece{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tce{constructor(e){this.key=e,this.hu=!1}}class nce{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Id((l=>GF(l)),Sw),this.Iu=new Map,this.Eu=new Set,this.du=new ln(Pe.comparator),this.Au=new Map,this.Ru=new cO,this.Vu={},this.mu=new Map,this.fu=gh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rce(t,e,n=!0){const r=L8(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await j8(r,e,n,!0),i}async function ice(t,e){const n=L8(t);await j8(n,e,!0,!1)}async function j8(t,e,n,r){const i=await Ele(t.localStore,Ua(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await sce(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&w8(t.remoteStore,i),l}async function sce(t,e,n,r,i){t.pu=(p,g,v)=>(async function(T,S,k,C){let N=S.view.ru(k);N.Cs&&(N=await l5(T.localStore,S.query,!1).then((({documents:j})=>S.view.ru(j,N))));const R=C&&C.targetChanges.get(S.targetId),D=C&&C.targetMismatches.get(S.targetId)!=null,z=S.view.applyChanges(N,T.isPrimaryClient,R,D);return v5(T,S.targetId,z.au),z.snapshot})(t,p,g,v);const s=await l5(t.localStore,e,!0),a=new Zle(e,s.Qs),l=a.ru(s.documents),c=Qg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(l,t.isPrimaryClient,c);v5(t,n,d.au);const f=new ece(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function ace(t,e,n){const r=We(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!Sw(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mA(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hO(r.remoteStore,i.targetId),vA(r,i.targetId)})).catch(Lh)):(vA(r,i.targetId),await mA(r.localStore,i.targetId,!0))}async function oce(t,e){const n=We(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hO(n.remoteStore,r.targetId))}async function lce(t,e,n){const r=mce(t);try{const i=await(function(a,l){const c=We(a),d=Ot.now(),f=l.reduce(((v,b)=>v.add(b.key)),ot());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let b=Go(),T=ot();return c.Ns.getEntries(v,f).next((S=>{b=S,b.forEach(((k,C)=>{C.isValidDocument()||(T=T.add(k))}))})).next((()=>c.localDocuments.getOverlayedDocuments(v,b))).next((S=>{p=S;const k=[];for(const C of l){const N=Toe(C,p.get(C.key).overlayedDocument);N!=null&&k.push(new Hc(C.key,N,BF(N.value.mapValue),ks.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,k,l)})).next((S=>{g=S;const k=S.applyToLocalDocumentSet(p,T);return c.documentOverlayCache.saveOverlays(v,S.batchId,k)}))})).then((()=>({batchId:g.batchId,changes:XF(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,l,c){let d=a.Vu[a.currentUser.toKey()];d||(d=new ln(at)),d=d.insert(l,c),a.Vu[a.currentUser.toKey()]=d})(r,i.batchId,n),await Zg(r,i.changes),await Ow(r.remoteStore)}catch(i){const s=vO(i,"Failed to persist write");n.reject(s)}}async function I8(t,e){const n=We(t);try{const r=await wle(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Au.get(s);a&&(vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?vt(a.hu,14607):i.removedDocuments.size>0&&(vt(a.hu,42227),a.hu=!1))})),await Zg(n,r,e)}catch(r){await Lh(r)}}function y5(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,a)=>{const l=a.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(a,l){const c=We(a);c.onlineState=l;let d=!1;c.queries.forEach(((f,p)=>{for(const g of p.Sa)g.va(l)&&(d=!0)})),d&&bO(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cce(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new ln(Pe.comparator);a=a.insert(s,Br.newNoDocument(s,He.min()));const l=ot().add(s),c=new _w(He.min(),new Map,new ln(at),a,l);await I8(r,c),r.du=r.du.remove(s),r.Au.delete(e),wO(r)}else await mA(r.localStore,e,!1).then((()=>vA(r,e,n))).catch(Lh)}async function uce(t,e){const n=We(t),r=e.batch.batchId;try{const i=await xle(n.localStore,e);P8(n,r,null),D8(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zg(n,i)}catch(i){await Lh(i)}}async function dce(t,e,n){const r=We(t);try{const i=await(function(a,l){const c=We(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return c.mutationQueue.lookupMutationBatch(d,l).next((p=>(vt(p!==null,37113),f=p.keys(),c.mutationQueue.removeMutationBatch(d,p)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>c.localDocuments.getDocuments(d,f)))}))})(r.localStore,e);P8(r,e,n),D8(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zg(r,i)}catch(i){await Lh(i)}}function D8(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function P8(t,e,n){const r=We(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function vA(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||R8(t,r)}))}function R8(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(hO(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),wO(t))}function v5(t,e,n){for(const r of n)r instanceof N8?(t.Ru.addReference(r.key,e),fce(t,r)):r instanceof M8?(_e(xO,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||R8(t,r.key)):Ue(19791,{wu:r})}function fce(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(_e(xO,"New document in limbo: "+n),t.Eu.add(r),wO(t))}function wO(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Pe(Lt.fromString(e)),r=t.fu.next();t.Au.set(r,new tce(n)),t.du=t.du.insert(n,r),w8(t.remoteStore,new cc(Ua(rO(n.path)),r,"TargetPurposeLimboResolution",bw.ce))}}async function Zg(t,e,n){const r=We(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{a.push(r.pu(c,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){i.push(d);const f=dO.As(c.targetId,d);s.push(f)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(c,d){const f=We(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>fe.forEach(d,(g=>fe.forEach(g.Es,(v=>f.persistence.referenceDelegate.addReference(p,g.targetId,v))).next((()=>fe.forEach(g.ds,(v=>f.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))))))}catch(p){if(!Vh(p))throw p;_e(fO,"Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const v=f.Ms.get(g),b=v.snapshotVersion,T=v.withLastLimboFreeSnapshotVersion(b);f.Ms=f.Ms.insert(g,T)}}})(r.localStore,s))}async function hce(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){_e(xO,"User change. New user:",e.toKey());const r=await y8(n.localStore,e);n.currentUser=e,(function(s,a){s.mu.forEach((l=>{l.forEach((c=>{c.reject(new Te(de.CANCELLED,a))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zg(n,r.Ls)}}function pce(t,e){const n=We(t),r=n.Au.get(e);if(r&&r.hu)return ot().add(r.key);{let i=ot();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const l=n.Tu.get(a);i=i.unionWith(l.view.nu)}return i}}function L8(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=I8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pce.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cce.bind(null,e),e.Pu.H_=Qle.bind(null,e.eventManager),e.Pu.yu=Jle.bind(null,e.eventManager),e}function mce(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uce.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dce.bind(null,e),e}class Nb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Aw(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ble(this.persistence,new gle,e.initialUser,this.serializer)}Cu(e){return new g8(uO.mi,this.serializer)}Du(e){return new _le}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nb.provider={build:()=>new Nb};class gce extends Nb{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){vt(this.persistence.referenceDelegate instanceof Cb,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tle(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mi.withCacheSize(this.cacheSizeBytes):mi.DEFAULT;return new g8((r=>Cb.mi(r,n)),this.serializer)}}class bA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>y5(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hce.bind(null,this.syncEngine),await Kle(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Xle})()}createDatastore(e){const n=Aw(e.databaseInfo.databaseId),r=(function(s){return new Mle(s)})(e.databaseInfo);return(function(s,a,l,c){return new Ple(s,a,l,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,l){return new Lle(r,i,s,a,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>y5(this.syncEngine,n,0)),(function(){return d5.v()?new d5:new Ale})())}createSyncEngine(e,n){return(function(i,s,a,l,c,d,f){const p=new nce(i,s,a,l,c,d);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=We(n);_e(wd,"RemoteStore shutting down."),r.Ea.add(5),await Jg(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bA.provider={build:()=>new bA};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic="FirestoreClient";class yce{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vr.UNAUTHENTICATED,this.clientId=Q2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{_e(Ic,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(_e(Ic,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vO(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function hE(t,e){t.asyncQueue.verifyOperationInProgress(),_e(Ic,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await y8(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function b5(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vce(t);_e(Ic,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>h5(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>h5(e.remoteStore,i))),t._onlineComponents=e}async function vce(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(Ic,"Using user provided OfflineComponentProvider");try{await hE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;fh("Error using user provided cache. Falling back to memory cache: "+n),await hE(t,new Nb)}}else _e(Ic,"Using default OfflineComponentProvider"),await hE(t,new gce(void 0));return t._offlineComponents}async function B8(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(Ic,"Using user provided OnlineComponentProvider"),await b5(t,t._uninitializedComponentsProvider._online)):(_e(Ic,"Using default OnlineComponentProvider"),await b5(t,new bA))),t._onlineComponents}function bce(t){return B8(t).then((e=>e.syncEngine))}async function xA(t){const e=await B8(t),n=e.eventManager;return n.onListen=rce.bind(null,e.syncEngine),n.onUnlisten=ace.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ice.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oce.bind(null,e.syncEngine),n}function xce(t,e,n={}){const r=new vc;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,l,c,d){const f=new V8({next:g=>{f.Nu(),a.enqueueAndForget((()=>C8(s,p))),g.fromCache&&c.source==="server"?d.reject(new Te(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new O8(l,f,{includeMetadataChanges:!0,qa:!0});return A8(s,p)})(await xA(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8="firestore.googleapis.com",w5=!0;class S5{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U8,this.ssl=w5}else this.host=e.host,this.ssl=e.ssl??w5;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=m8;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Zoe)throw new Te(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rae("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=z8(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Te(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Te(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Te(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nw{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S5(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _ae;switch(r.type){case"firstParty":return new Nae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=x5.get(n);r&&(_e("ComponentProvider","Removing Datastore"),x5.delete(n),r.terminate())})(this),Promise.resolve()}}function wce(t,e,n,r={}){t=Es(t,Nw);const i=Ih(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(j9(`https://${l}`),I9("Firestore",!0)),s.host!==U8&&s.host!==l&&fh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:i,emulatorOptions:r};if(!gd(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Vr.MOCK_USER;else{d=Lne(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Te(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Vr(p)}t._authCredentials=new Aae(new AF(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qc(this.firestore,e,this._query)}}class En{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}toJSON(){return{type:En._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Yg(n,En._jsonSchema))return new En(e,r||null,new Pe(Lt.fromString(n.referencePath)))}}En._jsonSchemaVersion="firestore/documentReference/1.0",En._jsonSchema={type:Ln("string",En._jsonSchemaVersion),referencePath:Ln("string")};class bc extends qc{constructor(e,n,r){super(e,n,rO(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new Pe(e))}withConverter(e){return new bc(this.firestore,e,this._path)}}function wA(t,e,...n){if(t=Wn(t),CF("collection","path",e),t instanceof Nw){const r=Lt.fromString(e,...n);return P4(r),new bc(t,null,r)}{if(!(t instanceof En||t instanceof bc))throw new Te(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return P4(r),new bc(t.firestore,null,r)}}function Ys(t,e,...n){if(t=Wn(t),arguments.length===1&&(e=Q2.newId()),CF("doc","path",e),t instanceof Nw){const r=Lt.fromString(e,...n);return D4(r),new En(t,null,new Pe(r))}{if(!(t instanceof En||t instanceof bc))throw new Te(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return D4(r),new En(t.firestore,t instanceof bc?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5="AsyncQueue";class E5{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new b8(this,"async_queue_retry"),this._c=()=>{const r=fE();r&&_e(T5,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=fE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=fE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vh(e))throw e;_e(T5,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Wo("INTERNAL UNHANDLED ERROR: ",k5(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=yO.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ue(47125,{Pc:k5(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function k5(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Dc extends Nw{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new E5,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E5(e),this._firestoreClient=void 0,await e}}}function Sce(t,e){const n=typeof t=="object"?t:L9(),r=typeof t=="string"?t:Tb,i=U2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Pne("firestore");s&&wce(i,...s)}return i}function SO(t){if(t._terminated)throw new Te(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Tce(t),t._firestoreClient}function Tce(t){const e=t._freezeSettings(),n=(function(i,s,a,l){return new Gae(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,z8(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new yce(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vs(Or.fromBase64String(e))}catch(n){throw new Te(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vs(Or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yg(e,vs._jsonSchema))return vs.fromBase64String(e.bytes)}}vs._jsonSchemaVersion="firestore/bytes/1.0",vs._jsonSchema={type:Ln("string",vs._jsonSchemaVersion),bytes:Ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$a._jsonSchemaVersion}}static fromJSON(e){if(Yg(e,$a._jsonSchema))return new $a(e.latitude,e.longitude)}}$a._jsonSchemaVersion="firestore/geoPoint/1.0",$a._jsonSchema={type:Ln("string",$a._jsonSchemaVersion),latitude:Ln("number"),longitude:Ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ha._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yg(e,Ha._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ha(e.vectorValues);throw new Te(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ha._jsonSchemaVersion="firestore/vectorValue/1.0",Ha._jsonSchema={type:Ln("string",Ha._jsonSchemaVersion),vectorValues:Ln("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ece=/^__.*__$/;class kce{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Hc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xg(e,this.data,n,this.fieldTransforms)}}class F8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Hc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $8(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:t})}}class TO{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new TO({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($8(this.Ac)&&Ece.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _ce{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Aw(e)}Cc(e,n,r,i=!1){return new TO({Ac:e,methodName:n,Dc:r,path:kr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iw(t){const e=t._freezeSettings(),n=Aw(t._databaseId);return new _ce(t._databaseId,!!e.ignoreUndefinedProperties,n)}function H8(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);kO("Data must be an object, but it was:",a,r);const l=q8(r,a);let c,d;if(s.merge)c=new Fi(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const g=SA(e,p,n);if(!a.contains(g))throw new Te(de.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);G8(f,g)||f.push(g)}c=new Fi(f),d=a.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,d=a.fieldTransforms;return new kce(new yi(l),c,d)}class Dw extends jw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dw}}class EO extends jw{_toFieldTransform(e){return new boe(e.path,new lg)}isEqual(e){return e instanceof EO}}function Ace(t,e,n,r){const i=t.Cc(1,e,n);kO("Data must be an object, but it was:",i,r);const s=[],a=yi.empty();$c(r,((c,d)=>{const f=_O(e,c,n);d=Wn(d);const p=i.yc(f);if(d instanceof Dw)s.push(f);else{const g=e0(d,p);g!=null&&(s.push(f),a.set(f,g))}}));const l=new Fi(s);return new F8(a,l,i.fieldTransforms)}function Cce(t,e,n,r,i,s){const a=t.Cc(1,e,n),l=[SA(e,r,n)],c=[i];if(s.length%2!=0)throw new Te(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(SA(e,s[g])),c.push(s[g+1]);const d=[],f=yi.empty();for(let g=l.length-1;g>=0;--g)if(!G8(d,l[g])){const v=l[g];let b=c[g];b=Wn(b);const T=a.yc(v);if(b instanceof Dw)d.push(v);else{const S=e0(b,T);S!=null&&(d.push(v),f.set(v,S))}}const p=new Fi(d);return new F8(f,p,a.fieldTransforms)}function Oce(t,e,n,r=!1){return e0(n,t.Cc(r?4:3,e))}function e0(t,e){if(W8(t=Wn(t)))return kO("Unsupported field value:",e,t),q8(t,e);if(t instanceof jw)return(function(r,i){if(!$8(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const l of r){let c=e0(l,i.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Wn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return goe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ot.fromDate(r);return{timestampValue:Ab(i.serializer,s)}}if(r instanceof Ot){const s=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ab(i.serializer,s)}}if(r instanceof $a)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vs)return{bytesValue:l8(i.serializer,r._byteString)};if(r instanceof En){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:lO(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ha)return(function(a,l){return{mapValue:{fields:{[LF]:{stringValue:VF},[Eb]:{arrayValue:{values:a.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return iO(l.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${vw(r)}`)})(t,e)}function q8(t,e){const n={};return MF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$c(t,((r,i)=>{const s=e0(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function W8(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ot||t instanceof $a||t instanceof vs||t instanceof En||t instanceof jw||t instanceof Ha)}function kO(t,e,n){if(!W8(n)||!OF(n)){const r=vw(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function SA(t,e,n){if((e=Wn(e))instanceof Mw)return e._internalPath;if(typeof e=="string")return _O(t,e);throw Mb("Field path arguments must be of type string or ",t,!1,void 0,n)}const Nce=new RegExp("[~\\*/\\[\\]]");function _O(t,e,n){if(e.search(Nce)>=0)throw Mb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mw(...e.split("."))._internalPath}catch{throw Mb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mb(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Te(de.INVALID_ARGUMENT,l+t+c)}function G8(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Mce(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(AO("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Mce extends K8{data(){return super.data()}}function AO(t,e){return typeof e=="string"?_O(t,e):e instanceof Mw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class CO{}class X8 extends CO{}function TA(t,e,...n){let r=[];e instanceof CO&&r.push(e),r=r.concat(n),(function(s){const a=s.filter((c=>c instanceof NO)).length,l=s.filter((c=>c instanceof OO)).length;if(a>1||a>0&&l>0)throw new Te(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class OO extends X8{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new OO(e,n,r)}_apply(e){const n=this._parse(e);return J8(e._query,n),new qc(e.firestore,e.converter,cA(e._query,n))}_parse(e){const n=Iw(e.firestore);return(function(s,a,l,c,d,f,p){let g;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Te(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){C5(p,f);const b=[];for(const T of p)b.push(A5(c,s,T));g={arrayValue:{values:b}}}else g=A5(c,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||C5(p,f),g=Oce(l,a,p,f==="in"||f==="not-in");return Rn.create(d,f,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class NO extends CO{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new NO(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ia.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let a=i;const l=s.getFlattenedFilters();for(const c of l)J8(a,c),a=cA(a,c)})(e._query,n),new qc(e.firestore,e.converter,cA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class MO extends X8{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new MO(e,n)}_apply(e){const n=(function(i,s,a){if(i.startAt!==null)throw new Te(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Te(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new og(s,a)})(e._query,this._field,this._direction);return new qc(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new Bh(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Q8(t,e="asc"){const n=e,r=AO("orderBy",t);return MO._create(r,n)}function A5(t,e,n){if(typeof(n=Wn(n))=="string"){if(n==="")throw new Te(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WF(e)&&n.indexOf("/")!==-1)throw new Te(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Lt.fromString(n));if(!Pe.isDocumentKey(r))throw new Te(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $4(t,new Pe(r))}if(n instanceof En)return $4(t,n._key);throw new Te(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vw(n)}.`)}function C5(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function J8(t,e){const n=(function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Te(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jce{convertValue(e,n="none"){switch(Mc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $c(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Eb].arrayValue?.values?.map((r=>Tn(r.doubleValue)));return new Ha(n)}convertGeoPoint(e){return new $a(Tn(e.latitude),Tn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ww(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ig(e));default:return null}}convertTimestamp(e){const n=Oc(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lt.fromString(e);vt(p8(r),9688,{name:e});const i=new sg(r.get(1),r.get(3)),s=new Pe(r.popFirst(5));return i.isEqual(n)||Wo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ym{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class id extends K8{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(AO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=id._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}id._jsonSchemaVersion="firestore/documentSnapshot/1.0",id._jsonSchema={type:Ln("string",id._jsonSchemaVersion),bundleSource:Ln("string","DocumentSnapshot"),bundleName:Ln("string"),bundle:Ln("string")};class Yv extends id{data(e={}){return super.data(e)}}class sd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ym(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Yv(this._firestore,this._userDataWriter,r.key,r,new ym(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((l=>{const c=new Yv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ym(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const c=new Yv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ym(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:Ice(l.type),doc:c,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Q2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ice(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}sd._jsonSchemaVersion="firestore/querySnapshot/1.0",sd._jsonSchema={type:Ln("string",sd._jsonSchemaVersion),bundleSource:Ln("string","QuerySnapshot"),bundleName:Ln("string"),bundle:Ln("string")};class jO extends jce{constructor(e){super(),this.firestore=e}convertBytes(e){return new vs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,n)}}function Dce(t){t=Es(t,qc);const e=Es(t.firestore,Dc),n=SO(e),r=new jO(e);return Y8(t._query),xce(n,t._query).then((i=>new sd(e,r,t,i)))}function O5(t,e,n){t=Es(t,En);const r=Es(t.firestore,Dc),i=Z8(t.converter,e,n);return Pw(r,[H8(Iw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ks.none())])}function jb(t,e,n,...r){t=Es(t,En);const i=Es(t.firestore,Dc),s=Iw(i);let a;return a=typeof(e=Wn(e))=="string"||e instanceof Mw?Cce(s,"updateDoc",t._key,e,n,r):Ace(s,"updateDoc",t._key,e),Pw(i,[a.toMutation(t._key,ks.exists(!0))])}function EA(t){return Pw(Es(t.firestore,Dc),[new sO(t._key,ks.none())])}function e$(t,e){const n=Es(t.firestore,Dc),r=Ys(t),i=Z8(t.converter,e);return Pw(n,[H8(Iw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ks.exists(!1))]).then((()=>r))}function N5(t,...e){t=Wn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||_5(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(_5(e[r])){const c=e[r];e[r]=c.next?.bind(c),e[r+1]=c.error?.bind(c),e[r+2]=c.complete?.bind(c)}let s,a,l;if(t instanceof En)a=Es(t.firestore,Dc),l=rO(t._key.path),s={next:c=>{e[r]&&e[r](Pce(a,t,c))},error:e[r+1],complete:e[r+2]};else{const c=Es(t,qc);a=Es(c.firestore,Dc),l=c._query;const d=new jO(a);s={next:f=>{e[r]&&e[r](new sd(a,d,c,f))},error:e[r+1],complete:e[r+2]},Y8(t._query)}return(function(d,f,p,g){const v=new V8(g),b=new O8(f,v,p);return d.asyncQueue.enqueueAndForget((async()=>A8(await xA(d),b))),()=>{v.Nu(),d.asyncQueue.enqueueAndForget((async()=>C8(await xA(d),b)))}})(SO(a),l,i,s)}function Pw(t,e){return(function(r,i){const s=new vc;return r.asyncQueue.enqueueAndForget((async()=>lce(await bce(r),i,s))),s.promise})(SO(t),e)}function Pce(t,e,n){const r=n.docs.get(e._key),i=new jO(t);return new id(t,i,e._key,r,new ym(n.hasPendingWrites,n.fromCache),e.converter)}function sv(){return new EO("serverTimestamp")}(function(e,n=!0){(function(i){Rh=i})(Dh),dh(new yd("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new Dc(new Cae(r.getProvider("auth-internal")),new Mae(a,r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Te(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sg(d.options.projectId,f)})(a,i),a);return s={useFetchStreams:n,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),gc(N4,M4,e),gc(N4,M4,"esm2020")})();var Rce="firebase",Lce="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gc(Rce,Lce,"app");const Vce={apiKey:"AIzaSyDrWCHmSHWYwWNjDYYqbV1lASEiJbXeT8U",authDomain:"personal-dashboard-e8c8f.firebaseapp.com",projectId:"personal-dashboard-e8c8f",storageBucket:"personal-dashboard-e8c8f.firebasestorage.app",messagingSenderId:"906260519522",appId:"1:906260519522:web:f7d2e9666e3ee20d260f3b",measurementId:"G-R2Z1CJ9TW6"},t$=R9(Vce),Rm=Is(t$),Vi=Sce(t$),Eo="default-app-id",pE=[{name:"Default",textClass:"text-neutral-800 dark:text-neutral-200",bgClass:"bg-neutral-500"},{name:"Sky",textClass:"text-sky-500",bgClass:"bg-sky-500"},{name:"Emerald",textClass:"text-emerald-500",bgClass:"bg-emerald-500"},{name:"Rose",textClass:"text-rose-500",bgClass:"bg-rose-500"},{name:"Amber",textClass:"text-amber-500",bgClass:"bg-amber-500"},{name:"Violet",textClass:"text-violet-500",bgClass:"bg-violet-500"}],Kf={green:{text:"text-emerald-500",glowColors:{c1:"#a7f3d0",c2:"#6ee7b7",c3:"#34d399"}},blue:{text:"text-sky-500",glowColors:{c1:"#bae6fd",c2:"#7dd3fc",c3:"#38bdf8"}},rose:{text:"text-rose-500",glowColors:{c1:"#fecdd3",c2:"#fda4af",c3:"#f43f5e"}},amber:{text:"text-amber-500",glowColors:{c1:"#fde68a",c2:"#fcd34d",c3:"#f59e0b"}},violet:{text:"text-violet-500",glowColors:{c1:"#d8b4fe",c2:"#c084fc",c3:"#a855f7"}}},n$=(t,e)=>wA(Vi,"artifacts","default-app-id","users",t,e),Bce=t=>{if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},zce=(t="")=>t?t.split(" ").map(e=>e.charAt(0)).slice(0,2).join("").toUpperCase():"??",r$=t=>{if(!t||typeof t!="string")return"#";const e=t.trim();return e.startsWith("https://")||e.startsWith("http://")||e.startsWith("//")?e:`//${e}`},Uce=(t,e=24)=>t?t.length<=e?t:t.slice(0,e-3).trim()+"...":"",Fce=t=>!t||isNaN(t)?{comment:"",color:"text-slate-400",iconName:null}:t<18.5?{comment:"Time to power up!",iconName:"Zap",color:"text-cyan-400"}:t<25?{comment:"You're in the sweet spot.",iconName:"ThumbsUp",color:"text-green-400"}:t<30?{comment:"Every choice is a win.",iconName:"Award",color:"text-yellow-400"}:{comment:"Focused on health.",iconName:"Heart",color:"text-red-400"},IO=async(t,e,n,r)=>{if(!t)return;const i=[...n.subTasks];i[r].completed=!i[r].completed;const s=Ys(Vi,"artifacts","default-app-id","users",t,e,n.id);return await jb(s,{subTasks:i,updatedAt:Ot.now()}),i},Os=async(t,e)=>{if(!t)return[];try{const n=TA(n$(t,e),Q8("createdAt","desc"));return(await Dce(n)).docs.map(i=>({id:i.id,...i.data()}))}catch(n){return console.error("Error fetching:",n),[]}},en=async(t,e,n,r=!1)=>{if(!t)throw new Error("User ID missing");const i={...n,updatedAt:Ot.now()};if(i.id||delete i.id,i.createdAt===void 0&&delete i.createdAt,r){const s=Ys(Vi,"artifacts","default-app-id","users",t,e,n.id);return await jb(s,i),{id:n.id,...i}}else return i.createdAt=Ot.now(),{id:(await e$(n$(t,e),i)).id,...i}},aa=async(t,e,n)=>{if(!t)return;const r=Ys(Vi,"artifacts","default-app-id","users",t,e,n);return await EA(r),n},Wc=t=>{if(!t||t.length===0)return 0;const e=t.filter(n=>n.completed).length;return Math.round(e/t.length*100)},$ce=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275Z"})}),i$=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"m9 18 6-6-6-6"})}),Hce=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),m.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]}),qce=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z"}),m.jsx("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]}),s$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-spin",...t,children:m.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),a$=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),m.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),Wce=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),Gce=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"m6 9 6 6 6-6"})}),M5=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}),m.jsx("path",{d:"M16 14v6"}),m.jsx("path",{d:"M8 14v6"}),m.jsx("path",{d:"M12 16v6"})]}),Kce=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M18 6 6 18"}),m.jsx("path",{d:"m6 6 12 12"})]}),Yce=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"13.5",cy:"6.5",r:".5"}),m.jsx("circle",{cx:"17.5",cy:"10.5",r:".5"}),m.jsx("circle",{cx:"8.5",cy:"7.5",r:".5"}),m.jsx("circle",{cx:"6.5",cy:"12.5",r:".5"}),m.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"})]}),Xce=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"2",x2:"22",y1:"12",y2:"12"}),m.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),Qce=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"6",x2:"10",y1:"12",y2:"12"}),m.jsx("line",{x1:"8",x2:"8",y1:"10",y2:"14"}),m.jsx("line",{x1:"15",x2:"15.01",y1:"13",y2:"13"}),m.jsx("line",{x1:"18",x2:"18.01",y1:"11",y2:"11"}),m.jsx("rect",{width:"20",height:"12",x:"2",y:"6",rx:"2"})]}),Jce=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),m.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]}),o$=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),m.jsx("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),m.jsx("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]}),Gc=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"})}),Gn=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M5 12h14"}),m.jsx("path",{d:"M12 5v14"})]}),mE=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),m.jsx("polyline",{points:"16 7 22 7 22 13"})]}),j5=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7"}),m.jsx("polyline",{points:"16 17 22 17 22 11"})]}),Rw=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"1"}),m.jsx("circle",{cx:"19",cy:"12",r:"1"}),m.jsx("circle",{cx:"5",cy:"12",r:"1"})]}),t0=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"1"}),m.jsx("circle",{cx:"19",cy:"12",r:"1"}),m.jsx("circle",{cx:"5",cy:"12",r:"1"})]}),Zr=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),m.jsx("path",{d:"m15 5 4 4"})]}),ei=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M3 6h18"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),m.jsx("path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),m.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),m.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]}),Lw=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),m.jsx("path",{d:"m9 12 2 2 4-4"})]}),Wi=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),gs=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"m15 18-6-6 6-6"})}),Vw=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M12 5a3 3 0 1 0-5.993.142"}),m.jsx("path",{d:"M18 5a3 3 0 1 0-5.993.142"}),m.jsx("path",{d:"M21 12a3 3 0 1 0-.142-5.993"}),m.jsx("path",{d:"M21 12a3 3 0 1 0 .142 5.993"}),m.jsx("path",{d:"M12 19a3 3 0 1 0 5.993-.142"}),m.jsx("path",{d:"M6 19a3 3 0 1 0 5.993-.142"}),m.jsx("path",{d:"M3 12a3 3 0 1 0 .142 5.993"}),m.jsx("path",{d:"M3 12a3 3 0 1 0-.142-5.993"}),m.jsx("path",{d:"M12 5a3 3 0 0 0 6 0"}),m.jsx("path",{d:"M12 5a3 3 0 0 1 6 0"}),m.jsx("path",{d:"M14.5 5.5A.5.5 0 0 1 15 5h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),m.jsx("path",{d:"M9.5 5.5A.5.5 0 0 1 10 5h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),m.jsx("path",{d:"M18 7.3a.5.5 0 0 0 .5-.5v0a.5.5 0 0 0-.5-.5h0a.5.5 0 0 0-.5.5Z"}),m.jsx("path",{d:"M19.7 9.5A.5.5 0 0 1 20 9h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),m.jsx("path",{d:"M19.7 14.5a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5v0a.5.5 0 0 0-.5-.5h0a.5.5 0 0 0-.5.5Z"}),m.jsx("path",{d:"M18 16.7a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),m.jsx("path",{d:"M14.5 18.5a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5v0a.5.5 0 0 0-.5-.5h0a.5.5 0 0 0-.5.5Z"}),m.jsx("path",{d:"M9.5 18.5a.5.5 0 0 1 .5-.5h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),m.jsx("path",{d:"M6 16.7a.5.5 0 0 0-.5.5v0a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5Z"}),m.jsx("path",{d:"M4.3 14.5a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5v0a.5.5 0 0 1 .5-.5h0a.5.5 0 0 1 .5.5Z"}),m.jsx("path",{d:"M4.3 9.5A.5.5 0 0 0 4 9h0a.5.5 0 0 0-.5.5v0a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5Z"}),m.jsx("path",{d:"M6 7.3a.5.5 0 0 1-.5-.5v0a.5.5 0 0 1 .5-.5h0a.5.5 0 0 1 .5.5Z"}),m.jsx("path",{d:"M12 12v0a3 3 0 0 0-3-3v0a3 3 0 0 0-3 3v0a3 3 0 0 0 3 3v0a3 3 0 0 0 3-3Z"}),m.jsx("path",{d:"M12 12h0a3 3 0 0 1 3 3v0a3 3 0 0 1-3 3v0a3 3 0 0 1-3-3v0a3 3 0 0 1 3-3Z"})]}),oa=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),m.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),m.jsx("path",{d:"M4 22h16"}),m.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),m.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),m.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),kA=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),sa=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("circle",{cx:"12",cy:"12",r:"6"}),m.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),to=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("circle",{cx:"12",cy:"12",r:"10"})}),Ib=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"4"}),m.jsx("path",{d:"M12 2v2"}),m.jsx("path",{d:"M12 20v2"}),m.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),m.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),m.jsx("path",{d:"M2 12h2"}),m.jsx("path",{d:"M20 12h2"}),m.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),m.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),Zce=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}),Lm=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),m.jsx("path",{d:"M12 9v4"}),m.jsx("path",{d:"M12 17h.01"})]}),eue=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"m5 8 6 6"}),m.jsx("path",{d:"m4 14 6-6 2-3"}),m.jsx("path",{d:"M2 5h12"}),m.jsx("path",{d:"M7 2h1"}),m.jsx("path",{d:"m22 22-5-10-5 10"}),m.jsx("path",{d:"M14 18h6"})]}),tue=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{width:"14",height:"8",x:"5",y:"2",rx:"2"}),m.jsx("rect",{width:"20",height:"12",x:"2",y:"10",rx:"2"}),m.jsx("path",{d:"M6 18h2"}),m.jsx("path",{d:"M16 18h2"})]}),l$=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"8",r:"6"}),m.jsx("path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11"})]}),xc=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),m.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),Bw=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"m16 18 6-6-6-6"}),m.jsx("path",{d:"m8 6-6 6 6 6"})]}),n0=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M14.4 14.4 9.6 9.6"}),m.jsx("path",{d:"M18.657 5.343a2 2 0 1 0-2.829-2.828"}),m.jsx("path",{d:"m21.5 8.3-2.8-2.8"}),m.jsx("path",{d:"M8.3 21.5l-2.8-2.8"}),m.jsx("path",{d:"M5.343 18.657a2 2 0 1 0 2.829 2.828"}),m.jsx("path",{d:"M12 12V2l-2.8 2.8"}),m.jsx("path",{d:"m14.8 14.8 2.8 2.8"}),m.jsx("path",{d:"M12 12H2l2.8-2.8"}),m.jsx("path",{d:"m9.2 9.2-2.8-2.8"})]}),dg=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),m.jsx("line",{x1:"4",x2:"4",y1:"22",y2:"15"})]}),I5=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"}),m.jsx("path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"}),m.jsx("path",{d:"M7 21h10"}),m.jsx("path",{d:"M12 3v18"}),m.jsx("path",{d:"M3 7h18"})]}),nue=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L3 8.4a2.4 2.4 0 0 1 0-3.4l2.6-2.6a2.4 2.4 0 0 1 3.4 0Z"}),m.jsx("path",{d:"m14.5 12.5 2-2"}),m.jsx("path",{d:"m11.5 9.5 2-2"}),m.jsx("path",{d:"m8.5 6.5 2-2"}),m.jsx("path",{d:"m17.5 15.5 2-2"})]}),rue=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 2v6c0 7 4 8 8 8Z"}),m.jsx("path",{d:"M14 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2h-4c-1.25 0-2 .75-2 2v6c0 7 4 8 8 8Z"})]}),Si=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),vh=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"10",r:"4"}),m.jsx("path",{d:"M12 14c-3.33 0-10 1.67-10 5v2h20v-2c0-3.33-6.67-5-10-5Z"}),m.jsx("path",{d:"M12 22v-2"}),m.jsx("path",{d:"M16 22v-2"}),m.jsx("path",{d:"M8 22v-2"}),m.jsx("path",{d:"M2 18h20"}),m.jsx("path",{d:"M12 2a5 5 0 0 0-5 5v3h10V7a5 5 0 0 0-5-5Z"})]}),DO=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M7 10v12"}),m.jsx("path",{d:"M18 10V4a2 2 0 0 0-2-2H8.5a2 2 0 0 0-1.9.9L3 10v10h12.5a2.5 2.5 0 0 0 2.5-2.5V10Z"})]}),iue=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),m.jsx("polyline",{points:"16 17 21 12 16 7"}),m.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),c$=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z"}),m.jsx("path",{d:"m6.2 5.3 3.1 3.9"}),m.jsx("path",{d:"m12.4 3.6 3.1 3.9"}),m.jsx("path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z"})]}),zw=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M9 18V5l12-2v13"}),m.jsx("circle",{cx:"6",cy:"18",r:"3"}),m.jsx("circle",{cx:"18",cy:"16",r:"3"})]}),Db=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"18",x2:"22",y1:"2",y2:"6"}),m.jsx("path",{d:"M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z"})]}),u$=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M12 21.35A5 5 0 0 1 7 19.35V16a5 5 0 0 1 10 0v3.35a5 5 0 0 1-5 2z"}),m.jsx("path",{d:"M12 4V2"}),m.jsx("path",{d:"M17 6V2"}),m.jsx("path",{d:"M7 6V2"})]}),d$=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"})}),PO=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-5 2.5-5C6.5 3 7 5 7 5c0 1.79-1.18 3.24-2.5 4S3 12.38 3 14v2"}),m.jsx("path",{d:"M7 19.82c-1.5-1.3-2.5-3.04-2.5-5.32 0-2.04 1-3.5 2.5-4.5C8.5 8.96 10.5 11 10.5 13c0 1.54-.37 2.94-1 4.14"}),m.jsx("path",{d:"M20 16v-2.38c0-2.12 1.03-3.12 1-5.5s-1.47-5-2.5-5C17.5 3 17 5 17 5c0 1.79 1.18 3.24 2.5 4s1.5 2.58 1.5 4v2"}),m.jsx("path",{d:"M17 19.82c1.5-1.3 2.5-3.04 2.5-5.32 0-2.04-1-3.5-2.5-4.5-1.5 1.04-3.5 3-3.5 5 0 1.54.37 2.94 1 4.14"})]}),sue=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),m.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),m.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),m.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),f$=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.72"}),m.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.72-1.72"})]}),aue=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),m.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),oue={Default:to,Zap:Wi,Code:Bw,Dumbbell:n0,Book:xc,Flag:dg,Heart:Gc,Star:Si,Trophy:oa,Music:zw,Computer:tue},Ds=({children:t,onClose:e})=>m.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm",onClick:e,children:t}),Et=t=>m.jsx("input",{...t,className:`w-full p-2.5 bg-black/5 dark:bg-white/5 rounded-xl backdrop-blur-sm border border-transparent focus:border-black/10 dark:focus:border-white/20 focus:bg-white/50 dark:focus:bg-black/40 focus:ring-0 focus:outline-none transition-all placeholder-neutral-400 dark:placeholder-neutral-500 ${t.className||""}`}),h$=({value:t,onChange:e,iconMap:n})=>{const[r,i]=_.useState(!1),s=_.useRef(null),a=n[t]||to;return _.useEffect(()=>{const l=c=>{s.current&&!s.current.contains(c.target)&&i(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),m.jsxs("div",{className:"relative z-50",ref:s,children:[m.jsx("button",{type:"button",onClick:()=>i(!r),className:"flex items-center justify-center p-2 bg-neutral-200 dark:bg-neutral-800 rounded-md",children:m.jsx(a,{className:"w-5 h-5 text-blue-500"})}),m.jsx(Wt,{children:r&&m.jsx(Xe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute bottom-full mb-1 w-64 bg-white dark:bg-neutral-700 rounded-md shadow-lg z-[100] p-2 grid grid-cols-5 gap-2",children:Object.keys(n).map(l=>{const c=n[l];return m.jsx("button",{type:"button",onClick:()=>{e(l),i(!1)},className:"p-2 rounded hover:bg-neutral-100 dark:hover:bg-neutral-600 flex justify-center",children:m.jsx(c,{className:"w-5 h-5 text-blue-500"})},l)})})})]})},r0=({isHOF:t,onToggle:e,theme:n="orange"})=>{const r={orange:"text-amber-500",sky:"text-sky-500",teal:"text-teal-500",slate:"text-slate-500",violet:"text-violet-500",pink:"text-pink-500"},i=r[n]||r.orange;return m.jsxs("button",{onClick:e,className:"flex items-center gap-2 cursor-pointer w-full p-2 rounded-lg bg-black/5 dark:bg-white/5 backdrop-blur-sm border border-black/5 dark:border-white/10",children:[m.jsx(oa,{className:`w-5 h-5 transition-colors ${t?i:"text-neutral-400"}`}),m.jsx("span",{className:`transition-colors font-semibold ${t?i:"text-neutral-700 dark:text-neutral-300"}`,children:t?"In Hall of Fame":"Add to Hall of Fame"})]})},rl=({title:t,children:e,onClose:n,onSave:r,theme:i="blue",isHOF:s=!1,maxWidth:a="max-w-lg"})=>{const l={blue:{text:"text-blue-600 dark:text-blue-400",btn:"bg-blue-600 hover:bg-blue-700 shadow-blue-500/30"},red:{text:"text-red-600 dark:text-red-400",btn:"bg-red-600 hover:bg-red-700 shadow-red-500/30"},pink:{text:"text-pink-600 dark:text-pink-400",btn:"bg-pink-600 hover:bg-pink-700 shadow-pink-500/30"},violet:{text:"text-violet-600 dark:text-violet-400",btn:"bg-violet-600 hover:bg-violet-700 shadow-violet-500/30"},emerald:{text:"text-emerald-600 dark:text-emerald-400",btn:"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/30"},sky:{text:"text-sky-600 dark:text-sky-400",btn:"bg-sky-600 hover:bg-sky-700 shadow-sky-500/30"},teal:{text:"text-teal-600 dark:text-teal-400",btn:"bg-teal-600 hover:bg-teal-700 shadow-teal-500/30"},slate:{text:"text-slate-600 dark:text-slate-400",btn:"bg-slate-600 hover:bg-slate-700 shadow-slate-500/30"},orange:{text:"text-orange-600 dark:text-orange-400",btn:"bg-orange-600 hover:bg-orange-700 shadow-orange-500/30"}},c=l[i]||l.blue;return m.jsxs(Xe.div,{initial:{scale:.95,y:10},animate:{scale:1,y:0},exit:{scale:.95,y:10},className:`
                relative flex flex-col w-full ${a} max-h-[85vh] p-6 rounded-xl backdrop-blur-xl shadow-2xl transition-all overflow-hidden
                ${s?`bg-${i}-50/80 dark:bg-${i}-900/40 border border-${i}-400 shadow-[0_0_15px_rgba(167,139,250,0.3)]`:"bg-white/70 dark:bg-neutral-900/30 border border-neutral-200/50 dark:border-neutral-800/50"}
            `,onClick:d=>d.stopPropagation(),children:[m.jsx("div",{className:"shrink-0 mb-4",children:m.jsx("h3",{className:`text-xl font-bold ${c.text}`,children:t})}),m.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar pr-1 space-y-4 pb-20",children:e}),m.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 pt-4 flex justify-end gap-3 shrink-0 border-t border-black/5 dark:border-white/5 bg-gradient-to-t from-white via-white to-transparent dark:from-neutral-900 dark:via-neutral-900 z-50",children:[m.jsx("button",{onClick:n,className:"px-4 py-2 rounded-lg font-semibold text-neutral-600 dark:text-neutral-400 hover:bg-black/5 dark:hover:bg-white/10 transition-colors",children:"Cancel"}),m.jsx("button",{onClick:r,className:`px-6 py-2 rounded-lg text-white font-bold text-sm shadow-lg transition-all ${c.btn}`,children:"Save"})]})]})},RO=({isOpen:t,onClose:e,onSave:n,initialData:r,type:i="life"})=>{const[s,a]=_.useState({title:"",subTasks:[],year:"",month:"",day:"",...r}),[l,c]=_.useState({text:"",icon:"Default",color:pE[0].textClass});_.useEffect(()=>{t&&(a({title:"",subTasks:[],status:"in-progress",createdAt:new Date,...r}),c({text:"",icon:"Default",color:pE[0].textClass}))},[t,r]);const d=()=>{l.text.trim()&&(a(b=>({...b,subTasks:[...b.subTasks||[],{id:crypto.randomUUID(),...l,completed:!1}]})),c(b=>({...b,text:""})))},f=()=>{s.title.trim()&&(n(s),e())},g={life:"blue",important:"red",year_big:"slate"}[i]||"blue",v=r?.id?`Edit ${i==="year_big"?"Objective":"Goal"}`:`Create ${i==="year_big"?"Objective":"Goal"}`;return m.jsx(Ds,{onClose:e,children:m.jsxs(rl,{title:v,theme:g,onClose:e,onSave:f,isHOF:s.hallOfFame,children:[m.jsx(Et,{placeholder:"Title",value:s.title,onChange:b=>a({...s,title:b.target.value}),autoFocus:!0,className:"bg-slate-500/10 dark:bg-slate-900/20 backdrop-blur-md border-slate-500/20 text-slate-800 dark:text-slate-100 placeholder-slate-400"}),(i==="year_big"||i==="yearly")&&m.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[m.jsx(Et,{type:"number",placeholder:"Year",value:s.year||new Date().getFullYear(),onChange:b=>a({...s,year:Number(b.target.value)}),className:"bg-slate-500/10 dark:bg-slate-900/20 backdrop-blur-md border-slate-500/20"}),m.jsx("div",{className:"relative",children:m.jsxs("select",{className:"w-full p-2.5 bg-slate-500/10 dark:bg-slate-900/20 rounded-xl backdrop-blur-md border border-slate-500/20 focus:border-slate-400/50 focus:ring-0 focus:outline-none appearance-none text-slate-800 dark:text-slate-200",value:s.month||"",onChange:b=>a({...s,month:Number(b.target.value)}),children:[m.jsx("option",{value:"",className:"bg-slate-800 text-slate-200",children:"Month"}),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((b,T)=>m.jsx("option",{value:T+1,className:"bg-slate-800 text-slate-200",children:b},T))]})}),m.jsx(Et,{type:"number",placeholder:"Day",value:s.day||"",onChange:b=>a({...s,day:Number(b.target.value)}),className:"bg-slate-500/10 dark:bg-slate-900/20 backdrop-blur-md border-slate-500/20"})]}),m.jsxs("div",{className:"space-y-2 pt-2",children:[m.jsx("label",{className:"text-xs font-bold uppercase tracking-wider opacity-60 ml-1 text-slate-500 dark:text-slate-400",children:"Sub-tasks"}),m.jsx("div",{className:"space-y-2",children:(s.subTasks||[]).map(b=>m.jsxs("div",{className:"flex items-center gap-3 p-2 bg-slate-500/10 dark:bg-slate-900/30 rounded-lg group hover:bg-slate-500/20 transition-colors border border-transparent hover:border-slate-500/20",children:[m.jsx("div",{className:`w-2 h-2 rounded-full ml-1 ${b.color?b.color.replace("text-","bg-"):"bg-slate-400"}`}),m.jsx("span",{className:"flex-grow text-sm font-medium text-slate-700 dark:text-slate-200",children:b.text}),m.jsx("button",{onClick:()=>a({...s,subTasks:s.subTasks.filter(T=>T.id!==b.id)}),className:"opacity-0 group-hover:opacity-100 text-red-500 p-1 hover:bg-red-500/10 rounded",children:m.jsx(ei,{className:"w-4 h-4"})})]},b.id))}),m.jsx("div",{className:"flex gap-2 py-1 px-1 overflow-x-auto no-scrollbar relative z-10",children:pE.map(b=>m.jsx("button",{type:"button",onClick:()=>c({...l,color:b.textClass}),className:`w-5 h-5 rounded-full flex items-center justify-center transition-transform shrink-0 ${b.bgClass} ${l.color===b.textClass?"ring-2 ring-offset-2 ring-slate-400 scale-110 z-10":"opacity-60 hover:opacity-100"}`},b.name))}),m.jsxs("div",{className:"relative z-20 p-2 bg-slate-500/10 dark:bg-slate-900/20 rounded-xl flex items-center gap-2 border border-slate-500/20 focus-within:border-slate-400/50 transition-colors overflow-visible",children:[m.jsx("div",{className:"relative z-30",children:m.jsx(h$,{value:l.icon,onChange:b=>c({...l,icon:b}),iconMap:oue})}),m.jsx("input",{className:"bg-transparent flex-grow focus:outline-none text-sm px-1 placeholder-slate-400 text-slate-800 dark:text-slate-200",placeholder:"Add a new sub-task...",value:l.text,onChange:b=>c({...l,text:b.target.value}),onKeyDown:b=>b.key==="Enter"&&d()}),m.jsx("button",{onClick:d,className:`p-1.5 rounded-lg transition-colors text-white shadow-lg shadow-slate-900/20 ${g==="red"?"bg-red-500 hover:bg-red-600":"bg-slate-600 hover:bg-slate-500"}`,children:m.jsx(Gn,{className:"w-4 h-4"})})]})]})]})})},lue=({onComplete:t})=>{const e=_.useRef(null);return _.useEffect(()=>{const n=e.current,r=n.getContext("2d");let i;const s=1e3;let l=2,c=[],d=0;const f=()=>{n.width=window.innerWidth,n.height=window.innerHeight};window.addEventListener("resize",f),f();for(let b=0;b<s;b++)c.push({x:Math.random()*n.width-n.width/2,y:Math.random()*n.height-n.height/2,z:Math.random()*n.width});const p=n.width/2,g=n.height/2,v=()=>{l*=1.05,r.fillStyle="rgba(0, 0, 0, 0.4)",r.fillRect(0,0,n.width,n.height),l>100&&(d+=.05,r.fillStyle=`rgba(255, 255, 255, ${d})`,r.fillRect(0,0,n.width,n.height)),r.fillStyle="#ffffff";for(let b=0;b<s;b++){const T=c[b];T.z-=l,T.z<=0&&(T.x=Math.random()*n.width-n.width/2,T.y=Math.random()*n.height-n.height/2,T.z=n.width);const S=T.x/T.z*n.width+p,k=T.y/T.z*n.height+g,C=(1-T.z/n.width)*4,N=T.z+l*2,R=T.x/N*n.width+p,D=T.y/N*n.height+g;r.strokeStyle="rgba(255, 255, 255, 0.8)",r.lineWidth=C,r.beginPath(),r.moveTo(R,D),r.lineTo(S,k),r.stroke()}d<1?i=requestAnimationFrame(v):t()};return v(),()=>{window.removeEventListener("resize",f),cancelAnimationFrame(i)}},[t]),m.jsx(Xe.canvas,{ref:e,initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-50 pointer-events-none"})},cue=()=>m.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none opacity-[0.03] dark:opacity-[0.05]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}}),gE=({color:t,className:e,delay:n=0})=>m.jsx(Xe.div,{className:`absolute rounded-full mix-blend-multiply dark:mix-blend-screen filter blur-[80px] opacity-60 dark:opacity-40 ${e}`,style:{backgroundColor:t},animate:{x:[0,30,-20,0],y:[0,-40,20,0],scale:[1,1.1,.9,1]},transition:{duration:10,repeat:1/0,repeatType:"reverse",delay:n,ease:"easeInOut"}});function uue({onLogin:t,onSignUp:e,error:n,isLoading:r}){const[i,s]=_.useState(!0),[a,l]=_.useState(""),[c,d]=_.useState(""),[f,p]=_.useState(!1),[g,v]=_.useState({type:"",text:""}),[b,T]=_.useState(!1),S=async N=>{N.preventDefault(),v({type:"",text:""}),T(!0)},k=()=>{i?t(a,c):e(a,c)},C=async()=>{if(!a){v({type:"error",text:"Enter your email above first."});return}p(!0);try{await cse(Rm,a),v({type:"success",text:"Reset link sent to your inbox."})}catch{v({type:"error",text:"Failed to send. Try again."})}finally{p(!1)}};return m.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center overflow-hidden bg-neutral-50 dark:bg-[#050505] text-neutral-800 dark:text-neutral-100 selection:bg-cyan-500/30",children:[b&&m.jsx(lue,{onComplete:k}),m.jsx(cue,{}),m.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden",children:[m.jsx(gE,{color:"#22d3ee",className:"w-96 h-96 top-0 left-[-100px]",delay:0}),m.jsx(gE,{color:"#818cf8",className:"w-[500px] h-[500px] bottom-[-100px] right-[-100px]",delay:2}),m.jsx(gE,{color:"#f472b6",className:"w-80 h-80 top-[30%] right-[10%]",delay:4})]}),m.jsxs("div",{className:"relative z-10 w-full max-w-[420px] p-6",children:[m.jsxs(Xe.div,{animate:b?{scale:1.5,opacity:0,filter:"blur(10px)"}:{scale:1,opacity:1,filter:"blur(0px)"},transition:{duration:.8,ease:"anticipate"},className:`
                        relative overflow-hidden rounded-3xl
                        bg-white/70 dark:bg-black/40
                        backdrop-blur-2xl
                        border border-white/40 dark:border-white/10
                        shadow-[0_8px_30px_rgb(0,0,0,0.04)] dark:shadow-[0_8px_30px_rgb(0,0,0,0.2)]
                    `,children:[m.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/50 to-transparent opacity-50"}),m.jsxs("div",{className:"p-8 pt-10",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx(Xe.div,{initial:{scale:0},animate:{scale:1},className:"w-12 h-12 bg-gradient-to-br from-cyan-400 to-blue-600 rounded-xl mx-auto mb-4 flex items-center justify-center text-white shadow-lg shadow-cyan-500/30",children:m.jsx($ce,{className:"w-6 h-6"})}),m.jsx("h2",{className:"text-3xl font-black tracking-tight mb-2 bg-clip-text text-transparent bg-gradient-to-br from-neutral-900 to-neutral-500 dark:from-white dark:to-neutral-400",children:i?"Welcome Back":"Create Account"}),m.jsx("p",{className:"text-sm font-medium text-neutral-500 dark:text-neutral-400",children:i?"Enter your credentials to continue.":"Start your journey with us today."})]}),m.jsxs("form",{onSubmit:S,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"group relative",children:[m.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-400 group-focus-within:text-cyan-500 transition-colors",children:m.jsx(Hce,{className:"w-5 h-5"})}),m.jsx("input",{type:"email",placeholder:"Email address",value:a,onChange:N=>l(N.target.value),className:"w-full bg-white/50 dark:bg-black/20 border border-neutral-200 dark:border-white/10 rounded-xl py-3.5 pl-12 pr-4 outline-none focus:border-cyan-500/50 focus:ring-4 focus:ring-cyan-500/10 transition-all placeholder:text-neutral-400 font-medium",required:!0})]}),m.jsxs("div",{className:"group relative",children:[m.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-400 group-focus-within:text-cyan-500 transition-colors",children:m.jsx(qce,{className:"w-5 h-5"})}),m.jsx("input",{type:"password",placeholder:"Password",value:c,onChange:N=>d(N.target.value),className:"w-full bg-white/50 dark:bg-black/20 border border-neutral-200 dark:border-white/10 rounded-xl py-3.5 pl-12 pr-4 outline-none focus:border-cyan-500/50 focus:ring-4 focus:ring-cyan-500/10 transition-all placeholder:text-neutral-400 font-medium",required:!0})]})]}),m.jsxs(Wt,{mode:"wait",children:[n&&m.jsx(Xe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-3 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900/50 text-red-600 dark:text-red-300 text-xs font-bold text-center",children:n}),g.text&&m.jsx(Xe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`p-3 rounded-lg border text-xs font-bold text-center ${g.type==="error"?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-900/50 text-red-600":"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-900/50 text-green-600"}`,children:g.text})]}),m.jsx("button",{type:"submit",disabled:r||f||b,className:"w-full py-4 rounded-xl bg-neutral-900 dark:bg-white text-white dark:text-black font-bold text-sm hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-70 disabled:hover:scale-100 shadow-xl shadow-cyan-500/10 flex items-center justify-center gap-2 mt-2",children:r?m.jsx(s$,{className:"w-4 h-4 animate-spin"}):m.jsxs(m.Fragment,{children:[i?"Sign In":"Create Account",m.jsx(i$,{className:"w-4 h-4"})]})})]}),m.jsxs("div",{className:"mt-8 space-y-4",children:[i&&m.jsx("button",{onClick:C,disabled:f,className:"w-full text-xs font-bold text-neutral-400 hover:text-cyan-600 dark:hover:text-cyan-400 transition-colors",children:f?"Sending...":"Forgot your password?"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("div",{className:"w-full border-t border-neutral-200 dark:border-white/10"})}),m.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:m.jsx("span",{className:"bg-white/80 dark:bg-black/60 px-2 text-neutral-400 backdrop-blur-sm rounded",children:"Or"})})]}),m.jsx("button",{onClick:()=>{s(!i),v({type:"",text:""})},className:"w-full py-3 rounded-xl border border-neutral-200 dark:border-white/10 font-bold text-sm text-neutral-600 dark:text-neutral-300 hover:bg-neutral-50 dark:hover:bg-white/5 transition-all",children:i?"Create an account":"I already have an account"})]})]})]}),m.jsx("p",{className:"text-center text-[10px] font-bold text-neutral-400 mt-8 opacity-50",children:" 2025  SECURE ENVIRONMENT"})]})]})}const D5="386a5d656124b61695e7d6b71882a3d9",vm="Osaka",due={Default:to,Star:Si,Zap:Wi,Heart:Rw},fue=t=>t>=5&&t<11?"Rise and shine! The world awaits.":t>=11&&t<14?"Hope your day is going smoothly.":t>=14&&t<18?"Hope you're having a great afternoon!":t>=18&&t<22?"Time to wind down and reflect.":"Burning the midnight oil? Get some rest.",hue=({values:t})=>{const e=_.useMemo(()=>{if(!t||t.length===0)return[];const r=[...t];for(let i=r.length-1;i>0;i--){const s=Math.floor(Math.random()*(i+1));[r[i],r[s]]=[r[s],r[i]]}return r},[t]);if(e.length===0)return null;const n=[...e,...e,...e];return m.jsxs("div",{className:"w-full bg-neutral-900/95 border-b border-white/10 overflow-hidden py-2.5 mb-6 shadow-md backdrop-blur-md relative z-30",children:[m.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-neutral-900 to-transparent z-10"}),m.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-neutral-900 to-transparent z-10"}),m.jsx(Xe.div,{className:"flex items-center gap-12 whitespace-nowrap",animate:{x:[0,-1e3]},transition:{x:{repeat:1/0,repeatType:"loop",duration:60,ease:"linear"}},children:n.map((r,i)=>{const s=.4+(r.importance||5)/10*.6;return m.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold tracking-wider uppercase",style:{opacity:s},children:[m.jsx(Si,{className:"w-3.5 h-3.5 text-amber-400"}),m.jsx("span",{className:"text-neutral-200",children:r.value})]},i)})})]})},Gl=({icon:t,color:e,title:n,children:r,isLast:i=!1,collapsed:s=!1})=>{const[a,l]=_.useState(!s),c={red:"text-red-500 border-red-200 dark:border-red-900",blue:"text-blue-500 border-blue-200 dark:border-blue-900",green:"text-emerald-500 border-emerald-200 dark:border-emerald-900",amber:"text-amber-500 border-amber-200 dark:border-amber-900",violet:"text-violet-500 border-violet-200 dark:border-violet-900",sky:"text-sky-500 border-sky-200 dark:border-sky-900",slate:"text-neutral-500 border-neutral-200 dark:border-neutral-800",pink:"text-pink-500 border-pink-200 dark:border-pink-900"},d=c[e]||c.slate,f=d.split(" ")[0];return m.jsxs("div",{className:"flex w-full",children:[m.jsxs("div",{className:"flex flex-col items-center mr-4 md:mr-6 shrink-0 w-8",children:[m.jsx("div",{className:"w-px h-6 bg-neutral-200 dark:bg-neutral-800"}),m.jsx("button",{onClick:()=>l(!a),className:`w-6 h-6 md:w-8 md:h-8 rounded flex items-center justify-center bg-white dark:bg-neutral-900 border ${d.split(" ")[1]} shadow-sm z-10 transition-transform hover:scale-110`,children:t?m.jsx(t,{className:`w-3 h-3 md:w-4 md:h-4 ${f}`}):m.jsx("div",{className:`w-2 h-2 rounded-full bg-current ${f}`})}),!i&&m.jsx("div",{className:"w-px flex-grow bg-neutral-200 dark:bg-neutral-800 my-1 min-h-[20px]"})]}),m.jsxs("div",{className:"pb-6 w-full min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2 cursor-pointer select-none",onClick:()=>l(!a),children:[m.jsx("h3",{className:"text-sm md:text-base font-bold text-neutral-700 dark:text-neutral-300 uppercase tracking-wider",children:n}),m.jsx("div",{className:"h-px flex-grow bg-neutral-100 dark:bg-neutral-800/50 mx-2"}),m.jsx("span",{className:"text-neutral-400",children:a?m.jsx(Gce,{className:"w-4 h-4"}):m.jsx(i$,{className:"w-4 h-4"})})]}),m.jsx(Wt,{children:a&&m.jsx(Xe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"pl-2 md:pl-0 overflow-hidden",children:r})})]})]})},Pu=({label:t,isCompleted:e,icon:n,color:r})=>{const i=due[n]||to,s=r||"text-neutral-500",a=r||"text-neutral-700 dark:text-neutral-300";return m.jsxs("div",{className:"flex items-start gap-3 ml-4 py-1 relative",children:[m.jsx("div",{className:"absolute left-[-1.2rem] top-0 bottom-0 w-px bg-neutral-200 dark:bg-neutral-800"}),m.jsx("div",{className:"absolute left-[-1.2rem] top-[0.8rem] w-3 h-px bg-neutral-200 dark:bg-neutral-800"}),m.jsx(i,{className:`mt-1 w-3 h-3 shrink-0 ${e?"text-green-500":s}`}),m.jsx("span",{className:`text-sm ${e?"text-neutral-400 line-through":a}`,children:t})]})},Ru=({icon:t,title:e,subtitle:n})=>m.jsxs("div",{className:"flex items-center gap-4 py-4 px-2 opacity-60",children:[m.jsx("div",{className:"p-3 bg-neutral-100 dark:bg-neutral-800 rounded-lg",children:m.jsx(t,{className:"w-6 h-6 text-neutral-400"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-neutral-600 dark:text-neutral-400",children:e}),m.jsx("p",{className:"text-xs text-neutral-500",children:n})]})]}),pue=({location:t})=>{const[e,n]=_.useState(null);return _.useEffect(()=>{const r=async()=>{const s=t?encodeURIComponent(t):vm;try{let a=await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${s}&appid=${D5}&units=metric`);if(!a.ok){if(a.status===404&&t!==vm){console.warn(`Weather not found for ${t}, falling back to ${vm}`);const d=await(await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${vm}&appid=${D5}&units=metric`)).json();d.list&&i(d)}return}const l=await a.json();l.list&&i(l)}catch(a){console.error(a)}},i=s=>{const a=s.list[0],l=s.list[8];n({temp:Math.round(a.main.temp),desc:a.weather[0].description,rainToday:a.pop>.3,rainTomorrow:l.pop>.3,city:s.city.name})};r()},[t]),e?m.jsxs("div",{className:"flex flex-wrap items-center gap-6 md:gap-12 text-sm pl-2",children:[m.jsxs("div",{className:"flex items-center gap-2 text-neutral-700 dark:text-neutral-200",children:[m.jsx(a$,{className:"w-4 h-4 text-red-500"}),m.jsx("span",{className:"font-bold",children:e.city})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Wce,{className:"w-4 h-4 text-orange-500"}),m.jsxs("span",{className:"font-mono text-lg font-bold",children:[e.temp,"C"]}),m.jsx("span",{className:"text-neutral-500 capitalize",children:e.desc})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:`flex items-center gap-1 ${e.rainToday?"text-blue-600 font-bold":"text-neutral-500"}`,children:[e.rainToday?m.jsx(M5,{className:"w-4 h-4"}):m.jsx(Ib,{className:"w-4 h-4"}),m.jsxs("span",{children:["Today: ",e.rainToday?"Rainy":"Clear"]})]}),m.jsxs("div",{className:`flex items-center gap-1 ${e.rainTomorrow?"text-blue-600 font-bold":"text-neutral-500"}`,children:[e.rainTomorrow?m.jsx(M5,{className:"w-4 h-4"}):m.jsx(Ib,{className:"w-4 h-4"}),m.jsxs("span",{children:["Tomorrow: ",e.rainTomorrow?"Rainy":"Clear"]})]})]})]}):m.jsx("div",{className:"text-sm text-neutral-400 animate-pulse pl-2",children:"Loading weather satellite..."})};function mue({data:t}){const{about:e,lifeGoals:n,importantGoals:r,achievements:i,skills:s,books:a,movies:l,music:c,intakeEntries:d,exerciseEntries:f,objectives:p,diaries:g,theses:v}=t,[b,T]=_.useState(new Date);_.useEffect(()=>{const pe=setInterval(()=>T(new Date),1e3);return()=>clearInterval(pe)},[]);const S=b.getDate(),k=b.toLocaleString("en-US",{month:"long"}),C=b.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),N=e?.location||e?.university||vm,R=new Date().toISOString().slice(0,10),D=new Date;D.setDate(D.getDate()-1);const z=D.toISOString().slice(0,10),j=d||[],M=j.filter(pe=>pe.type==="intake"),P=j.filter(pe=>pe.type==="exercise"),B=pe=>{const we=M.filter(Ce=>Ce.date===pe).reduce((Ce,Re)=>Ce+(Re.calories||0),0),et=P.filter(Ce=>Ce.date===pe).reduce((Ce,Re)=>Ce+(Re.calories||0)+(Re.steps||0)*.04,0),ie=P.filter(Ce=>Ce.date===pe).reduce((Ce,Re)=>Ce+(Re.steps||0),0);return{intake:we,burned:et,steps:ie}},U=B(R),V=B(z),L=(pe,we)=>{if(!we)return{val:0,up:!0};const et=pe-we;return{val:Math.abs(et),up:et>=0}},Z=L(U.intake,V.intake),oe=L(U.steps,V.steps),W=p||[],Y=W.find(pe=>Number(pe.year)===b.getFullYear()&&Number(pe.month)===b.getMonth()+1&&Number(pe.day)===S),ce=W.find(pe=>Number(pe.year)===b.getFullYear()&&Number(pe.month)===b.getMonth()+1&&!pe.day),he=n?.find(pe=>pe.status!=="completed"),Se=r?.find(pe=>pe.status!=="completed"),H=a?.find(pe=>pe.status==="reading"),ne=v?.find(pe=>pe.status==="reading"),ye=_.useMemo(()=>{if(!g||g.length===0)return null;const pe=g.filter(dt=>dt.content&&dt.content.length>20);if(pe.length===0)return null;const we=pe[Math.floor(Math.random()*pe.length)],et=we.content.replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim(),Ce=(et.match(/[^.!?]+[.!?]+(\s|$)/g)||[et]).map(dt=>dt.trim());let Re="";const me=4;if(Ce.length<=me)Re=Ce.join(" ");else{const dt=Ce.length-me,Me=Math.floor(Math.random()*(dt+1));Re=Ce.slice(Me,Me+me).join(" ")}return{text:Re,date:we.id}},[g]),be=e?.swot||{},ke=e?.questions||{};return m.jsxs("div",{className:"w-full",children:[m.jsx(hue,{values:e?.values}),m.jsxs("div",{className:"px-2 md:px-8 py-4",children:[m.jsxs("div",{className:"flex items-start mb-2",children:[m.jsxs("div",{className:"flex flex-col items-center mr-4 md:mr-6 w-8 pt-2",children:[m.jsx("div",{className:"w-4 h-4 rounded-full bg-neutral-900 dark:bg-white border-4 border-white dark:border-black shadow-lg z-10"}),m.jsx("div",{className:"w-px flex-grow bg-neutral-200 dark:bg-neutral-800 my-1"})]}),m.jsxs("div",{className:"pb-10 w-full",children:[m.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-neutral-900 dark:text-white tracking-tight leading-none mb-2",children:[b.toLocaleDateString("en-US",{weekday:"long"}),", ",k," ",S,Bce(S)]}),m.jsxs("div",{className:"text-xl md:text-2xl font-light text-neutral-500 flex flex-wrap gap-x-4",children:[m.jsx("span",{className:"font-mono",children:C}),m.jsx("span",{className:"hidden md:inline text-neutral-300 dark:text-neutral-700",children:"|"}),m.jsxs("span",{children:["Good ",b.getHours()<12?"Morning":b.getHours()<18?"Afternoon":"Evening",", ",e?.name?.split(" ")[0]||"Commander"]})]}),m.jsx("p",{className:"text-neutral-400 mt-2 font-mono text-sm",children:fue(b.getHours())})]})]}),m.jsx(Gl,{icon:Ib,color:"amber",title:"Atmospherics",children:m.jsx(pue,{location:N})}),m.jsx(Gl,{icon:sa,color:"red",title:"Prime Directive",children:m.jsxs("div",{className:"pl-2 grid grid-cols-1 lg:grid-cols-2 gap-10",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-bold text-neutral-400 mb-3 uppercase tracking-wider",children:"Today's Mission"}),Y?m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:`mt-2 w-4 h-4 rounded-sm border-2 shrink-0 ${Y.status==="completed"?"bg-green-500 border-green-500":"border-red-400"}`}),m.jsx("span",{className:`text-2xl md:text-3xl font-bold leading-tight ${Y.status==="completed"?"text-neutral-400 line-through":"text-neutral-800 dark:text-neutral-100"}`,children:Y.title})]}),Y.subTasks&&Y.subTasks.length>0&&m.jsx("div",{className:"mt-3",children:Y.subTasks.map((pe,we)=>m.jsx(Pu,{label:pe.text,isCompleted:pe.completed,icon:pe.icon,color:pe.color},we))})]}):m.jsx(Ru,{icon:sa,title:"No mission set for today.",subtitle:"Check your Yearly Objectives."})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-bold text-neutral-400 mb-3 uppercase tracking-wider",children:"Monthly Focus"}),ce?m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"mt-2 w-4 h-4 rounded-sm border-2 shrink-0 border-blue-500"}),m.jsx("span",{className:"text-2xl md:text-3xl font-bold leading-tight text-neutral-800 dark:text-neutral-100",children:ce.title})]}),ce.subTasks&&ce.subTasks.length>0&&m.jsx("div",{className:"mt-3",children:ce.subTasks.map((pe,we)=>m.jsx(Pu,{label:pe.text,isCompleted:pe.completed,icon:pe.icon,color:pe.color},we))})]}):m.jsx(Ru,{icon:sue,title:"No monthly focus.",subtitle:"Plan your month in Objectives."})]})]})}),m.jsx(Gl,{icon:Wi,color:"violet",title:"Self Analysis",children:m.jsxs("div",{className:"pl-2 grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"text-xs font-bold text-green-500 mb-2 uppercase flex items-center gap-2",children:[m.jsx(mE,{className:"w-4 h-4"})," Strengths"]}),m.jsx("p",{className:"text-sm leading-relaxed text-neutral-700 dark:text-neutral-300 whitespace-pre-wrap",children:be.strengths||"No strengths listed. Update in About Me."})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"text-xs font-bold text-red-500 mb-2 uppercase flex items-center gap-2",children:[m.jsx(Lm,{className:"w-4 h-4"})," Weaknesses"]}),m.jsx("p",{className:"text-sm leading-relaxed text-neutral-700 dark:text-neutral-300 whitespace-pre-wrap",children:be.weaknesses||"No weaknesses listed. Update in About Me."})]})]})}),m.jsx(Gl,{icon:o$,color:"pink",title:"Protocols",children:m.jsxs("div",{className:"pl-2 grid grid-cols-1 md:grid-cols-3 gap-8",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-bold text-neutral-500 uppercase mb-2",children:"Daily Questions"}),ke.daily&&ke.daily.length>0?m.jsx("div",{className:"space-y-1",children:ke.daily.map((pe,we)=>m.jsx(Pu,{label:pe,isCompleted:!1},we))}):m.jsx("span",{className:"text-xs text-neutral-400 italic",children:"No daily questions set."})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-bold text-neutral-500 uppercase mb-2",children:"Weekly Questions"}),ke.weekly&&ke.weekly.length>0?m.jsx("div",{className:"space-y-1",children:ke.weekly.map((pe,we)=>m.jsx(Pu,{label:pe,isCompleted:!1},we))}):m.jsx("span",{className:"text-xs text-neutral-400 italic",children:"No weekly questions set."})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-bold text-neutral-500 uppercase mb-2",children:"Monthly Questions"}),ke.monthly&&ke.monthly.length>0?m.jsx("div",{className:"space-y-1",children:ke.monthly.map((pe,we)=>m.jsx(Pu,{label:pe,isCompleted:!1},we))}):m.jsx("span",{className:"text-xs text-neutral-400 italic",children:"No monthly questions set."})]})]})}),m.jsx(Gl,{icon:Gc,color:"green",title:"Biometrics",children:m.jsxs("div",{className:"pl-2 flex flex-wrap gap-12 items-start",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 dark:text-emerald-400 mb-1",children:[m.jsx(u$,{className:"w-5 h-5"})," ",m.jsx("span",{className:"font-bold",children:"INTAKE"})]}),m.jsx("div",{className:"text-3xl font-mono font-bold",children:Math.round(U.intake)}),m.jsxs("div",{className:"flex items-center gap-1 text-xs mt-1",children:[Z.up?m.jsx(mE,{className:"w-3 h-3 text-red-500"}):m.jsx(j5,{className:"w-3 h-3 text-green-500"}),m.jsxs("span",{className:"text-neutral-500",children:[Math.round(Z.val)," vs Yesterday ",Z.up?"(More)":"(Less)"]})]})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 text-orange-500 mb-1",children:[m.jsx(d$,{className:"w-5 h-5"})," ",m.jsx("span",{className:"font-bold",children:"BURNED"})]}),m.jsx("div",{className:"text-3xl font-mono font-bold",children:Math.round(U.burned)}),m.jsx("div",{className:"text-xs text-neutral-500 mt-1",children:"Total Active Energy"})]}),m.jsxs("div",{className:"w-48",children:[m.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-1",children:[m.jsx(PO,{className:"w-5 h-5"})," ",m.jsx("span",{className:"font-bold",children:"STEPS"})]}),m.jsx("div",{className:"text-3xl font-mono font-bold",children:U.steps}),m.jsxs("div",{className:"flex items-center gap-1 text-xs mt-1 mb-2",children:[oe.up?m.jsx(mE,{className:"w-3 h-3 text-green-500"}):m.jsx(j5,{className:"w-3 h-3 text-red-500"}),m.jsxs("span",{className:"text-neutral-500",children:[oe.val," vs Yesterday ",oe.up?"(Great!)":"(Less)"]})]}),m.jsx("div",{className:"h-1.5 w-full bg-neutral-200 dark:bg-neutral-800 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000",style:{width:`${Math.min(U.steps/1e4*100,100)}%`}})})]})]})}),m.jsx(Gl,{icon:xc,color:"sky",title:"Active Feed",children:m.jsxs("div",{className:"pl-2 grid grid-cols-1 md:grid-cols-2 gap-8",children:[H?m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-16 h-24 bg-neutral-200 dark:bg-neutral-800 rounded shadow-inner flex items-center justify-center shrink-0",children:m.jsx(xc,{className:"text-neutral-400 w-6 h-6"})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h4",{className:"font-bold text-lg text-neutral-900 dark:text-neutral-100",children:H.title}),m.jsxs("p",{className:"text-sm text-neutral-500 mb-2",children:["by ",H.author]}),m.jsx("div",{className:"w-full bg-neutral-100 dark:bg-neutral-800 h-2 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-sky-500",style:{width:`${H.progress}%`}})}),m.jsxs("div",{className:"text-right text-xs text-sky-600 font-bold mt-1",children:[H.progress,"% Complete"]})]})]}):m.jsx(Ru,{icon:xc,title:"No book in progress.",subtitle:"Pick something from the Library."}),ne?m.jsxs("div",{className:"flex items-start gap-4 p-4 border border-neutral-200 dark:border-neutral-800 rounded-xl hover:bg-neutral-50 dark:hover:bg-neutral-900 transition-colors",children:[m.jsx(vh,{className:"w-8 h-8 text-teal-500 shrink-0"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-neutral-100",children:ne.title}),m.jsx("p",{className:"text-xs text-teal-600 font-bold mt-1 uppercase",children:"Reading Thesis"}),m.jsxs("div",{className:"text-sm text-neutral-500 mt-1 line-clamp-2",children:["Supervisor: ",ne.author]})]})]}):m.jsx(Ru,{icon:vh,title:"No thesis active.",subtitle:"Select a paper to read."})]})}),m.jsx(Gl,{icon:dg,color:"slate",title:"Long Term",children:m.jsxs("div",{className:"pl-2 grid grid-cols-1 md:grid-cols-2 gap-8",children:[he?m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(oa,{className:"w-5 h-5 text-amber-500"}),m.jsx("span",{className:"font-bold text-neutral-800 dark:text-neutral-200",children:he.title})]}),he.subTasks&&he.subTasks.length>0?m.jsx("div",{className:"pl-2 border-l-2 border-amber-200 dark:border-amber-900/50",children:he.subTasks.map((pe,we)=>m.jsx(Pu,{label:pe.text,isCompleted:pe.completed,icon:pe.icon,color:pe.color},we))}):m.jsx("p",{className:"text-xs text-neutral-400 pl-8",children:"No subtasks defined."})]}):m.jsx(Ru,{icon:dg,title:"No active life goal.",subtitle:"Define your path in Life Goals."}),Se?m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(Lm,{className:"w-5 h-5 text-red-500"}),m.jsx("span",{className:"font-bold text-neutral-800 dark:text-neutral-200",children:Se.title})]}),Se.subTasks&&Se.subTasks.length>0?m.jsx("div",{className:"pl-2 border-l-2 border-red-200 dark:border-red-900/50",children:Se.subTasks.map((pe,we)=>m.jsx(Pu,{label:pe.text,isCompleted:pe.completed,icon:pe.icon,color:pe.color},we))}):m.jsx("p",{className:"text-xs text-neutral-400 pl-8",children:"No subtasks defined."})]}):m.jsx(Ru,{icon:Lm,title:"No priority set.",subtitle:"Mark a goal as Important."})]})}),m.jsx(Gl,{icon:Db,color:"violet",title:"Stream of Consciousness",isLast:!0,children:ye?m.jsxs("div",{className:"pl-2 relative max-w-2xl",children:[m.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-violet-200 dark:bg-violet-900"}),m.jsxs("div",{className:"pl-6",children:[m.jsxs("p",{className:"font-serif italic text-lg text-neutral-700 dark:text-neutral-300 leading-relaxed",children:['"',ye.text,'..."']}),m.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[m.jsx("div",{className:"h-px w-8 bg-violet-300"}),m.jsxs("div",{className:"text-xs font-bold text-violet-500 uppercase tracking-widest",children:["Entry  ",new Date(ye.date).toLocaleDateString()]})]})]})]}):m.jsx(Ru,{icon:Db,title:"Journal is empty.",subtitle:"Write an entry to see it here."})})]})]})}function p$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=p$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=p$(t))&&(r&&(r+=" "),r+=e);return r}const gue=(t,e,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const i=Object.getOwnPropertyDescriptor(t,n),s=Object.getOwnPropertyDescriptor(e,n);!yue(i,s)&&r||Object.defineProperty(t,n,s)},yue=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},vue=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},bue=(t,e)=>`/* Wrapped ${t}*/
${e}`,xue=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),wue=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Sue=(t,e,n)=>{const r=n===""?"":`with ${n.trim()}() `,i=bue.bind(null,r,e.toString());Object.defineProperty(i,"name",wue);const{writable:s,enumerable:a,configurable:l}=xue;Object.defineProperty(t,"toString",{value:i,writable:s,enumerable:a,configurable:l})};function Tue(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:r}=t;for(const i of Reflect.ownKeys(e))gue(t,e,i,n);return vue(t,e),Sue(t,e,r),t}const Eue=new WeakMap,P5=new WeakMap;function m$(t,{cacheKey:e,cache:n=new Map,maxAge:r}={}){if(r===0)return t;if(typeof r=="number"){if(r>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(r<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const i=function(...s){const a=e?e(s):s[0],l=n.get(a);if(l)return l.data;const c=t.apply(this,s),d=typeof r=="function"?r(...s):r;if(n.set(a,{data:c,maxAge:d?Date.now()+d:Number.POSITIVE_INFINITY}),d&&d>0&&d!==Number.POSITIVE_INFINITY){const f=setTimeout(()=>{n.delete(a)},d);f.unref?.();const p=P5.get(t)??new Set;p.add(f),P5.set(t,p)}return c};return Tue(i,t,{ignoreNonConfigurable:!0}),Eue.set(i,n),i}function kue(t){return typeof t=="string"}function _ue(t,e,n){return n.indexOf(t)===e}function Aue(t){return t.toLowerCase()===t}function R5(t){return t.indexOf(",")===-1?t:t.split(",")}function _A(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return _A(n)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],n=r===void 0?"":r;return _A(n)}if(t.indexOf("-")===-1||!Aue(t))return t;var i=t.split("-"),s=i[0],a=i[1],l=a===void 0?"":a;return"".concat(s,"-").concat(l.toUpperCase())}function Cue(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,r=n===void 0?!0:n,i=e.fallbackLocale,s=i===void 0?"en-US":i,a=[];if(typeof navigator<"u"){for(var l=navigator.languages||[],c=[],d=0,f=l;d<f.length;d++){var p=f[d];c=c.concat(R5(p))}var g=navigator.language,v=g&&R5(g);a=a.concat(c,v)}return r&&a.push(s),a.filter(kue).map(_A).filter(_ue)}var Oue=m$(Cue,{cacheKey:JSON.stringify});function Nue(t){return Oue(t)[0]||null}var g$=m$(Nue,{cacheKey:JSON.stringify});function il(t,e,n){return function(i,s=n){const a=t(i)+s;return e(a)}}function i0(t){return function(n){return new Date(t(n).getTime()-1)}}function s0(t,e){return function(r){return[t(r),e(r)]}}function tn(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function Kc(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function Uw(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function Uh(t){const e=tn(t),n=e+(-e+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const Mue=il(tn,Uh,-100),y$=il(tn,Uh,100),LO=i0(y$),jue=il(tn,LO,-100),v$=s0(Uh,LO);function Yc(t){const e=tn(t),n=e+(-e+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const b$=il(tn,Yc,-10),VO=il(tn,Yc,10),Fw=i0(VO),x$=il(tn,Fw,-10),w$=s0(Yc,Fw);function Fh(t){const e=tn(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const S$=il(tn,Fh,-1),BO=il(tn,Fh,1),$w=i0(BO),T$=il(tn,$w,-1),Iue=s0(Fh,$w);function zO(t,e){return function(r,i=e){const s=tn(r),a=Kc(r)+i,l=new Date;return l.setFullYear(s,a,1),l.setHours(0,0,0,0),t(l)}}function Pd(t){const e=tn(t),n=Kc(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}const E$=zO(Pd,-1),UO=zO(Pd,1),a0=i0(UO),k$=zO(a0,-1),Due=s0(Pd,a0);function Pue(t,e){return function(r,i=e){const s=tn(r),a=Kc(r),l=Uw(r)+i,c=new Date;return c.setFullYear(s,a,l),c.setHours(0,0,0,0),t(c)}}function o0(t){const e=tn(t),n=Kc(t),r=Uw(t),i=new Date;return i.setFullYear(e,n,r),i.setHours(0,0,0,0),i}const Rue=Pue(o0,1),FO=i0(Rue),Lue=s0(o0,FO);function _$(t){return Uw(a0(t))}var _r={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},Vue={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},$O=[0,1,2,3,4,5,6],yE=new Map;function Bue(t){return function(n,r){var i=n||g$();yE.has(i)||yE.set(i,new Map);var s=yE.get(i);return s.has(t)||s.set(t,new Intl.DateTimeFormat(i||void 0,t).format),s.get(t)(r)}}function zue(t){var e=new Date(t);return new Date(e.setHours(12))}function Rd(t){return function(e,n){return Bue(t)(e,zue(n))}}var Uue={day:"numeric"},Fue={day:"numeric",month:"long",year:"numeric"},$ue={month:"long"},Hue={month:"long",year:"numeric"},que={weekday:"short"},Wue={weekday:"long"},Gue={year:"numeric"},Kue=Rd(Uue),Yue=Rd(Fue),Xue=Rd($ue),A$=Rd(Hue),Que=Rd(que),Jue=Rd(Wue),Hw=Rd(Gue),Zue=$O[0],ede=$O[5],L5=$O[6];function fg(t,e){e===void 0&&(e=_r.ISO_8601);var n=t.getDay();switch(e){case _r.ISO_8601:return(n+6)%7;case _r.ISLAMIC:return(n+1)%7;case _r.HEBREW:case _r.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function tde(t){var e=Uh(t);return tn(e)}function nde(t){var e=Yc(t);return tn(e)}function AA(t,e){e===void 0&&(e=_r.ISO_8601);var n=tn(t),r=Kc(t),i=t.getDate()-fg(t,e);return new Date(n,r,i)}function rde(t,e){e===void 0&&(e=_r.ISO_8601);var n=e===_r.GREGORY?_r.GREGORY:_r.ISO_8601,r=AA(t,e),i=tn(t)+1,s,a;do s=new Date(i,0,n===_r.ISO_8601?4:1),a=AA(s,e),i-=1;while(t<a);return Math.round((r.getTime()-a.getTime())/(864e5*7))+1}function ad(t,e){switch(t){case"century":return Uh(e);case"decade":return Yc(e);case"year":return Fh(e);case"month":return Pd(e);case"day":return o0(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function ide(t,e){switch(t){case"century":return Mue(e);case"decade":return b$(e);case"year":return S$(e);case"month":return E$(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function C$(t,e){switch(t){case"century":return y$(e);case"decade":return VO(e);case"year":return BO(e);case"month":return UO(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function sde(t,e){switch(t){case"decade":return b$(e,-100);case"year":return S$(e,-10);case"month":return E$(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function ade(t,e){switch(t){case"decade":return VO(e,100);case"year":return BO(e,10);case"month":return UO(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function O$(t,e){switch(t){case"century":return LO(e);case"decade":return Fw(e);case"year":return $w(e);case"month":return a0(e);case"day":return FO(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function ode(t,e){switch(t){case"century":return jue(e);case"decade":return x$(e);case"year":return T$(e);case"month":return k$(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function lde(t,e){switch(t){case"decade":return x$(e,-100);case"year":return T$(e,-10);case"month":return k$(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function V5(t,e){switch(t){case"century":return v$(e);case"decade":return w$(e);case"year":return Iue(e);case"month":return Due(e);case"day":return Lue(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function cde(t,e,n){var r=[e,n].sort(function(i,s){return i.getTime()-s.getTime()});return[ad(t,r[0]),O$(t,r[1])]}function N$(t,e,n){return n.map(function(r){return(e||Hw)(t,r)}).join("  ")}function ude(t,e,n){return N$(t,e,v$(n))}function M$(t,e,n){return N$(t,e,w$(n))}function dde(t){return t.getDay()===new Date().getDay()}function j$(t,e){e===void 0&&(e=_r.ISO_8601);var n=t.getDay();switch(e){case _r.ISLAMIC:case _r.HEBREW:return n===ede||n===L5;case _r.ISO_8601:case _r.GREGORY:return n===L5||n===Zue;default:throw new Error("Unsupported calendar type.")}}var Oa="react-calendar__navigation";function fde(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,i=r===void 0?A$:r,s=t.formatYear,a=s===void 0?Hw:s,l=t.locale,c=t.maxDate,d=t.minDate,f=t.navigationAriaLabel,p=f===void 0?"":f,g=t.navigationAriaLive,v=t.navigationLabel,b=t.next2AriaLabel,T=b===void 0?"":b,S=t.next2Label,k=S===void 0?"":S,C=t.nextAriaLabel,N=C===void 0?"":C,R=t.nextLabel,D=R===void 0?"":R,z=t.prev2AriaLabel,j=z===void 0?"":z,M=t.prev2Label,P=M===void 0?"":M,B=t.prevAriaLabel,U=B===void 0?"":B,V=t.prevLabel,L=V===void 0?"":V,Z=t.setActiveStartDate,oe=t.showDoubleView,W=t.view,Y=t.views,ce=Y.indexOf(W)>0,he=W!=="century",Se=ide(W,e),H=he?sde(W,e):void 0,ne=C$(W,e),ye=he?ade(W,e):void 0,be=(function(){if(Se.getFullYear()<0)return!0;var Me=ode(W,e);return d&&d>=Me})(),ke=he&&(function(){if(H.getFullYear()<0)return!0;var Me=lde(W,e);return d&&d>=Me})(),pe=c&&c<ne,we=he&&c&&c<ye;function et(){Z(Se,"prev")}function ie(){Z(H,"prev2")}function Ce(){Z(ne,"next")}function Re(){Z(ye,"next2")}function me(Me){var Vt=(function(){switch(W){case"century":return ude(l,a,Me);case"decade":return M$(l,a,Me);case"year":return a(l,Me);case"month":return i(l,Me);default:throw new Error("Invalid view: ".concat(W,"."))}})();return v?v({date:Me,label:Vt,locale:l||g$()||void 0,view:W}):Vt}function dt(){var Me="".concat(Oa,"__label");return m.jsxs("button",{"aria-label":p,"aria-live":g,className:Me,disabled:!ce,onClick:n,style:{flexGrow:1},type:"button",children:[m.jsx("span",{className:"".concat(Me,"__labelText ").concat(Me,"__labelText--from"),children:me(e)}),oe?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"".concat(Me,"__divider"),children:"  "}),m.jsx("span",{className:"".concat(Me,"__labelText ").concat(Me,"__labelText--to"),children:me(ne)})]}):null]})}return m.jsxs("div",{className:Oa,children:[P!==null&&he?m.jsx("button",{"aria-label":j,className:"".concat(Oa,"__arrow ").concat(Oa,"__prev2-button"),disabled:ke,onClick:ie,type:"button",children:P}):null,L!==null&&m.jsx("button",{"aria-label":U,className:"".concat(Oa,"__arrow ").concat(Oa,"__prev-button"),disabled:be,onClick:et,type:"button",children:L}),dt(),D!==null&&m.jsx("button",{"aria-label":N,className:"".concat(Oa,"__arrow ").concat(Oa,"__next-button"),disabled:pe,onClick:Ce,type:"button",children:D}),k!==null&&he?m.jsx("button",{"aria-label":T,className:"".concat(Oa,"__arrow ").concat(Oa,"__next2-button"),disabled:we,onClick:Re,type:"button",children:k}):null]})}var Yf=function(){return Yf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Yf.apply(this,arguments)},hde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function B5(t){return"".concat(t,"%")}function HO(t){var e=t.children,n=t.className,r=t.count,i=t.direction,s=t.offset,a=t.style,l=t.wrap,c=hde(t,["children","className","count","direction","offset","style","wrap"]);return m.jsx("div",Yf({className:n,style:Yf({display:"flex",flexDirection:i,flexWrap:l?"wrap":"nowrap"},a)},c,{children:_.Children.map(e,function(d,f){var p=s&&f===0?B5(100*s/r):null;return _.cloneElement(d,Yf(Yf({},d.props),{style:{flexBasis:B5(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:p,marginInlineStart:p,marginInlineEnd:0}}))})}))}function pde(t,e,n){return e&&e>t?e:n&&n<t?n:t}function hg(t,e){return e[0]<=t&&e[1]>=t}function mde(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function I$(t,e){return hg(t[0],e)||hg(t[1],e)}function z5(t,e,n){var r=I$(e,t),i=[];if(r){i.push(n);var s=hg(t[0],e),a=hg(t[1],e);s&&i.push("".concat(n,"Start")),a&&i.push("".concat(n,"End")),s&&a&&i.push("".concat(n,"BothEnds"))}return i}function gde(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function yde(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,i="react-calendar__tile",s=[i];if(!n)return s;var a=new Date,l=(function(){if(Array.isArray(n))return n;var v=t.dateType;if(!v)throw new Error("dateType is required when date is not an array of two dates");return V5(v,n)})();if(hg(a,l)&&s.push("".concat(i,"--now")),!e||!gde(e))return s;var c=(function(){if(Array.isArray(e))return e;var v=t.valueType;if(!v)throw new Error("valueType is required when value is not an array of two dates");return V5(v,e)})();mde(c,l)?s.push("".concat(i,"--active")):I$(c,l)&&s.push("".concat(i,"--hasActive"));var d=z5(c,l,"".concat(i,"--range"));s.push.apply(s,d);var f=Array.isArray(e)?e:[e];if(r&&f.length===1){var p=r>c[0]?[c[0],r]:[r,c[0]],g=z5(p,l,"".concat(i,"--hover"));s.push.apply(s,g)}return s}function qw(t){for(var e=t.className,n=t.count,r=n===void 0?3:n,i=t.dateTransform,s=t.dateType,a=t.end,l=t.hover,c=t.offset,d=t.renderTile,f=t.start,p=t.step,g=p===void 0?1:p,v=t.value,b=t.valueType,T=[],S=f;S<=a;S+=g){var k=i(S);T.push(d({classes:yde({date:k,dateType:s,hover:l,value:v,valueType:b}),date:k}))}return m.jsx(HO,{className:e,count:r,offset:c,wrap:!0,children:T})}function Ww(t){var e=t.activeStartDate,n=t.children,r=t.classes,i=t.date,s=t.formatAbbr,a=t.locale,l=t.maxDate,c=t.maxDateTransform,d=t.minDate,f=t.minDateTransform,p=t.onClick,g=t.onMouseOver,v=t.style,b=t.tileClassName,T=t.tileContent,S=t.tileDisabled,k=t.view,C=_.useMemo(function(){var R={activeStartDate:e,date:i,view:k};return typeof b=="function"?b(R):b},[e,i,b,k]),N=_.useMemo(function(){var R={activeStartDate:e,date:i,view:k};return typeof T=="function"?T(R):T},[e,i,T,k]);return m.jsxs("button",{className:yt(r,C),disabled:d&&f(d)>i||l&&c(l)<i||S?.({activeStartDate:e,date:i,view:k}),onClick:p?function(R){return p(i,R)}:void 0,onFocus:g?function(){return g(i)}:void 0,onMouseOver:g?function(){return g(i)}:void 0,style:v,type:"button",children:[s?m.jsx("abbr",{"aria-label":s(a,i),children:n}):n,N]})}var CA=function(){return CA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},CA.apply(this,arguments)},vde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},U5="react-calendar__century-view__decades__decade";function bde(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentCentury,i=t.formatYear,s=i===void 0?Hw:i,a=vde(t,["classes","currentCentury","formatYear"]),l=a.date,c=a.locale,d=[];return n&&d.push.apply(d,n),d.push(U5),Uh(l).getFullYear()!==r&&d.push("".concat(U5,"--neighboringCentury")),m.jsx(Ww,CA({},a,{classes:d,maxDateTransform:Fw,minDateTransform:Yc,view:"century",children:M$(c,s,l)}))}var OA=function(){return OA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},OA.apply(this,arguments)},F5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function xde(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,i=t.value,s=t.valueType,a=F5(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),l=tde(e),c=l+(r?119:99);return m.jsx(qw,{className:"react-calendar__century-view__decades",dateTransform:Yc,dateType:"decade",end:c,hover:n,renderTile:function(d){var f=d.date,p=F5(d,["date"]);return m.jsx(bde,OA({},a,p,{activeStartDate:e,currentCentury:l,date:f}),f.getTime())},start:l,step:10,value:i,valueType:s})}var NA=function(){return NA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},NA.apply(this,arguments)};function wde(t){function e(){return m.jsx(xde,NA({},t))}return m.jsx("div",{className:"react-calendar__century-view",children:e()})}var MA=function(){return MA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},MA.apply(this,arguments)},Sde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},$5="react-calendar__decade-view__years__year";function Tde(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentDecade,i=t.formatYear,s=i===void 0?Hw:i,a=Sde(t,["classes","currentDecade","formatYear"]),l=a.date,c=a.locale,d=[];return n&&d.push.apply(d,n),d.push($5),Yc(l).getFullYear()!==r&&d.push("".concat($5,"--neighboringDecade")),m.jsx(Ww,MA({},a,{classes:d,maxDateTransform:$w,minDateTransform:Fh,view:"decade",children:s(c,l)}))}var jA=function(){return jA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},jA.apply(this,arguments)},H5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Ede(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,i=t.value,s=t.valueType,a=H5(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),l=nde(e),c=l+(r?11:9);return m.jsx(qw,{className:"react-calendar__decade-view__years",dateTransform:Fh,dateType:"year",end:c,hover:n,renderTile:function(d){var f=d.date,p=H5(d,["date"]);return m.jsx(Tde,jA({},a,p,{activeStartDate:e,currentDecade:l,date:f}),f.getTime())},start:l,value:i,valueType:s})}var IA=function(){return IA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},IA.apply(this,arguments)};function kde(t){function e(){return m.jsx(Ede,IA({},t))}return m.jsx("div",{className:"react-calendar__decade-view",children:e()})}var DA=function(){return DA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},DA.apply(this,arguments)},_de=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},q5=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Ade="react-calendar__year-view__months__month";function Cde(t){var e=t.classes,n=e===void 0?[]:e,r=t.formatMonth,i=r===void 0?Xue:r,s=t.formatMonthYear,a=s===void 0?A$:s,l=_de(t,["classes","formatMonth","formatMonthYear"]),c=l.date,d=l.locale;return m.jsx(Ww,DA({},l,{classes:q5(q5([],n,!0),[Ade],!1),formatAbbr:a,maxDateTransform:a0,minDateTransform:Pd,view:"year",children:i(d,c)}))}var PA=function(){return PA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},PA.apply(this,arguments)},W5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Ode(t){var e=t.activeStartDate,n=t.hover,r=t.value,i=t.valueType,s=W5(t,["activeStartDate","hover","value","valueType"]),a=0,l=11,c=tn(e);return m.jsx(qw,{className:"react-calendar__year-view__months",dateTransform:function(d){var f=new Date;return f.setFullYear(c,d,1),Pd(f)},dateType:"month",end:l,hover:n,renderTile:function(d){var f=d.date,p=W5(d,["date"]);return m.jsx(Cde,PA({},s,p,{activeStartDate:e,date:f}),f.getTime())},start:a,value:r,valueType:i})}var RA=function(){return RA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},RA.apply(this,arguments)};function Nde(t){function e(){return m.jsx(Ode,RA({},t))}return m.jsx("div",{className:"react-calendar__year-view",children:e()})}var LA=function(){return LA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},LA.apply(this,arguments)},Mde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},vE="react-calendar__month-view__days__day";function jde(t){var e=t.calendarType,n=t.classes,r=n===void 0?[]:n,i=t.currentMonthIndex,s=t.formatDay,a=s===void 0?Kue:s,l=t.formatLongDate,c=l===void 0?Yue:l,d=Mde(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),f=d.date,p=d.locale,g=[];return r&&g.push.apply(g,r),g.push(vE),j$(f,e)&&g.push("".concat(vE,"--weekend")),f.getMonth()!==i&&g.push("".concat(vE,"--neighboringMonth")),m.jsx(Ww,LA({},d,{classes:g,formatAbbr:c,maxDateTransform:FO,minDateTransform:o0,view:"month",children:a(p,f)}))}var VA=function(){return VA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},VA.apply(this,arguments)},G5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Ide(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,i=t.showFixedNumberOfWeeks,s=t.showNeighboringMonth,a=t.value,l=t.valueType,c=G5(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),d=tn(e),f=Kc(e),p=i||s,g=fg(e,n),v=p?0:g,b=(p?-g:0)+1,T=(function(){if(i)return b+42-1;var S=_$(e);if(s){var k=new Date;k.setFullYear(d,f,S),k.setHours(0,0,0,0);var C=7-fg(k,n)-1;return S+C}return S})();return m.jsx(qw,{className:"react-calendar__month-view__days",count:7,dateTransform:function(S){var k=new Date;return k.setFullYear(d,f,S),o0(k)},dateType:"day",hover:r,end:T,renderTile:function(S){var k=S.date,C=G5(S,["date"]);return m.jsx(jde,VA({},c,C,{activeStartDate:e,calendarType:n,currentMonthIndex:f,date:k}),k.getTime())},offset:v,start:b,value:a,valueType:l})}var D$="react-calendar__month-view__weekdays",bE="".concat(D$,"__weekday");function Dde(t){for(var e=t.calendarType,n=t.formatShortWeekday,r=n===void 0?Que:n,i=t.formatWeekday,s=i===void 0?Jue:i,a=t.locale,l=t.onMouseLeave,c=new Date,d=Pd(c),f=tn(d),p=Kc(d),g=[],v=1;v<=7;v+=1){var b=new Date(f,p,v-fg(d,e)),T=s(a,b);g.push(m.jsx("div",{className:yt(bE,dde(b)&&"".concat(bE,"--current"),j$(b,e)&&"".concat(bE,"--weekend")),children:m.jsx("abbr",{"aria-label":T,title:T,children:r(a,b).replace(".","")})},v))}return m.jsx(HO,{className:D$,count:7,onFocus:l,onMouseOver:l,children:g})}var Pb=function(){return Pb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Pb.apply(this,arguments)},K5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Y5="react-calendar__tile";function Pde(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=m.jsx("span",{children:n});if(e){var i=t.date,s=t.onClickWeekNumber,a=t.weekNumber,l=K5(t,["date","onClickWeekNumber","weekNumber"]);return m.jsx("button",Pb({},l,{className:Y5,onClick:function(c){return s(a,i,c)},type:"button",children:r}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var l=K5(t,["date","onClickWeekNumber","weekNumber"]);return m.jsx("div",Pb({},l,{className:Y5,children:r}))}}function Rde(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,i=t.onMouseLeave,s=t.showFixedNumberOfWeeks,a=(function(){if(s)return 6;var d=_$(e),f=fg(e,n),p=d-(7-f);return 1+Math.ceil(p/7)})(),l=(function(){for(var d=tn(e),f=Kc(e),p=Uw(e),g=[],v=0;v<a;v+=1)g.push(AA(new Date(d,f,p+v*7),n));return g})(),c=l.map(function(d){return rde(d,n)});return m.jsx(HO,{className:"react-calendar__month-view__weekNumbers",count:a,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:c.map(function(d,f){var p=l[f];if(!p)throw new Error("date is not defined");return m.jsx(Pde,{date:p,onClickWeekNumber:r,weekNumber:d},d)})})}var BA=function(){return BA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},BA.apply(this,arguments)},Lde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Vde(t){if(t)for(var e=0,n=Object.entries(Vue);e<n.length;e++){var r=n[e],i=r[0],s=r[1];if(s.includes(t))return i}return _r.ISO_8601}function Bde(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,i=t.showFixedNumberOfWeeks,s=t.calendarType,a=s===void 0?Vde(n):s,l=t.formatShortWeekday,c=t.formatWeekday,d=t.onClickWeekNumber,f=t.showWeekNumbers,p=Lde(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function g(){return m.jsx(Dde,{calendarType:a,formatShortWeekday:l,formatWeekday:c,locale:n,onMouseLeave:r})}function v(){return f?m.jsx(Rde,{activeStartDate:e,calendarType:a,onClickWeekNumber:d,onMouseLeave:r,showFixedNumberOfWeeks:i}):null}function b(){return m.jsx(Ide,BA({calendarType:a},p))}var T="react-calendar__month-view";return m.jsx("div",{className:yt(T,f?"".concat(T,"--weekNumbers"):""),children:m.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[v(),m.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[g(),b()]})]})})}var Xf=function(){return Xf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xf.apply(this,arguments)},av="react-calendar",Xv=["century","decade","year","month"],zde=["decade","year","month","day"],qO=new Date;qO.setFullYear(1,0,1);qO.setHours(0,0,0,0);var Ude=new Date(864e13);function bm(t){return t instanceof Date?t:new Date(t)}function P$(t,e){return Xv.slice(Xv.indexOf(t),Xv.indexOf(e)+1)}function Fde(t,e,n){var r=P$(e,n);return r.indexOf(t)!==-1}function WO(t,e,n){return t&&Fde(t,e,n)?t:n}function R$(t){var e=Xv.indexOf(t);return zde[e]}function $de(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=bm(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function L$(t,e){var n=t.value,r=t.minDate,i=t.maxDate,s=t.maxDetail,a=$de(n,e);if(!a)return null;var l=R$(s),c=(function(){switch(e){case 0:return ad(l,a);case 1:return O$(l,a);default:throw new Error("Invalid index value: ".concat(e))}})();return pde(c,r,i)}var GO=function(t){return L$(t,0)},V$=function(t){return L$(t,1)},Hde=function(t){return[GO,V$].map(function(e){return e(t)})};function B$(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,i=t.minDetail,s=t.value,a=t.view,l=WO(a,i,n),c=GO({value:s,minDate:r,maxDate:e,maxDetail:n})||new Date;return ad(l,c)}function qde(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,i=t.defaultView,s=t.maxDate,a=t.maxDetail,l=t.minDate,c=t.minDetail,d=t.value,f=t.view,p=WO(f,c,a),g=e||n;return g?ad(p,g):B$({maxDate:s,maxDetail:a,minDate:l,minDetail:c,value:d||r,view:f||i})}function xE(t){return t&&(!Array.isArray(t)||t.length===1)}function ov(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var Wde=_.forwardRef(function(e,n){var r=e.activeStartDate,i=e.allowPartialRange,s=e.calendarType,a=e.className,l=e.defaultActiveStartDate,c=e.defaultValue,d=e.defaultView,f=e.formatDay,p=e.formatLongDate,g=e.formatMonth,v=e.formatMonthYear,b=e.formatShortWeekday,T=e.formatWeekday,S=e.formatYear,k=e.goToRangeStartOnSelect,C=k===void 0?!0:k,N=e.inputRef,R=e.locale,D=e.maxDate,z=D===void 0?Ude:D,j=e.maxDetail,M=j===void 0?"month":j,P=e.minDate,B=P===void 0?qO:P,U=e.minDetail,V=U===void 0?"century":U,L=e.navigationAriaLabel,Z=e.navigationAriaLive,oe=e.navigationLabel,W=e.next2AriaLabel,Y=e.next2Label,ce=e.nextAriaLabel,he=e.nextLabel,Se=e.onActiveStartDateChange,H=e.onChange,ne=e.onClickDay,ye=e.onClickDecade,be=e.onClickMonth,ke=e.onClickWeekNumber,pe=e.onClickYear,we=e.onDrillDown,et=e.onDrillUp,ie=e.onViewChange,Ce=e.prev2AriaLabel,Re=e.prev2Label,me=e.prevAriaLabel,dt=e.prevLabel,Me=e.returnValue,Vt=Me===void 0?"start":Me,ct=e.selectRange,Zn=e.showDoubleView,Rs=e.showFixedNumberOfWeeks,nn=e.showNavigation,vn=nn===void 0?!0:nn,ca=e.showNeighboringCentury,Jh=e.showNeighboringDecade,ru=e.showNeighboringMonth,fr=ru===void 0?!0:ru,no=e.showWeekNumbers,iu=e.tileClassName,su=e.tileContent,ua=e.tileDisabled,au=e.value,ou=e.view,lu=_.useState(l),Ud=lu[0],Mr=lu[1],kn=_.useState(null),ai=kn[0],Kt=kn[1],cu=_.useState(Array.isArray(c)?c.map(function(Ge){return Ge!==null?bm(Ge):null}):c!=null?bm(c):null),da=cu[0],Fd=cu[1],_i=_.useState(d),ro=_i[0],rn=_i[1],Bt=r||Ud||qde({activeStartDate:r,defaultActiveStartDate:l,defaultValue:c,defaultView:d,maxDate:z,maxDetail:M,minDate:B,minDetail:V,value:au,view:ou}),zt=(function(){var Ge=(function(){return ct&&xE(da)?da:au!==void 0?au:da})();return Ge?Array.isArray(Ge)?Ge.map(function(Pt){return Pt!==null?bm(Pt):null}):Ge!==null?bm(Ge):null:null})(),jr=R$(M),Nt=WO(ou||ro,V,M),qr=P$(V,M),Ki=ct?ai:null,Ls=qr.indexOf(Nt)<qr.length-1,$d=qr.indexOf(Nt)>0,fa=_.useCallback(function(Ge){var Pt=(function(){switch(Vt){case"start":return GO;case"end":return V$;case"range":return Hde;default:throw new Error("Invalid returnValue.")}})();return Pt({maxDate:z,maxDetail:M,minDate:B,value:Ge})},[z,M,B,Vt]),io=_.useCallback(function(Ge,Pt){Mr(Ge);var Ut={action:Pt,activeStartDate:Ge,value:zt,view:Nt};Se&&!ov(Bt,Ge)&&Se(Ut)},[Bt,Se,zt,Nt]),ha=_.useCallback(function(Ge,Pt){var Ut=(function(){switch(Nt){case"century":return ye;case"decade":return pe;case"year":return be;case"month":return ne;default:throw new Error("Invalid view: ".concat(Nt,"."))}})();Ut&&Ut(Ge,Pt)},[ne,ye,be,pe,Nt]),Vs=_.useCallback(function(Ge,Pt){if(Ls){ha(Ge,Pt);var Ut=qr[qr.indexOf(Nt)+1];if(!Ut)throw new Error("Attempted to drill down from the lowest view.");Mr(Ge),rn(Ut);var Ir={action:"drillDown",activeStartDate:Ge,value:zt,view:Ut};Se&&!ov(Bt,Ge)&&Se(Ir),ie&&Nt!==Ut&&ie(Ir),we&&we(Ir)}},[Bt,Ls,Se,ha,we,ie,zt,Nt,qr]),Ai=_.useCallback(function(){if($d){var Ge=qr[qr.indexOf(Nt)-1];if(!Ge)throw new Error("Attempted to drill up from the highest view.");var Pt=ad(Ge,Bt);Mr(Pt),rn(Ge);var Ut={action:"drillUp",activeStartDate:Pt,value:zt,view:Ge};Se&&!ov(Bt,Pt)&&Se(Ut),ie&&Nt!==Ge&&ie(Ut),et&&et(Ut)}},[Bt,$d,Se,et,ie,zt,Nt,qr]),pl=_.useCallback(function(Ge,Pt){var Ut=zt;ha(Ge,Pt);var Ir=ct&&!xE(Ut),un;if(ct)if(Ir)un=ad(jr,Ge);else{if(!Ut)throw new Error("previousValue is required");if(Array.isArray(Ut))throw new Error("previousValue must not be an array");un=cde(jr,Ut,Ge)}else un=fa(Ge);var pa=!ct||Ir||C?B$({maxDate:z,maxDetail:M,minDate:B,minDetail:V,value:un,view:Nt}):null;Pt.persist(),Mr(pa),Fd(un);var Xi={action:"onChange",activeStartDate:pa,value:un,view:Nt};if(Se&&!ov(Bt,pa)&&Se(Xi),H)if(ct){var oi=xE(un);if(!oi)H(un||null,Pt);else if(i){if(Array.isArray(un))throw new Error("value must not be an array");H([un||null,null],Pt)}}else H(un||null,Pt)},[Bt,i,fa,C,z,M,B,V,Se,H,ha,ct,zt,jr,Nt]);function Ci(Ge){Kt(Ge)}function Wr(){Kt(null)}_.useImperativeHandle(n,function(){return{activeStartDate:Bt,drillDown:Vs,drillUp:Ai,onChange:pl,setActiveStartDate:io,value:zt,view:Nt}},[Bt,Vs,Ai,pl,io,zt,Nt]);function sn(Ge){var Pt=Ge?C$(Nt,Bt):ad(Nt,Bt),Ut=Ls?Vs:pl,Ir={activeStartDate:Pt,hover:Ki,locale:R,maxDate:z,minDate:B,onClick:Ut,onMouseOver:ct?Ci:void 0,tileClassName:iu,tileContent:su,tileDisabled:ua,value:zt,valueType:jr};switch(Nt){case"century":return m.jsx(wde,Xf({formatYear:S,showNeighboringCentury:ca},Ir));case"decade":return m.jsx(kde,Xf({formatYear:S,showNeighboringDecade:Jh},Ir));case"year":return m.jsx(Nde,Xf({formatMonth:g,formatMonthYear:v},Ir));case"month":return m.jsx(Bde,Xf({calendarType:s,formatDay:f,formatLongDate:p,formatShortWeekday:b,formatWeekday:T,onClickWeekNumber:ke,onMouseLeave:ct?Wr:void 0,showFixedNumberOfWeeks:typeof Rs<"u"?Rs:Zn,showNeighboringMonth:fr,showWeekNumbers:no},Ir));default:throw new Error("Invalid view: ".concat(Nt,"."))}}function _n(){return vn?m.jsx(fde,{activeStartDate:Bt,drillUp:Ai,formatMonthYear:v,formatYear:S,locale:R,maxDate:z,minDate:B,navigationAriaLabel:L,navigationAriaLive:Z,navigationLabel:oe,next2AriaLabel:W,next2Label:Y,nextAriaLabel:ce,nextLabel:he,prev2AriaLabel:Ce,prev2Label:Re,prevAriaLabel:me,prevLabel:dt,setActiveStartDate:io,showDoubleView:Zn,view:Nt,views:qr}):null}var Yi=Array.isArray(zt)?zt:[zt];return m.jsxs("div",{className:yt(av,ct&&Yi.length===1&&"".concat(av,"--selectRange"),Zn&&"".concat(av,"--doubleView"),a),ref:N,children:[_n(),m.jsxs("div",{className:"".concat(av,"__viewContainer"),onBlur:ct?Wr:void 0,onMouseLeave:ct?Wr:void 0,children:[sn(),Zn?sn(!0):null]})]})}),KO=Wz();const Gde=eo(KO);var wE={exports:{}},SE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X5;function Kde(){if(X5)return SE;X5=1;var t=Oh();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function l(p,g){var v=g(),b=r({inst:{value:v,getSnapshot:g}}),T=b[0].inst,S=b[1];return s(function(){T.value=v,T.getSnapshot=g,c(T)&&S({inst:T})},[p,v,g]),i(function(){return c(T)&&S({inst:T}),p(function(){c(T)&&S({inst:T})})},[p]),a(v),v}function c(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!n(p,v)}catch{return!0}}function d(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return SE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,SE}var Q5;function z$(){return Q5||(Q5=1,wE.exports=Kde()),wE.exports}var U$=z$();function br(t){this.content=t}br.prototype={constructor:br,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new br(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new br(n)},addToStart:function(t,e){return new br([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new br(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new br(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=br.from(t),t.size?new br(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=br.from(t),t.size?new br(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=br.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};br.from=function(t){if(t instanceof br)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new br(e)};function F$(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){let a=F$(i.content,s.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function $$(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let a=t.child(--i),l=e.child(--s),c=a.nodeSize;if(a==l){n-=c,r-=c;continue}if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let d=0,f=Math.min(a.text.length,l.text.length);for(;d<f&&a.text[a.text.length-d-1]==l.text[l.text.length-d-1];)d++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let d=$$(a.content,l.content,n-1,r-1);if(d)return d}n-=c,r-=c}}class ge{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let a=0,l=0;l<n;a++){let c=this.content[a],d=l+c.nodeSize;if(d>e&&r(c,i+l,s||null,a)!==!1&&c.content.size){let f=l+1;c.nodesBetween(Math.max(0,e-f),Math.min(c.content.size,n-f),r,i+f)}l=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",a=!0;return this.nodesBetween(e,n,(l,c)=>{let d=l.isText?l.text.slice(Math.max(e,c)-c,n-c):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&d||l.isTextblock)&&r&&(a?a=!1:s+=r),s+=d},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new ge(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;c>e&&((a<e||c>n)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,n-a-1))),r.push(l),i+=l.nodeSize),a=c}return new ge(r,i)}cutByIndex(e,n){return e==n?ge.empty:e==0&&n==this.content.length?this:new ge(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new ge(i,s)}addToStart(e){return new ge([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ge(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return F$(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return $$(this,e,n,r)}findIndex(e){if(e==0)return lv(0,e);if(e==this.size)return lv(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?lv(n+1,s):lv(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ge.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ge(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ge.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new ge(n||e,r)}static from(e){if(!e)return ge.empty;if(e instanceof ge)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ge([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ge.empty=new ge([],0);const TE={index:0,offset:0};function lv(t,e){return TE.index=t,TE.offset=e,TE}function Rb(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Rb(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Rb(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let jt=class zA{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Rb(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return zA.none;if(e instanceof zA)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};jt.none=[];class Lb extends Error{}class Ee{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=q$(this.content,e+this.openStart,n);return r&&new Ee(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Ee(H$(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Ee.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ee(ge.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new Ee(e,r,i)}}Ee.empty=new Ee(ge.empty,0,0);function H$(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:a,offset:l}=t.findIndex(n);if(i==e||s.isText){if(l!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(H$(s.content,e-i-1,n-i-1)))}function q$(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=q$(a.content,e-s-1,n,a);return l&&t.replaceChild(i,a.copy(l))}function Yde(t,e,n){if(n.openStart>t.depth)throw new Lb("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Lb("Inconsistent open depths");return W$(t,e,n,0)}function W$(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let a=W$(t,e,n,r+1);return s.copy(s.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,l=a.content;return ld(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:a,end:l}=Xde(n,t);return ld(s,K$(t,a,l,e,r))}else return ld(s,Vb(t,e,r))}function G$(t,e){if(!e.type.compatibleContent(t.type))throw new Lb("Cannot join "+e.type.name+" onto "+t.type.name)}function UA(t,e,n){let r=t.node(n);return G$(r,e.node(n)),r}function od(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Vm(t,e,n,r){let i=(e||t).node(n),s=0,a=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(od(t.nodeAfter,r),s++));for(let l=s;l<a;l++)od(i.child(l),r);e&&e.depth==n&&e.textOffset&&od(e.nodeBefore,r)}function ld(t,e){return t.type.checkContent(e),t.copy(e)}function K$(t,e,n,r,i){let s=t.depth>i&&UA(t,e,i+1),a=r.depth>i&&UA(n,r,i+1),l=[];return Vm(null,t,i,l),s&&a&&e.index(i)==n.index(i)?(G$(s,a),od(ld(s,K$(t,e,n,r,i+1)),l)):(s&&od(ld(s,Vb(t,e,i+1)),l),Vm(e,n,i,l),a&&od(ld(a,Vb(n,r,i+1)),l)),Vm(r,null,i,l),new ge(l)}function Vb(t,e,n){let r=[];if(Vm(null,t,n,r),t.depth>n){let i=UA(t,e,n+1);od(ld(i,Vb(t,e,n+1)),r)}return Vm(e,null,n,r),new ge(r)}function Xde(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(ge.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class pg{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return jt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Bb(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let a=e;;){let{index:l,offset:c}=a.content.findIndex(s),d=s-c;if(r.push(a,l,i+c),!d||(a=a.child(l),a.isText))break;s=d-1,i+=c+1}return new pg(n,r,s)}static resolveCached(e,n){let r=J5.get(e);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else J5.set(e,r=new Qde);let i=r.elts[r.i]=pg.resolve(e,n);return r.i=(r.i+1)%Jde,i}}class Qde{constructor(){this.elts=[],this.i=0}}const Jde=12,J5=new WeakMap;class Bb{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Zde=Object.create(null);class ta{constructor(e,n,r,i=jt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||ge.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Rb(this.attrs,n||e.defaultAttrs||Zde)&&jt.sameSet(this.marks,r||jt.none)}copy(e=null){return e==this.content?this:new ta(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new ta(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Ee.empty;let i=this.resolve(e),s=this.resolve(n),a=r?0:i.sharedDepth(n),l=i.start(a),d=i.node(a).content.cut(i.pos-l,s.pos-l);return new Ee(d,i.depth-a,s.depth-a)}replace(e,n,r){return Yde(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return pg.resolveCached(this,e)}resolveNoCache(e){return pg.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Y$(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ge.empty,i=0,s=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,s),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let c=i;c<s;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=jt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!jt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=ge.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}}ta.prototype.text=void 0;class zb extends ta{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Y$(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new zb(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new zb(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Y$(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Sd{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new efe(e,n);if(r.next==null)return Sd.empty;let i=X$(r);r.next&&r.err("Unexpected trailing text");let s=ofe(afe(i));return lfe(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(a,l){let c=a.matchFragment(e,r);if(c&&(!n||c.validEnd))return ge.from(l.map(d=>d.createAndFill()));for(let d=0;d<a.next.length;d++){let{type:f,next:p}=a.next[d];if(!(f.isText||f.hasRequiredAttrs())&&i.indexOf(p)==-1){i.push(p);let g=s(p,l.concat(f));if(g)return g}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let a=[];for(let l=i;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:l,next:c}=s.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||c.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return s}).join(`
`)}}Sd.empty=new Sd(!0);class efe{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function X$(t){let e=[];do e.push(tfe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function tfe(t){let e=[];do e.push(nfe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function nfe(t){let e=sfe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=rfe(t,e);else break;return e}function Z5(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function rfe(t,e){let n=Z5(t),r=n;return t.eat(",")&&(t.next!="}"?r=Z5(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function ife(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let a=n[s];a.isInGroup(e)&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function sfe(t){if(t.eat("(")){let e=X$(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=ife(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function afe(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(a,l,c){let d={term:c,to:l};return e[a].push(d),d}function i(a,l){a.forEach(c=>c.to=l)}function s(a,l){if(a.type=="choice")return a.exprs.reduce((c,d)=>c.concat(s(d,l)),[]);if(a.type=="seq")for(let c=0;;c++){let d=s(a.exprs[c],l);if(c==a.exprs.length-1)return d;i(d,l=n())}else if(a.type=="star"){let c=n();return r(l,c),i(s(a.expr,c),c),[r(c)]}else if(a.type=="plus"){let c=n();return i(s(a.expr,l),c),i(s(a.expr,c),c),[r(c)]}else{if(a.type=="opt")return[r(l)].concat(s(a.expr,l));if(a.type=="range"){let c=l;for(let d=0;d<a.min;d++){let f=n();i(s(a.expr,c),f),c=f}if(a.max==-1)i(s(a.expr,c),c);else for(let d=a.min;d<a.max;d++){let f=n();r(c,f),i(s(a.expr,c),f),c=f}return[r(c)]}else{if(a.type=="name")return[r(l,void 0,a.value)];throw new Error("Unknown expr type")}}}}function Q$(t,e){return e-t}function eL(t,e){let n=[];return r(e),n.sort(Q$);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let a=0;a<s.length;a++){let{term:l,to:c}=s[a];!l&&n.indexOf(c)==-1&&r(c)}}}function ofe(t){let e=Object.create(null);return n(eL(t,0));function n(r){let i=[];r.forEach(a=>{t[a].forEach(({term:l,to:c})=>{if(!l)return;let d;for(let f=0;f<i.length;f++)i[f][0]==l&&(d=i[f][1]);eL(t,c).forEach(f=>{d||i.push([l,d=[]]),d.indexOf(f)==-1&&d.push(f)})})});let s=e[r.join(",")]=new Sd(r.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let l=i[a][1].sort(Q$);s.next.push({type:i[a][0],next:e[l.join(",")]||n(l)})}return s}}function lfe(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,a=[];for(let l=0;l<i.next.length;l++){let{type:c,next:d}=i.next[l];a.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),r.indexOf(d)==-1&&r.push(d)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function J$(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Z$(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function eH(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function tH(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new ufe(t,r,e[r]);return n}let tL=class nH{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=tH(e,r.attrs),this.defaultAttrs=J$(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Sd.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Z$(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ta(this,this.computeAttrs(e),ge.from(n),jt.setFrom(r))}createChecked(e=null,n,r){return n=ge.from(n),this.checkContent(n),new ta(this,this.computeAttrs(e),n,jt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ge.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(ge.empty,!0);return s?new ta(this,e,n.append(s),jt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){eH(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:jt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,a)=>r[s]=new nH(s,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function cfe(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class ufe{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?cfe(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Gw{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=tH(e,i.attrs),this.excluded=null;let s=J$(this.attrs);this.instance=s?new jt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new jt(this,Z$(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,a)=>r[s]=new Gw(s,i++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){eH(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class rH{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=br.from(e.nodes),n.marks=br.from(e.marks||{}),this.nodes=tL.compile(this.spec.nodes,this),this.marks=Gw.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=Sd.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?nL(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:nL(this,a.split(" "))}this.nodeFromJSON=i=>ta.fromJSON(this,i),this.markFromJSON=i=>jt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof tL){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new zb(r,r.defaultAttrs,e,jt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function nL(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],a=s;if(s)n.push(s);else for(let l in t.marks){let c=t.marks[l];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=c)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function dfe(t){return t.tag!=null}function ffe(t){return t.style!=null}class wc{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(dfe(i))this.tags.push(i);else if(ffe(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new iL(this,n,!1);return r.addAll(e,jt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new iL(this,n,!0);return r.addAll(e,jt.none,n.from,n.to),Ee.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(mfe(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],l=a.style;if(!(l.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(a.getAttrs){let c=a.getAttrs(n);if(c===!1)continue;a.attrs=c||void 0}return a}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let l=n[a];if((l.priority==null?50:l.priority)<s)break}n.splice(a,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=sL(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=sL(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new wc(e,wc.schemaRules(e)))}}const iH={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},hfe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},sH={ol:!0,ul:!0},mg=1,FA=2,Bm=4;function rL(t,e,n){return e!=null?(e?mg:0)|(e==="full"?FA:0):t&&t.whitespace=="pre"?mg|FA:n&~Bm}class cv{constructor(e,n,r,i,s,a){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=jt.none,this.match=s||(a&Bm?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ge.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&mg)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=ge.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ge.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!iH.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class iL{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,a=rL(null,n.preserveWhitespace,0)|(r?Bm:0);i?s=new cv(i.type,i.attrs,jt.none,!0,n.topMatch||i.type.contentMatch,a):r?s=new cv(null,null,jt.none,!0,null,a):s=new cv(e.schema.topNodeType,null,jt.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&FA?"full":this.localPreserveWS||(i.options&mg)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),l;sH.hasOwnProperty(a)&&this.parser.normalizeLists&&pfe(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(c?c.ignore:hfe.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let d,f=this.needsBlock;if(iH.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),d=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let p=c&&c.skip?n:this.readStyles(e,n);p&&this.addAll(e,p),d&&this.sync(s),this.needsBlock=f}else{let d=this.readStyles(e,n);d&&this.addElementByRule(e,c,d,c.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=r.getPropertyValue(s);if(a)for(let l=void 0;;){let c=this.parser.matchStyle(s,a,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(d=>!c.clearMark(d)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return n}addElementByRule(e,n,r,i){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let c=this.enter(a,n.attrs||null,r,n.preserveWhitespace);c&&(s=!0,r=c)}else{let c=this.parser.schema.marks[n.mark];r=r.concat(c.create(n.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c,r),this.findAround(e,c,!1)}s&&this.sync(l)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let a=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];a!=l;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let a=this.open,l=0;a>=0;a--){let c=this.nodes[a],d=c.findWrapping(e);if(d&&(!i||i.length>d.length+l)&&(i=d,s=c,!d.length))break;if(c.solid){if(r)break;l+=2}}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let a=jt.none;for(let l of i.concat(e.marks))(s.type?s.type.allowsMarkType(l.type):aL(l.type,e.type))&&(a=l.addToSet(a));return s.content.push(e.mark(a)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let l=rL(e,s,a.options);a.options&Bm&&a.content.length==0&&(l|=Bm);let c=jt.none;return r=r.filter(d=>(a.type?a.type.allowsMarkType(d.type):aL(d.type,e))?(c=d.addToSet(c),!1):!0),this.nodes.push(new cv(e,n,c,i,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=mg)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=(l,c)=>{for(;l>=0;l--){let d=n[l];if(d==""){if(l==n.length-1||l==0)continue;for(;c>=s;c--)if(a(l-1,c))return!0;return!1}else{let f=c>0||c==0&&i?this.nodes[c].type:r&&c>=s?r.node(c-s).type:null;if(!f||f.name!=d&&!f.isInGroup(d))return!1;c--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function pfe(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&sH.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function mfe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function sL(t){let e={};for(let n in t)e[n]=t[n];return e}function aL(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],a=l=>{s.push(l);for(let c=0;c<l.edgeCount;c++){let{type:d,next:f}=l.edge(c);if(d==e||s.indexOf(f)<0&&a(f))return!0}};if(a(i.contentMatch))return!0}}class Ld{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=EE(n).createDocumentFragment());let i=r,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let l=0,c=0;for(;l<s.length&&c<a.marks.length;){let d=a.marks[c];if(!this.marks[d.type.name]){c++;continue}if(!d.eq(s[l][0])||d.type.spec.spanning===!1)break;l++,c++}for(;l<s.length;)i=s.pop()[1];for(;c<a.marks.length;){let d=a.marks[c++],f=this.serializeMark(d,a.isInline,n);f&&(s.push([d,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Qv(EE(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Qv(EE(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Qv(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ld(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=oL(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return oL(e.marks)}}function oL(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function EE(t){return t.document||window.document}const lL=new WeakMap;function gfe(t){let e=lL.get(t);return e===void 0&&lL.set(t,e=yfe(t)),e}function yfe(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Qv(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=gfe(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let l,c=n?t.createElementNS(n,i):t.createElement(i),d=e[1],f=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){f=2;for(let p in d)if(d[p]!=null){let g=p.indexOf(" ");g>0?c.setAttributeNS(p.slice(0,g),p.slice(g+1),d[p]):p=="style"&&c.style?c.style.cssText=d[p]:c.setAttribute(p,d[p])}}for(let p=f;p<e.length;p++){let g=e[p];if(g===0){if(p<e.length-1||p>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:v,contentDOM:b}=Qv(t,g,n,r);if(c.appendChild(v),b){if(l)throw new RangeError("Multiple content holes");l=b}}}return{dom:c,contentDOM:l}}const aH=65535,oH=Math.pow(2,16);function vfe(t,e){return t+e*oH}function cL(t){return t&aH}function bfe(t){return(t-(t&aH))/oH}const lH=1,cH=2,Jv=4,uH=8;class $A{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&uH)>0}get deletedBefore(){return(this.delInfo&(lH|Jv))>0}get deletedAfter(){return(this.delInfo&(cH|Jv))>0}get deletedAcross(){return(this.delInfo&Jv)>0}}class zi{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&zi.empty)return zi.empty}recover(e){let n=0,r=cL(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+bfe(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?i:0);if(c>e)break;let d=this.ranges[l+s],f=this.ranges[l+a],p=c+d;if(e<=p){let g=d?e==c?-1:e==p?1:n:n,v=c+i+(g<0?0:f);if(r)return v;let b=e==(n<0?c:p)?null:vfe(l/3,e-c),T=e==c?cH:e==p?lH:Jv;return(n<0?e!=c:e!=p)&&(T|=uH),new $A(v,T,b)}i+=f-d}return r?e+i:new $A(e+i,0,null)}touches(e,n){let r=0,i=cL(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>e)break;let d=this.ranges[l+s],f=c+d;if(e<=f&&l==i*3)return!0;r+=this.ranges[l+a]-d}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],l=a-(this.inverted?s:0),c=a+(this.inverted?0:s),d=this.ranges[i+n],f=this.ranges[i+r];e(l,l+d,c,c+f),s+=f-d}}invert(){return new zi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?zi.empty:new zi(e<0?[0,-e,0]:[0,0,e])}}zi.empty=new zi([]);class gg{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new gg(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new gg;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],l=a.mapResult(e,n);if(l.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,e=this._maps[c].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new $A(e,i,null)}}const kE=Object.create(null);let Hr=class{getMap(){return zi.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=kE[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in kE)throw new RangeError("Duplicate use of step JSON ID "+e);return kE[e]=n,n.prototype.jsonID=e,n}};class Vn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Vn(e,null)}static fail(e){return new Vn(null,e)}static fromReplace(e,n,r,i){try{return Vn.ok(e.replace(n,r,i))}catch(s){if(s instanceof Lb)return Vn.fail(s.message);throw s}}}function YO(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(YO(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return ge.fromArray(r)}class uc extends Hr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Ee(YO(n.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return Vn.fromReplace(e,this.from,this.to,s)}invert(){return new ea(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new uc(n.pos,r.pos,this.mark)}merge(e){return e instanceof uc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new uc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new uc(n.from,n.to,e.markFromJSON(n.mark))}}Hr.jsonID("addMark",uc);class ea extends Hr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Ee(YO(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Vn.fromReplace(e,this.from,this.to,r)}invert(){return new uc(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ea(n.pos,r.pos,this.mark)}merge(e){return e instanceof ea&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ea(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ea(n.from,n.to,e.markFromJSON(n.mark))}}Hr.jsonID("removeMark",ea);class dc extends Hr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Vn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Vn.fromReplace(e,this.pos,this.pos+1,new Ee(ge.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new dc(this.pos,n.marks[i]);return new dc(this.pos,this.mark)}}return new Td(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new dc(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new dc(n.pos,e.markFromJSON(n.mark))}}Hr.jsonID("addNodeMark",dc);class Td extends Hr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Vn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Vn.fromReplace(e,this.pos,this.pos+1,new Ee(ge.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new dc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Td(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Td(n.pos,e.markFromJSON(n.mark))}}Hr.jsonID("removeNodeMark",Td);class ar extends Hr{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&HA(e,this.from,this.to)?Vn.fail("Structure replace would overwrite content"):Vn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new zi([this.from,this.to-this.from,this.slice.size])}invert(e){return new ar(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ar(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ar)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Ee.empty:new Ee(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ar(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Ee.empty:new Ee(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ar(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ar(n.from,n.to,Ee.fromJSON(e,n.slice),!!n.structure)}}Hr.jsonID("replace",ar);class or extends Hr{constructor(e,n,r,i,s,a,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=l}apply(e){if(this.structure&&(HA(e,this.from,this.gapFrom)||HA(e,this.gapTo,this.to)))return Vn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Vn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Vn.fromReplace(e,this.from,this.to,r):Vn.fail("Content does not fit in gap")}getMap(){return new zi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new or(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new or(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new or(n.from,n.to,n.gapFrom,n.gapTo,Ee.fromJSON(e,n.slice),n.insert,!!n.structure)}}Hr.jsonID("replaceAround",or);function HA(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function xfe(t,e,n,r){let i=[],s=[],a,l;t.doc.nodesBetween(e,n,(c,d,f)=>{if(!c.isInline)return;let p=c.marks;if(!r.isInSet(p)&&f.type.allowsMarkType(r.type)){let g=Math.max(d,e),v=Math.min(d+c.nodeSize,n),b=r.addToSet(p);for(let T=0;T<p.length;T++)p[T].isInSet(b)||(a&&a.to==g&&a.mark.eq(p[T])?a.to=v:i.push(a=new ea(g,v,p[T])));l&&l.to==g?l.to=v:s.push(l=new uc(g,v,r))}}),i.forEach(c=>t.step(c)),s.forEach(c=>t.step(c))}function wfe(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(a,l)=>{if(!a.isInline)return;s++;let c=null;if(r instanceof Gw){let d=a.marks,f;for(;f=r.isInSet(d);)(c||(c=[])).push(f),d=f.removeFromSet(d)}else r?r.isInSet(a.marks)&&(c=[r]):c=a.marks;if(c&&c.length){let d=Math.min(l+a.nodeSize,n);for(let f=0;f<c.length;f++){let p=c[f],g;for(let v=0;v<i.length;v++){let b=i[v];b.step==s-1&&p.eq(i[v].style)&&(g=b)}g?(g.to=d,g.step=s):i.push({style:p,from:Math.max(l,e),to:d,step:s})}}}),i.forEach(a=>t.step(new ea(a.from,a.to,a.style)))}function XO(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),a=[],l=e+1;for(let c=0;c<s.childCount;c++){let d=s.child(c),f=l+d.nodeSize,p=r.matchType(d.type);if(!p)a.push(new ar(l,f,Ee.empty));else{r=p;for(let g=0;g<d.marks.length;g++)n.allowsMarkType(d.marks[g].type)||t.step(new ea(l,f,d.marks[g]));if(i&&d.isText&&n.whitespace!="pre"){let g,v=/\r?\n|\r/g,b;for(;g=v.exec(d.text);)b||(b=new Ee(ge.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),a.push(new ar(l+g.index,l+g.index+g[0].length,b))}}l=f}if(!r.validEnd){let c=r.fillBefore(ge.empty,!0);t.replace(l,l,new Ee(c,0,0))}for(let c=a.length-1;c>=0;c--)t.step(a[c])}function Sfe(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function $h(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,a,n))return r;if(r==0||i.type.spec.isolating||!Sfe(i,s,a))break}return null}function Tfe(t,e,n){let{$from:r,$to:i,depth:s}=e,a=r.before(s+1),l=i.after(s+1),c=a,d=l,f=ge.empty,p=0;for(let b=s,T=!1;b>n;b--)T||r.index(b)>0?(T=!0,f=ge.from(r.node(b).copy(f)),p++):c--;let g=ge.empty,v=0;for(let b=s,T=!1;b>n;b--)T||i.after(b+1)<i.end(b)?(T=!0,g=ge.from(i.node(b).copy(g)),v++):d++;t.step(new or(c,d,a,l,new Ee(f.append(g),p,v),f.size-p,!0))}function QO(t,e,n=null,r=t){let i=Efe(t,e),s=i&&kfe(r,e);return s?i.map(uL).concat({type:e,attrs:n}).concat(s.map(uL)):null}function uL(t){return{type:t,attrs:null}}function Efe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return n.canReplaceWith(r,i,a)?s:null}function kfe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let c=(a.length?a[a.length-1]:e).contentMatch;for(let d=r;c&&d<i;d++)c=c.matchType(n.child(d).type);return!c||!c.validEnd?null:a}function _fe(t,e,n){let r=ge.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let l=n[a].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ge.from(n[a].type.create(n[a].attrs,r))}let i=e.start,s=e.end;t.step(new or(i,s,i,s,new Ee(r,0,0),n.length,!0))}function Afe(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(a,l)=>{let c=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,c)&&Cfe(t.doc,t.mapping.slice(s).map(l),r)){let d=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",b=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!b?d=!1:!v&&b&&(d=!0)}d===!1&&fH(t,a,l,s),XO(t,t.mapping.slice(s).map(l,1),r,void 0,d===null);let f=t.mapping.slice(s),p=f.map(l,1),g=f.map(l+a.nodeSize,1);return t.step(new or(p,g,p+1,g-1,new Ee(ge.from(r.create(c,null,a.marks)),0,0),1,!0)),d===!0&&dH(t,a,l,s),!1}})}function dH(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(i.text);){let c=t.mapping.slice(r).map(n+1+s+a.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function fH(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+s);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function Cfe(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function Ofe(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new or(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Ee(ge.from(a),0,0),1,!0))}function Vo(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let d=i.depth-1,f=n-2;d>s;d--,f--){let p=i.node(d),g=i.index(d);if(p.type.spec.isolating)return!1;let v=p.content.cutByIndex(g,p.childCount),b=r&&r[f+1];b&&(v=v.replaceChild(0,b.type.create(b.attrs)));let T=r&&r[f]||p;if(!p.canReplace(g+1,p.childCount)||!T.type.validContent(v))return!1}let l=i.indexAfter(s),c=r&&r[0];return i.node(s).canReplaceWith(l,l,c?c.type:i.node(s+1).type)}function Nfe(t,e,n=1,r){let i=t.doc.resolve(e),s=ge.empty,a=ge.empty;for(let l=i.depth,c=i.depth-n,d=n-1;l>c;l--,d--){s=ge.from(i.node(l).copy(s));let f=r&&r[d];a=ge.from(f?f.type.create(f.attrs,a):i.node(l).copy(a))}t.step(new ar(e,e,new Ee(s.append(a),n,n),!0))}function Xc(t,e){let n=t.resolve(e),r=n.index();return hH(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Mfe(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),a=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function hH(t,e){return!!(t&&e&&!t.isLeaf&&Mfe(t,e))}function Kw(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,a,l=r.index(i);if(i==r.depth?(s=r.nodeBefore,a=r.nodeAfter):n>0?(s=r.node(i+1),l++,a=r.node(i).maybeChild(l)):(s=r.node(i).maybeChild(l-1),a=r.node(i+1)),s&&!s.isTextblock&&hH(s,a)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function jfe(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),a=s.node().type;if(i&&a.inlineContent){let f=a.whitespace=="pre",p=!!a.contentMatch.matchType(i);f&&!p?r=!1:!f&&p&&(r=!0)}let l=t.steps.length;if(r===!1){let f=t.doc.resolve(e+n);fH(t,f.node(),f.before(),l)}a.inlineContent&&XO(t,e+n-1,a,s.node().contentMatchAt(s.index()),r==null);let c=t.mapping.slice(l),d=c.map(e-n);if(t.step(new ar(d,c.map(e+n,-1),Ee.empty,!0)),r===!0){let f=t.doc.resolve(d);dH(t,f.node(),f.before(),t.steps.length)}return t}function Ife(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function pH(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,c=r.index(a)+(l>0?1:0),d=r.node(a),f=!1;if(s==1)f=d.canReplace(c,c,i);else{let p=d.contentMatchAt(c).findWrapping(i.firstChild.type);f=p&&d.canReplaceWith(c,c,p[0])}if(f)return l==0?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function Yw(t,e,n=e,r=Ee.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return mH(i,s,r)?new ar(e,n,r):new Dfe(i,s,r).fit()}function mH(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Dfe{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ge.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ge.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,a=r.depth,l=i.depth;for(;a&&l&&s.childCount==1;)s=s.firstChild.content,a--,l--;let c=new Ee(s,a,l);return e>-1?new or(r.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new ar(r.pos,i.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=_E(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:d}=this.frontier[l],f,p=null;if(n==1&&(a?d.matchType(a.type)||(p=d.fillBefore(ge.from(a),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:p};if(n==2&&a&&(f=d.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:f};if(s&&d.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=_E(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ee(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=_E(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new Ee(xm(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Ee(xm(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let T=0;T<s.length;T++)this.openFrontierNode(s[T]);let a=this.unplaced,l=r?r.content:a.content,c=a.openStart-e,d=0,f=[],{match:p,type:g}=this.frontier[n];if(i){for(let T=0;T<i.childCount;T++)f.push(i.child(T));p=p.matchFragment(i)}let v=l.size+e-(a.content.size-a.openEnd);for(;d<l.childCount;){let T=l.child(d),S=p.matchType(T.type);if(!S)break;d++,(d>1||c==0||T.content.size)&&(p=S,f.push(gH(T.mark(g.allowedMarks(T.marks)),d==1?c:0,d==l.childCount?v:-1)))}let b=d==l.childCount;b||(v=-1),this.placed=wm(this.placed,n,ge.from(f)),this.frontier[n].match=p,b&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let T=0,S=l;T<v;T++){let k=S.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),S=k.content}this.unplaced=b?e==0?Ee.empty:new Ee(xm(a.content,e-1,1),e-1,v<0?a.openEnd:e-1):new Ee(xm(a.content,e,d),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!AE(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=AE(e,n,i,r,s);if(a){for(let l=n-1;l>=0;l--){let{match:c,type:d}=this.frontier[l],f=AE(e,l,d,c,!0);if(!f||f.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=wm(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=wm(this.placed,this.depth,ge.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ge.empty,!0);n.childCount&&(this.placed=wm(this.placed,this.frontier.length,n))}}function xm(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(xm(t.firstChild.content,e-1,n)))}function wm(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(wm(t.lastChild.content,e-1,n)))}function _E(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function gH(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,gH(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ge.empty,!0)))),t.copy(r)}function AE(t,e,n,r,i){let s=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,a);return l&&!Pfe(n,s.content,a)?l:null}function Pfe(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function Rfe(t){return t.spec.defining||t.spec.definingForContent}function Lfe(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(mH(i,s,r))return t.step(new ar(e,n,r));let a=vH(i,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let l=-(i.depth+1);a.unshift(l);for(let g=i.depth,v=i.pos-1;g>0;g--,v--){let b=i.node(g).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;a.indexOf(g)>-1?l=g:i.before(g)==v&&a.splice(1,0,-g)}let c=a.indexOf(l),d=[],f=r.openStart;for(let g=r.content,v=0;;v++){let b=g.firstChild;if(d.push(b),v==r.openStart)break;g=b.content}for(let g=f-1;g>=0;g--){let v=d[g],b=Rfe(v.type);if(b&&!v.sameMarkup(i.node(Math.abs(l)-1)))f=g;else if(b||!v.type.isTextblock)break}for(let g=r.openStart;g>=0;g--){let v=(g+f+1)%(r.openStart+1),b=d[v];if(b)for(let T=0;T<a.length;T++){let S=a[(T+c)%a.length],k=!0;S<0&&(k=!1,S=-S);let C=i.node(S-1),N=i.index(S-1);if(C.canReplaceWith(N,N,b.type,b.marks))return t.replace(i.before(S),k?s.after(S):n,new Ee(yH(r.content,0,r.openStart,v),v,r.openEnd))}}let p=t.steps.length;for(let g=a.length-1;g>=0&&(t.replace(e,n,r),!(t.steps.length>p));g--){let v=a[g];v<0||(e=i.before(v),n=s.after(v))}}function yH(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(yH(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(ge.empty,!0))}return t}function Vfe(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=Ife(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Ee(ge.from(r),0,0))}function Bfe(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=vH(r,i);for(let a=0;a<s.length;a++){let l=s[a],c=a==s.length-1;if(c&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(c||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function vH(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class sh extends Hr{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Vn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Vn.fromReplace(e,this.pos,this.pos+1,new Ee(ge.from(i),0,n.isLeaf?0:1))}getMap(){return zi.empty}invert(e){return new sh(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new sh(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new sh(n.pos,n.attr,n.value)}}Hr.jsonID("attr",sh);class yg extends Hr{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Vn.ok(r)}getMap(){return zi.empty}invert(e){return new yg(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new yg(n.attr,n.value)}}Hr.jsonID("docAttr",yg);let bh=class extends Error{};bh=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};bh.prototype=Object.create(Error.prototype);bh.prototype.constructor=bh;bh.prototype.name="TransformError";class bH{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new gg}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new bh(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Ee.empty){let i=Yw(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Ee(ge.from(r),0,0))}delete(e,n){return this.replace(e,n,Ee.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return Lfe(this,e,n,r),this}replaceRangeWith(e,n,r){return Vfe(this,e,n,r),this}deleteRange(e,n){return Bfe(this,e,n),this}lift(e,n){return Tfe(this,e,n),this}join(e,n=1){return jfe(this,e,n),this}wrap(e,n){return _fe(this,e,n),this}setBlockType(e,n=e,r,i=null){return Afe(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return Ofe(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new sh(e,n,r)),this}setDocAttribute(e,n){return this.step(new yg(e,n)),this}addNodeMark(e,n){return this.step(new dc(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof jt)n.isInSet(r.marks)&&this.step(new Td(e,n));else{let i=r.marks,s,a=[];for(;s=n.isInSet(i);)a.push(new Td(e,s)),i=s.removeFromSet(i);for(let l=a.length-1;l>=0;l--)this.step(a[l])}return this}split(e,n=1,r){return Nfe(this,e,n,r),this}addMark(e,n,r){return xfe(this,e,n,r),this}removeMark(e,n,r){return wfe(this,e,n,r),this}clearIncompatible(e,n,r){return XO(this,e,n,r),this}}const CE=Object.create(null);class Ze{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new zfe(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Ee.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let s=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:c,$to:d}=a[l],f=e.mapping.slice(s);e.replaceRange(f.map(c.pos),f.map(d.pos),l?Ee.empty:n),l==0&&hL(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:l}=i[s],c=e.mapping.slice(r),d=c.map(a.pos),f=c.map(l.pos);s?e.deleteRange(d,f):(e.replaceRangeWith(d,f,n),hL(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new $e(e):Vf(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let a=n<0?Vf(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Vf(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new $i(e.node(0))}static atStart(e){return Vf(e,e,0,0,1)||new $i(e)}static atEnd(e){return Vf(e,e,e.content.size,e.childCount,-1)||new $i(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=CE[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in CE)throw new RangeError("Duplicate use of selection JSON ID "+e);return CE[e]=n,n.prototype.jsonID=e,n}getBookmark(){return $e.between(this.$anchor,this.$head).getBookmark()}}Ze.prototype.visible=!0;class zfe{constructor(e,n){this.$from=e,this.$to=n}}let dL=!1;function fL(t){!dL&&!t.parent.inlineContent&&(dL=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class $e extends Ze{constructor(e,n=e){fL(e),fL(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ze.near(r);let i=e.resolve(n.map(this.anchor));return new $e(i.parent.inlineContent?i:r,r)}replace(e,n=Ee.empty){if(super.replace(e,n),n==Ee.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof $e&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Xw(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new $e(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Ze.findFrom(n,r,!0)||Ze.findFrom(n,-r,!0);if(s)n=s.$head;else return Ze.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Ze.findFrom(e,-r,!0)||Ze.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new $e(e,n)}}Ze.jsonID("text",$e);class Xw{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Xw(e.map(this.anchor),e.map(this.head))}resolve(e){return $e.between(e.resolve(this.anchor),e.resolve(this.head))}}class Le extends Ze{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Ze.near(s):new Le(s)}content(){return new Ee(ge.from(this.node),0,0)}eq(e){return e instanceof Le&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new JO(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Le(e.resolve(n.anchor))}static create(e,n){return new Le(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Le.prototype.visible=!1;Ze.jsonID("node",Le);class JO{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Xw(r,r):new JO(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Le.isSelectable(r)?new Le(n):Ze.near(n)}}class $i extends Ze{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Ee.empty){if(n==Ee.empty){e.delete(0,e.doc.content.size);let r=Ze.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new $i(e)}map(e){return new $i(e)}eq(e){return e instanceof $i}getBookmark(){return Ufe}}Ze.jsonID("all",$i);const Ufe={map(){return this},resolve(t){return new $i(t)}};function Vf(t,e,n,r,i,s=!1){if(e.inlineContent)return $e.create(t,n);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let l=e.child(a);if(l.isAtom){if(!s&&Le.isSelectable(l))return Le.create(t,n-(i<0?l.nodeSize:0))}else{let c=Vf(t,l,n+i,i<0?l.childCount:0,i,s);if(c)return c}n+=l.nodeSize*i}return null}function hL(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof ar||i instanceof or))return;let s=t.mapping.maps[r],a;s.forEach((l,c,d,f)=>{a==null&&(a=f)}),t.setSelection(Ze.near(t.doc.resolve(a),n))}const pL=1,uv=2,mL=4;class Ffe extends bH{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|pL)&~uv,this.storedMarks=null,this}get selectionSet(){return(this.updated&pL)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=uv,this}ensureMarks(e){return jt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&uv)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~uv,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||jt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(Ze.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=mL,this}get scrolledIntoView(){return(this.updated&mL)>0}}function gL(t,e){return!e||!t?t:t.bind(e)}class Sm{constructor(e,n,r){this.name=e,this.init=gL(n.init,r),this.apply=gL(n.apply,r)}}const $fe=[new Sm("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Sm("selection",{init(t,e){return t.selection||Ze.atStart(e.doc)},apply(t){return t.selection}}),new Sm("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Sm("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class OE{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=$fe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Sm(r.key,r.spec.state,r))})}}class Qf{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let c=i?i[a].n:0,d=i?i[a].state:this,f=c<n.length&&l.spec.appendTransaction.call(l,c?n.slice(c):n,d,r);if(f&&r.filterTransaction(f,a)){if(f.setMeta("appendedTransaction",e),!i){i=[];for(let p=0;p<this.config.plugins.length;p++)i.push(p<a?{state:r,n:n.length}:{state:this,n:0})}n.push(f),r=r.applyInner(f),s=!0}i&&(i[a]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Qf(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new Ffe(this)}static create(e){let n=new OE(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Qf(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new OE(this.schema,e.plugins),r=n.fields,i=new Qf(n);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new OE(e.schema,e.plugins),s=new Qf(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=ta.fromJSON(e.schema,n.doc);else if(a.name=="selection")s.selection=Ze.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let c=r[l],d=c.spec.state;if(c.key==a.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){s[a.name]=d.fromJSON.call(c,e,n[l],s);return}}s[a.name]=a.init(e,s)}}),s}}function xH(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=xH(i,e,{})),n[r]=i}return n}class cn{constructor(e){this.spec=e,this.props={},e.props&&xH(e.props,this,this.props),this.key=e.key?e.key.key:wH("plugin")}getState(e){return e[this.key]}}const NE=Object.create(null);function wH(t){return t in NE?t+"$"+ ++NE[t]:(NE[t]=0,t+"$")}class Kn{constructor(e="key"){this.key=wH(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ZO=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function SH(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const TH=(t,e,n)=>{let r=SH(t,n);if(!r)return!1;let i=eN(r);if(!i){let a=r.blockRange(),l=a&&$h(a);return l==null?!1:(e&&e(t.tr.lift(a,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(jH(t,i,e,-1))return!0;if(r.parent.content.size==0&&(xh(s,"end")||Le.isSelectable(s)))for(let a=r.depth;;a--){let l=Yw(t.doc,r.before(a),r.after(a),Ee.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(xh(s,"end")?Ze.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):Le.create(c.doc,i.pos-s.nodeSize)),e(c.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},Hfe=(t,e,n)=>{let r=SH(t,n);if(!r)return!1;let i=eN(r);return i?EH(t,i,e):!1},qfe=(t,e,n)=>{let r=_H(t,n);if(!r)return!1;let i=tN(r);return i?EH(t,i,e):!1};function EH(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let f=i.lastChild;if(!f)return!1;i=f}let a=e.nodeAfter,l=a,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let f=l.firstChild;if(!f)return!1;l=f}let d=Yw(t.doc,s,c,Ee.empty);if(!d||d.from!=s||d instanceof ar&&d.slice.size>=c-s)return!1;if(n){let f=t.tr.step(d);f.setSelection($e.create(f.doc,s)),n(f.scrollIntoView())}return!0}function xh(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const kH=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=eN(r)}let a=s&&s.nodeBefore;return!a||!Le.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Le.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function eN(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function _H(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const AH=(t,e,n)=>{let r=_H(t,n);if(!r)return!1;let i=tN(r);if(!i)return!1;let s=i.nodeAfter;if(jH(t,i,e,1))return!0;if(r.parent.content.size==0&&(xh(s,"start")||Le.isSelectable(s))){let a=Yw(t.doc,r.before(),r.after(),Ee.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(xh(s,"start")?Ze.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):Le.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},CH=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=tN(r)}let a=s&&s.nodeAfter;return!a||!Le.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Le.create(t.doc,s.pos)).scrollIntoView()),!0)};function tN(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Wfe=(t,e)=>{let n=t.selection,r=n instanceof Le,i;if(r){if(n.node.isTextblock||!Xc(t.doc,n.from))return!1;i=n.from}else if(i=Kw(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(Le.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},Gfe=(t,e)=>{let n=t.selection,r;if(n instanceof Le){if(n.node.isTextblock||!Xc(t.doc,n.to))return!1;r=n.to}else if(r=Kw(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},Kfe=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&$h(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},OH=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function nN(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Yfe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=nN(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let l=n.after(),c=t.tr.replaceWith(l,l,a.createAndFill());c.setSelection(Ze.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},NH=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof $i||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=nN(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(a,s.createAndFill());l.setSelection($e.create(l.doc,a+1)),e(l.scrollIntoView())}return!0},MH=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Vo(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&$h(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function Xfe(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Le&&e.selection.node.isBlock)return!r.parentOffset||!Vo(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,l,c=!1,d=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){c=r.end(v)==r.pos+(r.depth-v),d=r.start(v)==r.pos-(r.depth-v),l=nN(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),s.unshift(c&&l?{type:l}:null),a=v;break}else{if(v==1)return!1;s.unshift(null)}let f=e.tr;(e.selection instanceof $e||e.selection instanceof $i)&&f.deleteSelection();let p=f.mapping.map(r.pos),g=Vo(f.doc,p,s.length,s);if(g||(s[0]=l?{type:l}:null,g=Vo(f.doc,p,s.length,s)),!g)return!1;if(f.split(p,s.length,s),!c&&d&&r.node(a).type!=l){let v=f.mapping.map(r.before(a)),b=f.doc.resolve(v);l&&r.node(a-1).canReplaceWith(b.index(),b.index()+1,l)&&f.setNodeMarkup(f.mapping.map(r.before(a)),l)}return n&&n(f.scrollIntoView()),!0}}const Qfe=Xfe(),Jfe=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(Le.create(t.doc,i))),!0)};function Zfe(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Xc(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function jH(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,a,l,c=i.type.spec.isolating||s.type.spec.isolating;if(!c&&Zfe(t,e,n))return!0;let d=!c&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(a=(l=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&l.matchType(a[0]||s.type).validEnd){if(n){let v=e.pos+s.nodeSize,b=ge.empty;for(let k=a.length-1;k>=0;k--)b=ge.from(a[k].create(null,b));b=ge.from(i.copy(b));let T=t.tr.step(new or(e.pos-1,v,e.pos,v,new Ee(b,1,0),a.length,!0)),S=T.doc.resolve(v+2*a.length);S.nodeAfter&&S.nodeAfter.type==i.type&&Xc(T.doc,S.pos)&&T.join(S.pos),n(T.scrollIntoView())}return!0}let f=s.type.spec.isolating||r>0&&c?null:Ze.findFrom(e,1),p=f&&f.$from.blockRange(f.$to),g=p&&$h(p);if(g!=null&&g>=e.depth)return n&&n(t.tr.lift(p,g).scrollIntoView()),!0;if(d&&xh(s,"start",!0)&&xh(i,"end")){let v=i,b=[];for(;b.push(v),!v.isTextblock;)v=v.lastChild;let T=s,S=1;for(;!T.isTextblock;T=T.firstChild)S++;if(v.canReplace(v.childCount,v.childCount,T.content)){if(n){let k=ge.empty;for(let N=b.length-1;N>=0;N--)k=ge.from(b[N].copy(k));let C=t.tr.step(new or(e.pos-b.length,e.pos+s.nodeSize,e.pos+S,e.pos+s.nodeSize-S,new Ee(k,b.length,0),0,!0));n(C.scrollIntoView())}return!0}}return!1}function IH(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection($e.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const ehe=IH(-1),the=IH(1);function nhe(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),l=a&&QO(a,t,e);return l?(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}function yL(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];n.doc.nodesBetween(a,l,(c,d)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)i=!0;else{let f=n.doc.resolve(d),p=f.index();i=f.parent.canReplaceWith(p,p+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[a];s.setBlockType(l,c,t,e)}r(s.scrollIntoView())}return!0}}function rN(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}rN(ZO,TH,kH);rN(ZO,AH,CH);rN(OH,NH,MH,Qfe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function rhe(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s);if(!a)return!1;let l=r?n.tr:null;return ihe(l,a,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}function ihe(t,e,n,r=null){let i=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=a.resolve(e.start-2);s=new Bb(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new Bb(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let l=QO(s,n,r,e);return l?(t&&she(t,e,l,i,n),!0):!1}function she(t,e,n,r,i){let s=ge.empty;for(let f=n.length-1;f>=0;f--)s=ge.from(n[f].type.create(n[f].attrs,s));t.step(new or(e.start-(r?2:0),e.end,e.start,e.end,new Ee(s,0,0),n.length,!0));let a=0;for(let f=0;f<n.length;f++)n[f].type==i&&(a=f+1);let l=n.length-a,c=e.start+n.length-(r?2:0),d=e.parent;for(let f=e.startIndex,p=e.endIndex,g=!0;f<p;f++,g=!1)!g&&Vo(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=d.child(f).nodeSize;return t}function ahe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?ohe(e,n,t,s):lhe(e,n,s):!0:!1}}function ohe(t,e,n,r){let i=t.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new or(s-1,a,s,a,new Ee(ge.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Bb(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const l=$h(r);if(l==null)return!1;i.lift(r,l);let c=i.doc.resolve(i.mapping.map(s,-1)-1);return Xc(i.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&i.join(c.pos),e(i.scrollIntoView()),!0}function lhe(t,e,n){let r=t.tr,i=n.parent;for(let v=n.end,b=n.endIndex-1,T=n.startIndex;b>T;b--)v-=i.child(b).nodeSize,r.delete(v-1,v+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,c=n.endIndex==i.childCount,d=s.node(-1),f=s.index(-1);if(!d.canReplace(f+(l?0:1),f+1,a.content.append(c?ge.empty:ge.from(i))))return!1;let p=s.pos,g=p+a.nodeSize;return r.step(new or(p-(l?1:0),g+(c?1:0),p+1,g-1,new Ee((l?ge.empty:ge.from(i.copy(ge.empty))).append(c?ge.empty:ge.from(i.copy(ge.empty))),l?0:1,c?0:1),l?0:1)),e(r.scrollIntoView()),!0}function che(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,d=>d.childCount>0&&d.firstChild.type==t);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let l=s.parent,c=l.child(a-1);if(c.type!=t)return!1;if(n){let d=c.lastChild&&c.lastChild.type==l.type,f=ge.from(d?t.create():null),p=new Ee(ge.from(t.create(null,ge.from(l.type.create(null,f)))),d?3:1,0),g=s.start,v=s.end;n(e.tr.step(new or(g-(d?3:1),v,g,v,p,1,!0)).scrollIntoView())}return!0}}const Tr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},wh=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let qA=null;const Oo=function(t,e,n){let r=qA||(qA=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},uhe=function(){qA=null},Ed=function(t,e,n,r){return n&&(vL(t,e,n,r,-1)||vL(t,e,n,r,1))},dhe=/^(img|br|input|textarea|hr)$/i;function vL(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:bs(t))){let a=t.parentNode;if(!a||a.nodeType!=1||l0(t)||dhe.test(t.nodeName)||t.contentEditable=="false")return!1;e=Tr(t)+(i<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=a,e=i<0?bs(t):0}else return!1}}function bs(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function fhe(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=bs(t)}else if(t.parentNode&&!l0(t))e=Tr(t),t=t.parentNode;else return null}}function hhe(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!l0(t))e=Tr(t)+1,t=t.parentNode;else return null}}function phe(t,e,n){for(let r=e==0,i=e==bs(t);r||i;){if(t==n)return!0;let s=Tr(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==bs(t)}}function l0(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Qw=function(t){return t.focusNode&&Ed(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Hu(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function mhe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function ghe(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(bs(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(bs(r.startContainer),r.startOffset)}}}const Ga=typeof navigator<"u"?navigator:null,bL=typeof document<"u"?document:null,Qc=Ga&&Ga.userAgent||"",WA=/Edge\/(\d+)/.exec(Qc),DH=/MSIE \d/.exec(Qc),GA=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Qc),wi=!!(DH||GA||WA),Sc=DH?document.documentMode:GA?+GA[1]:WA?+WA[1]:0,_s=!wi&&/gecko\/(\d+)/i.test(Qc);_s&&+(/Firefox\/(\d+)/.exec(Qc)||[0,0])[1];const KA=!wi&&/Chrome\/(\d+)/.exec(Qc),Fr=!!KA,PH=KA?+KA[1]:0,ti=!wi&&!!Ga&&/Apple Computer/.test(Ga.vendor),Sh=ti&&(/Mobile\/\w+/.test(Qc)||!!Ga&&Ga.maxTouchPoints>2),ms=Sh||(Ga?/Mac/.test(Ga.platform):!1),yhe=Ga?/Win/.test(Ga.platform):!1,Do=/Android \d/.test(Qc),c0=!!bL&&"webkitFontSmoothing"in bL.documentElement.style,vhe=c0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function bhe(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ko(t,e){return typeof t=="number"?t:t[e]}function xhe(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function xL(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=wh(a);continue}let l=a,c=l==s.body,d=c?bhe(s):xhe(l),f=0,p=0;if(e.top<d.top+ko(r,"top")?p=-(d.top-e.top+ko(i,"top")):e.bottom>d.bottom-ko(r,"bottom")&&(p=e.bottom-e.top>d.bottom-d.top?e.top+ko(i,"top")-d.top:e.bottom-d.bottom+ko(i,"bottom")),e.left<d.left+ko(r,"left")?f=-(d.left-e.left+ko(i,"left")):e.right>d.right-ko(r,"right")&&(f=e.right-d.right+ko(i,"right")),f||p)if(c)s.defaultView.scrollBy(f,p);else{let v=l.scrollLeft,b=l.scrollTop;p&&(l.scrollTop+=p),f&&(l.scrollLeft+=f);let T=l.scrollLeft-v,S=l.scrollTop-b;e={left:e.left-T,top:e.top-S,right:e.right-T,bottom:e.bottom-S}}let g=c?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(g))break;a=g=="absolute"?a.offsetParent:wh(a)}}function whe(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let l=t.root.elementFromPoint(s,a);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=n-20){r=l,i=c.top;break}}return{refDOM:r,refTop:i,stack:RH(t.dom)}}function RH(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=wh(r));return e}function She({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;LH(n,r==0?0:r-e)}function LH(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Of=null;function The(t){if(t.setActive)return t.setActive();if(Of)return t.focus(Of);let e=RH(t);t.focus(Of==null?{get preventScroll(){return Of={preventScroll:!0},!0}}:void 0),Of||(Of=!1,LH(e,0))}function VH(t,e){let n,r=2e8,i,s=0,a=e.top,l=e.top,c,d;for(let f=t.firstChild,p=0;f;f=f.nextSibling,p++){let g;if(f.nodeType==1)g=f.getClientRects();else if(f.nodeType==3)g=Oo(f).getClientRects();else continue;for(let v=0;v<g.length;v++){let b=g[v];if(b.top<=a&&b.bottom>=l){a=Math.max(b.bottom,a),l=Math.min(b.top,l);let T=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(T<r){n=f,r=T,i=T&&n.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,f.nodeType==1&&T&&(s=p+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!c&&b.left<=e.left&&b.right>=e.left&&(c=f,d={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!n&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(s=p+1)}}return!n&&c&&(n=c,i=d,r=0),n&&n.nodeType==3?Ehe(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:VH(n,i)}function Ehe(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Xl(r,1);if(s.top!=s.bottom&&iN(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function iN(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function khe(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function _he(t,e,n){let{node:r,offset:i}=VH(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function Ahe(t,e,n,r){let i=-1;for(let s=e,a=!1;s!=t.dom;){let l=t.docView.nearestDesc(s,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!a&&c.left>r.left||c.top>r.top?i=l.posBefore:(!a&&c.right<r.left||c.bottom<r.top)&&(i=l.posAfter),a=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function BH(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let a=t.childNodes[s];if(a.nodeType==1){let l=a.getClientRects();for(let c=0;c<l.length;c++){let d=l[c];if(iN(e,d))return BH(a,e,d)}}if((s=(s+1)%r)==i)break}return t}function Che(t,e){let n=t.dom.ownerDocument,r,i=0,s=ghe(n,e.left,e.top);s&&({node:r,offset:i}=s);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let d=t.dom.getBoundingClientRect();if(!iN(e,d)||(a=BH(t.dom,e,d),!a))return null}if(ti)for(let d=a;r&&d;d=wh(d))d.draggable&&(r=void 0);if(a=khe(a,e),r){if(_s&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let f=r.childNodes[i],p;f.nodeName=="IMG"&&(p=f.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&i++}let d;c0&&i&&r.nodeType==1&&(d=r.childNodes[i-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=Ahe(t,r,i,e))}l==null&&(l=_he(t,a,e));let c=t.docView.nearestDesc(a,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function wL(t){return t.top<t.bottom||t.left<t.right}function Xl(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(wL(r))return r}return Array.prototype.find.call(n,wL)||t.getBoundingClientRect()}const Ohe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function zH(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),a=c0||_s;if(r.nodeType==3)if(a&&(Ohe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let c=Xl(Oo(r,i,i),n);if(_s&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let d=Xl(Oo(r,i-1,i-1),-1);if(d.top==c.top){let f=Xl(Oo(r,i,i+1),-1);if(f.top!=c.top)return Zp(f,f.left<d.left)}}return c}else{let c=i,d=i,f=n<0?1:-1;return n<0&&!i?(d++,f=-1):n>=0&&i==r.nodeValue.length?(c--,f=1):n<0?c--:d++,Zp(Xl(Oo(r,c,d),f),f<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==bs(r))){let c=r.childNodes[i-1];if(c.nodeType==1)return ME(c.getBoundingClientRect(),!1)}if(s==null&&i<bs(r)){let c=r.childNodes[i];if(c.nodeType==1)return ME(c.getBoundingClientRect(),!0)}return ME(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==bs(r))){let c=r.childNodes[i-1],d=c.nodeType==3?Oo(c,bs(c)-(a?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(d)return Zp(Xl(d,1),!1)}if(s==null&&i<bs(r)){let c=r.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let d=c?c.nodeType==3?Oo(c,0,a?0:1):c.nodeType==1?c:null:null;if(d)return Zp(Xl(d,-1),!0)}return Zp(Xl(r.nodeType==3?Oo(r):r,-n),n>=0)}function Zp(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function ME(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function UH(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function Nhe(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return UH(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let a=zH(t,i.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=Oo(l,0,l.nodeValue.length).getClientRects();else continue;for(let d=0;d<c.length;d++){let f=c[d];if(f.bottom>f.top+1&&(n=="up"?a.top-f.top>(f.bottom-a.top)*2:f.bottom-a.bottom>(a.bottom-f.top)*2))return!1}}return!0})}const Mhe=/[\u0590-\u08ac]/;function jhe(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,l=t.domSelection();return l?!Mhe.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?s:a:UH(t,e,()=>{let{focusNode:c,focusOffset:d,anchorNode:f,anchorOffset:p}=t.domSelectionRange(),g=l.caretBidiLevel;l.modify("move",n,"character");let v=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:b,focusOffset:T}=t.domSelectionRange(),S=b&&!v.contains(b.nodeType==1?b:b.parentNode)||c==b&&d==T;try{l.collapse(f,p),c&&(c!=f||d!=p)&&l.extend&&l.extend(c,d)}catch{}return g!=null&&(l.caretBidiLevel=g),S}):r.pos==r.start()||r.pos==r.end()}let SL=null,TL=null,EL=!1;function Ihe(t,e,n){return SL==e&&TL==n?EL:(SL=e,TL=n,EL=n=="up"||n=="down"?Nhe(t,e,n):jhe(t,e,n))}const As=0,kL=1,Ku=2,Ka=3;class u0{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=As,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,a;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Tr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!n||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let l=i.children[a];if(l.size){i=l;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],l=s+a.size;if(l>e||a instanceof $H){i=e-s;break}s=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof FH&&s.side>=0;r--);if(n<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Tr(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Tr(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,l=0;;l++){let c=this.children[l],d=a+c.size;if(i==-1&&e<=d){let f=a+c.border;if(e>=f&&n<=d-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,n,f);e=a;for(let p=l;p>0;p--){let g=this.children[p-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){i=Tr(g.dom)+1;break}e-=g.size}i==-1&&(i=0)}if(i>-1&&(d>n||l==this.children.length-1)){n=d;for(let f=l+1;f<this.children.length;f++){let p=this.children[f];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){s=Tr(p.dom);break}n+=p.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=d}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),a=Math.max(e,n);for(let v=0,b=0;v<this.children.length;v++){let T=this.children[v],S=b+T.size;if(s>b&&a<S)return T.setSelection(e-b-T.border,n-b-T.border,r,i);b=S}let l=this.domFromPos(e,e?-1:1),c=n==e?l:this.domFromPos(n,n?-1:1),d=r.root.getSelection(),f=r.domSelectionRange(),p=!1;if((_s||ti)&&e==n){let{node:v,offset:b}=l;if(v.nodeType==3){if(p=!!(b&&v.nodeValue[b-1]==`
`),p&&b==v.nodeValue.length)for(let T=v,S;T;T=T.parentNode){if(S=T.nextSibling){S.nodeName=="BR"&&(l=c={node:S.parentNode,offset:Tr(S)+1});break}let k=T.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let T=v.childNodes[b-1];p=T&&(T.nodeName=="BR"||T.contentEditable=="false")}}if(_s&&f.focusNode&&f.focusNode!=c.node&&f.focusNode.nodeType==1){let v=f.focusNode.childNodes[f.focusOffset];v&&v.contentEditable=="false"&&(i=!0)}if(!(i||p&&ti)&&Ed(l.node,l.offset,f.anchorNode,f.anchorOffset)&&Ed(c.node,c.offset,f.focusNode,f.focusOffset))return;let g=!1;if((d.extend||e==n)&&!(p&&_s)){d.collapse(l.node,l.offset);try{e!=n&&d.extend(c.node,c.offset),g=!0}catch{}}if(!g){if(e>n){let b=l;l=c,c=b}let v=document.createRange();v.setEnd(c.node,c.offset),v.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let l=r+s.border,c=a-s.border;if(e>=l&&n<=c){this.dirty=e==r||n==a?Ku:kL,e==l&&n==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Ka:s.markDirty(e-l,n-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Ku:Ka}r=a}this.dirty=Ku}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Ku:kL;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class FH extends u0{constructor(e,n,r,i){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==As&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Dhe extends u0{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class kd extends u0{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],a=s&&s(n,i,r);return(!a||!a.dom)&&(a=Ld.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new kd(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Ka||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ka&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=As){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=As}}slice(e,n,r){let i=kd.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;n<a&&(s=XA(s,n,a,r)),e>0&&(s=XA(s,0,e,r));for(let l=0;l<s.length;l++)s[l].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Tc extends u0{constructor(e,n,r,i,s,a,l,c,d){super(e,[],s,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,s,a){let l=s.nodeViews[n.type.name],c,d=l&&l(n,s,()=>{if(!c)return a;if(c.parent)return c.parent.posBeforeChild(c)},r,i),f=d&&d.dom,p=d&&d.contentDOM;if(n.isText){if(!f)f=document.createTextNode(n.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:p}=Ld.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!p&&!n.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),n.type.spec.draggable&&(f.draggable=!0));let g=f;return f=WH(f,r,n),d?c=new Phe(e,n,r,i,f,p||null,g,d,s,a+1):n.isText?new Jw(e,n,r,i,f,g,s):new Tc(e,n,r,i,f,p||null,g,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ge.empty)}return e}matchesNode(e,n,r){return this.dirty==As&&e.eq(this.node)&&Ub(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,a=s&&s.pos>-1?s:null,l=s&&s.pos<0,c=new Lhe(this,a&&a.node,e);zhe(this.node,this.innerDeco,(d,f,p)=>{d.spec.marks?c.syncToMarks(d.spec.marks,r,e):d.type.side>=0&&!p&&c.syncToMarks(f==this.node.childCount?jt.none:this.node.child(f).marks,r,e),c.placeWidget(d,e,i)},(d,f,p,g)=>{c.syncToMarks(d.marks,r,e);let v;c.findNodeMatch(d,f,p,g)||l&&e.state.selection.from>i&&e.state.selection.to<i+d.nodeSize&&(v=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(d,f,p,v,e)||c.updateNextNode(d,f,p,e,g,i)||c.addNode(d,f,p,e,i),i+=d.nodeSize}),c.syncToMarks([],r,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Ku)&&(a&&this.protectLocalComposition(e,a),HH(this.contentDOM,this.children,e),Sh&&Uhe(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof $e)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=Fhe(this.node.content,a,r-n,i-n);return l<0?null:{node:s,pos:l,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new Dhe(this,s,n,i);e.input.compositionNodes.push(a),this.children=XA(this.children,r,r+i.length,e,a)}update(e,n,r,i){return this.dirty==Ka||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=As}updateOuterDeco(e){if(Ub(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=qH(this.dom,this.nodeDOM,YA(this.outerDeco,this.node,n),YA(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function _L(t,e,n,r,i){WH(r,e,t);let s=new Tc(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Jw extends Tc{constructor(e,n,r,i,s,a,l){super(e,n,r,i,s,null,a,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Ka||this.dirty!=As&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=As||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=As,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new Jw(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ka)}get domAtom(){return!1}isText(e){return this.node.text==e}}class $H extends u0{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==As&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Phe extends Tc{constructor(e,n,r,i,s,a,l,c,d,f){super(e,n,r,i,s,a,l,d,f),this.spec=c}update(e,n,r,i){if(this.dirty==Ka)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function HH(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let a=e[s],l=a.dom;if(l.parentNode==t){for(;l!=r;)r=AL(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(a instanceof kd){let c=r?r.previousSibling:t.lastChild;HH(a.contentDOM,a.children,n),r=c?c.nextSibling:t.firstChild}}for(;r;)r=AL(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const zm=function(t){t&&(this.nodeName=t)};zm.prototype=Object.create(null);const Yu=[new zm];function YA(t,e,n){if(t.length==0)return Yu;let r=n?Yu[0]:new zm,i=[r];for(let s=0;s<t.length;s++){let a=t[s].type.attrs;if(a){a.nodeName&&i.push(r=new zm(a.nodeName));for(let l in a){let c=a[l];c!=null&&(n&&i.length==1&&i.push(r=new zm(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+c:l=="style"?r.style=(r.style?r.style+";":"")+c:l!="nodeName"&&(r[l]=c))}}}return i}function qH(t,e,n,r){if(n==Yu&&r==Yu)return e;let i=e;for(let s=0;s<r.length;s++){let a=r[s],l=n[s];if(s){let c;l&&l.nodeName==a.nodeName&&i!=t&&(c=i.parentNode)&&c.nodeName.toLowerCase()==a.nodeName||(c=document.createElement(a.nodeName),c.pmIsDeco=!0,c.appendChild(i),l=Yu[0]),i=c}Rhe(i,l||Yu[0],a)}return i}function Rhe(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function WH(t,e,n){return qH(t,t,Yu,YA(e,n,t.nodeType!=1))}function Ub(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function AL(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Lhe{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Vhe(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=As,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let d=this.top.children[c];if(d.matchesMark(e[s])&&!this.isLocked(d.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=kd.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))s=this.top.children.indexOf(a,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let d=this.top.children[l];if(d.matchesNode(e,n,r)&&!this.preMatch.matched.has(d)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let a=this.top.children[i];return a.dirty==Ka&&a.dom==a.contentDOM&&(a.dirty=Ku),a.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,a){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof Tc){let d=this.preMatch.matched.get(c);if(d!=null&&d!=s)return!1;let f=c.dom,p,g=this.isLocked(f)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=Ka&&Ub(n,c.outerDeco));if(!g&&c.update(e,n,r,i))return this.destroyBetween(this.index,l),c.dom!=f&&(this.changed=!0),this.index++,!0;if(!g&&(p=this.recreateWrapper(c,e,n,r,i,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=Ku,p.updateChildren(i,a+1),p.dirty=As),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Ub(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=Tc.create(this.top,n,r,i,s,a);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,n,r,i,s){let a=Tc.create(this.top,e,n,r,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new FH(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof kd;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Jw)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ti||Fr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new $H(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Vhe(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,a=[];e:for(;i>0;){let l;for(;;)if(r){let d=n.children[r-1];if(d instanceof kd)n=d,r=d.children.length;else{l=d,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=l.node;if(c){if(c!=t.child(i-1))break;--i,s.set(l,i),a.push(l)}}return{index:i,matched:s,matches:a.reverse()}}function Bhe(t,e){return t.type.side-e.type.side}function zhe(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let d=0;d<t.childCount;d++){let f=t.child(d);r(f,i,e.forChild(s,f),d),s+=f.nodeSize}return}let a=0,l=[],c=null;for(let d=0;;){let f,p;for(;a<i.length&&i[a].to==s;){let S=i[a++];S.widget&&(f?(p||(p=[f])).push(S):f=S)}if(f)if(p){p.sort(Bhe);for(let S=0;S<p.length;S++)n(p[S],d,!!c)}else n(f,d,!!c);let g,v;if(c)v=-1,g=c,c=null;else if(d<t.childCount)v=d,g=t.child(d++);else break;for(let S=0;S<l.length;S++)l[S].to<=s&&l.splice(S--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)l.push(i[a++]);let b=s+g.nodeSize;if(g.isText){let S=b;a<i.length&&i[a].from<S&&(S=i[a].from);for(let k=0;k<l.length;k++)l[k].to<S&&(S=l[k].to);S<b&&(c=g.cut(S-s),g=g.cut(0,S-s),b=S,v=-1)}else for(;a<i.length&&i[a].to<b;)a++;let T=g.isInline&&!g.isLeaf?l.filter(S=>!S.inline):l.slice();r(g,T,e.forChild(s,g),v),s=b}}function Uhe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Fhe(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let a=t.child(i++),l=s;if(s+=a.nodeSize,!a.isText)continue;let c=a.text;for(;i<t.childCount;){let d=t.child(i++);if(s+=d.nodeSize,!d.isText)break;c+=d.text}if(s>=n){if(s>=r&&c.slice(r-e.length-l,r-l)==e)return r-e.length;let d=l<r?c.lastIndexOf(e,r-l-1):-1;if(d>=0&&d+e.length+l>=n)return l+d;if(n==r&&c.length>=r+e.length-l&&c.slice(r-l,r-l+e.length)==e)return r}}return-1}function XA(t,e,n,r,i){let s=[];for(let a=0,l=0;a<t.length;a++){let c=t[a],d=l,f=l+=c.size;d>=n||f<=e?s.push(c):(d<e&&s.push(c.slice(0,e-d,r)),i&&(s.push(i),i=void 0),f>n&&s.push(c.slice(n-d,c.size,r)))}return s}function sN(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=r.resolve(a),c,d;if(Qw(n)){for(c=a;i&&!i.node;)i=i.parent;let p=i.node;if(i&&p.isAtom&&Le.isSelectable(p)&&i.parent&&!(p.isInline&&phe(n.focusNode,n.focusOffset,i.dom))){let g=i.posBefore;d=new Le(a==g?l:r.resolve(g))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let p=a,g=a;for(let v=0;v<n.rangeCount;v++){let b=n.getRangeAt(v);p=Math.min(p,t.docView.posFromDOM(b.startContainer,b.startOffset,1)),g=Math.max(g,t.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(p<0)return null;[c,a]=g==t.state.selection.anchor?[g,p]:[p,g],l=r.resolve(a)}else c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let f=r.resolve(c);if(!d){let p=e=="pointer"||t.state.selection.head<l.pos&&!s?1:-1;d=aN(t,f,l,p)}return d}function GH(t){return t.editable?t.hasFocus():YH(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Bo(t,e=!1){let n=t.state.selection;if(KH(t,n),!!GH(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Fr){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Ed(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Hhe(t);else{let{anchor:r,head:i}=n,s,a;CL&&!(n instanceof $e)&&(n.$from.parent.inlineContent||(s=OL(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=OL(t,n.to))),t.docView.setSelection(r,i,t,e),CL&&(s&&NL(s),a&&NL(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&$he(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const CL=ti||Fr&&PH<63;function OL(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(ti&&i&&i.contentEditable=="false")return jE(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return jE(i);if(s)return jE(s)}}function jE(t){return t.contentEditable="true",ti&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function NL(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function $he(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!GH(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Hhe(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Tr(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&wi&&Sc<=11&&(n.disabled=!0,n.disabled=!1)}function KH(t,e){if(e instanceof Le){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(ML(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else ML(t)}function ML(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function aN(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||$e.between(e,n,r)}function jL(t){return t.editable&&!t.hasFocus()?!1:YH(t)}function YH(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function qhe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Ed(e.node,e.offset,n.anchorNode,n.anchorOffset)}function QA(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Ze.findFrom(s,e)}function Ql(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function IL(t,e,n){let r=t.state.selection;if(r instanceof $e)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Ql(t,new $e(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=QA(t.state,e);return i&&i instanceof Le?Ql(t,i):!1}else if(!(ms&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=t.docView.descAt(l))&&!a.contentDOM?Le.isSelectable(s)?Ql(t,new Le(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):c0?Ql(t,new $e(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Le&&r.node.isInline)return Ql(t,new $e(e>0?r.$to:r.$from));{let i=QA(t.state,e);return i?Ql(t,i):!1}}}function Fb(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Um(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Nf(t,e){return e<0?Whe(t):Ghe(t)}function Whe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,a=!1;for(_s&&n.nodeType==1&&r<Fb(n)&&Um(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(Um(l,-1))i=n,s=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(XH(n))break;{let l=n.previousSibling;for(;l&&Um(l,-1);)i=n.parentNode,s=Tr(l),l=l.previousSibling;if(l)n=l,r=Fb(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?JA(t,n,r):i&&JA(t,i,s)}function Ghe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Fb(n),s,a;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(Um(l,1))s=n,a=++r;else break}else{if(XH(n))break;{let l=n.nextSibling;for(;l&&Um(l,1);)s=l.parentNode,a=Tr(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=Fb(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&JA(t,s,a)}function XH(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Khe(t,e){for(;t&&e==t.childNodes.length&&!l0(t);)e=Tr(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function Yhe(t,e){for(;t&&!e&&!l0(t);)e=Tr(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function JA(t,e,n){if(e.nodeType!=3){let s,a;(a=Khe(e,n))?(e=a,n=0):(s=Yhe(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Qw(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Bo(t)},50)}function DL(t,e){let n=t.state.doc.resolve(e);if(!(Fr||yhe)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function PL(t,e,n){let r=t.state.selection;if(r instanceof $e&&!r.empty||n.indexOf("s")>-1||ms&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=QA(t.state,e);if(a&&a instanceof Le)return Ql(t,a)}if(!i.parent.inlineContent){let a=e<0?i:s,l=r instanceof $i?Ze.near(a,e):Ze.findFrom(a,e);return l?Ql(t,l):!1}return!1}function RL(t,e){if(!(t.state.selection instanceof $e))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=t.state.tr;return e<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),t.dispatch(a),!0}return!1}function LL(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Xhe(t){if(!ti||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;LL(t,r,"true"),setTimeout(()=>LL(t,r,"false"),20)}return!1}function Qhe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Jhe(t,e){let n=e.keyCode,r=Qhe(e);if(n==8||ms&&n==72&&r=="c")return RL(t,-1)||Nf(t,-1);if(n==46&&!e.shiftKey||ms&&n==68&&r=="c")return RL(t,1)||Nf(t,1);if(n==13||n==27)return!0;if(n==37||ms&&n==66&&r=="c"){let i=n==37?DL(t,t.state.selection.from)=="ltr"?-1:1:-1;return IL(t,i,r)||Nf(t,i)}else if(n==39||ms&&n==70&&r=="c"){let i=n==39?DL(t,t.state.selection.from)=="ltr"?1:-1:1;return IL(t,i,r)||Nf(t,i)}else{if(n==38||ms&&n==80&&r=="c")return PL(t,-1,r)||Nf(t,-1);if(n==40||ms&&n==78&&r=="c")return Xhe(t)||PL(t,1,r)||Nf(t,1);if(r==(ms?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function oN(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let v=r.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let a=t.someProp("clipboardSerializer")||Ld.fromSchema(t.state.schema),l=nq(),c=l.createElement("div");c.appendChild(a.serializeFragment(r,{document:l}));let d=c.firstChild,f,p=0;for(;d&&d.nodeType==1&&(f=tq[d.nodeName.toLowerCase()]);){for(let v=f.length-1;v>=0;v--){let b=l.createElement(f[v]);for(;c.firstChild;)b.appendChild(c.firstChild);c.appendChild(b),p++}d=c.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${i} ${s}${p?` -${p}`:""} ${JSON.stringify(n)}`);let g=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:g,slice:e}}function QH(t,e,n,r,i){let s=i.parent.type.spec.code,a,l;if(!n&&!e)return null;let c=!!e&&(r||s||!n);if(c){if(t.someProp("transformPastedText",g=>{e=g(e,s||r,t)}),s)return l=new Ee(ge.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",g=>{l=g(l,t,!0)}),l;let p=t.someProp("clipboardTextParser",g=>g(e,i,r,t));if(p)l=p;else{let g=i.marks(),{schema:v}=t.state,b=Ld.fromSchema(v);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(T=>{let S=a.appendChild(document.createElement("p"));T&&S.appendChild(b.serializeNode(v.text(T,g)))})}}else t.someProp("transformPastedHTML",p=>{n=p(n,t)}),a=npe(n),c0&&rpe(a);let d=a&&a.querySelector("[data-pm-slice]"),f=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let p=+f[3];p>0;p--){let g=a.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;a=g}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||wc.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(c||f),context:i,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!Zhe.test(g.parentNode.nodeName)?{ignore:!0}:null}})),f)l=ipe(VL(l,+f[1],+f[2]),f[4]);else if(l=Ee.maxOpen(epe(l.content,i),!0),l.openStart||l.openEnd){let p=0,g=0;for(let v=l.content.firstChild;p<l.openStart&&!v.type.spec.isolating;p++,v=v.firstChild);for(let v=l.content.lastChild;g<l.openEnd&&!v.type.spec.isolating;g++,v=v.lastChild);l=VL(l,p,g)}return t.someProp("transformPasted",p=>{l=p(l,t,c)}),l}const Zhe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function epe(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,a=[];if(t.forEach(l=>{if(!a)return;let c=i.findWrapping(l.type),d;if(!c)return a=null;if(d=a.length&&s.length&&ZH(c,s,l,a[a.length-1],0))a[a.length-1]=d;else{a.length&&(a[a.length-1]=eq(a[a.length-1],s.length));let f=JH(l,c);a.push(f),i=i.matchType(f.type),s=c}}),a)return ge.from(a)}return t}function JH(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ge.from(t));return t}function ZH(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=ZH(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(ge.from(JH(n,t,i+1))))}}function eq(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,eq(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ge.empty,!0);return t.copy(n.append(r))}function ZA(t,e,n,r,i,s){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(s=0),i<r-1&&(l=ZA(l,e,n,r,i+1,s)),i>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(ge.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function VL(t,e,n){return e<t.openStart&&(t=new Ee(ZA(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Ee(ZA(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const tq={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let BL=null;function nq(){return BL||(BL=document.implementation.createHTMLDocument("title"))}let IE=null;function tpe(t){let e=window.trustedTypes;return e?(IE||(IE=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),IE.createHTML(t)):t}function npe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=nq().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&tq[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=tpe(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function rpe(t){let e=t.querySelectorAll(Fr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function ipe(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:a}=t;for(let l=r.length-2;l>=0;l-=2){let c=n.nodes[r[l]];if(!c||c.hasRequiredAttrs())break;i=ge.from(c.create(r[l+1],i)),s++,a++}return new Ee(i,s,a)}const ni={},ri={},spe={touchstart:!0,touchmove:!0};class ape{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function ope(t){for(let e in ni){let n=ni[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{cpe(t,r)&&!lN(t,r)&&(t.editable||!(r.type in ri))&&n(t,r)},spe[e]?{passive:!0}:void 0)}ti&&t.dom.addEventListener("input",()=>null),eC(t)}function fc(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function lpe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function eC(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>lN(t,r))})}function lN(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function cpe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function upe(t,e){!lN(t,e)&&ni[e.type]&&(t.editable||!(e.type in ri))&&ni[e.type](t,e)}ri.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!iq(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Do&&Fr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Sh&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Hu(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||Jhe(t,n)?n.preventDefault():fc(t,"key")};ri.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ri.keypress=(t,e)=>{let n=e;if(iq(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||ms&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof $e)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function Zw(t){return{left:t.clientX,top:t.clientY}}function dpe(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function cN(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(t.someProp(e,l=>a>s.depth?l(t,n,s.nodeAfter,s.before(a),i,!0):l(t,n,s.node(a),s.before(a),i,!1)))return!0;return!1}function ah(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function fpe(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Le.isSelectable(r)?(ah(t,new Le(n)),!0):!1}function hpe(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Le&&(r=n.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let l=a>s.depth?s.nodeAfter:s.node(a);if(Le.isSelectable(l)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(a);break}}return i!=null?(ah(t,Le.create(t.state.doc,i)),!0):!1}function ppe(t,e,n,r,i){return cN(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?hpe(t,n):fpe(t,n))}function mpe(t,e,n,r){return cN(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function gpe(t,e,n,r){return cN(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||ype(t,n,r)}function ype(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(ah(t,$e.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(a.inlineContent)ah(t,$e.create(r,l+1,l+1+a.content.size));else if(Le.isSelectable(a))ah(t,Le.create(r,l));else continue;return!0}}function uN(t){return $b(t)}const rq=ms?"metaKey":"ctrlKey";ni.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=uN(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&dpe(n,t.input.lastClick)&&!n[rq]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let a=t.posAtCoords(Zw(n));a&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new vpe(t,a,n,!!r)):(s=="doubleClick"?mpe:gpe)(t,a.pos,a.inside,n)?n.preventDefault():fc(t,"pointer"))};class vpe{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[rq],this.allowDefault=r.shiftKey;let s,a;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),a=n.inside;else{let f=e.state.doc.resolve(n.pos);s=f.parent,a=f.depth?f.before():0}const l=i?null:r.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:d}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||d instanceof Le&&d.from<=a&&d.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&_s&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),fc(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Bo(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Zw(e))),this.updateAllowDefault(e),this.allowDefault||!n?fc(this.view,"pointer"):ppe(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ti&&this.mightDrag&&!this.mightDrag.node.isAtom||Fr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ah(this.view,Ze.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):fc(this.view,"pointer")}move(e){this.updateAllowDefault(e),fc(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ni.touchstart=t=>{t.input.lastTouch=Date.now(),uN(t),fc(t,"pointer")};ni.touchmove=t=>{t.input.lastTouch=Date.now(),fc(t,"pointer")};ni.contextmenu=t=>uN(t);function iq(t,e){return t.composing?!0:ti&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const bpe=Do?5e3:-1;ri.compositionstart=ri.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof $e&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),$b(t,!0),t.markCursor=null;else if($b(t,!e.selection.empty),_s&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let l=t.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}t.input.composing=!0}sq(t,bpe)};ri.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,sq(t,20))};function sq(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>$b(t),e))}function aq(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=wpe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function xpe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=fhe(e.focusNode,e.focusOffset),r=hhe(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function wpe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function $b(t,e=!1){if(!(Do&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),aq(t),e||t.docView&&t.docView.dirty){let n=sN(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Spe(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const vg=wi&&Sc<15||Sh&&vhe<604;ni.copy=ri.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=vg?null:n.clipboardData,a=r.content(),{dom:l,text:c}=oN(t,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",c)):Spe(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Tpe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Epe(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?bg(t,r.value,null,i,e):bg(t,r.textContent,r.innerHTML,i,e)},50)}function bg(t,e,n,r,i){let s=QH(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,i,s||Ee.empty)))return!0;if(!s)return!1;let a=Tpe(s),l=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function oq(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ri.paste=(t,e)=>{let n=e;if(t.composing&&!Do)return;let r=vg?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&bg(t,oq(r),r.getData("text/html"),i,n)?n.preventDefault():Epe(t,n)};class lq{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const kpe=ms?"altKey":"ctrlKey";function cq(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[kpe]}ni.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Zw(n)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Le?i.to-1:i.to))){if(r&&r.mightDrag)a=Le.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let p=t.docView.nearestDesc(n.target,!0);p&&p.node.type.spec.draggable&&p!=t.docView&&(a=Le.create(t.state.doc,p.posBefore))}}let l=(a||t.state.selection).content(),{dom:c,text:d,slice:f}=oN(t,l);(!n.dataTransfer.files.length||!Fr||PH>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(vg?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",vg||n.dataTransfer.setData("text/plain",d),t.dragging=new lq(f,cq(t,n),a)};ni.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ri.dragover=ri.dragenter=(t,e)=>e.preventDefault();ri.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Zw(n));if(!i)return;let s=t.state.doc.resolve(i.pos),a=r&&r.slice;a?t.someProp("transformPasted",b=>{a=b(a,t,!1)}):a=QH(t,oq(n.dataTransfer),vg?null:n.dataTransfer.getData("text/html"),!1,s);let l=!!(r&&cq(t,n));if(t.someProp("handleDrop",b=>b(t,n,a||Ee.empty,l))){n.preventDefault();return}if(!a)return;n.preventDefault();let c=a?pH(t.state.doc,s.pos,a):s.pos;c==null&&(c=s.pos);let d=t.state.tr;if(l){let{node:b}=r;b?b.replace(d):d.deleteSelection()}let f=d.mapping.map(c),p=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,g=d.doc;if(p?d.replaceRangeWith(f,f,a.content.firstChild):d.replaceRange(f,f,a),d.doc.eq(g))return;let v=d.doc.resolve(f);if(p&&Le.isSelectable(a.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(a.content.firstChild))d.setSelection(new Le(v));else{let b=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((T,S,k,C)=>b=C),d.setSelection(aN(t,v,d.doc.resolve(b)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))};ni.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Bo(t)},20))};ni.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};ni.beforeinput=(t,e)=>{if(Fr&&Do&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Hu(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in ri)ni[t]=ri[t];function xg(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Hb{constructor(e,n){this.toDOM=e,this.spec=n||cd,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:a}=e.mapResult(n.from+i,this.side<0?-1:1);return a?null:new Xr(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Hb&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&xg(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ec{constructor(e,n){this.attrs=e,this.spec=n||cd}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new Xr(s,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Ec&&xg(this.attrs,e.attrs)&&xg(this.spec,e.spec)}static is(e){return e.type instanceof Ec}destroy(){}}class dN{constructor(e,n){this.attrs=e,this.spec=n||cd}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let a=e.mapResult(n.to+i,-1);return a.deleted||a.pos<=s.pos?null:new Xr(s.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof dN&&xg(this.attrs,e.attrs)&&xg(this.spec,e.spec)}destroy(){}}class Xr{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Xr(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Xr(e,e,new Hb(n,r))}static inline(e,n,r,i){return new Xr(e,n,new Ec(r,i))}static node(e,n,r,i){return new Xr(e,n,new dN(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ec}get widget(){return this.type instanceof Hb}}const Bf=[],cd={};class an{constructor(e,n){this.local=e.length?e:Bf,this.children=n.length?n:Bf}static create(e,n){return n.length?qb(n,e,0,cd):Rr}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=n&&l.to>=e&&(!s||s(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let l=this.children[a]+1;this.children[a+2].findInner(e-l,n-l,r,i+l,s)}}map(e,n,r){return this==Rr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||cd)}mapInner(e,n,r,i,s){let a;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,r,i);c&&c.type.valid(n,c)?(a||(a=[])).push(c):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?_pe(this.children,a||[],e,n,r,i,s):a?new an(a.sort(ud),Bf):Rr}add(e,n){return n.length?this==Rr?an.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((l,c)=>{let d=c+r,f;if(f=dq(n,l,d)){for(i||(i=this.children.slice());s<i.length&&i[s]<c;)s+=3;i[s]==c?i[s+2]=i[s+2].addInner(l,f,d+1):i.splice(s,0,c,c+l.nodeSize,qb(f,l,d+1,cd)),s+=3}});let a=uq(s?fq(n):n,-r);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new an(a.length?this.local.concat(a).sort(ud):this.local,i||this.children)}remove(e){return e.length==0||this==Rr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,l=r[s]+n,c=r[s+1]+n;for(let f=0,p;f<e.length;f++)(p=e[f])&&p.from>l&&p.to<c&&(e[f]=null,(a||(a=[])).push(p));if(!a)continue;r==this.children&&(r=this.children.slice());let d=r[s+2].removeInner(a,l+1);d!=Rr?r[s+2]=d:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let l=0;l<i.length;l++)i[l].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new an(i,r):Rr}forChild(e,n){if(this==Rr)return this;if(n.isLeaf)return an.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let s=e+1,a=s+n.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<a&&c.to>s&&c.type instanceof Ec){let d=Math.max(s,c.from)-s,f=Math.min(a,c.to)-s;d<f&&(i||(i=[])).push(c.copy(d,f))}}if(i){let l=new an(i.sort(ud),Bf);return r?new ac([l,r]):l}return r||Rr}eq(e){if(this==e)return!0;if(!(e instanceof an)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return fN(this.localsInner(e))}localsInner(e){if(this==Rr)return Bf;if(e.inlineContent||!this.local.some(Ec.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Ec||n.push(this.local[r]);return n}forEachSet(e){e(this)}}an.empty=new an([],[]);an.removeOverlap=fN;const Rr=an.empty;class ac{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,cd));return ac.from(r)}forChild(e,n){if(n.isLeaf)return an.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Rr&&(s instanceof ac?r=r.concat(s.members):r.push(s))}return ac.from(r)}eq(e){if(!(e instanceof ac)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?fN(r?n:n.sort(ud)):Bf}static from(e){switch(e.length){case 0:return Rr;case 1:return e[0];default:return new ac(e.every(n=>n instanceof an)?e:e.reduce((n,r)=>n.concat(r instanceof an?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function _pe(t,e,n,r,i,s,a){let l=t.slice();for(let d=0,f=s;d<n.maps.length;d++){let p=0;n.maps[d].forEach((g,v,b,T)=>{let S=T-b-(v-g);for(let k=0;k<l.length;k+=3){let C=l[k+1];if(C<0||g>C+f-p)continue;let N=l[k]+f-p;v>=N?l[k+1]=g<=N?-2:-1:g>=f&&S&&(l[k]+=S,l[k+1]+=S)}p+=S}),f=n.maps[d].map(f,-1)}let c=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){c=!0,l[d+1]=-1;continue}let f=n.map(t[d]+s),p=f-i;if(p<0||p>=r.content.size){c=!0;continue}let g=n.map(t[d+1]+s,-1),v=g-i,{index:b,offset:T}=r.content.findIndex(p),S=r.maybeChild(b);if(S&&T==p&&T+S.nodeSize==v){let k=l[d+2].mapInner(n,S,f+1,t[d]+s+1,a);k!=Rr?(l[d]=p,l[d+1]=v,l[d+2]=k):(l[d+1]=-2,c=!0)}else c=!0}if(c){let d=Ape(l,t,e,n,i,s,a),f=qb(d,r,0,a);e=f.local;for(let p=0;p<l.length;p+=3)l[p+1]<0&&(l.splice(p,3),p-=3);for(let p=0,g=0;p<f.children.length;p+=3){let v=f.children[p];for(;g<l.length&&l[g]<v;)g+=3;l.splice(g,0,f.children[p],f.children[p+1],f.children[p+2])}}return new an(e.sort(ud),l)}function uq(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Xr(i.from+e,i.to+e,i.type))}return n}function Ape(t,e,n,r,i,s,a){function l(c,d){for(let f=0;f<c.local.length;f++){let p=c.local[f].map(r,i,d);p?n.push(p):a.onRemove&&a.onRemove(c.local[f].spec)}for(let f=0;f<c.children.length;f+=3)l(c.children[f+2],c.children[f]+d+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+s+1);return n}function dq(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,a;s<t.length;s++)(a=t[s])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),t[s]=null);return i}function fq(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function qb(t,e,n,r){let i=[],s=!1;e.forEach((l,c)=>{let d=dq(t,l,c+n);if(d){s=!0;let f=qb(d,l,n+c+1,r);f!=Rr&&i.push(c,c+l.nodeSize,f)}});let a=uq(s?fq(t):t,-n).sort(ud);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(r.onRemove&&r.onRemove(a[l].spec),a.splice(l--,1));return a.length||i.length?new an(a,i):Rr}function ud(t,e){return t.from-e.from||t.to-e.to}function fN(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),zL(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),zL(e,i,r.copy(s.from,r.to)));break}}}return e}function zL(t,e,n){for(;e<t.length&&ud(n,t[e])>0;)e++;t.splice(e,0,n)}function DE(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Rr&&e.push(r)}),t.cursorWrapper&&e.push(an.create(t.state.doc,[t.cursorWrapper.deco])),ac.from(e)}const Cpe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ope=wi&&Sc<=11;class Npe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Mpe{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Npe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);wi&&Sc<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Ope&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Cpe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(jL(this.view)){if(this.suppressingSelectionUpdates)return Bo(this.view);if(wi&&Sc<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ed(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=wh(s))n.add(s);for(let s=e.anchorNode;s;s=wh(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&jL(e)&&!this.ignoreSelectionChange(r),s=-1,a=-1,l=!1,c=[];if(e.editable)for(let f=0;f<n.length;f++){let p=this.registerMutation(n[f],c);p&&(s=s<0?p.from:Math.min(p.from,s),a=a<0?p.to:Math.max(p.to,a),p.typeOver&&(l=!0))}if(_s&&c.length){let f=c.filter(p=>p.nodeName=="BR");if(f.length==2){let[p,g]=f;p.parentNode&&p.parentNode.parentNode==g.parentNode?g.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let g of f){let v=g.parentNode;v&&v.nodeName=="LI"&&(!p||Dpe(e,p)!=v)&&g.remove()}}}let d=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Qw(r)&&(d=sN(e))&&d.eq(Ze.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Bo(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,a),jpe(e)),this.handleDOMChange(s,a,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Bo(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let p=e.addedNodes[f];n.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(wi&&Sc<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:p,nextSibling:g}=e.addedNodes[f];(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g)}let a=i&&i.parentNode==e.target?Tr(i)+1:0,l=r.localPosFromDOM(e.target,a,-1),c=s&&s.parentNode==e.target?Tr(s):e.target.childNodes.length,d=r.localPosFromDOM(e.target,c,1);return{from:l,to:d}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let UL=new WeakMap,FL=!1;function jpe(t){if(!UL.has(t)&&(UL.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=_s,FL)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),FL=!0}}function $L(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return Ed(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function Ipe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return $L(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?$L(t,n):null}function Dpe(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Ppe(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:a,to:l}=t.docView.parseRange(e,n),c=t.domSelectionRange(),d,f=c.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(d=[{node:f,offset:c.anchorOffset}],Qw(c)||d.push({node:c.focusNode,offset:c.focusOffset})),Fr&&t.input.lastKeyCode===8)for(let S=s;S>i;S--){let k=r.childNodes[S-1],C=k.pmViewDesc;if(k.nodeName=="BR"&&!C){s=S;break}if(!C||C.size)break}let p=t.state.doc,g=t.someProp("domParser")||wc.fromSchema(t.state.schema),v=p.resolve(a),b=null,T=g.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:i,to:s,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:Rpe,context:v});if(d&&d[0].pos!=null){let S=d[0].pos,k=d[1]&&d[1].pos;k==null&&(k=S),b={anchor:S+a,head:k+a}}return{doc:T,sel:b,from:a,to:l}}function Rpe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(ti&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||ti&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Lpe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Vpe(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let j=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,M=sN(t,j);if(M&&!t.state.selection.eq(M)){if(Fr&&Do&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",B=>B(t,Hu(13,"Enter"))))return;let P=t.state.tr.setSelection(M);j=="pointer"?P.setMeta("pointer",!0):j=="key"&&P.scrollIntoView(),s&&P.setMeta("composition",s),t.dispatch(P)}return}let a=t.state.doc.resolve(e),l=a.sharedDepth(n);e=a.before(l+1),n=t.state.doc.resolve(n).after(l+1);let c=t.state.selection,d=Ppe(t,e,n),f=t.state.doc,p=f.slice(d.from,d.to),g,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(g=t.state.selection.to,v="end"):(g=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let b=Upe(p.content,d.doc.content,d.from,g,v);if(b&&t.input.domChangeCount++,(Sh&&t.input.lastIOSEnter>Date.now()-225||Do)&&i.some(j=>j.nodeType==1&&!Lpe.test(j.nodeName))&&(!b||b.endA>=b.endB)&&t.someProp("handleKeyDown",j=>j(t,Hu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!b)if(r&&c instanceof $e&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))b={start:c.from,endA:c.to,endB:c.to};else{if(d.sel){let j=HL(t,t.state.doc,d.sel);if(j&&!j.eq(t.state.selection)){let M=t.state.tr.setSelection(j);s&&M.setMeta("composition",s),t.dispatch(M)}}return}t.state.selection.from<t.state.selection.to&&b.start==b.endB&&t.state.selection instanceof $e&&(b.start>t.state.selection.from&&b.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?b.start=t.state.selection.from:b.endA<t.state.selection.to&&b.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(b.endB+=t.state.selection.to-b.endA,b.endA=t.state.selection.to)),wi&&Sc<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>d.from&&d.doc.textBetween(b.start-d.from-1,b.start-d.from+1)==" "&&(b.start--,b.endA--,b.endB--);let T=d.doc.resolveNoCache(b.start-d.from),S=d.doc.resolveNoCache(b.endB-d.from),k=f.resolve(b.start),C=T.sameParent(S)&&T.parent.inlineContent&&k.end()>=b.endA;if((Sh&&t.input.lastIOSEnter>Date.now()-225&&(!C||i.some(j=>j.nodeName=="DIV"||j.nodeName=="P"))||!C&&T.pos<d.doc.content.size&&(!T.sameParent(S)||!T.parent.inlineContent)&&T.pos<S.pos&&!/\S/.test(d.doc.textBetween(T.pos,S.pos,"","")))&&t.someProp("handleKeyDown",j=>j(t,Hu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>b.start&&zpe(f,b.start,b.endA,T,S)&&t.someProp("handleKeyDown",j=>j(t,Hu(8,"Backspace")))){Do&&Fr&&t.domObserver.suppressSelectionUpdates();return}Fr&&b.endB==b.start&&(t.input.lastChromeDelete=Date.now()),Do&&!C&&T.start()!=S.start()&&S.parentOffset==0&&T.depth==S.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==b.endA&&(b.endB-=2,S=d.doc.resolveNoCache(b.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(j){return j(t,Hu(13,"Enter"))})},20));let N=b.start,R=b.endA,D=j=>{let M=j||t.state.tr.replace(N,R,d.doc.slice(b.start-d.from,b.endB-d.from));if(d.sel){let P=HL(t,M.doc,d.sel);P&&!(Fr&&t.composing&&P.empty&&(b.start!=b.endB||t.input.lastChromeDelete<Date.now()-100)&&(P.head==N||P.head==M.mapping.map(R)-1)||wi&&P.empty&&P.head==N)&&M.setSelection(P)}return s&&M.setMeta("composition",s),M.scrollIntoView()},z;if(C){if(T.pos==S.pos){wi&&Sc<=11&&T.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Bo(t),20));let j=D(t.state.tr.delete(N,R)),M=f.resolve(b.start).marksAcross(f.resolve(b.endA));M&&j.ensureMarks(M),t.dispatch(j)}else if(b.endA==b.endB&&(z=Bpe(T.parent.content.cut(T.parentOffset,S.parentOffset),k.parent.content.cut(k.parentOffset,b.endA-k.start())))){let j=D(t.state.tr);z.type=="add"?j.addMark(N,R,z.mark):j.removeMark(N,R,z.mark),t.dispatch(j)}else if(T.parent.child(T.index()).isText&&T.index()==S.index()-(S.textOffset?0:1)){let j=T.parent.textBetween(T.parentOffset,S.parentOffset),M=()=>D(t.state.tr.insertText(j,N,R));t.someProp("handleTextInput",P=>P(t,N,R,j,M))||t.dispatch(M())}}else t.dispatch(D())}function HL(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:aN(t,e.resolve(n.anchor),e.resolve(n.head))}function Bpe(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,a,l,c;for(let f=0;f<r.length;f++)i=r[f].removeFromSet(i);for(let f=0;f<n.length;f++)s=n[f].removeFromSet(s);if(i.length==1&&s.length==0)l=i[0],a="add",c=f=>f.mark(l.addToSet(f.marks));else if(i.length==0&&s.length==1)l=s[0],a="remove",c=f=>f.mark(l.removeFromSet(f.marks));else return null;let d=[];for(let f=0;f<e.childCount;f++)d.push(c(e.child(f)));if(ge.from(d).eq(t))return{mark:l,type:a}}function zpe(t,e,n,r,i){if(n-e<=i.pos-r.pos||PE(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let l=s.nodeAfter;return l!=null&&n==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=t.resolve(PE(s,!0,!0));return!a.parent.isTextblock||a.pos>n||PE(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function PE(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Upe(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let c=Math.max(0,s-Math.min(a,l));r-=a+c-s}if(a<s&&t.size<e.size){let c=r<=s&&r>=a?s-r:0;s-=c,s&&s<e.size&&qL(e.textBetween(s-1,s+1))&&(s+=c?1:-1),l=s+(l-a),a=s}else if(l<s){let c=r<=s&&r>=l?s-r:0;s-=c,s&&s<t.size&&qL(t.textBetween(s-1,s+1))&&(s+=c?1:-1),a=s+(a-l),l=s}return{start:s,endA:a,endB:l}}function qL(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class hq{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new ape,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(XL),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=KL(this),GL(this),this.nodeViews=YL(this),this.docView=_L(this.state.doc,WL(this),DE(this),this.dom,this),this.domObserver=new Mpe(this,(r,i,s,a)=>Vpe(this,r,i,s,a)),this.domObserver.start(),ope(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&eC(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(XL),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(aq(this),a=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=YL(this);$pe(v,this.nodeViews)&&(this.nodeViews=v,s=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&eC(this),this.editable=KL(this),GL(this);let c=DE(this),d=WL(this),f=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",p=s||!this.docView.matchesNode(e.doc,d,c);(p||!e.selection.eq(i.selection))&&(a=!0);let g=f=="preserve"&&a&&this.dom.style.overflowAnchor==null&&whe(this);if(a){this.domObserver.stop();let v=p&&(wi||Fr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Fpe(i.selection,e.selection);if(p){let b=Fr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=xpe(this)),(s||!this.docView.update(e.doc,d,c,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=_L(e.doc,d,c,this.dom,this)),b&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&qhe(this))?Bo(this,v):(KH(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():g&&She(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Le){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&xL(this,n.getBoundingClientRect(),e)}else xL(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new lq(e.slice,e.move,i<0?void 0:Le.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[e];if(l!=null&&(i=n?n(l):l))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let l=s[a].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(wi){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&The(this.dom),Bo(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Che(this,e)}coordsAtPos(e,n=1){return zH(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return Ihe(this,n||this.state,e)}pasteHTML(e,n){return bg(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return bg(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return oN(this,e)}destroy(){this.docView&&(lpe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],DE(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,uhe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return upe(this,e)}domSelectionRange(){let e=this.domSelection();return e?ti&&this.root.nodeType===11&&mhe(this.dom.ownerDocument)==this.dom&&Ipe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}hq.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function WL(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Xr.node(0,t.state.doc.content.size,e)]}function GL(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Xr.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function KL(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Fpe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function YL(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function $pe(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function XL(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Pc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Wb={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Hpe=typeof navigator<"u"&&/Mac/.test(navigator.platform),qpe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Er=0;Er<10;Er++)Pc[48+Er]=Pc[96+Er]=String(Er);for(var Er=1;Er<=24;Er++)Pc[Er+111]="F"+Er;for(var Er=65;Er<=90;Er++)Pc[Er]=String.fromCharCode(Er+32),Wb[Er]=String.fromCharCode(Er);for(var RE in Pc)Wb.hasOwnProperty(RE)||(Wb[RE]=Pc[RE]);function Wpe(t){var e=Hpe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||qpe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Wb:Pc)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Gpe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Kpe=typeof navigator<"u"&&/Win/.test(navigator.platform);function Ype(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,a;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))Gpe?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function Xpe(t){let e=Object.create(null);for(let n in t)e[Ype(n)]=t[n];return e}function LE(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Qpe(t){return new cn({props:{handleKeyDown:pq(t)}})}function pq(t){let e=Xpe(t);return function(n,r){let i=Wpe(r),s,a=e[LE(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[LE(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Kpe&&r.ctrlKey&&r.altKey)&&(s=Pc[r.keyCode])&&s!=i){let l=e[LE(s,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}var Jpe=Object.defineProperty,hN=(t,e)=>{for(var n in e)Jpe(t,n,{get:e[n],enumerable:!0})};function e1(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var t1=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...d)=>{const f=l(...d)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a=[],l=!!t,c=t||i.tr,d=()=>(!l&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(p=>p===!0)),f={...Object.fromEntries(Object.entries(n).map(([p,g])=>[p,(...b)=>{const T=this.buildProps(c,e),S=g(...b)(T);return a.push(S),f}])),run:d};return f}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...d)=>c(...d)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a={tr:t,editor:r,view:s,state:e1({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...d)=>c(...d)(a)]))}};return a}},mq={};hN(mq,{blur:()=>Zpe,clearContent:()=>eme,clearNodes:()=>tme,command:()=>nme,createParagraphNear:()=>rme,cut:()=>ime,deleteCurrentNode:()=>sme,deleteNode:()=>ame,deleteRange:()=>ome,deleteSelection:()=>lme,enter:()=>cme,exitCode:()=>ume,extendMarkRange:()=>dme,first:()=>fme,focus:()=>pme,forEach:()=>mme,insertContent:()=>gme,insertContentAt:()=>bme,joinBackward:()=>Sme,joinDown:()=>wme,joinForward:()=>Tme,joinItemBackward:()=>Eme,joinItemForward:()=>kme,joinTextblockBackward:()=>_me,joinTextblockForward:()=>Ame,joinUp:()=>xme,keyboardShortcut:()=>Ome,lift:()=>Nme,liftEmptyBlock:()=>Mme,liftListItem:()=>jme,newlineInCode:()=>Ime,resetAttributes:()=>Dme,scrollIntoView:()=>Pme,selectAll:()=>Rme,selectNodeBackward:()=>Lme,selectNodeForward:()=>Vme,selectParentNode:()=>Bme,selectTextblockEnd:()=>zme,selectTextblockStart:()=>Ume,setContent:()=>Fme,setMark:()=>lge,setMeta:()=>cge,setNode:()=>uge,setNodeSelection:()=>dge,setTextDirection:()=>fge,setTextSelection:()=>hge,sinkListItem:()=>pge,splitBlock:()=>mge,splitListItem:()=>gge,toggleList:()=>yge,toggleMark:()=>vge,toggleNode:()=>bge,toggleWrap:()=>xge,undoInputRule:()=>wge,unsetAllMarks:()=>Sge,unsetMark:()=>Tge,unsetTextDirection:()=>Ege,updateAttributes:()=>kge,wrapIn:()=>_ge,wrapInList:()=>Age});var Zpe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),eme=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),tme=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:a})=>{t.doc.nodesBetween(s.pos,a.pos,(l,c)=>{if(l.type.isText)return;const{doc:d,mapping:f}=e,p=d.resolve(f.map(c)),g=d.resolve(f.map(c+l.nodeSize)),v=p.blockRange(g);if(!v)return;const b=$h(v);if(l.type.isTextblock){const{defaultType:T}=p.parent.contentMatchAt(p.index());e.setNodeMarkup(v.start,T)}(b||b===0)&&e.lift(v,b)})}),!0},nme=t=>e=>t(e),rme=()=>({state:t,dispatch:e})=>NH(t,e),ime=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,s.content),r.setSelection(new $e(r.doc.resolve(Math.max(a-1,0)))),!0},sme=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const l=i.before(s),c=i.after(s);t.delete(l,c).scrollIntoView()}return!0}return!1};function zn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var ame=t=>({tr:e,state:n,dispatch:r})=>{const i=zn(t,n.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(r){const c=s.before(a),d=s.after(a);e.delete(c,d).scrollIntoView()}return!0}return!1},ome=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},lme=()=>({state:t,dispatch:e})=>ZO(t,e),cme=()=>({commands:t})=>t.keyboardShortcut("Enter"),ume=()=>({state:t,dispatch:e})=>Yfe(t,e);function pN(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Gb(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:pN(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function gq(t,e,n={}){return t.find(r=>r.type===e&&Gb(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function QL(t,e,n={}){return!!gq(t,e,n)}function mN(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(f=>f.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(f=>f.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!gq([...i.node.marks],e,n)))return;let a=i.index,l=t.start()+i.offset,c=a+1,d=l+i.node.nodeSize;for(;a>0&&QL([...t.parent.child(a-1).marks],e,n);)a-=1,l-=t.parent.child(a).nodeSize;for(;c<t.parent.childCount&&QL([...t.parent.child(c).marks],e,n);)d+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:d}}function sl(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var dme=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=sl(t,r.schema),{doc:a,selection:l}=n,{$from:c,from:d,to:f}=l;if(i){const p=mN(c,s,e);if(p&&p.from<=d&&p.to>=f){const g=$e.create(a,p.from,p.to);n.setSelection(g)}}return!0},fme=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function yq(t){return t instanceof $e}function Xu(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function vq(t,e=null){if(!e)return null;const n=Ze.atStart(t),r=Ze.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?$e.create(t,Xu(0,i,s),Xu(t.content.size,i,s)):$e.create(t,Xu(e,i,s),Xu(e,i,s))}function hme(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function gN(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var pme=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{(gN()||hme())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!yq(n.state.selection))return a(),!0;const l=vq(i.doc,t)||n.state.selection,c=n.state.selection.eq(l);return s&&(c||i.setSelection(l),c&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},mme=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),gme=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),bq=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&bq(r)}return t};function dv(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return bq(n)}function wg(t,e,n){if(t instanceof ta||t instanceof ge)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ge.fromArray(t.map(l=>e.nodeFromJSON(l)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),wg("",e,n)}if(i){if(n.errorOnInvalidContent){let a=!1,l="";const c=new rH({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(a=!0,l=typeof d=="string"?d:d.outerHTML,null)}]}})});if(n.slice?wc.fromSchema(c).parseSlice(dv(t),n.parseOptions):wc.fromSchema(c).parse(dv(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=wc.fromSchema(e);return n.slice?s.parseSlice(dv(t),n.parseOptions).content:s.parse(dv(t),n.parseOptions)}return wg("",e,n)}function yme(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof ar||i instanceof or))return;const s=t.mapping.maps[r];let a=0;s.forEach((l,c,d,f)=>{a===0&&(a=f)}),t.setSelection(Ze.near(t.doc.resolve(a),n))}var vme=t=>!("type"in t),bme=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var a;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const c=S=>{s.emit("contentError",{editor:s,error:S,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{wg(e,s.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(S){c(S)}try{l=wg(e,s.schema,{parseOptions:d,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(S){return c(S),!1}let{from:f,to:p}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},g=!0,v=!0;if((vme(l)?l:[l]).forEach(S=>{S.check(),g=g?S.isText&&S.marks.length===0:!1,v=v?S.isBlock:!1}),f===p&&v){const{parent:S}=r.doc.resolve(f);S.isTextblock&&!S.type.spec.code&&!S.childCount&&(f-=1,p+=1)}let T;if(g){if(Array.isArray(e))T=e.map(S=>S.text||"").join("");else if(e instanceof ge){let S="";e.forEach(k=>{k.text&&(S+=k.text)}),T=S}else typeof e=="object"&&e&&e.text?T=e.text:T=e;r.insertText(T,f,p)}else{T=l;const S=r.doc.resolve(f),k=S.node(),C=S.parentOffset===0,N=k.isText||k.isTextblock,R=k.content.size>0;C&&N&&R&&(f=Math.max(0,f-1)),r.replaceWith(f,p,T)}n.updateSelection&&yme(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:f,text:T}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:f,text:T})}return!0},xme=()=>({state:t,dispatch:e})=>Wfe(t,e),wme=()=>({state:t,dispatch:e})=>Gfe(t,e),Sme=()=>({state:t,dispatch:e})=>TH(t,e),Tme=()=>({state:t,dispatch:e})=>AH(t,e),Eme=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Kw(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},kme=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Kw(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},_me=()=>({state:t,dispatch:e})=>Hfe(t,e),Ame=()=>({state:t,dispatch:e})=>qfe(t,e);function xq(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Cme(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,a;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))gN()||xq()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var Ome=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=Cme(t).split(/-(?!$)/),a=s.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",d=>d(n,l))});return c?.steps.forEach(d=>{const f=d.map(r.mapping);f&&i&&r.maybeStep(f)}),!0};function Rc(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,a=e?zn(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(p,g)=>{if(p.isText)return;const v=Math.max(r,g),b=Math.min(i,g+p.nodeSize);l.push({node:p,from:v,to:b})});const c=i-r,d=l.filter(p=>a?a.name===p.node.type.name:!0).filter(p=>Gb(p.node.attrs,n,{strict:!1}));return s?!!d.length:d.reduce((p,g)=>p+g.to-g.from,0)>=c}var Nme=(t,e={})=>({state:n,dispatch:r})=>{const i=zn(t,n.schema);return Rc(n,i,e)?Kfe(n,r):!1},Mme=()=>({state:t,dispatch:e})=>MH(t,e),jme=t=>({state:e,dispatch:n})=>{const r=zn(t,e.schema);return ahe(r)(e,n)},Ime=()=>({state:t,dispatch:e})=>OH(t,e);function n1(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function JL(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var Dme=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const l=n1(typeof t=="string"?t:t.name,r.schema);if(!l)return!1;l==="node"&&(s=zn(t,r.schema)),l==="mark"&&(a=sl(t,r.schema));let c=!1;return n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(f,p)=>{s&&s===f.type&&(c=!0,i&&n.setNodeMarkup(p,void 0,JL(f.attrs,e))),a&&f.marks.length&&f.marks.forEach(g=>{a===g.type&&(c=!0,i&&n.addMark(p,p+f.nodeSize,a.create(JL(g.attrs,e))))})})}),c},Pme=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Rme=()=>({tr:t,dispatch:e})=>{if(e){const n=new $i(t.doc);t.setSelection(n)}return!0},Lme=()=>({state:t,dispatch:e})=>kH(t,e),Vme=()=>({state:t,dispatch:e})=>CH(t,e),Bme=()=>({state:t,dispatch:e})=>Jfe(t,e),zme=()=>({state:t,dispatch:e})=>the(t,e),Ume=()=>({state:t,dispatch:e})=>ehe(t,e);function tC(t,e,n={},r={}){return wg(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var Fme=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:a,commands:l})=>{const{doc:c}=s;if(r.preserveWhitespace!=="full"){const d=tC(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return a&&s.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function wq(t,e){const n=sl(e,t.schema),{from:r,to:i,empty:s}=t.selection,a=[];s?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,c=>{a.push(...c.marks)});const l=a.find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function Sq(t,e){const n=new bH(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function $me(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Hme(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function qme(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function r1(t){return e=>qme(e.$from,t)}function De(t,e,n){return t.config[e]===void 0&&t.parent?De(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?De(t.parent,e,n):null}):t.config[e]}function yN(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=De(e,"addExtensions",n);return r?[e,...yN(r())]:e}).flat(10)}function vN(t,e){const n=Ld.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function Tq(t){return typeof t=="function"}function St(t,e=void 0,...n){return Tq(t)?e?t.bind(e)(...n):t(...n):t}function Wme(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Th(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function Eq(t){const e=[],{nodeExtensions:n,markExtensions:r}=Th(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage,extensions:i},c=De(a,"addGlobalAttributes",l);if(!c)return;c().forEach(f=>{f.types.forEach(p=>{Object.entries(f.attributes).forEach(([g,v])=>{e.push({type:p,name:g,attribute:{...s,...v}})})})})}),i.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},c=De(a,"addAttributes",l);if(!c)return;const d=c();Object.entries(d).forEach(([f,p])=>{const g={...s,...p};typeof g?.default=="function"&&(g.default=g.default()),g?.isRequired&&g?.default===void 0&&delete g.default,e.push({type:a.name,name:f,attribute:g})})}),e}function yn(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const l=s?String(s).split(" "):[],c=r[i]?r[i].split(" "):[],d=l.filter(f=>!c.includes(f));r[i]=[...c,...d].join(" ")}else if(i==="style"){const l=s?s.split(";").map(f=>f.trim()).filter(Boolean):[],c=r[i]?r[i].split(";").map(f=>f.trim()).filter(Boolean):[],d=new Map;c.forEach(f=>{const[p,g]=f.split(":").map(v=>v.trim());d.set(p,g)}),l.forEach(f=>{const[p,g]=f.split(":").map(v=>v.trim());d.set(p,g)}),r[i]=Array.from(d.entries()).map(([f,p])=>`${f}: ${p}`).join("; ")}else r[i]=s}),r},{})}function Kb(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>yn(n,r),{})}function Gme(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function ZL(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(n):Gme(n.getAttribute(a.name));return l==null?s:{...s,[a.name]:l}},{});return{...r,...i}}}}function e3(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Wme(n)?!1:n!=null))}function t3(t){var e,n;const r={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(r.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function Kme(t,e){var n;const r=Eq(t),{nodeExtensions:i,markExtensions:s}=Th(t),a=(n=i.find(d=>De(d,"topNode")))==null?void 0:n.name,l=Object.fromEntries(i.map(d=>{const f=r.filter(k=>k.type===d.name),p={name:d.name,options:d.options,storage:d.storage,editor:e},g=t.reduce((k,C)=>{const N=De(C,"extendNodeSchema",p);return{...k,...N?N(d):{}}},{}),v=e3({...g,content:St(De(d,"content",p)),marks:St(De(d,"marks",p)),group:St(De(d,"group",p)),inline:St(De(d,"inline",p)),atom:St(De(d,"atom",p)),selectable:St(De(d,"selectable",p)),draggable:St(De(d,"draggable",p)),code:St(De(d,"code",p)),whitespace:St(De(d,"whitespace",p)),linebreakReplacement:St(De(d,"linebreakReplacement",p)),defining:St(De(d,"defining",p)),isolating:St(De(d,"isolating",p)),attrs:Object.fromEntries(f.map(t3))}),b=St(De(d,"parseHTML",p));b&&(v.parseDOM=b.map(k=>ZL(k,f)));const T=De(d,"renderHTML",p);T&&(v.toDOM=k=>T({node:k,HTMLAttributes:Kb(k,f)}));const S=De(d,"renderText",p);return S&&(v.toText=S),[d.name,v]})),c=Object.fromEntries(s.map(d=>{const f=r.filter(S=>S.type===d.name),p={name:d.name,options:d.options,storage:d.storage,editor:e},g=t.reduce((S,k)=>{const C=De(k,"extendMarkSchema",p);return{...S,...C?C(d):{}}},{}),v=e3({...g,inclusive:St(De(d,"inclusive",p)),excludes:St(De(d,"excludes",p)),group:St(De(d,"group",p)),spanning:St(De(d,"spanning",p)),code:St(De(d,"code",p)),attrs:Object.fromEntries(f.map(t3))}),b=St(De(d,"parseHTML",p));b&&(v.parseDOM=b.map(S=>ZL(S,f)));const T=De(d,"renderHTML",p);return T&&(v.toDOM=S=>T({mark:S,HTMLAttributes:Kb(S,f)})),[d.name,v]}));return new rH({topNode:a,nodes:l,marks:c})}function Yme(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function bN(t){return t.sort((n,r)=>{const i=De(n,"priority")||100,s=De(r,"priority")||100;return i>s?-1:i<s?1:0})}function kq(t){const e=bN(yN(t)),n=Yme(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function _q(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let l="";return t.nodesBetween(r,i,(c,d,f,p)=>{var g;c.isBlock&&d>r&&(l+=s);const v=a?.[c.type.name];if(v)return f&&(l+=v({node:c,pos:d,parent:f,index:p,range:e})),!1;c.isText&&(l+=(g=c?.text)==null?void 0:g.slice(Math.max(r,d)-d,i-d))}),l}function Xme(t,e){const n={from:0,to:t.content.size};return _q(t,n,e)}function Aq(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function Qme(t,e){const n=zn(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,l=>{s.push(l)});const a=s.reverse().find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function Cq(t,e){const n=n1(typeof e=="string"?e:e.name,t.schema);return n==="node"?Qme(t,e):n==="mark"?wq(t,e):{}}function Jme(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function Zme(t){const e=Jme(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function Oq(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const a=[];if(i.ranges.length)i.forEach((l,c)=>{a.push({from:l,to:c})});else{const{from:l,to:c}=n[s];if(l===void 0||c===void 0)return;a.push({from:l,to:c})}a.forEach(({from:l,to:c})=>{const d=e.slice(s).map(l,-1),f=e.slice(s).map(c),p=e.invert().map(d,-1),g=e.invert().map(f);r.push({oldRange:{from:p,to:g},newRange:{from:d,to:f}})})}),Zme(r)}function xN(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),a=mN(s,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(t,e,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),r}var ege=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,a=null;for(;s>0&&a===null;){const l=i.node(s);l?.type.name===e?a=l:s-=1}return[a,s]};function VE(t,e){return e.nodes[t]||e.marks[t]||null}function Zv(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var tge=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,a,l)=>{var c,d;const f=((d=(c=i.type.spec).toText)==null?void 0:d.call(c,{node:i,pos:s,parent:a,index:l}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?f:f.slice(0,Math.max(0,r-s))}),n};function nC(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?sl(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(p=>s?s.name===p.type.name:!0).find(p=>Gb(p.attrs,n,{strict:!1}));let a=0;const l=[];if(i.forEach(({$from:p,$to:g})=>{const v=p.pos,b=g.pos;t.doc.nodesBetween(v,b,(T,S)=>{if(!T.isText&&!T.marks.length)return;const k=Math.max(v,S),C=Math.min(b,S+T.nodeSize),N=C-k;a+=N,l.push(...T.marks.map(R=>({mark:R,from:k,to:C})))})}),a===0)return!1;const c=l.filter(p=>s?s.name===p.mark.type.name:!0).filter(p=>Gb(p.mark.attrs,n,{strict:!1})).reduce((p,g)=>p+g.to-g.from,0),d=l.filter(p=>s?p.mark.type!==s&&p.mark.type.excludes(s):!0).reduce((p,g)=>p+g.to-g.from,0);return(c>0?c+d:c)>=a}function nge(t,e,n={}){if(!e)return Rc(t,null,n)||nC(t,null,n);const r=n1(e,t.schema);return r==="node"?Rc(t,e,n):r==="mark"?nC(t,e,n):!1}var rge=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=r1(l=>l.type.name===e)(t.selection);if(!s)return!1;const a=t.doc.resolve(s.pos+1);return i.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},ige=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function n3(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function r3(t,e){const{nodeExtensions:n}=Th(e),r=n.find(a=>a.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=St(De(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function i1(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(i1(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function Nq(t){return t instanceof Le}var Mq=class jq{constructor(e){this.position=e}static fromJSON(e){return new jq(e.position)}toJSON(){return{position:this.position}}};function sge(t,e){const n=e.mapping.mapResult(t.position);return{position:new Mq(n.pos),mapResult:n}}function age(t){return new Mq(t)}function oge(t,e,n){var r;const{selection:i}=e;let s=null;if(yq(i)&&(s=i.$cursor),s){const l=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(d=>d.type.excludes(n)))}const{ranges:a}=i;return a.some(({$from:l,$to:c})=>{let d=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,c.pos,(f,p,g)=>{if(d)return!1;if(f.isInline){const v=!g||g.type.allowsMarkType(n),b=!!n.isInSet(f.marks)||!f.marks.some(T=>T.type.excludes(n));d=v&&b}return!d}),d})}var lge=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:a,ranges:l}=s,c=sl(t,r.schema);if(i)if(a){const d=wq(r,c);n.addStoredMark(c.create({...d,...e}))}else l.forEach(d=>{const f=d.$from.pos,p=d.$to.pos;r.doc.nodesBetween(f,p,(g,v)=>{const b=Math.max(v,f),T=Math.min(v+g.nodeSize,p);g.marks.find(k=>k.type===c)?g.marks.forEach(k=>{c===k.type&&n.addMark(b,T,c.create({...k.attrs,...e}))}):n.addMark(b,T,c.create(e))})});return oge(r,n,c)},cge=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),uge=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=zn(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:l})=>yL(s,{...a,...e})(n)?!0:l.clearNodes()).command(({state:l})=>yL(s,{...a,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},dge=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Xu(t,0,r.content.size),s=Le.create(r,i);e.setSelection(s)}return!0},fge=(t,e)=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=r;let a,l;return typeof e=="number"?(a=e,l=e):e&&"from"in e&&"to"in e?(a=e.from,l=e.to):(a=s.from,l=s.to),i&&n.doc.nodesBetween(a,l,(c,d)=>{c.isText||n.setNodeMarkup(d,void 0,{...c.attrs,dir:t})}),!0},hge=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,a=$e.atStart(r).from,l=$e.atEnd(r).to,c=Xu(i,a,l),d=Xu(s,a,l),f=$e.create(r,c,d);e.setSelection(f)}return!0},pge=t=>({state:e,dispatch:n})=>{const r=zn(t,e.schema);return che(r)(e,n)};function i3(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var mge=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:a}=e,{$from:l,$to:c}=s,d=i.extensionManager.attributes,f=Zv(d,l.node().type.name,l.node().attrs);if(s instanceof Le&&s.node.isBlock)return!l.parentOffset||!Vo(a,l.pos)?!1:(r&&(t&&i3(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const p=c.parentOffset===c.parent.content.size,g=l.depth===0?void 0:$me(l.node(-1).contentMatchAt(l.indexAfter(-1)));let v=p&&g?[{type:g,attrs:f}]:void 0,b=Vo(e.doc,e.mapping.map(l.pos),1,v);if(!v&&!b&&Vo(e.doc,e.mapping.map(l.pos),1,g?[{type:g}]:void 0)&&(b=!0,v=g?[{type:g,attrs:f}]:void 0),r){if(b&&(s instanceof $e&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,v),g&&!p&&!l.parentOffset&&l.parent.type!==g)){const T=e.mapping.map(l.before()),S=e.doc.resolve(T);l.node(-1).canReplaceWith(S.index(),S.index()+1,g)&&e.setNodeMarkup(e.mapping.map(l.before()),g)}t&&i3(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return b},gge=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var a;const l=zn(t,r.schema),{$from:c,$to:d}=r.selection,f=r.selection.node;if(f&&f.isBlock||c.depth<2||!c.sameParent(d))return!1;const p=c.node(-1);if(p.type!==l)return!1;const g=s.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(i){let k=ge.empty;const C=c.index(-1)?1:c.index(-2)?2:3;for(let M=c.depth-C;M>=c.depth-3;M-=1)k=ge.from(c.node(M).copy(k));const N=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,R={...Zv(g,c.node().type.name,c.node().attrs),...e},D=((a=l.contentMatch.defaultType)==null?void 0:a.createAndFill(R))||void 0;k=k.append(ge.from(l.createAndFill(null,D)||void 0));const z=c.before(c.depth-(C-1));n.replace(z,c.after(-N),new Ee(k,4-C,0));let j=-1;n.doc.nodesBetween(z,n.doc.content.size,(M,P)=>{if(j>-1)return!1;M.isTextblock&&M.content.size===0&&(j=P+1)}),j>-1&&n.setSelection($e.near(n.doc.resolve(j))),n.scrollIntoView()}return!0}const v=d.pos===c.end()?p.contentMatchAt(0).defaultType:null,b={...Zv(g,p.type.name,p.attrs),...e},T={...Zv(g,c.node().type.name,c.node().attrs),...e};n.delete(c.pos,d.pos);const S=v?[{type:l,attrs:b},{type:v,attrs:T}]:[{type:l,attrs:b}];if(!Vo(n.doc,c.pos,2))return!1;if(i){const{selection:k,storedMarks:C}=r,{splittableMarks:N}=s.extensionManager,R=C||k.$to.parentOffset&&k.$from.marks();if(n.split(c.pos,2,S).scrollIntoView(),!R||!i)return!0;const D=R.filter(z=>N.includes(z.type.name));n.ensureMarks(D)}return!0},BE=(t,e)=>{const n=r1(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&Xc(t.doc,n.pos)&&t.join(n.pos),!0},zE=(t,e)=>{const n=r1(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&Xc(t.doc,r)&&t.join(r),!0},yge=(t,e,n,r={})=>({editor:i,tr:s,state:a,dispatch:l,chain:c,commands:d,can:f})=>{const{extensions:p,splittableMarks:g}=i.extensionManager,v=zn(t,a.schema),b=zn(e,a.schema),{selection:T,storedMarks:S}=a,{$from:k,$to:C}=T,N=k.blockRange(C),R=S||T.$to.parentOffset&&T.$from.marks();if(!N)return!1;const D=r1(z=>r3(z.type.name,p))(T);if(N.depth>=1&&D&&N.depth-D.depth<=1){if(D.node.type===v)return d.liftListItem(b);if(r3(D.node.type.name,p)&&v.validContent(D.node.content)&&l)return c().command(()=>(s.setNodeMarkup(D.pos,v),!0)).command(()=>BE(s,v)).command(()=>zE(s,v)).run()}return!n||!R||!l?c().command(()=>f().wrapInList(v,r)?!0:d.clearNodes()).wrapInList(v,r).command(()=>BE(s,v)).command(()=>zE(s,v)).run():c().command(()=>{const z=f().wrapInList(v,r),j=R.filter(M=>g.includes(M.type.name));return s.ensureMarks(j),z?!0:d.clearNodes()}).wrapInList(v,r).command(()=>BE(s,v)).command(()=>zE(s,v)).run()},vge=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,a=sl(t,r.schema);return nC(r,a,e)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,e)},bge=(t,e,n={})=>({state:r,commands:i})=>{const s=zn(t,r.schema),a=zn(e,r.schema),l=Rc(r,s,n);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),l?i.setNode(a,c):i.setNode(s,{...c,...n})},xge=(t,e={})=>({state:n,commands:r})=>{const i=zn(t,n.schema);return Rc(n,i,e)?r.lift(i):r.wrapIn(i,e)},wge=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const a=t.tr,l=s.transform;for(let c=l.steps.length-1;c>=0;c-=1)a.step(l.steps[c].invert(l.docs[c]));if(s.text){const c=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,t.schema.text(s.text,c))}else a.delete(s.from,s.to)}return!0}}return!1},Sge=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},Tge=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:l}=n,c=sl(t,r.schema),{$from:d,empty:f,ranges:p}=l;if(!i)return!0;if(f&&a){let{from:g,to:v}=l;const b=(s=d.marks().find(S=>S.type===c))==null?void 0:s.attrs,T=mN(d,c,b);T&&(g=T.from,v=T.to),n.removeMark(g,v,c)}else p.forEach(g=>{n.removeMark(g.$from.pos,g.$to.pos,c)});return n.removeStoredMark(c),!0},Ege=t=>({tr:e,state:n,dispatch:r})=>{const{selection:i}=n;let s,a;return typeof t=="number"?(s=t,a=t):t&&"from"in t&&"to"in t?(s=t.from,a=t.to):(s=i.from,a=i.to),r&&e.doc.nodesBetween(s,a,(l,c)=>{if(l.isText)return;const d={...l.attrs};delete d.dir,e.setNodeMarkup(c,void 0,d)}),!0},kge=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const l=n1(typeof t=="string"?t:t.name,r.schema);if(!l)return!1;l==="node"&&(s=zn(t,r.schema)),l==="mark"&&(a=sl(t,r.schema));let c=!1;return n.selection.ranges.forEach(d=>{const f=d.$from.pos,p=d.$to.pos;let g,v,b,T;n.selection.empty?r.doc.nodesBetween(f,p,(S,k)=>{s&&s===S.type&&(c=!0,b=Math.max(k,f),T=Math.min(k+S.nodeSize,p),g=k,v=S)}):r.doc.nodesBetween(f,p,(S,k)=>{k<f&&s&&s===S.type&&(c=!0,b=Math.max(k,f),T=Math.min(k+S.nodeSize,p),g=k,v=S),k>=f&&k<=p&&(s&&s===S.type&&(c=!0,i&&n.setNodeMarkup(k,void 0,{...S.attrs,...e})),a&&S.marks.length&&S.marks.forEach(C=>{if(a===C.type&&(c=!0,i)){const N=Math.max(k,f),R=Math.min(k+S.nodeSize,p);n.addMark(N,R,a.create({...C.attrs,...e}))}}))}),v&&(g!==void 0&&i&&n.setNodeMarkup(g,void 0,{...v.attrs,...e}),a&&v.marks.length&&v.marks.forEach(S=>{a===S.type&&i&&n.addMark(b,T,a.create({...S.attrs,...e}))}))}),c},_ge=(t,e={})=>({state:n,dispatch:r})=>{const i=zn(t,n.schema);return nhe(i,e)(n,r)},Age=(t,e={})=>({state:n,dispatch:r})=>{const i=zn(t,n.schema);return rhe(i,e)(n,r)},Cge=class{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}once(e,n){const r=(...i)=>{this.off(e,r),n.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}},s1=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},Oge=(t,e)=>{if(pN(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function fv(t){var e;const{editor:n,from:r,to:i,text:s,rules:a,plugin:l}=t,{view:c}=n;if(c.composing)return!1;const d=c.state.doc.resolve(r);if(d.parent.type.spec.code||(e=d.nodeBefore||d.nodeAfter)!=null&&e.marks.find(g=>g.type.spec.code))return!1;let f=!1;const p=tge(d)+s;return a.forEach(g=>{if(f)return;const v=Oge(p,g.find);if(!v)return;const b=c.state.tr,T=e1({state:c.state,transaction:b}),S={from:r-(v[0].length-s.length),to:i},{commands:k,chain:C,can:N}=new t1({editor:n,state:T});g.handler({state:T,range:S,match:v,commands:k,chain:C,can:N})===null||!b.steps.length||(g.undoable&&b.setMeta(l,{transform:b,from:r,to:i,text:s}),c.dispatch(b),f=!0)}),f}function Nge(t){const{editor:e,rules:n}=t,r=new cn({state:{init(){return null},apply(i,s,a){const l=i.getMeta(r);if(l)return l;const c=i.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:f}=c;typeof f=="string"?f=f:f=vN(ge.from(f),a.schema);const{from:p}=c,g=p+f.length;fv({editor:e,from:p,to:g,text:f,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,a,l){return fv({editor:e,from:s,to:a,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&fv({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?fv({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Mge(t){return Object.prototype.toString.call(t).slice(8,-1)}function hv(t){return Mge(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Iq(t,e){const n={...t};return hv(t)&&hv(e)&&Object.keys(e).forEach(r=>{hv(e[r])&&hv(t[r])?n[r]=Iq(t[r],e[r]):n[r]=e[r]}),n}var wN=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...St(De(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...St(De(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>Iq(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},al=class Dq extends wN{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new Dq(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(d=>d?.type.name===n.name))return!1;const c=a.find(d=>d?.type.name===n.name);return c&&r.removeStoredMark(c),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function jge(t){return typeof t=="number"}var Ige=class{constructor(t){this.find=t.find,this.handler=t.handler}},Dge=(t,e,n)=>{if(pN(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function Pge(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:a,dropEvent:l}=t,{commands:c,chain:d,can:f}=new t1({editor:e,state:n}),p=[];return n.doc.nodesBetween(r,i,(v,b)=>{var T,S,k,C,N;if((S=(T=v.type)==null?void 0:T.spec)!=null&&S.code||!(v.isText||v.isTextblock||v.isInline))return;const R=(N=(C=(k=v.content)==null?void 0:k.size)!=null?C:v.nodeSize)!=null?N:0,D=Math.max(r,b),z=Math.min(i,b+R);if(D>=z)return;const j=v.isText?v.text||"":v.textBetween(D-b,z-b,void 0,"");Dge(j,s.find,a).forEach(P=>{if(P.index===void 0)return;const B=D+P.index+1,U=B+P[0].length,V={from:n.tr.mapping.map(B),to:n.tr.mapping.map(U)},L=s.handler({state:n,range:V,match:P,commands:c,chain:d,can:f,pasteEvent:a,dropEvent:l});p.push(L)})}),p.every(v=>v!==null)}var pv=null,Rge=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function Lge(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:f,from:p,to:g,rule:v,pasteEvt:b})=>{const T=f.tr,S=e1({state:f,transaction:T});if(!(!Pge({editor:e,state:S,from:Math.max(p-1,0),to:g.b-1,rule:v,pasteEvent:b,dropEvent:l})||!T.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,T}};return n.map(f=>new cn({view(p){const g=b=>{var T;r=(T=p.dom.parentElement)!=null&&T.contains(b.target)?p.dom.parentElement:null,r&&(pv=e)},v=()=>{pv&&(pv=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(p,g)=>{if(s=r===p.dom.parentElement,l=g,!s){const v=pv;v?.isEditable&&setTimeout(()=>{const b=v.state.selection;b&&v.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(p,g)=>{var v;const b=(v=g.clipboardData)==null?void 0:v.getData("text/html");return a=g,i=!!b?.includes("data-pm-slice"),!1}}},appendTransaction:(p,g,v)=>{const b=p[0],T=b.getMeta("uiEvent")==="paste"&&!i,S=b.getMeta("uiEvent")==="drop"&&!s,k=b.getMeta("applyPasteRules"),C=!!k;if(!T&&!S&&!C)return;if(C){let{text:D}=k;typeof D=="string"?D=D:D=vN(ge.from(D),v.schema);const{from:z}=k,j=z+D.length,M=Rge(D);return c({rule:f,state:v,from:z,to:{b:j},pasteEvt:M})}const N=g.doc.content.findDiffStart(v.doc.content),R=g.doc.content.findDiffEnd(v.doc.content);if(!(!jge(N)||!R||N===R.b))return c({rule:f,state:v,from:N,to:R,pasteEvt:a})}}))}var a1=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=kq(t),this.schema=Kme(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:VE(e.name,this.schema)},r=De(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return bN([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:VE(r.name,this.schema)},s=[],a=De(r,"addKeyboardShortcuts",i);let l={};if(r.type==="mark"&&De(r,"exitable",i)&&(l.ArrowRight=()=>al.handleExit({editor:t,mark:r})),a){const g=Object.fromEntries(Object.entries(a()).map(([v,b])=>[v,()=>b({editor:t})]));l={...l,...g}}const c=Qpe(l);s.push(c);const d=De(r,"addInputRules",i);if(n3(r,t.options.enableInputRules)&&d){const g=d();if(g&&g.length){const v=Nge({editor:t,rules:g}),b=Array.isArray(v)?v:[v];s.push(...b)}}const f=De(r,"addPasteRules",i);if(n3(r,t.options.enablePasteRules)&&f){const g=f();if(g&&g.length){const v=Lge({editor:t,rules:g});s.push(...v)}}const p=De(r,"addProseMirrorPlugins",i);if(p){const g=p();s.push(...g)}return s})}get attributes(){return Eq(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Th(this.extensions);return Object.fromEntries(e.filter(n=>!!De(n,"addNodeView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:zn(n.name,this.schema)},s=De(n,"addNodeView",i);if(!s)return[];const a=s();if(!a)return[];const l=(c,d,f,p,g)=>{const v=Kb(c,r);return a({node:c,view:d,getPos:f,decorations:p,innerDecorations:g,editor:t,extension:n,HTMLAttributes:v})};return[n.name,l]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Th(this.extensions);return Object.fromEntries(e.filter(n=>!!De(n,"addMarkView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:sl(n.name,this.schema)},s=De(n,"addMarkView",i);if(!s)return[];const a=(l,c,d)=>{const f=Kb(l,r);return s()({mark:l,view:c,inline:d,editor:t,extension:n,HTMLAttributes:f,updateAttributes:p=>{Qge(l,t,p)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:VE(e.name,this.schema)};e.type==="mark"&&((n=St(De(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=De(e,"onBeforeCreate",r),s=De(e,"onCreate",r),a=De(e,"onUpdate",r),l=De(e,"onSelectionUpdate",r),c=De(e,"onTransaction",r),d=De(e,"onFocus",r),f=De(e,"onBlur",r),p=De(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),a&&this.editor.on("update",a),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),d&&this.editor.on("focus",d),f&&this.editor.on("blur",f),p&&this.editor.on("destroy",p)})}};a1.resolve=kq;a1.sort=bN;a1.flatten=yN;var Vge={};hN(Vge,{ClipboardTextSerializer:()=>Rq,Commands:()=>Lq,Delete:()=>Vq,Drop:()=>Bq,Editable:()=>zq,FocusEvents:()=>Fq,Keymap:()=>$q,Paste:()=>Hq,Tabindex:()=>qq,TextDirection:()=>Wq,focusEventsPluginKey:()=>Uq});var Dt=class Pq extends wN{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new Pq(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},Rq=Dt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new cn({key:new Kn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,a=Math.min(...s.map(f=>f.$from.pos)),l=Math.max(...s.map(f=>f.$to.pos)),c=Aq(n);return _q(r,{from:a,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),Lq=Dt.create({name:"commands",addCommands(){return{...mq}}}),Vq=Dt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var a,l,c,d;if((d=(c=(l=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,t))!=null?d:t.getMeta("y-sync$"))return;const f=Sq(t.before,[t,...e]);Oq(f).forEach(v=>{f.mapping.mapResult(v.oldRange.from).deletedAfter&&f.mapping.mapResult(v.oldRange.to).deletedBefore&&f.before.nodesBetween(v.oldRange.from,v.oldRange.to,(b,T)=>{const S=T+b.nodeSize-2,k=v.oldRange.from<=T&&S<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:b,from:T,to:S,newFrom:f.mapping.map(T),newTo:f.mapping.map(S),deletedRange:v.oldRange,newRange:v.newRange,partial:!k,editor:this.editor,transaction:t,combinedTransform:f})})});const g=f.mapping;f.steps.forEach((v,b)=>{var T,S;if(v instanceof ea){const k=g.slice(b).map(v.from,-1),C=g.slice(b).map(v.to),N=g.invert().map(k,-1),R=g.invert().map(C),D=(T=f.doc.nodeAt(k-1))==null?void 0:T.marks.some(j=>j.eq(v.mark)),z=(S=f.doc.nodeAt(C))==null?void 0:S.marks.some(j=>j.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:N,to:R},newRange:{from:k,to:C},partial:!!(z||D),editor:this.editor,transaction:t,combinedTransform:f})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),Bq=Dt.create({name:"drop",addProseMirrorPlugins(){return[new cn({key:new Kn("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),zq=Dt.create({name:"editable",addProseMirrorPlugins(){return[new cn({key:new Kn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Uq=new Kn("focusEvents"),Fq=Dt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new cn({key:Uq,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),$q=Dt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:l})=>{const{selection:c,doc:d}=l,{empty:f,$anchor:p}=c,{pos:g,parent:v}=p,b=p.parent.isTextblock&&g>0?l.doc.resolve(g-1):p,T=b.parent.type.spec.isolating,S=p.pos-p.parentOffset,k=T&&b.parent.childCount===1?S===p.pos:Ze.atStart(d).from===g;return!f||!v.type.isTextblock||v.textContent.length||!k||k&&p.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return gN()||xq()?s:i},addProseMirrorPlugins(){return[new cn({key:new Kn("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(T=>T.getMeta("composition")))return;const r=t.some(T=>T.docChanged)&&!e.doc.eq(n.doc),i=t.some(T=>T.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:a,to:l}=e.selection,c=Ze.atStart(e.doc).from,d=Ze.atEnd(e.doc).to;if(s||!(a===c&&l===d)||!i1(n.doc))return;const g=n.tr,v=e1({state:n,transaction:g}),{commands:b}=new t1({editor:this.editor,state:v});if(b.clearNodes(),!!g.steps.length)return g}})]}}),Hq=Dt.create({name:"paste",addProseMirrorPlugins(){return[new cn({key:new Kn("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),qq=Dt.create({name:"tabindex",addProseMirrorPlugins(){return[new cn({key:new Kn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Wq=Dt.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=Th(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new cn({key:new Kn("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),Bge=class zf{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new zf(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new zf(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new zf(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,a=this.pos+r+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(a);if(!i&&l.depth<=this.depth)return;const c=new zf(l,this.editor,i,i?n:null);i&&(c.actualDepth=this.depth+1),e.push(new zf(l,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,a=Object.keys(n);for(let l=0;l<a.length;l+=1){const c=a[l];if(s[c]!==n[c])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===e&&s.every(c=>n[c]===a.node.attrs[c])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},zge=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Uge(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var Fge=class extends Cge{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:sge,createMappablePosition:age},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=vq(e,this.options.autofocus);this.editorState=Qf.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Uge(zge,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=Tq(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(a=>!a.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[zq,Rq.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),Lq,Fq,$q,qq,Bq,Hq,Vq,Wq.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new a1(r,this)}createCommandManager(){this.commandManager=new t1({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=tC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=tC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new hq(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(d=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(d)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),l=a?.getMeta("focus"),c=a?.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:a}),c&&this.emit("blur",{editor:this,event:c.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(d=>d.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return Cq(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return nge(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return vN(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return Xme(this.state.doc,{blockSeparator:e,textSerializers:{...Aq(this.schema),...n}})}get isEmpty(){return i1(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new Bge(e,this)}get $doc(){return this.$pos(0)}};function _d(t){return new s1({find:t.find,handler:({state:e,range:n,match:r})=>{const i=St(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];if(a){const c=l.search(/\S/),d=n.from+l.indexOf(a),f=d+a.length;if(xN(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(T=>T===t.type&&T!==v.mark.type)).filter(v=>v.to>d).length)return null;f<n.to&&s.delete(f,n.to),d>n.from&&s.delete(n.from+c,d);const g=n.from+c+a.length;s.addMark(n.from+c,g,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function $ge(t){return new s1({find:t.find,handler:({state:e,range:n,match:r})=>{const i=St(t.getAttributes,void 0,r)||{},{tr:s}=e,a=n.from;let l=n.to;const c=t.type.create(i);if(r[1]){const d=r[0].lastIndexOf(r[1]);let f=a+d;f>l?f=l:l=f+r[1].length;const p=r[0][r[0].length-1];s.insertText(p,a+r[0].length-1),s.replaceWith(f,l,c)}else if(r[0]){const d=t.type.isInline?a:a-1;s.insert(d,t.type.create(i)).delete(s.mapping.map(a),s.mapping.map(l))}s.scrollIntoView()},undoable:t.undoable})}function rC(t){return new s1({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=St(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function Eh(t){return new s1({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=St(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),c=a.doc.resolve(n.from).blockRange(),d=c&&QO(c,t.type,s);if(!d)return null;if(a.wrap(c,d),t.keepMarks&&t.editor){const{selection:p,storedMarks:g}=e,{splittableMarks:v}=t.editor.extensionManager,b=g||p.$to.parentOffset&&p.$from.marks();if(b){const T=b.filter(S=>v.includes(S.type.name));a.ensureMarks(T)}}if(t.keepAttributes){const p=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(p,s).run()}const f=a.doc.resolve(n.from-1).nodeBefore;f&&f.type===t.type&&Xc(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,f))&&a.join(n.from-1)},undoable:t.undoable})}function Hge(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Le){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var qge={};hN(qge,{createAtomBlockMarkdownSpec:()=>Wge,createBlockMarkdownSpec:()=>Gge,createInlineMarkdownSpec:()=>Xge,parseAttributes:()=>SN,parseIndentedBlocks:()=>iC,renderNestedMarkdownContent:()=>EN,serializeAttributes:()=>TN});function SN(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,d=>(n.push(d),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const d=i.map(f=>f.trim().slice(1));e.class=d.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,d,f])=>{var p;const g=parseInt(((p=f.match(/__QUOTED_(\d+)__/))==null?void 0:p[1])||"0",10),v=n[g];v&&(e[d]=v.slice(1,-1))});const c=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(f=>{f.match(/^[a-zA-Z][\w-]*$/)&&(e[f]=!0)}),e}function TN(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function Wge(t){const{nodeName:e,name:n,parseAttributes:r=SN,serializeAttributes:i=TN,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:l}=t,c=n||e,d=f=>{if(!l)return f;const p={};return l.forEach(g=>{g in f&&(p[g]=f[g])}),p};return{parseMarkdown:(f,p)=>{const g={...s,...f.attributes};return p.createNode(e,g,[])},markdownTokenizer:{name:e,level:"block",start(f){var p;const g=new RegExp(`^:::${c}(?:\\s|$)`,"m"),v=(p=f.match(g))==null?void 0:p.index;return v!==void 0?v:-1},tokenize(f,p,g){const v=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),b=f.match(v);if(!b)return;const T=b[1]||"",S=r(T);if(!a.find(C=>!(C in S)))return{type:e,raw:b[0],attributes:S}}},renderMarkdown:f=>{const p=d(f.attrs||{}),g=i(p),v=g?` {${g}}`:"";return`:::${c}${v} :::`}}}function Gge(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=SN,serializeAttributes:s=TN,defaultAttributes:a={},content:l="block",allowedAttributes:c}=t,d=n||e,f=p=>{if(!c)return p;const g={};return c.forEach(v=>{v in p&&(g[v]=p[v])}),g};return{parseMarkdown:(p,g)=>{let v;if(r){const T=r(p);v=typeof T=="string"?[{type:"text",text:T}]:T}else l==="block"?v=g.parseChildren(p.tokens||[]):v=g.parseInline(p.tokens||[]);const b={...a,...p.attributes};return g.createNode(e,b,v)},markdownTokenizer:{name:e,level:"block",start(p){var g;const v=new RegExp(`^:::${d}`,"m"),b=(g=p.match(v))==null?void 0:g.index;return b!==void 0?b:-1},tokenize(p,g,v){var b;const T=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),S=p.match(T);if(!S)return;const[k,C=""]=S,N=i(C);let R=1;const D=k.length;let z="";const j=/^:::([\w-]*)(\s.*)?/gm,M=p.slice(D);for(j.lastIndex=0;;){const P=j.exec(M);if(P===null)break;const B=P.index,U=P[1];if(!((b=P[2])!=null&&b.endsWith(":::"))){if(U)R+=1;else if(R-=1,R===0){const V=M.slice(0,B);z=V.trim();const L=p.slice(0,D+B+P[0].length);let Z=[];if(z)if(l==="block")for(Z=v.blockTokens(V),Z.forEach(oe=>{oe.text&&(!oe.tokens||oe.tokens.length===0)&&(oe.tokens=v.inlineTokens(oe.text))});Z.length>0;){const oe=Z[Z.length-1];if(oe.type==="paragraph"&&(!oe.text||oe.text.trim()===""))Z.pop();else break}else Z=v.inlineTokens(z);return{type:e,raw:L,attributes:N,content:z,tokens:Z}}}}}},renderMarkdown:(p,g)=>{const v=f(p.attrs||{}),b=s(v),T=b?` {${b}}`:"",S=g.renderChildren(p.content||[],`

`);return`:::${d}${T}

${S}

:::`}}}function Kge(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,s,a]=r;e[i]=s||a,r=n.exec(t)}return e}function Yge(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function Xge(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=Kge,serializeAttributes:s=Yge,defaultAttributes:a={},selfClosing:l=!1,allowedAttributes:c}=t,d=n||e,f=g=>{if(!c)return g;const v={};return c.forEach(b=>{const T=typeof b=="string"?b:b.name,S=typeof b=="string"?void 0:b.skipIfDefault;if(T in g){const k=g[T];if(S!==void 0&&k===S)return;v[T]=k}}),v},p=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(g,v)=>{const b={...a,...g.attributes};if(l)return v.createNode(e,b);const T=r?r(g):g.content||"";return T?v.createNode(e,b,[v.createTextNode(T)]):v.createNode(e,b,[])},markdownTokenizer:{name:e,level:"inline",start(g){const v=l?new RegExp(`\\[${p}\\s*[^\\]]*\\]`):new RegExp(`\\[${p}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${p}\\]`),b=g.match(v),T=b?.index;return T!==void 0?T:-1},tokenize(g,v,b){const T=l?new RegExp(`^\\[${p}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${p}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${p}\\]`),S=g.match(T);if(!S)return;let k="",C="";if(l){const[,R]=S;C=R}else{const[,R,D]=S;C=R,k=D||""}const N=i(C.trim());return{type:e,raw:S[0],content:k.trim(),attributes:N}}},renderMarkdown:g=>{let v="";r?v=r(g):g.content&&g.content.length>0&&(v=g.content.filter(k=>k.type==="text").map(k=>k.text).join(""));const b=f(g.attrs||{}),T=s(b),S=T?` ${T}`:"";return l?`[${d}${S}]`:`[${d}${S}]${v}[/${d}]`}}}function iC(t,e,n){var r,i,s,a;const l=t.split(`
`),c=[];let d="",f=0;const p=e.baseIndentSize||2;for(;f<l.length;){const g=l[f],v=g.match(e.itemPattern);if(!v){if(c.length>0)break;if(g.trim()===""){f+=1,d=`${d}${g}
`;continue}else return}const b=e.extractItemData(v),{indentLevel:T,mainContent:S}=b;d=`${d}${g}
`;const k=[S];for(f+=1;f<l.length;){const D=l[f];if(D.trim()===""){const j=l.slice(f+1).findIndex(B=>B.trim()!=="");if(j===-1)break;if((((i=(r=l[f+1+j].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>T){k.push(D),d=`${d}${D}
`,f+=1;continue}else break}if((((a=(s=D.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>T)k.push(D),d=`${d}${D}
`,f+=1;else break}let C;const N=k.slice(1);if(N.length>0){const D=N.map(z=>z.slice(T+p)).join(`
`);D.trim()&&(e.customNestedParser?C=e.customNestedParser(D):C=n.blockTokens(D))}const R=e.createToken(b,C);c.push(R)}if(c.length!==0)return{items:c,raw:d}}function EN(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[s,...a]=t.content,l=e.renderChildren([s]),c=[`${i}${l}`];return a&&a.length>0&&a.forEach(d=>{const f=e.renderChildren([d]);if(f){const p=f.split(`
`).map(g=>g?e.indent(g):"").join(`
`);c.push(p)}}),c.join(`
`)}function Qge(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,a=t;i.descendants((l,c)=>{const d=s.mapping.map(c),f=s.mapping.map(c)+l.nodeSize;let p=null;if(l.marks.forEach(v=>{if(v!==a)return!1;p=v}),!p)return;let g=!1;if(Object.keys(n).forEach(v=>{n[v]!==p.attrs[v]&&(g=!0)}),g){const v=t.type.create({...t.attrs,...n});s.removeMark(d,f,t.type),s.addMark(d,f,v)}}),s.docChanged&&e.view.dispatch(s)}var Gi=class Gq extends wN{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new Gq(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Lc(t){return new Ige({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=St(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:a}=e,l=r[r.length-1],c=r[0];let d=n.to;if(l){const f=c.search(/\S/),p=n.from+c.indexOf(l),g=p+l.length;if(xN(n.from,n.to,e.doc).filter(b=>b.mark.type.excluded.find(S=>S===t.type&&S!==b.mark.type)).filter(b=>b.to>p).length)return null;g<n.to&&a.delete(g,n.to),p>n.from&&a.delete(n.from+f,p),d=n.from+f+l.length,a.addMark(n.from+f,d,t.type.create(s||{})),a.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:Jge,getOwnPropertySymbols:Zge}=Object,{hasOwnProperty:e0e}=Object.prototype;function UE(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function mv(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:s}=i,a=s.get(n),l=s.get(r);if(a&&l)return a===r&&l===n;s.set(n,r),s.set(r,n);const c=t(n,r,i);return s.delete(n),s.delete(r),c}}function t0e(t){return t?.[Symbol.toStringTag]}function s3(t){return Jge(t).concat(Zge(t))}const n0e=Object.hasOwn||((t,e)=>e0e.call(t,e));function Vd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const r0e="__v",i0e="__o",s0e="_owner",{getOwnPropertyDescriptor:a3,keys:o3}=Object;function a0e(t,e){return t.byteLength===e.byteLength&&Yb(new Uint8Array(t),new Uint8Array(e))}function o0e(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function l0e(t,e){return t.byteLength===e.byteLength&&Yb(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function c0e(t,e){return Vd(t.getTime(),e.getTime())}function u0e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function d0e(t,e){return t===e}function l3(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.entries();let a,l,c=0;for(;(a=s.next())&&!a.done;){const d=e.entries();let f=!1,p=0;for(;(l=d.next())&&!l.done;){if(i[p]){p++;continue}const g=a.value,v=l.value;if(n.equals(g[0],v[0],c,p,t,e,n)&&n.equals(g[1],v[1],g[0],v[0],t,e,n)){f=i[p]=!0;break}p++}if(!f)return!1;c++}return!0}const f0e=Vd;function h0e(t,e,n){const r=o3(t);let i=r.length;if(o3(e).length!==i)return!1;for(;i-- >0;)if(!Kq(t,e,n,r[i]))return!1;return!0}function em(t,e,n){const r=s3(t);let i=r.length;if(s3(e).length!==i)return!1;let s,a,l;for(;i-- >0;)if(s=r[i],!Kq(t,e,n,s)||(a=a3(t,s),l=a3(e,s),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function p0e(t,e){return Vd(t.valueOf(),e.valueOf())}function m0e(t,e){return t.source===e.source&&t.flags===e.flags}function c3(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.values();let a,l;for(;(a=s.next())&&!a.done;){const c=e.values();let d=!1,f=0;for(;(l=c.next())&&!l.done;){if(!i[f]&&n.equals(a.value,l.value,a.value,l.value,t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1}return!0}function Yb(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function g0e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Kq(t,e,n,r){return(r===s0e||r===i0e||r===r0e)&&(t.$$typeof||e.$$typeof)?!0:n0e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const y0e="[object ArrayBuffer]",v0e="[object Arguments]",b0e="[object Boolean]",x0e="[object DataView]",w0e="[object Date]",S0e="[object Error]",T0e="[object Map]",E0e="[object Number]",k0e="[object Object]",_0e="[object RegExp]",A0e="[object Set]",C0e="[object String]",O0e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},N0e="[object URL]",M0e=Object.prototype.toString;function j0e({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:a,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:f,areSetsEqual:p,areTypedArraysEqual:g,areUrlsEqual:v,unknownTagComparators:b}){return function(S,k,C){if(S===k)return!0;if(S==null||k==null)return!1;const N=typeof S;if(N!==typeof k)return!1;if(N!=="object")return N==="number"?l(S,k,C):N==="function"?s(S,k,C):!1;const R=S.constructor;if(R!==k.constructor)return!1;if(R===Object)return c(S,k,C);if(Array.isArray(S))return e(S,k,C);if(R===Date)return r(S,k,C);if(R===RegExp)return f(S,k,C);if(R===Map)return a(S,k,C);if(R===Set)return p(S,k,C);const D=M0e.call(S);if(D===w0e)return r(S,k,C);if(D===_0e)return f(S,k,C);if(D===T0e)return a(S,k,C);if(D===A0e)return p(S,k,C);if(D===k0e)return typeof S.then!="function"&&typeof k.then!="function"&&c(S,k,C);if(D===N0e)return v(S,k,C);if(D===S0e)return i(S,k,C);if(D===v0e)return c(S,k,C);if(O0e[D])return g(S,k,C);if(D===y0e)return t(S,k,C);if(D===x0e)return n(S,k,C);if(D===b0e||D===E0e||D===C0e)return d(S,k,C);if(b){let z=b[D];if(!z){const j=t0e(S);j&&(z=b[j])}if(z)return z(S,k,C)}return!1}}function I0e({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:a0e,areArraysEqual:n?em:o0e,areDataViewsEqual:l0e,areDatesEqual:c0e,areErrorsEqual:u0e,areFunctionsEqual:d0e,areMapsEqual:n?UE(l3,em):l3,areNumbersEqual:f0e,areObjectsEqual:n?em:h0e,arePrimitiveWrappersEqual:p0e,areRegExpsEqual:m0e,areSetsEqual:n?UE(c3,em):c3,areTypedArraysEqual:n?UE(Yb,em):Yb,areUrlsEqual:g0e,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=mv(r.areArraysEqual),s=mv(r.areMapsEqual),a=mv(r.areObjectsEqual),l=mv(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return r}function D0e(t){return function(e,n,r,i,s,a,l){return t(e,n,l)}}function P0e({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(l,c){const{cache:d=t?new WeakMap:void 0,meta:f}=n();return e(l,c,{cache:d,equals:r,meta:f,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const s={cache:void 0,equals:r,meta:void 0,strict:i};return function(l,c){return e(l,c,s)}}const R0e=Jc();Jc({strict:!0});Jc({circular:!0});Jc({circular:!0,strict:!0});Jc({createInternalComparator:()=>Vd});Jc({strict:!0,createInternalComparator:()=>Vd});Jc({circular:!0,createInternalComparator:()=>Vd});Jc({circular:!0,createInternalComparator:()=>Vd,strict:!0});function Jc(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,s=I0e(t),a=j0e(s),l=n?n(a):D0e(a);return P0e({circular:e,comparator:a,createState:r,equals:l,strict:i})}var FE={exports:{}},$E={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u3;function L0e(){if(u3)return $E;u3=1;var t=Oh(),e=z$();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,l=t.useMemo,c=t.useDebugValue;return $E.useSyncExternalStoreWithSelector=function(d,f,p,g,v){var b=s(null);if(b.current===null){var T={hasValue:!1,value:null};b.current=T}else T=b.current;b=l(function(){function k(z){if(!C){if(C=!0,N=z,z=g(z),v!==void 0&&T.hasValue){var j=T.value;if(v(j,z))return R=j}return R=z}if(j=R,r(N,z))return j;var M=g(z);return v!==void 0&&v(j,M)?(N=z,j):(N=z,R=M)}var C=!1,N,R,D=p===void 0?null:p;return[function(){return k(f())},D===null?void 0:function(){return k(D())}]},[f,p,g,v]);var S=i(d,b[0],b[1]);return a(function(){T.hasValue=!0,T.value=S},[S]),c(S),S},$E}var d3;function V0e(){return d3||(d3=1,FE.exports=L0e()),FE.exports}var Yq=V0e(),B0e=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},z0e=({contentComponent:t})=>{const e=U$.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return m.jsx(m.Fragment,{children:Object.values(e)})};function U0e(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:Gde.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var F0e=class extends Cs.Component{constructor(t){var e;super(t),this.editorContentRef=Cs.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=U0e(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return m.jsxs(m.Fragment,{children:[m.jsx("div",{ref:B0e(e,this.editorContentRef),...n}),t?.contentComponent&&m.jsx(z0e,{contentComponent:t.contentComponent})]})}},$0e=_.forwardRef((t,e)=>{const n=Cs.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Cs.createElement(F0e,{key:n,innerRef:e,...t})}),H0e=Cs.memo($0e),q0e=typeof window<"u"?_.useLayoutEffect:_.useEffect,W0e=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function G0e(t){var e;const[n]=_.useState(()=>new W0e(t.editor)),r=Yq.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:R0e);return q0e(()=>n.watch(t.editor),[t.editor,n]),_.useDebugValue(r),r}var K0e=!1,sC=typeof window>"u",Y0e=sC||!!(typeof window<"u"&&window.next),X0e=class Xq{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?sC||Y0e?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new Fge(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var a;return i===((a=n.extensions)==null?void 0:a[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Xq.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function Q0e(t={},e=[]){const n=_.useRef(t);n.current=t;const[r]=_.useState(()=>new X0e(n)),i=U$.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return _.useDebugValue(i),_.useEffect(r.onRender(e)),G0e({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var J0e=_.createContext({editor:null});J0e.Consumer;var Z0e=_.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),eye=()=>_.useContext(Z0e);Cs.forwardRef((t,e)=>{const{onDragStart:n}=eye(),r=t.as||"div";return m.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Cs.createContext({markViewContentRef:()=>{}});var Xb=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},tye=/^\s*>\s$/,nye=Gi.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Xb("blockquote",{...yn(this.options.HTMLAttributes,t),children:Xb("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(i=>{const l=e.renderChildren([i]).split(`
`).map(c=>c.trim()===""?n:`${n} ${c}`);r.push(l.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Eh({find:tye,type:this.type})]}}),rye=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,iye=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,sye=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,aye=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,oye=al.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Xb("strong",{...yn(this.options.HTMLAttributes,t),children:Xb("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[_d({find:rye,type:this.type}),_d({find:sye,type:this.type})]},addPasteRules(){return[Lc({find:iye,type:this.type}),Lc({find:aye,type:this.type})]}}),lye=/(^|[^`])`([^`]+)`(?!`)$/,cye=/(^|[^`])`([^`]+)`(?!`)/g,uye=al.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",yn(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[_d({find:lye,type:this.type})]},addPasteRules(){return[Lc({find:cye,type:this.type})]}}),HE=4,dye=/^```([a-z]+)?[\s\n]$/,fye=/^~~~([a-z]+)?[\s\n]$/,hye=Gi.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:HE,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",yn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:HE,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;if(s.parent.type!==this.type)return!1;const l=" ".repeat(n);return a?t.commands.insertContent(l):t.commands.command(({tr:c})=>{const{from:d,to:f}=i,v=r.doc.textBetween(d,f,`
`,`
`).split(`
`).map(b=>l+b).join(`
`);return c.replaceWith(d,f,r.schema.text(v)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:HE,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;return s.parent.type!==this.type?!1:a?t.commands.command(({tr:l})=>{var c;const{pos:d}=s,f=s.start(),p=s.end(),v=r.doc.textBetween(f,p,`
`,`
`).split(`
`);let b=0,T=0;const S=d-f;for(let z=0;z<v.length;z+=1){if(T+v[z].length>=S){b=z;break}T+=v[z].length+1}const C=((c=v[b].match(/^ */))==null?void 0:c[0])||"",N=Math.min(C.length,n);if(N===0)return!0;let R=f;for(let z=0;z<b;z+=1)R+=v[z].length+1;return l.delete(R,R+N),d-R<=N&&l.setSelection($e.create(l.doc,R)),!0}):t.commands.command(({tr:l})=>{const{from:c,to:d}=i,g=r.doc.textBetween(c,d,`
`,`
`).split(`
`).map(v=>{var b;const T=((b=v.match(/^ */))==null?void 0:b[0])||"",S=Math.min(T.length,n);return v.slice(S)}).join(`
`);return l.replaceWith(c,d,r.schema.text(g)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:d})=>(d.setSelection(Ze.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[rC({find:dye,type:this.type,getAttributes:t=>({language:t[1]})}),rC({find:fye,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new cn({key:new Kn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i?.mode;if(!n||!s)return!1;const{tr:a,schema:l}=t.state,c=l.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},c)),a.selection.$from.parent.type!==this.type&&a.setSelection($e.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),pye=Gi.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),mye=Gi.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",yn(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=r.extensionManager,c=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:f})=>{if(f&&c&&a){const p=c.filter(g=>l.includes(g.type.name));d.ensureMarks(p)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),gye=Gi.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,yn(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>rC({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),yye=Gi.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",yn(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!Hge(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return Nq(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:a,dispatch:l})=>{if(l){const{$to:c}=a.selection,d=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?a.setSelection($e.create(a.doc,c.pos+1)):c.nodeAfter.isBlock?a.setSelection(Le.create(a.doc,c.pos)):a.setSelection($e.create(a.doc,c.pos));else{const f=s.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,p=f?.create();p&&(a.insert(d,p),a.setSelection($e.create(a.doc,d+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[$ge({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),vye=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,bye=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,xye=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,wye=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Sye=al.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",yn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[_d({find:vye,type:this.type}),_d({find:xye,type:this.type})]},addPasteRules(){return[Lc({find:bye,type:this.type}),Lc({find:wye,type:this.type})]}});const Tye="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Eye="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",aC="numeric",oC="ascii",lC="alpha",Fm="asciinumeric",Tm="alphanumeric",cC="domain",Qq="emoji",kye="scheme",_ye="slashscheme",qE="whitespace";function Aye(t,e){return t in e||(e[t]=[]),e[t]}function Qu(t,e,n){e[aC]&&(e[Fm]=!0,e[Tm]=!0),e[oC]&&(e[Fm]=!0,e[lC]=!0),e[Fm]&&(e[Tm]=!0),e[lC]&&(e[Tm]=!0),e[Tm]&&(e[cC]=!0),e[Qq]&&(e[cC]=!0);for(const r in e){const i=Aye(r,n);i.indexOf(t)<0&&i.push(t)}}function Cye(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function gi(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}gi.groups={};gi.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||gi.groups;let i;return e&&e.j?i=e:(i=new gi(e),n&&r&&Qu(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(t[a]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||gi.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let a,l=i.go(t);if(l?(a=new gi,Object.assign(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new gi,s){if(r)if(a.t&&typeof a.t=="string"){const c=Object.assign(Cye(a.t,r),n);Qu(s,c,r)}else n&&Qu(s,n,r);a.t=s}return i.j[t]=a,a}};const Je=(t,e,n,r,i)=>t.ta(e,n,r,i),hn=(t,e,n,r,i)=>t.tr(e,n,r,i),f3=(t,e,n,r,i)=>t.ts(e,n,r,i),ve=(t,e,n,r,i)=>t.tt(e,n,r,i),Co="WORD",uC="UWORD",Jq="ASCIINUMERICAL",Zq="ALPHANUMERICAL",Sg="LOCALHOST",dC="TLD",fC="UTLD",eb="SCHEME",Uf="SLASH_SCHEME",kN="NUM",hC="WS",_N="NL",$m="OPENBRACE",Hm="CLOSEBRACE",Qb="OPENBRACKET",Jb="CLOSEBRACKET",Zb="OPENPAREN",ex="CLOSEPAREN",tx="OPENANGLEBRACKET",nx="CLOSEANGLEBRACKET",rx="FULLWIDTHLEFTPAREN",ix="FULLWIDTHRIGHTPAREN",sx="LEFTCORNERBRACKET",ax="RIGHTCORNERBRACKET",ox="LEFTWHITECORNERBRACKET",lx="RIGHTWHITECORNERBRACKET",cx="FULLWIDTHLESSTHAN",ux="FULLWIDTHGREATERTHAN",dx="AMPERSAND",fx="APOSTROPHE",hx="ASTERISK",Jl="AT",px="BACKSLASH",mx="BACKTICK",gx="CARET",oc="COLON",AN="COMMA",yx="DOLLAR",Ma="DOT",vx="EQUALS",CN="EXCLAMATION",ps="HYPHEN",qm="PERCENT",bx="PIPE",xx="PLUS",wx="POUND",Wm="QUERY",ON="QUOTE",e7="FULLWIDTHMIDDLEDOT",NN="SEMI",ja="SLASH",Gm="TILDE",Sx="UNDERSCORE",t7="EMOJI",Tx="SYM";var n7=Object.freeze({__proto__:null,ALPHANUMERICAL:Zq,AMPERSAND:dx,APOSTROPHE:fx,ASCIINUMERICAL:Jq,ASTERISK:hx,AT:Jl,BACKSLASH:px,BACKTICK:mx,CARET:gx,CLOSEANGLEBRACKET:nx,CLOSEBRACE:Hm,CLOSEBRACKET:Jb,CLOSEPAREN:ex,COLON:oc,COMMA:AN,DOLLAR:yx,DOT:Ma,EMOJI:t7,EQUALS:vx,EXCLAMATION:CN,FULLWIDTHGREATERTHAN:ux,FULLWIDTHLEFTPAREN:rx,FULLWIDTHLESSTHAN:cx,FULLWIDTHMIDDLEDOT:e7,FULLWIDTHRIGHTPAREN:ix,HYPHEN:ps,LEFTCORNERBRACKET:sx,LEFTWHITECORNERBRACKET:ox,LOCALHOST:Sg,NL:_N,NUM:kN,OPENANGLEBRACKET:tx,OPENBRACE:$m,OPENBRACKET:Qb,OPENPAREN:Zb,PERCENT:qm,PIPE:bx,PLUS:xx,POUND:wx,QUERY:Wm,QUOTE:ON,RIGHTCORNERBRACKET:ax,RIGHTWHITECORNERBRACKET:lx,SCHEME:eb,SEMI:NN,SLASH:ja,SLASH_SCHEME:Uf,SYM:Tx,TILDE:Gm,TLD:dC,UNDERSCORE:Sx,UTLD:fC,UWORD:uC,WORD:Co,WS:hC});const _o=/[a-z]/,tm=new RegExp("\\p{L}","u"),WE=new RegExp("\\p{Emoji}","u"),Ao=/\d/,GE=/\s/,h3="\r",KE=`
`,Oye="",Nye="",YE="";let gv=null,yv=null;function Mye(t=[]){const e={};gi.groups=e;const n=new gi;gv==null&&(gv=p3(Tye)),yv==null&&(yv=p3(Eye)),ve(n,"'",fx),ve(n,"{",$m),ve(n,"}",Hm),ve(n,"[",Qb),ve(n,"]",Jb),ve(n,"(",Zb),ve(n,")",ex),ve(n,"<",tx),ve(n,">",nx),ve(n,"",rx),ve(n,"",ix),ve(n,"",sx),ve(n,"",ax),ve(n,"",ox),ve(n,"",lx),ve(n,"",cx),ve(n,"",ux),ve(n,"&",dx),ve(n,"*",hx),ve(n,"@",Jl),ve(n,"`",mx),ve(n,"^",gx),ve(n,":",oc),ve(n,",",AN),ve(n,"$",yx),ve(n,".",Ma),ve(n,"=",vx),ve(n,"!",CN),ve(n,"-",ps),ve(n,"%",qm),ve(n,"|",bx),ve(n,"+",xx),ve(n,"#",wx),ve(n,"?",Wm),ve(n,'"',ON),ve(n,"/",ja),ve(n,";",NN),ve(n,"~",Gm),ve(n,"_",Sx),ve(n,"\\",px),ve(n,"",e7);const r=hn(n,Ao,kN,{[aC]:!0});hn(r,Ao,r);const i=hn(r,_o,Jq,{[Fm]:!0}),s=hn(r,tm,Zq,{[Tm]:!0}),a=hn(n,_o,Co,{[oC]:!0});hn(a,Ao,i),hn(a,_o,a),hn(i,Ao,i),hn(i,_o,i);const l=hn(n,tm,uC,{[lC]:!0});hn(l,_o),hn(l,Ao,s),hn(l,tm,l),hn(s,Ao,s),hn(s,_o),hn(s,tm,s);const c=ve(n,KE,_N,{[qE]:!0}),d=ve(n,h3,hC,{[qE]:!0}),f=hn(n,GE,hC,{[qE]:!0});ve(n,YE,f),ve(d,KE,c),ve(d,YE,f),hn(d,GE,f),ve(f,h3),ve(f,KE),hn(f,GE,f),ve(f,YE,f);const p=hn(n,WE,t7,{[Qq]:!0});ve(p,"#"),hn(p,WE,p),ve(p,Oye,p);const g=ve(p,Nye);ve(g,"#"),hn(g,WE,p);const v=[[_o,a],[Ao,i]],b=[[_o,null],[tm,l],[Ao,s]];for(let T=0;T<gv.length;T++)Kl(n,gv[T],dC,Co,v);for(let T=0;T<yv.length;T++)Kl(n,yv[T],fC,uC,b);Qu(dC,{tld:!0,ascii:!0},e),Qu(fC,{utld:!0,alpha:!0},e),Kl(n,"file",eb,Co,v),Kl(n,"mailto",eb,Co,v),Kl(n,"http",Uf,Co,v),Kl(n,"https",Uf,Co,v),Kl(n,"ftp",Uf,Co,v),Kl(n,"ftps",Uf,Co,v),Qu(eb,{scheme:!0,ascii:!0},e),Qu(Uf,{slashscheme:!0,ascii:!0},e),t=t.sort((T,S)=>T[0]>S[0]?1:-1);for(let T=0;T<t.length;T++){const S=t[T][0],C=t[T][1]?{[kye]:!0}:{[_ye]:!0};S.indexOf("-")>=0?C[cC]=!0:_o.test(S)?Ao.test(S)?C[Fm]=!0:C[oC]=!0:C[aC]=!0,f3(n,S,S,C)}return f3(n,"localhost",Sg,{ascii:!0}),n.jd=new gi(Tx),{start:n,tokens:Object.assign({groups:e},n7)}}function r7(t,e){const n=jye(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let s=0,a=0;for(;a<r;){let l=t,c=null,d=0,f=null,p=-1,g=-1;for(;a<r&&(c=l.go(n[a]));)l=c,l.accepts()?(p=0,g=0,f=l):p>=0&&(p+=n[a].length,g++),d+=n[a].length,s+=n[a].length,a++;s-=p,a-=g,d-=p,i.push({t:f.t,v:e.slice(s-d,s),s:s-d,e:s})}return i}function jye(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,a=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function Kl(t,e,n,r,i){let s;const a=e.length;for(let l=0;l<a-1;l++){const c=e[l];t.j[c]?s=t.j[c]:(s=new gi(r),s.jr=i.slice(),t.j[c]=s),t=s}return s=new gi(n),s.jr=i.slice(),t.j[e[a-1]]=s,s}function p3(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+s),10);a>0;a--)n.pop();r+=s}else n.push(t[r]),r++}return e}const Tg={defaultProtocol:"http",events:null,format:m3,formatHref:m3,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function MN(t,e=null){let n=Object.assign({},Tg);t&&(n=Object.assign(n,t instanceof MN?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}MN.prototype={o:Tg,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Tg[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function m3(t){return t}function i7(t,e){this.t="token",this.v=t,this.tk=e}i7.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Tg.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),a={},l=t.get("className",n,e),c=t.get("target",n,e),d=t.get("rel",n,e),f=t.getObj("attributes",n,e),p=t.getObj("events",n,e);return a.href=r,l&&(a.class=l),c&&(a.target=c),d&&(a.rel=d),f&&Object.assign(a,f),{tagName:i,attributes:a,content:s,eventListeners:p}}};function o1(t,e){class n extends i7{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const g3=o1("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),y3=o1("text"),Iye=o1("nl"),vv=o1("url",{isLink:!0,toHref(t=Tg.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Sg&&t[1].t===oc}}),cs=t=>new gi(t);function Dye({groups:t}){const e=t.domain.concat([dx,hx,Jl,px,mx,gx,yx,vx,ps,kN,qm,bx,xx,wx,ja,Tx,Gm,Sx]),n=[fx,oc,AN,Ma,CN,qm,Wm,ON,NN,tx,nx,$m,Hm,Jb,Qb,Zb,ex,rx,ix,sx,ax,ox,lx,cx,ux],r=[dx,fx,hx,px,mx,gx,yx,vx,ps,$m,Hm,qm,bx,xx,wx,Wm,ja,Tx,Gm,Sx],i=cs(),s=ve(i,Gm);Je(s,r,s),Je(s,t.domain,s);const a=cs(),l=cs(),c=cs();Je(i,t.domain,a),Je(i,t.scheme,l),Je(i,t.slashscheme,c),Je(a,r,s),Je(a,t.domain,a);const d=ve(a,Jl);ve(s,Jl,d),ve(l,Jl,d),ve(c,Jl,d);const f=ve(s,Ma);Je(f,r,s),Je(f,t.domain,s);const p=cs();Je(d,t.domain,p),Je(p,t.domain,p);const g=ve(p,Ma);Je(g,t.domain,p);const v=cs(g3);Je(g,t.tld,v),Je(g,t.utld,v),ve(d,Sg,v);const b=ve(p,ps);ve(b,ps,b),Je(b,t.domain,p),Je(v,t.domain,p),ve(v,Ma,g),ve(v,ps,b);const T=ve(v,oc);Je(T,t.numeric,g3);const S=ve(a,ps),k=ve(a,Ma);ve(S,ps,S),Je(S,t.domain,a),Je(k,r,s),Je(k,t.domain,a);const C=cs(vv);Je(k,t.tld,C),Je(k,t.utld,C),Je(C,t.domain,a),Je(C,r,s),ve(C,Ma,k),ve(C,ps,S),ve(C,Jl,d);const N=ve(C,oc),R=cs(vv);Je(N,t.numeric,R);const D=cs(vv),z=cs();Je(D,e,D),Je(D,n,z),Je(z,e,D),Je(z,n,z),ve(C,ja,D),ve(R,ja,D);const j=ve(l,oc),M=ve(c,oc),P=ve(M,ja),B=ve(P,ja);Je(l,t.domain,a),ve(l,Ma,k),ve(l,ps,S),Je(c,t.domain,a),ve(c,Ma,k),ve(c,ps,S),Je(j,t.domain,D),ve(j,ja,D),ve(j,Wm,D),Je(B,t.domain,D),Je(B,e,D),ve(B,ja,D);const U=[[$m,Hm],[Qb,Jb],[Zb,ex],[tx,nx],[rx,ix],[sx,ax],[ox,lx],[cx,ux]];for(let V=0;V<U.length;V++){const[L,Z]=U[V],oe=ve(D,L);ve(z,L,oe),ve(oe,Z,D);const W=cs(vv);Je(oe,e,W);const Y=cs();Je(oe,n),Je(W,e,W),Je(W,n,Y),Je(Y,e,W),Je(Y,n,Y),ve(W,Z,D),ve(Y,Z,D)}return ve(i,Sg,C),ve(i,_N,Iye),{start:i,tokens:n7}}function Pye(t,e,n){let r=n.length,i=0,s=[],a=[];for(;i<r;){let l=t,c=null,d=null,f=0,p=null,g=-1;for(;i<r&&!(c=l.go(n[i].t));)a.push(n[i++]);for(;i<r&&(d=c||l.go(n[i].t));)c=null,l=d,l.accepts()?(g=0,p=l):g>=0&&g++,i++,f++;if(g<0)i-=f,i<r&&(a.push(n[i]),i++);else{a.length>0&&(s.push(XE(y3,e,a)),a=[]),i-=g,f-=g;const v=p.t,b=n.slice(i-f,i);s.push(XE(v,e,b))}}return a.length>0&&s.push(XE(y3,e,a)),s}function XE(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const Rye=typeof console<"u"&&console&&console.warn||(()=>{}),Lye="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ht={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Vye(){return gi.groups={},Ht.scanner=null,Ht.parser=null,Ht.tokenQueue=[],Ht.pluginQueue=[],Ht.customSchemes=[],Ht.initialized=!1,Ht}function v3(t,e=!1){if(Ht.initialized&&Rye(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Lye}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ht.customSchemes.push([t,e])}function Bye(){Ht.scanner=Mye(Ht.customSchemes);for(let t=0;t<Ht.tokenQueue.length;t++)Ht.tokenQueue[t][1]({scanner:Ht.scanner});Ht.parser=Dye(Ht.scanner.tokens);for(let t=0;t<Ht.pluginQueue.length;t++)Ht.pluginQueue[t][1]({scanner:Ht.scanner,parser:Ht.parser});return Ht.initialized=!0,Ht}function jN(t){return Ht.initialized||Bye(),Pye(Ht.parser.start,t,r7(Ht.scanner.start,t))}jN.scan=r7;function s7(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new MN(n),i=jN(t),s=[];for(let a=0;a<i.length;a++){const l=i[a];l.isLink&&(!e||l.t===e)&&r.check(l)&&s.push(l.toFormattedObject(r))}return s}var IN="[\0- -\u2029]",zye=new RegExp(IN),Uye=new RegExp(`${IN}$`),Fye=new RegExp(IN,"g");function $ye(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function Hye(t){return new cn({key:new Kn("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(d=>d.docChanged)&&!n.doc.eq(r.doc),s=e.some(d=>d.getMeta("preventAutolink"));if(!i||s)return;const{tr:a}=r,l=Sq(n.doc,[...e]);if(Oq(l).forEach(({newRange:d})=>{const f=Hme(r.doc,d,v=>v.isTextblock);let p,g;if(f.length>1)p=f[0],g=r.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ");else if(f.length){const v=r.doc.textBetween(d.from,d.to," "," ");if(!Uye.test(v))return;p=f[0],g=r.doc.textBetween(p.pos,d.to,void 0," ")}if(p&&g){const v=g.split(zye).filter(Boolean);if(v.length<=0)return!1;const b=v[v.length-1],T=p.pos+g.lastIndexOf(b);if(!b)return!1;const S=jN(b).map(k=>k.toObject(t.defaultProtocol));if(!$ye(S))return!1;S.filter(k=>k.isLink).map(k=>({...k,from:T+k.start+1,to:T+k.end+1})).filter(k=>r.schema.marks.code?!r.doc.rangeHasMark(k.from,k.to,r.schema.marks.code):!0).filter(k=>t.validate(k.value)).filter(k=>t.shouldAutoLink(k.value)).forEach(k=>{xN(k.from,k.to,r.doc).some(C=>C.mark.type===t.type)||a.addMark(k.from,k.to,t.type.create({href:k.href}))})}}),!!a.steps.length)return a}})}function qye(t){return new cn({key:new Kn("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let a=!1;if(t.enableClickSelection&&(a=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let l=null;if(r.target instanceof HTMLAnchorElement)l=r.target;else{let p=r.target;const g=[];for(;p.nodeName!=="DIV";)g.push(p),p=p.parentNode;l=g.find(v=>v.nodeName==="A")}if(!l)return a;const c=Cq(e.state,t.type.name),d=(i=l?.href)!=null?i:c.href,f=(s=l?.target)!=null?s:c.target;l&&d&&(window.open(d,f),a=!0)}return a}}})}function Wye(t){return new cn({key:new Kn("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:s}=e,{selection:a}=s,{empty:l}=a;if(l)return!1;let c="";r.content.forEach(f=>{c+=f.textContent});const d=s7(c,{defaultProtocol:t.defaultProtocol}).find(f=>f.isLink&&f.value===c);return!c||!d||i!==void 0&&!i(d.href)?!1:t.editor.commands.setMark(t.type,{href:d.href})}}})}function Lu(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(Fye,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Gye=al.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){v3(t);return}v3(t.scheme,t.optionalSlashes)})},onDestroy(){Vye()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Lu(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Lu(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Lu(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",yn(this.options.HTMLAttributes,t),0]:["a",yn(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Lu(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Lu(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Lc({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=s7(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!Lu(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(Hye({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Lu(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(qye({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(Wye({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),Kye=Object.defineProperty,Yye=(t,e)=>{for(var n in e)Kye(t,n,{get:e[n],enumerable:!0})},Xye="listItem",b3="textStyle",x3=/^\s*([-+*])\s$/,a7=Gi.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",yn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Xye,this.editor.getAttributes(b3)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Eh({find:x3,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Eh({find:x3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(b3),editor:this.editor})),[t]}}),o7=Gi.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",yn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const a=t.tokens.slice(1),l=e.parseChildren(a);n.push(...l)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>EN(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Qye={};Yye(Qye,{findListItemPos:()=>d0,getNextListDepth:()=>DN,handleBackspace:()=>pC,handleDelete:()=>mC,hasListBefore:()=>l7,hasListItemAfter:()=>Jye,hasListItemBefore:()=>c7,listItemHasSubList:()=>u7,nextListIsDeeper:()=>d7,nextListIsHigher:()=>f7});var d0=(t,e)=>{const{$from:n}=e.selection,r=zn(t,e.schema);let i=null,s=n.depth,a=n.pos,l=null;for(;s>0&&l===null;)i=n.node(s),i.type===r?l=s:(s-=1,a-=1);return l===null?null:{$pos:e.doc.resolve(a),depth:l}},DN=(t,e)=>{const n=d0(t,e);if(!n)return!1;const[,r]=ege(e,t,n.$pos.pos+4);return r},l7=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},c7=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},u7=(t,e,n)=>{if(!n)return!1;const r=zn(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},pC=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Rc(t.state,e)&&l7(t.state,e,n)){const{$anchor:l}=t.state.selection,c=t.state.doc.resolve(l.before()-1),d=[];c.node().descendants((g,v)=>{g.type.name===e&&d.push({node:g,pos:v})});const f=d.at(-1);if(!f)return!1;const p=t.state.doc.resolve(c.start()+f.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},p.end()).joinForward().run()}if(!Rc(t.state,e)||!ige(t.state))return!1;const r=d0(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=u7(e,t.state,s);return c7(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},d7=(t,e)=>{const n=DN(t,e),r=d0(t,e);return!r||!n?!1:n>r.depth},f7=(t,e)=>{const n=DN(t,e),r=d0(t,e);return!r||!n?!1:n<r.depth},mC=(t,e)=>{if(!Rc(t.state,e)||!rge(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:d7(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():f7(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},Jye=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},h7=Dt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&mC(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&mC(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&pC(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&pC(t,n,r)&&(e=!0)}),e}}}}),w3=/^(\s*)(\d+)\.\s+(.*)$/,Zye=/^\s/;function eve(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],s=i.match(w3);if(!s)break;const[,a,l,c]=s,d=a.length;let f=c,p=n+1;const g=[i];for(;p<t.length;){const v=t[p];if(v.match(w3))break;if(v.trim()==="")g.push(v),f+=`
`,p+=1;else if(v.match(Zye))g.push(v),f+=`
${v.slice(d+2)}`,p+=1;else break}e.push({indent:d,number:parseInt(l,10),content:f.trim(),raw:g.join(`
`)}),r=p,n=p}return[e,r]}function p7(t,e,n){var r;const i=[];let s=0;for(;s<t.length;){const a=t[s];if(a.indent===e){const l=a.content.split(`
`),c=((r=l[0])==null?void 0:r.trim())||"",d=[];c&&d.push({type:"paragraph",raw:c,tokens:n.inlineTokens(c)});const f=l.slice(1).join(`
`).trim();if(f){const v=n.blockTokens(f);d.push(...v)}let p=s+1;const g=[];for(;p<t.length&&t[p].indent>e;)g.push(t[p]),p+=1;if(g.length>0){const v=Math.min(...g.map(T=>T.indent)),b=p7(g,v,n);d.push({type:"list",ordered:!0,start:g[0].number,items:b,raw:g.map(T=>T.raw).join(`
`)})}i.push({type:"list_item",raw:a.raw,tokens:d}),s=p}else s+=1}return i}function tve(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const s=e.parseChildren([i]);r.push({type:"paragraph",content:s})}else{const s=e.parseChildren([i]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var nve="listItem",S3="textStyle",T3=/^(\d+)\.\s$/,m7=Gi.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",yn(this.options.HTMLAttributes,n),0]:["ol",yn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?tve(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[s,a]=eve(i);if(s.length===0)return;const l=p7(s,0,n);return l.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:l,raw:i.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(nve,this.editor.getAttributes(S3)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Eh({find:T3,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Eh({find:T3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(S3)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),rve=/^\s*(\[([( |x])?\])\s$/,ive=Gi.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",yn(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return EN(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),d=f=>{var p,g;l.ariaLabel=((g=(p=this.options.a11y)==null?void 0:p.checkboxLabel)==null?void 0:g.call(p,f,l.checked))||`Task item checkbox for ${f.textContent||"empty task item"}`};return d(t),s.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",f=>f.preventDefault()),l.addEventListener("change",f=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:p}=f.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const v=n();if(typeof v!="number")return!1;const b=g.doc.nodeAt(v);return g.setNodeMarkup(v,void 0,{...b?.attrs,checked:p}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,p)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([f,p])=>{i.setAttribute(f,p)}),i.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,s.append(l,a),i.append(s,c),Object.entries(e).forEach(([f,p])=>{i.setAttribute(f,p)}),{dom:i,contentDOM:c,update:f=>f.type!==this.type?!1:(i.dataset.checked=f.attrs.checked,l.checked=f.attrs.checked,d(f),!0)}}},addInputRules(){return[Eh({find:rve,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),sve=Gi.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",yn(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=s=>{const a=iC(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(s)},i=iC(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,a)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:a}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Dt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(a7.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(o7.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(h7.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(m7.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(ive.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(sve.configure(this.options.taskList)),t}});var ave=Gi.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",yn(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),ove=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,lve=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,cve=al.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",yn(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[_d({find:ove,type:this.type})]},addPasteRules(){return[Lc({find:lve,type:this.type})]}}),uve=Gi.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),g7=al.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",yn(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:n.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),dve=g7;function fve(t={}){return new cn({view(e){return new hve(e,t)}})}class hve{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),a=s.width/i.offsetWidth,l=s.height/i.offsetHeight;if(n){let p=e.nodeBefore,g=e.nodeAfter;if(p||g){let v=this.editorView.nodeDOM(this.cursorPos-(p?p.nodeSize:0));if(v){let b=v.getBoundingClientRect(),T=p?b.bottom:b.top;p&&g&&(T=(T+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let S=this.width/2*l;r={left:b.left,right:b.right,top:T-S,bottom:T+S}}}}if(!r){let p=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*a;r={left:p.left-g,right:p.left+g,top:p.top,bottom:p.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let d,f;if(!c||c==document.body&&getComputedStyle(c).position=="static")d=-pageXOffset,f=-pageYOffset;else{let p=c.getBoundingClientRect(),g=p.width/c.offsetWidth,v=p.height/c.offsetHeight;d=p.left-c.scrollLeft*g,f=p.top-c.scrollTop*v}this.element.style.left=(r.left-d)/a+"px",this.element.style.top=(r.top-f)/l+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=pH(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class gn extends Ze{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return gn.valid(r)?new gn(r):Ze.near(r)}content(){return Ee.empty}eq(e){return e instanceof gn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new gn(e.resolve(n.pos))}getBookmark(){return new PN(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!pve(e)||!mve(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&gn.valid(e))return e;let i=e.pos,s=null;for(let a=e.depth;;a--){let l=e.node(a);if(n>0?e.indexAfter(a)<l.childCount:e.index(a)>0){s=l.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=n;let c=e.doc.resolve(i);if(gn.valid(c))return c}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!Le.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=a,i+=n;let l=e.doc.resolve(i);if(gn.valid(l))return l}return null}}}gn.prototype.visible=!1;gn.findFrom=gn.findGapCursorFrom;Ze.jsonID("gapcursor",gn);class PN{constructor(e){this.pos=e}map(e){return new PN(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return gn.valid(n)?new gn(n):Ze.near(n)}}function pve(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function mve(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function gve(){return new cn({props:{decorations:xve,createSelectionBetween(t,e,n){return e.pos==n.pos&&gn.valid(n)?new gn(n):null},handleClick:vve,handleKeyDown:yve,handleDOMEvents:{beforeinput:bve}}})}const yve=pq({ArrowLeft:bv("horiz",-1),ArrowRight:bv("horiz",1),ArrowUp:bv("vert",-1),ArrowDown:bv("vert",1)});function bv(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let a=r.selection,l=e>0?a.$to:a.$from,c=a.empty;if(a instanceof $e){if(!s.endOfTextblock(n)||l.depth==0)return!1;c=!1,l=r.doc.resolve(e>0?l.after():l.before())}let d=gn.findGapCursorFrom(l,e,c);return d?(i&&i(r.tr.setSelection(new gn(d))),!0):!1}}function vve(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!gn.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Le.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new gn(r))),!0)}function bve(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof gn))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=ge.empty;for(let a=r.length-1;a>=0;a--)i=ge.from(r[a].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new Ee(i,0,0));return s.setSelection($e.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function xve(t){if(!(t.selection instanceof gn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",an.create(t.doc,[Xr.widget(t.selection.head,e,{key:"gapcursor"})])}var Ex=200,lr=function(){};lr.prototype.append=function(e){return e.length?(e=lr.from(e),!this.length&&e||e.length<Ex&&this.leafAppend(e)||this.length<Ex&&e.leafPrepend(this)||this.appendInner(e)):this};lr.prototype.prepend=function(e){return e.length?lr.from(e).append(this):this};lr.prototype.appendInner=function(e){return new wve(this,e)};lr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?lr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};lr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};lr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};lr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},n,r),i};lr.from=function(e){return e instanceof lr?e:e&&e.length?new y7(e):lr.empty};var y7=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,l){for(var c=s;c<a;c++)if(i(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,l){for(var c=s-1;c>=a;c--)if(i(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Ex)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Ex)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(lr);lr.empty=new y7([]);var wve=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,a){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(s,l),a)===!1||s>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,s)-l,a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,a){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(s,l)-l,a+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(i,l),s,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(lr);const Sve=500;class Xs{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=e.tr,l,c,d=[],f=[];return this.items.forEach((p,g)=>{if(!p.step){i||(i=this.remapping(r,g+1),s=i.maps.length),s--,f.push(p);return}if(i){f.push(new Ia(p.map));let v=p.step.map(i.slice(s)),b;v&&a.maybeStep(v).doc&&(b=a.mapping.maps[a.mapping.maps.length-1],d.push(new Ia(b,void 0,void 0,d.length+f.length))),s--,b&&i.appendMap(b,s)}else a.maybeStep(p.step);if(p.selection)return l=i?p.selection.map(i.slice(s)):p.selection,c=new Xs(this.items.slice(0,r).append(f.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:a,selection:l}}addTransform(e,n,r,i){let s=[],a=this.eventCount,l=this.items,c=!i&&l.length?l.get(l.length-1):null;for(let f=0;f<e.steps.length;f++){let p=e.steps[f].invert(e.docs[f]),g=new Ia(e.mapping.maps[f],p,n),v;(v=c&&c.merge(g))&&(g=v,f?s.pop():l=l.slice(0,l.length-1)),s.push(g),n&&(a++,n=void 0),i||(c=g)}let d=a-r.depth;return d>Eve&&(l=Tve(l,d),a-=d),new Xs(l.append(s),a)}remapping(e,n){let r=new gg;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new Xs(this.items.append(e.map(n=>new Ia(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(g=>{g.selection&&l--},i);let c=n;this.items.forEach(g=>{let v=s.getMirror(--c);if(v==null)return;a=Math.min(a,v);let b=s.maps[v];if(g.step){let T=e.steps[v].invert(e.docs[v]),S=g.selection&&g.selection.map(s.slice(c+1,v));S&&l++,r.push(new Ia(b,T,S))}else r.push(new Ia(b))},i);let d=[];for(let g=n;g<a;g++)d.push(new Ia(s.maps[g]));let f=this.items.slice(0,i).append(d).append(r),p=new Xs(f,l);return p.emptyItemCount()>Sve&&(p=p.compress(this.items.length-r.length)),p}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((a,l)=>{if(l>=e)i.push(a),a.selection&&s++;else if(a.step){let c=a.step.map(n.slice(r)),d=c&&c.getMap();if(r--,d&&n.appendMap(d,r),c){let f=a.selection&&a.selection.map(n.slice(r));f&&s++;let p=new Ia(d.invert(),c,f),g,v=i.length-1;(g=i.length&&i[v].merge(p))?i[v]=g:i.push(p)}}else a.map&&r--},this.items.length,0),new Xs(lr.from(i.reverse()),s)}}Xs.empty=new Xs(lr.empty,0);function Tve(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Ia{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ia(n.getMap().invert(),n,this.selection)}}}class Zl{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const Eve=20;function kve(t,e,n,r){let i=n.getMeta(dd),s;if(i)return i.historyState;n.getMeta(Cve)&&(t=new Zl(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(dd))return a.getMeta(dd).redo?new Zl(t.done.addTransform(n,void 0,r,tb(e)),t.undone,E3(n.mapping.maps),t.prevTime,t.prevComposition):new Zl(t.done,t.undone.addTransform(n,void 0,r,tb(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),c=t.prevTime==0||!a&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!_ve(n,t.prevRanges)),d=a?QE(t.prevRanges,n.mapping):E3(n.mapping.maps);return new Zl(t.done.addTransform(n,c?e.selection.getBookmark():void 0,r,tb(e)),Xs.empty,d,n.time,l??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Zl(t.done.rebased(n,s),t.undone.rebased(n,s),QE(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Zl(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),QE(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function _ve(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function E3(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,a)=>e.push(s,a));return e}function QE(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function Ave(t,e,n){let r=tb(e),i=dd.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),l=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),c=new Zl(n?l:s.remaining,n?s.remaining:l,null,0,-1);return s.transform.setSelection(a).setMeta(dd,{redo:n,historyState:c})}let JE=!1,k3=null;function tb(t){let e=t.plugins;if(k3!=e){JE=!1,k3=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){JE=!0;break}}return JE}const dd=new Kn("history"),Cve=new Kn("closeHistory");function Ove(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new cn({key:dd,state:{init(){return new Zl(Xs.empty,Xs.empty,null,0,-1)},apply(e,n,r){return kve(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?b7:r=="historyRedo"?x7:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function v7(t,e){return(n,r)=>{let i=dd.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=Ave(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const b7=v7(!1,!0),x7=v7(!0,!0);Dt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new cn({key:new Kn("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const a=s-i,l=0,c=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const d=r.tr.deleteRange(l,c);return t=!0,d}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=s-r,d=l-c,f=l;return e.deleteRange(d,f),!(this.storage.characters({node:e.doc})>r)}})]}});var Nve=Dt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[fve(this.options)]}});Dt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new cn({key:new Kn("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return an.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((c,d)=>{if(c.isText)return;if(!(i>=d&&i<=d+c.nodeSize-1))return!1;a+=1});let l=0;return t.descendants((c,d)=>{if(c.isText||!(i>=d&&i<=d+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&a-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";s.push(Xr.node(d,d+c.nodeSize,{class:this.options.className}))}),an.create(t,s)}}})]}});var Mve=Dt.create({name:"gapCursor",addProseMirrorPlugins(){return[gve()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=St(De(t,"allowGapCursor",n)))!=null?e:null}}}),jve=Dt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new cn({key:new Kn("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((a,l)=>{const c=r>=l&&r<=l+a.nodeSize,d=!a.isLeaf&&i1(a);if((c||!this.options.showOnlyCurrent)&&d){const f=[this.options.emptyNodeClass];s&&f.push(this.options.emptyEditorClass);const p=Xr.node(l,l+a.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:l,hasAnchor:c}):this.options.placeholder});i.push(p)}return this.options.includeChildren}),an.create(t,i)}}})]}});Dt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new cn({key:new Kn("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||Nq(n.selection)||t.view.dragging?null:an.create(n.doc,[Xr.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function _3({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var Ive=Dt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new Kn(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new cn({key:e,appendTransaction:(i,s,a)=>{const{doc:l,tr:c,schema:d}=a,f=e.getState(a),p=l.content.size,g=d.nodes[n];if(f)return c.insert(p,g.create())},state:{init:(i,s)=>{const a=s.tr.doc.lastChild;return!_3({node:a,types:r})},apply:(i,s)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return s;const a=i.doc.lastChild;return!_3({node:a,types:r})}}})]}}),Dve=Dt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>b7(t,e),redo:()=>({state:t,dispatch:e})=>x7(t,e)}},addProseMirrorPlugins(){return[Ove(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Pve=Dt.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(oye.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(nye.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(a7.configure(this.options.bulletList)),this.options.code!==!1&&i.push(uye.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(hye.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(pye.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(Nve.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(Mve.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(mye.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(gye.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(Dve.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(yye.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(Sye.configure(this.options.italic)),this.options.listItem!==!1&&i.push(o7.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(h7.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(Gye.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(m7.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(ave.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(cve.configure(this.options.strike)),this.options.text!==!1&&i.push(uve.configure(this.options.text)),this.options.underline!==!1&&i.push(g7.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(Ive.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),Rve=Pve,Lve=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,Vve=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,Bve=al.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",yn(this.options.HTMLAttributes,t),0]},renderMarkdown:(t,e)=>`==${e.renderChildren(t)}==`,parseMarkdown:(t,e)=>e.applyMark("highlight",e.parseInline(t.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:t=>t.indexOf("=="),tokenize(t,e,n){const i=/^(==)([^=]+)(==)/.exec(t);if(i){const s=i[2].trim(),a=n.inlineTokens(s);return{type:"highlight",raw:i[0],text:s,tokens:a}}}},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[_d({find:Lve,type:this.type})]},addPasteRules(){return[Lc({find:Vve,type:this.type})]}}),zve=Bve,Uve=20,w7=(t,e=0)=>{const n=[];return!t.children.length||e>Uve||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...w7(r,e+1))}),n},Fve=t=>{if(!t.children.length)return;const e=w7(t);e&&e.forEach(n=>{var r,i;const s=n.getAttribute("style"),a=(i=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:i.getAttribute("style");n.setAttribute("style",`${a};${s}`)})},S7=al.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Fve(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",yn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),$ve=Dt.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const a=s[0].trim().toLowerCase(),l=s.slice(1).join(":").trim();if(a==="background-color")return l.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),T7=Dt.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const a=s[0].trim().toLowerCase(),l=s.slice(1).join(":").trim();if(a==="color")return l.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Hve=Dt.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),qve=Dt.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),Wve=Dt.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Dt.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push($ve.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(T7.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(Hve.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(qve.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(Wve.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(S7.configure(this.options.textStyle)),t}});var Gve=jve;const Kve=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M14 12a4 4 0 0 0 0-8H6v8"}),m.jsx("path",{d:"M15.5 20a4 4 0 0 0 0-8H6v8Z"})]}),Yve=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"19",x2:"10",y1:"4",y2:"4"}),m.jsx("line",{x1:"14",x2:"5",y1:"20",y2:"20"}),m.jsx("line",{x1:"15",x2:"9",y1:"4",y2:"20"})]}),Xve=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M6 4v6a6 6 0 0 0 12 0V4"}),m.jsx("line",{x1:"4",x2:"20",y1:"20",y2:"20"})]}),Qve=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M16 4H9a3 3 0 0 0-2.83 2M14 12a4 4 0 0 1 0 8H6"}),m.jsx("line",{x1:"4",x2:"20",y1:"12",y2:"12"})]}),Jve=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"m9 11-6 6v3h9l3-3"}),m.jsx("path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4"})]}),Zve=["#000000","#FFFFFF","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899"],nm=({onClick:t,isActive:e,icon:n,children:r})=>m.jsx("button",{type:"button",onClick:t,className:`p-2 rounded-md transition-colors ${e?"bg-violet-100 dark:bg-violet-900 text-violet-500":"hover:bg-neutral-100 dark:hover:bg-neutral-700 text-neutral-600 dark:text-neutral-400"}`,children:n||r}),ebe=({editor:t})=>{const[,e]=_.useState(0),n=_.useCallback(()=>e(r=>r+1),[]);return _.useEffect(()=>{if(t)return t.on("update",n),t.on("selectionUpdate",n),()=>{t.off("update",n),t.off("selectionUpdate",n)}},[t,n]),t?m.jsxs("div",{className:"bg-black/5 dark:bg-white/5 p-2 rounded-t-xl border-b border-black/10 dark:border-white/10 backdrop-blur-sm flex flex-wrap items-center gap-2",children:[m.jsx(nm,{onClick:()=>t.chain().focus().toggleBold().run(),isActive:t.isActive("bold"),icon:m.jsx(Kve,{className:"w-5 h-5"})}),m.jsx(nm,{onClick:()=>t.chain().focus().toggleItalic().run(),isActive:t.isActive("italic"),icon:m.jsx(Yve,{className:"w-5 h-5"})}),m.jsx(nm,{onClick:()=>t.chain().focus().toggleUnderline().run(),isActive:t.isActive("underline"),icon:m.jsx(Xve,{className:"w-5 h-5"})}),m.jsx(nm,{onClick:()=>t.chain().focus().toggleStrike().run(),isActive:t.isActive("strike"),icon:m.jsx(Qve,{className:"w-5 h-5"})}),m.jsx(nm,{onClick:()=>t.chain().focus().toggleHighlight({color:"#fef9c3"}).run(),isActive:t.isActive("highlight"),icon:m.jsx(Jve,{className:"w-5 h-5"})}),m.jsx("div",{className:"w-px h-6 bg-neutral-300 dark:bg-neutral-600 mx-1"}),m.jsx("div",{className:"flex gap-1 p-1",children:Zve.map(r=>m.jsx("button",{type:"button",onClick:()=>t.chain().focus().setColor(r).run(),className:`w-5 h-5 rounded ${t.isActive("textStyle",{color:r})?"ring-2 ring-offset-2 ring-violet-500 dark:ring-offset-neutral-800":""} ${r==="#FFFFFF"?"border border-neutral-400":""}`,style:{backgroundColor:r}},r))})]}):null},tbe=({entries:t,onDateSelect:e,onAddClick:n})=>{const r=new Date;return m.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Db,{className:"w-6 h-6 text-violet-500"}),m.jsx("h2",{className:"text-3xl font-bold text-violet-600 dark:text-violet-400",children:"Journal"})]}),m.jsxs("button",{onClick:n,className:"px-4 py-2 bg-violet-500 text-white font-semibold rounded-lg flex items-center gap-2 hover:bg-violet-600 transition-colors shadow-lg shadow-violet-500/30",children:[m.jsx(Gn,{className:"w-5 h-5"})," Write Entry"]})]}),m.jsxs("div",{className:"p-6 bg-violet-50/50 dark:bg-violet-950/20 backdrop-blur-xl rounded-2xl shadow-sm border border-violet-100 dark:border-violet-900/50",children:[m.jsx("style",{children:`
                    .react-calendar { width: 100%; border: none; background: transparent; font-family: inherit; }
                    .react-calendar__navigation { display: flex; align-items: center; justify-content: center; gap: 1rem; margin-bottom: 2rem; }
                    .react-calendar__navigation__label { font-size: 1.5rem; font-weight: 800; color: #7c3aed; background: none; border: none; }
                    .dark .react-calendar__navigation__label { color: #a78bfa; }
                    .react-calendar__navigation__arrow { font-size: 2rem; color: #8b5cf6; background: none; border: none; padding: 10px; border-radius: 50%; }
                    .react-calendar__navigation__arrow:hover { background: rgba(139, 92, 246, 0.1); }
                    .react-calendar__month-view__weekdays { text-align: center; text-transform: uppercase; font-weight: bold; color: #a78bfa; font-size: 0.8rem; margin-bottom: 1rem; }
                    .react-calendar__month-view__weekdays abbr { text-decoration: none; }
                    .react-calendar__tile { height: 100px; display: flex; flex-direction: column; justify-content: flex-start; align-items: flex-start; padding: 10px; background: transparent; border-radius: 12px; transition: all 0.2s; position: relative; border: 1px solid transparent; }
                    .react-calendar__tile:enabled:hover { background: rgba(139, 92, 246, 0.1); }
                    .react-calendar__tile--now { background: rgba(139, 92, 246, 0.05); border-color: #8b5cf6; }
                    .react-calendar__tile--active { background: #8b5cf6 !important; color: white; }
                    .react-calendar__tile--active:enabled:hover { background: #7c3aed !important; }
                    .dark .react-calendar__month-view__days__day--neighboringMonth { opacity: 0.3; }
                `}),m.jsx(Wde,{onChange:e,value:r,tileContent:({date:i,view:s})=>s==="month"&&m.jsx("div",{className:"w-full h-full relative",children:t.find(a=>a.id===i.toLocaleDateString("en-CA"))&&m.jsx(Xe.div,{initial:{scale:0},animate:{scale:1},className:"absolute bottom-2 right-2",children:m.jsx(Si,{className:"w-5 h-5 text-violet-400 fill-violet-400 drop-shadow-md"})})}),formatShortWeekday:(i,s)=>s.toLocaleDateString("en-US",{weekday:"short"}),nextLabel:m.jsx(gs,{className:"w-6 h-6 rotate-180"}),prevLabel:m.jsx(gs,{className:"w-6 h-6"}),next2Label:null,prev2Label:null,view:"month"})]})]})},nbe=({entry:t,onEdit:e,onDelete:n,onClose:r})=>{const i=t.date?.toDate?t.date.toDate():new Date(t.date);return m.jsx(Ds,{onClose:r,children:m.jsxs(Xe.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-violet-50/90 dark:bg-violet-950/90 backdrop-blur-xl rounded-2xl shadow-2xl w-full max-w-2xl max-h-[85vh] flex flex-col overflow-hidden",onClick:s=>s.stopPropagation(),children:[m.jsxs("div",{className:"p-5 border-b border-violet-200 dark:border-violet-800 flex justify-between items-center shrink-0",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-xl text-violet-800 dark:text-violet-200",children:t.title||"Untitled Entry"}),m.jsx("p",{className:"text-sm text-violet-600 dark:text-violet-400",children:i.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:e,className:"p-2 rounded-lg bg-white/50 dark:bg-black/20 hover:bg-violet-200 dark:hover:bg-violet-800 transition-colors text-violet-600 dark:text-violet-300",children:m.jsx(Zr,{className:"w-5 h-5"})}),m.jsx("button",{onClick:n,className:"p-2 rounded-lg bg-white/50 dark:bg-black/20 hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors text-red-500",children:m.jsx(ei,{className:"w-5 h-5"})})]})]}),m.jsxs("div",{className:"flex-grow overflow-y-auto p-8 notebook-bg relative",children:[m.jsx("style",{children:`
                        .notebook-bg {
                            background-color: transparent;
                            background-image: linear-gradient(to bottom, rgba(139, 92, 246, 0.1) 1px, transparent 1px);
                            background-size: 100% 2.5rem;
                            line-height: 2.5rem;
                        }
                    `}),m.jsx("div",{className:"prose dark:prose-invert prose-violet max-w-none font-serif text-lg leading-10 focus:outline-none",dangerouslySetInnerHTML:{__html:t.content}})]})]})})},rbe=({entry:t,onSave:e,onClose:n})=>{const[r,i]=_.useState(t?.title||""),s=t?.date?.toDate?t.date.toDate():t?.date||new Date,a=Q0e({extensions:[Rve,dve,zve.configure({multicolor:!0}),S7,T7,Gve.configure({placeholder:"Dear Diary..."})],content:t?.content||"",editorProps:{attributes:{class:"prose dark:prose-invert prose-lg max-w-none focus:outline-none min-h-[300px]"}}}),l=()=>{a&&e(r,a.getHTML(),"serif")};return m.jsx(Ds,{onClose:n,children:m.jsxs(Xe.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white/90 dark:bg-neutral-900/90 backdrop-blur-xl rounded-2xl shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden",onClick:c=>c.stopPropagation(),children:[m.jsx("div",{className:"p-6 shrink-0 border-b border-neutral-200 dark:border-neutral-800",children:m.jsx("input",{type:"text",value:r,onChange:c=>i(c.target.value),placeholder:`Entry for ${s.toLocaleDateString("en-US",{month:"long",day:"numeric"})}`,className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100 bg-transparent w-full focus:outline-none placeholder-neutral-400",autoFocus:!0})}),m.jsx("div",{className:"px-6 py-2 bg-neutral-50 dark:bg-neutral-800/50 border-b border-neutral-200 dark:border-neutral-800",children:m.jsx(ebe,{editor:a})}),m.jsxs("div",{className:"flex-grow overflow-y-auto p-8 notebook-bg",children:[m.jsx("style",{children:`
                        .notebook-bg {
                            background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.05) 1px, transparent 1px);
                            background-size: 100% 2.5rem;
                            line-height: 2.5rem;
                        }
                        .dark .notebook-bg {
                            background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
                        }
                    `}),m.jsx(H0e,{editor:a,className:"h-full"})]}),m.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800 border-t border-neutral-200 dark:border-neutral-700 flex justify-end gap-3 shrink-0",children:[m.jsx("button",{onClick:n,className:"px-5 py-2 rounded-lg font-semibold text-neutral-600 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",children:"Cancel"}),m.jsx("button",{onClick:l,className:"px-5 py-2 rounded-lg bg-violet-600 text-white font-semibold hover:bg-violet-700 shadow-lg shadow-violet-500/30 transition-all",children:t?.id?"Save Changes":"Publish Entry"})]})]})})},ibe=()=>m.jsxs(Xe.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8},className:"fixed bottom-10 right-10 z-[100] flex items-center gap-3 bg-white dark:bg-neutral-800 border border-violet-200 dark:border-violet-900 p-4 rounded-xl shadow-2xl",children:[m.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-2 rounded-full",children:m.jsx(Lw,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-neutral-800 dark:text-neutral-100",children:"Entry Saved"}),m.jsx("p",{className:"text-xs text-neutral-500",children:"Your memories are safe."})]})]});function sbe({entries:t,addEntry:e,updateEntry:n,deleteEntry:r}){const[i,s]=_.useState({view:null,data:null}),[a,l]=_.useState(!1),c=p=>{const g=p.toLocaleDateString("en-CA"),v=t.find(b=>b.id===g);s(v?{view:"display",data:v}:{view:"edit",data:{date:p}})},d=async(p,g,v)=>{const b=i.data.date,T=b?.toDate?b.toDate():b,S=T.toLocaleDateString("en-CA"),k=t.find(C=>C.id===S);s({view:null,data:null}),k?await n(S,{...k,title:p,content:g,font:v}):await e(S,{id:S,title:p,content:g,font:v,date:T}),l(!0),setTimeout(()=>l(!1),2e3)},f=p=>{window.confirm("Are you sure you want to delete this page from your diary?")&&(r(p),s({view:null,data:null}))};return m.jsxs("div",{className:"max-w-5xl mx-auto",children:[m.jsx(tbe,{entries:t,onDateSelect:c,onAddClick:()=>{const p=new Date;p.setHours(0,0,0,0),c(p)}}),m.jsxs(Wt,{children:[i.view==="display"&&m.jsx(nbe,{entry:i.data,onClose:()=>s({view:null,data:null}),onEdit:()=>s({view:"edit",data:i.data}),onDelete:()=>f(i.data.id)}),i.view==="edit"&&m.jsx(rbe,{entry:i.data,onClose:()=>s({view:null,data:null}),onSave:d}),a&&m.jsx(ibe,{})]})]})}const abe={Default:to,Star:Si,Zap:Wi,Heart:Rw},obe=t=>{if(!t||t.length===0)return 0;let e=0;return t.forEach(n=>{e+=Wc(n.subTasks)}),Math.round(e/t.length)},lbe=({percentage:t,size:e=60,strokeWidth:n=4,color:r="text-blue-500",showText:i=!0})=>{const s=(e-n)/2,a=s*2*Math.PI,l=a-t/100*a;return m.jsxs("div",{className:"relative flex items-center justify-center shrink-0",style:{width:e,height:e},children:[m.jsxs("svg",{className:"transform -rotate-90 w-full h-full",children:[m.jsx("circle",{cx:e/2,cy:e/2,r:s,stroke:"currentColor",strokeWidth:n,fill:"transparent",className:"text-neutral-200/50 dark:text-neutral-800/50"}),m.jsx("circle",{cx:e/2,cy:e/2,r:s,stroke:"currentColor",strokeWidth:n,fill:"transparent",strokeDasharray:a,strokeDashoffset:l,strokeLinecap:"round",className:`${r} transition-all duration-1000 ease-out`})]}),i&&m.jsxs("span",{className:"absolute text-xs font-bold text-neutral-700 dark:text-white",children:[t,"%"]})]})},A3=({goal:t,onEdit:e,onDelete:n,onToggleSubTask:r,onToggleGoal:i})=>{const[s,a]=_.useState(!1),l=Wc(t.subTasks),c=t.status==="completed"||l===100&&t.subTasks?.length>0;return m.jsxs("div",{className:"mb-4 relative group break-inside-avoid w-full overflow-hidden",children:[!s&&t.subTasks&&t.subTasks.length>0&&m.jsx("div",{className:"absolute left-[11px] top-8 bottom-2 w-0.5 bg-neutral-300 dark:bg-neutral-700/50"}),m.jsxs("div",{className:"flex items-start gap-3 w-full",children:[m.jsx("button",{onClick:d=>{d.stopPropagation(),a(!s)},className:"mt-1 w-6 h-6 flex items-center justify-center rounded hover:bg-neutral-100 dark:hover:bg-white/10 text-neutral-400 transition-colors z-10 bg-transparent shrink-0",children:t.subTasks?.length>0?s?m.jsx(Gn,{className:"w-3 h-3"}):m.jsx("div",{className:"w-2 h-0.5 bg-neutral-400"}):m.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-neutral-300 dark:bg-neutral-700"})}),m.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[m.jsxs("div",{className:"flex items-center gap-2 py-0.5 group/header w-full",children:[m.jsx("span",{className:"text-neutral-300 dark:text-neutral-600 font-bold mr-1 select-none shrink-0",children:"-"}),m.jsx("h3",{onClick:()=>i(t),className:`text-lg font-bold leading-tight transition-all cursor-pointer select-none truncate flex-1 min-w-0 ${c?"text-neutral-400 line-through":"text-neutral-800 dark:text-white"}`,children:t.title}),m.jsxs("div",{className:"opacity-0 group-hover/header:opacity-100 flex items-center gap-2 transition-opacity ml-2 shrink-0",children:[m.jsx("button",{onClick:d=>{d.stopPropagation(),e(t)},className:"text-neutral-300 hover:text-blue-500",children:m.jsx(Zr,{className:"w-3.5 h-3.5"})}),m.jsx("button",{onClick:d=>{d.stopPropagation(),n(t.id)},className:"text-neutral-300 hover:text-red-500",children:m.jsx(ei,{className:"w-3.5 h-3.5"})}),m.jsxs("span",{className:"text-xs font-mono text-neutral-400",children:[l,"%"]})]})]}),m.jsx(Wt,{children:!s&&t.subTasks&&m.jsx(Xe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-2 space-y-2 ml-1",children:t.subTasks.map((d,f)=>{const p=abe[d.icon]||to,g=d.color||"text-neutral-500",v=d.completed;return m.jsxs("div",{className:"flex items-center gap-3 pl-4 relative group/task cursor-pointer w-full",onClick:()=>r(t,f),children:[m.jsx("div",{className:"absolute left-0 top-1/2 w-3 h-0.5 bg-neutral-300 dark:bg-neutral-700/50"}),m.jsx(p,{className:`w-4 h-4 shrink-0 ${v?"text-green-500":g}`}),m.jsx("span",{className:`text-sm font-medium truncate select-none flex-1 min-w-0 ${v?"text-neutral-400 line-through":g}`,children:d.text})]},f)})})})]})]})]})},cbe=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),[i,s]=_.useState(!1),[a,l]=_.useState(null),[c,d]=_.useState({}),[f,p]=_.useState(null);_.useEffect(()=>{const R=Is(),D=js(R,async z=>{if(z){p(z.uid),r(!0);const j=await Os(z.uid,"lifeGoals");e(j),r(!1)}else p(null),e([]),r(!1)});return()=>D()},[]);const g=obe(t),v=t.filter(R=>R.status!=="completed"),b=t.filter(R=>R.status==="completed"),T=()=>{l(null),d({subTasks:[],type:"life"}),s(!0)},S=async R=>{if(console.log("Attempting to save...",R),!f){alert(" Error: Not logged in. Please wait.");return}const D={...R,subTasks:R.subTasks||[]},z=a?{...D,id:a.id}:D;try{const j=await en(f,"lifeGoals",z,!!a);console.log(" Save successful:",j),e(a?M=>M.map(P=>P.id===a.id?{...P,...j}:P):M=>[j,...M]),s(!1)}catch(j){console.error(" Save failed:",j),alert(`Error: ${j.message}`)}},k=async R=>{f&&window.confirm("Delete this life goal?")&&(await aa(f,"lifeGoals",R),e(D=>D.filter(z=>z.id!==R)))},C=async(R,D)=>{if(!f)return;const z=await IO(f,"lifeGoals",R,D),j=z.length>0&&z.every(P=>P.completed);let M=R.status;j?M="completed":!j&&R.status==="completed"&&(M="in-progress"),e(P=>P.map(B=>B.id===R.id?{...B,subTasks:z,status:M}:B)),M!==R.status&&await en(f,"lifeGoals",{...R,subTasks:z,status:M,id:R.id},!0)},N=async R=>{if(!f)return;const D=R.status==="completed"?"in-progress":"completed";e(z=>z.map(j=>j.id===R.id?{...j,status:D}:j)),await en(f,"lifeGoals",{...R,status:D,id:R.id},!0)};return m.jsxs("main",{className:"min-h-screen pt-6 px-4 pb-20 w-full max-w-[98%] mx-auto bg-transparent text-neutral-900 dark:text-neutral-100",children:[m.jsxs("header",{className:"flex flex-col md:flex-row items-center justify-between mb-10 gap-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-6xl font-black tracking-tighter leading-none bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400",children:"Life Goals"}),m.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 font-bold mt-2 ml-1",children:"Your ultimate vision and long-term dreams."})]}),m.jsxs("div",{className:"flex items-center gap-8 bg-white/40 dark:bg-neutral-900/40 backdrop-blur-md p-4 rounded-3xl border border-white/20 dark:border-white/10 shadow-lg shadow-black/5",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(lbe,{percentage:g,size:70,strokeWidth:6,color:"text-blue-600 dark:text-blue-400"}),m.jsxs("div",{children:[m.jsx("div",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Total Progress"}),m.jsxs("div",{className:"text-xl font-bold",children:[g,"% Done"]})]})]}),m.jsx("div",{className:"h-10 w-px bg-neutral-200 dark:bg-neutral-700"}),m.jsxs("div",{className:"pr-4",children:[m.jsx("div",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Active Goals"}),m.jsxs("div",{className:"text-xl font-bold text-neutral-800 dark:text-white",children:[t.filter(R=>R.status!=="completed").length," ",m.jsxs("span",{className:"text-sm font-normal text-neutral-400",children:["/ ",t.length]})]})]})]})]}),m.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[m.jsxs("div",{className:"flex justify-between items-end mb-6 border-b border-neutral-200 dark:border-neutral-800 pb-4",children:[m.jsx("h2",{className:"text-3xl font-bold",children:"Vision Board"}),m.jsxs("button",{onClick:T,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-xl font-bold shadow-lg shadow-blue-500/20 transition-all active:scale-95",children:[m.jsx(Gn,{className:"w-5 h-5"})," New Life Goal"]})]}),m.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8",children:v.map(R=>m.jsx(A3,{goal:R,onEdit:D=>{l(D),d({...D}),s(!0)},onDelete:k,onToggleSubTask:C,onToggleGoal:N},R.id))}),n&&m.jsx("div",{className:"text-center py-20 text-neutral-400 animate-pulse",children:"Loading visions..."}),!n&&t.length===0&&m.jsxs("div",{className:"text-center py-20 border-2 border-dashed border-neutral-200 dark:border-neutral-800 rounded-3xl",children:[m.jsx(sa,{className:"w-12 h-12 text-neutral-300 mx-auto mb-4"}),m.jsx("h3",{className:"text-xl font-bold text-neutral-400",children:"No life goals defined yet."}),m.jsx("p",{className:"text-neutral-500",children:"Start by adding your first major ambition."})]}),b.length>0&&m.jsxs("div",{className:"mt-20 pt-10 border-t border-neutral-200 dark:border-neutral-800",children:[m.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-neutral-500",children:[m.jsx(Lw,{className:"w-5 h-5 text-green-500"}),"Completed History"]}),m.jsx("div",{className:"opacity-60 hover:opacity-100 transition-opacity duration-300",children:m.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8",children:b.map(R=>m.jsx(A3,{goal:R,onEdit:D=>{l(D),d({...D}),s(!0)},onDelete:k,onToggleSubTask:C,onToggleGoal:N},R.id))})})]})]}),i&&m.jsx(RO,{isOpen:i,onClose:()=>s(!1),onSave:S,initialData:c,type:"life"})]})},ube={Default:to,Star:Si,Zap:Wi,Heart:Rw},dbe=t=>{if(!t||t.length===0)return 0;let e=0;return t.forEach(n=>{e+=Wc(n.subTasks)}),Math.round(e/t.length)},fbe=({percentage:t,size:e=60,strokeWidth:n=4,color:r="text-red-500",showText:i=!0})=>{const s=(e-n)/2,a=s*2*Math.PI,l=a-t/100*a;return m.jsxs("div",{className:"relative flex items-center justify-center shrink-0",style:{width:e,height:e},children:[m.jsxs("svg",{className:"transform -rotate-90 w-full h-full",children:[m.jsx("circle",{cx:e/2,cy:e/2,r:s,stroke:"currentColor",strokeWidth:n,fill:"transparent",className:"text-neutral-200/50 dark:text-neutral-800/50"}),m.jsx("circle",{cx:e/2,cy:e/2,r:s,stroke:"currentColor",strokeWidth:n,fill:"transparent",strokeDasharray:a,strokeDashoffset:l,strokeLinecap:"round",className:`${r} transition-all duration-1000 ease-out`})]}),i&&m.jsxs("span",{className:"absolute text-xs font-bold text-neutral-700 dark:text-white",children:[t,"%"]})]})},C3=({goal:t,onEdit:e,onDelete:n,onToggleSubTask:r,onToggleGoal:i})=>{const[s,a]=_.useState(!1),l=Wc(t.subTasks),c=t.status==="completed"||l===100&&t.subTasks?.length>0;return m.jsxs("div",{className:"mb-4 relative group break-inside-avoid w-full overflow-hidden",children:[!s&&t.subTasks&&t.subTasks.length>0&&m.jsx("div",{className:"absolute left-[11px] top-8 bottom-2 w-0.5 bg-red-200 dark:bg-red-900/30"}),m.jsxs("div",{className:"flex items-start gap-3 w-full",children:[m.jsx("button",{onClick:d=>{d.stopPropagation(),a(!s)},className:"mt-1 w-6 h-6 flex items-center justify-center rounded hover:bg-neutral-100 dark:hover:bg-white/10 text-neutral-400 transition-colors z-10 bg-transparent shrink-0",children:t.subTasks?.length>0?s?m.jsx(Gn,{className:"w-3 h-3"}):m.jsx("div",{className:"w-2 h-0.5 bg-neutral-400"}):m.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-neutral-300 dark:bg-neutral-700"})}),m.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[m.jsxs("div",{className:"flex items-center gap-2 py-0.5 group/header w-full",children:[m.jsx("span",{className:"text-red-300 dark:text-red-700 font-bold mr-1 select-none shrink-0",children:"-"}),m.jsx("h3",{onClick:()=>i(t),className:`text-lg font-bold leading-tight transition-all cursor-pointer select-none truncate flex-1 min-w-0 ${c?"text-neutral-400 line-through":"text-neutral-800 dark:text-white"}`,children:t.title}),m.jsxs("div",{className:"opacity-0 group-hover/header:opacity-100 flex items-center gap-2 transition-opacity ml-2 shrink-0",children:[m.jsx("button",{onClick:d=>{d.stopPropagation(),e(t)},className:"text-neutral-300 hover:text-red-500",children:m.jsx(Zr,{className:"w-3.5 h-3.5"})}),m.jsx("button",{onClick:d=>{d.stopPropagation(),n(t.id)},className:"text-neutral-300 hover:text-red-500",children:m.jsx(ei,{className:"w-3.5 h-3.5"})}),m.jsxs("span",{className:"text-xs font-mono text-neutral-400",children:[l,"%"]})]})]}),m.jsx(Wt,{children:!s&&t.subTasks&&m.jsx(Xe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-2 space-y-2 ml-1",children:t.subTasks.map((d,f)=>{const p=ube[d.icon]||to,g=d.color||"text-neutral-500",v=d.completed;return m.jsxs("div",{className:"flex items-center gap-3 pl-4 relative group/task cursor-pointer w-full",onClick:()=>r(t,f),children:[m.jsx("div",{className:"absolute left-0 top-1/2 w-3 h-0.5 bg-red-200 dark:bg-red-900/30"}),m.jsx(p,{className:`w-4 h-4 shrink-0 ${v?"text-green-500":g}`}),m.jsx("span",{className:`text-sm font-medium truncate select-none flex-1 min-w-0 ${v?"text-neutral-400 line-through":g}`,children:d.text})]},f)})})})]})]})]})},hbe=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),[i,s]=_.useState(!1),[a,l]=_.useState(null),[c,d]=_.useState({}),[f,p]=_.useState(null);_.useEffect(()=>{const D=Is(),z=js(D,async j=>{if(j){p(j.uid),r(!0);const M=await Os(j.uid,"importantGoals");e(M),r(!1)}});return()=>z()},[]),_.useEffect(()=>{g()},[]);const g=async()=>{r(!0);const D=await Os("importantGoals");e(D),r(!1)},v=dbe(t),b=t.filter(D=>D.status!=="completed"),T=t.filter(D=>D.status==="completed"),S=()=>{l(null),d({subTasks:[],type:"important"}),s(!0)},k=async D=>{if(!f)return;const z={...D,subTasks:D.subTasks||[]},j=a?{...z,id:a.id}:z,M=await en(f,"importantGoals",j,!!a);e(a?P=>P.map(B=>B.id===a.id?{...B,...M}:B):P=>[M,...P]),s(!1)},C=async D=>{window.confirm("Delete this important goal?")&&(await aa(f,"importantGoals",D),e(z=>z.filter(j=>j.id!==D)))},N=async(D,z)=>{const j=await IO(f,"importantGoals",D,z);newStatus!==D.status&&await en(f,"importantGoals",{...D,subTasks:j,status:newStatus,id:D.id},!0)},R=async D=>{const z=D.status==="completed"?"in-progress":"completed";e(j=>j.map(M=>M.id===D.id?{...M,status:z}:M)),await en(f,"importantGoals",{...D,status:z,id:D.id},!0)};return m.jsxs("main",{className:"min-h-screen pt-6 px-4 pb-20 w-full max-w-[98%] mx-auto bg-transparent text-neutral-900 dark:text-neutral-100",children:[m.jsxs("header",{className:"flex flex-col md:flex-row items-center justify-between mb-10 gap-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-6xl font-black tracking-tighter leading-none bg-clip-text text-transparent bg-gradient-to-r from-red-600 to-rose-600 dark:from-red-400 dark:to-rose-400",children:"Important Goals"}),m.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 font-bold mt-2 ml-1",children:"Priorities that demand your immediate focus."})]}),m.jsxs("div",{className:"flex items-center gap-8 bg-white/40 dark:bg-neutral-900/40 backdrop-blur-md p-4 rounded-3xl border border-white/20 dark:border-white/10 shadow-lg shadow-black/5",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(fbe,{percentage:v,size:70,strokeWidth:6,color:"text-red-600 dark:text-red-400"}),m.jsxs("div",{children:[m.jsx("div",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Total Progress"}),m.jsxs("div",{className:"text-xl font-bold",children:[v,"% Done"]})]})]}),m.jsx("div",{className:"h-10 w-px bg-neutral-200 dark:bg-neutral-700"}),m.jsxs("div",{className:"pr-4",children:[m.jsx("div",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Active Goals"}),m.jsxs("div",{className:"text-xl font-bold text-neutral-800 dark:text-white",children:[t.filter(D=>D.status!=="completed").length," ",m.jsxs("span",{className:"text-sm font-normal text-neutral-400",children:["/ ",t.length]})]})]})]})]}),m.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[m.jsxs("div",{className:"flex justify-between items-end mb-6 border-b border-neutral-200 dark:border-neutral-800 pb-4",children:[m.jsx("h2",{className:"text-3xl font-bold",children:"Priority List"}),m.jsxs("button",{onClick:S,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-5 py-2.5 rounded-xl font-bold shadow-lg shadow-red-500/20 transition-all active:scale-95",children:[m.jsx(Gn,{className:"w-5 h-5"})," New Important Goal"]})]}),m.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8",children:b.map(D=>m.jsx(C3,{goal:D,onEdit:z=>{l(z),d({...z}),s(!0)},onDelete:C,onToggleSubTask:N,onToggleGoal:R},D.id))}),n&&m.jsx("div",{className:"text-center py-20 text-neutral-400 animate-pulse",children:"Loading priorities..."}),!n&&t.length===0&&m.jsxs("div",{className:"text-center py-20 border-2 border-dashed border-neutral-200 dark:border-neutral-800 rounded-3xl",children:[m.jsx(Jce,{className:"w-12 h-12 text-neutral-300 mx-auto mb-4"}),m.jsx("h3",{className:"text-xl font-bold text-neutral-400",children:"No urgent goals defined."}),m.jsx("p",{className:"text-neutral-500",children:"Add tasks that require your immediate attention."})]}),T.length>0&&m.jsxs("div",{className:"mt-20 pt-10 border-t border-neutral-200 dark:border-neutral-800",children:[m.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-neutral-500",children:[m.jsx(Lw,{className:"w-5 h-5 text-green-500"}),"Completed History"]}),m.jsx("div",{className:"opacity-60 hover:opacity-100 transition-opacity duration-300",children:m.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8",children:T.map(D=>m.jsx(C3,{goal:D,onEdit:z=>{l(z),d({...z}),s(!0)},onDelete:C,onToggleSubTask:N,onToggleGoal:R},D.id))})})]})]}),i&&m.jsx(RO,{isOpen:i,onClose:()=>s(!1),onSave:k,initialData:c,type:"important"})]})},xv=["January","February","March","April","May","June","July","August","September","October","November","December"],pbe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],mbe={Default:to,Star:Si,Zap:Wi,Heart:Rw},gbe=()=>{const t=new Date,e=new Date(t.getFullYear(),0,1),n=new Date(t.getFullYear()+1,0,1),r=n-e,i=t-e,s=Math.floor(i/r*100),a=Math.ceil((n-t)/(1e3*60*60*24));return{percent:s,daysLeft:a}},ybe=t=>{if(!t||t.length===0)return 0;let e=0;return t.forEach(n=>{e+=Wc(n.subTasks)}),Math.round(e/t.length)},vbe=t=>{if(!t||t.length===0)return"bg-white/40 dark:bg-neutral-900/40 border-neutral-200 dark:border-neutral-800";let e=0;t.forEach(r=>e+=Wc(r.subTasks));const n=Math.round(e/t.length);return n===0?"bg-blue-50/30 border-blue-200/50 dark:bg-blue-900/10 dark:border-blue-800/30":n<=20?"bg-red-50/40 border-red-200 dark:bg-red-900/10 dark:border-red-800/50":n<=40?"bg-orange-50/40 border-orange-200 dark:bg-orange-900/10 dark:border-orange-800/50":n<=60?"bg-yellow-50/40 border-yellow-200 dark:bg-yellow-900/10 dark:border-yellow-800/50":n<=80?"bg-blue-50/40 border-blue-200 dark:bg-blue-900/10 dark:border-blue-800/50":"bg-green-50/40 border-green-200 dark:bg-green-900/10 dark:border-green-800/50"},O3=({percentage:t,size:e=60,strokeWidth:n=4,color:r="text-blue-500",showText:i=!0})=>{const s=(e-n)/2,a=s*2*Math.PI,l=a-t/100*a;return m.jsxs("div",{className:"relative flex items-center justify-center shrink-0",style:{width:e,height:e},children:[m.jsxs("svg",{className:"transform -rotate-90 w-full h-full",children:[m.jsx("circle",{cx:e/2,cy:e/2,r:s,stroke:"currentColor",strokeWidth:n,fill:"transparent",className:"text-neutral-200/50 dark:text-neutral-800/50"}),m.jsx("circle",{cx:e/2,cy:e/2,r:s,stroke:"currentColor",strokeWidth:n,fill:"transparent",strokeDasharray:a,strokeDashoffset:l,strokeLinecap:"round",className:`${r} transition-all duration-1000 ease-out`})]}),i&&m.jsxs("span",{className:"absolute text-xs font-bold text-neutral-700 dark:text-white",children:[t,"%"]})]})},ZE=({goal:t,onEdit:e,onDelete:n,onToggleSubTask:r,onToggleGoal:i})=>{const[s,a]=_.useState(!1),l=Wc(t.subTasks),c=t.status==="completed"||l===100&&t.subTasks?.length>0;return m.jsxs("div",{className:"mb-3 relative group break-inside-avoid w-full overflow-hidden",children:[!s&&t.subTasks&&t.subTasks.length>0&&m.jsx("div",{className:"absolute left-[11px] top-8 bottom-2 w-0.5 bg-neutral-300 dark:bg-neutral-700/50"}),m.jsxs("div",{className:"flex items-start gap-3 w-full",children:[m.jsx("button",{onClick:d=>{d.stopPropagation(),a(!s)},className:"mt-1 w-6 h-6 flex items-center justify-center rounded hover:bg-neutral-100 dark:hover:bg-white/10 text-neutral-400 transition-colors z-10 bg-transparent shrink-0",children:t.subTasks?.length>0?s?m.jsx(Gn,{className:"w-3 h-3"}):m.jsx("div",{className:"w-2 h-0.5 bg-neutral-400"}):m.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-neutral-300 dark:bg-neutral-700"})}),m.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[m.jsxs("div",{className:"flex items-center gap-2 py-0.5 group/header w-full",children:[m.jsx("span",{className:"text-neutral-300 dark:text-neutral-600 font-bold mr-1 select-none shrink-0",children:"-"}),m.jsx("h3",{onClick:()=>i(t),className:`text-lg font-bold leading-tight transition-all cursor-pointer select-none truncate flex-1 min-w-0 ${c?"text-neutral-400 line-through":"text-neutral-800 dark:text-white"}`,children:t.title}),m.jsxs("div",{className:"opacity-0 group-hover/header:opacity-100 flex items-center gap-2 transition-opacity ml-2 shrink-0",children:[m.jsx("button",{onClick:d=>{d.stopPropagation(),e(t)},className:"text-neutral-300 hover:text-blue-500",children:m.jsx(Zr,{className:"w-3.5 h-3.5"})}),m.jsx("button",{onClick:d=>{d.stopPropagation(),n(t.id)},className:"text-neutral-300 hover:text-red-500",children:m.jsx(ei,{className:"w-3.5 h-3.5"})}),m.jsxs("span",{className:"text-xs font-mono text-neutral-400",children:[l,"%"]})]})]}),m.jsx(Wt,{children:!s&&t.subTasks&&m.jsx(Xe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-2 space-y-2 ml-1",children:t.subTasks.map((d,f)=>{const p=mbe[d.icon]||to,g=d.color||"text-neutral-500",v=d.completed;return m.jsxs("div",{className:"flex items-center gap-3 pl-4 relative group/task cursor-pointer w-full",onClick:()=>r(t,f),children:[m.jsx("div",{className:"absolute left-0 top-1/2 w-3 h-0.5 bg-neutral-300 dark:bg-neutral-700/50"}),m.jsx(p,{className:`w-4 h-4 shrink-0 ${v?"text-green-500":g}`}),m.jsx("span",{className:`text-sm font-medium truncate select-none flex-1 min-w-0 ${v?"text-neutral-400 line-through":g}`,children:d.text})]},f)})})})]})]})]})},bbe=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),[i,s]=_.useState("year"),[a,l]=_.useState(new Date().getFullYear()),[c,d]=_.useState(new Date().getMonth()),[f,p]=_.useState(!1),[g,v]=_.useState(null),[b,T]=_.useState({}),[S,k]=_.useState(null);_.useEffect(()=>{const V=Is(),L=js(V,async Z=>{if(Z){k(Z.uid),r(!0);const oe=await Os(Z.uid,"yearlyObjectives");e(oe),r(!1)}});return()=>L()},[]);const C=ybe(t),{daysLeft:N}=gbe(),R=(V,L,Z)=>t.filter(oe=>{const W=String(oe.year)===String(V),Y=L?String(oe.month)===String(L):!oe.month,ce=Z?String(oe.day)===String(Z):!oe.day;return W&&Y&&ce}),D=V=>{const L=t.filter(oe=>String(oe.year)===String(a)&&String(oe.month)===String(V+1));if(L.length===0)return 0;const Z=L.reduce((oe,W)=>oe+Wc(W.subTasks),0);return Math.round(Z/L.length)},z=(V={})=>{v(null),T({year:a,month:"",day:"",subTasks:[],...V,type:"yearly"}),p(!0)},j=async V=>{if(!S)return;const L={...V,year:Number(V.year),month:V.month?Number(V.month):null,day:V.day?Number(V.day):null,subTasks:V.subTasks||[]},Z=g?{...L,id:g.id}:L,oe=await en(S,"yearlyObjectives",Z,!!g);e(g?W=>W.map(Y=>Y.id===g.id?{...Y,...oe}:Y):W=>[oe,...W]),p(!1)},M=async V=>{window.confirm("Delete?")&&(await aa(S,"yearlyObjectives",V),e(L=>L.filter(Z=>Z.id!==V)))},P=async(V,L)=>{const Z=await IO(S,"yearlyObjectives",V,L);newStatus!==V.status&&await en(S,"yearlyObjectives",{...V,subTasks:Z,status:newStatus,id:V.id},!0)},B=async V=>{const L=V.status==="completed"?"in-progress":"completed";e(Z=>Z.map(oe=>oe.id===V.id?{...oe,status:L}:oe)),await en(S,"yearlyObjectives",{...V,status:L,id:V.id},!0)},U=({id:V,label:L})=>m.jsx("button",{onClick:()=>s(V),className:`px-4 py-1.5 rounded-full text-sm font-bold transition-all ${i===V?"bg-neutral-900 text-white dark:bg-white dark:text-black":"text-neutral-500 hover:text-neutral-900 dark:hover:text-white"}`,children:L});return m.jsxs("main",{className:"min-h-screen pt-6 px-2 pb-20 w-full mx-auto bg-transparent text-neutral-900 dark:text-neutral-100",children:[m.jsxs("header",{className:"flex flex-col md:flex-row items-center justify-between mb-8 gap-4 px-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>l(V=>V-1),children:m.jsx(gs,{className:"w-6 h-6 text-neutral-400 hover:text-neutral-900 dark:hover:text-white"})}),m.jsx("h1",{className:"text-6xl font-black tracking-tighter leading-none",children:a}),m.jsx("button",{onClick:()=>l(V=>V+1),children:m.jsx(gs,{className:"w-6 h-6 rotate-180 text-neutral-400 hover:text-neutral-900 dark:hover:text-white"})})]}),m.jsx("div",{className:"bg-white/50 dark:bg-neutral-900/50 backdrop-blur-md p-1 rounded-full flex border border-white/20 dark:border-white/10 overflow-x-auto max-w-full",children:["year","month","day"].map(V=>m.jsx(U,{id:V,label:V.charAt(0).toUpperCase()+V.slice(1)},V))})]}),m.jsxs(Wt,{mode:"wait",children:[i==="year"&&m.jsxs(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 xl:grid-cols-12 gap-10",children:[m.jsxs("div",{className:"xl:col-span-8 space-y-8",children:[m.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 bg-white/40 dark:bg-neutral-900/40 backdrop-blur-md p-6 rounded-3xl border border-white/20 dark:border-white/10",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(O3,{percentage:C,size:80,strokeWidth:6,color:"text-neutral-900 dark:text-white"}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest",children:"Total Completion"}),m.jsxs("div",{className:"text-xl font-bold",children:[C,"% Complete"]})]})]}),m.jsx("div",{className:"h-px w-full md:h-10 md:w-px bg-neutral-200 dark:bg-neutral-700"}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest",children:"Time Remaining"}),m.jsxs("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:[N," Days Left"]})]})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end mb-6 border-b border-neutral-200 dark:border-neutral-800 pb-4 gap-4",children:[m.jsx("h2",{className:"text-4xl font-bold",children:"Master Plan"}),m.jsxs("button",{onClick:()=>z({month:"",day:""}),className:"flex items-center gap-2 text-blue-600 font-bold hover:underline",children:[m.jsx(Gn,{className:"w-5 h-5"})," Add Yearly Goal"]})]}),m.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8",children:R(a).map(V=>m.jsx(ZE,{goal:V,onEdit:L=>{v(L),T({...L}),p(!0)},onDelete:M,onToggleSubTask:P,onToggleGoal:B},V.id))}),R(a).length===0&&m.jsx("div",{className:"text-neutral-400 italic py-10 text-center",children:"No master plan yet."})]})]}),m.jsxs("div",{className:"xl:col-span-4",children:[m.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[m.jsx(sa,{className:"w-6 h-6"})," Roadmap Status"]}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:xv.map((V,L)=>{const Z=D(L);let oe="bg-white/30 dark:bg-neutral-800/30 border-neutral-200 dark:border-neutral-800 text-neutral-400",W=null;return Z>0&&Z<30?oe="bg-orange-50/50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-600":Z>=30&&Z<70?oe="bg-blue-50/50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-600":Z>=70&&Z<100?oe="bg-purple-50/50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800 text-purple-600":Z===100&&(oe="bg-green-50/50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-600",W=m.jsx(Lw,{className:"w-5 h-5"})),m.jsxs("div",{className:`p-3 rounded-xl border-2 flex flex-col justify-between h-28 backdrop-blur-sm transition-all ${oe}`,children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("span",{className:"font-bold text-sm uppercase",children:V.substring(0,3)}),W]}),m.jsx("div",{className:"text-right",children:m.jsxs("span",{className:"text-2xl font-black",children:[Z,"%"]})})]},V)})})]})]},"year"),i==="month"&&m.jsxs(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-10 px-4 gap-6",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("h2",{className:"text-4xl font-bold",children:xv[c]}),m.jsxs("div",{className:"bg-white/50 dark:bg-neutral-900/50 backdrop-blur-md border border-white/10 rounded-lg p-1 flex",children:[m.jsx("button",{onClick:()=>d(Math.max(0,c-1)),className:"p-2 hover:bg-white dark:hover:bg-neutral-700 rounded",children:m.jsx(gs,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>d(Math.min(11,c+1)),className:"p-2 hover:bg-white dark:hover:bg-neutral-700 rounded",children:m.jsx(gs,{className:"w-4 h-4 rotate-180"})})]})]}),m.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 w-full md:w-auto",children:[m.jsxs("div",{className:"flex items-center gap-4 w-full justify-between md:justify-end",children:[m.jsxs("div",{className:"text-right hidden md:block",children:[m.jsx("div",{className:"text-xs font-bold text-neutral-400 uppercase",children:"Completion"}),m.jsxs("div",{className:"text-lg font-bold",children:[D(c),"% Done"]})]}),m.jsx(O3,{percentage:D(c),size:50,strokeWidth:4,color:"text-purple-600"})]}),m.jsx("button",{onClick:()=>z({month:c+1}),className:"bg-black dark:bg-white text-white dark:text-black px-6 py-2 rounded-lg font-bold shadow-lg w-full md:w-auto",children:"+ Add Goal"})]})]}),m.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 xl:columns-4 gap-6 space-y-6",children:R(a,c+1).map(V=>m.jsx(ZE,{goal:V,onEdit:L=>{v(L),T({...L}),p(!0)},onDelete:M,onToggleSubTask:P,onToggleGoal:B},V.id))}),R(a,c+1).length===0&&m.jsxs("div",{className:"py-20 text-center text-neutral-400",children:["No goals for ",xv[c],"."]})]},"month"),i==="day"&&m.jsxs(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[m.jsx("div",{className:"flex justify-between items-center mb-8 px-4",children:m.jsxs("h2",{className:"text-4xl font-bold flex items-center gap-4",children:[xv[c]," Daily",m.jsxs("div",{className:"bg-white/50 dark:bg-neutral-900/50 backdrop-blur-md border border-white/10 rounded-lg p-1 flex",children:[m.jsx("button",{onClick:()=>d(Math.max(0,c-1)),className:"p-2 hover:bg-white dark:hover:bg-neutral-700 rounded",children:m.jsx(gs,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>d(Math.min(11,c+1)),className:"p-2 hover:bg-white dark:hover:bg-neutral-700 rounded",children:m.jsx(gs,{className:"w-4 h-4 rotate-180"})})]})]})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4",children:Array.from({length:new Date(a,c+1,0).getDate()},(V,L)=>L+1).map(V=>{const L=R(a,c+1,V),Z=new Date(a,c,V),oe=pbe[Z.getDay()],W=new Date().toDateString()===Z.toDateString(),Y=vbe(L);return m.jsxs("div",{className:`rounded-xl p-4 border min-h-[150px] flex flex-col backdrop-blur-sm transition-colors ${Y}`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-xs font-bold text-neutral-400 uppercase",children:oe}),m.jsx("span",{className:`text-3xl font-black ${W?"text-blue-600":"text-neutral-800 dark:text-neutral-200"}`,children:V})]}),m.jsx("button",{onClick:()=>z({month:c+1,day:V}),className:"text-neutral-400 hover:text-blue-500 bg-white/50 dark:bg-black/20 p-1 rounded-full",children:m.jsx(Gn,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"flex-1 space-y-3",children:L.map(ce=>m.jsx(ZE,{goal:ce,onEdit:he=>{v(he),T({...he}),p(!0)},onDelete:M,onToggleSubTask:P,onToggleGoal:B},ce.id))})]},V)})})]},"day")]}),f&&m.jsx(RO,{isOpen:f,onClose:()=>p(!1),onSave:j,initialData:b,type:"yearly"})]})},xbe=["Authenticity","Achievement","Adventure","Authority","Autonomy","Balance","Beauty","Boldness","Compassion","Challenge","Citizenship","Community","Competency","Contribution","Creativity","Curiosity","Determination","Fairness","Faith","Fame","Friendships","Fun","Growth","Happiness","Honesty","Humor","Influence","Inner Harmony","Justice","Kindness","Knowledge","Leadership","Learning","Love","Loyalty","Meaningful Work","Openness","Optimism","Peace","Pleasure","Poise","Popularity","Recognition","Religion","Reputation","Respect","Responsibility","Security","Self-Respect","Service","Spirituality","Stability","Success","Status","Trustworthiness","Wealth","Wisdom"],wbe=["10s","20s","30s","40s","50s","60s+"],Sbe={ThumbsUp:DO,Zap:Wi,Heart:Gc,Award:l$},Tbe=({initials:t})=>m.jsxs("div",{className:"relative group",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400 to-blue-600 rounded-full blur-2xl opacity-20 group-hover:opacity-30 transition-opacity duration-500"}),m.jsx("div",{className:"relative w-40 h-40 md:w-48 md:h-48 rounded-full bg-white dark:bg-neutral-900 border-4 border-cyan-100 dark:border-cyan-900 flex items-center justify-center shadow-2xl mx-auto",children:m.jsx("span",{className:"text-6xl md:text-7xl font-black text-cyan-600 dark:text-cyan-400 opacity-80 tracking-tighter",children:t})})]}),ek=({label:t,value:e,onSave:n,icon:r,isStatic:i=!1})=>{const[s,a]=_.useState(String(e||"")),[l,c]=_.useState(!1);_.useEffect(()=>{a(String(e||""))},[e]);const d=()=>{n(s),c(!1)},f=t==="BMI"?Fce(parseFloat(e)):null;return f?.iconName&&Sbe[f.iconName],m.jsxs("div",{className:"relative p-5 bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl group transition-all hover:border-cyan-400/50",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("div",{className:"p-1.5 bg-cyan-50 dark:bg-cyan-900/20 rounded-lg text-cyan-600 dark:text-cyan-400",children:Cs.cloneElement(r,{className:"w-4 h-4"})}),m.jsx("span",{className:"text-xs font-bold text-neutral-400 uppercase tracking-wider",children:t})]}),l?m.jsx("input",{autoFocus:!0,value:s,onChange:p=>a(p.target.value),onBlur:d,onKeyDown:p=>p.key==="Enter"&&d(),className:"w-full text-3xl font-black bg-transparent outline-none text-cyan-600 dark:text-cyan-400"}):m.jsxs("div",{className:"flex items-baseline gap-2",children:[m.jsx("span",{className:"text-3xl font-black text-neutral-800 dark:text-neutral-100",children:e||"--"}),f&&m.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${f.color} bg-opacity-10`,children:f.comment})]}),!i&&m.jsx("button",{onClick:()=>c(!0),className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity text-neutral-400 hover:text-cyan-500",children:m.jsx(Zr,{className:"w-4 h-4"})})]})},Vu=({label:t,value:e,onSave:n,icon:r,type:i="input",placeholder:s})=>{const[a,l]=_.useState(e),[c,d]=_.useState(!1);_.useEffect(()=>{l(e)},[e]);const f=()=>{n(a),d(!1)};return m.jsxs("div",{className:"group relative pl-4 border-l-2 border-neutral-200 dark:border-neutral-800 hover:border-cyan-500 transition-colors py-1",children:[m.jsxs("div",{className:"flex items-center justify-between mb-1",children:[m.jsxs("span",{className:"text-xs font-bold text-neutral-400 uppercase flex items-center gap-2",children:[r&&Cs.cloneElement(r,{className:"w-3 h-3"})," ",t]}),m.jsx("button",{onClick:()=>d(!0),className:"opacity-0 group-hover:opacity-100 transition-opacity text-neutral-400 hover:text-cyan-500",children:m.jsx(Zr,{className:"w-3 h-3"})})]}),c?i==="textarea"?m.jsx("textarea",{autoFocus:!0,rows:3,className:"w-full bg-neutral-100 dark:bg-neutral-800 rounded p-2 text-sm outline-none focus:ring-2 ring-cyan-500/50",value:a,onChange:p=>l(p.target.value),onBlur:f}):m.jsx("input",{autoFocus:!0,className:"w-full bg-neutral-100 dark:bg-neutral-800 rounded p-1 text-lg font-medium outline-none focus:ring-2 ring-cyan-500/50",value:a,onChange:p=>l(p.target.value),onBlur:f,onKeyDown:p=>p.key==="Enter"&&f()}):m.jsx("p",{className:"text-lg font-medium text-neutral-800 dark:text-neutral-200 min-h-[1.75rem]",children:e||m.jsx("span",{className:"text-neutral-400 italic text-sm",children:s||"Set value..."})})]})},tk=({title:t,questions:e=[],onUpdate:n})=>{const[r,i]=_.useState(""),s=()=>{r.trim()&&(n([...e,r]),i(""))},a=l=>{const c=[...e];c.splice(l,1),n(c)};return m.jsxs("div",{className:"mb-6",children:[m.jsx("h4",{className:"text-sm font-bold text-neutral-500 uppercase tracking-widest mb-3 border-b border-neutral-200 dark:border-neutral-800 pb-1",children:t}),m.jsx("div",{className:"space-y-2 pl-2",children:e.map((l,c)=>m.jsxs("div",{className:"flex items-start gap-3 group relative",children:[m.jsx("div",{className:"absolute left-[5px] top-4 bottom-[-8px] w-px bg-neutral-200 dark:bg-neutral-800 last:hidden"}),m.jsx("div",{className:"mt-1.5 w-2.5 h-2.5 rounded-full border-2 border-neutral-300 dark:border-neutral-700 bg-neutral-100 dark:bg-neutral-900 shrink-0 z-10"}),m.jsx("div",{className:"flex-1 text-neutral-700 dark:text-neutral-300 text-sm py-0.5",children:l}),m.jsx("button",{onClick:()=>a(c),className:"opacity-0 group-hover:opacity-100 text-neutral-400 hover:text-red-500 transition-opacity",children:m.jsx(ei,{className:"w-3 h-3"})})]},c))}),m.jsxs("div",{className:"flex items-center gap-3 pl-2 mt-2",children:[m.jsx("div",{className:"w-2.5 h-px bg-neutral-300 dark:bg-neutral-700 shrink-0"}),m.jsx("input",{type:"text",placeholder:"Add a question...",value:r,onChange:l=>i(l.target.value),onKeyDown:l=>l.key==="Enter"&&s(),className:"flex-1 bg-transparent text-sm outline-none text-neutral-600 dark:text-neutral-400 placeholder-neutral-500/50"}),m.jsx("button",{onClick:s,className:"text-neutral-400 hover:text-cyan-500",children:m.jsx(Gn,{className:"w-4 h-4"})})]})]})},Ebe=({values:t=[],onUpdate:e})=>{const[n,r]=_.useState(!1);t.length;const i=a=>{const l=t.find(c=>c.value===a);e(l?t.filter(c=>c.value!==a):[...t,{value:a,importance:5}])},s=(a,l)=>{e(t.map(c=>c.value===a?{...c,importance:l}:c))};return m.jsxs("div",{className:"p-6 bg-white dark:bg-neutral-900 rounded-3xl border border-neutral-200 dark:border-neutral-800",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xl font-bold text-neutral-800 dark:text-white flex items-center gap-2",children:[m.jsx(Si,{className:"w-5 h-5 text-amber-400"})," Core Values"]}),m.jsx("p",{className:"text-xs text-neutral-500",children:"What drives your decisions?"})]}),!n&&t.length>0&&m.jsx("button",{onClick:()=>r(!0),className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-full transition-colors",children:m.jsx(Gn,{className:"w-5 h-5 text-neutral-500"})})]}),!n&&t.length>0&&m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.sort((a,l)=>l.importance-a.importance).map(a=>m.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-neutral-50 dark:bg-neutral-800/50 border border-neutral-100 dark:border-neutral-800",children:[m.jsx("span",{className:"font-bold text-neutral-700 dark:text-neutral-200",children:a.value}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"range",min:"1",max:"10",value:a.importance,onChange:l=>s(a.value,parseInt(l.target.value)),className:"w-20 h-1 bg-neutral-200 dark:bg-neutral-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),m.jsx("span",{className:"text-xs font-mono font-bold text-cyan-600 dark:text-cyan-400 w-4 text-center",children:a.importance})]})]},a.value))}),(n||t.length===0)&&m.jsxs(Xe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:[t.length>0&&m.jsx("div",{className:"flex justify-end mb-2",children:m.jsx("button",{onClick:()=>r(!1),className:"text-xs font-bold text-neutral-400 hover:text-neutral-600",children:"Done Editing"})}),m.jsx("div",{className:"flex flex-wrap gap-2",children:xbe.map(a=>{const l=t.find(c=>c.value===a);return m.jsx("button",{onClick:()=>i(a),className:`px-3 py-1.5 text-xs font-bold rounded-lg transition-all ${l?"bg-cyan-500 text-white shadow-lg shadow-cyan-500/30":"bg-neutral-100 dark:bg-neutral-800 text-neutral-500 hover:bg-neutral-200 dark:hover:bg-neutral-700"}`,children:a},a)})})]})]})},kbe=({decades:t={},onUpdate:e})=>m.jsxs("div",{className:"overflow-hidden bg-white dark:bg-neutral-900 rounded-3xl border border-neutral-200 dark:border-neutral-800",children:[m.jsx("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-800",children:m.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[m.jsx(sa,{className:"w-5 h-5 text-red-500"})," Life Roadmap"]})}),m.jsx("div",{className:"divide-y divide-neutral-200 dark:divide-neutral-800",children:wbe.map(n=>m.jsxs("div",{className:"flex group",children:[m.jsx("div",{className:"w-20 p-4 bg-neutral-50 dark:bg-neutral-950/30 flex items-center justify-center font-black text-neutral-400 text-xl border-r border-neutral-200 dark:border-neutral-800 shrink-0",children:n}),m.jsx("div",{className:"flex-1 p-2",children:m.jsx("textarea",{value:t[n]||"",onChange:r=>e({...t,[n]:r.target.value}),placeholder:`Goals for your ${n}...`,className:"w-full h-full bg-transparent resize-none outline-none p-2 text-sm text-neutral-700 dark:text-neutral-300 placeholder-neutral-300 dark:placeholder-neutral-700 focus:bg-neutral-50 dark:focus:bg-neutral-800/50 rounded-lg transition-colors",rows:2})})]},n))})]});function _be({about:t,onUpdate:e}){const[n,r]=_.useState({name:"",weight:"",height:"",location:"",mbti:"",university:"",major:"",motto:"",currentAim:"",weightHistory:[],questions:{daily:[],weekly:[],monthly:[]},decades:{},values:[],swot:{strengths:"",weaknesses:""}}),[i,s]=_.useState(!1);_.useEffect(()=>{t&&r(v=>({...v,...t,questions:t.questions||{daily:[],weekly:[],monthly:[]},decades:t.decades||{},values:t.values||[],swot:t.swot||{strengths:"",weaknesses:""}}))},[t]);const a=_.useCallback((v,b)=>{const T=parseFloat(v),S=parseFloat(b);if(T>0&&S>0){const k=S/100;return(T/(k*k)).toFixed(1)}return null},[]),l=_.useMemo(()=>a(n.weight,n.height),[n.weight,n.height,a]),c=(v,b)=>{const T={...n,[v]:b};r(T),e({[v]:b})},d=(v,b)=>c("questions",{...n.questions,[v]:b}),f=v=>c("decades",v),p=v=>c("values",v),g=(v,b)=>c("swot",{...n.swot,[v]:b});return m.jsxs("div",{className:"w-full pb-20 space-y-12",children:[m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[m.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[m.jsx(Tbe,{initials:zce(n.name)}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(ek,{label:"WEIGHT (KG)",value:n.weight,onSave:v=>c("weight",v),icon:m.jsx(I5,{})}),m.jsx(ek,{label:"HEIGHT (CM)",value:n.height,onSave:v=>c("height",v),icon:m.jsx(nue,{})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(ek,{label:"BMI",value:l||"N/A",isStatic:!0,icon:m.jsx(Gc,{})}),m.jsxs("div",{onClick:()=>s(!0),className:"cursor-pointer bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl p-4 flex flex-col justify-center items-center hover:border-cyan-500 transition-colors group",children:[m.jsx(I5,{className:"w-6 h-6 text-neutral-400 group-hover:text-cyan-500 mb-2"}),m.jsx("span",{className:"text-xs font-bold text-neutral-500",children:"Edit Log"})]})]})]}),m.jsxs("div",{className:"lg:col-span-8 bg-white/50 dark:bg-neutral-900/50 backdrop-blur-sm rounded-3xl p-8 border border-white/20 dark:border-white/5",children:[m.jsxs("h3",{className:"text-2xl font-black mb-6 text-neutral-800 dark:text-white flex items-center gap-2",children:[m.jsx(kA,{className:"w-6 h-6 text-cyan-500"})," Dossier"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[m.jsx(Vu,{label:"Full Name",value:n.name,onSave:v=>c("name",v),icon:m.jsx(kA,{}),placeholder:"John Doe"}),m.jsx(Vu,{label:"Location",value:n.location,onSave:v=>c("location",v),icon:m.jsx(a$,{}),placeholder:"City for Weather"}),m.jsx(Vu,{label:"University",value:n.university,onSave:v=>c("university",v),icon:m.jsx(vh,{}),placeholder:"University Name"}),m.jsx(Vu,{label:"Major",value:n.major,onSave:v=>c("major",v),icon:m.jsx(xc,{}),placeholder:"Field of Study"}),m.jsx("div",{className:"md:col-span-2",children:m.jsx(Vu,{label:"MBTI / Personality",value:n.mbti,onSave:v=>c("mbti",v),icon:m.jsx(Vw,{}),placeholder:"INTJ-A"})}),m.jsx("div",{className:"md:col-span-2",children:m.jsx(Vu,{label:"Current Aim",value:n.currentAim,onSave:v=>c("currentAim",v),icon:m.jsx(sa,{}),type:"textarea",placeholder:"What is your main focus right now?"})}),m.jsx("div",{className:"md:col-span-2",children:m.jsx(Vu,{label:"Motto / Quote",value:n.motto,onSave:v=>c("motto",v),icon:m.jsx(rue,{}),type:"textarea",placeholder:"Words to live by..."})})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[m.jsx(Ebe,{values:n.values,onUpdate:p}),m.jsx(kbe,{decades:n.decades,onUpdate:f})]}),m.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-8",children:[m.jsx("div",{className:"xl:col-span-7 space-y-6",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-3xl border border-neutral-200 dark:border-neutral-800 p-6 h-full",children:[m.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[m.jsx(Wi,{className:"w-5 h-5 text-yellow-500"})," Self Analysis"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-[calc(100%-3rem)]",children:[m.jsxs("div",{className:"flex flex-col h-full bg-green-50/50 dark:bg-green-900/10 rounded-2xl p-4 border border-green-100 dark:border-green-900/30",children:[m.jsx("span",{className:"text-xs font-black text-green-600 dark:text-green-400 uppercase tracking-widest mb-2",children:"Strengths"}),m.jsx("textarea",{value:n.swot.strengths,onChange:v=>g("strengths",v.target.value),className:"flex-1 bg-transparent resize-none outline-none text-sm leading-relaxed text-neutral-700 dark:text-neutral-300 placeholder-neutral-400/50",placeholder:"What are you naturally good at?"})]}),m.jsxs("div",{className:"flex flex-col h-full bg-red-50/50 dark:bg-red-900/10 rounded-2xl p-4 border border-red-100 dark:border-red-900/30",children:[m.jsx("span",{className:"text-xs font-black text-red-600 dark:text-red-400 uppercase tracking-widest mb-2",children:"Weaknesses"}),m.jsx("textarea",{value:n.swot.weaknesses,onChange:v=>g("weaknesses",v.target.value),className:"flex-1 bg-transparent resize-none outline-none text-sm leading-relaxed text-neutral-700 dark:text-neutral-300 placeholder-neutral-400/50",placeholder:"Areas for improvement..."})]})]})]})}),m.jsx("div",{className:"xl:col-span-5",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-3xl border border-neutral-200 dark:border-neutral-800 p-6 h-full",children:[m.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[m.jsx(o$,{className:"w-5 h-5 text-purple-500"})," Reflection Prompts"]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(tk,{title:"Daily Questions",questions:n.questions.daily,onUpdate:v=>d("daily",v)}),m.jsx(tk,{title:"Weekly Review",questions:n.questions.weekly,onUpdate:v=>d("weekly",v)}),m.jsx(tk,{title:"Monthly Check-in",questions:n.questions.monthly,onUpdate:v=>d("monthly",v)})]})]})})]}),m.jsx(Wt,{children:i&&m.jsx(Abe,{isOpen:i,onClose:()=>s(!1),weightHistory:n.weightHistory,onSave:v=>c("weightHistory",v)})})]})}const Abe=({isOpen:t,onClose:e,weightHistory:n,onSave:r})=>{const[i,s]=_.useState(new Date().getFullYear()),[a,l]=_.useState(Array(12).fill("")),[c,d]=_.useState("");_.useEffect(()=>{if(t){const g=Array(12).fill("");n.filter(b=>b.year===i).forEach(b=>{g[b.month-1]=b.weight}),l(g)}},[i,t,n]);const f=()=>{const g=n.filter(b=>b.year!==i),v=a.map((b,T)=>({year:i,month:T+1,weight:parseFloat(b)})).filter(b=>!isNaN(b.weight)&&b.weight>0);r([...g,...v]),e()},p=()=>c&&l(Array(12).fill(c));return m.jsx(Ds,{onClose:e,children:m.jsxs("div",{className:"bg-white dark:bg-neutral-900 p-6 rounded-2xl w-full max-w-lg shadow-2xl",onClick:g=>g.stopPropagation(),children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-xl font-bold",children:"Weight Log"}),m.jsx("button",{onClick:e,children:m.jsx(Kce,{className:"w-5 h-5 text-neutral-500"})})]}),m.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6 bg-neutral-100 dark:bg-neutral-800 p-2 rounded-xl",children:[m.jsx("button",{onClick:()=>s(g=>g-1),children:m.jsx(gs,{className:"w-5 h-5"})}),m.jsx("span",{className:"font-bold text-lg",children:i}),m.jsx("button",{onClick:()=>s(g=>g+1),children:m.jsx(gs,{className:"w-5 h-5 rotate-180"})})]}),m.jsxs("div",{className:"flex gap-2 mb-4",children:[m.jsx("input",{type:"number",placeholder:"Bulk Value",value:c,onChange:g=>d(g.target.value),className:"flex-1 bg-neutral-100 dark:bg-neutral-800 rounded-lg px-3 py-2 text-sm outline-none"}),m.jsx("button",{onClick:p,className:"bg-cyan-500 text-white px-4 py-2 rounded-lg text-sm font-bold",children:"Apply All"})]}),m.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:a.map((g,v)=>m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"block text-[10px] font-bold text-neutral-400 mb-1 uppercase",children:new Date(0,v).toLocaleString("default",{month:"short"})}),m.jsx("input",{type:"number",value:g,onChange:b=>{const T=[...a];T[v]=b.target.value,l(T)},className:"w-full text-center bg-neutral-50 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 rounded-lg py-1 text-sm font-bold focus:ring-2 ring-cyan-500/50 outline-none"})]},v))}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:e,className:"px-4 py-2 text-neutral-500 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg",children:"Cancel"}),m.jsx("button",{onClick:f,className:"px-6 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-bold shadow-lg shadow-cyan-500/20",children:"Save Log"})]})]})})},Eg={Language:eue,Programming:Bw,Design:Wi,General:Vw},gC=[{value:1,label:"Beginner",color:"bg-violet-200 text-violet-700"},{value:2,label:"Elementary",color:"bg-violet-300 text-violet-800"},{value:3,label:"Intermediate",color:"bg-violet-400 text-white"},{value:4,label:"Advanced",color:"bg-violet-500 text-white"},{value:5,label:"Expert",color:"bg-violet-600 text-white"}],Cbe=({onEdit:t,onDelete:e})=>{const[n,r]=_.useState(!1);return m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>r(!n),className:"p-1 rounded-full hover:bg-black/10 dark:hover:bg-white/10 transition-colors",children:m.jsx(t0,{className:"w-4 h-4 text-neutral-500"})}),m.jsx(Wt,{children:n&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>r(!1)}),m.jsxs(Xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"absolute right-0 mt-1 w-32 bg-white dark:bg-neutral-800 rounded-lg shadow-xl border border-neutral-200 dark:border-neutral-700 z-20 overflow-hidden",children:[m.jsxs("button",{onClick:t,className:"w-full text-left flex items-center gap-2 px-3 py-2 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-700",children:[m.jsx(Zr,{className:"w-3 h-3 text-violet-500"})," Edit"]}),m.jsxs("button",{onClick:e,className:"w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:[m.jsx(ei,{className:"w-3 h-3"})," Delete"]})]})]})})]})},Obe=({skill:t,onUpdate:e,onDelete:n,onEdit:r})=>{const i=t.hallOfFame,s={bg:i?"hof-bg-violet":"bg-violet-50 dark:bg-violet-900/20",border:i?"border-violet-400/30":"border-violet-100 dark:border-violet-800/30",text:i?"text-violet-900 dark:text-violet-100":"text-neutral-800 dark:text-neutral-100",icon:i?"text-violet-600":"text-violet-500 dark:text-violet-400",barBg:"bg-violet-200 dark:bg-violet-900",barFill:"bg-violet-500"},a=gC.find(c=>c.value===Number(t.proficiency))||gC[0],l=Eg[t.category]||Eg.General;return m.jsxs(Xe.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:`relative p-5 rounded-2xl border backdrop-blur-sm transition-all hover:shadow-md ${s.bg} ${s.border} ${i?"hof-glow-violet shadow-lg":""}`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg bg-white/50 dark:bg-black/20 ${s.icon}`,children:m.jsx(l,{className:"w-6 h-6"})}),m.jsxs("div",{children:[m.jsx("h4",{className:`font-bold text-lg leading-none ${s.text}`,children:t.title}),m.jsx("span",{className:"text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:t.category})]})]}),m.jsx(Cbe,{onEdit:()=>r(t),onDelete:()=>n(t.id)})]}),m.jsxs("div",{className:"mt-4",children:[m.jsxs("div",{className:"flex justify-between text-xs font-bold mb-1.5 text-neutral-500 dark:text-neutral-400",children:[m.jsx("span",{children:"Proficiency"}),m.jsx("span",{children:a.label})]}),m.jsx("div",{className:"flex gap-1 h-2",children:[1,2,3,4,5].map(c=>m.jsx("div",{className:`flex-1 rounded-full transition-colors ${Number(t.proficiency)>=c?s.barFill:s.barBg}`},c))})]}),m.jsx("div",{className:"flex flex-wrap gap-1 mt-4",children:(t.tags||[]).map((c,d)=>m.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-md font-medium bg-white/50 dark:bg-black/20 text-neutral-600 dark:text-neutral-300",children:c},d))}),i&&m.jsx("div",{className:"absolute -top-2 -right-2",children:m.jsx(Si,{className:"w-6 h-6 text-amber-400 fill-amber-400 drop-shadow-md"})})]})},Nbe=({isOpen:t,onClose:e,onSave:n,initialData:r,existingCategories:i})=>{const[s,a]=_.useState({title:"",category:"",proficiency:1,tags:"",hallOfFame:!1,...r}),l=()=>{s.title.trim()&&(n({...s,tags:Array.isArray(s.tags)?s.tags:s.tags.split(",").map(c=>c.trim()).filter(Boolean),proficiency:Number(s.proficiency)}),e())};return m.jsx(Ds,{onClose:e,children:m.jsx(rl,{title:r?"Edit Skill":"Add New Skill",theme:"violet",onClose:e,onSave:l,children:m.jsxs("div",{className:"space-y-5",children:[m.jsx(Et,{placeholder:"Skill Name (e.g. React, Spanish)",value:s.title,onChange:c=>a({...s,title:c.target.value}),autoFocus:!0}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs font-bold text-neutral-500 uppercase ml-1",children:"Category"}),m.jsx("input",{list:"skill-categories",placeholder:"Select or type a category...",value:s.category,onChange:c=>a({...s,category:c.target.value}),className:"w-full p-2.5 bg-black/5 dark:bg-white/5 rounded-xl backdrop-blur-sm border border-transparent focus:ring-2 focus:ring-violet-400 focus:outline-none text-neutral-800 dark:text-neutral-100"}),m.jsx("datalist",{id:"skill-categories",children:[...new Set([...Object.keys(Eg),...i])].sort().map(c=>m.jsx("option",{value:c},c))})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs font-bold text-neutral-500 uppercase ml-1",children:"Proficiency Level"}),m.jsx("div",{className:"flex gap-2",children:gC.map(c=>{const d=Number(s.proficiency)===c.value;return m.jsx("button",{onClick:()=>a({...s,proficiency:c.value}),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all border border-transparent ${d?`${c.color} shadow-md scale-105`:"bg-black/5 dark:bg-white/5 text-neutral-500 hover:bg-violet-100 dark:hover:bg-violet-900/30"}`,children:c.label},c.value)})})]}),m.jsx(Et,{placeholder:"Tags (comma-separated)",value:Array.isArray(s.tags)?s.tags.join(", "):s.tags,onChange:c=>a({...s,tags:c.target.value})}),m.jsx(r0,{isHOF:s.hallOfFame,onToggle:()=>a({...s,hallOfFame:!s.hallOfFame}),theme:"violet"})]})})})};function Mbe(){const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!0),[a,l]=_.useState({isOpen:!1,data:null});_.useEffect(()=>{const S=Is(),k=js(S,async C=>{if(C){r(C.uid),s(!0);const N=await Os(C.uid,"skills");e(N),s(!1)}else r(null),e([]),s(!1)});return()=>k()},[]);const c=async S=>{if(!n)return;const k=await en(n,"skills",{...S,createdAt:new Date},!1);e(C=>[k,...C])},d=async(S,k)=>{if(!n)return;const C={...k,id:S},N=await en(n,"skills",C,!0);e(R=>R.map(D=>D.id===S?{...D,...N}:D))},f=async S=>{n&&window.confirm("Delete this skill?")&&(await aa(n,"skills",S),e(k=>k.filter(C=>C.id!==S)))},p=(S=null)=>l({isOpen:!0,data:S}),g=()=>l({isOpen:!1,data:null}),v=S=>{a.data?.id?d(a.data.id,S):c(S)},b=_.useMemo(()=>{const S={};return[...new Set(t.map(C=>C.category||"General"))].sort().forEach(C=>{S[C]=t.filter(N=>(N.category||"General")===C)}),S},[t]),T=_.useMemo(()=>[...new Set(t.map(S=>S.category).filter(Boolean))],[t]);return m.jsxs("div",{className:"pb-20",children:[m.jsxs("div",{className:"flex justify-between items-end mb-10",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-black text-violet-600 dark:text-violet-400",children:"My Skills"}),m.jsx("p",{className:"text-neutral-500 font-bold mt-1",children:"Tech stack & proficiencies"})]}),m.jsxs("button",{onClick:()=>p(),className:"px-5 py-2.5 bg-violet-500 hover:bg-violet-600 text-white font-bold rounded-xl shadow-lg shadow-violet-500/30 flex items-center gap-2 transition-all",children:[m.jsx(Gn,{className:"w-5 h-5"})," Add Skill"]})]}),Object.entries(b).map(([S,k])=>{if(k.length===0)return null;const C=Eg[S]||Eg.General;return m.jsxs("div",{className:"mb-10",children:[m.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-violet-600 dark:text-violet-300",children:[m.jsx(C,{className:"w-6 h-6"})," ",S]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5",children:k.map(N=>m.jsx(Obe,{skill:N,onUpdate:d,onDelete:f,onEdit:()=>p(N)},N.id))})]},S)}),t.length===0&&!i&&m.jsxs("div",{className:"text-center py-20 opacity-50",children:[m.jsx(Vw,{className:"w-16 h-16 mx-auto mb-4 text-neutral-400"}),m.jsx("p",{className:"text-xl font-bold text-neutral-500",children:"No skills added yet."})]}),m.jsx(Wt,{children:a.isOpen&&m.jsx(Nbe,{isOpen:a.isOpen,onClose:g,onSave:v,initialData:a.data,existingCategories:T})})]})}const kg={Coding:Bw,Music:zw,Fitness:n0,Travel:Xce,Art:Yce,Gaming:Qce,Design:Wi,General:Gc},yC=[{value:1,label:"Novice",color:"bg-pink-200 text-pink-700"},{value:2,label:"Beginner",color:"bg-pink-300 text-pink-800"},{value:3,label:"Intermediate",color:"bg-pink-400 text-white"},{value:4,label:"Advanced",color:"bg-pink-500 text-white"},{value:5,label:"Expert",color:"bg-pink-600 text-white"}],jbe=({onEdit:t,onDelete:e})=>{const[n,r]=_.useState(!1);return m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>r(!n),className:"p-1 rounded-full hover:bg-black/10 dark:hover:bg-white/10 transition-colors",children:m.jsx(t0,{className:"w-4 h-4 text-neutral-500"})}),m.jsx(Wt,{children:n&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>r(!1)}),m.jsxs(Xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"absolute right-0 mt-1 w-32 bg-white dark:bg-neutral-800 rounded-lg shadow-xl border border-neutral-200 dark:border-neutral-700 z-20 overflow-hidden",children:[m.jsxs("button",{onClick:t,className:"w-full text-left flex items-center gap-2 px-3 py-2 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-700",children:[m.jsx(Zr,{className:"w-3 h-3 text-pink-500"})," Edit"]}),m.jsxs("button",{onClick:e,className:"w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:[m.jsx(ei,{className:"w-3 h-3"})," Delete"]})]})]})})]})},Ibe=({hobby:t,onUpdate:e,onDelete:n,onEdit:r})=>{const i=t.hallOfFame,s={bg:i?"hof-bg-pink":"bg-pink-50 dark:bg-pink-900/20",border:i?"border-pink-400/30":"border-pink-100 dark:border-pink-800/30",text:i?"text-pink-900 dark:text-pink-100":"text-neutral-800 dark:text-neutral-100",icon:i?"text-pink-600":"text-pink-500 dark:text-pink-400",barBg:"bg-pink-200 dark:bg-pink-900",barFill:"bg-pink-500"},a=yC.find(c=>c.value===Number(t.proficiency))||yC[0],l=kg[t.category]||kg.General;return m.jsxs(Xe.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:`relative p-5 rounded-2xl border backdrop-blur-sm transition-all hover:shadow-md ${s.bg} ${s.border} ${i?"hof-glow-pink shadow-lg":""}`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg bg-white/50 dark:bg-black/20 ${s.icon}`,children:m.jsx(l,{className:"w-6 h-6"})}),m.jsxs("div",{children:[m.jsx("h4",{className:`font-bold text-lg leading-none ${s.text}`,children:t.title}),m.jsx("span",{className:"text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:t.category})]})]}),m.jsx(jbe,{onEdit:()=>r(t),onDelete:()=>n(t.id)})]}),m.jsxs("div",{className:"mt-4",children:[m.jsxs("div",{className:"flex justify-between text-xs font-bold mb-1.5 text-neutral-500 dark:text-neutral-400",children:[m.jsx("span",{children:"Proficiency"}),m.jsx("span",{children:a.label})]}),m.jsx("div",{className:"flex gap-1 h-2",children:[1,2,3,4,5].map(c=>m.jsx("div",{className:`flex-1 rounded-full transition-colors ${Number(t.proficiency)>=c?s.barFill:s.barBg}`},c))})]}),m.jsx("div",{className:"flex flex-wrap gap-1 mt-4",children:(t.tags||[]).map((c,d)=>m.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-md font-medium bg-white/50 dark:bg-black/20 text-neutral-600 dark:text-neutral-300",children:c},d))}),i&&m.jsx("div",{className:"absolute -top-2 -right-2",children:m.jsx(Si,{className:"w-6 h-6 text-amber-400 fill-amber-400 drop-shadow-md"})})]})},Dbe=({isOpen:t,onClose:e,onSave:n,initialData:r,existingCategories:i})=>{const[s,a]=_.useState({title:"",category:"",proficiency:1,tags:"",hallOfFame:!1,...r}),l=()=>{s.title.trim()&&(n({...s,tags:Array.isArray(s.tags)?s.tags:s.tags.split(",").map(c=>c.trim()).filter(Boolean),proficiency:Number(s.proficiency)}),e())};return m.jsx(Ds,{onClose:e,children:m.jsx(rl,{title:r?"Edit Hobby":"Add New Hobby",theme:"pink",onClose:e,onSave:l,children:m.jsxs("div",{className:"space-y-5",children:[m.jsx(Et,{placeholder:"Hobby Name (e.g. Photography, Hiking)",value:s.title,onChange:c=>a({...s,title:c.target.value}),autoFocus:!0}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs font-bold text-neutral-500 uppercase ml-1",children:"Category"}),m.jsx("input",{list:"hobby-categories",placeholder:"Select or type a category...",value:s.category,onChange:c=>a({...s,category:c.target.value}),className:"w-full p-2.5 bg-black/5 dark:bg-white/5 rounded-xl backdrop-blur-sm border border-transparent focus:ring-2 focus:ring-pink-400 focus:outline-none text-neutral-800 dark:text-neutral-100"}),m.jsx("datalist",{id:"hobby-categories",children:[...new Set([...Object.keys(kg),...i])].sort().map(c=>m.jsx("option",{value:c},c))})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs font-bold text-neutral-500 uppercase ml-1",children:"Proficiency Level"}),m.jsx("div",{className:"flex gap-2",children:yC.map(c=>{const d=Number(s.proficiency)===c.value;return m.jsx("button",{onClick:()=>a({...s,proficiency:c.value}),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all border border-transparent ${d?`${c.color} shadow-md scale-105`:"bg-black/5 dark:bg-white/5 text-neutral-500 hover:bg-pink-100 dark:hover:bg-pink-900/30"}`,children:c.label},c.value)})})]}),m.jsx(Et,{placeholder:"Tags (comma-separated)",value:Array.isArray(s.tags)?s.tags.join(", "):s.tags,onChange:c=>a({...s,tags:c.target.value})}),m.jsx(r0,{isHOF:s.hallOfFame,onToggle:()=>a({...s,hallOfFame:!s.hallOfFame}),theme:"pink"})]})})})};function Pbe(){const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!0),[a,l]=_.useState({isOpen:!1,data:null});_.useEffect(()=>{const S=Is(),k=js(S,async C=>{if(C){r(C.uid),s(!0);const N=await Os(C.uid,"hobbies");e(N),s(!1)}else r(null),e([]),s(!1)});return()=>k()},[]);const c=async S=>{if(!n)return;const k=await en(n,"hobbies",{...S,createdAt:new Date},!1);e(C=>[k,...C])},d=async(S,k)=>{if(!n)return;const C={...k,id:S},N=await en(n,"hobbies",C,!0);e(R=>R.map(D=>D.id===S?{...D,...N}:D))},f=async S=>{n&&window.confirm("Delete this hobby?")&&(await aa(n,"hobbies",S),e(k=>k.filter(C=>C.id!==S)))},p=(S=null)=>l({isOpen:!0,data:S}),g=()=>l({isOpen:!1,data:null}),v=S=>{a.data?.id?d(a.data.id,S):c(S)},b=_.useMemo(()=>{const S={};return[...new Set(t.map(C=>C.category||"General"))].sort().forEach(C=>{S[C]=t.filter(N=>(N.category||"General")===C)}),S},[t]),T=_.useMemo(()=>[...new Set(t.map(S=>S.category).filter(Boolean))],[t]);return m.jsxs("div",{className:"pb-20",children:[m.jsxs("div",{className:"flex justify-between items-end mb-10",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-black text-pink-600 dark:text-pink-400",children:"My Hobbies"}),m.jsx("p",{className:"text-neutral-500 font-bold mt-1",children:"Passions & Pastimes"})]}),m.jsxs("button",{onClick:()=>p(),className:"px-5 py-2.5 bg-pink-500 hover:bg-pink-600 text-white font-bold rounded-xl shadow-lg shadow-pink-500/30 flex items-center gap-2 transition-all",children:[m.jsx(Gn,{className:"w-5 h-5"})," Add Hobby"]})]}),Object.entries(b).map(([S,k])=>{if(k.length===0)return null;const C=kg[S]||kg.General;return m.jsxs("div",{className:"mb-10",children:[m.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-pink-600 dark:text-pink-300",children:[m.jsx(C,{className:"w-6 h-6"})," ",S]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5",children:k.map(N=>m.jsx(Ibe,{hobby:N,onUpdate:d,onDelete:f,onEdit:()=>p(N)},N.id))})]},S)}),t.length===0&&!i&&m.jsxs("div",{className:"text-center py-20 opacity-50",children:[m.jsx(Gc,{className:"w-16 h-16 mx-auto mb-4 text-neutral-400"}),m.jsx("p",{className:"text-xl font-bold text-neutral-500",children:"No hobbies added yet."})]}),m.jsx(Wt,{children:a.isOpen&&m.jsx(Dbe,{isOpen:a.isOpen,onClose:g,onSave:v,initialData:a.data,existingCategories:T})})]})}const RN={Trophy:oa,Award:l$,BookOpen:xc,Code:Bw,Dumbbell:n0,Flag:dg,Heart:Gc,Star:Si,Zap:Wi,Target:sa},Rbe=({achievement:t,onUpdate:e,onDelete:n,onEdit:r})=>{const[i,s]=_.useState(!1),a=RN[t.icon]||oa,l=Kf[t.color]||Kf.green,c=f=>{e(t.id,{color:f}),s(!1)},d={"--glow-c1":l.glowColors.c1,"--glow-c2":l.glowColors.c2,"--glow-c3":l.glowColors.c3};return m.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Math.random()*.2},style:d,className:"showcase-glow hall-of-fame-content group relative bg-white dark:bg-neutral-800/60 rounded-xl p-6 h-full flex flex-col justify-center items-center text-center border border-neutral-200 dark:border-neutral-700/50 backdrop-blur-sm",children:[m.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-20",children:[m.jsx("button",{onClick:()=>s(!i),className:"p-1 hover:bg-black/5 dark:hover:bg-white/10 rounded-full",children:m.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-sky-300 to-violet-300"})}),m.jsx("button",{onClick:r,className:"text-neutral-400 hover:text-green-500 transition-colors",children:m.jsx(Zr,{className:"w-4 h-4"})}),m.jsx("button",{onClick:n,className:"text-neutral-400 hover:text-red-500 transition-colors",children:m.jsx(ei,{className:"w-4 h-4"})})]}),i&&m.jsx(Xe.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"absolute top-10 right-2 z-30 bg-white dark:bg-neutral-900 p-2 rounded-lg shadow-xl border border-neutral-200 dark:border-neutral-700 flex gap-2",children:Object.keys(Kf).map(f=>m.jsx("button",{onClick:()=>c(f),children:m.jsx("div",{className:`w-5 h-5 rounded-full ${Kf[f].text.replace("text","bg")}`})},f))}),m.jsx("div",{className:"mb-4 p-4 rounded-full bg-neutral-50 dark:bg-neutral-800/50",children:m.jsx(a,{className:`w-12 h-12 transition-colors ${l.text}`})}),m.jsx("h3",{className:`font-bold text-xl mb-1 transition-colors ${l.text}`,children:t.title}),m.jsx("p",{className:"text-sm font-semibold text-neutral-500 dark:text-neutral-400 mb-4",children:t.date}),t.comment&&m.jsx("div",{className:"mt-2 w-full",children:m.jsxs("p",{style:{fontFamily:"'Caveat', cursive"},className:"text-xl text-neutral-600 dark:text-neutral-300 opacity-90 leading-tight",children:['"',t.comment,'"']})})]})},Lbe=({achievement:t,onEdit:e,onDelete:n})=>{const r=RN[t.icon]||sa;return m.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Math.random()*.2},className:"group relative border-2 border-dashed border-neutral-300 dark:border-neutral-700 rounded-xl p-6 h-full flex flex-col justify-center items-center text-center hover:border-sky-300 dark:hover:border-sky-700 transition-colors bg-white/30 dark:bg-neutral-900/30",children:[m.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:e,children:m.jsx(Zr,{className:"w-4 h-4 text-neutral-400 hover:text-green-500"})}),m.jsx("button",{onClick:n,children:m.jsx(ei,{className:"w-4 h-4 text-neutral-400 hover:text-red-500"})})]}),m.jsx(r,{className:"w-10 h-10 text-neutral-300 dark:text-neutral-600 mb-3 group-hover:text-sky-400 transition-colors"}),m.jsx("h3",{className:"font-semibold text-neutral-500 dark:text-neutral-400 group-hover:text-sky-600 dark:group-hover:text-sky-300 transition-colors",children:t.title}),m.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"Future Goal"})]})},Vbe=({initialData:t,onClose:e,onSave:n})=>{const[r,i]=_.useState({title:t?.title||"",date:t?.date||new Date().toISOString().split("T")[0],type:t?.type||"earned",icon:t?.icon||"Trophy",color:t?.color||"green",comment:t?.comment||""}),s=c=>{const{name:d,value:f}=c.target;i(p=>({...p,[d]:f}))},a=()=>{r.title.trim()&&n(r)},l="w-full p-2 bg-black/5 dark:bg-white/5 rounded-md border border-black/5 dark:border-white/10 backdrop-blur-sm focus:ring-2 focus:ring-emerald-400 focus:outline-none";return m.jsx(Ds,{onClose:e,children:m.jsx(rl,{title:t?"Edit Achievement":"Add Achievement",theme:"emerald",onClose:e,onSave:a,children:m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{type:"text",name:"title",placeholder:"Achievement Title",value:r.title,onChange:s,className:l,autoFocus:!0}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("select",{name:"type",value:r.type,onChange:s,className:l,children:[m.jsx("option",{value:"earned",children:"Earned"}),m.jsx("option",{value:"planned",children:"Planned"})]}),m.jsx(h$,{value:r.icon,onChange:c=>i(d=>({...d,icon:c})),iconMap:RN})]}),r.type==="earned"&&m.jsx("input",{type:"date",name:"date",value:r.date,onChange:s,className:l}),m.jsx("textarea",{name:"comment",placeholder:"Add a personal comment...",value:r.comment,onChange:s,rows:"3",className:`${l} resize-none`}),r.type==="earned"&&m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-emerald-600/70 dark:text-emerald-400/70 uppercase tracking-wider mb-2 block",children:"Theme Color"}),m.jsx("div",{className:"flex items-center justify-around bg-black/5 dark:bg-white/5 p-2 rounded-lg",children:Object.keys(Kf).map(c=>m.jsx("button",{onClick:()=>i(d=>({...d,color:c})),className:`w-6 h-6 rounded-full transition-transform ${r.color===c?"scale-125 ring-2 ring-offset-2 ring-emerald-500":"hover:scale-110"}`,children:m.jsx("div",{className:`w-full h-full rounded-full ${Kf[c].text.replace("text","bg")}`})},c))})]})]})})})};function Bbe(){const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!0),[a,l]=_.useState({isOpen:!1,data:null});_.useEffect(()=>{const b=Is(),T=js(b,async S=>{if(S){r(S.uid),s(!0);const k=await Os(S.uid,"achievements");e(k),s(!1)}else r(null),e([]),s(!1)});return()=>T()},[]);const c=async b=>{if(!n)return;const T=await en(n,"achievements",{...b,createdAt:new Date},!1);e(S=>[T,...S])},d=async(b,T)=>{if(!n)return;const S={...T,id:b},k=await en(n,"achievements",S,!0);e(C=>C.map(N=>N.id===b?{...N,...k}:N))},f=async b=>{n&&window.confirm("Delete this achievement?")&&(await aa(n,"achievements",b),e(T=>T.filter(S=>S.id!==b)))},p=b=>{a.data?.id?d(a.data.id,b):c(b),l({isOpen:!1,data:null})},g=t.filter(b=>b.type==="earned").sort((b,T)=>new Date(T.date)-new Date(b.date)),v=t.filter(b=>b.type==="planned");return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(oa,{className:"w-8 h-8 text-emerald-500"}),m.jsx("h2",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:"Showcase"})]}),m.jsxs("button",{onClick:()=>l({isOpen:!0,data:null}),className:"px-4 py-2 bg-emerald-500 text-white font-semibold rounded-lg flex items-center gap-2 hover:bg-emerald-600 transition-colors shadow-lg shadow-emerald-500/30",children:[m.jsx(Gn,{className:"w-5 h-5"})," Add Achievement"]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.jsx(Wt,{children:g.map(b=>m.jsx(Rbe,{achievement:b,onUpdate:d,onDelete:()=>f(b.id),onEdit:()=>l({isOpen:!0,data:b})},b.id))})}),v.length>0&&m.jsxs("div",{className:"mt-16",children:[m.jsxs("h2",{className:"text-2xl font-bold mb-6 text-sky-600 dark:text-sky-400 flex items-center gap-2",children:[m.jsx(sa,{className:"w-6 h-6"})," Future Conquests"]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.jsx(Wt,{children:v.map(b=>m.jsx(Lbe,{achievement:b,onEdit:()=>l({isOpen:!0,data:b}),onDelete:()=>f(b.id)},b.id))})})]}),m.jsx(Wt,{children:a.isOpen&&m.jsx(Vbe,{initialData:a.data,onClose:()=>l({isOpen:!1,data:null}),onSave:p})})]})}const zbe=({onEdit:t,onDelete:e,link:n})=>{const[r,i]=_.useState(!1);return m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>i(!r),className:"p-1.5 rounded-full bg-black/10 hover:bg-black/20 dark:bg-white/10 dark:hover:bg-white/20 backdrop-blur-md transition-colors",children:m.jsx(t0,{className:"w-4 h-4 text-neutral-600 dark:text-neutral-300"})}),m.jsx(Wt,{children:r&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),m.jsxs(Xe.div,{initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},className:"absolute right-0 mt-2 w-40 bg-white dark:bg-neutral-800 rounded-xl shadow-xl border border-neutral-200 dark:border-neutral-700 z-20 overflow-hidden",children:[m.jsxs("button",{onClick:t,className:"w-full text-left flex items-center gap-3 px-4 py-3 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-700/50 transition-colors",children:[m.jsx(Zr,{className:"w-4 h-4 text-blue-500"})," Edit"]}),n&&m.jsxs("a",{href:r$(n),target:"_blank",rel:"noopener noreferrer",className:"w-full text-left flex items-center gap-3 px-4 py-3 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-700/50 transition-colors",children:[m.jsx(f$,{className:"w-4 h-4 text-sky-500"})," View Link"]}),m.jsx("div",{className:"h-px bg-neutral-100 dark:bg-neutral-700"}),m.jsxs("button",{onClick:e,className:"w-full text-left flex items-center gap-3 px-4 py-3 text-sm text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[m.jsx(ei,{className:"w-4 h-4"})," Delete"]})]})]})})]})},Ube=({book:t,onUpdate:e,onDelete:n,onEdit:r})=>{const i=t.hallOfFame,s=t.progress||0,a={bg:i?"hof-bg-sky":"bg-sky-50 dark:bg-sky-900/20",border:i?"border-amber-400/30":"border-sky-100 dark:border-sky-800/30",text:i?"text-sky-800 dark:text-sky-100":"text-neutral-800 dark:text-neutral-100",subtext:i?"text-sky-600 dark:text-sky-300":"text-neutral-500",tag:i?"bg-sky-200/50 text-sky-800":"bg-sky-100 dark:bg-sky-900/50 text-sky-600 dark:text-sky-300"},l=c=>{const d=parseInt(c),f={progress:d};d===100?(f.status="finished",f.completedAt=new Date):t.status!=="reading"&&(f.status="reading",f.startedAt=t.startedAt||new Date),e(t.id,f)};return m.jsx(Xe.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:`relative p-4 rounded-2xl border backdrop-blur-sm transition-all hover:shadow-md ${a.bg} ${a.border} ${i?"hof-glow-sky shadow-lg":""}`,children:m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:`w-20 h-28 shrink-0 rounded-lg shadow-sm flex items-center justify-center p-2 text-center text-xs font-bold leading-tight break-words overflow-hidden ${i?"bg-gradient-to-br from-sky-200 to-white":"bg-white dark:bg-neutral-800 text-neutral-400"}`,children:Uce(t.title,30)}),m.jsxs("div",{className:"flex-grow min-w-0 flex flex-col justify-between",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("h4",{className:`font-bold text-lg leading-tight mb-1 truncate ${a.text}`,title:t.title,children:t.title}),m.jsx(zbe,{onEdit:()=>r(t),onDelete:()=>n(t.id),link:t.link})]}),m.jsx("p",{className:`text-sm ${a.subtext}`,children:t.author}),m.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(t.tags||[]).map((c,d)=>m.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-medium ${a.tag}`,children:c},d))})]}),m.jsx("div",{className:"mt-3",children:t.status==="finished"?m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex text-amber-400",children:[1,2,3,4,5].map(c=>m.jsx("button",{onClick:()=>e(t.id,{rating:c}),children:m.jsx(Si,{className:`w-4 h-4 ${t.rating>=c?"fill-current":"text-neutral-300 dark:text-neutral-600"}`})},c))}),m.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${i?"bg-amber-100 text-amber-600":"bg-green-100 dark:bg-green-900/30 text-green-600"}`,children:"Finished"})]}):m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex justify-between text-xs font-semibold text-sky-500",children:[m.jsx("span",{children:t.pageCount?`${Math.round(s/100*t.pageCount)} / ${t.pageCount} pgs`:`${s}%`}),t.status==="planned"&&m.jsx("span",{className:"text-neutral-400",children:"Planned"})]}),m.jsx("input",{type:"range",min:"0",max:"100",value:s,onChange:c=>l(c.target.value),className:"w-full h-1.5 bg-sky-200 dark:bg-sky-900 rounded-full appearance-none cursor-pointer accent-sky-500"})]})})]})]})})},Fbe=({isOpen:t,onClose:e,onSave:n,initialData:r})=>{const[i,s]=_.useState({title:"",author:"",pageCount:"",link:"",tags:"",status:"planned",hallOfFame:!1,...r}),a=()=>{i.title.trim()&&(n({...i,tags:Array.isArray(i.tags)?i.tags:i.tags.split(",").map(l=>l.trim()).filter(Boolean),pageCount:Number(i.pageCount)}),e())};return m.jsx(Ds,{onClose:e,children:m.jsx(rl,{title:r?"Edit Book":"Add New Book",theme:"sky",onClose:e,onSave:a,children:m.jsxs("div",{className:"space-y-3",children:[m.jsx(Et,{placeholder:"Title",value:i.title,onChange:l=>s({...i,title:l.target.value}),autoFocus:!0}),m.jsx(Et,{placeholder:"Author",value:i.author,onChange:l=>s({...i,author:l.target.value})}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsx(Et,{type:"number",placeholder:"Pages",value:i.pageCount,onChange:l=>s({...i,pageCount:l.target.value})}),m.jsxs("select",{value:i.status,onChange:l=>s({...i,status:l.target.value}),className:"w-full p-2 bg-black/5 dark:bg-white/5 rounded-md backdrop-blur-sm focus:ring-2 focus:ring-sky-400 focus:outline-none",children:[m.jsx("option",{value:"planned",children:"Planned"}),m.jsx("option",{value:"reading",children:"Reading"}),m.jsx("option",{value:"finished",children:"Finished"})]})]}),m.jsx(Et,{placeholder:"URL / Link (Optional)",value:i.link,onChange:l=>s({...i,link:l.target.value})}),m.jsx(Et,{placeholder:"Tags (comma-separated)",value:Array.isArray(i.tags)?i.tags.join(", "):i.tags,onChange:l=>s({...i,tags:l.target.value})}),m.jsx(r0,{isHOF:i.hallOfFame,onToggle:()=>s({...i,hallOfFame:!i.hallOfFame}),theme:"sky"})]})})})};function $be(){const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!0),[a,l]=_.useState({isOpen:!1,data:null});_.useEffect(()=>{const k=Is(),C=js(k,async N=>{if(N){r(N.uid),s(!0);const R=await Os(N.uid,"books");e(R),s(!1)}else r(null),e([]),s(!1)});return()=>C()},[]);const c=async k=>{if(!n)return;const C=await en(n,"books",{...k,progress:0,rating:0,createdAt:new Date},!1);e(N=>[C,...N])},d=async(k,C)=>{if(!n)return;const N={...C,id:k},R=await en(n,"books",N,!0);e(D=>D.map(z=>z.id===k?{...z,...R}:z))},f=async k=>{n&&window.confirm("Delete this book?")&&(await aa(n,"books",k),e(C=>C.filter(N=>N.id!==k)))},p=(k=null)=>l({isOpen:!0,data:k}),g=()=>l({isOpen:!1,data:null}),v=k=>{a.data?.id?d(a.data.id,k):c(k)},b=_.useMemo(()=>({reading:t.filter(k=>k.status==="reading"&&!k.hallOfFame),planned:t.filter(k=>k.status==="planned"&&!k.hallOfFame),finished:t.filter(k=>k.status==="finished"&&!k.hallOfFame),hallOfFame:t.filter(k=>k.hallOfFame)}),[t]),T=_.useMemo(()=>{const k=t.filter(C=>C.status==="finished");return{count:k.length,pages:k.reduce((C,N)=>C+(Number(N.pageCount)||0),0)}},[t]),S=(k,C,N=!1)=>C.length>0&&m.jsxs("div",{className:"mb-8",children:[m.jsxs("h3",{className:`text-xl font-bold mb-4 flex items-center gap-2 ${N?"text-amber-500":"text-neutral-600 dark:text-neutral-300"}`,children:[N&&m.jsx(oa,{className:"w-6 h-6"})," ",k]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5",children:C.map(R=>m.jsx(Ube,{book:R,onUpdate:d,onDelete:f,onEdit:()=>p(R)},R.id))})]});return m.jsxs("div",{className:"pb-20",children:[m.jsxs("div",{className:"flex flex-wrap justify-between items-end mb-10 gap-4",children:[m.jsxs("div",{className:"flex gap-8 md:gap-12",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-4xl font-bold text-sky-600 dark:text-sky-400",children:T.pages.toLocaleString()}),m.jsx("p",{className:"text-sm font-semibold text-neutral-400 uppercase tracking-wide",children:"Pages Read"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-4xl font-bold text-sky-600 dark:text-sky-400",children:T.count}),m.jsx("p",{className:"text-sm font-semibold text-neutral-400 uppercase tracking-wide",children:"Books Finished"})]})]}),m.jsxs("button",{onClick:()=>p(),className:"px-5 py-2.5 bg-sky-500 hover:bg-sky-600 text-white font-bold rounded-xl shadow-lg shadow-sky-500/30 flex items-center gap-2 transition-all",children:[m.jsx(Gn,{className:"w-5 h-5"})," Add Book"]})]}),S("Currently Reading",b.reading),S("Hall of Fame",b.hallOfFame,!0),S("Planned",b.planned),S("Finished Books",b.finished),t.length===0&&m.jsxs("div",{className:"text-center py-20 opacity-50",children:[m.jsx(xc,{className:"w-16 h-16 mx-auto mb-4 text-neutral-400"}),m.jsx("p",{className:"text-xl font-bold text-neutral-500",children:"Your library is empty."}),m.jsx("p",{className:"text-sm",children:"Start by adding a book you want to read."})]}),m.jsx(Wt,{children:a.isOpen&&m.jsx(Fbe,{isOpen:a.isOpen,onClose:g,onSave:v,initialData:a.data})})]})}const Hbe=({onEdit:t,onDelete:e,link:n})=>{const[r,i]=_.useState(!1);return m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>i(!r),className:"p-1.5 rounded-full bg-black/10 hover:bg-black/20 dark:bg-white/10 dark:hover:bg-white/20 backdrop-blur-md transition-colors",children:m.jsx(t0,{className:"w-4 h-4 text-neutral-600 dark:text-neutral-300"})}),m.jsx(Wt,{children:r&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),m.jsxs(Xe.div,{initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},className:"absolute right-0 mt-2 w-40 bg-white dark:bg-neutral-800 rounded-xl shadow-xl border border-neutral-200 dark:border-neutral-700 z-20 overflow-hidden",children:[m.jsxs("button",{onClick:t,className:"w-full text-left flex items-center gap-3 px-4 py-3 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-700/50 transition-colors",children:[m.jsx(Zr,{className:"w-4 h-4 text-teal-500"})," Edit"]}),n&&m.jsxs("a",{href:r$(n),target:"_blank",rel:"noopener noreferrer",className:"w-full text-left flex items-center gap-3 px-4 py-3 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-700/50 transition-colors",children:[m.jsx(f$,{className:"w-4 h-4 text-teal-500"})," View Link"]}),m.jsx("div",{className:"h-px bg-neutral-100 dark:bg-neutral-700"}),m.jsxs("button",{onClick:e,className:"w-full text-left flex items-center gap-3 px-4 py-3 text-sm text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[m.jsx(ei,{className:"w-4 h-4"})," Delete"]})]})]})})]})},qbe=({thesis:t,onUpdate:e,onDelete:n,onEdit:r})=>{const i=t.hallOfFame,s=t.progress||0,a={bg:i?"hof-bg-teal":"bg-teal-50 dark:bg-teal-900/20",border:i?"border-teal-400/30":"border-teal-100 dark:border-teal-800/30",text:i?"text-teal-900 dark:text-teal-100":"text-neutral-800 dark:text-neutral-100",subtext:i?"text-teal-700 dark:text-teal-300":"text-neutral-500",tag:i?"bg-teal-200/50 text-teal-800":"bg-teal-100 dark:bg-teal-900/50 text-teal-700 dark:text-teal-300"},l=c=>{const d=parseInt(c),f={progress:d};d===100?(f.status="finished",f.completedAt=new Date):t.status!=="reading"&&(f.status="reading"),e(t.id,f)};return m.jsx(Xe.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:`relative p-5 rounded-2xl border backdrop-blur-sm transition-all hover:shadow-md ${a.bg} ${a.border} ${i?"hof-glow-teal shadow-lg":""}`,children:m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:`w-16 h-16 shrink-0 rounded-xl shadow-sm flex items-center justify-center ${i?"bg-gradient-to-br from-teal-200 to-white":"bg-white dark:bg-neutral-800"}`,children:m.jsx(vh,{className:`w-8 h-8 ${i?"text-teal-600":"text-teal-500 dark:text-teal-400"}`})}),m.jsxs("div",{className:"flex-grow min-w-0 flex flex-col justify-between",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("h4",{className:`font-bold text-lg leading-tight mb-1 truncate ${a.text}`,title:t.title,children:t.title}),m.jsx(Hbe,{onEdit:()=>r(t),onDelete:()=>n(t.id),link:t.link})]}),m.jsxs("p",{className:`text-sm ${a.subtext}`,children:["Supervisor: ",t.author]}),m.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(t.tags||[]).map((c,d)=>m.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-medium ${a.tag}`,children:c},d))})]}),m.jsx("div",{className:"mt-4",children:t.status==="finished"?m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex text-amber-400",children:[1,2,3,4,5].map(c=>m.jsx("button",{onClick:()=>e(t.id,{rating:c}),children:m.jsx(Si,{className:`w-4 h-4 ${t.rating>=c?"fill-current":"text-neutral-300 dark:text-neutral-600"}`})},c))}),m.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${i?"bg-teal-100 text-teal-700":"bg-green-100 dark:bg-green-900/30 text-green-600"}`,children:"Completed"})]}):m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex justify-between text-xs font-semibold text-teal-600 dark:text-teal-400",children:[m.jsxs("span",{children:[s,"% Complete"]}),t.status==="planned"&&m.jsx("span",{className:"text-neutral-400",children:"Planned"})]}),m.jsx("input",{type:"range",min:"0",max:"100",value:s,onChange:c=>l(c.target.value),className:"w-full h-1.5 bg-teal-200 dark:bg-teal-900 rounded-full appearance-none cursor-pointer accent-teal-500"})]})})]})]})})},Wbe=({isOpen:t,onClose:e,onSave:n,initialData:r})=>{const[i,s]=_.useState({title:"",author:"",pageCount:"",link:"",tags:"",status:"planned",hallOfFame:!1,...r}),a=()=>{i.title.trim()&&(n({...i,tags:Array.isArray(i.tags)?i.tags:i.tags.split(",").map(l=>l.trim()).filter(Boolean),pageCount:Number(i.pageCount)}),e())};return m.jsx(Ds,{onClose:e,children:m.jsx(rl,{title:r?"Edit Thesis":"Add New Thesis",theme:"teal",onClose:e,onSave:a,children:m.jsxs("div",{className:"space-y-3",children:[m.jsx(Et,{placeholder:"Title / Topic",value:i.title,onChange:l=>s({...i,title:l.target.value}),autoFocus:!0}),m.jsx(Et,{placeholder:"Supervisor / Author",value:i.author,onChange:l=>s({...i,author:l.target.value})}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsx(Et,{type:"number",placeholder:"Est. Pages",value:i.pageCount,onChange:l=>s({...i,pageCount:l.target.value})}),m.jsxs("select",{value:i.status,onChange:l=>s({...i,status:l.target.value}),className:"w-full p-2 bg-black/5 dark:bg-white/5 rounded-md backdrop-blur-sm focus:ring-2 focus:ring-teal-400 focus:outline-none",children:[m.jsx("option",{value:"planned",children:"Planned"}),m.jsx("option",{value:"reading",children:"In Progress"}),m.jsx("option",{value:"finished",children:"Finished"})]})]}),m.jsx(Et,{placeholder:"Link to Paper (URL)",value:i.link,onChange:l=>s({...i,link:l.target.value})}),m.jsx(Et,{placeholder:"Tags (e.g. CS, AI)",value:Array.isArray(i.tags)?i.tags.join(", "):i.tags,onChange:l=>s({...i,tags:l.target.value})}),m.jsx(r0,{isHOF:i.hallOfFame,onToggle:()=>s({...i,hallOfFame:!i.hallOfFame}),theme:"teal"})]})})})};function Gbe(){const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!0),[a,l]=_.useState({isOpen:!1,data:null});_.useEffect(()=>{const k=Is(),C=js(k,async N=>{if(N){r(N.uid),s(!0);const R=await Os(N.uid,"theses");e(R),s(!1)}else r(null),e([]),s(!1)});return()=>C()},[]);const c=async k=>{if(!n)return;const C=await en(n,"theses",{...k,progress:0,rating:0,createdAt:new Date},!1);e(N=>[C,...N])},d=async(k,C)=>{if(!n)return;const N={...C,id:k},R=await en(n,"theses",N,!0);e(D=>D.map(z=>z.id===k?{...z,...R}:z))},f=async k=>{n&&window.confirm("Delete this thesis?")&&(await aa(n,"theses",k),e(C=>C.filter(N=>N.id!==k)))},p=(k=null)=>l({isOpen:!0,data:k}),g=()=>l({isOpen:!1,data:null}),v=k=>{a.data?.id?d(a.data.id,k):c(k)},b=_.useMemo(()=>({reading:t.filter(k=>k.status==="reading"&&!k.hallOfFame),planned:t.filter(k=>k.status==="planned"&&!k.hallOfFame),finished:t.filter(k=>k.status==="finished"&&!k.hallOfFame),hallOfFame:t.filter(k=>k.hallOfFame)}),[t]),T=_.useMemo(()=>{const k=t.filter(C=>C.status==="finished");return{count:k.length,pages:k.reduce((C,N)=>C+(Number(N.pageCount)||0),0)}},[t]),S=(k,C,N=!1)=>C.length>0&&m.jsxs("div",{className:"mb-8",children:[m.jsxs("h3",{className:`text-xl font-bold mb-4 flex items-center gap-2 ${N?"text-teal-600 dark:text-teal-400":"text-neutral-600 dark:text-neutral-300"}`,children:[N&&m.jsx(oa,{className:"w-6 h-6"})," ",k]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5",children:C.map(R=>m.jsx(qbe,{thesis:R,onUpdate:d,onDelete:f,onEdit:()=>p(R)},R.id))})]});return m.jsxs("div",{className:"pb-20",children:[m.jsxs("div",{className:"flex flex-wrap justify-between items-end mb-10 gap-4",children:[m.jsxs("div",{className:"flex gap-8 md:gap-12",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-4xl font-bold text-teal-600 dark:text-teal-400",children:T.count}),m.jsx("p",{className:"text-sm font-semibold text-neutral-400 uppercase tracking-wide",children:"Theses Read"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-4xl font-bold text-teal-600 dark:text-teal-400",children:T.pages.toLocaleString()}),m.jsx("p",{className:"text-sm font-semibold text-neutral-400 uppercase tracking-wide",children:"Total Pages"})]})]}),m.jsxs("button",{onClick:()=>p(),className:"px-5 py-2.5 bg-teal-500 hover:bg-teal-600 text-white font-bold rounded-xl shadow-lg shadow-teal-500/30 flex items-center gap-2 transition-all",children:[m.jsx(Gn,{className:"w-5 h-5"})," Add Thesis"]})]}),S("In Progress",b.reading),S("Hall of Fame",b.hallOfFame,!0),S("Planned",b.planned),S("Finished",b.finished),t.length===0&&m.jsxs("div",{className:"text-center py-20 opacity-50",children:[m.jsx(vh,{className:"w-16 h-16 mx-auto mb-4 text-neutral-400"}),m.jsx("p",{className:"text-xl font-bold text-neutral-500",children:"No theses added."}),m.jsx("p",{className:"text-sm",children:"Track your academic reading here."})]}),m.jsx(Wt,{children:a.isOpen&&m.jsx(Wbe,{isOpen:a.isOpen,onClose:g,onSave:v,initialData:a.data})})]})}const Kbe=({item:t,onUpdate:e,onDelete:n,onEdit:r,config:i,theme:s="slate"})=>{const a=t.hallOfFame,l=t[i.primaryField.toLowerCase()],c={slate:{bg:a?"hof-bg-slate":"bg-slate-50 dark:bg-slate-800/40",border:a?"border-slate-400/30":"border-slate-200 dark:border-slate-700",text:a?"text-slate-800 dark:text-slate-200":"text-neutral-800 dark:text-neutral-200",subtext:a?"text-slate-600 dark:text-slate-400":"text-neutral-500",icon:a?"text-slate-500":"text-slate-300 dark:text-slate-600",glow:"hof-glow-slate",tag:a?"bg-slate-200/50 text-slate-700":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300"},violet:{bg:a?"hof-bg-violet":"bg-violet-50 dark:bg-violet-900/20",border:a?"border-violet-400/30":"border-violet-100 dark:border-violet-800/30",text:a?"text-violet-900 dark:text-violet-100":"text-neutral-800 dark:text-neutral-200",subtext:a?"text-violet-700 dark:text-violet-300":"text-neutral-500",icon:a?"text-violet-500":"text-violet-300 dark:text-violet-600",glow:"hof-glow-violet",tag:a?"bg-violet-200/50 text-violet-800":"bg-violet-100 dark:bg-violet-900/50 text-violet-600 dark:text-violet-300"}},d=c[s]||c.slate;return m.jsx(Xe.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:`relative p-4 rounded-xl border backdrop-blur-sm transition-all hover:shadow-md group ${d.bg} ${d.border} ${a?`${d.glow} shadow-lg`:""}`,children:m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:`shrink-0 w-16 h-16 rounded-lg flex items-center justify-center ${a?"bg-white/50 dark:bg-black/20":"bg-white dark:bg-neutral-800"}`,children:Cs.cloneElement(i.mediaIcon,{className:`w-8 h-8 ${d.icon}`})}),m.jsxs("div",{className:"flex-grow min-w-0 flex flex-col justify-between",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("h4",{className:`font-bold text-lg leading-tight truncate pr-6 ${d.text}`,title:t.title,children:t.title}),m.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity",children:m.jsx(Ybe,{onEdit:()=>r(t),onDelete:()=>n(t.id)})})]}),m.jsx("p",{className:`text-sm ${d.subtext}`,children:l})]}),m.jsxs("div",{className:"mt-2 flex items-end justify-between",children:[m.jsx("div",{className:"flex flex-wrap gap-1",children:(t.tags||[]).map((f,p)=>m.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-medium ${d.tag}`,children:f},p))}),m.jsxs("div",{className:"flex items-center gap-2",children:[i.hasLength&&t.length>0&&m.jsxs("span",{className:"text-[10px] font-mono text-neutral-400",children:[t.length,"m"]}),!a&&m.jsx("div",{className:"flex",children:[1,2,3,4,5].map(f=>m.jsx("button",{onClick:()=>e(t.id,{rating:f,status:i.watchedStatus}),className:"focus:outline-none transition-transform hover:scale-110",children:m.jsx(Si,{className:`w-4 h-4 ${t.rating>=f?"text-amber-400 fill-current":"text-neutral-300 dark:text-neutral-600"}`})},f))}),t.status==="planned"&&m.jsx("button",{onClick:()=>e(t.id,{status:i.watchedStatus,watchedDate:new Date().toISOString().split("T")[0]}),className:"text-xs font-bold px-2 py-1 rounded-md bg-neutral-200 dark:bg-neutral-700 hover:bg-green-100 dark:hover:bg-green-900 hover:text-green-600 transition-colors",children:"Mark Done"})]})]})]})]})})},Ybe=({onEdit:t,onDelete:e})=>{const[n,r]=_.useState(!1);return m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>r(!n),className:"p-1 rounded-full bg-black/5 hover:bg-black/10 dark:bg-white/10 dark:hover:bg-white/20",children:m.jsx(t0,{className:"w-4 h-4 text-neutral-500 dark:text-neutral-300"})}),m.jsx(Wt,{children:n&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>r(!1)}),m.jsxs(Xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"absolute right-0 mt-1 w-32 bg-white dark:bg-neutral-800 rounded-lg shadow-xl border border-neutral-200 dark:border-neutral-700 z-20 overflow-hidden",children:[m.jsxs("button",{onClick:t,className:"w-full text-left flex items-center gap-2 px-3 py-2 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-700",children:[m.jsx(Zr,{className:"w-3 h-3"})," Edit"]}),m.jsxs("button",{onClick:e,className:"w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:[m.jsx(ei,{className:"w-3 h-3"})," Delete"]})]})]})})]})},Xbe=({isOpen:t,onClose:e,onSave:n,initialData:r,config:i,theme:s})=>{const[a,l]=_.useState({title:"",tags:"",status:"planned",hallOfFame:!1,rating:0,...r}),c=f=>{const{name:p,value:g,type:v,checked:b}=f.target;l(T=>({...T,[p]:v==="checkbox"?b:g}))},d=()=>{a.title.trim()&&(n({...a,tags:Array.isArray(a.tags)?a.tags:a.tags.split(",").map(f=>f.trim()).filter(Boolean),length:a.length?parseInt(a.length):0,[i.primaryField.toLowerCase()]:a[i.primaryField.toLowerCase()]}),e())};return m.jsx(Ds,{onClose:e,children:m.jsx(rl,{title:r?`Edit ${i.type}`:`Add New ${i.type}`,theme:s,onClose:e,onSave:d,children:m.jsxs("div",{className:"space-y-3",children:[m.jsx(Et,{name:"title",placeholder:"Title",value:a.title,onChange:c,autoFocus:!0}),m.jsx(Et,{name:i.primaryField.toLowerCase(),placeholder:i.primaryField,value:a[i.primaryField.toLowerCase()]||"",onChange:c}),i.hasLength&&m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsx(Et,{type:"number",name:"length",placeholder:"Length (mins)",value:a.length||"",onChange:c}),a.status===i.watchedStatus&&m.jsx(Et,{type:"date",name:"watchedDate",value:a.watchedDate||"",onChange:c})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("select",{name:"status",value:a.status,onChange:c,className:"w-full p-2 bg-black/5 dark:bg-white/5 rounded-md backdrop-blur-sm focus:ring-2 focus:outline-none",children:[m.jsx("option",{value:"planned",children:"Planned"}),m.jsx("option",{value:i.watchedStatus,children:i.watchedStatus==="watched"?"Watched":"Listened"})]}),m.jsx(Et,{name:"tags",placeholder:"Tags (comma-separated)",value:Array.isArray(a.tags)?a.tags.join(", "):a.tags,onChange:c})]}),m.jsx(r0,{isHOF:a.hallOfFame,onToggle:()=>l(f=>({...f,hallOfFame:!f.hallOfFame})),theme:s})]})})})},E7=({items:t,onAdd:e,onUpdate:n,onDelete:r,config:i,theme:s})=>{const[a,l]=_.useState({isOpen:!1,data:null}),c=(k=null)=>l({isOpen:!0,data:k}),d=()=>l({isOpen:!1,data:null}),f=k=>{a.data?.id?n(a.data.id,k):e({...k,rating:0,createdAt:new Date})},p=t.filter(k=>k.status==="planned"&&!k.hallOfFame),g=t.filter(k=>k.status===i.watchedStatus&&!k.hallOfFame),v=t.filter(k=>k.hallOfFame),b=g.length+v.length,T=i.hasLength?Math.round([...g,...v].reduce((k,C)=>k+(C.length||0),0)/60):0,S=(k,C,N=!1)=>C.length>0&&m.jsxs("div",{className:"mb-8",children:[m.jsxs("h3",{className:`text-xl font-bold mb-4 flex items-center gap-2 ${N?"text-amber-500":"text-neutral-600 dark:text-neutral-300"}`,children:[N&&m.jsx(oa,{className:"w-5 h-5"})," ",k]}),m.jsx("div",{className:`grid gap-4 ${i.type==="Album/Song"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1 md:grid-cols-2 xl:grid-cols-3"}`,children:C.map(R=>m.jsx(Kbe,{item:R,onUpdate:n,onDelete:r,onEdit:()=>c(R),config:i,theme:s},R.id))})]});return m.jsxs("div",{className:"pb-20",children:[m.jsxs("div",{className:"flex flex-wrap justify-between items-end mb-10 gap-4",children:[m.jsxs("div",{className:"flex gap-8",children:[m.jsxs("div",{children:[m.jsx("p",{className:`text-4xl font-bold ${s==="violet"?"text-violet-600 dark:text-violet-400":"text-slate-600 dark:text-slate-400"}`,children:b}),m.jsxs("p",{className:"text-sm font-semibold text-neutral-400 uppercase tracking-wide",children:["Total ",i.watchedStatus==="watched"?"Watched":"Listened"]})]}),i.hasLength&&m.jsxs("div",{children:[m.jsxs("p",{className:`text-4xl font-bold ${s==="violet"?"text-violet-600 dark:text-violet-400":"text-slate-600 dark:text-slate-400"}`,children:[T,"h"]}),m.jsx("p",{className:"text-sm font-semibold text-neutral-400 uppercase tracking-wide",children:"Hours"})]})]}),m.jsxs("button",{onClick:()=>c(),className:`px-5 py-2.5 text-white font-bold rounded-xl shadow-lg flex items-center gap-2 transition-all ${s==="violet"?"bg-violet-500 hover:bg-violet-600 shadow-violet-500/30":"bg-slate-500 hover:bg-slate-600 shadow-slate-500/30"}`,children:[m.jsx(Gn,{className:"w-5 h-5"})," Add ",i.type]})]}),S("Planned",p),S("Hall of Fame",v,!0),S(i.watchedStatus==="watched"?"Recently Watched":"Recently Listened",g),t.length===0&&m.jsxs("div",{className:"text-center py-20 opacity-50",children:[Cs.cloneElement(i.mediaIcon,{className:"w-16 h-16 mx-auto mb-4 text-neutral-400"}),m.jsx("p",{className:"text-xl font-bold text-neutral-500",children:"Collection is empty."})]}),m.jsx(Wt,{children:a.isOpen&&m.jsx(Xbe,{isOpen:a.isOpen,onClose:d,onSave:f,initialData:a.data,config:i,theme:s})})]})};function Qbe(){const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!0);_.useEffect(()=>{const f=Is(),p=js(f,async g=>{if(g){r(g.uid),s(!0);const v=await Os(g.uid,"movies");e(v),s(!1)}else r(null),e([]),s(!1)});return()=>p()},[]);const a=async f=>{if(!n)return;const p=await en(n,"movies",f,!1);e(g=>[p,...g])},l=async(f,p)=>{if(!n)return;const g={...p,id:f},v=await en(n,"movies",g,!0);e(b=>b.map(T=>T.id===f?{...T,...v}:T))},c=async f=>{n&&window.confirm("Delete this movie?")&&(await aa(n,"movies",f),e(p=>p.filter(g=>g.id!==f)))},d={type:"Movie",primaryField:"Director",mediaIcon:m.jsx(c$,{}),hasLength:!0,watchedStatus:"watched"};return m.jsx(E7,{items:t,onAdd:a,onUpdate:l,onDelete:c,config:d,theme:"slate"})}function Jbe(){const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!0);_.useEffect(()=>{const f=Is(),p=js(f,async g=>{if(g){r(g.uid),s(!0);const v=await Os(g.uid,"music");e(v),s(!1)}else r(null),e([]),s(!1)});return()=>p()},[]);const a=async f=>{if(!n)return;const p=await en(n,"music",f,!1);e(g=>[p,...g])},l=async(f,p)=>{if(!n)return;const g={...p,id:f},v=await en(n,"music",g,!0);e(b=>b.map(T=>T.id===f?{...T,...v}:T))},c=async f=>{n&&window.confirm("Delete this album/song?")&&(await aa(n,"music",f),e(p=>p.filter(g=>g.id!==f)))},d={type:"Album/Song",primaryField:"Artist",mediaIcon:m.jsx(zw,{}),hasLength:!1,watchedStatus:"listened"};return m.jsx(E7,{items:t,onAdd:a,onUpdate:l,onDelete:c,config:d,theme:"violet"})}var Zbe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function LN(t){if(typeof t!="string")return!1;var e=Zbe;return e.includes(t)}var exe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],txe=new Set(exe);function k7(t){return typeof t!="string"?!1:txe.has(t)}function _7(t){return typeof t=="string"&&t.startsWith("data-")}function Ya(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(k7(n)||_7(n))&&(e[n]=t[n]);return e}function l1(t){if(t==null)return null;if(_.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ya(e)}return typeof t=="object"&&!Array.isArray(t)?Ya(t):null}function ii(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(k7(n)||_7(n)||LN(n))&&(e[n]=t[n]);return e}function nxe(t){return t==null?null:_.isValidElement(t)?ii(t.props):typeof t=="object"&&!Array.isArray(t)?ii(t):null}var rxe=["children","width","height","viewBox","className","style","title","desc"];function vC(){return vC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vC.apply(null,arguments)}function ixe(t,e){if(t==null)return{};var n,r,i=sxe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var A7=_.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:l,title:c,desc:d}=t,f=ixe(t,rxe),p=s||{width:r,height:i,x:0,y:0},g=yt("recharts-surface",a);return _.createElement("svg",vC({},ii(f),{className:g,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),_.createElement("title",null,c),_.createElement("desc",null,d),n)}),axe=["children","className"];function bC(){return bC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bC.apply(null,arguments)}function oxe(t,e){if(t==null)return{};var n,r,i=lxe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vc=_.forwardRef((t,e)=>{var{children:n,className:r}=t,i=oxe(t,axe),s=yt("recharts-layer",r);return _.createElement("g",bC({className:s},ii(i),{ref:e}),n)}),cxe=_.createContext(null);function Rt(t){return function(){return t}}const C7=Math.cos,kx=Math.sin,la=Math.sqrt,_x=Math.PI,c1=2*_x,xC=Math.PI,wC=2*xC,Uu=1e-6,uxe=wC-Uu;function O7(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function dxe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return O7;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class fxe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?O7:dxe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=r-e,d=i-n,f=a-e,p=l-n,g=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>Uu)if(!(Math.abs(p*c-d*f)>Uu)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-a,b=i-l,T=c*c+d*d,S=v*v+b*b,k=Math.sqrt(T),C=Math.sqrt(g),N=s*Math.tan((xC-Math.acos((T+g-S)/(2*k*C)))/2),R=N/C,D=N/k;Math.abs(R-1)>Uu&&this._append`L${e+R*f},${n+R*p}`,this._append`A${s},${s},0,0,${+(p*v>f*b)},${this._x1=e+D*c},${this._y1=n+D*d}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),d=e+l,f=n+c,p=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Uu||Math.abs(this._y1-f)>Uu)&&this._append`L${d},${f}`,r&&(g<0&&(g=g%wC+wC),g>uxe?this._append`A${r},${r},0,1,${p},${e-l},${n-c}A${r},${r},0,1,${p},${this._x1=d},${this._y1=f}`:g>Uu&&this._append`A${r},${r},0,${+(g>=xC)},${p},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function VN(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new fxe(e)}function BN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function N7(t){this._context=t}N7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function u1(t){return new N7(t)}function M7(t){return t[0]}function j7(t){return t[1]}function I7(t,e){var n=Rt(!0),r=null,i=u1,s=null,a=VN(l);t=typeof t=="function"?t:t===void 0?M7:Rt(t),e=typeof e=="function"?e:e===void 0?j7:Rt(e);function l(c){var d,f=(c=BN(c)).length,p,g=!1,v;for(r==null&&(s=i(v=a())),d=0;d<=f;++d)!(d<f&&n(p=c[d],d,c))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(p,d,c),+e(p,d,c));if(v)return s=null,v+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Rt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Rt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Rt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function wv(t,e,n){var r=null,i=Rt(!0),s=null,a=u1,l=null,c=VN(d);t=typeof t=="function"?t:t===void 0?M7:Rt(+t),e=typeof e=="function"?e:Rt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?j7:Rt(+n);function d(p){var g,v,b,T=(p=BN(p)).length,S,k=!1,C,N=new Array(T),R=new Array(T);for(s==null&&(l=a(C=c())),g=0;g<=T;++g){if(!(g<T&&i(S=p[g],g,p))===k)if(k=!k)v=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=g-1;b>=v;--b)l.point(N[b],R[b]);l.lineEnd(),l.areaEnd()}k&&(N[g]=+t(S,g,p),R[g]=+e(S,g,p),l.point(r?+r(S,g,p):N[g],n?+n(S,g,p):R[g]))}if(C)return l=null,C+""||null}function f(){return I7().defined(i).curve(a).context(s)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:Rt(+p),r=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Rt(+p),d):t},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Rt(+p),d):r},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:Rt(+p),n=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Rt(+p),d):e},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Rt(+p),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Rt(!!p),d):i},d.curve=function(p){return arguments.length?(a=p,s!=null&&(l=a(s)),d):a},d.context=function(p){return arguments.length?(p==null?s=l=null:l=a(s=p),d):s},d}class D7{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function hxe(t){return new D7(t,!0)}function pxe(t){return new D7(t,!1)}const zN={draw(t,e){const n=la(e/_x);t.moveTo(n,0),t.arc(0,0,n,0,c1)}},mxe={draw(t,e){const n=la(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},P7=la(1/3),gxe=P7*2,yxe={draw(t,e){const n=la(e/gxe),r=n*P7;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},vxe={draw(t,e){const n=la(e),r=-n/2;t.rect(r,r,n,n)}},bxe=.8908130915292852,R7=kx(_x/10)/kx(7*_x/10),xxe=kx(c1/10)*R7,wxe=-C7(c1/10)*R7,Sxe={draw(t,e){const n=la(e*bxe),r=xxe*n,i=wxe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=c1*s/5,l=C7(a),c=kx(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},nk=la(3),Txe={draw(t,e){const n=-la(e/(nk*3));t.moveTo(0,n*2),t.lineTo(-nk*n,-n),t.lineTo(nk*n,-n),t.closePath()}},us=-.5,ds=la(3)/2,SC=1/la(12),Exe=(SC/2+1)*3,kxe={draw(t,e){const n=la(e/Exe),r=n/2,i=n*SC,s=r,a=n*SC+n,l=-s,c=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,c),t.lineTo(us*r-ds*i,ds*r+us*i),t.lineTo(us*s-ds*a,ds*s+us*a),t.lineTo(us*l-ds*c,ds*l+us*c),t.lineTo(us*r+ds*i,us*i-ds*r),t.lineTo(us*s+ds*a,us*a-ds*s),t.lineTo(us*l+ds*c,us*c-ds*l),t.closePath()}};function _xe(t,e){let n=null,r=VN(i);t=typeof t=="function"?t:Rt(t||zN),e=typeof e=="function"?e:Rt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Rt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Rt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Ax(){}function Cx(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function L7(t){this._context=t}L7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Axe(t){return new L7(t)}function V7(t){this._context=t}V7.prototype={areaStart:Ax,areaEnd:Ax,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Cx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Cxe(t){return new V7(t)}function B7(t){this._context=t}B7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Cx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Oxe(t){return new B7(t)}function z7(t){this._context=t}z7.prototype={areaStart:Ax,areaEnd:Ax,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Nxe(t){return new z7(t)}function N3(t){return t<0?-1:1}function M3(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(N3(s)+N3(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function j3(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function rk(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function Ox(t){this._context=t}Ox.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rk(this,this._t0,j3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,rk(this,j3(this,n=M3(this,t,e)),n);break;default:rk(this,this._t0,n=M3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function U7(t){this._context=new F7(t)}(U7.prototype=Object.create(Ox.prototype)).point=function(t,e){Ox.prototype.point.call(this,e,t)};function F7(t){this._context=t}F7.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Mxe(t){return new Ox(t)}function jxe(t){return new U7(t)}function $7(t){this._context=t}$7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=I3(t),i=I3(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function I3(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Ixe(t){return new $7(t)}function d1(t,e){this._context=t,this._t=e}d1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Dxe(t){return new d1(t,.5)}function Pxe(t){return new d1(t,0)}function Rxe(t){return new d1(t,1)}function Ad(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,l=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function TC(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Lxe(t,e){return t[e]}function Vxe(t){const e=[];return e.key=t,e}function Bxe(){var t=Rt([]),e=TC,n=Ad,r=Lxe;function i(s){var a=Array.from(t.apply(this,arguments),Vxe),l,c=a.length,d=-1,f;for(const p of s)for(l=0,++d;l<c;++l)(a[l][d]=[0,+r(p,a[l].key,d,s)]).data=p;for(l=0,f=BN(e(a));l<c;++l)a[f[l]].index=l;return n(a,f),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Rt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Rt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?TC:typeof s=="function"?s:Rt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Ad,i):n},i}function zxe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Ad(t,e)}}function Uxe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}Ad(t,e)}}function Fxe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var l=0,c=0,d=0;l<a;++l){for(var f=t[e[l]],p=f[r][1]||0,g=f[r-1][1]||0,v=(p-g)/2,b=0;b<l;++b){var T=t[e[b]],S=T[r][1]||0,k=T[r-1][1]||0;v+=S-k}c+=p,d+=v*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Ad(t,e)}}var ik={},sk={},D3;function $xe(){return D3||(D3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(sk)),sk}var ak={},P3;function H7(){return P3||(P3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(ak)),ak}var ok={},R3;function q7(){return R3||(R3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(ok)),ok}var lk={},L3;function UN(){return L3||(L3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let s=0,a="",l="",c=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const d=n[s];l?d==="\\"&&s+1<i?(s++,a+=n[s]):d===l?l="":a+=d:c?d==='"'||d==="'"?l=d:d==="]"?(c=!1,r.push(a),a=""):a+=d:d==="["?(c=!0,a&&(r.push(a),a="")):d==="."?a&&(r.push(a),a=""):a+=d,s++}return a&&r.push(a),r}t.toPath=e})(lk)),lk}var V3;function FN(){return V3||(V3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$xe(),n=H7(),r=q7(),i=UN();function s(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const f=l[c];return f===void 0?n.isDeepKey(c)?s(l,i.toPath(c),d):d:f}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const f=l[c];return f===void 0?d:f}default:{if(Array.isArray(c))return a(l,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const f=l[c];return f===void 0?d:f}}}function a(l,c,d){if(c.length===0)return d;let f=l;for(let p=0;p<c.length;p++){if(f==null||e.isUnsafeProperty(c[p]))return d;f=f[c[p]]}return f===void 0?d:f}t.get=s})(ik)),ik}var ck,B3;function Hxe(){return B3||(B3=1,ck=FN().get),ck}var qxe=Hxe();const f1=eo(qxe);var Wxe=4;function hc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wxe,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function mn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,a)=>{var l=n[a-1];return typeof l=="string"?i+l+s:l!==void 0?i+hc(l)+s:i+s},"")}var ws=t=>t===0?0:t>0?1:-1,Xa=t=>typeof t=="number"&&t!=+t,Ko=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,je=t=>(typeof t=="number"||t instanceof Number)&&!Xa(t),Qa=t=>je(t)||typeof t=="string",Gxe=0,_g=t=>{var e=++Gxe;return"".concat(t||"").concat(e)},Bc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&typeof e!="string")return r;var s;if(Ko(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Xa(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},W7=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function vi(t,e,n){return je(t)&&je(e)?hc(t+n*(e-t)):e}function G7(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):f1(r,e))===n)}var cr=t=>t===null||typeof t>"u",f0=t=>cr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Kxe(t){return t!=null}function h0(){}var Yxe=["type","size","sizeType"];function EC(){return EC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EC.apply(null,arguments)}function z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(n),!0).forEach(function(r){Xxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xxe(t,e,n){return(e=Qxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qxe(t){var e=Jxe(t,"string");return typeof e=="symbol"?e:e+""}function Jxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zxe(t,e){if(t==null)return{};var n,r,i=ewe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ewe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var K7={symbolCircle:zN,symbolCross:mxe,symbolDiamond:yxe,symbolSquare:vxe,symbolStar:Sxe,symbolTriangle:Txe,symbolWye:kxe},twe=Math.PI/180,nwe=t=>{var e="symbol".concat(f0(t));return K7[e]||zN},rwe=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*twe;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},iwe=(t,e)=>{K7["symbol".concat(f0(t))]=e},Y7=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Zxe(t,Yxe),s=U3(U3({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var l=()=>{var g=nwe(a),v=_xe().type(g).size(rwe(n,r,a)),b=v();if(b!==null)return b},{className:c,cx:d,cy:f}=s,p=ii(s);return je(d)&&je(f)&&je(n)?_.createElement("path",EC({},p,{className:yt("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(f,")"),d:l()})):null};Y7.registerSymbol=iwe;var X7=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,$N=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{LN(i)&&(r[i]=(s=>n[i](n,s)))}),r},swe=(t,e,n)=>r=>(t(e,n,r),null),awe=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];LN(i)&&typeof s=="function"&&(r||(r={}),r[i]=swe(s,e,n))}),r};function F3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function owe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F3(Object(n),!0).forEach(function(r){lwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lwe(t,e,n){return(e=cwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cwe(t){var e=uwe(t,"string");return typeof e=="symbol"?e:e+""}function uwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ti(t,e){var n=owe({},t),r=e,i=Object.keys(e),s=i.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return s}var uk={},dk={},$3;function dwe(){return $3||($3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],l=r(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}t.uniqBy=e})(dk)),dk}var fk={},H3;function Q7(){return H3||(H3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(fk)),fk}var hk={},pk={},mk={},q3;function fwe(){return q3||(q3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(mk)),mk}var W3;function HN(){return W3||(W3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fwe();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(pk)),pk}var gk={},G3;function hwe(){return G3||(G3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(gk)),gk}var K3;function pwe(){return K3||(K3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HN(),n=hwe();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(hk)),hk}var yk={},vk={},Y3;function mwe(){return Y3||(Y3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FN();function n(r){return function(i){return e.get(i,r)}}t.property=n})(vk)),vk}var bk={},xk={},wk={},Sk={},X3;function J7(){return X3||(X3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Sk)),Sk}var Tk={},Q3;function Z7(){return Q3||(Q3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Tk)),Tk}var Ek={},J3;function eW(){return J3||(J3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Ek)),Ek}var Z3;function gwe(){return Z3||(Z3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qN(),n=J7(),r=Z7(),i=eW();function s(p,g,v){return typeof v!="function"?e.isMatch(p,g):a(p,g,function b(T,S,k,C,N,R){const D=v(T,S,k,C,N,R);return D!==void 0?!!D:a(T,S,b,R)},new Map)}function a(p,g,v,b){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,v,b);case"function":return Object.keys(g).length>0?a(p,{...g},v,b):i.eq(p,g);default:return n.isObject(p)?typeof g=="string"?g==="":!0:i.eq(p,g)}}function l(p,g,v,b){if(g==null)return!0;if(Array.isArray(g))return d(p,g,v,b);if(g instanceof Map)return c(p,g,v,b);if(g instanceof Set)return f(p,g,v,b);const T=Object.keys(g);if(p==null)return T.length===0;if(T.length===0)return!0;if(b&&b.has(g))return b.get(g)===p;b&&b.set(g,p);try{for(let S=0;S<T.length;S++){const k=T[S];if(!r.isPrimitive(p)&&!(k in p)||g[k]===void 0&&p[k]!==void 0||g[k]===null&&p[k]!==null||!v(p[k],g[k],k,p,g,b))return!1}return!0}finally{b&&b.delete(g)}}function c(p,g,v,b){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[T,S]of g.entries()){const k=p.get(T);if(v(k,S,T,p,g,b)===!1)return!1}return!0}function d(p,g,v,b){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const T=new Set;for(let S=0;S<g.length;S++){const k=g[S];let C=!1;for(let N=0;N<p.length;N++){if(T.has(N))continue;const R=p[N];let D=!1;if(v(R,k,S,p,g,b)&&(D=!0),D){T.add(N),C=!0;break}}if(!C)return!1}return!0}function f(p,g,v,b){return g.size===0?!0:p instanceof Set?d([...p],[...g],v,b):!1}t.isMatchWith=s,t.isSetMatch=f})(wk)),wk}var eV;function qN(){return eV||(eV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gwe();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(xk)),xk}var kk={},_k={},Ak={},tV;function ywe(){return tV||(tV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Ak)),Ak}var Ck={},nV;function tW(){return nV||(nV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Ck)),Ck}var Ok={},rV;function nW(){return rV||(rV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",f="[object Array]",p="[object Function]",g="[object ArrayBuffer]",v="[object Object]",b="[object Error]",T="[object DataView]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",C="[object Uint16Array]",N="[object Uint32Array]",R="[object BigUint64Array]",D="[object Int8Array]",z="[object Int16Array]",j="[object Int32Array]",M="[object BigInt64Array]",P="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=g,t.arrayTag=f,t.bigInt64ArrayTag=M,t.bigUint64ArrayTag=R,t.booleanTag=i,t.dataViewTag=T,t.dateTag=l,t.errorTag=b,t.float32ArrayTag=P,t.float64ArrayTag=B,t.functionTag=p,t.int16ArrayTag=z,t.int32ArrayTag=j,t.int8ArrayTag=D,t.mapTag=c,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=C,t.uint32ArrayTag=N,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=k})(Ok)),Ok}var Nk={},iV;function vwe(){return iV||(iV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Nk)),Nk}var sV;function rW(){return sV||(sV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ywe(),n=tW(),r=nW(),i=Z7(),s=vwe();function a(f,p){return l(f,void 0,f,new Map,p)}function l(f,p,g,v=new Map,b=void 0){const T=b?.(f,p,g,v);if(T!==void 0)return T;if(i.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const S=new Array(f.length);v.set(f,S);for(let k=0;k<f.length;k++)S[k]=l(f[k],k,g,v,b);return Object.hasOwn(f,"index")&&(S.index=f.index),Object.hasOwn(f,"input")&&(S.input=f.input),S}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const S=new RegExp(f.source,f.flags);return S.lastIndex=f.lastIndex,S}if(f instanceof Map){const S=new Map;v.set(f,S);for(const[k,C]of f)S.set(k,l(C,k,g,v,b));return S}if(f instanceof Set){const S=new Set;v.set(f,S);for(const k of f)S.add(l(k,void 0,g,v,b));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const S=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,S);for(let k=0;k<f.length;k++)S[k]=l(f[k],k,g,v,b);return S}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const S=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,S),c(S,f,g,v,b),S}if(typeof File<"u"&&f instanceof File){const S=new File([f],f.name,{type:f.type});return v.set(f,S),c(S,f,g,v,b),S}if(f instanceof Blob){const S=new Blob([f],{type:f.type});return v.set(f,S),c(S,f,g,v,b),S}if(f instanceof Error){const S=new f.constructor;return v.set(f,S),S.message=f.message,S.name=f.name,S.stack=f.stack,S.cause=f.cause,c(S,f,g,v,b),S}if(typeof f=="object"&&d(f)){const S=Object.create(Object.getPrototypeOf(f));return v.set(f,S),c(S,f,g,v,b),S}return f}function c(f,p,g=f,v,b){const T=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<T.length;S++){const k=T[S],C=Object.getOwnPropertyDescriptor(f,k);(C==null||C.writable)&&(f[k]=l(p[k],k,g,v,b))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=l,t.copyProperties=c})(_k)),_k}var aV;function bwe(){return aV||(aV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rW();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(kk)),kk}var oV;function xwe(){return oV||(oV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qN(),n=bwe();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(bk)),bk}var Mk={},jk={},Ik={},lV;function wwe(){return lV||(lV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rW(),n=nW();function r(i,s){return e.cloneDeepWith(i,(a,l,c,d)=>{const f=s?.(a,l,c,d);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(Ik)),Ik}var cV;function Swe(){return cV||(cV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wwe();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(jk)),jk}var Dk={},Pk={},uV;function iW(){return uV||(uV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Pk)),Pk}var Rk={},dV;function Twe(){return dV||(dV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tW();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Rk)),Rk}var fV;function Ewe(){return fV||(fV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H7(),n=iW(),r=Twe(),i=UN();function s(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&a?.[l]==null?c=i.toPath(l):c=[l],c.length===0)return!1;let d=a;for(let f=0;f<c.length;f++){const p=c[f];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}t.has=s})(Dk)),Dk}var hV;function kwe(){return hV||(hV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qN(),n=q7(),r=Swe(),i=FN(),s=Ewe();function a(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(d){const f=i.get(d,l);return f===void 0?s.has(d,l):c===void 0?f===void 0:e.isMatch(f,c)}}t.matchesProperty=a})(Mk)),Mk}var pV;function _we(){return pV||(pV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q7(),n=mwe(),r=xwe(),i=kwe();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(yk)),yk}var mV;function Awe(){return mV||(mV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dwe(),n=Q7(),r=pwe(),i=_we();function s(a,l=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(l)):[]}t.uniqBy=s})(uk)),uk}var Lk,gV;function Cwe(){return gV||(gV=1,Lk=Awe().uniqBy),Lk}var Owe=Cwe();const yV=eo(Owe);function Nwe(t,e,n){return e===!0?yV(t,n):typeof e=="function"?yV(t,e):t}var WN=_.createContext(null),Mwe=t=>t,ur=()=>{var t=_.useContext(WN);return t?t.store.dispatch:Mwe},nb=()=>{},jwe=()=>nb,Iwe=(t,e)=>t===e;function Ve(t){var e=_.useContext(WN);return Yq.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:jwe,e?e.store.getState:nb,e?e.store.getState:nb,e?t:nb,Iwe)}function Dwe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Pwe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Rwe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var vV=t=>Array.isArray(t)?t:[t];function Lwe(t){const e=Array.isArray(t[0])?t[0]:t;return Rwe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Vwe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Bwe=class{constructor(t){this.value=t}deref(){return this.value}},zwe=typeof WeakRef<"u"?WeakRef:Bwe,Uwe=0,bV=1;function Sv(){return{s:Uwe,v:void 0,o:null,p:null}}function sW(t,e={}){let n=Sv();const{resultEqualityCheck:r}=e;let i,s=0;function a(){let l=n;const{length:c}=arguments;for(let p=0,g=c;p<g;p++){const v=arguments[p];if(typeof v=="function"||typeof v=="object"&&v!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const T=b.get(v);T===void 0?(l=Sv(),b.set(v,l)):l=T}else{let b=l.p;b===null&&(l.p=b=new Map);const T=b.get(v);T===void 0?(l=Sv(),b.set(v,l)):l=T}}const d=l;let f;if(l.s===bV)f=l.v;else if(f=t.apply(null,arguments),s++,r){const p=i?.deref?.()??i;p!=null&&r(p,f)&&(f=p,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new zwe(f):f}return d.s=bV,d.v=f,f}return a.clearCache=()=>{n=Sv(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function Fwe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,l,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),Dwe(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...c},{memoize:p,memoizeOptions:g=[],argsMemoize:v=sW,argsMemoizeOptions:b=[]}=f,T=vV(g),S=vV(b),k=Lwe(i),C=p(function(){return s++,d.apply(null,arguments)},...T),N=v(function(){a++;const D=Vwe(k,arguments);return l=C.apply(null,D),l},...S);return Object.assign(N,{resultFunc:d,memoizedResultFunc:C,dependencies:k,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var se=Fwe(sW),$we=Object.assign((t,e=se)=>{Pwe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,l,c)=>(a[n[c]]=l,a),{}))},{withTypes:()=>$we}),Vk={},Bk={},zk={},xV;function Hwe(){return xV||(xV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),l=e(i);if(a===l&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};t.compareValues=n})(zk)),zk}var Uk={},Fk={},wV;function aW(){return wV||(wV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Fk)),Fk}var SV;function qwe(){return SV||(SV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aW(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(Uk)),Uk}var TV;function Wwe(){return TV||(TV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hwe(),n=qwe(),r=UN();function i(s,a,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const d=(v,b)=>{let T=v;for(let S=0;S<b.length&&T!=null;++S)T=T[b[S]];return T},f=(v,b)=>b==null||v==null?b:typeof v=="object"&&"key"in v?Object.hasOwn(b,v.key)?b[v.key]:d(b,v.path):typeof v=="function"?v(b):Array.isArray(v)?d(b,v):typeof b=="object"?b[v]:b,p=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return s.map(v=>({original:v,criteria:p.map(b=>f(b,v))})).slice().sort((v,b)=>{for(let T=0;T<p.length;T++){const S=e.compareValues(v.criteria[T],b.criteria[T],l[T]);if(S!==0)return S}return 0}).map(v=>v.original)}t.orderBy=i})(Bk)),Bk}var $k={},EV;function Gwe(){return EV||(EV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(l,c)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&c<s?a(f,c+1):i.push(f)}};return a(n,0),i}t.flatten=e})($k)),$k}var Hk={},kV;function oW(){return kV||(kV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iW(),n=HN(),r=J7(),i=eW();function s(a,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],a):!1}t.isIterateeCall=s})(Hk)),Hk}var _V;function Kwe(){return _V||(_V=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wwe(),n=Gwe(),r=oW();function i(s,...a){const l=a.length;return l>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(Vk)),Vk}var qk,AV;function Ywe(){return AV||(AV=1,qk=Kwe().sortBy),qk}var Xwe=Ywe();const h1=eo(Xwe);var lW=t=>t.legend.settings,Qwe=t=>t.legend.size,Jwe=t=>t.legend.payload;se([Jwe,lW],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?h1(r,n):r});var Tv=1;function Zwe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>Tv||Math.abs(a.left-e.left)>Tv||Math.abs(a.top-e.top)>Tv||Math.abs(a.width-e.width)>Tv)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function vr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var e1e=typeof Symbol=="function"&&Symbol.observable||"@@observable",CV=e1e,Wk=()=>Math.random().toString(36).substring(7).split("").join("."),t1e={INIT:`@@redux/INIT${Wk()}`,REPLACE:`@@redux/REPLACE${Wk()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Wk()}`},Nx=t1e;function GN(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function cW(t,e,n){if(typeof t!="function")throw new Error(vr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(vr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(vr(1));return n(cW)(t,e)}let r=t,i=e,s=new Map,a=s,l=0,c=!1;function d(){a===s&&(a=new Map,s.forEach((S,k)=>{a.set(k,S)}))}function f(){if(c)throw new Error(vr(3));return i}function p(S){if(typeof S!="function")throw new Error(vr(4));if(c)throw new Error(vr(5));let k=!0;d();const C=l++;return a.set(C,S),function(){if(k){if(c)throw new Error(vr(6));k=!1,d(),a.delete(C),s=null}}}function g(S){if(!GN(S))throw new Error(vr(7));if(typeof S.type>"u")throw new Error(vr(8));if(typeof S.type!="string")throw new Error(vr(17));if(c)throw new Error(vr(9));try{c=!0,i=r(i,S)}finally{c=!1}return(s=a).forEach(C=>{C()}),S}function v(S){if(typeof S!="function")throw new Error(vr(10));r=S,g({type:Nx.REPLACE})}function b(){const S=p;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(vr(11));function C(){const R=k;R.next&&R.next(f())}return C(),{unsubscribe:S(C)}},[CV](){return this}}}return g({type:Nx.INIT}),{dispatch:g,subscribe:p,getState:f,replaceReducer:v,[CV]:b}}function n1e(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Nx.INIT})>"u")throw new Error(vr(12));if(typeof n(void 0,{type:Nx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(vr(13))})}function uW(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{n1e(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const d={};for(let f=0;f<r.length;f++){const p=r[f],g=n[p],v=a[p],b=g(v,l);if(typeof b>"u")throw l&&l.type,new Error(vr(14));d[p]=b,c=c||b!==v}return c=c||r.length!==Object.keys(a).length,c?d:a}}function Mx(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function r1e(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(vr(15))};const a={getState:i.getState,dispatch:(c,...d)=>s(c,...d)},l=t.map(c=>c(a));return s=Mx(...l)(i.dispatch),{...i,dispatch:s}}}function dW(t){return GN(t)&&"type"in t&&typeof t.type=="string"}var fW=Symbol.for("immer-nothing"),OV=Symbol.for("immer-draftable"),qi=Symbol.for("immer-state");function Qs(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var kh=Object.getPrototypeOf;function Cd(t){return!!t&&!!t[qi]}function Yo(t){return t?hW(t)||Array.isArray(t)||!!t[OV]||!!t.constructor?.[OV]||p0(t)||m1(t):!1}var i1e=Object.prototype.constructor.toString();function hW(t){if(!t||typeof t!="object")return!1;const e=kh(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===i1e}function jx(t,e){p1(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function p1(t){const e=t[qi];return e?e.type_:Array.isArray(t)?1:p0(t)?2:m1(t)?3:0}function kC(t,e){return p1(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function pW(t,e,n){const r=p1(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function s1e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function p0(t){return t instanceof Map}function m1(t){return t instanceof Set}function Fu(t){return t.copy_||t.base_}function _C(t,e){if(p0(t))return new Map(t);if(m1(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=hW(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[qi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(kh(t),r)}else{const r=kh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function KN(t,e=!1){return g1(t)||Cd(t)||!Yo(t)||(p1(t)>1&&Object.defineProperties(t,{set:{value:Ev},add:{value:Ev},clear:{value:Ev},delete:{value:Ev}}),Object.freeze(t),e&&Object.values(t).forEach(n=>KN(n,!0))),t}function Ev(){Qs(2)}function g1(t){return Object.isFrozen(t)}var a1e={};function Od(t){const e=a1e[t];return e||Qs(0,t),e}var Ag;function mW(){return Ag}function o1e(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function NV(t,e){e&&(Od("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function AC(t){CC(t),t.drafts_.forEach(l1e),t.drafts_=null}function CC(t){t===Ag&&(Ag=t.parent_)}function MV(t){return Ag=o1e(Ag,t)}function l1e(t){const e=t[qi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function jV(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[qi].modified_&&(AC(e),Qs(4)),Yo(t)&&(t=Ix(e,t),e.parent_||Dx(e,t)),e.patches_&&Od("Patches").generateReplacementPatches_(n[qi].base_,t,e.patches_,e.inversePatches_)):t=Ix(e,n,[]),AC(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==fW?t:void 0}function Ix(t,e,n){if(g1(e))return e;const r=e[qi];if(!r)return jx(e,(i,s)=>IV(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Dx(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),jx(s,(l,c)=>IV(t,r,i,l,c,n,a)),Dx(t,i,!1),n&&t.patches_&&Od("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function IV(t,e,n,r,i,s,a){if(Cd(i)){const l=s&&e&&e.type_!==3&&!kC(e.assigned_,r)?s.concat(r):void 0,c=Ix(t,i,l);if(pW(n,r,c),Cd(c))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Yo(i)&&!g1(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Ix(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(p0(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Dx(t,i)}}function Dx(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&KN(e,n)}function c1e(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:mW(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=YN;n&&(i=[r],s=Cg);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,l}var YN={get(t,e){if(e===qi)return t;const n=Fu(t);if(!kC(n,e))return u1e(t,n,e);const r=n[e];return t.finalized_||!Yo(r)?r:r===Gk(t.base_,e)?(Kk(t),t.copy_[e]=NC(r,t)):r},has(t,e){return e in Fu(t)},ownKeys(t){return Reflect.ownKeys(Fu(t))},set(t,e,n){const r=gW(Fu(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Gk(Fu(t),e),s=i?.[qi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(s1e(n,i)&&(n!==void 0||kC(t.base_,e)))return!0;Kk(t),OC(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Gk(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Kk(t),OC(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Fu(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Qs(11)},getPrototypeOf(t){return kh(t.base_)},setPrototypeOf(){Qs(12)}},Cg={};jx(YN,(t,e)=>{Cg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Cg.deleteProperty=function(t,e){return Cg.set.call(this,t,e,void 0)};Cg.set=function(t,e,n){return YN.set.call(this,t[0],e,n,t[0])};function Gk(t,e){const n=t[qi];return(n?Fu(n):t)[e]}function u1e(t,e,n){const r=gW(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function gW(t,e){if(!(e in t))return;let n=kh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=kh(n)}}function OC(t){t.modified_||(t.modified_=!0,t.parent_&&OC(t.parent_))}function Kk(t){t.copy_||(t.copy_=_C(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var d1e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(c=s,...d){return a.produce(c,f=>n.call(this,f,...d))}}typeof n!="function"&&Qs(6),r!==void 0&&typeof r!="function"&&Qs(7);let i;if(Yo(e)){const s=MV(this),a=NC(e,void 0);let l=!0;try{i=n(a),l=!1}finally{l?AC(s):CC(s)}return NV(s,r),jV(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===fW&&(i=void 0),this.autoFreeze_&&KN(i,!0),r){const s=[],a=[];Od("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else Qs(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,c=>e(c,...l));let r,i;return[this.produce(e,n,(a,l)=>{r=a,i=l}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Yo(t)||Qs(8),Cd(t)&&(t=na(t));const e=MV(this),n=NC(t,void 0);return n[qi].isManual_=!0,CC(e),n}finishDraft(t,e){const n=t&&t[qi];(!n||!n.isManual_)&&Qs(9);const{scope_:r}=n;return NV(r,e),jV(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Od("Patches").applyPatches_;return Cd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function NC(t,e){const n=p0(t)?Od("MapSet").proxyMap_(t,e):m1(t)?Od("MapSet").proxySet_(t,e):c1e(t,e);return(e?e.scope_:mW()).drafts_.push(n),n}function na(t){return Cd(t)||Qs(10,t),yW(t)}function yW(t){if(!Yo(t)||g1(t))return t;const e=t[qi];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=_C(t,e.scope_.immer_.useStrictShallowCopy_)}else n=_C(t,!0);return jx(n,(r,i)=>{pW(n,r,yW(i))}),e&&(e.finalized_=!1),n}var f1e=new d1e,vW=f1e.produce;function bW(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var h1e=bW(),p1e=bW,m1e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Mx:Mx.apply(null,arguments)};function Ns(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Hi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>dW(r)&&r.type===t,n}var xW=class Em extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Em.prototype)}static get[Symbol.species](){return Em}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Em(...e[0].concat(this)):new Em(...e.concat(this))}};function DV(t){return Yo(t)?vW(t,()=>{}):t}function kv(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function g1e(t){return typeof t=="boolean"}var y1e=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new xW;return n&&(g1e(n)?a.push(h1e):a.push(p1e(n.extraArgument))),a},wW="RTK_autoBatch",Qt=()=>t=>({payload:t,meta:{[wW]:!0}}),PV=t=>e=>{setTimeout(e,t)},SW=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:PV(10):t.type==="callback"?t.queueNotification:PV(t.timeout),d=()=>{a=!1,s&&(s=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>i&&f(),g=r.subscribe(p);return l.add(f),()=>{g(),l.delete(f)}},dispatch(f){try{return i=!f?.meta?.[wW],s=!i,s&&(a||(a=!0,c(d))),r.dispatch(f)}finally{i=!0}}})},v1e=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new xW(t);return r&&i.push(SW(typeof r=="object"?r:void 0)),i};function b1e(t){const e=y1e(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(GN(n))l=uW(n);else throw new Error(Hi(1));let c;typeof r=="function"?c=r(e):c=e();let d=Mx;i&&(d=m1e({trace:!1,...typeof i=="object"&&i}));const f=r1e(...c),p=v1e(f);let g=typeof a=="function"?a(p):p();const v=d(...g);return cW(l,s,v)}function TW(t){const e={},n=[];let r;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Hi(28));if(l in e)throw new Error(Hi(29));return e[l]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function x1e(t){return typeof t=="function"}function w1e(t,e){let[n,r,i]=TW(e),s;if(x1e(t))s=()=>DV(t());else{const l=DV(t);s=()=>l}function a(l=s(),c){let d=[n[c.type],...r.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,p)=>{if(p)if(Cd(f)){const v=p(f,c);return v===void 0?f:v}else{if(Yo(f))return vW(f,g=>p(g,c));{const g=p(f,c);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},l)}return a.getInitialState=s,a}var S1e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",T1e=(t=21)=>{let e="",n=t;for(;n--;)e+=S1e[Math.random()*64|0];return e},E1e=Symbol.for("rtk-slice-createasyncthunk");function k1e(t,e){return`${t}/${e}`}function _1e({creators:t}={}){const e=t?.asyncThunk?.[E1e];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(Hi(11));const a=(typeof r.reducers=="function"?r.reducers(C1e()):r.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,R){const D=typeof N=="string"?N:N.type;if(!D)throw new Error(Hi(12));if(D in c.sliceCaseReducersByType)throw new Error(Hi(13));return c.sliceCaseReducersByType[D]=R,d},addMatcher(N,R){return c.sliceMatchers.push({matcher:N,reducer:R}),d},exposeAction(N,R){return c.actionCreators[N]=R,d},exposeCaseReducer(N,R){return c.sliceCaseReducersByName[N]=R,d}};l.forEach(N=>{const R=a[N],D={reducerName:N,type:k1e(i,N),createNotation:typeof r.reducers=="function"};N1e(R)?j1e(D,R,d,e):O1e(D,R,d)});function f(){const[N={},R=[],D=void 0]=typeof r.extraReducers=="function"?TW(r.extraReducers):[r.extraReducers],z={...N,...c.sliceCaseReducersByType};return w1e(r.initialState,j=>{for(let M in z)j.addCase(M,z[M]);for(let M of c.sliceMatchers)j.addMatcher(M.matcher,M.reducer);for(let M of R)j.addMatcher(M.matcher,M.reducer);D&&j.addDefaultCase(D)})}const p=N=>N,g=new Map,v=new WeakMap;let b;function T(N,R){return b||(b=f()),b(N,R)}function S(){return b||(b=f()),b.getInitialState()}function k(N,R=!1){function D(j){let M=j[N];return typeof M>"u"&&R&&(M=kv(v,D,S)),M}function z(j=p){const M=kv(g,R,()=>new WeakMap);return kv(M,j,()=>{const P={};for(const[B,U]of Object.entries(r.selectors??{}))P[B]=A1e(U,j,()=>kv(v,j,S),R);return P})}return{reducerPath:N,getSelectors:z,get selectors(){return z(D)},selectSlice:D}}const C={name:i,reducer:T,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:S,...k(s),injectInto(N,{reducerPath:R,...D}={}){const z=R??s;return N.inject({reducerPath:z,reducer:T},D),{...C,...k(z,!0)}}};return C}}function A1e(t,e,n,r){function i(s,...a){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...a)}return i.unwrapped=t,i}var Ei=_1e();function C1e(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function O1e({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!M1e(r))throw new Error(Hi(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Ns(t,a):Ns(t))}function N1e(t){return t._reducerDefinitionType==="asyncThunk"}function M1e(t){return t._reducerDefinitionType==="reducerWithPrepare"}function j1e({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Hi(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:d,options:f}=n,p=i(t,s,f);r.exposeAction(e,p),a&&r.addCase(p.fulfilled,a),l&&r.addCase(p.pending,l),c&&r.addCase(p.rejected,c),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(e,{fulfilled:a||_v,pending:l||_v,rejected:c||_v,settled:d||_v})}function _v(){}var I1e="task",EW="listener",kW="completed",XN="cancelled",D1e=`task-${XN}`,P1e=`task-${kW}`,MC=`${EW}-${XN}`,R1e=`${EW}-${kW}`,y1=class{constructor(t){this.code=t,this.message=`${I1e} ${XN} (reason: ${t})`}name="TaskAbortError";message},QN=(t,e)=>{if(typeof t!="function")throw new TypeError(Hi(32))},Px=()=>{},_W=(t,e=Px)=>(t.catch(e),t),AW=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),fd=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},hd=t=>{if(t.aborted){const{reason:e}=t;throw new y1(e)}};function CW(t,e){let n=Px;return new Promise((r,i)=>{const s=()=>i(new y1(t.reason));if(t.aborted){s();return}n=AW(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Px})}var L1e=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof y1?"cancelled":"rejected",error:n}}finally{e?.()}},Rx=t=>e=>_W(CW(t,e).then(n=>(hd(t),n))),OW=t=>{const e=Rx(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:oh}=Object,RV={},v1="listenerMiddleware",V1e=(t,e)=>{const n=r=>AW(t,()=>fd(r,t.reason));return(r,i)=>{QN(r);const s=new AbortController;n(s);const a=L1e(async()=>{hd(t),hd(s.signal);const l=await r({pause:Rx(s.signal),delay:OW(s.signal),signal:s.signal});return hd(s.signal),l},()=>fd(s,P1e));return i?.autoJoin&&e.push(a.catch(Px)),{result:Rx(t)(a),cancel(){fd(s,D1e)}}}},B1e=(t,e)=>{const n=async(r,i)=>{hd(e);let s=()=>{};const l=[new Promise((c,d)=>{let f=t({predicate:r,effect:(p,g)=>{g.unsubscribe(),c([p,g.getState(),g.getOriginalState()])}});s=()=>{f(),d()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await CW(e,Promise.race(l));return hd(e),c}finally{s()}};return(r,i)=>_W(n(r,i))},NW=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Ns(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Hi(21));return QN(s),{predicate:i,type:e,effect:s}},MW=oh(t=>{const{type:e,predicate:n,effect:r}=NW(t);return{id:T1e(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Hi(22))}}},{withTypes:()=>MW}),LV=(t,e)=>{const{type:n,effect:r,predicate:i}=NW(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},jC=t=>{t.pending.forEach(e=>{fd(e,MC)})},z1e=t=>()=>{t.forEach(jC),t.clear()},VV=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},jW=oh(Ns(`${v1}/add`),{withTypes:()=>jW}),U1e=Ns(`${v1}/removeAll`),IW=oh(Ns(`${v1}/remove`),{withTypes:()=>IW}),F1e=(...t)=>{console.error(`${v1}/error`,...t)},m0=(t={})=>{const e=new Map,{extra:n,onError:r=F1e}=t;QN(r);const i=f=>(f.unsubscribe=()=>e.delete(f.id),e.set(f.id,f),p=>{f.unsubscribe(),p?.cancelActive&&jC(f)}),s=f=>{const p=LV(e,f)??MW(f);return i(p)};oh(s,{withTypes:()=>s});const a=f=>{const p=LV(e,f);return p&&(p.unsubscribe(),f.cancelActive&&jC(p)),!!p};oh(a,{withTypes:()=>a});const l=async(f,p,g,v)=>{const b=new AbortController,T=B1e(s,b.signal),S=[];try{f.pending.add(b),await Promise.resolve(f.effect(p,oh({},g,{getOriginalState:v,condition:(k,C)=>T(k,C).then(Boolean),take:T,delay:OW(b.signal),pause:Rx(b.signal),extra:n,signal:b.signal,fork:V1e(b.signal,S),unsubscribe:f.unsubscribe,subscribe:()=>{e.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((k,C,N)=>{k!==b&&(fd(k,MC),N.delete(k))})},cancel:()=>{fd(b,MC),f.pending.delete(b)},throwIfCancelled:()=>{hd(b.signal)}})))}catch(k){k instanceof y1||VV(r,k,{raisedBy:"effect"})}finally{await Promise.all(S),fd(b,R1e),f.pending.delete(b)}},c=z1e(e);return{middleware:f=>p=>g=>{if(!dW(g))return p(g);if(jW.match(g))return s(g.payload);if(U1e.match(g)){c();return}if(IW.match(g))return a(g.payload);let v=f.getState();const b=()=>{if(v===RV)throw new Error(Hi(23));return v};let T;try{if(T=p(g),e.size>0){const S=f.getState(),k=Array.from(e.values());for(const C of k){let N=!1;try{N=C.predicate(g,S,v)}catch(R){N=!1,VV(r,R,{raisedBy:"predicate"})}N&&l(C,g,f,b)}}}finally{v=RV}return T},startListening:s,stopListening:a,clearListeners:c}};function Hi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var $1e={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},DW=Ei({name:"chartLayout",initialState:$1e,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:H1e,setLayout:q1e,setChartSize:W1e,setScale:G1e}=DW.actions,K1e=DW.reducer;function PW(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Un(t){return Number.isFinite(t)}function Ja(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function BV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BV(Object(n),!0).forEach(function(r){Y1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y1e(t,e,n){return(e=X1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X1e(t){var e=Q1e(t,"string");return typeof e=="symbol"?e:e+""}function Q1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cr(t,e,n){return cr(t)||cr(e)?n:Qa(e)?f1(t,e,n):typeof e=="function"?e(t):n}var J1e=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:l}=e;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&je(t[s]))return Jf(Jf({},t),{},{[s]:t[s]+(r||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&je(t[a]))return Jf(Jf({},t),{},{[a]:t[a]+(i||0)})}return t},Zc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",RW=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,s,a=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate));return i||a.push(e),s||a.push(n),a},LW=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:f,ticks:p,niceTicks:g,axisType:v}=t;if(!a)return null;var b=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,T=i==="category"&&a.bandwidth?a.bandwidth()/b:0;if(T=v==="angleAxis"&&s&&s.length>=2?ws(s[0]-s[1])*2*T:T,p||g){var S=(p||g||[]).map((k,C)=>{var N=r?r.indexOf(k):k;return{coordinate:a(N)+T,value:k,offset:T,index:C}});return S.filter(k=>!Xa(k.coordinate))}return c&&d?d.map((k,C)=>({coordinate:a(k)+T,value:k,index:C,offset:T})):a.ticks&&f!=null?a.ticks(f).map((k,C)=>({coordinate:a(k)+T,value:k,offset:T,index:C})):a.domain().map((k,C)=>({coordinate:a(k)+T,value:r?r[k]:k,index:C,offset:T}))},zV=1e-4,Z1e=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-zV,s=Math.max(r[0],r[1])+zV,a=t(e[0]),l=t(e[n-1]);(a<i||a>s||l<i||l>s)&&t.domain([e[0],e[n-1]])}},eSe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0,l=0;l<n;++l){var c=t[l],d=c?.[i];if(d!=null){var f=d[1],p=d[0],g=Xa(f)?p:f;g>=0?(d[0]=s,d[1]=s+g,s=f):(d[0]=a,d[1]=a+g,a=f)}}}},tSe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0;a<n;++a){var l=t[a],c=l?.[i];if(c!=null){var d=Xa(c[1])?c[0]:c[1];d>=0?(c[0]=s,c[1]=s+d,s=c[1]):(c[0]=0,c[1]=0)}}}},nSe={sign:eSe,expand:zxe,none:Ad,silhouette:Uxe,wiggle:Fxe,positive:tSe},rSe=(t,e,n)=>{var r,i=(r=nSe[n])!==null&&r!==void 0?r:Ad,s=Bxe().keys(e).value((l,c)=>Number(Cr(l,c,0))).order(TC).offset(i),a=s(t);return a.forEach((l,c)=>{l.forEach((d,f)=>{var p=Cr(t[f],e[c],0);Array.isArray(p)&&p.length===2&&je(p[0])&&je(p[1])&&(d[0]=p[0],d[1]=p[1])})}),a};function UV(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!cr(i[e.dataKey])){var l=G7(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=Cr(i,cr(a)?e.dataKey:a);return cr(c)?null:e.scale(c)}var iSe=t=>{var e=t.flat(2).filter(je);return[Math.min(...e),Math.max(...e)]},sSe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],aSe=(t,e,n)=>{if(t!=null)return sSe(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:a}=s,l=a.reduce((c,d)=>{var f=PW(d,e,n),p=iSe(f);return!Un(p[0])||!Un(p[1])?c:[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},FV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$V=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Lx=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=h1(e,f=>f.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var c=i[a],d=i[a-1];s=Math.min((c?.coordinate||0)-(d?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function HV(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Jf(Jf({},e),{},{dataKey:n,payload:r,value:i,name:s})}function VW(t,e){if(t)return String(t);if(typeof e=="string")return e}var oSe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},lSe=(t,e)=>e==="centric"?t.angle:t.radius,ol=t=>t.layout.width,ll=t=>t.layout.height,cSe=t=>t.layout.scale,BW=t=>t.layout.margin,b1=se(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),x1=se(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),uSe="data-recharts-item-index",dSe="data-recharts-item-id",g0=60;function qV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Av(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qV(Object(n),!0).forEach(function(r){fSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fSe(t,e,n){return(e=hSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hSe(t){var e=pSe(t,"string");return typeof e=="symbol"?e:e+""}function pSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mSe=t=>t.brush.height;function gSe(t){var e=x1(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:g0;return n+i}return n},0)}function ySe(t){var e=x1(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:g0;return n+i}return n},0)}function vSe(t){var e=b1(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function bSe(t){var e=b1(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Nr=se([ol,ll,BW,mSe,gSe,ySe,vSe,bSe,lW,Qwe],(t,e,n,r,i,s,a,l,c,d)=>{var f={left:(n.left||0)+i,right:(n.right||0)+s},p={top:(n.top||0)+a,bottom:(n.bottom||0)+l},g=Av(Av({},p),f),v=g.bottom;g.bottom+=r,g=J1e(g,c,d);var b=t-g.left-g.right,T=e-g.top-g.bottom;return Av(Av({brushBottom:v},g),{},{width:Math.max(b,0),height:Math.max(T,0)})}),xSe=se(Nr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),zW=se(ol,ll,(t,e)=>({x:0,y:0,width:t,height:e})),wSe=_.createContext(null),ki=()=>_.useContext(wSe)!=null,w1=t=>t.brush,S1=se([w1,Nr,BW],(t,e,n)=>({height:t.height,x:je(t.x)?t.x:e.left,y:je(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:je(t.width)?t.width:e.width})),Yk={},Xk={},Qk={},WV;function SSe(){return WV||(WV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let a,l=null;const c=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),f=()=>{l!==null&&(n.apply(a,l),a=void 0,l=null)},p=()=>{d&&f(),T()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},b=()=>{g!==null&&(clearTimeout(g),g=null)},T=()=>{b(),a=void 0,l=null},S=()=>{f()},k=function(...C){if(i?.aborted)return;a=this,l=C;const N=g==null;v(),c&&N&&f()};return k.schedule=v,k.cancel=T,k.flush=S,i?.addEventListener("abort",T,{once:!0}),k}t.debounce=e})(Qk)),Qk}var GV;function TSe(){return GV||(GV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SSe();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:c}=s,d=Array(2);a&&(d[0]="leading"),l&&(d[1]="trailing");let f,p=null;const g=e.debounce(function(...T){f=r.apply(this,T),p=null},i,{edges:d}),v=function(...T){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(f=r.apply(this,T),p=Date.now(),g.cancel(),g.schedule(),f):(g.apply(this,T),f)},b=()=>(g.flush(),f);return v.cancel=g.cancel,v.flush=b,v}t.debounce=n})(Xk)),Xk}var KV;function ESe(){return KV||(KV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TSe();function n(r,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:l})}t.throttle=n})(Yk)),Yk}var Jk,YV;function kSe(){return YV||(YV=1,Jk=ESe().throttle),Jk}var _Se=kSe();const ASe=eo(_Se);var Vx=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},UW=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:a}=n,l=Ko(r)?t:Number(r),c=Ko(i)?e:Number(i);return s&&s>0&&(l?c=l/s:c&&(l=c*s),a&&c!=null&&c>a&&(c=a)),{calculatedWidth:l,calculatedHeight:c}},CSe={width:0,height:0,overflow:"visible"},OSe={width:0,overflowX:"visible"},NSe={height:0,overflowY:"visible"},MSe={},jSe=t=>{var{width:e,height:n}=t,r=Ko(e),i=Ko(n);return r&&i?CSe:r?OSe:i?NSe:MSe};function ISe(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function IC(){return IC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IC.apply(null,arguments)}function XV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XV(Object(n),!0).forEach(function(r){DSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DSe(t,e,n){return(e=PSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PSe(t){var e=RSe(t,"string");return typeof e=="symbol"?e:e+""}function RSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FW=_.createContext({width:-1,height:-1});function LSe(t){return Ja(t.width)&&Ja(t.height)}function $W(t){var{children:e,width:n,height:r}=t,i=_.useMemo(()=>({width:n,height:r}),[n,r]);return LSe(i)?_.createElement(FW.Provider,{value:i},e):null}var JN=()=>_.useContext(FW),VSe=_.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:l,maxHeight:c,children:d,debounce:f=0,id:p,className:g,onResize:v,style:b={}}=t,T=_.useRef(null),S=_.useRef();S.current=v,_.useImperativeHandle(e,()=>T.current);var[k,C]=_.useState({containerWidth:r.width,containerHeight:r.height}),N=_.useCallback((M,P)=>{C(B=>{var U=Math.round(M),V=Math.round(P);return B.containerWidth===U&&B.containerHeight===V?B:{containerWidth:U,containerHeight:V}})},[]);_.useEffect(()=>{if(T.current==null||typeof ResizeObserver>"u")return h0;var M=V=>{var L,{width:Z,height:oe}=V[0].contentRect;N(Z,oe),(L=S.current)===null||L===void 0||L.call(S,Z,oe)};f>0&&(M=ASe(M,f,{trailing:!0,leading:!1}));var P=new ResizeObserver(M),{width:B,height:U}=T.current.getBoundingClientRect();return N(B,U),P.observe(T.current),()=>{P.disconnect()}},[N,f]);var{containerWidth:R,containerHeight:D}=k;Vx(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:z,calculatedHeight:j}=UW(R,D,{width:i,height:s,aspect:n,maxHeight:c});return Vx(z!=null&&z>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,j,i,s,a,l,n),_.createElement("div",{id:p?"".concat(p):void 0,className:yt("recharts-responsive-container",g),style:QV(QV({},b),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:c}),ref:T},_.createElement("div",{style:jSe({width:i,height:s})},_.createElement($W,{width:z,height:j},d)))}),BSe=_.forwardRef((t,e)=>{var n=JN();if(Ja(n.width)&&Ja(n.height))return t.children;var{width:r,height:i}=ISe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=UW(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return je(s)&&je(a)?_.createElement($W,{width:s,height:a},t.children):_.createElement(VSe,IC({},t,{width:r,height:i,ref:e}))});function HW(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var T1=()=>{var t,e=ki(),n=Ve(xSe),r=Ve(S1),i=(t=Ve(w1))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},zSe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},qW=()=>{var t;return(t=Ve(Nr))!==null&&t!==void 0?t:zSe},WW=()=>Ve(ol),GW=()=>Ve(ll),Gt=t=>t.layout.layoutType,y0=()=>Ve(Gt),USe=()=>{var t=y0();return t!==void 0},E1=t=>{var e=ur(),n=ki(),{width:r,height:i}=t,s=JN(),a=r,l=i;return s&&(a=s.width>0?s.width:r,l=s.height>0?s.height:i),_.useEffect(()=>{!n&&Ja(a)&&Ja(l)&&e(W1e({width:a,height:l}))},[e,n,a,l]),null},FSe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},KW=Ei({name:"legend",initialState:FSe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Qt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=na(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Qt()},removeLegendPayload:{reducer(t,e){var n=na(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Qt()}}}),{setLegendSize:ePe,setLegendSettings:tPe,addLegendPayload:$Se,replaceLegendPayload:HSe,removeLegendPayload:qSe}=KW.actions,WSe=KW.reducer;function DC(){return DC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DC.apply(null,arguments)}function JV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JV(Object(n),!0).forEach(function(r){GSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GSe(t,e,n){return(e=KSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KSe(t){var e=YSe(t,"string");return typeof e=="symbol"?e:e+""}function YSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XSe(t){return Array.isArray(t)&&Qa(t[0])&&Qa(t[1])?t.join(" ~ "):t}var QSe=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:d,label:f,labelFormatter:p,accessibilityLayer:g=!1}=t,v=()=>{if(s&&s.length){var D={padding:0,margin:0},z=(l?h1(s,l):s).map((j,M)=>{if(j.type==="none")return null;var P=j.formatter||a||XSe,{value:B,name:U}=j,V=B,L=U;if(P){var Z=P(B,U,j,M,s);if(Array.isArray(Z))[V,L]=Z;else if(Z!=null)V=Z;else return null}var oe=Zk({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:oe},Qa(L)?_.createElement("span",{className:"recharts-tooltip-item-name"},L):null,Qa(L)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},V),_.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:D},z)}return null},b=Zk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),T=Zk({margin:0},i),S=!cr(f),k=S?f:"",C=yt("recharts-default-tooltip",c),N=yt("recharts-tooltip-label",d);S&&p&&s!==void 0&&s!==null&&(k=p(f,s));var R=g?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",DC({className:C,style:b},R),_.createElement("p",{className:N,style:T},_.isValidElement(k)?k:"".concat(k)),v())},rm="recharts-tooltip-wrapper",JSe={visibility:"hidden"};function ZSe(t){var{coordinate:e,translateX:n,translateY:r}=t;return yt(rm,{["".concat(rm,"-right")]:je(n)&&e&&je(e.x)&&n>=e.x,["".concat(rm,"-left")]:je(n)&&e&&je(e.x)&&n<e.x,["".concat(rm,"-bottom")]:je(r)&&e&&je(e.y)&&r>=e.y,["".concat(rm,"-top")]:je(r)&&e&&je(e.y)&&r<e.y})}function ZV(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=t;if(s&&je(s[r]))return s[r];var f=n[r]-l-(i>0?i:0),p=n[r]+i;if(e[r])return a[r]?f:p;var g=c[r];if(g==null)return 0;if(a[r]){var v=f,b=g;return v<b?Math.max(p,g):Math.max(f,g)}if(d==null)return 0;var T=p+l,S=g+d;return T>S?Math.max(f,g):Math.max(p,g)}function eTe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function tTe(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:c}=t,d,f,p;return a.height>0&&a.width>0&&n?(f=ZV({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),p=ZV({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),d=eTe({translateX:f,translateY:p,useTranslate3d:l})):d=JSe,{cssProperties:d,cssClasses:ZSe({translateX:f,translateY:p,coordinate:n})}}function e6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e6(Object(n),!0).forEach(function(r){PC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PC(t,e,n){return(e=nTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nTe(t){var e=rTe(t,"string");return typeof e=="symbol"?e:e+""}function rTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class iTe extends _.PureComponent{constructor(){super(...arguments),PC(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),PC(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:c,offset:d,position:f,reverseDirection:p,useTranslate3d:g,viewBox:v,wrapperStyle:b,lastBoundingBox:T,innerRef:S,hasPortalFromProps:k}=this.props,{cssClasses:C,cssProperties:N}=tTe({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:d,position:f,reverseDirection:p,tooltipBox:{height:T.height,width:T.width},useTranslate3d:g,viewBox:v}),R=k?{}:Cv(Cv({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),D=Cv(Cv({},R),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},b);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:D,ref:S},s)}}var YW=()=>{var t;return(t=Ve(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function RC(){return RC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RC.apply(null,arguments)}function t6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t6(Object(n),!0).forEach(function(r){sTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sTe(t,e,n){return(e=aTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aTe(t){var e=oTe(t,"string");return typeof e=="symbol"?e:e+""}function oTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r6={curveBasisClosed:Cxe,curveBasisOpen:Oxe,curveBasis:Axe,curveBumpX:hxe,curveBumpY:pxe,curveLinearClosed:Nxe,curveLinear:u1,curveMonotoneX:Mxe,curveMonotoneY:jxe,curveNatural:Ixe,curveStep:Dxe,curveStepAfter:Rxe,curveStepBefore:Pxe},Bx=t=>Un(t.x)&&Un(t.y),i6=t=>t.base!=null&&Bx(t.base)&&Bx(t),im=t=>t.x,sm=t=>t.y,lTe=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(f0(t));return(n==="curveMonotone"||n==="curveBump")&&e?r6["".concat(n).concat(e==="vertical"?"Y":"X")]:r6[n]||u1},cTe=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,a=lTe(e,i),l=s?n.filter(Bx):n,c;if(Array.isArray(r)){var d=n.map((v,b)=>n6(n6({},v),{},{base:r[b]}));i==="vertical"?c=wv().y(sm).x1(im).x0(v=>v.base.x):c=wv().x(im).y1(sm).y0(v=>v.base.y);var f=c.defined(i6).curve(a),p=s?d.filter(i6):d;return f(p)}i==="vertical"&&je(r)?c=wv().y(sm).x1(im).x0(r):je(r)?c=wv().x(im).y1(sm).y0(r):c=I7().x(im).y(sm);var g=c.defined(Bx).curve(a);return g(l)},XW=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=y0();if((!n||!n.length)&&!r)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},l=n&&n.length?cTe(a):r;return _.createElement("path",RC({},Ya(t),$N(t),{className:yt("recharts-curve",e),d:l===null?void 0:l,ref:i}))},uTe=["x","y","top","left","width","height","className"];function LC(){return LC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LC.apply(null,arguments)}function s6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dTe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s6(Object(n),!0).forEach(function(r){fTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fTe(t,e,n){return(e=hTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hTe(t){var e=pTe(t,"string");return typeof e=="symbol"?e:e+""}function pTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mTe(t,e){if(t==null)return{};var n,r,i=gTe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yTe=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),vTe=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:l}=t,c=mTe(t,uTe),d=dTe({x:e,y:n,top:r,left:i,width:s,height:a},c);return!je(e)||!je(n)||!je(s)||!je(a)||!je(r)||!je(i)?null:_.createElement("path",LC({},ii(d),{className:yt("recharts-cross",l),d:yTe(e,n,s,a,r,i)}))};function bTe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function a6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a6(Object(n),!0).forEach(function(r){xTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xTe(t,e,n){return(e=wTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wTe(t){var e=STe(t,"string");return typeof e=="symbol"?e:e+""}function STe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TTe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),QW=(t,e,n)=>t.map(r=>"".concat(TTe(r)," ").concat(e,"ms ").concat(n)).join(","),ETe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Og=(t,e)=>Object.keys(e).reduce((n,r)=>o6(o6({},n),{},{[r]:t(r,e[r])}),{});function l6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l6(Object(n),!0).forEach(function(r){kTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kTe(t,e,n){return(e=_Te(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Te(t){var e=ATe(t,"string");return typeof e=="symbol"?e:e+""}function ATe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zx=(t,e,n)=>t+(e-t)*n,VC=t=>{var{from:e,to:n}=t;return e!==n},JW=(t,e,n)=>{var r=Og((i,s)=>{if(VC(s)){var[a,l]=t(s.from,s.to,s.velocity);return Hn(Hn({},s),{},{from:a,velocity:l})}return s},e);return n<1?Og((i,s)=>VC(s)&&r[i]!=null?Hn(Hn({},s),{},{velocity:zx(s.velocity,r[i].velocity,n),from:zx(s.from,r[i].from,n)}):s,e):JW(t,r,n-1)};function CTe(t,e,n,r,i,s){var a,l=r.reduce((g,v)=>Hn(Hn({},g),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),c=()=>Og((g,v)=>v.from,l),d=()=>!Object.values(l).filter(VC).length,f=null,p=g=>{a||(a=g);var v=g-a,b=v/n.dt;l=JW(n,l,b),i(Hn(Hn(Hn({},t),e),c())),a=g,d()||(f=s.setTimeout(p))};return()=>(f=s.setTimeout(p),()=>{var g;(g=f)===null||g===void 0||g()})}function OTe(t,e,n,r,i,s,a){var l=null,c=i.reduce((p,g)=>{var v=t[g],b=e[g];return v==null||b==null?p:Hn(Hn({},p),{},{[g]:[v,b]})},{}),d,f=p=>{d||(d=p);var g=(p-d)/r,v=Og((T,S)=>zx(...S,n(g)),c);if(s(Hn(Hn(Hn({},t),e),v)),g<1)l=a.setTimeout(f);else{var b=Og((T,S)=>zx(...S,n(1)),c);s(Hn(Hn(Hn({},t),e),b))}};return()=>(l=a.setTimeout(f),()=>{var p;(p=l)===null||p===void 0||p()})}const NTe=(t,e,n,r,i,s)=>{var a=ETe(t,e);return n==null?()=>(i(Hn(Hn({},t),e)),()=>{}):n.isStepper===!0?CTe(t,e,n,a,i,s):OTe(t,e,n,r,a,i,s)};var Ux=1e-4,ZW=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],eG=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),c6=(t,e)=>n=>{var r=ZW(t,e);return eG(r,n)},MTe=(t,e)=>n=>{var r=ZW(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return eG(i,n)},jTe=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},ITe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=jTe(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},DTe=(t,e,n,r)=>{var i=c6(t,n),s=c6(e,r),a=MTe(t,n),l=d=>d>1?1:d<0?0:d,c=d=>{for(var f=d>1?1:d,p=f,g=0;g<8;++g){var v=i(p)-f,b=a(p);if(Math.abs(v-f)<Ux||b<Ux)return s(p);p=l(p-v/b)}return s(p)};return c.isStepper=!1,c},u6=function(){return DTe(...ITe(...arguments))},PTe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,l,c)=>{var d=-(a-l)*n,f=c*r,p=c+(d-f)*i/1e3,g=c*i/1e3+a;return Math.abs(g-l)<Ux&&Math.abs(p)<Ux?[l,0]:[g,p]};return s.isStepper=!0,s.dt=i,s},RTe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return u6(t);case"spring":return PTe();default:if(t.split("(")[0]==="cubic-bezier")return u6(t)}return typeof t=="function"?t:null};function LTe(t){var e,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...d]=l;if(typeof c=="number"){i=t.setTimeout(s.bind(null,d),c);return}s(c),i=t.setTimeout(s.bind(null,d));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class VTe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function BTe(){return LTe(new VTe)}var zTe=_.createContext(BTe);function UTe(t,e){var n=_.useContext(zTe);return _.useMemo(()=>e??n(t),[t,e,n])}var FTe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),k1={isSsr:FTe()},$Te={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},d6={t:0},e_={t:1};function ZN(t){var e=Ti(t,$Te),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c,children:d}=e,f=n==="auto"?!k1.isSsr:n,p=UTe(e.animationId,e.animationManager),[g,v]=_.useState(f?d6:e_),b=_.useRef(null);return _.useEffect(()=>{f||v(e_)},[f]),_.useEffect(()=>{if(!f||!r)return h0;var T=NTe(d6,e_,RTe(s),i,v,p.getTimeoutController()),S=()=>{b.current=T()};return p.start([c,a,S,i,l]),()=>{p.stop(),b.current&&b.current(),l()}},[f,r,i,s,a,c,l,p]),d(g.t)}function eM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(_g(e)),r=_.useRef(t);return r.current!==t&&(n.current=_g(e),r.current=t),n.current}var HTe=["radius"],qTe=["radius"],f6,h6,p6,m6,g6,y6,v6,b6,x6,w6;function S6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S6(Object(n),!0).forEach(function(r){WTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WTe(t,e,n){return(e=GTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GTe(t){var e=KTe(t,"string");return typeof e=="symbol"?e:e+""}function KTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fx(){return Fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fx.apply(null,arguments)}function E6(t,e){if(t==null)return{};var n,r,i=YTe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function YTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Na(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var k6=(t,e,n,r,i)=>{var s=hc(n),a=hc(r),l=Math.min(Math.abs(s)/2,Math.abs(a)/2),c=a>=0?1:-1,d=s>=0?1:-1,f=a>=0&&s>=0||a<0&&s<0?1:0,p;if(l>0&&i instanceof Array){for(var g=[0,0,0,0],v=0,b=4;v<b;v++)g[v]=i[v]>l?l:i[v];p=mn(f6||(f6=Na(["M",",",""])),t,e+c*g[0]),g[0]>0&&(p+=mn(h6||(h6=Na(["A ",",",",0,0,",",",",",""])),g[0],g[0],f,t+d*g[0],e)),p+=mn(p6||(p6=Na(["L ",",",""])),t+n-d*g[1],e),g[1]>0&&(p+=mn(m6||(m6=Na(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],f,t+n,e+c*g[1])),p+=mn(g6||(g6=Na(["L ",",",""])),t+n,e+r-c*g[2]),g[2]>0&&(p+=mn(y6||(y6=Na(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],f,t+n-d*g[2],e+r)),p+=mn(v6||(v6=Na(["L ",",",""])),t+d*g[3],e+r),g[3]>0&&(p+=mn(b6||(b6=Na(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],f,t,e+r-c*g[3])),p+="Z"}else if(l>0&&i===+i&&i>0){var T=Math.min(l,i);p=mn(x6||(x6=Na(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+c*T,T,T,f,t+d*T,e,t+n-d*T,e,T,T,f,t+n,e+c*T,t+n,e+r-c*T,T,T,f,t+n-d*T,e+r,t+d*T,e+r,T,T,f,t,e+r-c*T)}else p=mn(w6||(w6=Na(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return p},_6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tG=t=>{var e=Ti(t,_6),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Y=n.current.getTotalLength();Y&&i(Y)}catch{}},[]);var{x:s,y:a,width:l,height:c,radius:d,className:f}=e,{animationEasing:p,animationDuration:g,animationBegin:v,isAnimationActive:b,isUpdateAnimationActive:T}=e,S=_.useRef(l),k=_.useRef(c),C=_.useRef(s),N=_.useRef(a),R=_.useMemo(()=>({x:s,y:a,width:l,height:c,radius:d}),[s,a,l,c,d]),D=eM(R,"rectangle-");if(s!==+s||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var z=yt("recharts-rectangle",f);if(!T){var j=ii(e),{radius:M}=j,P=E6(j,HTe);return _.createElement("path",Fx({},P,{x:hc(s),y:hc(a),width:hc(l),height:hc(c),radius:typeof d=="number"?d:void 0,className:z,d:k6(s,a,l,c,d)}))}var B=S.current,U=k.current,V=C.current,L=N.current,Z="0px ".concat(r===-1?1:r,"px"),oe="".concat(r,"px 0px"),W=QW(["strokeDasharray"],g,typeof p=="string"?p:_6.animationEasing);return _.createElement(ZN,{animationId:D,key:D,canBegin:r>0,duration:g,easing:p,isActive:T,begin:v},Y=>{var ce=vi(B,l,Y),he=vi(U,c,Y),Se=vi(V,s,Y),H=vi(L,a,Y);n.current&&(S.current=ce,k.current=he,C.current=Se,N.current=H);var ne;b?Y>0?ne={transition:W,strokeDasharray:oe}:ne={strokeDasharray:Z}:ne={strokeDasharray:oe};var ye=ii(e),{radius:be}=ye,ke=E6(ye,qTe);return _.createElement("path",Fx({},ke,{radius:typeof d=="number"?d:void 0,className:z,d:k6(Se,H,ce,he,d),ref:n,style:T6(T6({},ne),e.style)}))})};function A6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A6(Object(n),!0).forEach(function(r){XTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XTe(t,e,n){return(e=QTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QTe(t){var e=JTe(t,"string");return typeof e=="symbol"?e:e+""}function JTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $x=Math.PI/180,ZTe=t=>t*180/Math.PI,Ar=(t,e,n,r)=>({x:t+Math.cos(-$x*r)*n,y:e+Math.sin(-$x*r)*n}),eEe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},tEe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},nEe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=tEe({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(n-i)/a,c=Math.acos(l);return r>s&&(c=2*Math.PI-c),{radius:a,angle:ZTe(c),angleInRadian:c}},rEe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},iEe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},sEe=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=nEe({x:n,y:r},e),{innerRadius:a,outerRadius:l}=e;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:d}=rEe(e),f=s,p;if(c<=d){for(;f>d;)f-=360;for(;f<c;)f+=360;p=f>=c&&f<=d}else{for(;f>c;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=c}return p?C6(C6({},e),{},{radius:i,angle:iEe(f,e)}):null};function nG(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=Ar(e,n,r,i),l=Ar(e,n,r,s);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var O6,N6,M6,j6,I6,D6,P6;function BC(){return BC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BC.apply(null,arguments)}function Ju(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var aEe=(t,e)=>{var n=ws(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Ov=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:c}=t,d=l*(a?1:-1)+r,f=Math.asin(l/d)/$x,p=c?i:i+s*f,g=Ar(e,n,d,p),v=Ar(e,n,r,p),b=c?i-s*f:i,T=Ar(e,n,d*Math.cos(f*$x),b);return{center:g,circleTangency:v,lineTangency:T,theta:f}},rG=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,l=aEe(s,a),c=s+l,d=Ar(e,n,i,s),f=Ar(e,n,i,c),p=mn(O6||(O6=Ju(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(l)>180),+(s>c),f.x,f.y);if(r>0){var g=Ar(e,n,r,s),v=Ar(e,n,r,c);p+=mn(N6||(N6=Ju(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,r,r,+(Math.abs(l)>180),+(s<=c),g.x,g.y)}else p+=mn(M6||(M6=Ju(["L ",","," Z"])),e,n);return p},oEe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:d}=t,f=ws(d-c),{circleTangency:p,lineTangency:g,theta:v}=Ov({cx:e,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),{circleTangency:b,lineTangency:T,theta:S}=Ov({cx:e,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),k=l?Math.abs(c-d):Math.abs(c-d)-v-S;if(k<0)return a?mn(j6||(j6=Ju(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,s,s,s*2,s,s,-s*2):rG({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var C=mn(I6||(I6=Ju(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,s,s,+(f<0),p.x,p.y,i,i,+(k>180),+(f<0),b.x,b.y,s,s,+(f<0),T.x,T.y);if(r>0){var{circleTangency:N,lineTangency:R,theta:D}=Ov({cx:e,cy:n,radius:r,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:z,lineTangency:j,theta:M}=Ov({cx:e,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),P=l?Math.abs(c-d):Math.abs(c-d)-D-M;if(P<0&&s===0)return"".concat(C,"L").concat(e,",").concat(n,"Z");C+=mn(D6||(D6=Ju(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),j.x,j.y,s,s,+(f<0),z.x,z.y,r,r,+(P>180),+(f>0),N.x,N.y,s,s,+(f<0),R.x,R.y)}else C+=mn(P6||(P6=Ju(["L",",","Z"])),e,n);return C},lEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iG=t=>{var e=Ti(t,lEe),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f,className:p}=e;if(s<i||d===f)return null;var g=yt("recharts-sector",p),v=s-i,b=Bc(a,v,0,!0),T;return b>0&&Math.abs(d-f)<360?T=oEe({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):T=rG({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),_.createElement("path",BC({},ii(e),{className:g,d:T}))};function cEe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(X7(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:l}=e,c=Ar(r,i,s,l),d=Ar(r,i,a,l);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return nG(e)}}var t_={},n_={},r_={},R6;function uEe(){return R6||(R6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aW();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(r_)),r_}var L6;function dEe(){return L6||(L6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uEe();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(n_)),n_}var V6;function fEe(){return V6||(V6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oW(),n=dEe();function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=i,i+=a;return c}t.range=r})(t_)),t_}var i_,B6;function hEe(){return B6||(B6=1,i_=fEe().range),i_}var pEe=hEe();const sG=eo(pEe);function kc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mEe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tM(t){let e,n,r;t.length!==2?(e=kc,n=(l,c)=>kc(t(l),c),r=(l,c)=>t(l)-c):(e=t===kc||t===mEe?t:gEe,n=t,r=t);function i(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const p=d+f>>>1;n(l[p],c)<0?d=p+1:f=p}while(d<f)}return d}function s(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const p=d+f>>>1;n(l[p],c)<=0?d=p+1:f=p}while(d<f)}return d}function a(l,c,d=0,f=l.length){const p=i(l,c,d,f-1);return p>d&&r(l[p-1],c)>-r(l[p],c)?p-1:p}return{left:i,center:a,right:s}}function gEe(){return 0}function aG(t){return t===null?NaN:+t}function*yEe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const vEe=tM(kc),v0=vEe.right;tM(aG).center;class z6 extends Map{constructor(e,n=wEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(U6(this,e))}has(e){return super.has(U6(this,e))}set(e,n){return super.set(bEe(this,e),n)}delete(e){return super.delete(xEe(this,e))}}function U6({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function bEe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function xEe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function wEe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function SEe(t=kc){if(t===kc)return oG;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function oG(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const TEe=Math.sqrt(50),EEe=Math.sqrt(10),kEe=Math.sqrt(2);function Hx(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=TEe?10:s>=EEe?5:s>=kEe?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/a,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*a,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=n&&n<2?Hx(t,e,n*2):[l,c,d]}function zC(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?Hx(e,t,n):Hx(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(a<0)for(let d=0;d<l;++d)c[d]=(s-d)/-a;else for(let d=0;d<l;++d)c[d]=(s-d)*a;else if(a<0)for(let d=0;d<l;++d)c[d]=(i+d)/-a;else for(let d=0;d<l;++d)c[d]=(i+d)*a;return c}function UC(t,e,n){return e=+e,t=+t,n=+n,Hx(t,e,n)[2]}function FC(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?UC(e,t,n):UC(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function F6(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function $6(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function lG(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?oG:SEe(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,f=Math.log(c),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(c-p)/c)*(d-c/2<0?-1:1),v=Math.max(n,Math.floor(e-d*p/c+g)),b=Math.min(r,Math.floor(e+(c-d)*p/c+g));lG(t,e,v,b,i)}const s=t[e];let a=n,l=r;for(am(t,n,e),i(t[r],s)>0&&am(t,n,r);a<l;){for(am(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?am(t,n,l):(++l,am(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function am(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function _Ee(t,e,n){if(t=Float64Array.from(yEe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return $6(t);if(e>=1)return F6(t);var r,i=(r-1)*e,s=Math.floor(i),a=F6(lG(t,s).subarray(0,s+1)),l=$6(t.subarray(s+1));return a+(l-a)*(i-s)}}function AEe(t,e,n=aG){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function CEe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ps(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function cl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const $C=Symbol("implicit");function nM(){var t=new z6,e=[],n=[],r=$C;function i(s){let a=t.get(s);if(a===void 0){if(r!==$C)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new z6;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return nM(e,n).unknown(r)},Ps.apply(i,arguments),i}function rM(){var t=nM().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,c=0,d=0,f=.5;delete t.unknown;function p(){var g=e().length,v=i<r,b=v?i:r,T=v?r:i;s=(T-b)/Math.max(1,g-c+d*2),l&&(s=Math.floor(s)),b+=(T-b-s*(g-c))*f,a=s*(1-c),l&&(b=Math.round(b),a=Math.round(a));var S=CEe(g).map(function(k){return b+s*k});return n(v?S.reverse():S)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(g){return arguments.length?(l=!!g,p()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,d=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(d=+g,p()):d},t.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),p()):f},t.copy=function(){return rM(e(),[r,i]).round(l).paddingInner(c).paddingOuter(d).align(f)},Ps.apply(p(),arguments)}function cG(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return cG(e())},t}function OEe(){return cG(rM.apply(null,arguments).paddingInner(1))}function iM(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function uG(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function b0(){}var Ng=.7,qx=1/Ng,lh="\\s*([+-]?\\d+)\\s*",Mg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NEe=/^#([0-9a-f]{3,8})$/,MEe=new RegExp(`^rgb\\(${lh},${lh},${lh}\\)$`),jEe=new RegExp(`^rgb\\(${qa},${qa},${qa}\\)$`),IEe=new RegExp(`^rgba\\(${lh},${lh},${lh},${Mg}\\)$`),DEe=new RegExp(`^rgba\\(${qa},${qa},${qa},${Mg}\\)$`),PEe=new RegExp(`^hsl\\(${Mg},${qa},${qa}\\)$`),REe=new RegExp(`^hsla\\(${Mg},${qa},${qa},${Mg}\\)$`),H6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iM(b0,jg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:q6,formatHex:q6,formatHex8:LEe,formatHsl:VEe,formatRgb:W6,toString:W6});function q6(){return this.rgb().formatHex()}function LEe(){return this.rgb().formatHex8()}function VEe(){return dG(this).formatHsl()}function W6(){return this.rgb().formatRgb()}function jg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=NEe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?G6(e):n===3?new xi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Nv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Nv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=MEe.exec(t))?new xi(e[1],e[2],e[3],1):(e=jEe.exec(t))?new xi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=IEe.exec(t))?Nv(e[1],e[2],e[3],e[4]):(e=DEe.exec(t))?Nv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=PEe.exec(t))?X6(e[1],e[2]/100,e[3]/100,1):(e=REe.exec(t))?X6(e[1],e[2]/100,e[3]/100,e[4]):H6.hasOwnProperty(t)?G6(H6[t]):t==="transparent"?new xi(NaN,NaN,NaN,0):null}function G6(t){return new xi(t>>16&255,t>>8&255,t&255,1)}function Nv(t,e,n,r){return r<=0&&(t=e=n=NaN),new xi(t,e,n,r)}function BEe(t){return t instanceof b0||(t=jg(t)),t?(t=t.rgb(),new xi(t.r,t.g,t.b,t.opacity)):new xi}function HC(t,e,n,r){return arguments.length===1?BEe(t):new xi(t,e,n,r??1)}function xi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}iM(xi,HC,uG(b0,{brighter(t){return t=t==null?qx:Math.pow(qx,t),new xi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ng:Math.pow(Ng,t),new xi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xi(pd(this.r),pd(this.g),pd(this.b),Wx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:K6,formatHex:K6,formatHex8:zEe,formatRgb:Y6,toString:Y6}));function K6(){return`#${Zu(this.r)}${Zu(this.g)}${Zu(this.b)}`}function zEe(){return`#${Zu(this.r)}${Zu(this.g)}${Zu(this.b)}${Zu((isNaN(this.opacity)?1:this.opacity)*255)}`}function Y6(){const t=Wx(this.opacity);return`${t===1?"rgb(":"rgba("}${pd(this.r)}, ${pd(this.g)}, ${pd(this.b)}${t===1?")":`, ${t})`}`}function Wx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function pd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zu(t){return t=pd(t),(t<16?"0":"")+t.toString(16)}function X6(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Js(t,e,n,r)}function dG(t){if(t instanceof Js)return new Js(t.h,t.s,t.l,t.opacity);if(t instanceof b0||(t=jg(t)),!t)return new Js;if(t instanceof Js)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,c=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new Js(a,l,c,t.opacity)}function UEe(t,e,n,r){return arguments.length===1?dG(t):new Js(t,e,n,r??1)}function Js(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}iM(Js,UEe,uG(b0,{brighter(t){return t=t==null?qx:Math.pow(qx,t),new Js(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ng:Math.pow(Ng,t),new Js(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new xi(s_(t>=240?t-240:t+120,i,r),s_(t,i,r),s_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Js(Q6(this.h),Mv(this.s),Mv(this.l),Wx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Wx(this.opacity);return`${t===1?"hsl(":"hsla("}${Q6(this.h)}, ${Mv(this.s)*100}%, ${Mv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Q6(t){return t=(t||0)%360,t<0?t+360:t}function Mv(t){return Math.max(0,Math.min(1,t||0))}function s_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const sM=t=>()=>t;function FEe(t,e){return function(n){return t+n*e}}function $Ee(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function HEe(t){return(t=+t)==1?fG:function(e,n){return n-e?$Ee(e,n,t):sM(isNaN(e)?n:e)}}function fG(t,e){var n=e-t;return n?FEe(t,n):sM(isNaN(t)?e:t)}const J6=(function t(e){var n=HEe(e);function r(i,s){var a=n((i=HC(i)).r,(s=HC(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),d=fG(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return r.gamma=t,r})(1);function qEe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function WEe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function GEe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Hh(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function KEe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Gx(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function YEe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Hh(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var qC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a_=new RegExp(qC.source,"g");function XEe(t){return function(){return t}}function QEe(t){return function(e){return t(e)+""}}function JEe(t,e){var n=qC.lastIndex=a_.lastIndex=0,r,i,s,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=qC.exec(t))&&(i=a_.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:Gx(r,i)})),n=a_.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?QEe(c[0].x):XEe(e):(e=c.length,function(d){for(var f=0,p;f<e;++f)l[(p=c[f]).i]=p.x(d);return l.join("")})}function Hh(t,e){var n=typeof e,r;return e==null||n==="boolean"?sM(e):(n==="number"?Gx:n==="string"?(r=jg(e))?(e=r,J6):JEe:e instanceof jg?J6:e instanceof Date?KEe:WEe(e)?qEe:Array.isArray(e)?GEe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?YEe:Gx)(t,e)}function aM(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ZEe(t,e){e===void 0&&(e=t,t=Hh);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function eke(t){return function(){return t}}function Kx(t){return+t}var Z6=[0,1];function Qr(t){return t}function WC(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:eke(isNaN(e)?NaN:.5)}function tke(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function nke(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=WC(i,r),s=n(a,s)):(r=WC(r,i),s=n(s,a)),function(l){return s(r(l))}}function rke(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=WC(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var c=v0(t,l,1,r)-1;return s[c](i[c](l))}}function x0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _1(){var t=Z6,e=Z6,n=Hh,r,i,s,a=Qr,l,c,d;function f(){var g=Math.min(t.length,e.length);return a!==Qr&&(a=tke(t[0],t[g-1])),l=g>2?rke:nke,c=d=null,p}function p(g){return g==null||isNaN(g=+g)?s:(c||(c=l(t.map(r),e,n)))(r(a(g)))}return p.invert=function(g){return a(i((d||(d=l(e,t.map(r),Gx)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,Kx),f()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),f()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=aM,f()},p.clamp=function(g){return arguments.length?(a=g?!0:Qr,f()):a!==Qr},p.interpolate=function(g){return arguments.length?(n=g,f()):n},p.unknown=function(g){return arguments.length?(s=g,p):s},function(g,v){return r=g,i=v,f()}}function oM(){return _1()(Qr,Qr)}function ike(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Yx(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function _h(t){return t=Yx(Math.abs(t)),t?t[1]:NaN}function ske(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function ake(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var oke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ig(t){if(!(e=oke.exec(t)))throw new Error("invalid format: "+t);var e;return new lM({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ig.prototype=lM.prototype;function lM(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}lM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lke(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var hG;function cke(t,e){var n=Yx(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(hG=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Yx(t,Math.max(0,e+s-1))[0]}function eB(t,e){var n=Yx(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const tB={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ike,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>eB(t*100,e),r:eB,s:cke,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nB(t){return t}var rB=Array.prototype.map,iB=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uke(t){var e=t.grouping===void 0||t.thousands===void 0?nB:ske(rB.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?nB:ake(rB.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(p){p=Ig(p);var g=p.fill,v=p.align,b=p.sign,T=p.symbol,S=p.zero,k=p.width,C=p.comma,N=p.precision,R=p.trim,D=p.type;D==="n"?(C=!0,D="g"):tB[D]||(N===void 0&&(N=12),R=!0,D="g"),(S||g==="0"&&v==="=")&&(S=!0,g="0",v="=");var z=T==="$"?n:T==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",j=T==="$"?r:/[%p]/.test(D)?a:"",M=tB[D],P=/[defgprs%]/.test(D);N=N===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function B(U){var V=z,L=j,Z,oe,W;if(D==="c")L=M(U)+L,U="";else{U=+U;var Y=U<0||1/U<0;if(U=isNaN(U)?c:M(Math.abs(U),N),R&&(U=lke(U)),Y&&+U==0&&b!=="+"&&(Y=!1),V=(Y?b==="("?b:l:b==="-"||b==="("?"":b)+V,L=(D==="s"?iB[8+hG/3]:"")+L+(Y&&b==="("?")":""),P){for(Z=-1,oe=U.length;++Z<oe;)if(W=U.charCodeAt(Z),48>W||W>57){L=(W===46?i+U.slice(Z+1):U.slice(Z))+L,U=U.slice(0,Z);break}}}C&&!S&&(U=e(U,1/0));var ce=V.length+U.length+L.length,he=ce<k?new Array(k-ce+1).join(g):"";switch(C&&S&&(U=e(he+U,he.length?k-L.length:1/0),he=""),v){case"<":U=V+U+L+he;break;case"=":U=V+he+U+L;break;case"^":U=he.slice(0,ce=he.length>>1)+V+U+L+he.slice(ce);break;default:U=he+V+U+L;break}return s(U)}return B.toString=function(){return p+""},B}function f(p,g){var v=d((p=Ig(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(_h(g)/3)))*3,T=Math.pow(10,-b),S=iB[8+b/3];return function(k){return v(T*k)+S}}return{format:d,formatPrefix:f}}var jv,cM,pG;dke({thousands:",",grouping:[3],currency:["$",""]});function dke(t){return jv=uke(t),cM=jv.format,pG=jv.formatPrefix,jv}function fke(t){return Math.max(0,-_h(Math.abs(t)))}function hke(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_h(e)/3)))*3-_h(Math.abs(t)))}function pke(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_h(e)-_h(t))+1}function mG(t,e,n,r){var i=FC(t,e,n),s;switch(r=Ig(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=hke(i,a))&&(r.precision=s),pG(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=pke(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=fke(i))&&(r.precision=s-(r.type==="%")*2);break}}return cM(r)}function eu(t){var e=t.domain;return t.ticks=function(n){var r=e();return zC(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return mG(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],c,d,f=10;for(l<a&&(d=a,a=l,l=d,d=i,i=s,s=d);f-- >0;){if(d=UC(a,l,n),d===c)return r[i]=a,r[s]=l,e(r);if(d>0)a=Math.floor(a/d)*d,l=Math.ceil(l/d)*d;else if(d<0)a=Math.ceil(a*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function gG(){var t=oM();return t.copy=function(){return x0(t,gG())},Ps.apply(t,arguments),eu(t)}function yG(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Kx),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return yG(t).unknown(e)},t=arguments.length?Array.from(t,Kx):[0,1],eu(n)}function vG(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function sB(t){return Math.log(t)}function aB(t){return Math.exp(t)}function mke(t){return-Math.log(-t)}function gke(t){return-Math.exp(-t)}function yke(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vke(t){return t===10?yke:t===Math.E?Math.exp:e=>Math.pow(t,e)}function bke(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function oB(t){return(e,n)=>-t(-e,n)}function uM(t){const e=t(sB,aB),n=e.domain;let r=10,i,s;function a(){return i=bke(r),s=vke(r),n()[0]<0?(i=oB(i),s=oB(s),t(mke,gke)):t(sB,aB),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let d=c[0],f=c[c.length-1];const p=f<d;p&&([d,f]=[f,d]);let g=i(d),v=i(f),b,T;const S=l==null?10:+l;let k=[];if(!(r%1)&&v-g<S){if(g=Math.floor(g),v=Math.ceil(v),d>0){for(;g<=v;++g)for(b=1;b<r;++b)if(T=g<0?b/s(-g):b*s(g),!(T<d)){if(T>f)break;k.push(T)}}else for(;g<=v;++g)for(b=r-1;b>=1;--b)if(T=g>0?b/s(-g):b*s(g),!(T<d)){if(T>f)break;k.push(T)}k.length*2<S&&(k=zC(d,f,S))}else k=zC(g,v,Math.min(v-g,S)).map(s);return p?k.reverse():k},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Ig(c)).precision==null&&(c.trim=!0),c=cM(c)),l===1/0)return c;const d=Math.max(1,r*l/e.ticks().length);return f=>{let p=f/s(Math.round(i(f)));return p*r<r-.5&&(p*=r),p<=d?c(f):""}},e.nice=()=>n(vG(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function bG(){const t=uM(_1()).domain([1,10]);return t.copy=()=>x0(t,bG()).base(t.base()),Ps.apply(t,arguments),t}function lB(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function cB(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function dM(t){var e=1,n=t(lB(e),cB(e));return n.constant=function(r){return arguments.length?t(lB(e=+r),cB(e)):e},eu(n)}function xG(){var t=dM(_1());return t.copy=function(){return x0(t,xG()).constant(t.constant())},Ps.apply(t,arguments)}function uB(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function xke(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function wke(t){return t<0?-t*t:t*t}function fM(t){var e=t(Qr,Qr),n=1;function r(){return n===1?t(Qr,Qr):n===.5?t(xke,wke):t(uB(n),uB(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},eu(e)}function hM(){var t=fM(_1());return t.copy=function(){return x0(t,hM()).exponent(t.exponent())},Ps.apply(t,arguments),t}function Ske(){return hM.apply(null,arguments).exponent(.5)}function dB(t){return Math.sign(t)*t*t}function Tke(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function wG(){var t=oM(),e=[0,1],n=!1,r;function i(s){var a=Tke(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(dB(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Kx)).map(dB)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return wG(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ps.apply(i,arguments),eu(i)}function SG(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=AEe(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[v0(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(kc),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return SG().domain(t).range(e).unknown(r)},Ps.apply(s,arguments)}function TG(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[v0(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return TG().domain([t,e]).range(i).unknown(s)},Ps.apply(eu(a),arguments)}function EG(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[v0(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return EG().domain(t).range(e).unknown(n)},Ps.apply(i,arguments)}const o_=new Date,l_=new Date;function Yn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let d;do c.push(d=new Date(+s)),e(s,l),t(s);while(d<s&&s<a);return c},i.filter=s=>Yn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(o_.setTime(+s),l_.setTime(+a),t(o_),t(l_),Math.floor(n(o_,l_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Xx=Yn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Xx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Yn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Xx);Xx.range;const Po=1e3,Ss=Po*60,Ro=Ss*60,Xo=Ro*24,pM=Xo*7,fB=Xo*30,c_=Xo*365,ed=Yn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Po)},(t,e)=>(e-t)/Po,t=>t.getUTCSeconds());ed.range;const mM=Yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Po)},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getMinutes());mM.range;const gM=Yn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getUTCMinutes());gM.range;const yM=Yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Po-t.getMinutes()*Ss)},(t,e)=>{t.setTime(+t+e*Ro)},(t,e)=>(e-t)/Ro,t=>t.getHours());yM.range;const vM=Yn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ro)},(t,e)=>(e-t)/Ro,t=>t.getUTCHours());vM.range;const w0=Yn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ss)/Xo,t=>t.getDate()-1);w0.range;const A1=Yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Xo,t=>t.getUTCDate()-1);A1.range;const kG=Yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Xo,t=>Math.floor(t/Xo));kG.range;function Bd(t){return Yn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ss)/pM)}const C1=Bd(0),Qx=Bd(1),Eke=Bd(2),kke=Bd(3),Ah=Bd(4),_ke=Bd(5),Ake=Bd(6);C1.range;Qx.range;Eke.range;kke.range;Ah.range;_ke.range;Ake.range;function zd(t){return Yn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/pM)}const O1=zd(0),Jx=zd(1),Cke=zd(2),Oke=zd(3),Ch=zd(4),Nke=zd(5),Mke=zd(6);O1.range;Jx.range;Cke.range;Oke.range;Ch.range;Nke.range;Mke.range;const bM=Yn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());bM.range;const xM=Yn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());xM.range;const Qo=Yn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Qo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Qo.range;const Jo=Yn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Jo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Jo.range;function _G(t,e,n,r,i,s){const a=[[ed,1,Po],[ed,5,5*Po],[ed,15,15*Po],[ed,30,30*Po],[s,1,Ss],[s,5,5*Ss],[s,15,15*Ss],[s,30,30*Ss],[i,1,Ro],[i,3,3*Ro],[i,6,6*Ro],[i,12,12*Ro],[r,1,Xo],[r,2,2*Xo],[n,1,pM],[e,1,fB],[e,3,3*fB],[t,1,c_]];function l(d,f,p){const g=f<d;g&&([d,f]=[f,d]);const v=p&&typeof p.range=="function"?p:c(d,f,p),b=v?v.range(d,+f+1):[];return g?b.reverse():b}function c(d,f,p){const g=Math.abs(f-d)/p,v=tM(([,,S])=>S).right(a,g);if(v===a.length)return t.every(FC(d/c_,f/c_,p));if(v===0)return Xx.every(Math.max(FC(d,f,p),1));const[b,T]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return b.every(T)}return[l,c]}const[jke,Ike]=_G(Jo,xM,O1,kG,vM,gM),[Dke,Pke]=_G(Qo,bM,C1,w0,yM,mM);function u_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function d_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function om(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Rke(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,d=lm(i),f=cm(i),p=lm(s),g=cm(s),v=lm(a),b=cm(a),T=lm(l),S=cm(l),k=lm(c),C=cm(c),N={a:Y,A:ce,b:he,B:Se,c:null,d:vB,e:vB,f:s_e,g:m_e,G:y_e,H:n_e,I:r_e,j:i_e,L:AG,m:a_e,M:o_e,p:H,q:ne,Q:wB,s:SB,S:l_e,u:c_e,U:u_e,V:d_e,w:f_e,W:h_e,x:null,X:null,y:p_e,Y:g_e,Z:v_e,"%":xB},R={a:ye,A:be,b:ke,B:pe,c:null,d:bB,e:bB,f:S_e,g:j_e,G:D_e,H:b_e,I:x_e,j:w_e,L:OG,m:T_e,M:E_e,p:we,q:et,Q:wB,s:SB,S:k_e,u:__e,U:A_e,V:C_e,w:O_e,W:N_e,x:null,X:null,y:M_e,Y:I_e,Z:P_e,"%":xB},D={a:B,A:U,b:V,B:L,c:Z,d:gB,e:gB,f:Jke,g:mB,G:pB,H:yB,I:yB,j:Kke,L:Qke,m:Gke,M:Yke,p:P,q:Wke,Q:e_e,s:t_e,S:Xke,u:Uke,U:Fke,V:$ke,w:zke,W:Hke,x:oe,X:W,y:mB,Y:pB,Z:qke,"%":Zke};N.x=z(n,N),N.X=z(r,N),N.c=z(e,N),R.x=z(n,R),R.X=z(r,R),R.c=z(e,R);function z(ie,Ce){return function(Re){var me=[],dt=-1,Me=0,Vt=ie.length,ct,Zn,Rs;for(Re instanceof Date||(Re=new Date(+Re));++dt<Vt;)ie.charCodeAt(dt)===37&&(me.push(ie.slice(Me,dt)),(Zn=hB[ct=ie.charAt(++dt)])!=null?ct=ie.charAt(++dt):Zn=ct==="e"?" ":"0",(Rs=Ce[ct])&&(ct=Rs(Re,Zn)),me.push(ct),Me=dt+1);return me.push(ie.slice(Me,dt)),me.join("")}}function j(ie,Ce){return function(Re){var me=om(1900,void 0,1),dt=M(me,ie,Re+="",0),Me,Vt;if(dt!=Re.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(Ce&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Me=d_(om(me.y,0,1)),Vt=Me.getUTCDay(),Me=Vt>4||Vt===0?Jx.ceil(Me):Jx(Me),Me=A1.offset(Me,(me.V-1)*7),me.y=Me.getUTCFullYear(),me.m=Me.getUTCMonth(),me.d=Me.getUTCDate()+(me.w+6)%7):(Me=u_(om(me.y,0,1)),Vt=Me.getDay(),Me=Vt>4||Vt===0?Qx.ceil(Me):Qx(Me),Me=w0.offset(Me,(me.V-1)*7),me.y=Me.getFullYear(),me.m=Me.getMonth(),me.d=Me.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),Vt="Z"in me?d_(om(me.y,0,1)).getUTCDay():u_(om(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(Vt+5)%7:me.w+me.U*7-(Vt+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,d_(me)):u_(me)}}function M(ie,Ce,Re,me){for(var dt=0,Me=Ce.length,Vt=Re.length,ct,Zn;dt<Me;){if(me>=Vt)return-1;if(ct=Ce.charCodeAt(dt++),ct===37){if(ct=Ce.charAt(dt++),Zn=D[ct in hB?Ce.charAt(dt++):ct],!Zn||(me=Zn(ie,Re,me))<0)return-1}else if(ct!=Re.charCodeAt(me++))return-1}return me}function P(ie,Ce,Re){var me=d.exec(Ce.slice(Re));return me?(ie.p=f.get(me[0].toLowerCase()),Re+me[0].length):-1}function B(ie,Ce,Re){var me=v.exec(Ce.slice(Re));return me?(ie.w=b.get(me[0].toLowerCase()),Re+me[0].length):-1}function U(ie,Ce,Re){var me=p.exec(Ce.slice(Re));return me?(ie.w=g.get(me[0].toLowerCase()),Re+me[0].length):-1}function V(ie,Ce,Re){var me=k.exec(Ce.slice(Re));return me?(ie.m=C.get(me[0].toLowerCase()),Re+me[0].length):-1}function L(ie,Ce,Re){var me=T.exec(Ce.slice(Re));return me?(ie.m=S.get(me[0].toLowerCase()),Re+me[0].length):-1}function Z(ie,Ce,Re){return M(ie,e,Ce,Re)}function oe(ie,Ce,Re){return M(ie,n,Ce,Re)}function W(ie,Ce,Re){return M(ie,r,Ce,Re)}function Y(ie){return a[ie.getDay()]}function ce(ie){return s[ie.getDay()]}function he(ie){return c[ie.getMonth()]}function Se(ie){return l[ie.getMonth()]}function H(ie){return i[+(ie.getHours()>=12)]}function ne(ie){return 1+~~(ie.getMonth()/3)}function ye(ie){return a[ie.getUTCDay()]}function be(ie){return s[ie.getUTCDay()]}function ke(ie){return c[ie.getUTCMonth()]}function pe(ie){return l[ie.getUTCMonth()]}function we(ie){return i[+(ie.getUTCHours()>=12)]}function et(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Ce=z(ie+="",N);return Ce.toString=function(){return ie},Ce},parse:function(ie){var Ce=j(ie+="",!1);return Ce.toString=function(){return ie},Ce},utcFormat:function(ie){var Ce=z(ie+="",R);return Ce.toString=function(){return ie},Ce},utcParse:function(ie){var Ce=j(ie+="",!0);return Ce.toString=function(){return ie},Ce}}}var hB={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,Lke=/^%/,Vke=/[\\^$*+?|[\]().{}]/g;function pt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Bke(t){return t.replace(Vke,"\\$&")}function lm(t){return new RegExp("^(?:"+t.map(Bke).join("|")+")","i")}function cm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function zke(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Uke(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Fke(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function $ke(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Hke(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function pB(t,e,n){var r=dr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function mB(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qke(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Wke(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Gke(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function gB(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Kke(t,e,n){var r=dr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function yB(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Yke(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Xke(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Qke(t,e,n){var r=dr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Jke(t,e,n){var r=dr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Zke(t,e,n){var r=Lke.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function e_e(t,e,n){var r=dr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function t_e(t,e,n){var r=dr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function vB(t,e){return pt(t.getDate(),e,2)}function n_e(t,e){return pt(t.getHours(),e,2)}function r_e(t,e){return pt(t.getHours()%12||12,e,2)}function i_e(t,e){return pt(1+w0.count(Qo(t),t),e,3)}function AG(t,e){return pt(t.getMilliseconds(),e,3)}function s_e(t,e){return AG(t,e)+"000"}function a_e(t,e){return pt(t.getMonth()+1,e,2)}function o_e(t,e){return pt(t.getMinutes(),e,2)}function l_e(t,e){return pt(t.getSeconds(),e,2)}function c_e(t){var e=t.getDay();return e===0?7:e}function u_e(t,e){return pt(C1.count(Qo(t)-1,t),e,2)}function CG(t){var e=t.getDay();return e>=4||e===0?Ah(t):Ah.ceil(t)}function d_e(t,e){return t=CG(t),pt(Ah.count(Qo(t),t)+(Qo(t).getDay()===4),e,2)}function f_e(t){return t.getDay()}function h_e(t,e){return pt(Qx.count(Qo(t)-1,t),e,2)}function p_e(t,e){return pt(t.getFullYear()%100,e,2)}function m_e(t,e){return t=CG(t),pt(t.getFullYear()%100,e,2)}function g_e(t,e){return pt(t.getFullYear()%1e4,e,4)}function y_e(t,e){var n=t.getDay();return t=n>=4||n===0?Ah(t):Ah.ceil(t),pt(t.getFullYear()%1e4,e,4)}function v_e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pt(e/60|0,"0",2)+pt(e%60,"0",2)}function bB(t,e){return pt(t.getUTCDate(),e,2)}function b_e(t,e){return pt(t.getUTCHours(),e,2)}function x_e(t,e){return pt(t.getUTCHours()%12||12,e,2)}function w_e(t,e){return pt(1+A1.count(Jo(t),t),e,3)}function OG(t,e){return pt(t.getUTCMilliseconds(),e,3)}function S_e(t,e){return OG(t,e)+"000"}function T_e(t,e){return pt(t.getUTCMonth()+1,e,2)}function E_e(t,e){return pt(t.getUTCMinutes(),e,2)}function k_e(t,e){return pt(t.getUTCSeconds(),e,2)}function __e(t){var e=t.getUTCDay();return e===0?7:e}function A_e(t,e){return pt(O1.count(Jo(t)-1,t),e,2)}function NG(t){var e=t.getUTCDay();return e>=4||e===0?Ch(t):Ch.ceil(t)}function C_e(t,e){return t=NG(t),pt(Ch.count(Jo(t),t)+(Jo(t).getUTCDay()===4),e,2)}function O_e(t){return t.getUTCDay()}function N_e(t,e){return pt(Jx.count(Jo(t)-1,t),e,2)}function M_e(t,e){return pt(t.getUTCFullYear()%100,e,2)}function j_e(t,e){return t=NG(t),pt(t.getUTCFullYear()%100,e,2)}function I_e(t,e){return pt(t.getUTCFullYear()%1e4,e,4)}function D_e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ch(t):Ch.ceil(t),pt(t.getUTCFullYear()%1e4,e,4)}function P_e(){return"+0000"}function xB(){return"%"}function wB(t){return+t}function SB(t){return Math.floor(+t/1e3)}var Mf,MG,jG;R_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function R_e(t){return Mf=Rke(t),MG=Mf.format,Mf.parse,jG=Mf.utcFormat,Mf.utcParse,Mf}function L_e(t){return new Date(t)}function V_e(t){return t instanceof Date?+t:+new Date(+t)}function wM(t,e,n,r,i,s,a,l,c,d){var f=oM(),p=f.invert,g=f.domain,v=d(".%L"),b=d(":%S"),T=d("%I:%M"),S=d("%I %p"),k=d("%a %d"),C=d("%b %d"),N=d("%B"),R=d("%Y");function D(z){return(c(z)<z?v:l(z)<z?b:a(z)<z?T:s(z)<z?S:r(z)<z?i(z)<z?k:C:n(z)<z?N:R)(z)}return f.invert=function(z){return new Date(p(z))},f.domain=function(z){return arguments.length?g(Array.from(z,V_e)):g().map(L_e)},f.ticks=function(z){var j=g();return t(j[0],j[j.length-1],z??10)},f.tickFormat=function(z,j){return j==null?D:d(j)},f.nice=function(z){var j=g();return(!z||typeof z.range!="function")&&(z=e(j[0],j[j.length-1],z??10)),z?g(vG(j,z)):f},f.copy=function(){return x0(f,wM(t,e,n,r,i,s,a,l,c,d))},f}function B_e(){return Ps.apply(wM(Dke,Pke,Qo,bM,C1,w0,yM,mM,ed,MG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function z_e(){return Ps.apply(wM(jke,Ike,Jo,xM,O1,A1,vM,gM,ed,jG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function N1(){var t=0,e=1,n,r,i,s,a=Qr,l=!1,c;function d(p){return p==null||isNaN(p=+p)?c:a(i===0?.5:(p=(s(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(a=p,d):a};function f(p){return function(g){var v,b;return arguments.length?([v,b]=g,a=p(v,b),d):[a(0),a(1)]}}return d.range=f(Hh),d.rangeRound=f(aM),d.unknown=function(p){return arguments.length?(c=p,d):c},function(p){return s=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),d}}function tu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function IG(){var t=eu(N1()(Qr));return t.copy=function(){return tu(t,IG())},cl.apply(t,arguments)}function DG(){var t=uM(N1()).domain([1,10]);return t.copy=function(){return tu(t,DG()).base(t.base())},cl.apply(t,arguments)}function PG(){var t=dM(N1());return t.copy=function(){return tu(t,PG()).constant(t.constant())},cl.apply(t,arguments)}function SM(){var t=fM(N1());return t.copy=function(){return tu(t,SM()).exponent(t.exponent())},cl.apply(t,arguments)}function U_e(){return SM.apply(null,arguments).exponent(.5)}function RG(){var t=[],e=Qr;function n(r){if(r!=null&&!isNaN(r=+r))return e((v0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(kc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>_Ee(t,s/r))},n.copy=function(){return RG(e).domain(t)},cl.apply(n,arguments)}function M1(){var t=0,e=.5,n=1,r=1,i,s,a,l,c,d=Qr,f,p=!1,g;function v(T){return isNaN(T=+T)?g:(T=.5+((T=+f(T))-s)*(r*T<r*s?l:c),d(p?Math.max(0,Math.min(1,T)):T))}v.domain=function(T){return arguments.length?([t,e,n]=T,i=f(t=+t),s=f(e=+e),a=f(n=+n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,v):[t,e,n]},v.clamp=function(T){return arguments.length?(p=!!T,v):p},v.interpolator=function(T){return arguments.length?(d=T,v):d};function b(T){return function(S){var k,C,N;return arguments.length?([k,C,N]=S,d=ZEe(T,[k,C,N]),v):[d(0),d(.5),d(1)]}}return v.range=b(Hh),v.rangeRound=b(aM),v.unknown=function(T){return arguments.length?(g=T,v):g},function(T){return f=T,i=T(t),s=T(e),a=T(n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,v}}function LG(){var t=eu(M1()(Qr));return t.copy=function(){return tu(t,LG())},cl.apply(t,arguments)}function VG(){var t=uM(M1()).domain([.1,1,10]);return t.copy=function(){return tu(t,VG()).base(t.base())},cl.apply(t,arguments)}function BG(){var t=dM(M1());return t.copy=function(){return tu(t,BG()).constant(t.constant())},cl.apply(t,arguments)}function TM(){var t=fM(M1());return t.copy=function(){return tu(t,TM()).exponent(t.exponent())},cl.apply(t,arguments)}function F_e(){return TM.apply(null,arguments).exponent(.5)}const km=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rM,scaleDiverging:LG,scaleDivergingLog:VG,scaleDivergingPow:TM,scaleDivergingSqrt:F_e,scaleDivergingSymlog:BG,scaleIdentity:yG,scaleImplicit:$C,scaleLinear:gG,scaleLog:bG,scaleOrdinal:nM,scalePoint:OEe,scalePow:hM,scaleQuantile:SG,scaleQuantize:TG,scaleRadial:wG,scaleSequential:IG,scaleSequentialLog:DG,scaleSequentialPow:SM,scaleSequentialQuantile:RG,scaleSequentialSqrt:U_e,scaleSequentialSymlog:PG,scaleSqrt:Ske,scaleSymlog:xG,scaleThreshold:EG,scaleTime:B_e,scaleUtc:z_e,tickFormat:mG},Symbol.toStringTag,{value:"Module"}));var nu=t=>t.chartData,$_e=se([nu],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),EM=(t,e,n,r)=>r?$_e(t):nu(t);function zc(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Un(e)&&Un(n))return!0}return!1}function TB(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function zG(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Un(n))i=n;else if(typeof n=="function")return;if(Un(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(zc(a))return a}}function H_e(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(zc(r))return TB(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,l;if(i==="auto")e!=null&&(a=Math.min(...e));else if(je(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e?.[0]))}catch{}else if(typeof i=="string"&&FV.test(i)){var c=FV.exec(i);if(c==null||c[1]==null||e==null)a=void 0;else{var d=+c[1];a=e[0]-d}}else a=e?.[0];if(s==="auto")e!=null&&(l=Math.max(...e));else if(je(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e?.[1]))}catch{}else if(typeof s=="string"&&$V.test(s)){var f=$V.exec(s);if(f==null||f[1]==null||e==null)l=void 0;else{var p=+f[1];l=e[1]+p}}else l=e?.[1];var g=[a,l];if(zc(g))return e==null?g:TB(g,e,n)}}}var qh=1e9,q_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_M,Zt=!0,Ms="[DecimalError] ",md=Ms+"Invalid argument: ",kM=Ms+"Exponent out of range: ",Wh=Math.floor,$u=Math.pow,W_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ui,sr=1e7,qt=7,UG=9007199254740991,Zx=Wh(UG/qt),Ae={};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ae.comparedTo=Ae.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*qt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ae.dividedBy=Ae.div=function(t){return zo(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.idiv=function(t){var e=this,n=e.constructor;return It(zo(e,new n(t),0,1),n.precision)};Ae.equals=Ae.eq=function(t){return!this.cmp(t)};Ae.exponent=function(){return Bn(this)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){return this.cmp(t)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ui))throw Error(Ms+"NaN");if(n.s<1)throw Error(Ms+(n.s?"NaN":"-Infinity"));return n.eq(Ui)?new r(0):(Zt=!1,e=zo(Dg(n,s),Dg(t,s),s),Zt=!0,It(e,i))};Ae.minus=Ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?HG(e,t):FG(e,(t.s=-t.s,t))};Ae.modulo=Ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ms+"NaN");return n.s?(Zt=!1,e=zo(n,t,0,1).times(t),Zt=!0,n.minus(e)):It(new r(n),i)};Ae.naturalExponential=Ae.exp=function(){return $G(this)};Ae.naturalLogarithm=Ae.ln=function(){return Dg(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ae.plus=Ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?FG(e,t):HG(e,(t.s=-t.s,t))};Ae.precision=Ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(md+t);if(e=Bn(i)+1,r=i.d.length-1,n=r*qt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ae.squareRoot=Ae.sqrt=function(){var t,e,n,r,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ms+"NaN")}for(t=Bn(l),Zt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Ra(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Wh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(s=r,r=s.plus(zo(l,s,a+2)).times(.5),Ra(s.d).slice(0,a)===(e=Ra(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(It(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;a+=4}return Zt=!0,It(r,n)};Ae.times=Ae.mul=function(t){var e,n,r,i,s,a,l,c,d,f=this,p=f.constructor,g=f.d,v=(t=new p(t)).d;if(!f.s||!t.s)return new p(0);for(t.s*=f.s,n=f.e+t.e,c=g.length,d=v.length,c<d&&(s=g,g=v,v=s,a=c,c=d,d=a),s=[],a=c+d,r=a;r--;)s.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+v[r]*g[i-r-1]+e,s[i--]=l%sr|0,e=l/sr|0;s[i]=(s[i]+e)%sr|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Zt?It(t,p.precision):t};Ae.toDecimalPlaces=Ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Za(t,0,qh),e===void 0?e=r.rounding:Za(e,0,8),It(n,t+Bn(n)+1,e))};Ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Nd(r,!0):(Za(t,0,qh),e===void 0?e=i.rounding:Za(e,0,8),r=It(new i(r),t+1,e),n=Nd(r,!0,t+1)),n};Ae.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Nd(i):(Za(t,0,qh),e===void 0?e=s.rounding:Za(e,0,8),r=It(new s(i),t+Bn(i)+1,e),n=Nd(r.abs(),!1,t+Bn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ae.toInteger=Ae.toint=function(){var t=this,e=t.constructor;return It(new e(t),Bn(t)+1,e.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(t){var e,n,r,i,s,a,l=this,c=l.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(Ui);if(l=new c(l),!l.s){if(t.s<1)throw Error(Ms+"Infinity");return l}if(l.eq(Ui))return l;if(r=c.precision,t.eq(Ui))return It(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=l.s,a){if((n=f<0?-f:f)<=UG){for(i=new c(Ui),e=Math.ceil(r/qt+4),Zt=!1;n%2&&(i=i.times(l),kB(i.d,e)),n=Wh(n/2),n!==0;)l=l.times(l),kB(l.d,e);return Zt=!0,t.s<0?new c(Ui).div(i):It(i,r)}}else if(s<0)throw Error(Ms+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Zt=!1,i=t.times(Dg(l,r+d)),Zt=!0,i=$G(i),i.s=s,i};Ae.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Bn(i),r=Nd(i,n<=s.toExpNeg||n>=s.toExpPos)):(Za(t,1,qh),e===void 0?e=s.rounding:Za(e,0,8),i=It(new s(i),t,e),n=Bn(i),r=Nd(i,t<=n||n<=s.toExpNeg,t)),r};Ae.toSignificantDigits=Ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Za(t,1,qh),e===void 0?e=r.rounding:Za(e,0,8)),It(new r(n),t,e)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Bn(t),n=t.constructor;return Nd(t,e<=n.toExpNeg||e>=n.toExpPos)};function FG(t,e){var n,r,i,s,a,l,c,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Zt?It(e,p):e;if(c=t.d,d=e.d,a=t.e,i=e.e,c=c.slice(),s=a-i,s){for(s<0?(r=c,s=-s,l=d.length):(r=d,i=a,l=c.length),a=Math.ceil(p/qt),l=a>l?a+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=d.length,l-s<0&&(s=l,r=d,d=c,c=r),n=0;s;)n=(c[--s]=c[s]+d[s]+n)/sr|0,c[s]%=sr;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Zt?It(e,p):e}function Za(t,e,n){if(t!==~~t||t<e||t>n)throw Error(md+t)}function Ra(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=qt-r.length,n&&(s+=ec(n)),s+=r;a=t[e],r=a+"",n=qt-r.length,n&&(s+=ec(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var zo=(function(){function t(r,i){var s,a=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+a,r[l]=s%sr|0,a=s/sr|0;return a&&r.unshift(a),r}function e(r,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*sr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var l,c,d,f,p,g,v,b,T,S,k,C,N,R,D,z,j,M,P=r.constructor,B=r.s==i.s?1:-1,U=r.d,V=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Ms+"Division by zero");for(c=r.e-i.e,j=V.length,D=U.length,v=new P(B),b=v.d=[],d=0;V[d]==(U[d]||0);)++d;if(V[d]>(U[d]||0)&&--c,s==null?C=s=P.precision:a?C=s+(Bn(r)-Bn(i))+1:C=s,C<0)return new P(0);if(C=C/qt+2|0,d=0,j==1)for(f=0,V=V[0],C++;(d<D||f)&&C--;d++)N=f*sr+(U[d]||0),b[d]=N/V|0,f=N%V|0;else{for(f=sr/(V[0]+1)|0,f>1&&(V=t(V,f),U=t(U,f),j=V.length,D=U.length),R=j,T=U.slice(0,j),S=T.length;S<j;)T[S++]=0;M=V.slice(),M.unshift(0),z=V[0],V[1]>=sr/2&&++z;do f=0,l=e(V,T,j,S),l<0?(k=T[0],j!=S&&(k=k*sr+(T[1]||0)),f=k/z|0,f>1?(f>=sr&&(f=sr-1),p=t(V,f),g=p.length,S=T.length,l=e(p,T,g,S),l==1&&(f--,n(p,j<g?M:V,g))):(f==0&&(l=f=1),p=V.slice()),g=p.length,g<S&&p.unshift(0),n(T,p,S),l==-1&&(S=T.length,l=e(V,T,j,S),l<1&&(f++,n(T,j<S?M:V,S))),S=T.length):l===0&&(f++,T=[0]),b[d++]=f,l&&T[0]?T[S++]=U[R]||0:(T=[U[R]],S=1);while((R++<D||T[0]!==void 0)&&C--)}return b[0]||b.shift(),v.e=c,It(v,a?s+Bn(v)+1:s)}})();function $G(t,e){var n,r,i,s,a,l,c=0,d=0,f=t.constructor,p=f.precision;if(Bn(t)>16)throw Error(kM+Bn(t));if(!t.s)return new f(Ui);for(Zt=!1,l=p,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),d+=5;for(r=Math.log($u(2,d))/Math.LN10*2+5|0,l+=r,n=i=s=new f(Ui),f.precision=l;;){if(i=It(i.times(t),l),n=n.times(++c),a=s.plus(zo(i,n,l)),Ra(a.d).slice(0,l)===Ra(s.d).slice(0,l)){for(;d--;)s=It(s.times(s),l);return f.precision=p,e==null?(Zt=!0,It(s,p)):s}s=a}}function Bn(t){for(var e=t.e*qt,n=t.d[0];n>=10;n/=10)e++;return e}function f_(t,e,n){if(e>t.LN10.sd())throw Zt=!0,n&&(t.precision=n),Error(Ms+"LN10 precision limit exceeded");return It(new t(t.LN10),e)}function ec(t){for(var e="";t--;)e+="0";return e}function Dg(t,e){var n,r,i,s,a,l,c,d,f,p=1,g=10,v=t,b=v.d,T=v.constructor,S=T.precision;if(v.s<1)throw Error(Ms+(v.s?"NaN":"-Infinity"));if(v.eq(Ui))return new T(0);if(e==null?(Zt=!1,d=S):d=e,v.eq(10))return e==null&&(Zt=!0),f_(T,d);if(d+=g,T.precision=d,n=Ra(b),r=n.charAt(0),s=Bn(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=Ra(v.d),r=n.charAt(0),p++;s=Bn(v),r>1?(v=new T("0."+n),s++):v=new T(r+"."+n.slice(1))}else return c=f_(T,d+2,S).times(s+""),v=Dg(new T(r+"."+n.slice(1)),d-g).plus(c),T.precision=S,e==null?(Zt=!0,It(v,S)):v;for(l=a=v=zo(v.minus(Ui),v.plus(Ui),d),f=It(v.times(v),d),i=3;;){if(a=It(a.times(f),d),c=l.plus(zo(a,new T(i),d)),Ra(c.d).slice(0,d)===Ra(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(f_(T,d+2,S).times(s+""))),l=zo(l,new T(p),d),T.precision=S,e==null?(Zt=!0,It(l,S)):l;l=c,i+=2}}function EB(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Wh(n/qt),t.d=[],r=(n+1)%qt,n<0&&(r+=qt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=qt;r<i;)t.d.push(+e.slice(r,r+=qt));e=e.slice(r),r=qt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Zt&&(t.e>Zx||t.e<-Zx))throw Error(kM+n)}else t.s=0,t.e=0,t.d=[0];return t}function It(t,e,n){var r,i,s,a,l,c,d,f,p=t.d;for(a=1,s=p[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=qt,i=e,d=p[f=0];else{if(f=Math.ceil((r+1)/qt),s=p.length,f>=s)return t;for(d=s=p[f],a=1;s>=10;s/=10)a++;r%=qt,i=r-qt+a}if(n!==void 0&&(s=$u(10,a-i-1),l=d/s%10|0,c=e<0||p[f+1]!==void 0||d%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?d/$u(10,a-i):0:p[f-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(s=Bn(t),p.length=1,e=e-s-1,p[0]=$u(10,(qt-e%qt)%qt),t.e=Wh(-e/qt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=f,s=1,f--):(p.length=f+1,s=$u(10,qt-r),p[f]=i>0?(d/$u(10,a-i)%$u(10,i)|0)*s:0),c)for(;;)if(f==0){(p[0]+=s)==sr&&(p[0]=1,++t.e);break}else{if(p[f]+=s,p[f]!=sr)break;p[f--]=0,s=1}for(r=p.length;p[--r]===0;)p.pop();if(Zt&&(t.e>Zx||t.e<-Zx))throw Error(kM+Bn(t));return t}function HG(t,e){var n,r,i,s,a,l,c,d,f,p,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Zt?It(e,v):e;if(c=t.d,p=e.d,r=e.e,d=t.e,c=c.slice(),a=d-r,a){for(f=a<0,f?(n=c,a=-a,l=p.length):(n=p,r=d,l=c.length),i=Math.max(Math.ceil(v/qt),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=p.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){f=c[i]<p[i];break}a=0}for(f&&(n=c,c=p,p=n,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>a;){if(c[--i]<p[i]){for(s=i;s&&c[--s]===0;)c[s]=sr-1;--c[s],c[i]+=sr}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Zt?It(e,v):e):new g(0)}function Nd(t,e,n){var r,i=Bn(t),s=Ra(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+ec(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ec(-i-1)+s,n&&(r=n-a)>0&&(s+=ec(r))):i>=a?(s+=ec(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+ec(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=ec(r))),t.s<0?"-"+s:s}function kB(t,e){if(t.length>e)return t.length=e,!0}function qG(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(md+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return EB(a,s.toString())}else if(typeof s!="string")throw Error(md+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,W_e.test(s))EB(a,s);else throw Error(md+s)}if(i.prototype=Ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=qG,i.config=i.set=G_e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function G_e(t){if(!t||typeof t!="object")throw Error(Ms+"Object expected");var e,n,r,i=["precision",1,qh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Wh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(md+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(md+n+": "+r);return this}var _M=qG(q_e);Ui=new _M(1);const Tt=_M;var K_e=t=>t,WG={},GG=t=>t===WG,_B=t=>function e(){return arguments.length===0||arguments.length===1&&GG(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},KG=(t,e)=>t===1?e:_B(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==WG).length;return s>=t?e(...r):KG(t-s,_B(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var d=r.map(f=>GG(f)?l.shift():f);return e(...d,...l)}))}),Y_e=t=>KG(t.length,t),GC=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},X_e=Y_e((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Q_e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return K_e;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,c)=>c(l),s(...arguments))}};function YG(t){var e;return t===0?e=1:e=Math.floor(new Tt(t).abs().log(10).toNumber())+1,e}function XG(t,e,n){for(var r=new Tt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var QG=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},JG=(t,e,n)=>{if(t.lte(0))return new Tt(0);var r=YG(t.toNumber()),i=new Tt(10).pow(r),s=t.div(i),a=r!==1?.05:.1,l=new Tt(Math.ceil(s.div(a).toNumber())).add(n).mul(a),c=l.mul(i);return e?new Tt(c.toNumber()):new Tt(Math.ceil(c.toNumber()))},J_e=(t,e,n)=>{var r=new Tt(1),i=new Tt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Tt(10).pow(YG(t)-1),i=new Tt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Tt(Math.floor(t)))}else t===0?i=new Tt(Math.floor((e-1)/2)):n||(i=new Tt(Math.floor(t)));var a=Math.floor((e-1)/2),l=Q_e(X_e(c=>i.add(new Tt(c-a).mul(r)).toNumber()),GC);return l(0,e)},ZG=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var a=JG(new Tt(n).sub(e).div(r-1),i,s),l;e<=0&&n>=0?l=new Tt(0):(l=new Tt(e).add(n).div(2),l=l.sub(new Tt(l).mod(a)));var c=Math.ceil(l.sub(e).div(a).toNumber()),d=Math.ceil(new Tt(n).sub(l).div(a).toNumber()),f=c+d+1;return f>r?ZG(e,n,r,i,s+1):(f<r&&(d=n>0?d+(r-f):d,c=n>0?c:c+(r-f)),{step:a,tickMin:l.sub(new Tt(c).mul(a)),tickMax:l.add(new Tt(d).mul(a))})},Z_e=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[l,c]=QG([n,r]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...GC(0,i-1).map(()=>1/0)]:[...GC(0,i-1).map(()=>-1/0),c];return n>r?d.reverse():d}if(l===c)return J_e(l,i,s);var{step:f,tickMin:p,tickMax:g}=ZG(l,c,a,s,0),v=XG(p,g.add(new Tt(.1).mul(f)),f);return n>r?v.reverse():v},eAe=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=QG([r,i]);if(a===-1/0||l===1/0)return[r,i];if(a===l)return[a];var c=Math.max(n,2),d=JG(new Tt(l).sub(a).div(c-1),s,0),f=[...XG(new Tt(a),new Tt(l),d),l];return s===!1&&(f=f.map(p=>Math.round(p))),r>i?f.reverse():f},tAe=t=>t.rootProps.barCategoryGap,j1=t=>t.rootProps.stackOffset,eK=t=>t.rootProps.reverseStackOrder,AM=t=>t.options.chartName,CM=t=>t.rootProps.syncId,tK=t=>t.rootProps.syncMethod,OM=t=>t.options.eventEmitter,Jr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},No={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Bi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},I1=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},nAe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:No.angleAxisId,includeHidden:!1,name:void 0,reversed:No.reversed,scale:No.scale,tick:No.tick,tickCount:void 0,ticks:void 0,type:No.type,unit:void 0},rAe={allowDataOverflow:Bi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Bi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bi.scale,tick:Bi.tick,tickCount:Bi.tickCount,ticks:void 0,type:Bi.type,unit:void 0},iAe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:No.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:No.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:No.scale,tick:No.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},sAe={allowDataOverflow:Bi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Bi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bi.scale,tick:Bi.tick,tickCount:Bi.tickCount,ticks:void 0,type:"category",unit:void 0},NM=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?iAe:nAe,MM=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?sAe:rAe,D1=t=>t.polarOptions,jM=se([ol,ll,Nr],eEe),nK=se([D1,jM],(t,e)=>{if(t!=null)return Bc(t.innerRadius,e,0)}),rK=se([D1,jM],(t,e)=>{if(t!=null)return Bc(t.outerRadius,e,e*.8)}),aAe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},iK=se([D1],aAe);se([NM,iK],I1);var sK=se([jM,nK,rK],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});se([MM,sK],I1);var aK=se([Gt,D1,nK,rK,ol,ll],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:l,startAngle:c,endAngle:d}=e;return{cx:Bc(a,i,i/2),cy:Bc(l,s,s/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),Xn=(t,e)=>e,P1=(t,e,n)=>n;function oK(t){return t?.id}function lK(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return t.forEach(l=>{var c,d=(c=l.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var f=oK(l);d.forEach((p,g)=>{var v=s==null||i?g:String(Cr(p,s,null)),b=Cr(p,l.dataKey,0),T;a.has(v)?T=a.get(v):T={},Object.assign(T,{[f]:b}),a.set(v,T)})}}),Array.from(a.values())}function IM(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var R1=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function L1(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function oAe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Qn=t=>{var e=Gt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Gh=t=>t.tooltip.settings.axisId;function AB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ew(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AB(Object(n),!0).forEach(function(r){lAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lAe(t,e,n){return(e=cAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cAe(t){var e=uAe(t,"string");return typeof e=="symbol"?e:e+""}function uAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KC=[0,"auto"],nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},cK=(t,e)=>t.cartesianAxis.xAxis[e],ul=(t,e)=>{var n=cK(t,e);return n??nr},rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:KC,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:g0},uK=(t,e)=>t.cartesianAxis.yAxis[e],dl=(t,e)=>{var n=uK(t,e);return n??rr},dAe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},DM=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??dAe},si=(t,e,n)=>{switch(e){case"xAxis":return ul(t,n);case"yAxis":return dl(t,n);case"zAxis":return DM(t,n);case"angleAxis":return NM(t,n);case"radiusAxis":return MM(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},fAe=(t,e,n)=>{switch(e){case"xAxis":return ul(t,n);case"yAxis":return dl(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},S0=(t,e,n)=>{switch(e){case"xAxis":return ul(t,n);case"yAxis":return dl(t,n);case"angleAxis":return NM(t,n);case"radiusAxis":return MM(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},dK=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function fK(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var hK=t=>t.graphicalItems.cartesianItems,hAe=se([Xn,P1],fK),pK=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),T0=se([hK,si,hAe],pK,{memoizeOptions:{resultEqualityCheck:L1}}),mK=se([T0],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(IM)),gK=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),pAe=se([T0],gK),yK=t=>t.map(e=>e.data).filter(Boolean).flat(1),mAe=se([T0],yK,{memoizeOptions:{resultEqualityCheck:L1}}),vK=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},PM=se([mAe,EM],vK),bK=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Cr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Cr(i,r)}))):t.map(r=>({value:r})),V1=se([PM,si,T0],bK);function xK(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function rb(t){if(Qa(t)||t instanceof Date){var e=Number(t);if(Un(e))return e}}function CB(t){if(Array.isArray(t)){var e=[rb(t[0]),rb(t[1])];return zc(e)?e:void 0}var n=rb(t);if(n!=null)return[n,n]}function Zo(t){return t.map(rb).filter(Kxe)}function gAe(t,e,n){return!n||typeof e!="number"||Xa(e)?[]:n.length?Zo(n.flatMap(r=>{var i=Cr(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Un(s)||!Un(a)))return[e-s,e+a]})):[]}var Jn=t=>{var e=Qn(t),n=Gh(t);return S0(t,e,n)},E0=se([Jn],t=>t?.dataKey),yAe=se([mK,EM,Jn],lK),wK=(t,e,n,r)=>{var i={},s=e.reduce((a,l)=>{if(l.stackId==null)return a;var c=a[l.stackId];return c==null&&(c=[]),c.push(l),a[l.stackId]=c,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[l,c]=a,d=r?[...c].reverse():c,f=d.map(oK);return[l,{stackedData:rSe(t,f,n),graphicalItems:d}]}))},vAe=se([yAe,mK,j1,eK],wK),SK=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var a=aSe(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},bAe=se([si],t=>t.allowDataOverflow),RM=t=>{var e;if(t==null||!("domain"in t))return KC;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Zo(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:KC},TK=se([si],RM),EK=se([TK,bAe],zG),xAe=se([vAe,nu,Xn,EK],SK,{memoizeOptions:{resultEqualityCheck:R1}}),LM=t=>t.errorBars,wAe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>xK(n,r)),tw=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},kK=(t,e,n,r,i)=>{var s,a;if(n.length>0&&t.forEach(l=>{n.forEach(c=>{var d,f,p=(d=r[c.id])===null||d===void 0?void 0:d.filter(k=>xK(i,k)),g=Cr(l,(f=e.dataKey)!==null&&f!==void 0?f:c.dataKey),v=gAe(l,g,p);if(v.length>=2){var b=Math.min(...v),T=Math.max(...v);(s==null||b<s)&&(s=b),(a==null||T>a)&&(a=T)}var S=CB(g);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),a=a==null?S[1]:Math.max(a,S[1]))})}),e?.dataKey!=null&&t.forEach(l=>{var c=CB(Cr(l,e.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),a=a==null?c[1]:Math.max(a,c[1]))}),Un(s)&&Un(a))return[s,a]},SAe=se([PM,si,pAe,LM,Xn],kK,{memoizeOptions:{resultEqualityCheck:R1}});function TAe(t){var{value:e}=t;if(Qa(e)||e instanceof Date)return e}var EAe=(t,e,n)=>{var r=t.map(TAe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&W7(r))?sG(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},_K=t=>t.referenceElements.dots,Kh=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),kAe=se([_K,Xn,P1],Kh),AK=t=>t.referenceElements.areas,_Ae=se([AK,Xn,P1],Kh),CK=t=>t.referenceElements.lines,AAe=se([CK,Xn,P1],Kh),OK=(t,e)=>{if(t!=null){var n=Zo(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},CAe=se(kAe,Xn,OK),NK=(t,e)=>{if(t!=null){var n=Zo(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},OAe=se([_Ae,Xn],NK);function NAe(t){var e;if(t.x!=null)return Zo([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Zo(n)}function MAe(t){var e;if(t.y!=null)return Zo([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Zo(n)}var MK=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?NAe(r):MAe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},jAe=se([AAe,Xn],MK),IAe=se(CAe,jAe,OAe,(t,e,n)=>tw(t,n,e)),jK=(t,e,n,r,i,s,a,l)=>{if(n!=null)return n;var c=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",d=c?tw(r,s,i):tw(s,i);return H_e(e,d,t.allowDataOverflow)},DAe=se([si,TK,EK,xAe,SAe,IAe,Gt,Xn],jK,{memoizeOptions:{resultEqualityCheck:R1}}),PAe=[0,1],IK=(t,e,n,r,i,s,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:l,type:c}=t,d=Zc(e,s);if(d&&l==null){var f;return sG(0,(f=n?.length)!==null&&f!==void 0?f:0)}return c==="category"?EAe(r,t,d):i==="expand"?PAe:a}},VM=se([si,Gt,PM,V1,j1,Xn,DAe],IK),DK=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(f0(s));return l in km?l:"point"}}},k0=se([si,Gt,dK,AM,Xn],DK);function RAe(t){if(t!=null){if(t in km)return km[t]();var e="scale".concat(f0(t));if(e in km)return km[e]()}}function BM(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=RAe(e);if(i!=null){var s=i.domain(n).range(r);return Z1e(s),s}}}var PK=(t,e,n)=>{var r=RM(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&zc(t))return Z_e(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&zc(t))return eAe(t,e.tickCount,e.allowDecimals)}},zM=se([VM,S0,k0],PK),RK=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&zc(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],a=e[1],l=n[n.length-1];return[Math.min(i,s),Math.max(a,l)]}return e},LAe=se([si,VM,zM,Xn],RK),VAe=se(V1,si,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Zo(t.map(p=>p.value))).sort((p,g)=>p-g),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l],d=r[l+1];if(!(c==null||d==null)){var f=d-c;n=Math.min(n,f)}}return n/a}}),LK=se(VAe,Gt,tAe,Nr,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Un(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=Bc(n,t*s),l=t*s/2;return l-a-(l-a)/s*a}return 0}),BAe=(t,e,n)=>{var r=ul(t,e);return r==null||typeof r.padding!="string"?0:LK(t,"xAxis",e,n,r.padding)},zAe=(t,e,n)=>{var r=dl(t,e);return r==null||typeof r.padding!="string"?0:LK(t,"yAxis",e,n,r.padding)},UAe=se(ul,BAe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),FAe=se(dl,zAe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),$Ae=se([Nr,UAe,S1,w1,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),HAe=se([Nr,Gt,FAe,S1,w1,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),_0=(t,e,n,r)=>{var i;switch(e){case"xAxis":return $Ae(t,n,r);case"yAxis":return HAe(t,n,r);case"zAxis":return(i=DM(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return iK(t);case"radiusAxis":return sK(t,n);default:return}},VK=se([si,_0],I1),B1=se([si,k0,LAe,VK],BM);se([T0,LM,Xn],wAe);function BK(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var z1=(t,e)=>e,U1=(t,e,n)=>n,qAe=se(b1,z1,U1,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(BK)),WAe=se(x1,z1,U1,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(BK)),zK=(t,e)=>({width:t.width,height:e.height}),GAe=(t,e)=>{var n=typeof e.width=="number"?e.width:g0;return{width:n,height:t.height}},KAe=se(Nr,ul,zK),YAe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},XAe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},QAe=se(ll,Nr,qAe,z1,U1,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var c=zK(e,l);a==null&&(a=YAe(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;s[l.id]=a-Number(d)*c.height,a+=(d?-1:1)*c.height}),s}),JAe=se(ol,Nr,WAe,z1,U1,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var c=GAe(e,l);a==null&&(a=XAe(e,r,t));var d=r==="left"&&!i||r==="right"&&i;s[l.id]=a-Number(d)*c.width,a+=(d?-1:1)*c.width}),s}),ZAe=(t,e)=>{var n=ul(t,e);if(n!=null)return QAe(t,n.orientation,n.mirror)},eCe=se([Nr,ul,ZAe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),tCe=(t,e)=>{var n=dl(t,e);if(n!=null)return JAe(t,n.orientation,n.mirror)},nCe=se([Nr,dl,tCe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),rCe=se(Nr,dl,(t,e)=>{var n=typeof e.width=="number"?e.width:g0;return{width:n,height:t.height}}),UK=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,l=Zc(t,r),c=e.map(d=>d.value);if(a&&l&&s==="category"&&i&&W7(c))return c}},UM=se([Gt,V1,si,Xn],UK),FK=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=Zc(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(l=>l.value)}},FM=se([Gt,V1,S0,Xn],FK),OB=se([Gt,fAe,k0,B1,UM,FM,_0,zM,Xn],(t,e,n,r,i,s,a,l,c)=>{if(e!=null){var d=Zc(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:d,niceTicks:l,range:a,realScaleType:n,scale:r}}}),iCe=(t,e,n,r,i,s,a,l,c)=>{if(!(e==null||r==null)){var d=Zc(t,c),{type:f,ticks:p,tickCount:g}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=f==="category"&&r.bandwidth?r.bandwidth()/v:0;b=c==="angleAxis"&&s!=null&&s.length>=2?ws(s[0]-s[1])*2*b:b;var T=p||i;if(T){var S=T.map((k,C)=>{var N=a?a.indexOf(k):k;return{index:C,coordinate:r(N)+b,value:k,offset:b}});return S.filter(k=>Un(k.coordinate))}return d&&l?l.map((k,C)=>({coordinate:r(k)+b,value:k,index:C,offset:b})).filter(k=>Un(k.coordinate)):r.ticks?r.ticks(g).map(k=>({coordinate:r(k)+b,value:k,offset:b})):r.domain().map((k,C)=>({coordinate:r(k)+b,value:a?a[k]:k,index:C,offset:b}))}},$K=se([Gt,S0,k0,B1,zM,_0,UM,FM,Xn],iCe),sCe=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=Zc(t,a),{tickCount:c}=e,d=0;return d=a==="angleAxis"&&r?.length>=2?ws(r[0]-r[1])*2*d:d,l&&s?s.map((f,p)=>({coordinate:n(f)+d,value:f,index:p,offset:d})):n.ticks?n.ticks(c).map(f=>({coordinate:n(f)+d,value:f,offset:d})):n.domain().map((f,p)=>({coordinate:n(f)+d,value:i?i[f]:f,index:p,offset:d}))}},HK=se([Gt,S0,B1,_0,UM,FM,Xn],sCe),qK=se(si,B1,(t,e)=>{if(!(t==null||e==null))return ew(ew({},t),{},{scale:e})}),aCe=se([si,k0,VM,VK],BM);se((t,e,n)=>DM(t,n),aCe,(t,e)=>{if(!(t==null||e==null))return ew(ew({},t),{},{scale:e})});var oCe=se([Gt,b1,x1],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),WK=t=>t.options.defaultTooltipEventType,GK=t=>t.options.validateTooltipEventTypes;function KK(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function $M(t,e){var n=WK(t),r=GK(t);return KK(e,n,r)}function lCe(t){return Ve(e=>$M(e,t))}var YK=(t,e)=>{var n,r=Number(e);if(!(Xa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},cCe=t=>t.tooltip.settings,lc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},uCe={itemInteraction:{click:lc,hover:lc},axisInteraction:{click:lc,hover:lc},keyboardInteraction:lc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},XK=Ei({name:"tooltip",initialState:uCe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Qt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=na(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Qt()},removeTooltipEntrySettings:{reducer(t,e){var n=na(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Qt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:dCe,replaceTooltipEntrySettings:fCe,removeTooltipEntrySettings:hCe,setTooltipSettingsState:pCe,setActiveMouseOverItemIndex:mCe,mouseLeaveItem:nPe,mouseLeaveChart:QK,setActiveClickItemIndex:rPe,setMouseOverAxisIndex:JK,setMouseClickAxisIndex:gCe,setSyncInteraction:YC,setKeyboardInteraction:XC}=XK.actions,yCe=XK.reducer;function NB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NB(Object(n),!0).forEach(function(r){vCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vCe(t,e,n){return(e=bCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bCe(t){var e=xCe(t,"string");return typeof e=="symbol"?e:e+""}function xCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wCe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function SCe(t){return t.index!=null}var ZK=(t,e,n,r)=>{if(e==null)return lc;var i=wCe(t,e,n);if(i==null)return lc;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(SCe(i)){if(s)return Iv(Iv({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Iv(Iv({},lc),{},{coordinate:i.coordinate})};function TCe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function ECe(t,e){var n=TCe(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return n>=s&&n<=a}function kCe(t,e,n){if(n==null||e==null)return!0;var r=Cr(t,e);return r==null||!zc(n)?!0:ECe(r,n)}var HM=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Un(s))return i;var a=0,l=1/0;e.length>0&&(l=e.length-1);var c=Math.max(a,Math.min(s,l)),d=e[c];return d==null||kCe(d,n,r)?String(c):null},eY=(t,e,n,r,i,s,a,l)=>{if(!(s==null||l==null)){var c=a[0],d=c==null?void 0:l(c.positions,s);if(d!=null)return d;var f=i?.[Number(s)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:f.coordinate}}}},tY=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},A0=t=>t.options.tooltipPayloadSearcher,Yh=t=>t.tooltip;function MB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MB(Object(n),!0).forEach(function(r){_Ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Ce(t,e,n){return(e=ACe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ACe(t){var e=CCe(t,"string");return typeof e=="symbol"?e:e+""}function CCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OCe(t,e){return t??e}var nY=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:f}=n,p=[];return t.reduce((g,v)=>{var b,{dataDefinedOnItem:T,settings:S}=v,k=OCe(T,l),C=Array.isArray(k)?PW(k,d,f):k,N=(b=S?.dataKey)!==null&&b!==void 0?b:r,R=S?.nameKey,D;if(r&&Array.isArray(C)&&!Array.isArray(C[0])&&a==="axis"?D=G7(C,r,i):D=s(C,e,c,R),Array.isArray(D))D.forEach(j=>{var M=jB(jB({},S),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});g.push(HV({tooltipEntrySettings:M,dataKey:j.dataKey,payload:j.payload,value:Cr(j.payload,j.dataKey),name:j.name}))});else{var z;g.push(HV({tooltipEntrySettings:S,dataKey:N,payload:D,value:Cr(D,N),name:(z=Cr(D,R))!==null&&z!==void 0?z:S?.name}))}return g},p)}},qM=se([Jn,Gt,dK,AM,Qn],DK),NCe=se([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),MCe=se([Qn,Gh],fK),Xh=se([NCe,Jn,MCe],pK,{memoizeOptions:{resultEqualityCheck:L1}}),jCe=se([Xh],t=>t.filter(IM)),ICe=se([Xh],yK,{memoizeOptions:{resultEqualityCheck:L1}}),Qh=se([ICe,nu],vK),DCe=se([jCe,nu,Jn],lK),WM=se([Qh,Jn,Xh],bK),rY=se([Jn],RM),PCe=se([Jn],t=>t.allowDataOverflow),iY=se([rY,PCe],zG),RCe=se([Xh],t=>t.filter(IM)),LCe=se([DCe,RCe,j1,eK],wK),VCe=se([LCe,nu,Qn,iY],SK),BCe=se([Xh],gK),zCe=se([Qh,Jn,BCe,LM,Qn],kK,{memoizeOptions:{resultEqualityCheck:R1}}),UCe=se([_K,Qn,Gh],Kh),FCe=se([UCe,Qn],OK),$Ce=se([AK,Qn,Gh],Kh),HCe=se([$Ce,Qn],NK),qCe=se([CK,Qn,Gh],Kh),WCe=se([qCe,Qn],MK),GCe=se([FCe,WCe,HCe],tw),KCe=se([Jn,rY,iY,VCe,zCe,GCe,Gt,Qn],jK),C0=se([Jn,Gt,Qh,WM,j1,Qn,KCe],IK),YCe=se([C0,Jn,qM],PK),XCe=se([Jn,C0,YCe,Qn],RK),sY=t=>{var e=Qn(t),n=Gh(t),r=!1;return _0(t,e,n,r)},aY=se([Jn,sY],I1),oY=se([Jn,qM,XCe,aY],BM),QCe=se([Gt,WM,Jn,Qn],UK),JCe=se([Gt,WM,Jn,Qn],FK),ZCe=(t,e,n,r,i,s,a,l)=>{if(e){var{type:c}=e,d=Zc(t,l);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/f:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?ws(i[0]-i[1])*2*p:p,d&&a?a.map((g,v)=>({coordinate:r(g)+p,value:g,index:v,offset:p})):r.domain().map((g,v)=>({coordinate:r(g)+p,value:s?s[g]:g,index:v,offset:p}))}}},fl=se([Gt,Jn,qM,oY,sY,QCe,JCe,Qn],ZCe),GM=se([WK,GK,cCe],(t,e,n)=>KK(n.shared,t,e)),lY=t=>t.tooltip.settings.trigger,KM=t=>t.tooltip.settings.defaultIndex,O0=se([Yh,GM,lY,KM],ZK),Pg=se([O0,Qh,E0,C0],HM),cY=se([fl,Pg],YK),e2e=se([O0],t=>{if(t)return t.dataKey});se([O0],t=>{if(t)return t.graphicalItemId});var uY=se([Yh,GM,lY,KM],tY),t2e=se([ol,ll,Gt,Nr,fl,KM,uY,A0],eY),n2e=se([O0,t2e],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),r2e=se([O0],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),i2e=se([uY,Pg,nu,E0,cY,A0,GM],nY),s2e=se([i2e],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function IB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IB(Object(n),!0).forEach(function(r){a2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a2e(t,e,n){return(e=o2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o2e(t){var e=l2e(t,"string");return typeof e=="symbol"?e:e+""}function l2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c2e=()=>Ve(Jn),u2e=()=>{var t=c2e(),e=Ve(fl),n=Ve(oY);return Lx(!t||!n?void 0:DB(DB({},t),{},{scale:n}),e)};function PB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PB(Object(n),!0).forEach(function(r){d2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d2e(t,e,n){return(e=f2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f2e(t){var e=h2e(t,"string");return typeof e=="symbol"?e:e+""}function h2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p2e=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},m2e=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:a}=r;return jf(jf(jf({},r),Ar(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:c}=r;return jf(jf(jf({},r),Ar(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function g2e(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var dY=(t,e,n,r,i)=>{var s,a=(s=e?.length)!==null&&s!==void 0?s:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var c,d,f,p,g,v=l>0?(c=n[l-1])===null||c===void 0?void 0:c.coordinate:(d=n[a-1])===null||d===void 0?void 0:d.coordinate,b=(f=n[l])===null||f===void 0?void 0:f.coordinate,T=l>=a-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(g=n[l+1])===null||g===void 0?void 0:g.coordinate,S=void 0;if(!(v==null||b==null||T==null))if(ws(b-v)!==ws(T-b)){var k=[];if(ws(T-b)===ws(i[1]-i[0])){S=T;var C=b+i[1]-i[0];k[0]=Math.min(C,(C+v)/2),k[1]=Math.max(C,(C+v)/2)}else{S=v;var N=T+i[1]-i[0];k[0]=Math.min(b,(N+b)/2),k[1]=Math.max(b,(N+b)/2)}var R=[Math.min(b,(S+b)/2),Math.max(b,(S+b)/2)];if(t>R[0]&&t<=R[1]||t>=k[0]&&t<=k[1]){var D;return(D=n[l])===null||D===void 0?void 0:D.index}}else{var z=Math.min(v,T),j=Math.max(v,T);if(t>(z+b)/2&&t<=(j+b)/2){var M;return(M=n[l])===null||M===void 0?void 0:M.index}}}else if(e)for(var P=0;P<a;P++){var B=e[P];if(B!=null){var U=e[P+1],V=e[P-1];if(P===0&&U!=null&&t<=(B.coordinate+U.coordinate)/2||P===a-1&&V!=null&&t>(B.coordinate+V.coordinate)/2||P>0&&P<a-1&&V!=null&&U!=null&&t>(B.coordinate+V.coordinate)/2&&t<=(B.coordinate+U.coordinate)/2)return B.index}}return-1},y2e=()=>Ve(AM),YM=(t,e)=>e,fY=(t,e,n)=>n,XM=(t,e,n,r)=>r,v2e=se(fl,t=>h1(t,e=>e.coordinate)),QM=se([Yh,YM,fY,XM],ZK),JM=se([QM,Qh,E0,C0],HM),b2e=(t,e,n)=>{if(e!=null){var r=Yh(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},hY=se([Yh,YM,fY,XM],tY),nw=se([ol,ll,Gt,Nr,fl,XM,hY,A0],eY),x2e=se([QM,nw],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),pY=se([fl,JM],YK),w2e=se([hY,JM,nu,E0,pY,A0,YM],nY),S2e=se([QM,JM],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),T2e=(t,e,n,r,i,s,a)=>{if(!(!t||!n||!r||!i)&&g2e(t,a)){var l=oSe(t,e),c=dY(l,s,i,n,r),d=p2e(e,i,c,t);return{activeIndex:String(c),activeCoordinate:d}}},E2e=(t,e,n,r,i,s,a)=>{if(!(!t||!r||!i||!s||!n)){var l=sEe(t,n);if(l){var c=lSe(l,e),d=dY(c,a,s,r,i),f=m2e(e,s,d,l);return{activeIndex:String(d),activeCoordinate:f}}}},k2e=(t,e,n,r,i,s,a,l)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?T2e(t,e,r,i,s,a,l):E2e(t,e,n,r,i,s,a)},_2e=se(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),A2e=se(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Jr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:oAe}});function RB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RB(Object(n),!0).forEach(function(r){C2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C2e(t,e,n){return(e=O2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O2e(t){var e=N2e(t,"string");return typeof e=="symbol"?e:e+""}function N2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M2e={},j2e={zIndexMap:Object.values(Jr).reduce((t,e)=>LB(LB({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),M2e)},I2e=new Set(Object.values(Jr));function D2e(t){return I2e.has(t)}var mY=Ei({name:"zIndex",initialState:j2e,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Qt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!D2e(n)&&delete t.zIndexMap[n])},prepare:Qt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Qt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Qt()}}}),{registerZIndexPortal:P2e,unregisterZIndexPortal:R2e,registerZIndexPortalElement:L2e,unregisterZIndexPortalElement:V2e}=mY.actions,B2e=mY.reducer;function hl(t){var{zIndex:e,children:n}=t,r=USe(),i=r&&e!==void 0&&e!==0,s=ki(),a=ur();_.useLayoutEffect(()=>i?(a(P2e({zIndex:e})),()=>{a(R2e({zIndex:e}))}):h0,[a,e,i]);var l=Ve(c=>_2e(c,e,s));return i?l?KO.createPortal(n,l):null:n}function QC(){return QC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QC.apply(null,arguments)}function VB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VB(Object(n),!0).forEach(function(r){z2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z2e(t,e,n){return(e=U2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U2e(t){var e=F2e(t,"string");return typeof e=="symbol"?e:e+""}function F2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $2e(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return _.isValidElement(e)?_.cloneElement(e,r):_.createElement(n,r)}function H2e(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:l,cursor:c,tooltipEventType:d,chartName:f}=t,p=n,g=r,v=i;if(!c||!p||f!=="ScatterChart"&&d!=="axis")return null;var b,T,S;if(f==="ScatterChart")b=p,T=vTe,S=Jr.cursorLine;else if(f==="BarChart")b=bTe(l,p,s,a),T=tG,S=Jr.cursorRectangle;else if(l==="radial"&&X7(p)){var{cx:k,cy:C,radius:N,startAngle:R,endAngle:D}=nG(p);b={cx:k,cy:C,startAngle:R,endAngle:D,innerRadius:N,outerRadius:N},T=iG,S=Jr.cursorLine}else b={points:cEe(l,p,s)},T=XW,S=Jr.cursorLine;var z=typeof c=="object"&&"className"in c?c.className:void 0,j=Dv(Dv(Dv(Dv({stroke:"#ccc",pointerEvents:"none"},s),b),l1(c)),{},{payload:g,payloadIndex:v,className:yt("recharts-tooltip-cursor",z)});return _.createElement(hl,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},_.createElement($2e,{cursor:c,cursorComp:T,cursorProps:j}))}function q2e(t){var e=u2e(),n=qW(),r=y0(),i=y2e();return e==null||n==null||r==null||i==null?null:_.createElement(H2e,QC({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var gY=_.createContext(null),W2e=()=>_.useContext(gY),h_={exports:{}},BB;function G2e(){return BB||(BB=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function s(c,d,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,p||c,g),b=n?n+d:d;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],v]:c._events[b].push(v):(c._events[b]=v,c._eventsCount++),c}function a(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)e.call(f,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,b=new Array(v);g<v;g++)b[g]=p[g].fn;return b},l.prototype.listenerCount=function(d){var f=n?n+d:d,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,f,p,g,v,b){var T=n?n+d:d;if(!this._events[T])return!1;var S=this._events[T],k=arguments.length,C,N;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),k){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,f),!0;case 3:return S.fn.call(S.context,f,p),!0;case 4:return S.fn.call(S.context,f,p,g),!0;case 5:return S.fn.call(S.context,f,p,g,v),!0;case 6:return S.fn.call(S.context,f,p,g,v,b),!0}for(N=1,C=new Array(k-1);N<k;N++)C[N-1]=arguments[N];S.fn.apply(S.context,C)}else{var R=S.length,D;for(N=0;N<R;N++)switch(S[N].once&&this.removeListener(d,S[N].fn,void 0,!0),k){case 1:S[N].fn.call(S[N].context);break;case 2:S[N].fn.call(S[N].context,f);break;case 3:S[N].fn.call(S[N].context,f,p);break;case 4:S[N].fn.call(S[N].context,f,p,g);break;default:if(!C)for(D=1,C=new Array(k-1);D<k;D++)C[D-1]=arguments[D];S[N].fn.apply(S[N].context,C)}}return!0},l.prototype.on=function(d,f,p){return s(this,d,f,p,!1)},l.prototype.once=function(d,f,p){return s(this,d,f,p,!0)},l.prototype.removeListener=function(d,f,p,g){var v=n?n+d:d;if(!this._events[v])return this;if(!f)return a(this,v),this;var b=this._events[v];if(b.fn)b.fn===f&&(!g||b.once)&&(!p||b.context===p)&&a(this,v);else{for(var T=0,S=[],k=b.length;T<k;T++)(b[T].fn!==f||g&&!b[T].once||p&&b[T].context!==p)&&S.push(b[T]);S.length?this._events[v]=S.length===1?S[0]:S:a(this,v)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(h_)),h_.exports}var K2e=G2e();const Y2e=eo(K2e);var Rg=new Y2e,JC="recharts.syncEvent.tooltip",zB="recharts.syncEvent.brush";function X2e(t,e){if(e){var n=Number.parseInt(e,10);if(!Xa(n))return t?.[n]}}var Q2e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},yY=Ei({name:"options",initialState:Q2e,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),J2e=yY.reducer,{createEventEmitter:Z2e}=yY.actions;function eOe(t){return t.tooltip.syncInteraction}var tOe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},vY=Ei({name:"chartData",initialState:tOe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:UB,setDataStartEndIndexes:nOe,setComputedData:iPe}=vY.actions,rOe=vY.reducer,iOe=["x","y"];function FB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function If(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FB(Object(n),!0).forEach(function(r){sOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sOe(t,e,n){return(e=aOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aOe(t){var e=oOe(t,"string");return typeof e=="symbol"?e:e+""}function oOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lOe(t,e){if(t==null)return{};var n,r,i=cOe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uOe(){var t=Ve(CM),e=Ve(OM),n=ur(),r=Ve(tK),i=Ve(fl),s=y0(),a=T1(),l=Ve(c=>c.rootProps.className);_.useEffect(()=>{if(t==null)return h0;var c=(d,f,p)=>{if(e!==p&&t===d){if(r==="index"){var g;if(a&&f!==null&&f!==void 0&&(g=f.payload)!==null&&g!==void 0&&g.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x:b,y:T}=v,S=lOe(v,iOe),{x:k,y:C,width:N,height:R}=f.payload.sourceViewBox,D=If(If({},S),{},{x:a.x+(N?(b-k)/N:0)*a.width,y:a.y+(R?(T-C)/R:0)*a.height});n(If(If({},f),{},{payload:If(If({},f.payload),{},{coordinate:D})}))}else n(f);return}if(i!=null){var z;if(typeof r=="function"){var j={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},M=r(i,j);z=i[M]}else r==="value"&&(z=i.find(W=>String(W.value)===f.payload.label));var{coordinate:P}=f.payload;if(z==null||f.payload.active===!1||P==null||a==null){n(YC({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:B,y:U}=P,V=Math.min(B,a.x+a.width),L=Math.min(U,a.y+a.height),Z={x:s==="horizontal"?z.coordinate:V,y:s==="horizontal"?L:z.coordinate},oe=YC({active:f.payload.active,coordinate:Z,dataKey:f.payload.dataKey,index:String(z.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(oe)}}};return Rg.on(JC,c),()=>{Rg.off(JC,c)}},[l,n,e,t,r,i,s,a])}function dOe(){var t=Ve(CM),e=Ve(OM),n=ur();_.useEffect(()=>{if(t==null)return h0;var r=(i,s,a)=>{e!==a&&t===i&&n(nOe(s))};return Rg.on(zB,r),()=>{Rg.off(zB,r)}},[n,e,t])}function fOe(){var t=ur();_.useEffect(()=>{t(Z2e())},[t]),uOe(),dOe()}function hOe(t,e,n,r,i,s){var a=Ve(v=>b2e(v,t,e)),l=Ve(OM),c=Ve(CM),d=Ve(tK),f=Ve(eOe),p=f?.active,g=T1();_.useEffect(()=>{if(!p&&c!=null&&l!=null){var v=YC({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});Rg.emit(JC,c,v,l)}},[p,n,a,i,r,l,c,d,s,g])}function $B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$B(Object(n),!0).forEach(function(r){pOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$B(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pOe(t,e,n){return(e=mOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mOe(t){var e=gOe(t,"string");return typeof e=="symbol"?e:e+""}function gOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yOe(t){return t.dataKey}function vOe(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement(QSe,e)}var qB=[],bOe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xOe(t){var e,n,r=Ti(t,bOe),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:l,content:c,filterNull:d,isAnimationActive:f,offset:p,payloadUniqBy:g,position:v,reverseDirection:b,useTranslate3d:T,wrapperStyle:S,cursor:k,shared:C,trigger:N,defaultIndex:R,portal:D,axisId:z}=r,j=ur(),M=typeof R=="number"?String(R):R;_.useEffect(()=>{j(pCe({shared:C,trigger:N,axisId:z,active:i,defaultIndex:M}))},[j,C,N,z,i,M]);var P=T1(),B=YW(),U=lCe(C),{activeIndex:V,isActive:L}=(e=Ve(we=>S2e(we,U,N,M)))!==null&&e!==void 0?e:{},Z=Ve(we=>w2e(we,U,N,M)),oe=Ve(we=>pY(we,U,N,M)),W=Ve(we=>x2e(we,U,N,M)),Y=Z,ce=W2e(),he=(n=i??L)!==null&&n!==void 0?n:!1,[Se,H]=Zwe([Y,he]),ne=U==="axis"?oe:void 0;hOe(U,N,W,ne,V,he);var ye=D??ce;if(ye==null||P==null||U==null)return null;var be=Y??qB;he||(be=qB),d&&be.length&&(be=Nwe(be.filter(we=>we.value!=null&&(we.hide!==!0||r.includeHidden)),g,yOe));var ke=be.length>0,pe=_.createElement(iTe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:f,active:he,coordinate:W,hasPayload:ke,offset:p,position:v,reverseDirection:b,useTranslate3d:T,viewBox:P,wrapperStyle:S,lastBoundingBox:Se,innerRef:H,hasPortalFromProps:!!D},vOe(c,HB(HB({},r),{},{payload:be,label:ne,active:he,activeIndex:V,coordinate:W,accessibilityLayer:B})));return _.createElement(_.Fragment,null,KO.createPortal(pe,ye),he&&_.createElement(q2e,{cursor:k,tooltipEventType:U,coordinate:W,payload:be,index:V}))}function wOe(t,e,n){return(e=SOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SOe(t){var e=TOe(t,"string");return typeof e=="symbol"?e:e+""}function TOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class EOe{constructor(e){wOe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function WB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kOe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WB(Object(n),!0).forEach(function(r){_Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Oe(t,e,n){return(e=AOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AOe(t){var e=COe(t,"string");return typeof e=="symbol"?e:e+""}function COe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OOe={cacheSize:2e3,enableCache:!0},bY=kOe({},OOe),GB=new EOe(bY.cacheSize),NOe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KB="recharts_measurement_span";function MOe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var YB=(t,e)=>{try{var n=document.getElementById(KB);n||(n=document.createElement("span"),n.setAttribute("id",KB),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,NOe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Km=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||k1.isSsr)return{width:0,height:0};if(!bY.enableCache)return YB(e,n);var r=MOe(e,n),i=GB.get(r);if(i)return i;var s=YB(e,n);return GB.set(r,s),s},xY;function jOe(t,e,n){return(e=IOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IOe(t){var e=DOe(t,"string");return typeof e=="symbol"?e:e+""}function DOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,POe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ROe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,LOe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},VOe=["cm","mm","pt","pc","in","Q","px"];function BOe(t){return VOe.includes(t)}var Zf="NaN";function zOe(t,e){return t*LOe[e]}class wr{static parse(e){var n,[,r,i]=(n=ROe.exec(e))!==null&&n!==void 0?n:[];return r==null?wr.NaN:new wr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Xa(e)&&(this.unit=""),n!==""&&!POe.test(n)&&(this.num=NaN,this.unit=""),BOe(n)&&(this.num=zOe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new wr(NaN,""):new wr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new wr(NaN,""):new wr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new wr(NaN,""):new wr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new wr(NaN,""):new wr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Xa(this.num)}}xY=wr;jOe(wr,"NaN",new xY(NaN,""));function wY(t){if(t==null||t.includes(Zf))return Zf;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=XB.exec(e))!==null&&n!==void 0?n:[],a=wr.parse(r??""),l=wr.parse(s??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return Zf;e=e.replace(XB,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,f,p,g]=(d=QB.exec(e))!==null&&d!==void 0?d:[],v=wr.parse(f??""),b=wr.parse(g??""),T=p==="+"?v.add(b):v.subtract(b);if(T.isNaN())return Zf;e=e.replace(QB,T.toString())}return e}var JB=/\(([^()]*)\)/;function UOe(t){for(var e=t,n;(n=JB.exec(e))!=null;){var[,r]=n;e=e.replace(JB,wY(r))}return e}function FOe(t){var e=t.replace(/\s+/g,"");return e=UOe(e),e=wY(e),e}function $Oe(t){try{return FOe(t)}catch{return Zf}}function p_(t){var e=$Oe(t.slice(5,-1));return e===Zf?"":e}var HOe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],qOe=["dx","dy","angle","className","breakAll"];function ZC(){return ZC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZC.apply(null,arguments)}function ZB(t,e){if(t==null)return{};var n,r,i=WOe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var SY=/[ \f\n\r\t\v\u2028\u2029]+/,TY=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];cr(e)||(n?i=e.toString().split(""):i=e.toString().split(SY));var s=i.map(l=>({word:l,width:Km(l,r).width})),a=n?0:Km("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function GOe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var EY=(t,e,n,r)=>t.reduce((i,s)=>{var{word:a,width:l}=s,c=i[i.length-1];if(c&&l!=null&&(e==null||r||c.width+l+n<Number(e)))c.words.push(a),c.width+=l+n;else{var d={words:[a],width:l};i.push(d)}return i},[]),kY=t=>t.reduce((e,n)=>e.width>n.width?e:n),KOe="",ez=(t,e,n,r,i,s,a,l)=>{var c=t.slice(0,e),d=TY({breakAll:n,style:r,children:c+KOe});if(!d)return[!1,[]];var f=EY(d.wordsWithComputedWidth,s,a,l),p=f.length>i||kY(f).width>Number(s);return[p,f]},YOe=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:l,breakAll:c}=t,d=je(s),f=String(a),p=EY(e,r,n,i);if(!d||i)return p;var g=p.length>s||kY(p).width>Number(r);if(!g)return p;for(var v=0,b=f.length-1,T=0,S;v<=b&&T<=f.length-1;){var k=Math.floor((v+b)/2),C=k-1,[N,R]=ez(f,C,c,l,s,r,n,i),[D]=ez(f,k,c,l,s,r,n,i);if(!N&&!D&&(v=k+1),N&&D&&(b=k-1),!N&&D){S=R;break}T++}return S||p},tz=t=>{var e=cr(t)?[]:t.toString().split(SY);return[{words:e,width:void 0}]},XOe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!k1.isSsr){var l,c,d=TY({breakAll:s,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:p}=d;l=f,c=p}else return tz(r);return YOe({breakAll:s,children:r,maxLines:a,style:i},l,c,e,!!n)}return tz(r)},_Y="#808080",QOe={angle:0,breakAll:!1,capHeight:"0.71em",fill:_Y,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},ZM=_.forwardRef((t,e)=>{var n=Ti(t,QOe),{x:r,y:i,lineHeight:s,capHeight:a,fill:l,scaleToFit:c,textAnchor:d,verticalAnchor:f}=n,p=ZB(n,HOe),g=_.useMemo(()=>XOe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:v,dy:b,angle:T,className:S,breakAll:k}=p,C=ZB(p,qOe);if(!Qa(r)||!Qa(i)||g.length===0)return null;var N=Number(r)+(je(v)?v:0),R=Number(i)+(je(b)?b:0);if(!Un(N)||!Un(R))return null;var D;switch(f){case"start":D=p_("calc(".concat(a,")"));break;case"middle":D=p_("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:D=p_("calc(".concat(g.length-1," * -").concat(s,")"));break}var z=[];if(c){var j=g[0].width,{width:M}=p;z.push("scale(".concat(je(M)&&je(j)?M/j:1,")"))}return T&&z.push("rotate(".concat(T,", ").concat(N,", ").concat(R,")")),z.length&&(C.transform=z.join(" ")),_.createElement("text",ZC({},ii(C),{ref:e,x:N,y:R,className:yt("recharts-text",S),textAnchor:d,fill:l.includes("url")?_Y:l}),g.map((P,B)=>{var U=P.words.join(k?"":" ");return _.createElement("tspan",{x:N,dy:B===0?D:s,key:"".concat(U,"-").concat(B)},U)}))});ZM.displayName="Text";var JOe=["labelRef"],ZOe=["content"];function nz(t,e){if(t==null)return{};var n,r,i=eNe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eNe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rz(Object(n),!0).forEach(function(r){tNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tNe(t,e,n){return(e=nNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nNe(t){var e=rNe(t,"string");return typeof e=="symbol"?e:e+""}function rNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mo(){return Mo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mo.apply(null,arguments)}var AY=_.createContext(null),iNe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a,children:l}=t,c=_.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a}),[e,n,r,i,s,a]);return _.createElement(AY.Provider,{value:c},l)},CY=()=>{var t=_.useContext(AY),e=T1();return t||HW(e)},sNe=_.createContext(null),aNe=()=>{var t=_.useContext(sNe),e=Ve(aK);return t||e},oNe=t=>{var{value:e,formatter:n}=t,r=cr(t.children)?e:t.children;return typeof n=="function"?n(r):r},ej=t=>t!=null&&typeof t=="function",lNe=(t,e)=>{var n=ws(e-t),r=Math.min(Math.abs(e-t),360);return n*r},cNe=(t,e,n,r,i)=>{var{offset:s,className:a}=t,{cx:l,cy:c,innerRadius:d,outerRadius:f,startAngle:p,endAngle:g,clockWise:v}=i,b=(d+f)/2,T=lNe(p,g),S=T>=0?1:-1,k,C;switch(e){case"insideStart":k=p+S*s,C=v;break;case"insideEnd":k=g-S*s,C=!v;break;case"end":k=g+S*s,C=v;break;default:throw new Error("Unsupported position ".concat(e))}C=T<=0?C:!C;var N=Ar(l,c,b,k),R=Ar(l,c,b,k+(C?1:-1)*359),D="M".concat(N.x,",").concat(N.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(C?0:1,`,
    `).concat(R.x,",").concat(R.y),z=cr(t.id)?_g("recharts-radial-line-"):t.id;return _.createElement("text",Mo({},r,{dominantBaseline:"central",className:yt("recharts-radial-bar-label",a)}),_.createElement("defs",null,_.createElement("path",{id:z,d:D})),_.createElement("textPath",{xlinkHref:"#".concat(z)},n))},uNe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:c}=t,d=(l+c)/2;if(n==="outside"){var{x:f,y:p}=Ar(r,i,a+e,d);return{x:f,y:p,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:v,y:b}=Ar(r,i,g,d);return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},e2=t=>"cx"in t&&je(t.cx),dNe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!e2(n)&&(s=n);var{x:a,y:l,upperWidth:c,lowerWidth:d,height:f}=e,p=a,g=a+(c-d)/2,v=(p+g)/2,b=(c+d)/2,T=p+c/2,S=f>=0?1:-1,k=S*r,C=S>0?"end":"start",N=S>0?"start":"end",R=c>=0?1:-1,D=R*r,z=R>0?"end":"start",j=R>0?"start":"end";if(i==="top"){var M={x:p+c/2,y:l-k,textAnchor:"middle",verticalAnchor:C};return Sn(Sn({},M),s?{height:Math.max(l-s.y,0),width:c}:{})}if(i==="bottom"){var P={x:g+d/2,y:l+f+k,textAnchor:"middle",verticalAnchor:N};return Sn(Sn({},P),s?{height:Math.max(s.y+s.height-(l+f),0),width:d}:{})}if(i==="left"){var B={x:v-D,y:l+f/2,textAnchor:z,verticalAnchor:"middle"};return Sn(Sn({},B),s?{width:Math.max(B.x-s.x,0),height:f}:{})}if(i==="right"){var U={x:v+b+D,y:l+f/2,textAnchor:j,verticalAnchor:"middle"};return Sn(Sn({},U),s?{width:Math.max(s.x+s.width-U.x,0),height:f}:{})}var V=s?{width:b,height:f}:{};return i==="insideLeft"?Sn({x:v+D,y:l+f/2,textAnchor:j,verticalAnchor:"middle"},V):i==="insideRight"?Sn({x:v+b-D,y:l+f/2,textAnchor:z,verticalAnchor:"middle"},V):i==="insideTop"?Sn({x:p+c/2,y:l+k,textAnchor:"middle",verticalAnchor:N},V):i==="insideBottom"?Sn({x:g+d/2,y:l+f-k,textAnchor:"middle",verticalAnchor:C},V):i==="insideTopLeft"?Sn({x:p+D,y:l+k,textAnchor:j,verticalAnchor:N},V):i==="insideTopRight"?Sn({x:p+c-D,y:l+k,textAnchor:z,verticalAnchor:N},V):i==="insideBottomLeft"?Sn({x:g+D,y:l+f-k,textAnchor:j,verticalAnchor:C},V):i==="insideBottomRight"?Sn({x:g+d-D,y:l+f-k,textAnchor:z,verticalAnchor:C},V):i&&typeof i=="object"&&(je(i.x)||Ko(i.x))&&(je(i.y)||Ko(i.y))?Sn({x:a+Bc(i.x,b),y:l+Bc(i.y,f),textAnchor:"end",verticalAnchor:"end"},V):Sn({x:T,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},V)},fNe={angle:0,offset:5,zIndex:Jr.label,position:"middle",textBreakAll:!1};function tc(t){var e=Ti(t,fNe),{viewBox:n,position:r,value:i,children:s,content:a,className:l="",textBreakAll:c,labelRef:d}=e,f=aNe(),p=CY(),g=r==="center"?p:f??p,v,b,T;if(n==null?v=g:e2(n)?v=n:v=HW(n),!v||cr(i)&&cr(s)&&!_.isValidElement(a)&&typeof a!="function")return null;var S=Sn(Sn({},e),{},{viewBox:v});if(_.isValidElement(a)){var{labelRef:k}=S,C=nz(S,JOe);return _.cloneElement(a,C)}if(typeof a=="function"){var{content:N}=S,R=nz(S,ZOe);if(b=_.createElement(a,R),_.isValidElement(b))return b}else b=oNe(e);var D=ii(e);if(e2(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return cNe(e,r,b,D,v);T=uNe(v,e.offset,e.position)}else T=dNe(e,v);return _.createElement(hl,{zIndex:e.zIndex},_.createElement(ZM,Mo({ref:d,className:yt("recharts-label",l)},D,T,{textAnchor:GOe(D.textAnchor)?D.textAnchor:T.textAnchor,breakAll:c}),b))}tc.displayName="Label";var hNe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?_.createElement(tc,Mo({key:"label-implicit"},r)):Qa(t)?_.createElement(tc,Mo({key:"label-implicit",value:t},r)):_.isValidElement(t)?t.type===tc?_.cloneElement(t,Sn({key:"label-implicit"},r)):_.createElement(tc,Mo({key:"label-implicit",content:t},r)):ej(t)?_.createElement(tc,Mo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?_.createElement(tc,Mo({},t,{key:"label-implicit"},r)):null};function pNe(t){var{label:e,labelRef:n}=t,r=CY();return hNe(e,r,n)||null}var m_={},g_={},iz;function mNe(){return iz||(iz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(g_)),g_}var y_={},sz;function gNe(){return sz||(sz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(y_)),y_}var az;function yNe(){return az||(az=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mNe(),n=gNe(),r=HN();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(m_)),m_}var v_,oz;function vNe(){return oz||(oz=1,v_=yNe().last),v_}var bNe=vNe();const xNe=eo(bNe);var wNe=["valueAccessor"],SNe=["dataKey","clockWise","id","textBreakAll","zIndex"];function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(null,arguments)}function lz(t,e){if(t==null)return{};var n,r,i=TNe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function TNe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ENe=t=>Array.isArray(t.value)?xNe(t.value):t.value,OY=_.createContext(void 0),kNe=OY.Provider,NY=_.createContext(void 0);NY.Provider;function _Ne(){return _.useContext(OY)}function ANe(){return _.useContext(NY)}function ib(t){var{valueAccessor:e=ENe}=t,n=lz(t,wNe),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:l}=n,c=lz(n,SNe),d=_Ne(),f=ANe(),p=d||f;return!p||!p.length?null:_.createElement(hl,{zIndex:l??Jr.label},_.createElement(Vc,{className:"recharts-label-list"},p.map((g,v)=>{var b,T=cr(r)?e(g,v):Cr(g&&g.payload,r),S=cr(s)?{}:{id:"".concat(s,"-").concat(v)};return _.createElement(tc,rw({key:"label-".concat(v)},ii(g),c,S,{fill:(b=n.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:T,textBreakAll:a,viewBox:g.viewBox,index:v,zIndex:0}))})))}ib.displayName="LabelList";function CNe(t){var{label:e}=t;return e?e===!0?_.createElement(ib,{key:"labelList-implicit"}):_.isValidElement(e)||ej(e)?_.createElement(ib,{key:"labelList-implicit",content:e}):typeof e=="object"?_.createElement(ib,rw({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function t2(){return t2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t2.apply(null,arguments)}var MY=t=>{var{cx:e,cy:n,r,className:i}=t,s=yt("recharts-dot",i);return je(e)&&je(n)&&je(r)?_.createElement("circle",t2({},Ya(t),$N(t),{className:s,cx:e,cy:n,r})):null},ONe={radiusAxis:{},angleAxis:{}},jY=Ei({name:"polarAxis",initialState:ONe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:sPe,removeRadiusAxis:aPe,addAngleAxis:oPe,removeAngleAxis:lPe}=jY.actions,NNe=jY.reducer,IY=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,b_={},cz;function MNe(){return cz||(cz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(b_)),b_}var x_,uz;function jNe(){return uz||(uz=1,x_=MNe().isPlainObject),x_}var INe=jNe();const DNe=eo(INe);var dz,fz,hz,pz,mz;function gz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gz(Object(n),!0).forEach(function(r){PNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PNe(t,e,n){return(e=RNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RNe(t){var e=LNe(t,"string");return typeof e=="symbol"?e:e+""}function LNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(null,arguments)}function um(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var vz=(t,e,n,r,i)=>{var s=n-r,a;return a=mn(dz||(dz=um(["M ",",",""])),t,e),a+=mn(fz||(fz=um(["L ",",",""])),t+n,e),a+=mn(hz||(hz=um(["L ",",",""])),t+n-s/2,e+i),a+=mn(pz||(pz=um(["L ",",",""])),t+n-s/2-r,e+i),a+=mn(mz||(mz=um(["L ",","," Z"])),t,e),a},VNe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BNe=t=>{var e=Ti(t,VNe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:l}=e,{animationEasing:c,animationDuration:d,animationBegin:f,isUpdateAnimationActive:p}=e,g=_.useRef(null),[v,b]=_.useState(-1),T=_.useRef(i),S=_.useRef(s),k=_.useRef(a),C=_.useRef(n),N=_.useRef(r),R=eM(t,"trapezoid-");if(_.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var Z=g.current.getTotalLength();Z&&b(Z)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var D=yt("recharts-trapezoid",l);if(!p)return _.createElement("g",null,_.createElement("path",iw({},ii(e),{className:D,d:vz(n,r,i,s,a)})));var z=T.current,j=S.current,M=k.current,P=C.current,B=N.current,U="0px ".concat(v===-1?1:v,"px"),V="".concat(v,"px 0px"),L=QW(["strokeDasharray"],d,c);return _.createElement(ZN,{animationId:R,key:R,canBegin:v>0,duration:d,easing:c,isActive:p,begin:f},Z=>{var oe=vi(z,i,Z),W=vi(j,s,Z),Y=vi(M,a,Z),ce=vi(P,n,Z),he=vi(B,r,Z);g.current&&(T.current=oe,S.current=W,k.current=Y,C.current=ce,N.current=he);var Se=Z>0?{transition:L,strokeDasharray:V}:{strokeDasharray:U};return _.createElement("path",iw({},ii(e),{className:D,d:vz(ce,he,oe,W,Y),ref:g,style:yz(yz({},Se),e.style)}))})},zNe=["option","shapeType","activeClassName"];function UNe(t,e){if(t==null)return{};var n,r,i=FNe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FNe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bz(Object(n),!0).forEach(function(r){$Ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Ne(t,e,n){return(e=HNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HNe(t){var e=qNe(t,"string");return typeof e=="symbol"?e:e+""}function qNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WNe(t,e){return sw(sw({},e),t)}function GNe(t,e){return t==="symbols"}function xz(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return _.createElement(tG,n);case"trapezoid":return _.createElement(BNe,n);case"sector":return _.createElement(iG,n);case"symbols":if(GNe(e))return _.createElement(Y7,n);break;case"curve":return _.createElement(XW,n);default:return null}}function KNe(t){return _.isValidElement(t)?t.props:t}function YNe(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=UNe(t,zNe),s;if(_.isValidElement(e))s=_.cloneElement(e,sw(sw({},i),KNe(e)));else if(typeof e=="function")s=e(i,i.index);else if(DNe(e)&&typeof e!="boolean"){var a=WNe(e,i);s=_.createElement(xz,{shapeType:n,elementProps:a})}else{var l=i;s=_.createElement(xz,{shapeType:n,elementProps:l})}return i.isActive?_.createElement(Vc,{className:r},s):s}function XNe(t){var{tooltipEntrySettings:e}=t,n=ur(),r=ki(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(dCe(e)):i.current!==e&&n(fCe({prev:i.current,next:e})),i.current=e)},[e,n,r]),_.useLayoutEffect(()=>()=>{i.current&&(n(hCe(i.current)),i.current=null)},[n]),null}function QNe(t){var{legendPayload:e}=t,n=ur(),r=ki(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n($Se(e)):i.current!==e&&n(HSe({prev:i.current,next:e})),i.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{i.current&&(n(qSe(i.current)),i.current=null)},[n]),null}var w_,JNe=()=>{var[t]=_.useState(()=>_g("uid-"));return t},ZNe=(w_=FQ.useId)!==null&&w_!==void 0?w_:JNe;function eMe(t,e){var n=ZNe();return e||(t?"".concat(t,"-").concat(n):n)}var tMe=_.createContext(void 0),nMe=t=>{var{id:e,type:n,children:r}=t,i=eMe("recharts-".concat(n),e);return _.createElement(tMe.Provider,{value:i},r(i))},rMe={cartesianItems:[],polarItems:[]},DY=Ei({name:"graphicalItems",initialState:rMe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Qt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=na(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Qt()},removeCartesianGraphicalItem:{reducer(t,e){var n=na(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Qt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Qt()},removePolarGraphicalItem:{reducer(t,e){var n=na(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Qt()}}}),{addCartesianGraphicalItem:iMe,replaceCartesianGraphicalItem:sMe,removeCartesianGraphicalItem:aMe,addPolarGraphicalItem:cPe,removePolarGraphicalItem:uPe}=DY.actions,oMe=DY.reducer,lMe=t=>{var e=ur(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(iMe(t)):n.current!==t&&e(sMe({prev:n.current,next:t})),n.current=t},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(e(aMe(n.current)),n.current=null)},[e]),null},cMe=_.memo(lMe),uMe=["points"];function wz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wz(Object(n),!0).forEach(function(r){dMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dMe(t,e,n){return(e=fMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fMe(t){var e=hMe(t,"string");return typeof e=="symbol"?e:e+""}function hMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(null,arguments)}function pMe(t,e){if(t==null)return{};var n,r,i=mMe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gMe(t){var{option:e,dotProps:n,className:r}=t;if(_.isValidElement(e))return _.cloneElement(e,n);if(typeof e=="function")return e(n);var i=yt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:a}=s,l=pMe(s,uMe);return _.createElement(MY,aw({},l,{className:i}))}function yMe(t,e){return t==null?!1:e?!0:t.length===1}function vMe(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:a,needClip:l,clipPathId:c,zIndex:d=Jr.scatter}=t;if(!yMe(e,n))return null;var f=IY(n),p=nxe(n),g=e.map((b,T)=>{var S,k,C=S_(S_(S_({r:3},a),p),{},{index:T,cx:(S=b.x)!==null&&S!==void 0?S:void 0,cy:(k=b.y)!==null&&k!==void 0?k:void 0,dataKey:s,value:b.value,payload:b.payload,points:e});return _.createElement(gMe,{key:"dot-".concat(T),option:n,dotProps:C,className:i})}),v={};return l&&c!=null&&(v.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(c,")")),_.createElement(hl,{zIndex:d},_.createElement(Vc,aw({className:r},v),g))}function Sz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sz(Object(n),!0).forEach(function(r){bMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bMe(t,e,n){return(e=xMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xMe(t){var e=wMe(t,"string");return typeof e=="symbol"?e:e+""}function wMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SMe={xAxis:{},yAxis:{},zAxis:{}},PY=Ei({name:"cartesianAxis",initialState:SMe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Qt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Qt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Qt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Qt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Qt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Qt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Qt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Qt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Qt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var a=[...s,r].slice(-3);t.yAxis[n]=Tz(Tz({},t.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:TMe,replaceXAxis:EMe,removeXAxis:kMe,addYAxis:_Me,replaceYAxis:AMe,removeYAxis:CMe,addZAxis:dPe,replaceZAxis:fPe,removeZAxis:hPe,updateYAxisWidth:OMe}=PY.actions,NMe=PY.reducer,MMe=se([Nr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),jMe=se([MMe,ol,ll],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),tj=()=>Ve(jMe),IMe=()=>Ve(s2e);function Ez(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ez(Object(n),!0).forEach(function(r){DMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ez(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DMe(t,e,n){return(e=PMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PMe(t){var e=RMe(t,"string");return typeof e=="symbol"?e:e+""}function RMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LMe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:a}=t;if(i===!1||e.x==null||e.y==null)return null;var l={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},c=T_(T_(T_({},l),l1(i)),$N(i)),d;return _.isValidElement(i)?d=_.cloneElement(i,c):typeof i=="function"?d=i(c):d=_.createElement(MY,c),_.createElement(Vc,{className:"recharts-active-dot",clipPath:a},d)};function VMe(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:a=Jr.activeDot}=t,l=Ve(Pg),c=IMe();if(e==null||c==null)return null;var d=e.find(f=>c.includes(f.payload));return cr(d)?null:_.createElement(hl,{zIndex:a},_.createElement(LMe,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var BMe=t=>{var{chartData:e}=t,n=ur(),r=ki();return _.useEffect(()=>r?()=>{}:(n(UB(e)),()=>{n(UB(void 0))}),[e,n,r]),null},kz={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},RY=Ei({name:"brush",initialState:kz,reducers:{setBrushSettings(t,e){return e.payload==null?kz:e.payload}}}),{setBrushSettings:pPe}=RY.actions,zMe=RY.reducer;function UMe(t,e,n){return(e=FMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FMe(t){var e=$Me(t,"string");return typeof e=="symbol"?e:e+""}function $Me(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class nj{static create(e){return new nj(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}UMe(nj,"EPS",1e-4);function HMe(t){return(t%180+180)%180}var qMe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=HMe(i),a=s*Math.PI/180,l=Math.atan(r/n),c=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},WMe={dots:[],areas:[],lines:[]},LY=Ei({name:"referenceElements",initialState:WMe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=na(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=na(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=na(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:mPe,removeDot:gPe,addArea:yPe,removeArea:vPe,addLine:bPe,removeLine:xPe}=LY.actions,GMe=LY.reducer,KMe=_.createContext(void 0),YMe=t=>{var{children:e}=t,[n]=_.useState("".concat(_g("recharts"),"-clip")),r=tj();if(r==null)return null;var{x:i,y:s,width:a,height:l}=r;return _.createElement(KMe.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:s,height:l,width:a}))),e)};function VY(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function XMe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return qMe(r,n)}function QMe(t,e,n){var r=n==="width",{x:i,y:s,width:a,height:l}=t;return e===1?{start:r?i:s,end:r?i+a:s+l}:{start:r?i+a:s+l,end:r?i:s}}function Lg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function JMe(t,e){return VY(t,e+1)}function ZMe(t,e,n,r,i){for(var s=(r||[]).slice(),{start:a,end:l}=e,c=0,d=1,f=a,p=function(){var b=r?.[c];if(b===void 0)return{v:VY(r,d)};var T=c,S,k=()=>(S===void 0&&(S=n(b,T)),S),C=b.coordinate,N=c===0||Lg(t,C,k,f,l);N||(c=0,f=a,d+=1),N&&(f=C+t*(k()/2+i),c+=d)},g;d<=s.length;)if(g=p(),g)return g.v;return[]}function eje(t,e,n,r,i){var s=(r||[]).slice(),a=s.length;if(a===0)return[];for(var{start:l,end:c}=e,d=1;d<=a;d++){for(var f=(a-1)%d,p=l,g=!0,v=function(){var C=r[b],N=b,R,D=()=>(R===void 0&&(R=n(C,N)),R),z=C.coordinate,j=b===f||Lg(t,z,D,p,c);if(!j)return g=!1,1;j&&(p=z+t*(D()/2+i))},b=f;b<a&&!v();b+=d);if(g){for(var T=[],S=f;S<a;S+=d)T.push(r[S]);return T}}return[]}function _z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_z(Object(n),!0).forEach(function(r){tje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_z(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tje(t,e,n){return(e=nje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nje(t){var e=rje(t,"string");return typeof e=="symbol"?e:e+""}function rje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ije(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:l}=e,{end:c}=e,d=function(g){var v=s[g],b,T=()=>(b===void 0&&(b=n(v,g)),b);if(g===a-1){var S=t*(v.coordinate+t*T()/2-c);s[g]=v=Lr(Lr({},v),{},{tickCoord:S>0?v.coordinate-S*t:v.coordinate})}else s[g]=v=Lr(Lr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var k=Lg(t,v.tickCoord,T,l,c);k&&(c=v.tickCoord-t*(T()/2+i),s[g]=Lr(Lr({},v),{},{isShow:!0}))}},f=a-1;f>=0;f--)d(f);return s}function sje(t,e,n,r,i,s){var a=(r||[]).slice(),l=a.length,{start:c,end:d}=e;if(s){var f=r[l-1],p=n(f,l-1),g=t*(f.coordinate+t*p/2-d);if(a[l-1]=f=Lr(Lr({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate}),f.tickCoord!=null){var v=Lg(t,f.tickCoord,()=>p,c,d);v&&(d=f.tickCoord-t*(p/2+i),a[l-1]=Lr(Lr({},f),{},{isShow:!0}))}}for(var b=s?l-1:l,T=function(C){var N=a[C],R,D=()=>(R===void 0&&(R=n(N,C)),R);if(C===0){var z=t*(N.coordinate-t*D()/2-c);a[C]=N=Lr(Lr({},N),{},{tickCoord:z<0?N.coordinate-z*t:N.coordinate})}else a[C]=N=Lr(Lr({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var j=Lg(t,N.tickCoord,D,c,d);j&&(c=N.tickCoord+t*(D()/2+i),a[C]=Lr(Lr({},N),{},{isShow:!0}))}},S=0;S<b;S++)T(S);return a}function rj(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:c,tickFormatter:d,unit:f,angle:p}=t;if(!i||!i.length||!r)return[];if(je(c)||k1.isSsr){var g;return(g=JMe(i,je(c)?c:0))!==null&&g!==void 0?g:[]}var v=[],b=l==="top"||l==="bottom"?"width":"height",T=f&&b==="width"?Km(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(N,R)=>{var D=typeof d=="function"?d(N.value,R):N.value;return b==="width"?XMe(Km(D,{fontSize:e,letterSpacing:n}),T,p):Km(D,{fontSize:e,letterSpacing:n})[b]},k=i.length>=2?ws(i[1].coordinate-i[0].coordinate):1,C=QMe(s,k,b);return c==="equidistantPreserveStart"?ZMe(k,C,S,i,a):c==="equidistantPreserveEnd"?eje(k,C,S,i,a):(c==="preserveStart"||c==="preserveStartEnd"?v=sje(k,C,S,i,a,c==="preserveStartEnd"):v=ije(k,C,S,i,a),v.filter(N=>N.isShow))}var aje=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>a&&(a=p.width)}});var l=n?n.getBoundingClientRect().width:0,c=i+s,d=a+c+l+(n?r:0);return Math.round(d)}return 0},oje=["axisLine","width","height","className","hide","ticks","axisType"];function lje(t,e){if(t==null)return{};var n,r,i=cje(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Md.apply(null,arguments)}function Az(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Az(Object(n),!0).forEach(function(r){uje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Az(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uje(t,e,n){return(e=dje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dje(t){var e=fje(t,"string");return typeof e=="symbol"?e:e+""}function fje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Jr.axis};function hje(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:l,otherSvgProps:c}=t;if(!l)return null;var d=Pn(Pn(Pn({},c),Ya(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!a||s==="bottom"&&a);d=Pn(Pn({},d),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var p=+(s==="left"&&!a||s==="right"&&a);d=Pn(Pn({},d),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return _.createElement("line",Md({},d,{className:yt("recharts-cartesian-axis-line",f1(l,"className"))}))}function pje(t,e,n,r,i,s,a,l,c){var d,f,p,g,v,b,T=l?-1:1,S=t.tickSize||a,k=je(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":d=f=t.coordinate,g=n+ +!l*i,p=g-T*S,b=p-T*c,v=k;break;case"left":p=g=t.coordinate,f=e+ +!l*r,d=f-T*S,v=d-T*c,b=k;break;case"right":p=g=t.coordinate,f=e+ +l*r,d=f+T*S,v=d+T*c,b=k;break;default:d=f=t.coordinate,g=n+ +l*i,p=g+T*S,b=p+T*c,v=k;break}return{line:{x1:d,y1:p,x2:f,y2:g},tick:{x:v,y:b}}}function mje(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function gje(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function yje(t){var{option:e,tickProps:n,value:r}=t,i,s=yt(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))i=_.cloneElement(e,Pn(Pn({},n),{},{className:s}));else if(typeof e=="function")i=e(Pn(Pn({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=yt(a,e?.className)),i=_.createElement(ZM,Md({},n,{className:a}),r)}return i}var vje=_.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:l,padding:c,tickTextProps:d,orientation:f,mirror:p,x:g,y:v,width:b,height:T,tickSize:S,tickMargin:k,fontSize:C,letterSpacing:N,getTicksConfig:R,events:D,axisType:z}=t,j=rj(Pn(Pn({},R),{},{ticks:n}),C,N),M=mje(f,p),P=gje(f,p),B=Ya(R),U=l1(r),V={};typeof i=="object"&&(V=i);var L=Pn(Pn({},B),{},{fill:"none"},V),Z=j.map(Y=>Pn({entry:Y},pje(Y,g,v,b,T,f,S,p,k))),oe=Z.map(Y=>{var{entry:ce,line:he}=Y;return _.createElement(Vc,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ce.value,"-").concat(ce.coordinate,"-").concat(ce.tickCoord)},i&&_.createElement("line",Md({},L,he,{className:yt("recharts-cartesian-axis-tick-line",f1(i,"className"))})))}),W=Z.map((Y,ce)=>{var{entry:he,tick:Se}=Y,H=Pn(Pn(Pn(Pn({textAnchor:M,verticalAnchor:P},B),{},{stroke:"none",fill:s},U),Se),{},{index:ce,payload:he,visibleTicksCount:j.length,tickFormatter:a,padding:c},d);return _.createElement(Vc,Md({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},awe(D,he,ce)),r&&_.createElement(yje,{option:r,tickProps:H,value:"".concat(typeof a=="function"?a(he.value,ce):he.value).concat(l||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},W.length>0&&_.createElement(hl,{zIndex:Jr.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:e},W)),oe.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},oe))}),bje=_.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:l,axisType:c}=t,d=lje(t,oje),[f,p]=_.useState(""),[g,v]=_.useState(""),b=_.useRef(null);_.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return aje({ticks:b.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var T=_.useCallback(S=>{if(S){var k=S.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=k;var C=k[0];if(C){var N=window.getComputedStyle(C),R=N.fontSize,D=N.letterSpacing;(R!==f||D!==g)&&(p(R),v(D))}}},[f,g]);return a||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(hl,{zIndex:t.zIndex},_.createElement(Vc,{className:yt("recharts-cartesian-axis",s)},_.createElement(hje,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ya(t)}),_.createElement(vje,{ref:T,axisType:c,events:d,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:g,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),_.createElement(iNe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},_.createElement(pNe,{label:t.label,labelRef:t.labelRef}),t.children)))}),ij=_.forwardRef((t,e)=>{var n=Ti(t,Uo);return _.createElement(bje,Md({},n,{ref:e}))});ij.displayName="CartesianAxis";var xje=["x1","y1","x2","y2","key"],wje=["offset"],Sje=["xAxisId","yAxisId"],Tje=["xAxisId","yAxisId"];function Cz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cz(Object(n),!0).forEach(function(r){Eje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eje(t,e,n){return(e=kje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kje(t){var e=_je(t,"string");return typeof e=="symbol"?e:e+""}function _je(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function td(){return td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},td.apply(null,arguments)}function ow(t,e){if(t==null)return{};var n,r,i=Aje(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Aje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cje=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:a,ry:l}=t;return _.createElement("rect",{x:r,y:i,ry:l,width:s,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function BY(t){var{option:e,lineItemProps:n}=t,r;if(_.isValidElement(e))r=_.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:a,x2:l,y2:c,key:d}=n,f=ow(n,xje),p=(i=Ya(f))!==null&&i!==void 0?i:{},{offset:g}=p,v=ow(p,wje);r=_.createElement("line",td({},v,{x1:s,y1:a,x2:l,y2:c,fill:"none",key:d}))}return r}function Oje(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=ow(t,Sje),c=i.map((d,f)=>{var p=zr(zr({},l),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(f),index:f});return _.createElement(BY,{key:"line-".concat(f),option:r,lineItemProps:p})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Nje(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=ow(t,Tje),c=i.map((d,f)=>{var p=zr(zr({},l),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(f),index:f});return _.createElement(BY,{option:r,lineItemProps:p,key:"line-".concat(f)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Mje(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:a,horizontalPoints:l,horizontal:c=!0}=t;if(!c||!e||!e.length||l==null)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==d[0]&&d.unshift(0);var f=d.map((p,g)=>{var v=!d[g+1],b=v?i+a-p:d[g+1]-p;if(b<=0)return null;var T=g%e.length;return _.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:b,width:s,stroke:"none",fill:e[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function jje(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:a,height:l,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var d=c.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==d[0]&&d.unshift(0);var f=d.map((p,g)=>{var v=!d[g+1],b=v?i+a-p:d[g+1]-p;if(b<=0)return null;var T=g%n.length;return _.createElement("rect",{key:"react-".concat(g),x:p,y:s,width:b,height:l,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Ije=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return RW(rj(zr(zr(zr({},Uo),n),{},{ticks:LW(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},Dje=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return RW(rj(zr(zr(zr({},Uo),n),{},{ticks:LW(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},Pje={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Jr.grid};function zY(t){var e=WW(),n=GW(),r=qW(),i=zr(zr({},Ti(t,Pje)),{},{x:je(t.x)?t.x:r.left,y:je(t.y)?t.y:r.top,width:je(t.width)?t.width:r.width,height:je(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:a,x:l,y:c,width:d,height:f,syncWithTicks:p,horizontalValues:g,verticalValues:v}=i,b=ki(),T=Ve(P=>OB(P,"xAxis",s,b)),S=Ve(P=>OB(P,"yAxis",a,b));if(!Ja(d)||!Ja(f)||!je(l)||!je(c))return null;var k=i.verticalCoordinatesGenerator||Ije,C=i.horizontalCoordinatesGenerator||Dje,{horizontalPoints:N,verticalPoints:R}=i;if((!N||!N.length)&&typeof C=="function"){var D=g&&g.length,z=C({yAxis:S?zr(zr({},S),{},{ticks:D?g:S.ticks}):void 0,width:e??d,height:n??f,offset:r},D?!0:p);Vx(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(N=z)}if((!R||!R.length)&&typeof k=="function"){var j=v&&v.length,M=k({xAxis:T?zr(zr({},T),{},{ticks:j?v:T.ticks}):void 0,width:e??d,height:n??f,offset:r},j?!0:p);Vx(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(R=M)}return _.createElement(hl,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(Cje,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(Mje,td({},i,{horizontalPoints:N})),_.createElement(jje,td({},i,{verticalPoints:R})),_.createElement(Oje,td({},i,{offset:r,horizontalPoints:N,xAxis:T,yAxis:S})),_.createElement(Nje,td({},i,{offset:r,verticalPoints:R,xAxis:T,yAxis:S}))))}zY.displayName="CartesianGrid";var Rje={},UY=Ei({name:"errorBars",initialState:Rje,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:wPe,replaceErrorBar:SPe,removeErrorBar:TPe}=UY.actions,Lje=UY.reducer,Vje=["children"];function Bje(t,e){if(t==null)return{};var n,r,i=zje(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Uje={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Fje=_.createContext(Uje);function $je(t){var{children:e}=t,n=Bje(t,Vje);return _.createElement(Fje.Provider,{value:n},e)}function FY(t,e){var n,r,i=Ve(d=>ul(d,t)),s=Ve(d=>dl(d,e)),a=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:nr.allowDataOverflow,l=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:rr.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function Hje(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=tj(),{needClipX:s,needClipY:a,needClip:l}=FY(e,n);if(!l||!i)return null;var{x:c,y:d,width:f,height:p}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:s?c:c-f/2,y:a?d:d-p/2,width:s?f:f*2,height:a?p:p*2}))}var $Y=(t,e,n,r)=>qK(t,"xAxis",e,r),HY=(t,e,n,r)=>HK(t,"xAxis",e,r),qY=(t,e,n,r)=>qK(t,"yAxis",n,r),WY=(t,e,n,r)=>HK(t,"yAxis",n,r),qje=se([Gt,$Y,qY,HY,WY],(t,e,n,r,i)=>Zc(t,"xAxis")?Lx(e,r,!1):Lx(n,i,!1)),Wje=(t,e,n,r,i)=>i;function Gje(t){return t.type==="line"}var Kje=se([hK,Wje],(t,e)=>t.filter(Gje).find(n=>n.id===e)),Yje=se([Gt,$Y,qY,HY,WY,Kje,qje,EM],(t,e,n,r,i,s,a,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:f}=l;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:p,data:g}=s,v;if(g!=null&&g.length>0?v=g:v=c?.slice(d,f+1),v!=null)return RIe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:a,displayedData:v})}});function Xje(t){var e=l1(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,a=Number(i),l=Number(s);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(l)||l<0)&&(l=r),{r:a,strokeWidth:l}}return{r:n,strokeWidth:r}}var E_={exports:{}},k_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oz;function Qje(){if(Oz)return k_;Oz=1;var t=Oh();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return k_.useSyncExternalStoreWithSelector=function(c,d,f,p,g){var v=i(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=a(function(){function S(D){if(!k){if(k=!0,C=D,D=p(D),g!==void 0&&b.hasValue){var z=b.value;if(g(z,D))return N=z}return N=D}if(z=N,n(C,D))return z;var j=p(D);return g!==void 0&&g(z,j)?(C=D,z):(C=D,N=j)}var k=!1,C,N,R=f===void 0?null:f;return[function(){return S(d())},R===null?void 0:function(){return S(R())}]},[d,f,p,g]);var T=r(c,v[0],v[1]);return s(function(){b.hasValue=!0,b.value=T},[T]),l(T),T},k_}var Nz;function Jje(){return Nz||(Nz=1,E_.exports=Qje()),E_.exports}Jje();function Zje(t){t()}function eIe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Zje(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Mz={notify(){},get:()=>[]};function tIe(t,e){let n,r=Mz,i=0,s=!1;function a(T){f();const S=r.subscribe(T);let k=!1;return()=>{k||(k=!0,S(),p())}}function l(){r.notify()}function c(){b.onStateChange&&b.onStateChange()}function d(){return s}function f(){i++,n||(n=t.subscribe(c),r=eIe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Mz)}function g(){s||(s=!0,f())}function v(){s&&(s=!1,p())}const b={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return b}var nIe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rIe=nIe(),iIe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",sIe=iIe(),aIe=()=>rIe||sIe?_.useLayoutEffect:_.useEffect,oIe=aIe();function jz(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function lIe(t,e){if(jz(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!jz(t[n[i]],e[n[i]]))return!1;return!0}var cIe=Symbol.for("react-redux-context"),uIe=typeof globalThis<"u"?globalThis:{};function dIe(){if(!_.createContext)return{};const t=uIe[cIe]??=new Map;let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var fIe=dIe();function hIe(t){const{children:e,context:n,serverState:r,store:i}=t,s=_.useMemo(()=>{const c=tIe(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),a=_.useMemo(()=>i.getState(),[i]);oIe(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=n||fIe;return _.createElement(l.Provider,{value:s},e)}var pIe=hIe,mIe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function gIe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function sj(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(mIe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!lIe(t[r],e[r]))return!1}else if(!gIe(t[r],e[r]))return!1;return!0}var yIe=["id"],vIe=["type","layout","connectNulls","needClip","shape"],bIe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Vg(){return Vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(null,arguments)}function Iz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iz(Object(n),!0).forEach(function(r){xIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xIe(t,e,n){return(e=wIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wIe(t){var e=SIe(t,"string");return typeof e=="symbol"?e:e+""}function SIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aj(t,e){if(t==null)return{};var n,r,i=TIe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function TIe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var EIe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:VW(n,e),payload:t}]},kIe=_.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:l,unit:c,tooltipType:d,id:f}=t,p={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:VW(a,e),hide:l,type:d,color:r,unit:c,graphicalItemId:f}};return _.createElement(XNe,{tooltipEntrySettings:p})}),GY=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function _Ie(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var AIe=(t,e,n)=>{var r=n.reduce((p,g)=>p+g);if(!r)return GY(e,t);for(var i=Math.floor(t/r),s=t%r,a=e-t,l=[],c=0,d=0;c<n.length;d+=n[c],++c)if(d+n[c]>s){l=[...n.slice(0,c),s-d];break}var f=l.length%2===0?[0,a]:[a];return[..._Ie(n,i),...l,...f].map(p=>"".concat(p,"px")).join(", ")};function CIe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:a}=r,{id:l}=r,c=aj(r,yIe),d=Ya(c);return _.createElement(vMe,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:d,needClip:a,clipPathId:e})}function OIe(t){var{showLabels:e,children:n,points:r}=t,i=_.useMemo(()=>r?.map(s=>{var a,l,c={x:(a=s.x)!==null&&a!==void 0?a:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Pa(Pa({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return _.createElement(kNe,{value:e?i:void 0},n)}function Dz(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:a,layout:l,connectNulls:c,needClip:d,shape:f}=s,p=aj(s,vIe),g=Pa(Pa({},ii(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:a,layout:l,connectNulls:c,strokeDasharray:i??s.strokeDasharray});return _.createElement(_.Fragment,null,r?.length>1&&_.createElement(YNe,Vg({shapeType:"curve",option:f},g,{pathRef:n})),_.createElement(CIe,{points:r,clipPathId:e,props:s}))}function NIe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function MIe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:p,animateNewValues:g,width:v,height:b,onAnimationEnd:T,onAnimationStart:S}=n,k=i.current,C=eM(a,"recharts-line-"),N=_.useRef(C),[R,D]=_.useState(!1),z=!R,j=_.useCallback(()=>{typeof T=="function"&&T(),D(!1)},[T]),M=_.useCallback(()=>{typeof S=="function"&&S(),D(!0)},[S]),P=NIe(r.current),B=_.useRef(0);N.current!==C&&(B.current=s.current,N.current=C);var U=B.current;return _.createElement(OIe,{points:a,showLabels:z},n.children,_.createElement(ZN,{animationId:C,begin:d,duration:f,isActive:c,easing:p,onAnimationEnd:j,onAnimationStart:M,key:C},V=>{var L=vi(U,P+U,V),Z=Math.min(L,P),oe;if(c)if(l){var W="".concat(l).split(/[,\s]+/gim).map(he=>parseFloat(he));oe=AIe(Z,P,W)}else oe=GY(P,Z);else oe=l==null?void 0:String(l);if(V>0&&P>0&&(i.current=a,s.current=Math.max(s.current,Z)),k){var Y=k.length/a.length,ce=V===1?a:a.map((he,Se)=>{var H=Math.floor(Se*Y);if(k[H]){var ne=k[H];return Pa(Pa({},he),{},{x:vi(ne.x,he.x,V),y:vi(ne.y,he.y,V)})}return g?Pa(Pa({},he),{},{x:vi(v*2,he.x,V),y:vi(b/2,he.y,V)}):Pa(Pa({},he),{},{x:he.x,y:he.y})});return i.current=ce,_.createElement(Dz,{props:n,points:ce,clipPathId:e,pathRef:r,strokeDasharray:oe})}return _.createElement(Dz,{props:n,points:a,clipPathId:e,pathRef:r,strokeDasharray:oe})}),_.createElement(CNe,{label:n.label}))}function jIe(t){var{clipPathId:e,props:n}=t,r=_.useRef(null),i=_.useRef(0),s=_.useRef(null);return _.createElement(MIe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var IIe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Cr(t.payload,e)}};class DIe extends _.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:a,top:l,left:c,width:d,height:f,id:p,needClip:g,zIndex:v}=this.props;if(e)return null;var b=yt("recharts-line",i),T=p,{r:S,strokeWidth:k}=Xje(n),C=IY(n),N=S*2+k,R=g?"url(#clipPath-".concat(C?"":"dots-").concat(T,")"):void 0;return _.createElement(hl,{zIndex:v},_.createElement(Vc,{className:b},g&&_.createElement("defs",null,_.createElement(Hje,{clipPathId:T,xAxisId:s,yAxisId:a}),!C&&_.createElement("clipPath",{id:"clipPath-dots-".concat(T)},_.createElement("rect",{x:c-N/2,y:l-N/2,width:d+N,height:f+N}))),_.createElement($je,{xAxisId:s,yAxisId:a,data:r,dataPointFormatter:IIe,errorBarOffset:0},_.createElement(jIe,{props:this.props,clipPathId:T}))),_.createElement(VMe,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:R}))}}var KY={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Jr.line,type:"linear"};function PIe(t){var e=Ti(t,KY),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:c,hide:d,isAnimationActive:f,label:p,legendType:g,xAxisId:v,yAxisId:b,id:T}=e,S=aj(e,bIe),{needClip:k}=FY(v,b),C=tj(),N=y0(),R=ki(),D=Ve(B=>Yje(B,v,b,R,T));if(N!=="horizontal"&&N!=="vertical"||D==null||C==null)return null;var{height:z,width:j,x:M,y:P}=C;return _.createElement(DIe,Vg({},S,{id:T,connectNulls:l,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:f,hide:d,label:p,legendType:g,xAxisId:v,yAxisId:b,points:D,layout:N,height:z,width:j,left:M,top:P,needClip:k}))}function RIe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:l,displayedData:c}=t;return c.map((d,f)=>{var p=Cr(d,a);if(e==="horizontal"){var g=UV({axis:n,ticks:i,bandSize:l,entry:d,index:f}),v=cr(p)?null:r.scale(p);return{x:g,y:v,value:p,payload:d}}var b=cr(p)?null:n.scale(p),T=UV({axis:r,ticks:s,bandSize:l,entry:d,index:f});return b==null||T==null?null:{x:b,y:T,value:p,payload:d}}).filter(Boolean)}function LIe(t){var e=Ti(t,KY),n=ki();return _.createElement(nMe,{id:e.id,type:"line"},r=>_.createElement(_.Fragment,null,_.createElement(QNe,{legendPayload:EIe(e)}),_.createElement(kIe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),_.createElement(cMe,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),_.createElement(PIe,Vg({},e,{id:r}))))}var sb=_.memo(LIe,sj);sb.displayName="Line";var VIe=["domain","range"],BIe=["domain","range"];function Pz(t,e){if(t==null)return{};var n,r,i=zIe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zIe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Rz(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function YY(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=Pz(t,VIe),{domain:s,range:a}=e,l=Pz(e,BIe);return!Rz(n,s)||!Rz(r,a)?!1:sj(i,l)}var UIe=["dangerouslySetInnerHTML","ticks","scale"],FIe=["id","scale"];function n2(){return n2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n2.apply(null,arguments)}function Lz(t,e){if(t==null)return{};var n,r,i=$Ie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $Ie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function HIe(t){var e=ur(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(TMe(t)):n.current!==t&&e(EMe({prev:n.current,next:t})),n.current=t},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(kMe(n.current)),n.current=null)},[e]),null}var qIe=t=>{var{xAxisId:e,className:n}=t,r=Ve(zW),i=ki(),s="xAxis",a=Ve(k=>$K(k,s,e,i)),l=Ve(k=>KAe(k,e)),c=Ve(k=>eCe(k,e)),d=Ve(k=>cK(k,e));if(l==null||c==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:p,scale:g}=t,v=Lz(t,UIe),{id:b,scale:T}=d,S=Lz(d,FIe);return _.createElement(ij,n2({},v,S,{x:c.x,y:c.y,width:l.width,height:l.height,className:yt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:a,axisType:s}))},WIe={allowDataOverflow:nr.allowDataOverflow,allowDecimals:nr.allowDecimals,allowDuplicatedCategory:nr.allowDuplicatedCategory,angle:nr.angle,axisLine:Uo.axisLine,height:nr.height,hide:!1,includeHidden:nr.includeHidden,interval:nr.interval,minTickGap:nr.minTickGap,mirror:nr.mirror,orientation:nr.orientation,padding:nr.padding,reversed:nr.reversed,scale:nr.scale,tick:nr.tick,tickCount:nr.tickCount,tickLine:Uo.tickLine,tickSize:Uo.tickSize,type:nr.type,xAxisId:0},GIe=t=>{var e=Ti(t,WIe);return _.createElement(_.Fragment,null,_.createElement(HIe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),_.createElement(qIe,e))},XY=_.memo(GIe,YY);XY.displayName="XAxis";var KIe=["dangerouslySetInnerHTML","ticks","scale"],YIe=["id","scale"];function r2(){return r2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r2.apply(null,arguments)}function Vz(t,e){if(t==null)return{};var n,r,i=XIe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function XIe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function QIe(t){var e=ur(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(_Me(t)):n.current!==t&&e(AMe({prev:n.current,next:t})),n.current=t},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(CMe(n.current)),n.current=null)},[e]),null}var JIe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=_.useRef(null),a=_.useRef(null),l=Ve(zW),c=ki(),d=ur(),f="yAxis",p=Ve(z=>rCe(z,e)),g=Ve(z=>nCe(z,e)),v=Ve(z=>$K(z,f,e,c)),b=Ve(z=>uK(z,e));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!p||ej(i)||_.isValidElement(i)||b==null)){var z=s.current;if(z){var j=z.getCalculatedWidth();Math.round(p.width)!==Math.round(j)&&d(OMe({id:e,width:j}))}}},[v,p,d,i,e,r,b]),p==null||g==null||b==null)return null;var{dangerouslySetInnerHTML:T,ticks:S,scale:k}=t,C=Vz(t,KIe),{id:N,scale:R}=b,D=Vz(b,YIe);return _.createElement(ij,r2({},C,D,{ref:s,labelRef:a,x:g.x,y:g.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:yt("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:v,axisType:f}))},ZIe={allowDataOverflow:rr.allowDataOverflow,allowDecimals:rr.allowDecimals,allowDuplicatedCategory:rr.allowDuplicatedCategory,angle:rr.angle,axisLine:Uo.axisLine,hide:!1,includeHidden:rr.includeHidden,interval:rr.interval,minTickGap:rr.minTickGap,mirror:rr.mirror,orientation:rr.orientation,padding:rr.padding,reversed:rr.reversed,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,tickLine:Uo.tickLine,tickSize:Uo.tickSize,type:rr.type,width:rr.width,yAxisId:0},eDe=t=>{var e=Ti(t,ZIe);return _.createElement(_.Fragment,null,_.createElement(QIe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),_.createElement(JIe,e))},QY=_.memo(eDe,YY);QY.displayName="YAxis";var tDe=(t,e)=>e,oj=se([tDe,Gt,aK,Qn,aY,fl,v2e,Nr],k2e),lj=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},JY=Ns("mouseClick"),ZY=m0();ZY.startListening({actionCreator:JY,effect:(t,e)=>{var n=t.payload,r=oj(e.getState(),lj(n));r?.activeIndex!=null&&e.dispatch(gCe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var i2=Ns("mouseMove"),eX=m0(),Pv=null;eX.startListening({actionCreator:i2,effect:(t,e)=>{var n=t.payload;Pv!==null&&cancelAnimationFrame(Pv);var r=lj(n);Pv=requestAnimationFrame(()=>{var i=e.getState(),s=$M(i,i.tooltip.settings.shared);if(s==="axis"){var a=oj(i,r);a?.activeIndex!=null?e.dispatch(JK({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(QK())}Pv=null})}});function nDe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var Bz={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},tX=Ei({name:"rootProps",initialState:Bz,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Bz.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),rDe=tX.reducer,{updateOptions:iDe}=tX.actions,nX=Ei({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:EPe}=nX.actions,sDe=nX.reducer,rX=Ns("keyDown"),iX=Ns("focus"),cj=m0();cj.startListening({actionCreator:rX,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=HM(i,Qh(n),E0(n),C0(n)),l=a==null?-1:Number(a);if(!(!Number.isFinite(l)||l<0)){var c=fl(n);if(s==="Enter"){var d=nw(n,"axis","hover",String(i.index));e.dispatch(XC({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var f=oCe(n),p=f==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=l+g*p;if(!(c==null||v>=c.length||v<0)){var b=nw(n,"axis","hover",String(v));e.dispatch(XC({active:!0,activeIndex:v.toString(),activeCoordinate:b}))}}}}}});cj.startListening({actionCreator:iX,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=nw(n,"axis","hover",String(s));e.dispatch(XC({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var fs=Ns("externalEvent"),sX=m0(),__=new Map;sX.startListening({actionCreator:fs,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=__.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var l=e.getState(),c={activeCoordinate:n2e(l),activeDataKey:e2e(l),activeIndex:Pg(l),activeLabel:cY(l),activeTooltipIndex:Pg(l),isTooltipActive:r2e(l)};n(c,r)}finally{__.delete(i)}});__.set(i,a)}}});var aDe=se([Yh],t=>t.tooltipItemPayloads),oDe=se([aDe,A0,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,n);return a}}}),aX=Ns("touchMove"),oX=m0();oX.startListening({actionCreator:aX,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=$M(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var a=oj(r,lj({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(JK({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(uSe),p=(l=d.getAttribute(dSe))!==null&&l!==void 0?l:void 0,g=Xh(r).find(T=>T.id===p);if(f==null||g==null||p==null)return;var{dataKey:v}=g,b=oDe(r,f,p);e.dispatch(mCe({activeDataKey:v,activeIndex:f,activeCoordinate:b,activeGraphicalItemId:p}))}}}});var lDe=uW({brush:zMe,cartesianAxis:NMe,chartData:rOe,errorBars:Lje,graphicalItems:oMe,layout:K1e,legend:WSe,options:J2e,polarAxis:NNe,polarOptions:sDe,referenceElements:GMe,rootProps:rDe,tooltip:yCe,zIndex:B2e}),cDe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return b1e({reducer:lDe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([ZY.middleware,eX.middleware,cj.middleware,sX.middleware,oX.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(SW({type:"raf"}))},devTools:{serialize:{replacer:nDe},name:"recharts-".concat(n)}})};function uDe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=ki(),s=_.useRef(null);if(i)return n;s.current==null&&(s.current=cDe(e,r));var a=WN;return _.createElement(pIe,{context:a,store:s.current},n)}function dDe(t){var{layout:e,margin:n}=t,r=ur(),i=ki();return _.useEffect(()=>{i||(r(q1e(e)),r(H1e(n)))},[r,i,e,n]),null}var fDe=_.memo(dDe,sj);function hDe(t){var e=ur();return _.useEffect(()=>{e(iDe(t))},[e,t]),null}function zz(t){var{zIndex:e,isPanorama:n}=t,r=_.useRef(null),i=ur();return _.useLayoutEffect(()=>(r.current&&i(L2e({zIndex:e,element:r.current,isPanorama:n})),()=>{i(V2e({zIndex:e,isPanorama:n}))}),[i,e,n]),_.createElement("g",{tabIndex:-1,ref:r})}function Uz(t){var{children:e,isPanorama:n}=t,r=Ve(A2e);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return _.createElement(_.Fragment,null,i.map(a=>_.createElement(zz,{key:a,zIndex:a,isPanorama:n})),e,s.map(a=>_.createElement(zz,{key:a,zIndex:a,isPanorama:n})))}var pDe=["children"];function mDe(t,e){if(t==null)return{};var n,r,i=gDe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(null,arguments)}var yDe={width:"100%",height:"100%",display:"block"},vDe=_.forwardRef((t,e)=>{var n=WW(),r=GW(),i=YW();if(!Ja(n)||!Ja(r))return null;var{children:s,otherAttributes:a,title:l,desc:c}=t,d,f;return a!=null&&(typeof a.tabIndex=="number"?d=a.tabIndex:d=i?0:void 0,typeof a.role=="string"?f=a.role:f=i?"application":void 0),_.createElement(A7,lw({},a,{title:l,desc:c,role:f,tabIndex:d,width:n,height:r,style:yDe,ref:e}),s)}),bDe=t=>{var{children:e}=t,n=Ve(S1);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return _.createElement(A7,{width:r,height:i,x:a,y:s},e)},Fz=_.forwardRef((t,e)=>{var{children:n}=t,r=mDe(t,pDe),i=ki();return i?_.createElement(bDe,null,_.createElement(Uz,{isPanorama:!0},n)):_.createElement(vDe,lw({ref:e},r),_.createElement(Uz,{isPanorama:!1},n))});function xDe(){var t=ur(),[e,n]=_.useState(null),r=Ve(cSe);return _.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Un(s)&&s!==r&&t(G1e(s))}},[e,t,r]),n}function $z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wDe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$z(Object(n),!0).forEach(function(r){SDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$z(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SDe(t,e,n){return(e=TDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TDe(t){var e=EDe(t,"string");return typeof e=="symbol"?e:e+""}function EDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jd(){return jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jd.apply(null,arguments)}var kDe=()=>(fOe(),null);function cw(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var _De=_.forwardRef((t,e)=>{var n,r,i=_.useRef(null),[s,a]=_.useState({containerWidth:cw((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:cw((r=t.style)===null||r===void 0?void 0:r.height)}),l=_.useCallback((d,f)=>{a(p=>{var g=Math.round(d),v=Math.round(f);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),c=_.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:p}=d.getBoundingClientRect();l(f,p);var g=b=>{var{width:T,height:S}=b[0].contentRect;l(T,S)},v=new ResizeObserver(g);v.observe(d),i.current=v}},[e,l]);return _.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),_.createElement(_.Fragment,null,_.createElement(E1,{width:s.containerWidth,height:s.containerHeight}),_.createElement("div",jd({ref:c},t)))}),ADe=_.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=_.useState({containerWidth:cw(n),containerHeight:cw(r)}),a=_.useCallback((c,d)=>{s(f=>{var p=Math.round(c),g=Math.round(d);return f.containerWidth===p&&f.containerHeight===g?f:{containerWidth:p,containerHeight:g}})},[]),l=_.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:d,height:f}=c.getBoundingClientRect();a(d,f)}},[e,a]);return _.createElement(_.Fragment,null,_.createElement(E1,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",jd({ref:l},t)))}),CDe=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return _.createElement(_.Fragment,null,_.createElement(E1,{width:n,height:r}),_.createElement("div",jd({ref:e},t)))}),ODe=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ko(n)||Ko(r)?_.createElement(ADe,jd({},t,{ref:e})):_.createElement(CDe,jd({},t,{ref:e}))});function NDe(t){return t===!0?_De:ODe}var MDe=_.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:f,onMouseMove:p,onMouseUp:g,onTouchEnd:v,onTouchMove:b,onTouchStart:T,style:S,width:k,responsive:C,dispatchTouchEvents:N=!0}=t,R=_.useRef(null),D=ur(),[z,j]=_.useState(null),[M,P]=_.useState(null),B=xDe(),U=JN(),V=U?.width>0?U.width:k,L=U?.height>0?U.height:i,Z=_.useCallback(ie=>{B(ie),typeof e=="function"&&e(ie),j(ie),P(ie),ie!=null&&(R.current=ie)},[B,e,j,P]),oe=_.useCallback(ie=>{D(JY(ie)),D(fs({handler:s,reactEvent:ie}))},[D,s]),W=_.useCallback(ie=>{D(i2(ie)),D(fs({handler:d,reactEvent:ie}))},[D,d]),Y=_.useCallback(ie=>{D(QK()),D(fs({handler:f,reactEvent:ie}))},[D,f]),ce=_.useCallback(ie=>{D(i2(ie)),D(fs({handler:p,reactEvent:ie}))},[D,p]),he=_.useCallback(()=>{D(iX())},[D]),Se=_.useCallback(ie=>{D(rX(ie.key))},[D]),H=_.useCallback(ie=>{D(fs({handler:a,reactEvent:ie}))},[D,a]),ne=_.useCallback(ie=>{D(fs({handler:l,reactEvent:ie}))},[D,l]),ye=_.useCallback(ie=>{D(fs({handler:c,reactEvent:ie}))},[D,c]),be=_.useCallback(ie=>{D(fs({handler:g,reactEvent:ie}))},[D,g]),ke=_.useCallback(ie=>{D(fs({handler:T,reactEvent:ie}))},[D,T]),pe=_.useCallback(ie=>{N&&D(aX(ie)),D(fs({handler:b,reactEvent:ie}))},[D,N,b]),we=_.useCallback(ie=>{D(fs({handler:v,reactEvent:ie}))},[D,v]),et=NDe(C);return _.createElement(gY.Provider,{value:z},_.createElement(cxe.Provider,{value:M},_.createElement(et,{width:V??S?.width,height:L??S?.height,className:yt("recharts-wrapper",r),style:wDe({position:"relative",cursor:"default",width:V,height:L},S),onClick:oe,onContextMenu:H,onDoubleClick:ne,onFocus:he,onKeyDown:Se,onMouseDown:ye,onMouseEnter:W,onMouseLeave:Y,onMouseMove:ce,onMouseUp:be,onTouchEnd:we,onTouchMove:pe,onTouchStart:ke,ref:Z},_.createElement(kDe,null),n)))}),jDe=["width","height","responsive","children","className","style","compact","title","desc"];function IDe(t,e){if(t==null)return{};var n,r,i=DDe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function DDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var PDe=_.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:a,style:l,compact:c,title:d,desc:f}=t,p=IDe(t,jDe),g=Ya(p);return c?_.createElement(_.Fragment,null,_.createElement(E1,{width:n,height:r}),_.createElement(Fz,{otherAttributes:g,title:d,desc:f},s)):_.createElement(MDe,{className:a,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(Fz,{otherAttributes:g,title:d,desc:f,ref:e},_.createElement(YMe,null,s)))});function s2(){return s2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s2.apply(null,arguments)}var RDe={top:5,right:5,bottom:5,left:5},LDe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:RDe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},VDe=_.forwardRef(function(e,n){var r,i=Ti(e.categoricalChartProps,LDe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:d}=e,f={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return _.createElement(uDe,{preloadedState:{options:f},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:s},_.createElement(BMe,{chartData:d.data}),_.createElement(fDe,{layout:i.layout,margin:i.margin}),_.createElement(hDe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(PDe,s2({},i,{ref:n})))}),BDe=["axis"],zDe=_.forwardRef((t,e)=>_.createElement(VDe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:BDe,tooltipPayloadSearcher:X2e,categoricalChartProps:t,ref:e}));const ab={"Morning Meal":{label:"Morning",text:"text-amber-600 dark:text-amber-400",border:"border-amber-400"},"Night Meal":{label:"Night",text:"text-blue-600 dark:text-blue-400",border:"border-blue-400"},Snacks:{label:"Snacks",text:"text-purple-600 dark:text-purple-400",border:"border-purple-400"}},UDe=(t,e)=>{const n=t/e;return t===0?{comment:"Let's get started!",icon:m.jsx(Wi,{className:"w-4 h-4"}),color:"text-neutral-500"}:n>1.1?{comment:"A feast!",icon:m.jsx(oa,{className:"w-4 h-4"}),color:"text-red-500"}:n>1?{comment:"Goal hit!",icon:m.jsx(Lm,{className:"w-4 h-4"}),color:"text-orange-500"}:n>=.8?{comment:"Almost there!",icon:m.jsx(sa,{className:"w-4 h-4"}),color:"text-green-500"}:{comment:"Balanced.",icon:m.jsx(DO,{className:"w-4 h-4"}),color:"text-blue-500"}},FDe=t=>t>400?{comment:"On fire!",icon:m.jsx(Wi,{className:"w-4 h-4"}),color:"text-orange-500"}:t>200?{comment:"Great work!",icon:m.jsx(n0,{className:"w-4 h-4"}),color:"text-blue-500"}:{comment:"Keep moving.",icon:m.jsx(PO,{className:"w-4 h-4"}),color:"text-neutral-500"},Hz=({title:t,value:e,subValue:n,status:r,theme:i="blue"})=>{const a={blue:{border:"border-blue-200/50 dark:border-blue-800/30",bg:"bg-blue-50/40 dark:bg-blue-900/10",text:"text-blue-600 dark:text-blue-400"},orange:{border:"border-orange-200/50 dark:border-orange-800/30",bg:"bg-orange-50/40 dark:bg-orange-900/10",text:"text-orange-600 dark:text-orange-400"}}[i];return m.jsxs("div",{className:`p-5 rounded-3xl border backdrop-blur-md ${a.bg} ${a.border}`,children:[m.jsxs("div",{className:"text-center",children:[m.jsx("span",{className:`font-bold uppercase text-[10px] tracking-widest opacity-70 ${a.text}`,children:t}),m.jsx("p",{className:`text-5xl font-black my-2 ${a.text}`,children:e}),m.jsx("div",{className:"flex items-center justify-center opacity-80 text-sm font-medium",children:n})]}),m.jsxs("div",{className:`mt-4 flex items-center justify-center gap-2 text-xs font-bold uppercase tracking-wider ${r.color} bg-white/50 dark:bg-black/20 py-1.5 rounded-full`,children:[r.icon,m.jsx("span",{children:r.comment})]})]})},$De=({goal:t,setGoal:e})=>{const[n,r]=_.useState(!1),[i,s]=_.useState(String(t)),a=()=>{const l=parseInt(i);!isNaN(l)&&l>0&&e(l),r(!1)};return n?m.jsx("input",{type:"number",value:i,onChange:l=>s(l.target.value),onBlur:a,onKeyDown:l=>l.key==="Enter"&&a(),className:"w-16 bg-transparent border-b border-blue-400 text-center font-bold focus:outline-none",autoFocus:!0}):m.jsxs("button",{onClick:()=>r(!0),className:"hover:text-blue-500 transition-colors",children:["/ ",t," Goal"]})},HDe=({isOpen:t,onClose:e,onSave:n,entry:r,date:i})=>{const[s,a]=_.useState({date:i,category:"Morning Meal",name:"",calories:"",portion:"",notes:"",...r}),l=()=>{s.name&&s.calories&&n({...s,calories:Number(s.calories)})};return m.jsx(Ds,{onClose:e,children:m.jsxs(rl,{title:r?"Edit Food":"Add Food",theme:"blue",onClose:e,onSave:l,children:[m.jsx("div",{className:"relative",children:m.jsx("select",{value:s.category,onChange:c=>a({...s,category:c.target.value}),className:"w-full p-3 bg-slate-500/10 dark:bg-slate-900/20 rounded-xl backdrop-blur-md border border-slate-500/20 focus:outline-none appearance-none text-neutral-800 dark:text-white font-bold",children:Object.keys(ab).map(c=>m.jsx("option",{value:c,className:"bg-white dark:bg-neutral-900",children:c},c))})}),m.jsx(Et,{placeholder:"Food Name",value:s.name,onChange:c=>a({...s,name:c.target.value}),autoFocus:!0,className:"bg-slate-500/10 dark:bg-slate-900/20 border-slate-500/20"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsx(Et,{type:"number",placeholder:"Calories",value:s.calories,onChange:c=>a({...s,calories:c.target.value}),className:"bg-slate-500/10 dark:bg-slate-900/20 border-slate-500/20"}),m.jsx(Et,{placeholder:"Portion (e.g. 100g)",value:s.portion,onChange:c=>a({...s,portion:c.target.value}),className:"bg-slate-500/10 dark:bg-slate-900/20 border-slate-500/20"})]})]})})},qDe=({isOpen:t,onClose:e,onSave:n,entry:r,date:i})=>{const[s,a]=_.useState(r?.steps?"steps":"exercise"),[l,c]=_.useState({date:i,name:"",time:"",calories:"",steps:"",...r}),d=()=>{const f=s==="steps"?{...l,name:"Daily Steps",calories:0,time:""}:{...l,steps:""};n({...f,calories:Number(f.calories),steps:Number(f.steps),time:Number(f.time)})};return m.jsx(Ds,{onClose:e,children:m.jsxs(rl,{title:r?"Edit Activity":"Add Activity",theme:"orange",onClose:e,onSave:d,children:[m.jsxs("div",{className:"flex bg-slate-500/10 dark:bg-slate-900/20 p-1 rounded-xl mb-2 border border-slate-500/20",children:[m.jsx("button",{onClick:()=>a("exercise"),className:`flex-1 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all ${s==="exercise"?"bg-white/80 dark:bg-white/20 shadow-sm text-black dark:text-white":"text-neutral-500"}`,children:"Exercise"}),m.jsx("button",{onClick:()=>a("steps"),className:`flex-1 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all ${s==="steps"?"bg-white/80 dark:bg-white/20 shadow-sm text-black dark:text-white":"text-neutral-500"}`,children:"Steps"})]}),s==="exercise"?m.jsxs(m.Fragment,{children:[m.jsx(Et,{placeholder:"Activity Name",value:l.name,onChange:f=>c({...l,name:f.target.value}),autoFocus:!0,className:"bg-slate-500/10 dark:bg-slate-900/20 border-slate-500/20"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsx(Et,{type:"number",placeholder:"Time (mins)",value:l.time,onChange:f=>c({...l,time:f.target.value}),className:"bg-slate-500/10 dark:bg-slate-900/20 border-slate-500/20"}),m.jsx(Et,{type:"number",placeholder:"Calories Burned",value:l.calories,onChange:f=>c({...l,calories:f.target.value}),className:"bg-slate-500/10 dark:bg-slate-900/20 border-slate-500/20"})]})]}):m.jsx(Et,{type:"number",placeholder:"Total Steps",value:l.steps,onChange:f=>c({...l,steps:f.target.value}),autoFocus:!0,className:"bg-slate-500/10 dark:bg-slate-900/20 border-slate-500/20"})]})})};function WDe(){const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!0),[a,l]=_.useState(new Date().toISOString().slice(0,10)),[c,d]=_.useState({isOpen:!1,entry:null}),[f,p]=_.useState({isOpen:!1,entry:null}),[g,v]=_.useState(2e3),[b,T]=_.useState(7);_.useEffect(()=>{const B=Is(),U=js(B,async V=>{if(V){r(V.uid),s(!0);const L=await Os(V.uid,"intakeEntries");e(L),s(!1)}});return()=>U()},[]);const S=async(B,U)=>{if(!n)return;const V={...B,type:U},L=await en(n,"intakeEntries",V,!!B.id);B.id?e(Z=>Z.map(oe=>oe.id===B.id?{...oe,...L}:oe)):e(Z=>[L,...Z])},k=async B=>{n&&window.confirm("Delete this entry?")&&(await aa(n,"intakeEntries",B),e(U=>U.filter(V=>V.id!==B)))},C=_.useMemo(()=>t.filter(B=>B.type==="intake"),[t]),N=_.useMemo(()=>t.filter(B=>B.type==="exercise"),[t]),R=_.useMemo(()=>C.filter(B=>B.date===a),[C,a]),D=_.useMemo(()=>N.filter(B=>B.date===a),[N,a]),z=R.reduce((B,U)=>B+U.calories,0),j=D.reduce((B,U)=>B+(U.calories||0)+(U.steps||0)*.04,0),M=B=>{const U=new Date(a);U.setDate(U.getDate()+B),l(U.toISOString().slice(0,10))},P=_.useMemo(()=>{const B=[],U=new Date;for(let V=b-1;V>=0;V--){const L=new Date;L.setDate(U.getDate()-V);const Z=L.toISOString().slice(0,10),oe=C.filter(Y=>Y.date===Z).reduce((Y,ce)=>Y+ce.calories,0),W=N.filter(Y=>Y.date===Z).reduce((Y,ce)=>Y+(ce.calories||0)+(ce.steps||0)*.04,0);B.push({date:Z,intake:oe,burned:W,goal:g})}return B},[C,N,b,g]);return m.jsxs("main",{className:"min-h-screen pt-6 px-4 pb-20 w-full max-w-[98%] mx-auto bg-transparent text-neutral-900 dark:text-neutral-100",children:[m.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-10 gap-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-6xl font-black tracking-tighter leading-none bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-teal-500 dark:from-blue-400 dark:to-teal-400",children:"Health Tracker"}),m.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 font-bold mt-2 ml-1",children:"Fuel your body, track your energy."})]}),m.jsxs("div",{className:"flex items-center justify-between bg-white/40 dark:bg-neutral-900/40 backdrop-blur-md p-2 rounded-full border border-white/20 dark:border-white/10 shadow-lg gap-4",children:[m.jsx("button",{onClick:()=>M(-1),className:"p-2 hover:bg-white/50 dark:hover:bg-white/10 rounded-full transition-colors",children:m.jsx(gs,{className:"w-5 h-5"})}),m.jsx("span",{className:"font-bold text-lg min-w-[140px] text-center",children:new Date(a).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),m.jsx("button",{onClick:()=>M(1),className:"p-2 hover:bg-white/50 dark:hover:bg-white/10 rounded-full transition-colors",children:m.jsx(gs,{className:"w-5 h-5 rotate-180"})})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 pb-20",children:[m.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(Hz,{title:"Intake",value:z,subValue:m.jsx($De,{goal:g,setGoal:v}),status:UDe(z,g),theme:"blue"}),m.jsx(Hz,{title:"Burned",value:Math.round(j),subValue:"kcal estimated",status:FDe(j),theme:"orange"})]}),m.jsxs("div",{className:"bg-white/40 dark:bg-neutral-900/40 border border-white/20 dark:border-white/5 rounded-3xl p-6 backdrop-blur-md shadow-sm",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-neutral-200 dark:border-neutral-800 pb-4",children:[m.jsxs("h3",{className:"text-xl font-bold text-blue-600 dark:text-blue-400 flex items-center gap-2",children:[m.jsx(u$,{className:"w-6 h-6"})," Food"]}),m.jsx("button",{onClick:()=>d({isOpen:!0,entry:null}),className:"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 rounded-xl hover:scale-105 transition-transform",children:m.jsx(Gn,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"space-y-4",children:[R.length===0&&m.jsx("p",{className:"text-sm text-neutral-400 text-center py-4",children:"No meals logged today."}),["Morning Meal","Night Meal","Snacks"].map(B=>{const U=R.filter(V=>V.category===B);return U.length===0?null:m.jsxs("div",{children:[m.jsx("p",{className:`text-[10px] font-bold uppercase tracking-widest mb-2 ${ab[B].text}`,children:ab[B].label}),m.jsx("div",{className:"space-y-2",children:U.map(V=>m.jsxs("div",{className:`flex justify-between items-center p-3 rounded-xl mb-1 group hover:bg-white/50 dark:hover:bg-black/20 border-l-4 ${ab[B].border} pl-4 transition-colors`,children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-sm text-neutral-800 dark:text-neutral-200",children:V.name}),m.jsxs("p",{className:"text-xs font-medium text-neutral-500",children:[V.calories," kcal ",m.jsx("span",{className:"text-neutral-300 mx-1",children:"|"})," ",V.portion]})]}),m.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>d({isOpen:!0,entry:V}),className:"p-1.5 text-neutral-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded",children:m.jsx(Zr,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>k(V.id),className:"p-1.5 text-neutral-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:m.jsx(ei,{className:"w-4 h-4"})})]})]},V.id))})]},B)})]})]}),m.jsxs("div",{className:"bg-white/40 dark:bg-neutral-900/40 border border-white/20 dark:border-white/5 rounded-3xl p-6 backdrop-blur-md shadow-sm",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-neutral-200 dark:border-neutral-800 pb-4",children:[m.jsxs("h3",{className:"text-xl font-bold text-orange-600 dark:text-orange-400 flex items-center gap-2",children:[m.jsx(d$,{className:"w-6 h-6"})," Activity"]}),m.jsx("button",{onClick:()=>p({isOpen:!0,entry:null}),className:"p-2 bg-orange-100 dark:bg-orange-900/30 text-orange-600 rounded-xl hover:scale-105 transition-transform",children:m.jsx(Gn,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"space-y-3",children:[D.length===0&&m.jsx("p",{className:"text-sm text-neutral-400 text-center py-4",children:"No activity logged."}),D.map(B=>m.jsxs("div",{className:"flex justify-between items-center p-3 rounded-xl group hover:bg-white/50 dark:hover:bg-black/20 border-l-4 border-orange-400 pl-4 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[B.steps?m.jsx(PO,{className:"w-5 h-5 text-orange-400"}):m.jsx(n0,{className:"w-5 h-5 text-orange-400"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-sm text-neutral-800 dark:text-neutral-200",children:B.name}),m.jsx("p",{className:"text-xs font-medium text-neutral-500",children:B.steps?`${B.steps} steps`:`${B.calories} kcal  ${B.time}m`})]})]}),m.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>p({isOpen:!0,entry:B}),className:"p-1.5 text-neutral-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded",children:m.jsx(Zr,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>k(B.id),className:"p-1.5 text-neutral-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:m.jsx(ei,{className:"w-4 h-4"})})]})]},B.id))]})]})]}),m.jsx("div",{className:"lg:col-span-2 space-y-6",children:m.jsxs("div",{className:"bg-white/40 dark:bg-neutral-900/40 p-8 rounded-3xl border border-white/20 dark:border-white/5 backdrop-blur-md shadow-lg h-[500px] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsx("h3",{className:"text-2xl font-black text-neutral-800 dark:text-white",children:"Analytics"}),m.jsx("div",{className:"flex bg-neutral-100/50 dark:bg-neutral-800/50 rounded-xl p-1 border border-white/10",children:[7,30].map(B=>m.jsxs("button",{onClick:()=>T(B),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all ${b===B?"bg-white dark:bg-neutral-700 shadow-sm text-black dark:text-white":"text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-300"}`,children:[B," Days"]},B))})]}),m.jsx("div",{className:"flex-1 w-full min-h-0",children:m.jsx(BSe,{width:"100%",height:"100%",children:m.jsxs(zDe,{data:P,children:[m.jsx(zY,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),m.jsx(XY,{dataKey:"date",tickFormatter:B=>new Date(B).getDate(),stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,dy:10}),m.jsx(QY,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,dx:-10}),m.jsx(xOe,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",backdropFilter:"blur(8px)"},labelFormatter:B=>new Date(B).toLocaleDateString()}),m.jsx(sb,{type:"monotone",dataKey:"intake",stroke:"#60a5fa",strokeWidth:4,dot:!1,activeDot:{r:8,strokeWidth:0},name:"Calories In"}),m.jsx(sb,{type:"monotone",dataKey:"burned",stroke:"#f97316",strokeWidth:4,dot:!1,activeDot:{r:8,strokeWidth:0},name:"Calories Out"}),m.jsx(sb,{type:"step",dataKey:"goal",stroke:"#ef4444",strokeDasharray:"5 5",strokeWidth:2,dot:!1,name:"Goal"})]})})})]})}),m.jsxs(Wt,{children:[c.isOpen&&m.jsx(HDe,{isOpen:c.isOpen,onClose:()=>d({isOpen:!1,entry:null}),onSave:B=>{S(B,"intake"),d({isOpen:!1,entry:null})},entry:c.entry,date:a}),f.isOpen&&m.jsx(qDe,{isOpen:f.isOpen,onClose:()=>p({isOpen:!1,entry:null}),onSave:B=>{S(B,"exercise"),p({isOpen:!1,entry:null})},entry:f.entry,date:a})]})]})]})}const qz=({className:t,animate:e,transition:n})=>m.jsx(Xe.div,{className:`absolute rounded-full filter blur-3xl opacity-30 dark:opacity-20 pointer-events-none ${t}`,animate:e,transition:n});function GDe(){const[t,e]=_.useState(null),[n,r]=_.useState(!0),[i,s]=_.useState(null),[a,l]=_.useState("dark"),[c,d]=_.useState("dashboard"),[f,p]=_.useState(!1),[g,v]=_.useState({yearlyObjectives:[],lifeGoals:[],importantGoals:[],skills:[],achievements:[],books:[],theses:[],likes:[],movies:[],music:[],intakeEntries:[],exerciseEntries:[],diaries:[],about:null}),[b,T]=_.useState(2200),[S,k]=_.useState(new Date().getFullYear()),[C,N]=_.useState(new Date().getMonth()+1),[R,D]=_.useState(()=>Array.from({length:5},(L,Z)=>new Date().getFullYear()-2+Z));_.useEffect(()=>{const L=document.documentElement;a==="dark"?L.classList.add("dark"):L.classList.remove("dark")},[a]),_.useEffect(()=>js(Rm,Z=>{e(Z),r(!1)},Z=>{s("Auth Error"),r(!1)}),[]),_.useEffect(()=>{if(!t)return;const Z=[{name:"yearlyObjectives",order:"createdAt"},{name:"lifeGoals",order:"orderIndex"},{name:"importantGoals",order:"orderIndex"},{name:"skills"},{name:"achievements"},{name:"books"},{name:"theses"},{name:"likes"},{name:"movies"},{name:"music"},{name:"intakeEntries"},{name:"exerciseEntries"},{name:"diaries"}].map(W=>{let Y=TA(wA(Vi,"artifacts",Eo,"users",t.uid,W.name));return W.order&&(Y=TA(Y,Q8(W.order))),N5(Y,ce=>{v(he=>({...he,[W.name]:ce.docs.map(Se=>({id:Se.id,...Se.data()}))}))})}),oe=N5(Ys(Vi,"artifacts",Eo,"users",t.uid,"about","main"),W=>{v(Y=>({...Y,about:W.exists()?W.data():{}}))});return Z.push(oe),()=>Z.forEach(W=>W())},[t]);const z=L=>({add:Z=>e$(wA(Vi,"artifacts",Eo,"users",t.uid,L),{...Z,ownerId:t.uid,createdAt:sv()}),update:(Z,oe)=>jb(Ys(Vi,"artifacts",Eo,"users",t.uid,L,Z),{...oe,updatedAt:sv()}),delete:Z=>EA(Ys(Vi,"artifacts",Eo,"users",t.uid,L,Z))}),j={add:(L,Z)=>O5(Ys(Vi,"artifacts",Eo,"users",t.uid,"diaries",L),{...Z,ownerId:t.uid,updatedAt:sv()},{merge:!0}),update:(L,Z)=>jb(Ys(Vi,"artifacts",Eo,"users",t.uid,"diaries",L),{...Z,updatedAt:sv()}),delete:L=>EA(Ys(Vi,"artifacts",Eo,"users",t.uid,"diaries",L))},M={objectives:z("yearlyObjectives"),lifeGoals:z("lifeGoals"),importantGoals:z("importantGoals"),skills:z("skills"),likes:z("likes"),achievements:z("achievements"),books:z("books"),theses:z("theses"),movies:z("movies"),music:z("music"),intake:z("intakeEntries"),exercise:z("exerciseEntries"),about:{update:L=>O5(Ys(Vi,"artifacts",Eo,"users",t.uid,"about","main"),L,{merge:!0})}},P=(L,Z)=>{const oe=(L.subTasks||[]).map(W=>({...W}));Z(L.id,{status:"in-progress",completedAt:null,subTasks:oe})},B=async(L,Z,oe)=>{r(!0),s(null);try{L==="login"?await dse(Rm,Z,oe):await use(Rm,Z,oe)}catch(W){s(W.message),r(!1)}},U={dashboard:{title:"Dashboard",icon:m.jsx(aue,{}),themeColor:"slate",component:m.jsx(mue,{data:{...g,objectives:g.yearlyObjectives,dailyCalorieGoal:b}})},diary:{title:"Diary",icon:m.jsx(Db,{}),themeColor:"violet",component:m.jsx(sbe,{entries:g.diaries,addEntry:j.add,updateEntry:j.update,deleteEntry:j.delete})},lifeGoals:{title:"Life Goals",icon:m.jsx(dg,{}),themeColor:"blue",component:m.jsx(cbe,{goals:g.lifeGoals,onAdd:M.lifeGoals.add,onUpdate:M.lifeGoals.update,onDelete:M.lifeGoals.delete,onEdit:()=>{},onRevert:P})},importantGoals:{title:"Important Goals",icon:m.jsx(Lm,{}),themeColor:"red",component:m.jsx(hbe,{goals:g.importantGoals,onAdd:M.importantGoals.add,onUpdate:M.importantGoals.update,onDelete:M.importantGoals.delete,onEdit:()=>{},onRevert:P})},yearlyObjectives:{title:"Yearly Objectives",icon:m.jsx(sa,{}),themeColor:"blue",component:m.jsx(bbe,{objectives:g.yearlyObjectives,onAdd:M.objectives.add,onUpdateObjective:M.objectives.update,onDeleteObjective:M.objectives.delete,years:R,addNextYear:()=>D(L=>[...L,Math.max(...L)+1]),currentYear:S,setCurrentYear:k,selectedMonth:C,setSelectedMonth:N})},about:{title:"About Me",icon:m.jsx(kA,{}),themeColor:"slate",component:m.jsx(_be,{about:g.about,onUpdate:M.about.update})},skills:{title:"My Skills",icon:m.jsx(Vw,{}),themeColor:"violet",component:m.jsx(Mbe,{skills:g.skills,addSkill:M.skills.add,updateSkill:M.skills.update,deleteSkill:M.skills.delete})},hobbies:{title:"Hobbies",icon:m.jsx(DO,{}),themeColor:"pink",component:m.jsx(Pbe,{likes:g.likes,addLike:M.likes.add,updateLike:M.likes.update,deleteLike:M.likes.delete})},achievements:{title:"Achievements",icon:m.jsx(oa,{}),themeColor:"emerald",component:m.jsx(Bbe,{achievements:g.achievements,onAdd:M.achievements.add,onUpdate:M.achievements.update,onDelete:M.achievements.delete})},library:{title:"Library",icon:m.jsx(xc,{}),themeColor:"sky",component:m.jsx($be,{books:g.books,onAdd:M.books.add,onUpdate:M.books.update,onDelete:M.books.delete})},theses:{title:"Theses",icon:m.jsx(vh,{}),themeColor:"teal",component:m.jsx(Gbe,{theses:g.theses,onAdd:M.theses.add,onUpdate:M.theses.update,onDelete:M.theses.delete})},movies:{title:"Movies",icon:m.jsx(c$,{}),themeColor:"slate",component:m.jsx(Qbe,{movies:g.movies,addMovie:M.movies.add,updateMovie:M.movies.update,deleteMovie:M.movies.delete})},music:{title:"Music",icon:m.jsx(zw,{}),themeColor:"violet",component:m.jsx(Jbe,{music:g.music,addMusic:M.music.add,updateMusic:M.music.update,deleteMusic:M.music.delete})},health:{title:"Health",icon:m.jsx(Gc,{}),themeColor:"sky",component:m.jsx(WDe,{intakeEntries:g.intakeEntries,exerciseEntries:g.exerciseEntries,dailyGoal:b,setDailyGoal:T,onAddIntake:M.intake.add,onUpdateIntake:M.intake.update,onDeleteIntake:M.intake.delete,onAddExercise:M.exercise.add,onUpdateExercise:M.exercise.update,onDeleteExercise:M.exercise.delete})}};if(n)return m.jsx("div",{className:"h-screen flex items-center justify-center bg-neutral-900 text-white",children:m.jsx(s$,{className:"w-10 h-10 animate-spin"})});if(!t)return m.jsx(uue,{onLogin:(L,Z)=>B("login",L,Z),onSignUp:(L,Z)=>B("signup",L,Z),error:i,isLoading:n});const V=U[c];return m.jsxs("div",{className:"relative min-h-screen bg-neutral-50 dark:bg-neutral-900 text-neutral-800 dark:text-neutral-200 font-sans transition-colors duration-300 overflow-x-hidden",children:[m.jsx(qz,{className:"bg-blue-400 w-[600px] h-[600px] top-[-10%] left-[-10%]",animate:{x:[0,100,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:1/0}}),m.jsx(qz,{className:"bg-purple-400 w-[500px] h-[500px] bottom-[-10%] right-[-10%]",animate:{x:[0,-100,0],y:[0,-50,0],scale:[1,1.1,1]},transition:{duration:25,repeat:1/0}}),m.jsx("button",{onClick:()=>p(!0),className:"fixed top-6 left-6 z-50 p-3 bg-white/50 dark:bg-black/50 backdrop-blur-md rounded-full shadow-md hover:scale-110 transition-transform",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),m.jsx(KDe,{isOpen:f,onClose:()=>p(!1),activeView:c,setActiveView:d,config:U,theme:a,toggleTheme:()=>l(L=>L==="dark"?"light":"dark")}),m.jsxs("main",{className:"relative z-10 pt-24 px-4 pb-12 max-w-8xl mx-auto",children:[c!=="dashboard"&&m.jsx("header",{className:"mb-10 text-center md:text-left md:pl-10",children:m.jsx("h1",{className:"text-5xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-neutral-800 to-neutral-500 dark:from-white dark:to-neutral-400 pb-3 leading-relaxed",style:{fontFamily:"'Caveat', cursive"},children:V.title})}),m.jsx("div",{className:c==="dashboard"?"":"md:pl-10",children:m.jsx(Wt,{mode:"wait",children:m.jsx(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:V.component},c)})})]})]})}function KDe({isOpen:t,onClose:e,activeView:n,setActiveView:r,config:i,theme:s,toggleTheme:a}){return m.jsxs(m.Fragment,{children:[m.jsx(Wt,{children:t&&m.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:e})}),m.jsxs(Xe.div,{initial:{x:"-100%"},animate:{x:t?"0%":"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 left-0 h-full w-72 bg-white/80 dark:bg-neutral-900/90 backdrop-blur-xl border-r border-white/20 dark:border-white/5 z-50 flex flex-col p-6 shadow-2xl",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Menu"}),m.jsx("button",{onClick:a,className:"p-2 rounded-full bg-neutral-200 dark:bg-neutral-800",children:s==="dark"?m.jsx(Ib,{className:"w-5 h-5"}):m.jsx(Zce,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"flex-grow overflow-y-auto no-scrollbar space-y-1",children:Object.entries(i).map(([l,c])=>{const d=n===l,f={blue:"bg-blue-500",red:"bg-red-500",violet:"bg-violet-500",slate:"bg-slate-500",pink:"bg-pink-500",emerald:"bg-emerald-500",sky:"bg-sky-500",teal:"bg-teal-500"}[c.themeColor]||"bg-neutral-500";return m.jsxs("button",{onClick:()=>{r(l),e()},className:`w-full flex items-center gap-4 px-4 py-3 rounded-xl transition-all ${d?`${f} text-white shadow-lg`:"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800"}`,children:[c.icon,m.jsx("span",{className:"font-medium",children:c.title})]},l)})}),m.jsx("div",{className:"pt-6 border-t border-neutral-200 dark:border-neutral-800 mt-4",children:m.jsxs("button",{onClick:()=>pse(Rm),className:"w-full flex items-center gap-4 px-4 py-3 rounded-xl text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[m.jsx(iue,{className:"w-5 h-5"}),m.jsx("span",{className:"font-medium",children:"Sign Out"})]})})]})]})}KQ.createRoot(document.getElementById("root")).render(m.jsx(GDe,{}));
