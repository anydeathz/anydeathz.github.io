function BQ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function eo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VT={exports:{}},Zp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jP;function zQ(){if(jP)return Zp;jP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Zp.Fragment=e,Zp.jsx=n,Zp.jsxs=n,Zp}var IP;function UQ(){return IP||(IP=1,VT.exports=zQ()),VT.exports}var m=UQ(),BT={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DP;function FQ(){if(DP)return qe;DP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function k(H,ne,ye){this.props=H,this.context=ne,this.refs=S,this.updater=ye||b}k.prototype.isReactComponent={},k.prototype.setState=function(H,ne){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ne,"setState")},k.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=k.prototype;function O(H,ne,ye){this.props=H,this.context=ne,this.refs=S,this.updater=ye||b}var z=O.prototype=new C;z.constructor=O,E(z,k.prototype),z.isPureReactComponent=!0;var P=Array.isArray;function U(){}var I={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function M(H,ne,ye){var be=ye.ref;return{$$typeof:t,type:H,key:ne,ref:be!==void 0?be:null,props:ye}}function R(H,ne){return M(H.type,ne,H.props)}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function L(H){var ne={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ye){return ne[ye]})}var B=/\/+/g;function X(H,ne){return typeof H=="object"&&H!==null&&H.key!=null?L(""+H.key):ne.toString(36)}function ae(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(U,U):(H.status="pending",H.then(function(ne){H.status==="pending"&&(H.status="fulfilled",H.value=ne)},function(ne){H.status==="pending"&&(H.status="rejected",H.reason=ne)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function W(H,ne,ye,be,ke){var pe=typeof H;(pe==="undefined"||pe==="boolean")&&(H=null);var we=!1;if(H===null)we=!0;else switch(pe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(H.$$typeof){case t:case e:we=!0;break;case f:return we=H._init,W(we(H._payload),ne,ye,be,ke)}}if(we)return ke=ke(H),we=be===""?"."+X(H,0):be,P(ke)?(ye="",we!=null&&(ye=we.replace(B,"$&/")+"/"),W(ke,ne,ye,"",function(Ce){return Ce})):ke!=null&&(V(ke)&&(ke=R(ke,ye+(ke.key==null||H&&H.key===ke.key?"":(""+ke.key).replace(B,"$&/")+"/")+we)),ne.push(ke)),1;we=0;var et=be===""?".":be+":";if(P(H))for(var ie=0;ie<H.length;ie++)be=H[ie],pe=et+X(be,ie),we+=W(be,ne,ye,pe,ke);else if(ie=v(H),typeof ie=="function")for(H=ie.call(H),ie=0;!(be=H.next()).done;)be=be.value,pe=et+X(be,ie++),we+=W(be,ne,ye,pe,ke);else if(pe==="object"){if(typeof H.then=="function")return W(ae(H),ne,ye,be,ke);throw ne=String(H),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function Y(H,ne,ye){if(H==null)return H;var be=[],ke=0;return W(H,be,"","",function(pe){return ne.call(ye,pe,ke++)}),be}function le(H){if(H._status===-1){var ne=H._result;ne=ne(),ne.then(function(ye){(H._status===0||H._status===-1)&&(H._status=1,H._result=ye)},function(ye){(H._status===0||H._status===-1)&&(H._status=2,H._result=ye)}),H._status===-1&&(H._status=0,H._result=ne)}if(H._status===1)return H._result.default;throw H._result}var he=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Se={map:Y,forEach:function(H,ne,ye){Y(H,function(){ne.apply(this,arguments)},ye)},count:function(H){var ne=0;return Y(H,function(){ne++}),ne},toArray:function(H){return Y(H,function(ne){return ne})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return qe.Activity=p,qe.Children=Se,qe.Component=k,qe.Fragment=n,qe.Profiler=i,qe.PureComponent=O,qe.StrictMode=r,qe.Suspense=c,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,qe.__COMPILER_RUNTIME={__proto__:null,c:function(H){return I.H.useMemoCache(H)}},qe.cache=function(H){return function(){return H.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(H,ne,ye){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var be=E({},H.props),ke=H.key;if(ne!=null)for(pe in ne.key!==void 0&&(ke=""+ne.key),ne)!j.call(ne,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&ne.ref===void 0||(be[pe]=ne[pe]);var pe=arguments.length-2;if(pe===1)be.children=ye;else if(1<pe){for(var we=Array(pe),et=0;et<pe;et++)we[et]=arguments[et+2];be.children=we}return M(H.type,ke,be)},qe.createContext=function(H){return H={$$typeof:a,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},qe.createElement=function(H,ne,ye){var be,ke={},pe=null;if(ne!=null)for(be in ne.key!==void 0&&(pe=""+ne.key),ne)j.call(ne,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(ke[be]=ne[be]);var we=arguments.length-2;if(we===1)ke.children=ye;else if(1<we){for(var et=Array(we),ie=0;ie<we;ie++)et[ie]=arguments[ie+2];ke.children=et}if(H&&H.defaultProps)for(be in we=H.defaultProps,we)ke[be]===void 0&&(ke[be]=we[be]);return M(H,pe,ke)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(H){return{$$typeof:l,render:H}},qe.isValidElement=V,qe.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:le}},qe.memo=function(H,ne){return{$$typeof:d,type:H,compare:ne===void 0?null:ne}},qe.startTransition=function(H){var ne=I.T,ye={};I.T=ye;try{var be=H(),ke=I.S;ke!==null&&ke(ye,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(U,he)}catch(pe){he(pe)}finally{ne!==null&&ye.types!==null&&(ne.types=ye.types),I.T=ne}},qe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},qe.use=function(H){return I.H.use(H)},qe.useActionState=function(H,ne,ye){return I.H.useActionState(H,ne,ye)},qe.useCallback=function(H,ne){return I.H.useCallback(H,ne)},qe.useContext=function(H){return I.H.useContext(H)},qe.useDebugValue=function(){},qe.useDeferredValue=function(H,ne){return I.H.useDeferredValue(H,ne)},qe.useEffect=function(H,ne){return I.H.useEffect(H,ne)},qe.useEffectEvent=function(H){return I.H.useEffectEvent(H)},qe.useId=function(){return I.H.useId()},qe.useImperativeHandle=function(H,ne,ye){return I.H.useImperativeHandle(H,ne,ye)},qe.useInsertionEffect=function(H,ne){return I.H.useInsertionEffect(H,ne)},qe.useLayoutEffect=function(H,ne){return I.H.useLayoutEffect(H,ne)},qe.useMemo=function(H,ne){return I.H.useMemo(H,ne)},qe.useOptimistic=function(H,ne){return I.H.useOptimistic(H,ne)},qe.useReducer=function(H,ne,ye){return I.H.useReducer(H,ne,ye)},qe.useRef=function(H){return I.H.useRef(H)},qe.useState=function(H){return I.H.useState(H)},qe.useSyncExternalStore=function(H,ne,ye){return I.H.useSyncExternalStore(H,ne,ye)},qe.useTransition=function(){return I.H.useTransition()},qe.version="19.2.0",qe}var PP;function jh(){return PP||(PP=1,BT.exports=FQ()),BT.exports}var _=jh();const Cs=eo(_),$Q=BQ({__proto__:null,default:Cs},[_]);var zT={exports:{}},em={},UT={exports:{}},FT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RP;function HQ(){return RP||(RP=1,(function(t){function e(W,Y){var le=W.length;W.push(Y);e:for(;0<le;){var he=le-1>>>1,Se=W[he];if(0<i(Se,Y))W[he]=Y,W[le]=Se,le=he;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Y=W[0],le=W.pop();if(le!==Y){W[0]=le;e:for(var he=0,Se=W.length,H=Se>>>1;he<H;){var ne=2*(he+1)-1,ye=W[ne],be=ne+1,ke=W[be];if(0>i(ye,le))be<Se&&0>i(ke,ye)?(W[he]=ke,W[be]=le,he=be):(W[he]=ye,W[ne]=le,he=ne);else if(be<Se&&0>i(ke,le))W[he]=ke,W[be]=le,he=be;else break e}}return Y}function i(W,Y){var le=W.sortIndex-Y.sortIndex;return le!==0?le:W.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],f=1,p=null,g=3,v=!1,b=!1,E=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function z(W){for(var Y=n(d);Y!==null;){if(Y.callback===null)r(d);else if(Y.startTime<=W)r(d),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=n(d)}}function P(W){if(E=!1,z(W),!b)if(n(c)!==null)b=!0,U||(U=!0,L());else{var Y=n(d);Y!==null&&ae(P,Y.startTime-W)}}var U=!1,I=-1,j=5,M=-1;function R(){return S?!0:!(t.unstable_now()-M<j)}function V(){if(S=!1,U){var W=t.unstable_now();M=W;var Y=!0;try{e:{b=!1,E&&(E=!1,C(I),I=-1),v=!0;var le=g;try{t:{for(z(W),p=n(c);p!==null&&!(p.expirationTime>W&&R());){var he=p.callback;if(typeof he=="function"){p.callback=null,g=p.priorityLevel;var Se=he(p.expirationTime<=W);if(W=t.unstable_now(),typeof Se=="function"){p.callback=Se,z(W),Y=!0;break t}p===n(c)&&r(c),z(W)}else r(c);p=n(c)}if(p!==null)Y=!0;else{var H=n(d);H!==null&&ae(P,H.startTime-W),Y=!1}}break e}finally{p=null,g=le,v=!1}Y=void 0}}finally{Y?L():U=!1}}}var L;if(typeof O=="function")L=function(){O(V)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,X=B.port2;B.port1.onmessage=V,L=function(){X.postMessage(null)}}else L=function(){k(V,0)};function ae(W,Y){I=k(function(){W(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(W){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var le=g;g=Y;try{return W()}finally{g=le}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(W,Y){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var le=g;g=W;try{return Y()}finally{g=le}},t.unstable_scheduleCallback=function(W,Y,le){var he=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?he+le:he):le=he,W){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=le+Se,W={id:f++,callback:Y,priorityLevel:W,startTime:le,expirationTime:Se,sortIndex:-1},le>he?(W.sortIndex=le,e(d,W),n(c)===null&&W===n(d)&&(E?(C(I),I=-1):E=!0,ae(P,le-he))):(W.sortIndex=Se,e(c,W),b||v||(b=!0,U||(U=!0,L()))),W},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(W){var Y=g;return function(){var le=g;g=Y;try{return W.apply(this,arguments)}finally{g=le}}}})(FT)),FT}var LP;function qQ(){return LP||(LP=1,UT.exports=HQ()),UT.exports}var $T={exports:{}},Dr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VP;function WQ(){if(VP)return Dr;VP=1;var t=jh();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,d,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:d,implementation:f}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Dr.createPortal=function(c,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(c,d,null,f)},Dr.flushSync=function(c){var d=a.T,f=r.p;try{if(a.T=null,r.p=2,c)return c()}finally{a.T=d,r.p=f,r.d.f()}},Dr.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Dr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Dr.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):f==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Dr.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Dr.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin);r.d.L(c,f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Dr.preloadModule=function(c,d){if(typeof c=="string")if(d){var f=l(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Dr.requestFormReset=function(c){r.d.r(c)},Dr.unstable_batchedUpdates=function(c,d){return c(d)},Dr.useFormState=function(c,d,f){return a.H.useFormState(c,d,f)},Dr.useFormStatus=function(){return a.H.useHostTransitionStatus()},Dr.version="19.2.0",Dr}var BP;function Kz(){if(BP)return $T.exports;BP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$T.exports=WQ(),$T.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zP;function GQ(){if(zP)return em;zP=1;var t=qQ(),e=jh(),n=Kz();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var u=o,h=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(h=u.return),o=u.return;while(o)}return u.tag===3?h:null}function a(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(s(o)!==o)throw Error(r(188))}function d(o){var u=o.alternate;if(!u){if(u=s(o),u===null)throw Error(r(188));return u!==o?null:o}for(var h=o,y=u;;){var w=h.return;if(w===null)break;var T=w.alternate;if(T===null){if(y=w.return,y!==null){h=y;continue}break}if(w.child===T.child){for(T=w.child;T;){if(T===h)return c(w),o;if(T===y)return c(w),u;T=T.sibling}throw Error(r(188))}if(h.return!==y.return)h=w,y=T;else{for(var N=!1,F=w.child;F;){if(F===h){N=!0,h=w,y=T;break}if(F===y){N=!0,y=w,h=T;break}F=F.sibling}if(!N){for(F=T.child;F;){if(F===h){N=!0,h=T,y=w;break}if(F===y){N=!0,y=T,h=w;break}F=F.sibling}if(!N)throw Error(r(189))}}if(h.alternate!==y)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:u}function f(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=f(o),u!==null)return u;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),O=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}var B=Symbol.for("react.client.reference");function X(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===B?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case U:return"SuspenseList";case M:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case O:return o.displayName||"Context";case C:return(o._context.displayName||"Context")+".Consumer";case z:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case I:return u=o.displayName||null,u!==null?u:X(o.type)||"Memo";case j:u=o._payload,o=o._init;try{return X(o(u))}catch{}}return null}var ae=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},he=[],Se=-1;function H(o){return{current:o}}function ne(o){0>Se||(o.current=he[Se],he[Se]=null,Se--)}function ye(o,u){Se++,he[Se]=o.current,o.current=u}var be=H(null),ke=H(null),pe=H(null),we=H(null);function et(o,u){switch(ye(pe,u),ye(ke,o),ye(be,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?tP(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=tP(u),o=nP(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ne(be),ye(be,o)}function ie(){ne(be),ne(ke),ne(pe)}function Ce(o){o.memoizedState!==null&&ye(we,o);var u=be.current,h=nP(u,o.type);u!==h&&(ye(ke,o),ye(be,h))}function Re(o){ke.current===o&&(ne(be),ne(ke)),we.current===o&&(ne(we),Yp._currentValue=le)}var me,dt;function Me(o){if(me===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);me=u&&u[1]||"",dt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+o+dt}var Vt=!1;function ct(o,u){if(!o||Vt)return"";Vt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(u){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(re){var ee=re}Reflect.construct(o,[],ue)}else{try{ue.call()}catch(re){ee=re}o.call(ue.prototype)}}else{try{throw Error()}catch(re){ee=re}(ue=o())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(re){if(re&&ee&&typeof re.stack=="string")return[re.stack,ee.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=y.DetermineComponentFrameRoot(),N=T[0],F=T[1];if(N&&F){var q=N.split(`
`),Z=F.split(`
`);for(w=y=0;y<q.length&&!q[y].includes("DetermineComponentFrameRoot");)y++;for(;w<Z.length&&!Z[w].includes("DetermineComponentFrameRoot");)w++;if(y===q.length||w===Z.length)for(y=q.length-1,w=Z.length-1;1<=y&&0<=w&&q[y]!==Z[w];)w--;for(;1<=y&&0<=w;y--,w--)if(q[y]!==Z[w]){if(y!==1||w!==1)do if(y--,w--,0>w||q[y]!==Z[w]){var oe=`
`+q[y].replace(" at new "," at ");return o.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",o.displayName)),oe}while(1<=y&&0<=w);break}}}finally{Vt=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?Me(h):""}function Zn(o,u){switch(o.tag){case 26:case 27:case 5:return Me(o.type);case 16:return Me("Lazy");case 13:return o.child!==u&&u!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return ct(o.type,!1);case 11:return ct(o.type.render,!1);case 1:return ct(o.type,!0);case 31:return Me("Activity");default:return""}}function Rs(o){try{var u="",h=null;do u+=Zn(o,h),h=o,o=o.return;while(o);return u}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var nn=Object.prototype.hasOwnProperty,vn=t.unstable_scheduleCallback,ca=t.unstable_cancelCallback,tp=t.unstable_shouldYield,nu=t.unstable_requestPaint,fr=t.unstable_now,no=t.unstable_getCurrentPriorityLevel,ru=t.unstable_ImmediatePriority,iu=t.unstable_UserBlockingPriority,ua=t.unstable_NormalPriority,su=t.unstable_LowPriority,au=t.unstable_IdlePriority,ou=t.log,Ud=t.unstable_setDisableYieldValue,Mr=null,kn=null;function oi(o){if(typeof ou=="function"&&Ud(o),kn&&typeof kn.setStrictMode=="function")try{kn.setStrictMode(Mr,o)}catch{}}var Kt=Math.clz32?Math.clz32:Fd,lu=Math.log,da=Math.LN2;function Fd(o){return o>>>=0,o===0?32:31-(lu(o)/da|0)|0}var Ai=256,ro=262144,rn=4194304;function Bt(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function zt(o,u,h){var y=o.pendingLanes;if(y===0)return 0;var w=0,T=o.suspendedLanes,N=o.pingedLanes;o=o.warmLanes;var F=y&134217727;return F!==0?(y=F&~T,y!==0?w=Bt(y):(N&=F,N!==0?w=Bt(N):h||(h=F&~o,h!==0&&(w=Bt(h))))):(F=y&~T,F!==0?w=Bt(F):N!==0?w=Bt(N):h||(h=y&~o,h!==0&&(w=Bt(h)))),w===0?0:u!==0&&u!==w&&(u&T)===0&&(T=w&-w,h=u&-u,T>=h||T===32&&(h&4194048)!==0)?u:w}function jr(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function Ot(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(){var o=rn;return rn<<=1,(rn&62914560)===0&&(rn=4194304),o}function Ki(o){for(var u=[],h=0;31>h;h++)u.push(o);return u}function Ls(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function $d(o,u,h,y,w,T){var N=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var F=o.entanglements,q=o.expirationTimes,Z=o.hiddenUpdates;for(h=N&~h;0<h;){var oe=31-Kt(h),ue=1<<oe;F[oe]=0,q[oe]=-1;var ee=Z[oe];if(ee!==null)for(Z[oe]=null,oe=0;oe<ee.length;oe++){var re=ee[oe];re!==null&&(re.lane&=-536870913)}h&=~ue}y!==0&&fa(o,y,0),T!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=T&~(N&~u))}function fa(o,u,h){o.pendingLanes|=u,o.suspendedLanes&=~u;var y=31-Kt(u);o.entangledLanes|=u,o.entanglements[y]=o.entanglements[y]|1073741824|h&261930}function io(o,u){var h=o.entangledLanes|=u;for(o=o.entanglements;h;){var y=31-Kt(h),w=1<<y;w&u|o[y]&u&&(o[y]|=u),h&=~w}}function ha(o,u){var h=u&-u;return h=(h&42)!==0?1:Vs(h),(h&(o.suspendedLanes|u))!==0?0:h}function Vs(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ci(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function pl(){var o=Y.p;return o!==0?o:(o=window.event,o===void 0?32:kP(o.type))}function Ni(o,u){var h=Y.p;try{return Y.p=o,u()}finally{Y.p=h}}var Gr=Math.random().toString(36).slice(2),sn="__reactFiber$"+Gr,_n="__reactProps$"+Gr,Yi="__reactContainer$"+Gr,Ge="__reactEvents$"+Gr,Pt="__reactListeners$"+Gr,Ut="__reactHandles$"+Gr,Ir="__reactResources$"+Gr,un="__reactMarker$"+Gr;function pa(o){delete o[sn],delete o[_n],delete o[Ge],delete o[Pt],delete o[Ut]}function Xi(o){var u=o[sn];if(u)return u;for(var h=o.parentNode;h;){if(u=h[Yi]||h[sn]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(o=cP(o);o!==null;){if(h=o[sn])return h;o=cP(o)}return u}o=h,h=o.parentNode}return null}function li(o){if(o=o[sn]||o[Yi]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function Oi(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function ma(o){var u=o[Ir];return u||(u=o[Ir]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function An(o){o[un]=!0}var np=new Set,rp={};function ga(o,u){ya(o,u),ya(o+"Capture",u)}function ya(o,u){for(rp[o]=u,o=0;o<u.length;o++)np.add(u[o])}var ip=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sp={},ap={};function I0(o){return nn.call(ap,o)?!0:nn.call(sp,o)?!1:ip.test(o)?ap[o]=!0:(sp[o]=!0,!1)}function Hd(o,u,h){if(I0(u))if(h===null)o.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var y=u.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+h)}}function Mi(o,u,h){if(h===null)o.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+h)}}function Cn(o,u,h,y){if(y===null)o.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(u,h,""+y)}}function er(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ml(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function op(o,u,h){var y=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var w=y.get,T=y.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return w.call(this)},set:function(N){h=""+N,T.call(this,N)}}),Object.defineProperty(o,u,{enumerable:y.enumerable}),{getValue:function(){return h},setValue:function(N){h=""+N},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function bt(o){if(!o._valueTracker){var u=ml(o)?"checked":"value";o._valueTracker=op(o,u,""+o[u])}}function cu(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var h=u.getValue(),y="";return o&&(y=ml(o)?o.checked?"true":"false":o.value),o=y,o!==h?(u.setValue(o),!0):!1}function va(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var uu=/[\n"\\]/g;function ci(o){return o.replace(uu,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function qd(o,u,h,y,w,T,N,F){o.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?o.type=N:o.removeAttribute("type"),u!=null?N==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+er(u)):o.value!==""+er(u)&&(o.value=""+er(u)):N!=="submit"&&N!=="reset"||o.removeAttribute("value"),u!=null?lp(o,N,er(u)):h!=null?lp(o,N,er(h)):y!=null&&o.removeAttribute("value"),w==null&&T!=null&&(o.defaultChecked=!!T),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?o.name=""+er(F):o.removeAttribute("name")}function D0(o,u,h,y,w,T,N,F){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.type=T),u!=null||h!=null){if(!(T!=="submit"&&T!=="reset"||u!=null)){bt(o);return}h=h!=null?""+er(h):"",u=u!=null?""+er(u):h,F||u===o.value||(o.value=u),o.defaultValue=u}y=y??w,y=typeof y!="function"&&typeof y!="symbol"&&!!y,o.checked=F?o.checked:!!y,o.defaultChecked=!!y,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.name=N),bt(o)}function lp(o,u,h){u==="number"&&va(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function gl(o,u,h,y){if(o=o.options,u){u={};for(var w=0;w<h.length;w++)u["$"+h[w]]=!0;for(h=0;h<o.length;h++)w=u.hasOwnProperty("$"+o[h].value),o[h].selected!==w&&(o[h].selected=w),w&&y&&(o[h].defaultSelected=!0)}else{for(h=""+er(h),u=null,w=0;w<o.length;w++){if(o[w].value===h){o[w].selected=!0,y&&(o[w].defaultSelected=!0);return}u!==null||o[w].disabled||(u=o[w])}u!==null&&(u.selected=!0)}}function P0(o,u,h){if(u!=null&&(u=""+er(u),u!==o.value&&(o.value=u),h==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=h!=null?""+er(h):""}function yl(o,u,h,y){if(u==null){if(y!=null){if(h!=null)throw Error(r(92));if(ae(y)){if(1<y.length)throw Error(r(93));y=y[0]}h=y}h==null&&(h=""),u=h}h=er(u),o.defaultValue=h,y=o.textContent,y===h&&y!==""&&y!==null&&(o.value=y),bt(o)}function ui(o,u){if(u){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=u;return}}o.textContent=u}var R0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cp(o,u,h){var y=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?y?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":y?o.setProperty(u,h):typeof h!="number"||h===0||R0.has(u)?u==="float"?o.cssFloat=h:o[u]=(""+h).trim():o[u]=h+"px"}function up(o,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,h!=null){for(var y in h)!h.hasOwnProperty(y)||u!=null&&u.hasOwnProperty(y)||(y.indexOf("--")===0?o.setProperty(y,""):y==="float"?o.cssFloat="":o[y]="");for(var w in u)y=u[w],u.hasOwnProperty(w)&&h[w]!==y&&cp(o,w,y)}else for(var T in u)u.hasOwnProperty(T)&&cp(o,T,u[T])}function Wd(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var L0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gd(o){return vl.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Bs(){}var dp=null;function Qi(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var bl=null,ba=null;function du(o){var u=li(o);if(u&&(o=u.stateNode)){var h=o[_n]||null;e:switch(o=u.stateNode,u.type){case"input":if(qd(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ci(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var y=h[u];if(y!==o&&y.form===o.form){var w=y[_n]||null;if(!w)throw Error(r(90));qd(y,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(u=0;u<h.length;u++)y=h[u],y.form===o.form&&cu(y)}break e;case"textarea":P0(o,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&gl(o,!!h.multiple,u,!1)}}}var Kd=!1;function xl(o,u,h){if(Kd)return o(u,h);Kd=!0;try{var y=o(u);return y}finally{if(Kd=!1,(bl!==null||ba!==null)&&(Oy(),bl&&(u=bl,o=ba,ba=bl=null,du(u),o)))for(u=0;u<o.length;u++)du(o[u])}}function zs(o,u){var h=o.stateNode;if(h===null)return null;var y=h[_n]||null;if(y===null)return null;h=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var Ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fu=!1;if(Ji)try{var kt={};Object.defineProperty(kt,"passive",{get:function(){fu=!0}}),window.addEventListener("test",kt,kt),window.removeEventListener("test",kt,kt)}catch{fu=!1}var xa=null,fp=null,hu=null;function hp(){if(hu)return hu;var o,u=fp,h=u.length,y,w="value"in xa?xa.value:xa.textContent,T=w.length;for(o=0;o<h&&u[o]===w[o];o++);var N=h-o;for(y=1;y<=N&&u[h-y]===w[T-y];y++);return hu=w.slice(o,1<y?1-y:void 0)}function pu(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function so(){return!0}function Us(){return!1}function hr(o){function u(h,y,w,T,N){this._reactName=h,this._targetInst=w,this.type=y,this.nativeEvent=T,this.target=N,this.currentTarget=null;for(var F in o)o.hasOwnProperty(F)&&(h=o[F],this[F]=h?h(T):T[F]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?so:Us,this.isPropagationStopped=Us,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),u}var ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=hr(ao),wl=p({},ao,{view:0,detail:0}),pp=hr(wl),Sl,Yd,Sa,Xd=p({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tl,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Sa&&(Sa&&o.type==="mousemove"?(Sl=o.screenX-Sa.screenX,Yd=o.screenY-Sa.screenY):Yd=Sl=0,Sa=o),Sl)},movementY:function(o){return"movementY"in o?o.movementY:Yd}}),mp=hr(Xd),mu=p({},Xd,{dataTransfer:0}),V0=hr(mu),B0=p({},wl,{relatedTarget:0}),gu=hr(B0),gp=p({},ao,{animationName:0,elapsedTime:0,pseudoElement:0}),z0=hr(gp),Qd=p({},ao,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),U0=hr(Qd),F0=p({},ao,{data:0}),Ta=hr(F0),$0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W0(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=q0[o])?!!u[o]:!1}function Tl(){return W0}var Kr=p({},wl,{key:function(o){if(o.key){var u=$0[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=pu(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?H0[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tl,charCode:function(o){return o.type==="keypress"?pu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?pu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),G0=hr(Kr),K0=p({},Xd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oo=hr(K0),x=p({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tl}),A=hr(x),D=p({},ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),$=hr(D),Q=p({},Xd,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),te=hr(Q),xe=p({},ao,{newState:0,oldState:0}),Ke=hr(xe),bn=[9,13,27,32],mt=Ji&&"CompositionEvent"in window,Yt=null;Ji&&"documentMode"in document&&(Yt=document.documentMode);var Zi=Ji&&"TextEvent"in window&&!Yt,Ea=Ji&&(!mt||Yt&&8<Yt&&11>=Yt),Fs=" ",$s=!1;function yu(o,u){switch(o){case"keyup":return bn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jd(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Zd=!1;function cX(o,u){switch(o){case"compositionend":return Jd(u);case"keypress":return u.which!==32?null:($s=!0,Fs);case"textInput":return o=u.data,o===Fs&&$s?null:o;default:return null}}function uX(o,u){if(Zd)return o==="compositionend"||!mt&&yu(o,u)?(o=hp(),hu=fp=xa=null,Zd=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ea&&u.locale!=="ko"?null:u.data;default:return null}}var dX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fj(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!dX[o.type]:u==="textarea"}function hj(o,u,h,y){bl?ba?ba.push(y):ba=[y]:bl=y,u=Ly(u,"onChange"),0<u.length&&(h=new wa("onChange","change",null,h,y),o.push({event:h,listeners:u}))}var yp=null,vp=null;function fX(o){YD(o,0)}function Y0(o){var u=Oi(o);if(cu(u))return o}function pj(o,u){if(o==="change")return u}var mj=!1;if(Ji){var q1;if(Ji){var W1="oninput"in document;if(!W1){var gj=document.createElement("div");gj.setAttribute("oninput","return;"),W1=typeof gj.oninput=="function"}q1=W1}else q1=!1;mj=q1&&(!document.documentMode||9<document.documentMode)}function yj(){yp&&(yp.detachEvent("onpropertychange",vj),vp=yp=null)}function vj(o){if(o.propertyName==="value"&&Y0(vp)){var u=[];hj(u,vp,o,Qi(o)),xl(fX,u)}}function hX(o,u,h){o==="focusin"?(yj(),yp=u,vp=h,yp.attachEvent("onpropertychange",vj)):o==="focusout"&&yj()}function pX(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Y0(vp)}function mX(o,u){if(o==="click")return Y0(u)}function gX(o,u){if(o==="input"||o==="change")return Y0(u)}function yX(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var ji=typeof Object.is=="function"?Object.is:yX;function bp(o,u){if(ji(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var h=Object.keys(o),y=Object.keys(u);if(h.length!==y.length)return!1;for(y=0;y<h.length;y++){var w=h[y];if(!nn.call(u,w)||!ji(o[w],u[w]))return!1}return!0}function bj(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function xj(o,u){var h=bj(o);o=0;for(var y;h;){if(h.nodeType===3){if(y=o+h.textContent.length,o<=u&&y>=u)return{node:h,offset:u-o};o=y}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=bj(h)}}function wj(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?wj(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function Sj(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=va(o.document);u instanceof o.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)o=u.contentWindow;else break;u=va(o.document)}return u}function G1(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var vX=Ji&&"documentMode"in document&&11>=document.documentMode,ef=null,K1=null,xp=null,Y1=!1;function Tj(o,u,h){var y=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Y1||ef==null||ef!==va(y)||(y=ef,"selectionStart"in y&&G1(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),xp&&bp(xp,y)||(xp=y,y=Ly(K1,"onSelect"),0<y.length&&(u=new wa("onSelect","select",null,u,h),o.push({event:u,listeners:y}),u.target=ef)))}function vu(o,u){var h={};return h[o.toLowerCase()]=u.toLowerCase(),h["Webkit"+o]="webkit"+u,h["Moz"+o]="moz"+u,h}var tf={animationend:vu("Animation","AnimationEnd"),animationiteration:vu("Animation","AnimationIteration"),animationstart:vu("Animation","AnimationStart"),transitionrun:vu("Transition","TransitionRun"),transitionstart:vu("Transition","TransitionStart"),transitioncancel:vu("Transition","TransitionCancel"),transitionend:vu("Transition","TransitionEnd")},X1={},Ej={};Ji&&(Ej=document.createElement("div").style,"AnimationEvent"in window||(delete tf.animationend.animation,delete tf.animationiteration.animation,delete tf.animationstart.animation),"TransitionEvent"in window||delete tf.transitionend.transition);function bu(o){if(X1[o])return X1[o];if(!tf[o])return o;var u=tf[o],h;for(h in u)if(u.hasOwnProperty(h)&&h in Ej)return X1[o]=u[h];return o}var kj=bu("animationend"),_j=bu("animationiteration"),Aj=bu("animationstart"),bX=bu("transitionrun"),xX=bu("transitionstart"),wX=bu("transitioncancel"),Cj=bu("transitionend"),Nj=new Map,Q1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Q1.push("scrollEnd");function Hs(o,u){Nj.set(o,u),ga(u,[o])}var X0=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},es=[],nf=0,J1=0;function Q0(){for(var o=nf,u=J1=nf=0;u<o;){var h=es[u];es[u++]=null;var y=es[u];es[u++]=null;var w=es[u];es[u++]=null;var T=es[u];if(es[u++]=null,y!==null&&w!==null){var N=y.pending;N===null?w.next=w:(w.next=N.next,N.next=w),y.pending=w}T!==0&&Oj(h,w,T)}}function J0(o,u,h,y){es[nf++]=o,es[nf++]=u,es[nf++]=h,es[nf++]=y,J1|=y,o.lanes|=y,o=o.alternate,o!==null&&(o.lanes|=y)}function Z1(o,u,h,y){return J0(o,u,h,y),Z0(o)}function xu(o,u){return J0(o,null,null,u),Z0(o)}function Oj(o,u,h){o.lanes|=h;var y=o.alternate;y!==null&&(y.lanes|=h);for(var w=!1,T=o.return;T!==null;)T.childLanes|=h,y=T.alternate,y!==null&&(y.childLanes|=h),T.tag===22&&(o=T.stateNode,o===null||o._visibility&1||(w=!0)),o=T,T=T.return;return o.tag===3?(T=o.stateNode,w&&u!==null&&(w=31-Kt(h),o=T.hiddenUpdates,y=o[w],y===null?o[w]=[u]:y.push(u),u.lane=h|536870912),T):null}function Z0(o){if(50<Fp)throw Fp=0,lT=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var rf={};function SX(o,u,h,y){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(o,u,h,y){return new SX(o,u,h,y)}function eS(o){return o=o.prototype,!(!o||!o.isReactComponent)}function lo(o,u){var h=o.alternate;return h===null?(h=Ii(o.tag,u,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=u,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,u=o.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function Mj(o,u){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,u=h.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function ey(o,u,h,y,w,T){var N=0;if(y=o,typeof o=="function")eS(o)&&(N=1);else if(typeof o=="string")N=AQ(o,h,be.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case M:return o=Ii(31,h,u,w),o.elementType=M,o.lanes=T,o;case E:return wu(h.children,w,T,u);case S:N=8,w|=24;break;case k:return o=Ii(12,h,u,w|2),o.elementType=k,o.lanes=T,o;case P:return o=Ii(13,h,u,w),o.elementType=P,o.lanes=T,o;case U:return o=Ii(19,h,u,w),o.elementType=U,o.lanes=T,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:N=10;break e;case C:N=9;break e;case z:N=11;break e;case I:N=14;break e;case j:N=16,y=null;break e}N=29,h=Error(r(130,o===null?"null":typeof o,"")),y=null}return u=Ii(N,h,u,w),u.elementType=o,u.type=y,u.lanes=T,u}function wu(o,u,h,y){return o=Ii(7,o,y,u),o.lanes=h,o}function tS(o,u,h){return o=Ii(6,o,null,u),o.lanes=h,o}function jj(o){var u=Ii(18,null,null,0);return u.stateNode=o,u}function nS(o,u,h){return u=Ii(4,o.children!==null?o.children:[],o.key,u),u.lanes=h,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Ij=new WeakMap;function ts(o,u){if(typeof o=="object"&&o!==null){var h=Ij.get(o);return h!==void 0?h:(u={value:o,source:u,stack:Rs(u)},Ij.set(o,u),u)}return{value:o,source:u,stack:Rs(u)}}var sf=[],af=0,ty=null,wp=0,ns=[],rs=0,El=null,ka=1,_a="";function co(o,u){sf[af++]=wp,sf[af++]=ty,ty=o,wp=u}function Dj(o,u,h){ns[rs++]=ka,ns[rs++]=_a,ns[rs++]=El,El=o;var y=ka;o=_a;var w=32-Kt(y)-1;y&=~(1<<w),h+=1;var T=32-Kt(u)+w;if(30<T){var N=w-w%5;T=(y&(1<<N)-1).toString(32),y>>=N,w-=N,ka=1<<32-Kt(u)+w|h<<w|y,_a=T+o}else ka=1<<T|h<<w|y,_a=o}function rS(o){o.return!==null&&(co(o,1),Dj(o,1,0))}function iS(o){for(;o===ty;)ty=sf[--af],sf[af]=null,wp=sf[--af],sf[af]=null;for(;o===El;)El=ns[--rs],ns[rs]=null,_a=ns[--rs],ns[rs]=null,ka=ns[--rs],ns[rs]=null}function Pj(o,u){ns[rs++]=ka,ns[rs++]=_a,ns[rs++]=El,ka=u.id,_a=u.overflow,El=o}var pr=null,Ft=null,lt=!1,kl=null,is=!1,sS=Error(r(519));function _l(o){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sp(ts(u,o)),sS}function Rj(o){var u=o.stateNode,h=o.type,y=o.memoizedProps;switch(u[sn]=o,u[_n]=y,h){case"dialog":nt("cancel",u),nt("close",u);break;case"iframe":case"object":case"embed":nt("load",u);break;case"video":case"audio":for(h=0;h<Hp.length;h++)nt(Hp[h],u);break;case"source":nt("error",u);break;case"img":case"image":case"link":nt("error",u),nt("load",u);break;case"details":nt("toggle",u);break;case"input":nt("invalid",u),D0(u,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":nt("invalid",u);break;case"textarea":nt("invalid",u),yl(u,y.value,y.defaultValue,y.children)}h=y.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||y.suppressHydrationWarning===!0||ZD(u.textContent,h)?(y.popover!=null&&(nt("beforetoggle",u),nt("toggle",u)),y.onScroll!=null&&nt("scroll",u),y.onScrollEnd!=null&&nt("scrollend",u),y.onClick!=null&&(u.onclick=Bs),u=!0):u=!1,u||_l(o,!0)}function Lj(o){for(pr=o.return;pr;)switch(pr.tag){case 5:case 31:case 13:is=!1;return;case 27:case 3:is=!0;return;default:pr=pr.return}}function of(o){if(o!==pr)return!1;if(!lt)return Lj(o),lt=!0,!1;var u=o.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||TT(o.type,o.memoizedProps)),h=!h),h&&Ft&&_l(o),Lj(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Ft=lP(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Ft=lP(o)}else u===27?(u=Ft,zl(o.type)?(o=CT,CT=null,Ft=o):Ft=u):Ft=pr?as(o.stateNode.nextSibling):null;return!0}function Su(){Ft=pr=null,lt=!1}function aS(){var o=kl;return o!==null&&(pi===null?pi=o:pi.push.apply(pi,o),kl=null),o}function Sp(o){kl===null?kl=[o]:kl.push(o)}var oS=H(null),Tu=null,uo=null;function Al(o,u,h){ye(oS,u._currentValue),u._currentValue=h}function fo(o){o._currentValue=oS.current,ne(oS)}function lS(o,u,h){for(;o!==null;){var y=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),o===h)break;o=o.return}}function cS(o,u,h,y){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var T=w.dependencies;if(T!==null){var N=w.child;T=T.firstContext;e:for(;T!==null;){var F=T;T=w;for(var q=0;q<u.length;q++)if(F.context===u[q]){T.lanes|=h,F=T.alternate,F!==null&&(F.lanes|=h),lS(T.return,h,o),y||(N=null);break e}T=F.next}}else if(w.tag===18){if(N=w.return,N===null)throw Error(r(341));N.lanes|=h,T=N.alternate,T!==null&&(T.lanes|=h),lS(N,h,o),N=null}else N=w.child;if(N!==null)N.return=w;else for(N=w;N!==null;){if(N===o){N=null;break}if(w=N.sibling,w!==null){w.return=N.return,N=w;break}N=N.return}w=N}}function lf(o,u,h,y){o=null;for(var w=u,T=!1;w!==null;){if(!T){if((w.flags&524288)!==0)T=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var N=w.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var F=w.type;ji(w.pendingProps.value,N.value)||(o!==null?o.push(F):o=[F])}}else if(w===we.current){if(N=w.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(Yp):o=[Yp])}w=w.return}o!==null&&cS(u,o,h,y),u.flags|=262144}function ny(o){for(o=o.firstContext;o!==null;){if(!ji(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Eu(o){Tu=o,uo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function mr(o){return Vj(Tu,o)}function ry(o,u){return Tu===null&&Eu(o),Vj(o,u)}function Vj(o,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},uo===null){if(o===null)throw Error(r(308));uo=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else uo=uo.next=u;return h}var TX=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(h,y){o.push(y)}};this.abort=function(){u.aborted=!0,o.forEach(function(h){return h()})}},EX=t.unstable_scheduleCallback,kX=t.unstable_NormalPriority,Nn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uS(){return{controller:new TX,data:new Map,refCount:0}}function Tp(o){o.refCount--,o.refCount===0&&EX(kX,function(){o.controller.abort()})}var Ep=null,dS=0,cf=0,uf=null;function _X(o,u){if(Ep===null){var h=Ep=[];dS=0,cf=pT(),uf={status:"pending",value:void 0,then:function(y){h.push(y)}}}return dS++,u.then(Bj,Bj),u}function Bj(){if(--dS===0&&Ep!==null){uf!==null&&(uf.status="fulfilled");var o=Ep;Ep=null,cf=0,uf=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function AX(o,u){var h=[],y={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return o.then(function(){y.status="fulfilled",y.value=u;for(var w=0;w<h.length;w++)(0,h[w])(u)},function(w){for(y.status="rejected",y.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),y}var zj=W.S;W.S=function(o,u){TD=fr(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&_X(o,u),zj!==null&&zj(o,u)};var ku=H(null);function fS(){var o=ku.current;return o!==null?o:Mt.pooledCache}function iy(o,u){u===null?ye(ku,ku.current):ye(ku,u.pool)}function Uj(){var o=fS();return o===null?null:{parent:Nn._currentValue,pool:o}}var df=Error(r(460)),hS=Error(r(474)),sy=Error(r(542)),ay={then:function(){}};function Fj(o){return o=o.status,o==="fulfilled"||o==="rejected"}function $j(o,u,h){switch(h=o[h],h===void 0?o.push(u):h!==u&&(u.then(Bs,Bs),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,qj(o),o;default:if(typeof u.status=="string")u.then(Bs,Bs);else{if(o=Mt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(y){if(u.status==="pending"){var w=u;w.status="fulfilled",w.value=y}},function(y){if(u.status==="pending"){var w=u;w.status="rejected",w.reason=y}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,qj(o),o}throw Au=u,df}}function _u(o){try{var u=o._init;return u(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Au=h,df):h}}var Au=null;function Hj(){if(Au===null)throw Error(r(459));var o=Au;return Au=null,o}function qj(o){if(o===df||o===sy)throw Error(r(483))}var ff=null,kp=0;function oy(o){var u=kp;return kp+=1,ff===null&&(ff=[]),$j(ff,o,u)}function _p(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function ly(o,u){throw u.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function Wj(o){function u(K,G){if(o){var J=K.deletions;J===null?(K.deletions=[G],K.flags|=16):J.push(G)}}function h(K,G){if(!o)return null;for(;G!==null;)u(K,G),G=G.sibling;return null}function y(K){for(var G=new Map;K!==null;)K.key!==null?G.set(K.key,K):G.set(K.index,K),K=K.sibling;return G}function w(K,G){return K=lo(K,G),K.index=0,K.sibling=null,K}function T(K,G,J){return K.index=J,o?(J=K.alternate,J!==null?(J=J.index,J<G?(K.flags|=67108866,G):J):(K.flags|=67108866,G)):(K.flags|=1048576,G)}function N(K){return o&&K.alternate===null&&(K.flags|=67108866),K}function F(K,G,J,ce){return G===null||G.tag!==6?(G=tS(J,K.mode,ce),G.return=K,G):(G=w(G,J),G.return=K,G)}function q(K,G,J,ce){var Ie=J.type;return Ie===E?oe(K,G,J.props.children,ce,J.key):G!==null&&(G.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===j&&_u(Ie)===G.type)?(G=w(G,J.props),_p(G,J),G.return=K,G):(G=ey(J.type,J.key,J.props,null,K.mode,ce),_p(G,J),G.return=K,G)}function Z(K,G,J,ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=nS(J,K.mode,ce),G.return=K,G):(G=w(G,J.children||[]),G.return=K,G)}function oe(K,G,J,ce,Ie){return G===null||G.tag!==7?(G=wu(J,K.mode,ce,Ie),G.return=K,G):(G=w(G,J),G.return=K,G)}function ue(K,G,J){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=tS(""+G,K.mode,J),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v:return J=ey(G.type,G.key,G.props,null,K.mode,J),_p(J,G),J.return=K,J;case b:return G=nS(G,K.mode,J),G.return=K,G;case j:return G=_u(G),ue(K,G,J)}if(ae(G)||L(G))return G=wu(G,K.mode,J,null),G.return=K,G;if(typeof G.then=="function")return ue(K,oy(G),J);if(G.$$typeof===O)return ue(K,ry(K,G),J);ly(K,G)}return null}function ee(K,G,J,ce){var Ie=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ie!==null?null:F(K,G,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case v:return J.key===Ie?q(K,G,J,ce):null;case b:return J.key===Ie?Z(K,G,J,ce):null;case j:return J=_u(J),ee(K,G,J,ce)}if(ae(J)||L(J))return Ie!==null?null:oe(K,G,J,ce,null);if(typeof J.then=="function")return ee(K,G,oy(J),ce);if(J.$$typeof===O)return ee(K,G,ry(K,J),ce);ly(K,J)}return null}function re(K,G,J,ce,Ie){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return K=K.get(J)||null,F(G,K,""+ce,Ie);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case v:return K=K.get(ce.key===null?J:ce.key)||null,q(G,K,ce,Ie);case b:return K=K.get(ce.key===null?J:ce.key)||null,Z(G,K,ce,Ie);case j:return ce=_u(ce),re(K,G,J,ce,Ie)}if(ae(ce)||L(ce))return K=K.get(J)||null,oe(G,K,ce,Ie,null);if(typeof ce.then=="function")return re(K,G,J,oy(ce),Ie);if(ce.$$typeof===O)return re(K,G,J,ry(G,ce),Ie);ly(G,ce)}return null}function Ne(K,G,J,ce){for(var Ie=null,ft=null,Oe=G,Xe=G=0,it=null;Oe!==null&&Xe<J.length;Xe++){Oe.index>Xe?(it=Oe,Oe=null):it=Oe.sibling;var ht=ee(K,Oe,J[Xe],ce);if(ht===null){Oe===null&&(Oe=it);break}o&&Oe&&ht.alternate===null&&u(K,Oe),G=T(ht,G,Xe),ft===null?Ie=ht:ft.sibling=ht,ft=ht,Oe=it}if(Xe===J.length)return h(K,Oe),lt&&co(K,Xe),Ie;if(Oe===null){for(;Xe<J.length;Xe++)Oe=ue(K,J[Xe],ce),Oe!==null&&(G=T(Oe,G,Xe),ft===null?Ie=Oe:ft.sibling=Oe,ft=Oe);return lt&&co(K,Xe),Ie}for(Oe=y(Oe);Xe<J.length;Xe++)it=re(Oe,K,Xe,J[Xe],ce),it!==null&&(o&&it.alternate!==null&&Oe.delete(it.key===null?Xe:it.key),G=T(it,G,Xe),ft===null?Ie=it:ft.sibling=it,ft=it);return o&&Oe.forEach(function(ql){return u(K,ql)}),lt&&co(K,Xe),Ie}function Be(K,G,J,ce){if(J==null)throw Error(r(151));for(var Ie=null,ft=null,Oe=G,Xe=G=0,it=null,ht=J.next();Oe!==null&&!ht.done;Xe++,ht=J.next()){Oe.index>Xe?(it=Oe,Oe=null):it=Oe.sibling;var ql=ee(K,Oe,ht.value,ce);if(ql===null){Oe===null&&(Oe=it);break}o&&Oe&&ql.alternate===null&&u(K,Oe),G=T(ql,G,Xe),ft===null?Ie=ql:ft.sibling=ql,ft=ql,Oe=it}if(ht.done)return h(K,Oe),lt&&co(K,Xe),Ie;if(Oe===null){for(;!ht.done;Xe++,ht=J.next())ht=ue(K,ht.value,ce),ht!==null&&(G=T(ht,G,Xe),ft===null?Ie=ht:ft.sibling=ht,ft=ht);return lt&&co(K,Xe),Ie}for(Oe=y(Oe);!ht.done;Xe++,ht=J.next())ht=re(Oe,K,Xe,ht.value,ce),ht!==null&&(o&&ht.alternate!==null&&Oe.delete(ht.key===null?Xe:ht.key),G=T(ht,G,Xe),ft===null?Ie=ht:ft.sibling=ht,ft=ht);return o&&Oe.forEach(function(VQ){return u(K,VQ)}),lt&&co(K,Xe),Ie}function Ct(K,G,J,ce){if(typeof J=="object"&&J!==null&&J.type===E&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case v:e:{for(var Ie=J.key;G!==null;){if(G.key===Ie){if(Ie=J.type,Ie===E){if(G.tag===7){h(K,G.sibling),ce=w(G,J.props.children),ce.return=K,K=ce;break e}}else if(G.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===j&&_u(Ie)===G.type){h(K,G.sibling),ce=w(G,J.props),_p(ce,J),ce.return=K,K=ce;break e}h(K,G);break}else u(K,G);G=G.sibling}J.type===E?(ce=wu(J.props.children,K.mode,ce,J.key),ce.return=K,K=ce):(ce=ey(J.type,J.key,J.props,null,K.mode,ce),_p(ce,J),ce.return=K,K=ce)}return N(K);case b:e:{for(Ie=J.key;G!==null;){if(G.key===Ie)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){h(K,G.sibling),ce=w(G,J.children||[]),ce.return=K,K=ce;break e}else{h(K,G);break}else u(K,G);G=G.sibling}ce=nS(J,K.mode,ce),ce.return=K,K=ce}return N(K);case j:return J=_u(J),Ct(K,G,J,ce)}if(ae(J))return Ne(K,G,J,ce);if(L(J)){if(Ie=L(J),typeof Ie!="function")throw Error(r(150));return J=Ie.call(J),Be(K,G,J,ce)}if(typeof J.then=="function")return Ct(K,G,oy(J),ce);if(J.$$typeof===O)return Ct(K,G,ry(K,J),ce);ly(K,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,G!==null&&G.tag===6?(h(K,G.sibling),ce=w(G,J),ce.return=K,K=ce):(h(K,G),ce=tS(J,K.mode,ce),ce.return=K,K=ce),N(K)):h(K,G)}return function(K,G,J,ce){try{kp=0;var Ie=Ct(K,G,J,ce);return ff=null,Ie}catch(Oe){if(Oe===df||Oe===sy)throw Oe;var ft=Ii(29,Oe,null,K.mode);return ft.lanes=ce,ft.return=K,ft}finally{}}}var Cu=Wj(!0),Gj=Wj(!1),Cl=!1;function pS(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mS(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Nl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ol(o,u,h){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(gt&2)!==0){var w=y.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),y.pending=u,u=Z0(o),Oj(o,null,h),u}return J0(o,y,u,h),Z0(o)}function Ap(o,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var y=u.lanes;y&=o.pendingLanes,h|=y,u.lanes=h,io(o,h)}}function gS(o,u){var h=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,h===y)){var w=null,T=null;if(h=h.firstBaseUpdate,h!==null){do{var N={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};T===null?w=T=N:T=T.next=N,h=h.next}while(h!==null);T===null?w=T=u:T=T.next=u}else w=T=u;h={baseState:y.baseState,firstBaseUpdate:w,lastBaseUpdate:T,shared:y.shared,callbacks:y.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=u}var yS=!1;function Cp(){if(yS){var o=uf;if(o!==null)throw o}}function Np(o,u,h,y){yS=!1;var w=o.updateQueue;Cl=!1;var T=w.firstBaseUpdate,N=w.lastBaseUpdate,F=w.shared.pending;if(F!==null){w.shared.pending=null;var q=F,Z=q.next;q.next=null,N===null?T=Z:N.next=Z,N=q;var oe=o.alternate;oe!==null&&(oe=oe.updateQueue,F=oe.lastBaseUpdate,F!==N&&(F===null?oe.firstBaseUpdate=Z:F.next=Z,oe.lastBaseUpdate=q))}if(T!==null){var ue=w.baseState;N=0,oe=Z=q=null,F=T;do{var ee=F.lane&-536870913,re=ee!==F.lane;if(re?(rt&ee)===ee:(y&ee)===ee){ee!==0&&ee===cf&&(yS=!0),oe!==null&&(oe=oe.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Ne=o,Be=F;ee=u;var Ct=h;switch(Be.tag){case 1:if(Ne=Be.payload,typeof Ne=="function"){ue=Ne.call(Ct,ue,ee);break e}ue=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Be.payload,ee=typeof Ne=="function"?Ne.call(Ct,ue,ee):Ne,ee==null)break e;ue=p({},ue,ee);break e;case 2:Cl=!0}}ee=F.callback,ee!==null&&(o.flags|=64,re&&(o.flags|=8192),re=w.callbacks,re===null?w.callbacks=[ee]:re.push(ee))}else re={lane:ee,tag:F.tag,payload:F.payload,callback:F.callback,next:null},oe===null?(Z=oe=re,q=ue):oe=oe.next=re,N|=ee;if(F=F.next,F===null){if(F=w.shared.pending,F===null)break;re=F,F=re.next,re.next=null,w.lastBaseUpdate=re,w.shared.pending=null}}while(!0);oe===null&&(q=ue),w.baseState=q,w.firstBaseUpdate=Z,w.lastBaseUpdate=oe,T===null&&(w.shared.lanes=0),Pl|=N,o.lanes=N,o.memoizedState=ue}}function Kj(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function Yj(o,u){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)Kj(h[o],u)}var hf=H(null),cy=H(0);function Xj(o,u){o=wo,ye(cy,o),ye(hf,u),wo=o|u.baseLanes}function vS(){ye(cy,wo),ye(hf,hf.current)}function bS(){wo=cy.current,ne(hf),ne(cy)}var Di=H(null),ss=null;function Ml(o){var u=o.alternate;ye(xn,xn.current&1),ye(Di,o),ss===null&&(u===null||hf.current!==null||u.memoizedState!==null)&&(ss=o)}function xS(o){ye(xn,xn.current),ye(Di,o),ss===null&&(ss=o)}function Qj(o){o.tag===22?(ye(xn,xn.current),ye(Di,o),ss===null&&(ss=o)):jl()}function jl(){ye(xn,xn.current),ye(Di,Di.current)}function Pi(o){ne(Di),ss===o&&(ss=null),ne(xn)}var xn=H(0);function uy(o){for(var u=o;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||_T(h)||AT(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var ho=0,Ye=null,_t=null,On=null,dy=!1,pf=!1,Nu=!1,fy=0,Op=0,mf=null,CX=0;function dn(){throw Error(r(321))}function wS(o,u){if(u===null)return!1;for(var h=0;h<u.length&&h<o.length;h++)if(!ji(o[h],u[h]))return!1;return!0}function SS(o,u,h,y,w,T){return ho=T,Ye=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,W.H=o===null||o.memoizedState===null?DI:LS,Nu=!1,T=h(y,w),Nu=!1,pf&&(T=Zj(u,h,y,w)),Jj(o),T}function Jj(o){W.H=Ip;var u=_t!==null&&_t.next!==null;if(ho=0,On=_t=Ye=null,dy=!1,Op=0,mf=null,u)throw Error(r(300));o===null||Mn||(o=o.dependencies,o!==null&&ny(o)&&(Mn=!0))}function Zj(o,u,h,y){Ye=o;var w=0;do{if(pf&&(mf=null),Op=0,pf=!1,25<=w)throw Error(r(301));if(w+=1,On=_t=null,o.updateQueue!=null){var T=o.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}W.H=PI,T=u(h,y)}while(pf);return T}function NX(){var o=W.H,u=o.useState()[0];return u=typeof u.then=="function"?Mp(u):u,o=o.useState()[0],(_t!==null?_t.memoizedState:null)!==o&&(Ye.flags|=1024),u}function TS(){var o=fy!==0;return fy=0,o}function ES(o,u,h){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~h}function kS(o){if(dy){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}dy=!1}ho=0,On=_t=Ye=null,pf=!1,Op=fy=0,mf=null}function Yr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?Ye.memoizedState=On=o:On=On.next=o,On}function wn(){if(_t===null){var o=Ye.alternate;o=o!==null?o.memoizedState:null}else o=_t.next;var u=On===null?Ye.memoizedState:On.next;if(u!==null)On=u,_t=o;else{if(o===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));_t=o,o={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},On===null?Ye.memoizedState=On=o:On=On.next=o}return On}function hy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mp(o){var u=Op;return Op+=1,mf===null&&(mf=[]),o=$j(mf,o,u),u=Ye,(On===null?u.memoizedState:On.next)===null&&(u=u.alternate,W.H=u===null||u.memoizedState===null?DI:LS),o}function py(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Mp(o);if(o.$$typeof===O)return mr(o)}throw Error(r(438,String(o)))}function _S(o){var u=null,h=Ye.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var y=Ye.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(u={data:y.data.map(function(w){return w.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=hy(),Ye.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(o),y=0;y<o;y++)h[y]=R;return u.index++,h}function po(o,u){return typeof u=="function"?u(o):u}function my(o){var u=wn();return AS(u,_t,o)}function AS(o,u,h){var y=o.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=h;var w=o.baseQueue,T=y.pending;if(T!==null){if(w!==null){var N=w.next;w.next=T.next,T.next=N}u.baseQueue=w=T,y.pending=null}if(T=o.baseState,w===null)o.memoizedState=T;else{u=w.next;var F=N=null,q=null,Z=u,oe=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(rt&ue)===ue:(ho&ue)===ue){var ee=Z.revertLane;if(ee===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===cf&&(oe=!0);else if((ho&ee)===ee){Z=Z.next,ee===cf&&(oe=!0);continue}else ue={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(F=q=ue,N=T):q=q.next=ue,Ye.lanes|=ee,Pl|=ee;ue=Z.action,Nu&&h(T,ue),T=Z.hasEagerState?Z.eagerState:h(T,ue)}else ee={lane:ue,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(F=q=ee,N=T):q=q.next=ee,Ye.lanes|=ue,Pl|=ue;Z=Z.next}while(Z!==null&&Z!==u);if(q===null?N=T:q.next=F,!ji(T,o.memoizedState)&&(Mn=!0,oe&&(h=uf,h!==null)))throw h;o.memoizedState=T,o.baseState=N,o.baseQueue=q,y.lastRenderedState=T}return w===null&&(y.lanes=0),[o.memoizedState,y.dispatch]}function CS(o){var u=wn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var y=h.dispatch,w=h.pending,T=u.memoizedState;if(w!==null){h.pending=null;var N=w=w.next;do T=o(T,N.action),N=N.next;while(N!==w);ji(T,u.memoizedState)||(Mn=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),h.lastRenderedState=T}return[T,y]}function eI(o,u,h){var y=Ye,w=wn(),T=lt;if(T){if(h===void 0)throw Error(r(407));h=h()}else h=u();var N=!ji((_t||w).memoizedState,h);if(N&&(w.memoizedState=h,Mn=!0),w=w.queue,MS(rI.bind(null,y,w,o),[o]),w.getSnapshot!==u||N||On!==null&&On.memoizedState.tag&1){if(y.flags|=2048,gf(9,{destroy:void 0},nI.bind(null,y,w,h,u),null),Mt===null)throw Error(r(349));T||(ho&127)!==0||tI(y,u,h)}return h}function tI(o,u,h){o.flags|=16384,o={getSnapshot:u,value:h},u=Ye.updateQueue,u===null?(u=hy(),Ye.updateQueue=u,u.stores=[o]):(h=u.stores,h===null?u.stores=[o]:h.push(o))}function nI(o,u,h,y){u.value=h,u.getSnapshot=y,iI(u)&&sI(o)}function rI(o,u,h){return h(function(){iI(u)&&sI(o)})}function iI(o){var u=o.getSnapshot;o=o.value;try{var h=u();return!ji(o,h)}catch{return!0}}function sI(o){var u=xu(o,2);u!==null&&mi(u,o,2)}function NS(o){var u=Yr();if(typeof o=="function"){var h=o;if(o=h(),Nu){oi(!0);try{h()}finally{oi(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:o},u}function aI(o,u,h,y){return o.baseState=h,AS(o,_t,typeof y=="function"?y:po)}function OX(o,u,h,y,w){if(vy(o))throw Error(r(485));if(o=u.action,o!==null){var T={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){T.listeners.push(N)}};W.T!==null?h(!0):T.isTransition=!1,y(T),h=u.pending,h===null?(T.next=u.pending=T,oI(u,T)):(T.next=h.next,u.pending=h.next=T)}}function oI(o,u){var h=u.action,y=u.payload,w=o.state;if(u.isTransition){var T=W.T,N={};W.T=N;try{var F=h(w,y),q=W.S;q!==null&&q(N,F),lI(o,u,F)}catch(Z){OS(o,u,Z)}finally{T!==null&&N.types!==null&&(T.types=N.types),W.T=T}}else try{T=h(w,y),lI(o,u,T)}catch(Z){OS(o,u,Z)}}function lI(o,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(y){cI(o,u,y)},function(y){return OS(o,u,y)}):cI(o,u,h)}function cI(o,u,h){u.status="fulfilled",u.value=h,uI(u),o.state=h,u=o.pending,u!==null&&(h=u.next,h===u?o.pending=null:(h=h.next,u.next=h,oI(o,h)))}function OS(o,u,h){var y=o.pending;if(o.pending=null,y!==null){y=y.next;do u.status="rejected",u.reason=h,uI(u),u=u.next;while(u!==y)}o.action=null}function uI(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function dI(o,u){return u}function fI(o,u){if(lt){var h=Mt.formState;if(h!==null){e:{var y=Ye;if(lt){if(Ft){t:{for(var w=Ft,T=is;w.nodeType!==8;){if(!T){w=null;break t}if(w=as(w.nextSibling),w===null){w=null;break t}}T=w.data,w=T==="F!"||T==="F"?w:null}if(w){Ft=as(w.nextSibling),y=w.data==="F!";break e}}_l(y)}y=!1}y&&(u=h[0])}}return h=Yr(),h.memoizedState=h.baseState=u,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dI,lastRenderedState:u},h.queue=y,h=MI.bind(null,Ye,y),y.dispatch=h,y=NS(!1),T=RS.bind(null,Ye,!1,y.queue),y=Yr(),w={state:u,dispatch:null,action:o,pending:null},y.queue=w,h=OX.bind(null,Ye,w,T,h),w.dispatch=h,y.memoizedState=o,[u,h,!1]}function hI(o){var u=wn();return pI(u,_t,o)}function pI(o,u,h){if(u=AS(o,u,dI)[0],o=my(po)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var y=Mp(u)}catch(N){throw N===df?sy:N}else y=u;u=wn();var w=u.queue,T=w.dispatch;return h!==u.memoizedState&&(Ye.flags|=2048,gf(9,{destroy:void 0},MX.bind(null,w,h),null)),[y,T,o]}function MX(o,u){o.action=u}function mI(o){var u=wn(),h=_t;if(h!==null)return pI(u,h,o);wn(),u=u.memoizedState,h=wn();var y=h.queue.dispatch;return h.memoizedState=o,[u,y,!1]}function gf(o,u,h,y){return o={tag:o,create:h,deps:y,inst:u,next:null},u=Ye.updateQueue,u===null&&(u=hy(),Ye.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=o.next=o:(y=h.next,h.next=o,o.next=y,u.lastEffect=o),o}function gI(){return wn().memoizedState}function gy(o,u,h,y){var w=Yr();Ye.flags|=o,w.memoizedState=gf(1|u,{destroy:void 0},h,y===void 0?null:y)}function yy(o,u,h,y){var w=wn();y=y===void 0?null:y;var T=w.memoizedState.inst;_t!==null&&y!==null&&wS(y,_t.memoizedState.deps)?w.memoizedState=gf(u,T,h,y):(Ye.flags|=o,w.memoizedState=gf(1|u,T,h,y))}function yI(o,u){gy(8390656,8,o,u)}function MS(o,u){yy(2048,8,o,u)}function jX(o){Ye.flags|=4;var u=Ye.updateQueue;if(u===null)u=hy(),Ye.updateQueue=u,u.events=[o];else{var h=u.events;h===null?u.events=[o]:h.push(o)}}function vI(o){var u=wn().memoizedState;return jX({ref:u,nextImpl:o}),function(){if((gt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function bI(o,u){return yy(4,2,o,u)}function xI(o,u){return yy(4,4,o,u)}function wI(o,u){if(typeof u=="function"){o=o();var h=u(o);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function SI(o,u,h){h=h!=null?h.concat([o]):null,yy(4,4,wI.bind(null,u,o),h)}function jS(){}function TI(o,u){var h=wn();u=u===void 0?null:u;var y=h.memoizedState;return u!==null&&wS(u,y[1])?y[0]:(h.memoizedState=[o,u],o)}function EI(o,u){var h=wn();u=u===void 0?null:u;var y=h.memoizedState;if(u!==null&&wS(u,y[1]))return y[0];if(y=o(),Nu){oi(!0);try{o()}finally{oi(!1)}}return h.memoizedState=[y,u],y}function IS(o,u,h){return h===void 0||(ho&1073741824)!==0&&(rt&261930)===0?o.memoizedState=u:(o.memoizedState=h,o=kD(),Ye.lanes|=o,Pl|=o,h)}function kI(o,u,h,y){return ji(h,u)?h:hf.current!==null?(o=IS(o,h,y),ji(o,u)||(Mn=!0),o):(ho&42)===0||(ho&1073741824)!==0&&(rt&261930)===0?(Mn=!0,o.memoizedState=h):(o=kD(),Ye.lanes|=o,Pl|=o,u)}function _I(o,u,h,y,w){var T=Y.p;Y.p=T!==0&&8>T?T:8;var N=W.T,F={};W.T=F,RS(o,!1,u,h);try{var q=w(),Z=W.S;if(Z!==null&&Z(F,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var oe=AX(q,y);jp(o,u,oe,Vi(o))}else jp(o,u,y,Vi(o))}catch(ue){jp(o,u,{then:function(){},status:"rejected",reason:ue},Vi())}finally{Y.p=T,N!==null&&F.types!==null&&(N.types=F.types),W.T=N}}function IX(){}function DS(o,u,h,y){if(o.tag!==5)throw Error(r(476));var w=AI(o).queue;_I(o,w,u,le,h===null?IX:function(){return CI(o),h(y)})}function AI(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:le},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:h},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function CI(o){var u=AI(o);u.next===null&&(u=o.alternate.memoizedState),jp(o,u.next.queue,{},Vi())}function PS(){return mr(Yp)}function NI(){return wn().memoizedState}function OI(){return wn().memoizedState}function DX(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var h=Vi();o=Nl(h);var y=Ol(u,o,h);y!==null&&(mi(y,u,h),Ap(y,u,h)),u={cache:uS()},o.payload=u;return}u=u.return}}function PX(o,u,h){var y=Vi();h={lane:y,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},vy(o)?jI(u,h):(h=Z1(o,u,h,y),h!==null&&(mi(h,o,y),II(h,u,y)))}function MI(o,u,h){var y=Vi();jp(o,u,h,y)}function jp(o,u,h,y){var w={lane:y,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(vy(o))jI(u,w);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var N=u.lastRenderedState,F=T(N,h);if(w.hasEagerState=!0,w.eagerState=F,ji(F,N))return J0(o,u,w,0),Mt===null&&Q0(),!1}catch{}finally{}if(h=Z1(o,u,w,y),h!==null)return mi(h,o,y),II(h,u,y),!0}return!1}function RS(o,u,h,y){if(y={lane:2,revertLane:pT(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},vy(o)){if(u)throw Error(r(479))}else u=Z1(o,h,y,2),u!==null&&mi(u,o,2)}function vy(o){var u=o.alternate;return o===Ye||u!==null&&u===Ye}function jI(o,u){pf=dy=!0;var h=o.pending;h===null?u.next=u:(u.next=h.next,h.next=u),o.pending=u}function II(o,u,h){if((h&4194048)!==0){var y=u.lanes;y&=o.pendingLanes,h|=y,u.lanes=h,io(o,h)}}var Ip={readContext:mr,use:py,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn};Ip.useEffectEvent=dn;var DI={readContext:mr,use:py,useCallback:function(o,u){return Yr().memoizedState=[o,u===void 0?null:u],o},useContext:mr,useEffect:yI,useImperativeHandle:function(o,u,h){h=h!=null?h.concat([o]):null,gy(4194308,4,wI.bind(null,u,o),h)},useLayoutEffect:function(o,u){return gy(4194308,4,o,u)},useInsertionEffect:function(o,u){gy(4,2,o,u)},useMemo:function(o,u){var h=Yr();u=u===void 0?null:u;var y=o();if(Nu){oi(!0);try{o()}finally{oi(!1)}}return h.memoizedState=[y,u],y},useReducer:function(o,u,h){var y=Yr();if(h!==void 0){var w=h(u);if(Nu){oi(!0);try{h(u)}finally{oi(!1)}}}else w=u;return y.memoizedState=y.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},y.queue=o,o=o.dispatch=PX.bind(null,Ye,o),[y.memoizedState,o]},useRef:function(o){var u=Yr();return o={current:o},u.memoizedState=o},useState:function(o){o=NS(o);var u=o.queue,h=MI.bind(null,Ye,u);return u.dispatch=h,[o.memoizedState,h]},useDebugValue:jS,useDeferredValue:function(o,u){var h=Yr();return IS(h,o,u)},useTransition:function(){var o=NS(!1);return o=_I.bind(null,Ye,o.queue,!0,!1),Yr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,h){var y=Ye,w=Yr();if(lt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),Mt===null)throw Error(r(349));(rt&127)!==0||tI(y,u,h)}w.memoizedState=h;var T={value:h,getSnapshot:u};return w.queue=T,yI(rI.bind(null,y,T,o),[o]),y.flags|=2048,gf(9,{destroy:void 0},nI.bind(null,y,T,h,u),null),h},useId:function(){var o=Yr(),u=Mt.identifierPrefix;if(lt){var h=_a,y=ka;h=(y&~(1<<32-Kt(y)-1)).toString(32)+h,u="_"+u+"R_"+h,h=fy++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=CX++,u="_"+u+"r_"+h.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:PS,useFormState:fI,useActionState:fI,useOptimistic:function(o){var u=Yr();u.memoizedState=u.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=RS.bind(null,Ye,!0,h),h.dispatch=u,[o,u]},useMemoCache:_S,useCacheRefresh:function(){return Yr().memoizedState=DX.bind(null,Ye)},useEffectEvent:function(o){var u=Yr(),h={impl:o};return u.memoizedState=h,function(){if((gt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},LS={readContext:mr,use:py,useCallback:TI,useContext:mr,useEffect:MS,useImperativeHandle:SI,useInsertionEffect:bI,useLayoutEffect:xI,useMemo:EI,useReducer:my,useRef:gI,useState:function(){return my(po)},useDebugValue:jS,useDeferredValue:function(o,u){var h=wn();return kI(h,_t.memoizedState,o,u)},useTransition:function(){var o=my(po)[0],u=wn().memoizedState;return[typeof o=="boolean"?o:Mp(o),u]},useSyncExternalStore:eI,useId:NI,useHostTransitionStatus:PS,useFormState:hI,useActionState:hI,useOptimistic:function(o,u){var h=wn();return aI(h,_t,o,u)},useMemoCache:_S,useCacheRefresh:OI};LS.useEffectEvent=vI;var PI={readContext:mr,use:py,useCallback:TI,useContext:mr,useEffect:MS,useImperativeHandle:SI,useInsertionEffect:bI,useLayoutEffect:xI,useMemo:EI,useReducer:CS,useRef:gI,useState:function(){return CS(po)},useDebugValue:jS,useDeferredValue:function(o,u){var h=wn();return _t===null?IS(h,o,u):kI(h,_t.memoizedState,o,u)},useTransition:function(){var o=CS(po)[0],u=wn().memoizedState;return[typeof o=="boolean"?o:Mp(o),u]},useSyncExternalStore:eI,useId:NI,useHostTransitionStatus:PS,useFormState:mI,useActionState:mI,useOptimistic:function(o,u){var h=wn();return _t!==null?aI(h,_t,o,u):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:_S,useCacheRefresh:OI};PI.useEffectEvent=vI;function VS(o,u,h,y){u=o.memoizedState,h=h(y,u),h=h==null?u:p({},u,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var BS={enqueueSetState:function(o,u,h){o=o._reactInternals;var y=Vi(),w=Nl(y);w.payload=u,h!=null&&(w.callback=h),u=Ol(o,w,y),u!==null&&(mi(u,o,y),Ap(u,o,y))},enqueueReplaceState:function(o,u,h){o=o._reactInternals;var y=Vi(),w=Nl(y);w.tag=1,w.payload=u,h!=null&&(w.callback=h),u=Ol(o,w,y),u!==null&&(mi(u,o,y),Ap(u,o,y))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var h=Vi(),y=Nl(h);y.tag=2,u!=null&&(y.callback=u),u=Ol(o,y,h),u!==null&&(mi(u,o,h),Ap(u,o,h))}};function RI(o,u,h,y,w,T,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,T,N):u.prototype&&u.prototype.isPureReactComponent?!bp(h,y)||!bp(w,T):!0}function LI(o,u,h,y){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,y),u.state!==o&&BS.enqueueReplaceState(u,u.state,null)}function Ou(o,u){var h=u;if("ref"in u){h={};for(var y in u)y!=="ref"&&(h[y]=u[y])}if(o=o.defaultProps){h===u&&(h=p({},h));for(var w in o)h[w]===void 0&&(h[w]=o[w])}return h}function VI(o){X0(o)}function BI(o){console.error(o)}function zI(o){X0(o)}function by(o,u){try{var h=o.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(y){setTimeout(function(){throw y})}}function UI(o,u,h){try{var y=o.onCaughtError;y(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function zS(o,u,h){return h=Nl(h),h.tag=3,h.payload={element:null},h.callback=function(){by(o,u)},h}function FI(o){return o=Nl(o),o.tag=3,o}function $I(o,u,h,y){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var T=y.value;o.payload=function(){return w(T)},o.callback=function(){UI(u,h,y)}}var N=h.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(o.callback=function(){UI(u,h,y),typeof w!="function"&&(Rl===null?Rl=new Set([this]):Rl.add(this));var F=y.stack;this.componentDidCatch(y.value,{componentStack:F!==null?F:""})})}function RX(o,u,h,y,w){if(h.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(u=h.alternate,u!==null&&lf(u,h,w,!0),h=Di.current,h!==null){switch(h.tag){case 31:case 13:return ss===null?My():h.alternate===null&&fn===0&&(fn=3),h.flags&=-257,h.flags|=65536,h.lanes=w,y===ay?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([y]):u.add(y),dT(o,y,w)),!1;case 22:return h.flags|=65536,y===ay?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([y])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([y]):h.add(y)),dT(o,y,w)),!1}throw Error(r(435,h.tag))}return dT(o,y,w),My(),!1}if(lt)return u=Di.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=w,y!==sS&&(o=Error(r(422),{cause:y}),Sp(ts(o,h)))):(y!==sS&&(u=Error(r(423),{cause:y}),Sp(ts(u,h))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,y=ts(y,h),w=zS(o.stateNode,y,w),gS(o,w),fn!==4&&(fn=2)),!1;var T=Error(r(520),{cause:y});if(T=ts(T,h),Up===null?Up=[T]:Up.push(T),fn!==4&&(fn=2),u===null)return!0;y=ts(y,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,o=w&-w,h.lanes|=o,o=zS(h.stateNode,y,o),gS(h,o),!1;case 1:if(u=h.type,T=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Rl===null||!Rl.has(T))))return h.flags|=65536,w&=-w,h.lanes|=w,w=FI(w),$I(w,o,h,y),gS(h,w),!1}h=h.return}while(h!==null);return!1}var US=Error(r(461)),Mn=!1;function gr(o,u,h,y){u.child=o===null?Gj(u,null,h,y):Cu(u,o.child,h,y)}function HI(o,u,h,y,w){h=h.render;var T=u.ref;if("ref"in y){var N={};for(var F in y)F!=="ref"&&(N[F]=y[F])}else N=y;return Eu(u),y=SS(o,u,h,N,T,w),F=TS(),o!==null&&!Mn?(ES(o,u,w),mo(o,u,w)):(lt&&F&&rS(u),u.flags|=1,gr(o,u,y,w),u.child)}function qI(o,u,h,y,w){if(o===null){var T=h.type;return typeof T=="function"&&!eS(T)&&T.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=T,WI(o,u,T,y,w)):(o=ey(h.type,null,y,u,u.mode,w),o.ref=u.ref,o.return=u,u.child=o)}if(T=o.child,!YS(o,w)){var N=T.memoizedProps;if(h=h.compare,h=h!==null?h:bp,h(N,y)&&o.ref===u.ref)return mo(o,u,w)}return u.flags|=1,o=lo(T,y),o.ref=u.ref,o.return=u,u.child=o}function WI(o,u,h,y,w){if(o!==null){var T=o.memoizedProps;if(bp(T,y)&&o.ref===u.ref)if(Mn=!1,u.pendingProps=y=T,YS(o,w))(o.flags&131072)!==0&&(Mn=!0);else return u.lanes=o.lanes,mo(o,u,w)}return FS(o,u,h,y,w)}function GI(o,u,h,y){var w=y.children,T=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((u.flags&128)!==0){if(T=T!==null?T.baseLanes|h:h,o!==null){for(y=u.child=o.child,w=0;y!==null;)w=w|y.lanes|y.childLanes,y=y.sibling;y=w&~T}else y=0,u.child=null;return KI(o,u,T,h,y)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&iy(u,T!==null?T.cachePool:null),T!==null?Xj(u,T):vS(),Qj(u);else return y=u.lanes=536870912,KI(o,u,T!==null?T.baseLanes|h:h,h,y)}else T!==null?(iy(u,T.cachePool),Xj(u,T),jl(),u.memoizedState=null):(o!==null&&iy(u,null),vS(),jl());return gr(o,u,w,h),u.child}function Dp(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function KI(o,u,h,y,w){var T=fS();return T=T===null?null:{parent:Nn._currentValue,pool:T},u.memoizedState={baseLanes:h,cachePool:T},o!==null&&iy(u,null),vS(),Qj(u),o!==null&&lf(o,u,y,!0),u.childLanes=w,null}function xy(o,u){return u=Sy({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function YI(o,u,h){return Cu(u,o.child,null,h),o=xy(u,u.pendingProps),o.flags|=2,Pi(u),u.memoizedState=null,o}function LX(o,u,h){var y=u.pendingProps,w=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(lt){if(y.mode==="hidden")return o=xy(u,y),u.lanes=536870912,Dp(null,o);if(xS(u),(o=Ft)?(o=oP(o,is),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:El!==null?{id:ka,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},h=jj(o),h.return=u,u.child=h,pr=u,Ft=null)):o=null,o===null)throw _l(u);return u.lanes=536870912,null}return xy(u,y)}var T=o.memoizedState;if(T!==null){var N=T.dehydrated;if(xS(u),w)if(u.flags&256)u.flags&=-257,u=YI(o,u,h);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(r(558));else if(Mn||lf(o,u,h,!1),w=(h&o.childLanes)!==0,Mn||w){if(y=Mt,y!==null&&(N=ha(y,h),N!==0&&N!==T.retryLane))throw T.retryLane=N,xu(o,N),mi(y,o,N),US;My(),u=YI(o,u,h)}else o=T.treeContext,Ft=as(N.nextSibling),pr=u,lt=!0,kl=null,is=!1,o!==null&&Pj(u,o),u=xy(u,y),u.flags|=4096;return u}return o=lo(o.child,{mode:y.mode,children:y.children}),o.ref=u.ref,u.child=o,o.return=u,o}function wy(o,u){var h=u.ref;if(h===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(u.flags|=4194816)}}function FS(o,u,h,y,w){return Eu(u),h=SS(o,u,h,y,void 0,w),y=TS(),o!==null&&!Mn?(ES(o,u,w),mo(o,u,w)):(lt&&y&&rS(u),u.flags|=1,gr(o,u,h,w),u.child)}function XI(o,u,h,y,w,T){return Eu(u),u.updateQueue=null,h=Zj(u,y,h,w),Jj(o),y=TS(),o!==null&&!Mn?(ES(o,u,T),mo(o,u,T)):(lt&&y&&rS(u),u.flags|=1,gr(o,u,h,T),u.child)}function QI(o,u,h,y,w){if(Eu(u),u.stateNode===null){var T=rf,N=h.contextType;typeof N=="object"&&N!==null&&(T=mr(N)),T=new h(y,T),u.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=BS,u.stateNode=T,T._reactInternals=u,T=u.stateNode,T.props=y,T.state=u.memoizedState,T.refs={},pS(u),N=h.contextType,T.context=typeof N=="object"&&N!==null?mr(N):rf,T.state=u.memoizedState,N=h.getDerivedStateFromProps,typeof N=="function"&&(VS(u,h,N,y),T.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(N=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),N!==T.state&&BS.enqueueReplaceState(T,T.state,null),Np(u,y,T,w),Cp(),T.state=u.memoizedState),typeof T.componentDidMount=="function"&&(u.flags|=4194308),y=!0}else if(o===null){T=u.stateNode;var F=u.memoizedProps,q=Ou(h,F);T.props=q;var Z=T.context,oe=h.contextType;N=rf,typeof oe=="object"&&oe!==null&&(N=mr(oe));var ue=h.getDerivedStateFromProps;oe=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function",F=u.pendingProps!==F,oe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(F||Z!==N)&&LI(u,T,y,N),Cl=!1;var ee=u.memoizedState;T.state=ee,Np(u,y,T,w),Cp(),Z=u.memoizedState,F||ee!==Z||Cl?(typeof ue=="function"&&(VS(u,h,ue,y),Z=u.memoizedState),(q=Cl||RI(u,h,q,y,ee,Z,N))?(oe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(u.flags|=4194308)):(typeof T.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=Z),T.props=y,T.state=Z,T.context=N,y=q):(typeof T.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{T=u.stateNode,mS(o,u),N=u.memoizedProps,oe=Ou(h,N),T.props=oe,ue=u.pendingProps,ee=T.context,Z=h.contextType,q=rf,typeof Z=="object"&&Z!==null&&(q=mr(Z)),F=h.getDerivedStateFromProps,(Z=typeof F=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==ue||ee!==q)&&LI(u,T,y,q),Cl=!1,ee=u.memoizedState,T.state=ee,Np(u,y,T,w),Cp();var re=u.memoizedState;N!==ue||ee!==re||Cl||o!==null&&o.dependencies!==null&&ny(o.dependencies)?(typeof F=="function"&&(VS(u,h,F,y),re=u.memoizedState),(oe=Cl||RI(u,h,oe,y,ee,re,q)||o!==null&&o.dependencies!==null&&ny(o.dependencies))?(Z||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(y,re,q),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(y,re,q)),typeof T.componentDidUpdate=="function"&&(u.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof T.componentDidUpdate!="function"||N===o.memoizedProps&&ee===o.memoizedState||(u.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&ee===o.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=re),T.props=y,T.state=re,T.context=q,y=oe):(typeof T.componentDidUpdate!="function"||N===o.memoizedProps&&ee===o.memoizedState||(u.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&ee===o.memoizedState||(u.flags|=1024),y=!1)}return T=y,wy(o,u),y=(u.flags&128)!==0,T||y?(T=u.stateNode,h=y&&typeof h.getDerivedStateFromError!="function"?null:T.render(),u.flags|=1,o!==null&&y?(u.child=Cu(u,o.child,null,w),u.child=Cu(u,null,h,w)):gr(o,u,h,w),u.memoizedState=T.state,o=u.child):o=mo(o,u,w),o}function JI(o,u,h,y){return Su(),u.flags|=256,gr(o,u,h,y),u.child}var $S={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function HS(o){return{baseLanes:o,cachePool:Uj()}}function qS(o,u,h){return o=o!==null?o.childLanes&~h:0,u&&(o|=Li),o}function ZI(o,u,h){var y=u.pendingProps,w=!1,T=(u.flags&128)!==0,N;if((N=T)||(N=o!==null&&o.memoizedState===null?!1:(xn.current&2)!==0),N&&(w=!0,u.flags&=-129),N=(u.flags&32)!==0,u.flags&=-33,o===null){if(lt){if(w?Ml(u):jl(),(o=Ft)?(o=oP(o,is),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:El!==null?{id:ka,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},h=jj(o),h.return=u,u.child=h,pr=u,Ft=null)):o=null,o===null)throw _l(u);return AT(o)?u.lanes=32:u.lanes=536870912,null}var F=y.children;return y=y.fallback,w?(jl(),w=u.mode,F=Sy({mode:"hidden",children:F},w),y=wu(y,w,h,null),F.return=u,y.return=u,F.sibling=y,u.child=F,y=u.child,y.memoizedState=HS(h),y.childLanes=qS(o,N,h),u.memoizedState=$S,Dp(null,y)):(Ml(u),WS(u,F))}var q=o.memoizedState;if(q!==null&&(F=q.dehydrated,F!==null)){if(T)u.flags&256?(Ml(u),u.flags&=-257,u=GS(o,u,h)):u.memoizedState!==null?(jl(),u.child=o.child,u.flags|=128,u=null):(jl(),F=y.fallback,w=u.mode,y=Sy({mode:"visible",children:y.children},w),F=wu(F,w,h,null),F.flags|=2,y.return=u,F.return=u,y.sibling=F,u.child=y,Cu(u,o.child,null,h),y=u.child,y.memoizedState=HS(h),y.childLanes=qS(o,N,h),u.memoizedState=$S,u=Dp(null,y));else if(Ml(u),AT(F)){if(N=F.nextSibling&&F.nextSibling.dataset,N)var Z=N.dgst;N=Z,y=Error(r(419)),y.stack="",y.digest=N,Sp({value:y,source:null,stack:null}),u=GS(o,u,h)}else if(Mn||lf(o,u,h,!1),N=(h&o.childLanes)!==0,Mn||N){if(N=Mt,N!==null&&(y=ha(N,h),y!==0&&y!==q.retryLane))throw q.retryLane=y,xu(o,y),mi(N,o,y),US;_T(F)||My(),u=GS(o,u,h)}else _T(F)?(u.flags|=192,u.child=o.child,u=null):(o=q.treeContext,Ft=as(F.nextSibling),pr=u,lt=!0,kl=null,is=!1,o!==null&&Pj(u,o),u=WS(u,y.children),u.flags|=4096);return u}return w?(jl(),F=y.fallback,w=u.mode,q=o.child,Z=q.sibling,y=lo(q,{mode:"hidden",children:y.children}),y.subtreeFlags=q.subtreeFlags&65011712,Z!==null?F=lo(Z,F):(F=wu(F,w,h,null),F.flags|=2),F.return=u,y.return=u,y.sibling=F,u.child=y,Dp(null,y),y=u.child,F=o.child.memoizedState,F===null?F=HS(h):(w=F.cachePool,w!==null?(q=Nn._currentValue,w=w.parent!==q?{parent:q,pool:q}:w):w=Uj(),F={baseLanes:F.baseLanes|h,cachePool:w}),y.memoizedState=F,y.childLanes=qS(o,N,h),u.memoizedState=$S,Dp(o.child,y)):(Ml(u),h=o.child,o=h.sibling,h=lo(h,{mode:"visible",children:y.children}),h.return=u,h.sibling=null,o!==null&&(N=u.deletions,N===null?(u.deletions=[o],u.flags|=16):N.push(o)),u.child=h,u.memoizedState=null,h)}function WS(o,u){return u=Sy({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Sy(o,u){return o=Ii(22,o,null,u),o.lanes=0,o}function GS(o,u,h){return Cu(u,o.child,null,h),o=WS(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function eD(o,u,h){o.lanes|=u;var y=o.alternate;y!==null&&(y.lanes|=u),lS(o.return,u,h)}function KS(o,u,h,y,w,T){var N=o.memoizedState;N===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:h,tailMode:w,treeForkCount:T}:(N.isBackwards=u,N.rendering=null,N.renderingStartTime=0,N.last=y,N.tail=h,N.tailMode=w,N.treeForkCount=T)}function tD(o,u,h){var y=u.pendingProps,w=y.revealOrder,T=y.tail;y=y.children;var N=xn.current,F=(N&2)!==0;if(F?(N=N&1|2,u.flags|=128):N&=1,ye(xn,N),gr(o,u,y,h),y=lt?wp:0,!F&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&eD(o,h,u);else if(o.tag===19)eD(o,h,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(w){case"forwards":for(h=u.child,w=null;h!==null;)o=h.alternate,o!==null&&uy(o)===null&&(w=h),h=h.sibling;h=w,h===null?(w=u.child,u.child=null):(w=h.sibling,h.sibling=null),KS(u,!1,w,h,T,y);break;case"backwards":case"unstable_legacy-backwards":for(h=null,w=u.child,u.child=null;w!==null;){if(o=w.alternate,o!==null&&uy(o)===null){u.child=w;break}o=w.sibling,w.sibling=h,h=w,w=o}KS(u,!0,h,null,T,y);break;case"together":KS(u,!1,null,null,void 0,y);break;default:u.memoizedState=null}return u.child}function mo(o,u,h){if(o!==null&&(u.dependencies=o.dependencies),Pl|=u.lanes,(h&u.childLanes)===0)if(o!==null){if(lf(o,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,h=lo(o,o.pendingProps),u.child=h,h.return=u;o.sibling!==null;)o=o.sibling,h=h.sibling=lo(o,o.pendingProps),h.return=u;h.sibling=null}return u.child}function YS(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&ny(o)))}function VX(o,u,h){switch(u.tag){case 3:et(u,u.stateNode.containerInfo),Al(u,Nn,o.memoizedState.cache),Su();break;case 27:case 5:Ce(u);break;case 4:et(u,u.stateNode.containerInfo);break;case 10:Al(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,xS(u),null;break;case 13:var y=u.memoizedState;if(y!==null)return y.dehydrated!==null?(Ml(u),u.flags|=128,null):(h&u.child.childLanes)!==0?ZI(o,u,h):(Ml(u),o=mo(o,u,h),o!==null?o.sibling:null);Ml(u);break;case 19:var w=(o.flags&128)!==0;if(y=(h&u.childLanes)!==0,y||(lf(o,u,h,!1),y=(h&u.childLanes)!==0),w){if(y)return tD(o,u,h);u.flags|=128}if(w=u.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ye(xn,xn.current),y)break;return null;case 22:return u.lanes=0,GI(o,u,h,u.pendingProps);case 24:Al(u,Nn,o.memoizedState.cache)}return mo(o,u,h)}function nD(o,u,h){if(o!==null)if(o.memoizedProps!==u.pendingProps)Mn=!0;else{if(!YS(o,h)&&(u.flags&128)===0)return Mn=!1,VX(o,u,h);Mn=(o.flags&131072)!==0}else Mn=!1,lt&&(u.flags&1048576)!==0&&Dj(u,wp,u.index);switch(u.lanes=0,u.tag){case 16:e:{var y=u.pendingProps;if(o=_u(u.elementType),u.type=o,typeof o=="function")eS(o)?(y=Ou(o,y),u.tag=1,u=QI(null,u,o,y,h)):(u.tag=0,u=FS(null,u,o,y,h));else{if(o!=null){var w=o.$$typeof;if(w===z){u.tag=11,u=HI(null,u,o,y,h);break e}else if(w===I){u.tag=14,u=qI(null,u,o,y,h);break e}}throw u=X(o)||o,Error(r(306,u,""))}}return u;case 0:return FS(o,u,u.type,u.pendingProps,h);case 1:return y=u.type,w=Ou(y,u.pendingProps),QI(o,u,y,w,h);case 3:e:{if(et(u,u.stateNode.containerInfo),o===null)throw Error(r(387));y=u.pendingProps;var T=u.memoizedState;w=T.element,mS(o,u),Np(u,y,null,h);var N=u.memoizedState;if(y=N.cache,Al(u,Nn,y),y!==T.cache&&cS(u,[Nn],h,!0),Cp(),y=N.element,T.isDehydrated)if(T={element:y,isDehydrated:!1,cache:N.cache},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){u=JI(o,u,y,h);break e}else if(y!==w){w=ts(Error(r(424)),u),Sp(w),u=JI(o,u,y,h);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Ft=as(o.firstChild),pr=u,lt=!0,kl=null,is=!0,h=Gj(u,null,y,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Su(),y===w){u=mo(o,u,h);break e}gr(o,u,y,h)}u=u.child}return u;case 26:return wy(o,u),o===null?(h=hP(u.type,null,u.pendingProps,null))?u.memoizedState=h:lt||(h=u.type,o=u.pendingProps,y=Vy(pe.current).createElement(h),y[sn]=u,y[_n]=o,yr(y,h,o),An(y),u.stateNode=y):u.memoizedState=hP(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Ce(u),o===null&&lt&&(y=u.stateNode=uP(u.type,u.pendingProps,pe.current),pr=u,is=!0,w=Ft,zl(u.type)?(CT=w,Ft=as(y.firstChild)):Ft=w),gr(o,u,u.pendingProps.children,h),wy(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&lt&&((w=y=Ft)&&(y=pQ(y,u.type,u.pendingProps,is),y!==null?(u.stateNode=y,pr=u,Ft=as(y.firstChild),is=!1,w=!0):w=!1),w||_l(u)),Ce(u),w=u.type,T=u.pendingProps,N=o!==null?o.memoizedProps:null,y=T.children,TT(w,T)?y=null:N!==null&&TT(w,N)&&(u.flags|=32),u.memoizedState!==null&&(w=SS(o,u,NX,null,null,h),Yp._currentValue=w),wy(o,u),gr(o,u,y,h),u.child;case 6:return o===null&&lt&&((o=h=Ft)&&(h=mQ(h,u.pendingProps,is),h!==null?(u.stateNode=h,pr=u,Ft=null,o=!0):o=!1),o||_l(u)),null;case 13:return ZI(o,u,h);case 4:return et(u,u.stateNode.containerInfo),y=u.pendingProps,o===null?u.child=Cu(u,null,y,h):gr(o,u,y,h),u.child;case 11:return HI(o,u,u.type,u.pendingProps,h);case 7:return gr(o,u,u.pendingProps,h),u.child;case 8:return gr(o,u,u.pendingProps.children,h),u.child;case 12:return gr(o,u,u.pendingProps.children,h),u.child;case 10:return y=u.pendingProps,Al(u,u.type,y.value),gr(o,u,y.children,h),u.child;case 9:return w=u.type._context,y=u.pendingProps.children,Eu(u),w=mr(w),y=y(w),u.flags|=1,gr(o,u,y,h),u.child;case 14:return qI(o,u,u.type,u.pendingProps,h);case 15:return WI(o,u,u.type,u.pendingProps,h);case 19:return tD(o,u,h);case 31:return LX(o,u,h);case 22:return GI(o,u,h,u.pendingProps);case 24:return Eu(u),y=mr(Nn),o===null?(w=fS(),w===null&&(w=Mt,T=uS(),w.pooledCache=T,T.refCount++,T!==null&&(w.pooledCacheLanes|=h),w=T),u.memoizedState={parent:y,cache:w},pS(u),Al(u,Nn,w)):((o.lanes&h)!==0&&(mS(o,u),Np(u,null,null,h),Cp()),w=o.memoizedState,T=u.memoizedState,w.parent!==y?(w={parent:y,cache:y},u.memoizedState=w,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=w),Al(u,Nn,y)):(y=T.cache,Al(u,Nn,y),y!==w.cache&&cS(u,[Nn],h,!0))),gr(o,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function go(o){o.flags|=4}function XS(o,u,h,y,w){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(w&335544128)===w)if(o.stateNode.complete)o.flags|=8192;else if(ND())o.flags|=8192;else throw Au=ay,hS}else o.flags&=-16777217}function rD(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!vP(u))if(ND())o.flags|=8192;else throw Au=ay,hS}function Ty(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Wr():536870912,o.lanes|=u,xf|=u)}function Pp(o,u){if(!lt)switch(o.tailMode){case"hidden":u=o.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function $t(o){var u=o.alternate!==null&&o.alternate.child===o.child,h=0,y=0;if(u)for(var w=o.child;w!==null;)h|=w.lanes|w.childLanes,y|=w.subtreeFlags&65011712,y|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)h|=w.lanes|w.childLanes,y|=w.subtreeFlags,y|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=y,o.childLanes=h,u}function BX(o,u,h){var y=u.pendingProps;switch(iS(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(u),null;case 1:return $t(u),null;case 3:return h=u.stateNode,y=null,o!==null&&(y=o.memoizedState.cache),u.memoizedState.cache!==y&&(u.flags|=2048),fo(Nn),ie(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(of(u)?go(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,aS())),$t(u),null;case 26:var w=u.type,T=u.memoizedState;return o===null?(go(u),T!==null?($t(u),rD(u,T)):($t(u),XS(u,w,null,y,h))):T?T!==o.memoizedState?(go(u),$t(u),rD(u,T)):($t(u),u.flags&=-16777217):(o=o.memoizedProps,o!==y&&go(u),$t(u),XS(u,w,o,y,h)),null;case 27:if(Re(u),h=pe.current,w=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==y&&go(u);else{if(!y){if(u.stateNode===null)throw Error(r(166));return $t(u),null}o=be.current,of(u)?Rj(u):(o=uP(w,y,h),u.stateNode=o,go(u))}return $t(u),null;case 5:if(Re(u),w=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==y&&go(u);else{if(!y){if(u.stateNode===null)throw Error(r(166));return $t(u),null}if(T=be.current,of(u))Rj(u);else{var N=Vy(pe.current);switch(T){case 1:T=N.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:T=N.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":T=N.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":T=N.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":T=N.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof y.is=="string"?N.createElement("select",{is:y.is}):N.createElement("select"),y.multiple?T.multiple=!0:y.size&&(T.size=y.size);break;default:T=typeof y.is=="string"?N.createElement(w,{is:y.is}):N.createElement(w)}}T[sn]=u,T[_n]=y;e:for(N=u.child;N!==null;){if(N.tag===5||N.tag===6)T.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===u)break e;for(;N.sibling===null;){if(N.return===null||N.return===u)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}u.stateNode=T;e:switch(yr(T,w,y),w){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&go(u)}}return $t(u),XS(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,h),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==y&&go(u);else{if(typeof y!="string"&&u.stateNode===null)throw Error(r(166));if(o=pe.current,of(u)){if(o=u.stateNode,h=u.memoizedProps,y=null,w=pr,w!==null)switch(w.tag){case 27:case 5:y=w.memoizedProps}o[sn]=u,o=!!(o.nodeValue===h||y!==null&&y.suppressHydrationWarning===!0||ZD(o.nodeValue,h)),o||_l(u,!0)}else o=Vy(o).createTextNode(y),o[sn]=u,u.stateNode=o}return $t(u),null;case 31:if(h=u.memoizedState,o===null||o.memoizedState!==null){if(y=of(u),h!==null){if(o===null){if(!y)throw Error(r(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[sn]=u}else Su(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;$t(u),o=!1}else h=aS(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return u.flags&256?(Pi(u),u):(Pi(u),null);if((u.flags&128)!==0)throw Error(r(558))}return $t(u),null;case 13:if(y=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=of(u),y!==null&&y.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=u.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[sn]=u}else Su(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;$t(u),w=!1}else w=aS(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return u.flags&256?(Pi(u),u):(Pi(u),null)}return Pi(u),(u.flags&128)!==0?(u.lanes=h,u):(h=y!==null,o=o!==null&&o.memoizedState!==null,h&&(y=u.child,w=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(w=y.alternate.memoizedState.cachePool.pool),T=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(T=y.memoizedState.cachePool.pool),T!==w&&(y.flags|=2048)),h!==o&&h&&(u.child.flags|=8192),Ty(u,u.updateQueue),$t(u),null);case 4:return ie(),o===null&&vT(u.stateNode.containerInfo),$t(u),null;case 10:return fo(u.type),$t(u),null;case 19:if(ne(xn),y=u.memoizedState,y===null)return $t(u),null;if(w=(u.flags&128)!==0,T=y.rendering,T===null)if(w)Pp(y,!1);else{if(fn!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(T=uy(o),T!==null){for(u.flags|=128,Pp(y,!1),o=T.updateQueue,u.updateQueue=o,Ty(u,o),u.subtreeFlags=0,o=h,h=u.child;h!==null;)Mj(h,o),h=h.sibling;return ye(xn,xn.current&1|2),lt&&co(u,y.treeForkCount),u.child}o=o.sibling}y.tail!==null&&fr()>Cy&&(u.flags|=128,w=!0,Pp(y,!1),u.lanes=4194304)}else{if(!w)if(o=uy(T),o!==null){if(u.flags|=128,w=!0,o=o.updateQueue,u.updateQueue=o,Ty(u,o),Pp(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!lt)return $t(u),null}else 2*fr()-y.renderingStartTime>Cy&&h!==536870912&&(u.flags|=128,w=!0,Pp(y,!1),u.lanes=4194304);y.isBackwards?(T.sibling=u.child,u.child=T):(o=y.last,o!==null?o.sibling=T:u.child=T,y.last=T)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=fr(),o.sibling=null,h=xn.current,ye(xn,w?h&1|2:h&1),lt&&co(u,y.treeForkCount),o):($t(u),null);case 22:case 23:return Pi(u),bS(),y=u.memoizedState!==null,o!==null?o.memoizedState!==null!==y&&(u.flags|=8192):y&&(u.flags|=8192),y?(h&536870912)!==0&&(u.flags&128)===0&&($t(u),u.subtreeFlags&6&&(u.flags|=8192)):$t(u),h=u.updateQueue,h!==null&&Ty(u,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==h&&(u.flags|=2048),o!==null&&ne(ku),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),fo(Nn),$t(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function zX(o,u){switch(iS(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return fo(Nn),ie(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Re(u),null;case 31:if(u.memoizedState!==null){if(Pi(u),u.alternate===null)throw Error(r(340));Su()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(Pi(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Su()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return ne(xn),null;case 4:return ie(),null;case 10:return fo(u.type),null;case 22:case 23:return Pi(u),bS(),o!==null&&ne(ku),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return fo(Nn),null;case 25:return null;default:return null}}function iD(o,u){switch(iS(u),u.tag){case 3:fo(Nn),ie();break;case 26:case 27:case 5:Re(u);break;case 4:ie();break;case 31:u.memoizedState!==null&&Pi(u);break;case 13:Pi(u);break;case 19:ne(xn);break;case 10:fo(u.type);break;case 22:case 23:Pi(u),bS(),o!==null&&ne(ku);break;case 24:fo(Nn)}}function Rp(o,u){try{var h=u.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var w=y.next;h=w;do{if((h.tag&o)===o){y=void 0;var T=h.create,N=h.inst;y=T(),N.destroy=y}h=h.next}while(h!==w)}}catch(F){wt(u,u.return,F)}}function Il(o,u,h){try{var y=u.updateQueue,w=y!==null?y.lastEffect:null;if(w!==null){var T=w.next;y=T;do{if((y.tag&o)===o){var N=y.inst,F=N.destroy;if(F!==void 0){N.destroy=void 0,w=u;var q=h,Z=F;try{Z()}catch(oe){wt(w,q,oe)}}}y=y.next}while(y!==T)}}catch(oe){wt(u,u.return,oe)}}function sD(o){var u=o.updateQueue;if(u!==null){var h=o.stateNode;try{Yj(u,h)}catch(y){wt(o,o.return,y)}}}function aD(o,u,h){h.props=Ou(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(y){wt(o,u,y)}}function Lp(o,u){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var y=o.stateNode;break;case 30:y=o.stateNode;break;default:y=o.stateNode}typeof h=="function"?o.refCleanup=h(y):h.current=y}}catch(w){wt(o,u,w)}}function Aa(o,u){var h=o.ref,y=o.refCleanup;if(h!==null)if(typeof y=="function")try{y()}catch(w){wt(o,u,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){wt(o,u,w)}else h.current=null}function oD(o){var u=o.type,h=o.memoizedProps,y=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&y.focus();break e;case"img":h.src?y.src=h.src:h.srcSet&&(y.srcset=h.srcSet)}}catch(w){wt(o,o.return,w)}}function QS(o,u,h){try{var y=o.stateNode;lQ(y,o.type,h,u),y[_n]=u}catch(w){wt(o,o.return,w)}}function lD(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&zl(o.type)||o.tag===4}function JS(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||lD(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&zl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ZS(o,u,h){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(o),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Bs));else if(y!==4&&(y===27&&zl(o.type)&&(h=o.stateNode,u=null),o=o.child,o!==null))for(ZS(o,u,h),o=o.sibling;o!==null;)ZS(o,u,h),o=o.sibling}function Ey(o,u,h){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?h.insertBefore(o,u):h.appendChild(o);else if(y!==4&&(y===27&&zl(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(Ey(o,u,h),o=o.sibling;o!==null;)Ey(o,u,h),o=o.sibling}function cD(o){var u=o.stateNode,h=o.memoizedProps;try{for(var y=o.type,w=u.attributes;w.length;)u.removeAttributeNode(w[0]);yr(u,y,h),u[sn]=o,u[_n]=h}catch(T){wt(o,o.return,T)}}var yo=!1,jn=!1,eT=!1,uD=typeof WeakSet=="function"?WeakSet:Set,tr=null;function UX(o,u){if(o=o.containerInfo,wT=qy,o=Sj(o),G1(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var y=h.getSelection&&h.getSelection();if(y&&y.rangeCount!==0){h=y.anchorNode;var w=y.anchorOffset,T=y.focusNode;y=y.focusOffset;try{h.nodeType,T.nodeType}catch{h=null;break e}var N=0,F=-1,q=-1,Z=0,oe=0,ue=o,ee=null;t:for(;;){for(var re;ue!==h||w!==0&&ue.nodeType!==3||(F=N+w),ue!==T||y!==0&&ue.nodeType!==3||(q=N+y),ue.nodeType===3&&(N+=ue.nodeValue.length),(re=ue.firstChild)!==null;)ee=ue,ue=re;for(;;){if(ue===o)break t;if(ee===h&&++Z===w&&(F=N),ee===T&&++oe===y&&(q=N),(re=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=re}h=F===-1||q===-1?null:{start:F,end:q}}else h=null}h=h||{start:0,end:0}}else h=null;for(ST={focusedElem:o,selectionRange:h},qy=!1,tr=u;tr!==null;)if(u=tr,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,tr=o;else for(;tr!==null;){switch(u=tr,T=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)w=o[h],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&T!==null){o=void 0,h=u,w=T.memoizedProps,T=T.memoizedState,y=h.stateNode;try{var Ne=Ou(h.type,w);o=y.getSnapshotBeforeUpdate(Ne,T),y.__reactInternalSnapshotBeforeUpdate=o}catch(Be){wt(h,h.return,Be)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,h=o.nodeType,h===9)kT(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":kT(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,tr=o;break}tr=u.return}}function dD(o,u,h){var y=h.flags;switch(h.tag){case 0:case 11:case 15:bo(o,h),y&4&&Rp(5,h);break;case 1:if(bo(o,h),y&4)if(o=h.stateNode,u===null)try{o.componentDidMount()}catch(N){wt(h,h.return,N)}else{var w=Ou(h.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(w,u,o.__reactInternalSnapshotBeforeUpdate)}catch(N){wt(h,h.return,N)}}y&64&&sD(h),y&512&&Lp(h,h.return);break;case 3:if(bo(o,h),y&64&&(o=h.updateQueue,o!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{Yj(o,u)}catch(N){wt(h,h.return,N)}}break;case 27:u===null&&y&4&&cD(h);case 26:case 5:bo(o,h),u===null&&y&4&&oD(h),y&512&&Lp(h,h.return);break;case 12:bo(o,h);break;case 31:bo(o,h),y&4&&pD(o,h);break;case 13:bo(o,h),y&4&&mD(o,h),y&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=XX.bind(null,h),gQ(o,h))));break;case 22:if(y=h.memoizedState!==null||yo,!y){u=u!==null&&u.memoizedState!==null||jn,w=yo;var T=jn;yo=y,(jn=u)&&!T?xo(o,h,(h.subtreeFlags&8772)!==0):bo(o,h),yo=w,jn=T}break;case 30:break;default:bo(o,h)}}function fD(o){var u=o.alternate;u!==null&&(o.alternate=null,fD(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&pa(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Xt=null,di=!1;function vo(o,u,h){for(h=h.child;h!==null;)hD(o,u,h),h=h.sibling}function hD(o,u,h){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Mr,h)}catch{}switch(h.tag){case 26:jn||Aa(h,u),vo(o,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:jn||Aa(h,u);var y=Xt,w=di;zl(h.type)&&(Xt=h.stateNode,di=!1),vo(o,u,h),Wp(h.stateNode),Xt=y,di=w;break;case 5:jn||Aa(h,u);case 6:if(y=Xt,w=di,Xt=null,vo(o,u,h),Xt=y,di=w,Xt!==null)if(di)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(h.stateNode)}catch(T){wt(h,u,T)}else try{Xt.removeChild(h.stateNode)}catch(T){wt(h,u,T)}break;case 18:Xt!==null&&(di?(o=Xt,sP(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Cf(o)):sP(Xt,h.stateNode));break;case 4:y=Xt,w=di,Xt=h.stateNode.containerInfo,di=!0,vo(o,u,h),Xt=y,di=w;break;case 0:case 11:case 14:case 15:Il(2,h,u),jn||Il(4,h,u),vo(o,u,h);break;case 1:jn||(Aa(h,u),y=h.stateNode,typeof y.componentWillUnmount=="function"&&aD(h,u,y)),vo(o,u,h);break;case 21:vo(o,u,h);break;case 22:jn=(y=jn)||h.memoizedState!==null,vo(o,u,h),jn=y;break;default:vo(o,u,h)}}function pD(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Cf(o)}catch(h){wt(u,u.return,h)}}}function mD(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Cf(o)}catch(h){wt(u,u.return,h)}}function FX(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new uD),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new uD),u;default:throw Error(r(435,o.tag))}}function ky(o,u){var h=FX(o);u.forEach(function(y){if(!h.has(y)){h.add(y);var w=QX.bind(null,o,y);y.then(w,w)}})}function fi(o,u){var h=u.deletions;if(h!==null)for(var y=0;y<h.length;y++){var w=h[y],T=o,N=u,F=N;e:for(;F!==null;){switch(F.tag){case 27:if(zl(F.type)){Xt=F.stateNode,di=!1;break e}break;case 5:Xt=F.stateNode,di=!1;break e;case 3:case 4:Xt=F.stateNode.containerInfo,di=!0;break e}F=F.return}if(Xt===null)throw Error(r(160));hD(T,N,w),Xt=null,di=!1,T=w.alternate,T!==null&&(T.return=null),w.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)gD(u,o),u=u.sibling}var qs=null;function gD(o,u){var h=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:fi(u,o),hi(o),y&4&&(Il(3,o,o.return),Rp(3,o),Il(5,o,o.return));break;case 1:fi(u,o),hi(o),y&512&&(jn||h===null||Aa(h,h.return)),y&64&&yo&&(o=o.updateQueue,o!==null&&(y=o.callbacks,y!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?y:h.concat(y))));break;case 26:var w=qs;if(fi(u,o),hi(o),y&512&&(jn||h===null||Aa(h,h.return)),y&4){var T=h!==null?h.memoizedState:null;if(y=o.memoizedState,h===null)if(y===null)if(o.stateNode===null){e:{y=o.type,h=o.memoizedProps,w=w.ownerDocument||w;t:switch(y){case"title":T=w.getElementsByTagName("title")[0],(!T||T[un]||T[sn]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=w.createElement(y),w.head.insertBefore(T,w.querySelector("head > title"))),yr(T,y,h),T[sn]=o,An(T),y=T;break e;case"link":var N=gP("link","href",w).get(y+(h.href||""));if(N){for(var F=0;F<N.length;F++)if(T=N[F],T.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&T.getAttribute("rel")===(h.rel==null?null:h.rel)&&T.getAttribute("title")===(h.title==null?null:h.title)&&T.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){N.splice(F,1);break t}}T=w.createElement(y),yr(T,y,h),w.head.appendChild(T);break;case"meta":if(N=gP("meta","content",w).get(y+(h.content||""))){for(F=0;F<N.length;F++)if(T=N[F],T.getAttribute("content")===(h.content==null?null:""+h.content)&&T.getAttribute("name")===(h.name==null?null:h.name)&&T.getAttribute("property")===(h.property==null?null:h.property)&&T.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&T.getAttribute("charset")===(h.charSet==null?null:h.charSet)){N.splice(F,1);break t}}T=w.createElement(y),yr(T,y,h),w.head.appendChild(T);break;default:throw Error(r(468,y))}T[sn]=o,An(T),y=T}o.stateNode=y}else yP(w,o.type,o.stateNode);else o.stateNode=mP(w,y,o.memoizedProps);else T!==y?(T===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):T.count--,y===null?yP(w,o.type,o.stateNode):mP(w,y,o.memoizedProps)):y===null&&o.stateNode!==null&&QS(o,o.memoizedProps,h.memoizedProps)}break;case 27:fi(u,o),hi(o),y&512&&(jn||h===null||Aa(h,h.return)),h!==null&&y&4&&QS(o,o.memoizedProps,h.memoizedProps);break;case 5:if(fi(u,o),hi(o),y&512&&(jn||h===null||Aa(h,h.return)),o.flags&32){w=o.stateNode;try{ui(w,"")}catch(Ne){wt(o,o.return,Ne)}}y&4&&o.stateNode!=null&&(w=o.memoizedProps,QS(o,w,h!==null?h.memoizedProps:w)),y&1024&&(eT=!0);break;case 6:if(fi(u,o),hi(o),y&4){if(o.stateNode===null)throw Error(r(162));y=o.memoizedProps,h=o.stateNode;try{h.nodeValue=y}catch(Ne){wt(o,o.return,Ne)}}break;case 3:if(Uy=null,w=qs,qs=By(u.containerInfo),fi(u,o),qs=w,hi(o),y&4&&h!==null&&h.memoizedState.isDehydrated)try{Cf(u.containerInfo)}catch(Ne){wt(o,o.return,Ne)}eT&&(eT=!1,yD(o));break;case 4:y=qs,qs=By(o.stateNode.containerInfo),fi(u,o),hi(o),qs=y;break;case 12:fi(u,o),hi(o);break;case 31:fi(u,o),hi(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,ky(o,y)));break;case 13:fi(u,o),hi(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Ay=fr()),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,ky(o,y)));break;case 22:w=o.memoizedState!==null;var q=h!==null&&h.memoizedState!==null,Z=yo,oe=jn;if(yo=Z||w,jn=oe||q,fi(u,o),jn=oe,yo=Z,hi(o),y&8192)e:for(u=o.stateNode,u._visibility=w?u._visibility&-2:u._visibility|1,w&&(h===null||q||yo||jn||Mu(o)),h=null,u=o;;){if(u.tag===5||u.tag===26){if(h===null){q=h=u;try{if(T=q.stateNode,w)N=T.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{F=q.stateNode;var ue=q.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;F.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Ne){wt(q,q.return,Ne)}}}else if(u.tag===6){if(h===null){q=u;try{q.stateNode.nodeValue=w?"":q.memoizedProps}catch(Ne){wt(q,q.return,Ne)}}}else if(u.tag===18){if(h===null){q=u;try{var re=q.stateNode;w?aP(re,!0):aP(q.stateNode,!1)}catch(Ne){wt(q,q.return,Ne)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}y&4&&(y=o.updateQueue,y!==null&&(h=y.retryQueue,h!==null&&(y.retryQueue=null,ky(o,h))));break;case 19:fi(u,o),hi(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,ky(o,y)));break;case 30:break;case 21:break;default:fi(u,o),hi(o)}}function hi(o){var u=o.flags;if(u&2){try{for(var h,y=o.return;y!==null;){if(lD(y)){h=y;break}y=y.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var w=h.stateNode,T=JS(o);Ey(o,T,w);break;case 5:var N=h.stateNode;h.flags&32&&(ui(N,""),h.flags&=-33);var F=JS(o);Ey(o,F,N);break;case 3:case 4:var q=h.stateNode.containerInfo,Z=JS(o);ZS(o,Z,q);break;default:throw Error(r(161))}}catch(oe){wt(o,o.return,oe)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function yD(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;yD(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function bo(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)dD(o,u.alternate,u),u=u.sibling}function Mu(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Il(4,u,u.return),Mu(u);break;case 1:Aa(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&aD(u,u.return,h),Mu(u);break;case 27:Wp(u.stateNode);case 26:case 5:Aa(u,u.return),Mu(u);break;case 22:u.memoizedState===null&&Mu(u);break;case 30:Mu(u);break;default:Mu(u)}o=o.sibling}}function xo(o,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var y=u.alternate,w=o,T=u,N=T.flags;switch(T.tag){case 0:case 11:case 15:xo(w,T,h),Rp(4,T);break;case 1:if(xo(w,T,h),y=T,w=y.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Z){wt(y,y.return,Z)}if(y=T,w=y.updateQueue,w!==null){var F=y.stateNode;try{var q=w.shared.hiddenCallbacks;if(q!==null)for(w.shared.hiddenCallbacks=null,w=0;w<q.length;w++)Kj(q[w],F)}catch(Z){wt(y,y.return,Z)}}h&&N&64&&sD(T),Lp(T,T.return);break;case 27:cD(T);case 26:case 5:xo(w,T,h),h&&y===null&&N&4&&oD(T),Lp(T,T.return);break;case 12:xo(w,T,h);break;case 31:xo(w,T,h),h&&N&4&&pD(w,T);break;case 13:xo(w,T,h),h&&N&4&&mD(w,T);break;case 22:T.memoizedState===null&&xo(w,T,h),Lp(T,T.return);break;case 30:break;default:xo(w,T,h)}u=u.sibling}}function tT(o,u){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&Tp(h))}function nT(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Tp(o))}function Ws(o,u,h,y){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)vD(o,u,h,y),u=u.sibling}function vD(o,u,h,y){var w=u.flags;switch(u.tag){case 0:case 11:case 15:Ws(o,u,h,y),w&2048&&Rp(9,u);break;case 1:Ws(o,u,h,y);break;case 3:Ws(o,u,h,y),w&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Tp(o)));break;case 12:if(w&2048){Ws(o,u,h,y),o=u.stateNode;try{var T=u.memoizedProps,N=T.id,F=T.onPostCommit;typeof F=="function"&&F(N,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(q){wt(u,u.return,q)}}else Ws(o,u,h,y);break;case 31:Ws(o,u,h,y);break;case 13:Ws(o,u,h,y);break;case 23:break;case 22:T=u.stateNode,N=u.alternate,u.memoizedState!==null?T._visibility&2?Ws(o,u,h,y):Vp(o,u):T._visibility&2?Ws(o,u,h,y):(T._visibility|=2,yf(o,u,h,y,(u.subtreeFlags&10256)!==0||!1)),w&2048&&tT(N,u);break;case 24:Ws(o,u,h,y),w&2048&&nT(u.alternate,u);break;default:Ws(o,u,h,y)}}function yf(o,u,h,y,w){for(w=w&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var T=o,N=u,F=h,q=y,Z=N.flags;switch(N.tag){case 0:case 11:case 15:yf(T,N,F,q,w),Rp(8,N);break;case 23:break;case 22:var oe=N.stateNode;N.memoizedState!==null?oe._visibility&2?yf(T,N,F,q,w):Vp(T,N):(oe._visibility|=2,yf(T,N,F,q,w)),w&&Z&2048&&tT(N.alternate,N);break;case 24:yf(T,N,F,q,w),w&&Z&2048&&nT(N.alternate,N);break;default:yf(T,N,F,q,w)}u=u.sibling}}function Vp(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=o,y=u,w=y.flags;switch(y.tag){case 22:Vp(h,y),w&2048&&tT(y.alternate,y);break;case 24:Vp(h,y),w&2048&&nT(y.alternate,y);break;default:Vp(h,y)}u=u.sibling}}var Bp=8192;function vf(o,u,h){if(o.subtreeFlags&Bp)for(o=o.child;o!==null;)bD(o,u,h),o=o.sibling}function bD(o,u,h){switch(o.tag){case 26:vf(o,u,h),o.flags&Bp&&o.memoizedState!==null&&CQ(h,qs,o.memoizedState,o.memoizedProps);break;case 5:vf(o,u,h);break;case 3:case 4:var y=qs;qs=By(o.stateNode.containerInfo),vf(o,u,h),qs=y;break;case 22:o.memoizedState===null&&(y=o.alternate,y!==null&&y.memoizedState!==null?(y=Bp,Bp=16777216,vf(o,u,h),Bp=y):vf(o,u,h));break;default:vf(o,u,h)}}function xD(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function zp(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var y=u[h];tr=y,SD(y,o)}xD(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)wD(o),o=o.sibling}function wD(o){switch(o.tag){case 0:case 11:case 15:zp(o),o.flags&2048&&Il(9,o,o.return);break;case 3:zp(o);break;case 12:zp(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,_y(o)):zp(o);break;default:zp(o)}}function _y(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var y=u[h];tr=y,SD(y,o)}xD(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Il(8,u,u.return),_y(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,_y(u));break;default:_y(u)}o=o.sibling}}function SD(o,u){for(;tr!==null;){var h=tr;switch(h.tag){case 0:case 11:case 15:Il(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var y=h.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Tp(h.memoizedState.cache)}if(y=h.child,y!==null)y.return=h,tr=y;else e:for(h=o;tr!==null;){y=tr;var w=y.sibling,T=y.return;if(fD(y),y===h){tr=null;break e}if(w!==null){w.return=T,tr=w;break e}tr=T}}}var $X={getCacheForType:function(o){var u=mr(Nn),h=u.data.get(o);return h===void 0&&(h=o(),u.data.set(o,h)),h},cacheSignal:function(){return mr(Nn).controller.signal}},HX=typeof WeakMap=="function"?WeakMap:Map,gt=0,Mt=null,tt=null,rt=0,xt=0,Ri=null,Dl=!1,bf=!1,rT=!1,wo=0,fn=0,Pl=0,ju=0,iT=0,Li=0,xf=0,Up=null,pi=null,sT=!1,Ay=0,TD=0,Cy=1/0,Ny=null,Rl=null,$n=0,Ll=null,wf=null,So=0,aT=0,oT=null,ED=null,Fp=0,lT=null;function Vi(){return(gt&2)!==0&&rt!==0?rt&-rt:W.T!==null?pT():pl()}function kD(){if(Li===0)if((rt&536870912)===0||lt){var o=ro;ro<<=1,(ro&3932160)===0&&(ro=262144),Li=o}else Li=536870912;return o=Di.current,o!==null&&(o.flags|=32),Li}function mi(o,u,h){(o===Mt&&(xt===2||xt===9)||o.cancelPendingCommit!==null)&&(Sf(o,0),Vl(o,rt,Li,!1)),Ls(o,h),((gt&2)===0||o!==Mt)&&(o===Mt&&((gt&2)===0&&(ju|=h),fn===4&&Vl(o,rt,Li,!1)),Ca(o))}function _D(o,u,h){if((gt&6)!==0)throw Error(r(327));var y=!h&&(u&127)===0&&(u&o.expiredLanes)===0||jr(o,u),w=y?GX(o,u):uT(o,u,!0),T=y;do{if(w===0){bf&&!y&&Vl(o,u,0,!1);break}else{if(h=o.current.alternate,T&&!qX(h)){w=uT(o,u,!1),T=!1;continue}if(w===2){if(T=u,o.errorRecoveryDisabledLanes&T)var N=0;else N=o.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){u=N;e:{var F=o;w=Up;var q=F.current.memoizedState.isDehydrated;if(q&&(Sf(F,N).flags|=256),N=uT(F,N,!1),N!==2){if(rT&&!q){F.errorRecoveryDisabledLanes|=T,ju|=T,w=4;break e}T=pi,pi=w,T!==null&&(pi===null?pi=T:pi.push.apply(pi,T))}w=N}if(T=!1,w!==2)continue}}if(w===1){Sf(o,0),Vl(o,u,0,!0);break}e:{switch(y=o,T=w,T){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Vl(y,u,Li,!Dl);break e;case 2:pi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(w=Ay+300-fr(),10<w)){if(Vl(y,u,Li,!Dl),zt(y,0,!0)!==0)break e;So=u,y.timeoutHandle=rP(AD.bind(null,y,h,pi,Ny,sT,u,Li,ju,xf,Dl,T,"Throttled",-0,0),w);break e}AD(y,h,pi,Ny,sT,u,Li,ju,xf,Dl,T,null,-0,0)}}break}while(!0);Ca(o)}function AD(o,u,h,y,w,T,N,F,q,Z,oe,ue,ee,re){if(o.timeoutHandle=-1,ue=u.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bs},bD(u,T,ue);var Ne=(T&62914560)===T?Ay-fr():(T&4194048)===T?TD-fr():0;if(Ne=NQ(ue,Ne),Ne!==null){So=T,o.cancelPendingCommit=Ne(PD.bind(null,o,u,T,h,y,w,N,F,q,oe,ue,null,ee,re)),Vl(o,T,N,!Z);return}}PD(o,u,T,h,y,w,N,F,q)}function qX(o){for(var u=o;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var y=0;y<h.length;y++){var w=h[y],T=w.getSnapshot;w=w.value;try{if(!ji(T(),w))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Vl(o,u,h,y){u&=~iT,u&=~ju,o.suspendedLanes|=u,o.pingedLanes&=~u,y&&(o.warmLanes|=u),y=o.expirationTimes;for(var w=u;0<w;){var T=31-Kt(w),N=1<<T;y[T]=-1,w&=~N}h!==0&&fa(o,h,u)}function Oy(){return(gt&6)===0?($p(0),!1):!0}function cT(){if(tt!==null){if(xt===0)var o=tt.return;else o=tt,uo=Tu=null,kS(o),ff=null,kp=0,o=tt;for(;o!==null;)iD(o.alternate,o),o=o.return;tt=null}}function Sf(o,u){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,dQ(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),So=0,cT(),Mt=o,tt=h=lo(o.current,null),rt=u,xt=0,Ri=null,Dl=!1,bf=jr(o,u),rT=!1,xf=Li=iT=ju=Pl=fn=0,pi=Up=null,sT=!1,(u&8)!==0&&(u|=u&32);var y=o.entangledLanes;if(y!==0)for(o=o.entanglements,y&=u;0<y;){var w=31-Kt(y),T=1<<w;u|=o[w],y&=~T}return wo=u,Q0(),h}function CD(o,u){Ye=null,W.H=Ip,u===df||u===sy?(u=Hj(),xt=3):u===hS?(u=Hj(),xt=4):xt=u===US?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ri=u,tt===null&&(fn=1,by(o,ts(u,o.current)))}function ND(){var o=Di.current;return o===null?!0:(rt&4194048)===rt?ss===null:(rt&62914560)===rt||(rt&536870912)!==0?o===ss:!1}function OD(){var o=W.H;return W.H=Ip,o===null?Ip:o}function MD(){var o=W.A;return W.A=$X,o}function My(){fn=4,Dl||(rt&4194048)!==rt&&Di.current!==null||(bf=!0),(Pl&134217727)===0&&(ju&134217727)===0||Mt===null||Vl(Mt,rt,Li,!1)}function uT(o,u,h){var y=gt;gt|=2;var w=OD(),T=MD();(Mt!==o||rt!==u)&&(Ny=null,Sf(o,u)),u=!1;var N=fn;e:do try{if(xt!==0&&tt!==null){var F=tt,q=Ri;switch(xt){case 8:cT(),N=6;break e;case 3:case 2:case 9:case 6:Di.current===null&&(u=!0);var Z=xt;if(xt=0,Ri=null,Tf(o,F,q,Z),h&&bf){N=0;break e}break;default:Z=xt,xt=0,Ri=null,Tf(o,F,q,Z)}}WX(),N=fn;break}catch(oe){CD(o,oe)}while(!0);return u&&o.shellSuspendCounter++,uo=Tu=null,gt=y,W.H=w,W.A=T,tt===null&&(Mt=null,rt=0,Q0()),N}function WX(){for(;tt!==null;)jD(tt)}function GX(o,u){var h=gt;gt|=2;var y=OD(),w=MD();Mt!==o||rt!==u?(Ny=null,Cy=fr()+500,Sf(o,u)):bf=jr(o,u);e:do try{if(xt!==0&&tt!==null){u=tt;var T=Ri;t:switch(xt){case 1:xt=0,Ri=null,Tf(o,u,T,1);break;case 2:case 9:if(Fj(T)){xt=0,Ri=null,ID(u);break}u=function(){xt!==2&&xt!==9||Mt!==o||(xt=7),Ca(o)},T.then(u,u);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:Fj(T)?(xt=0,Ri=null,ID(u)):(xt=0,Ri=null,Tf(o,u,T,7));break;case 5:var N=null;switch(tt.tag){case 26:N=tt.memoizedState;case 5:case 27:var F=tt;if(N?vP(N):F.stateNode.complete){xt=0,Ri=null;var q=F.sibling;if(q!==null)tt=q;else{var Z=F.return;Z!==null?(tt=Z,jy(Z)):tt=null}break t}}xt=0,Ri=null,Tf(o,u,T,5);break;case 6:xt=0,Ri=null,Tf(o,u,T,6);break;case 8:cT(),fn=6;break e;default:throw Error(r(462))}}KX();break}catch(oe){CD(o,oe)}while(!0);return uo=Tu=null,W.H=y,W.A=w,gt=h,tt!==null?0:(Mt=null,rt=0,Q0(),fn)}function KX(){for(;tt!==null&&!tp();)jD(tt)}function jD(o){var u=nD(o.alternate,o,wo);o.memoizedProps=o.pendingProps,u===null?jy(o):tt=u}function ID(o){var u=o,h=u.alternate;switch(u.tag){case 15:case 0:u=XI(h,u,u.pendingProps,u.type,void 0,rt);break;case 11:u=XI(h,u,u.pendingProps,u.type.render,u.ref,rt);break;case 5:kS(u);default:iD(h,u),u=tt=Mj(u,wo),u=nD(h,u,wo)}o.memoizedProps=o.pendingProps,u===null?jy(o):tt=u}function Tf(o,u,h,y){uo=Tu=null,kS(u),ff=null,kp=0;var w=u.return;try{if(RX(o,w,u,h,rt)){fn=1,by(o,ts(h,o.current)),tt=null;return}}catch(T){if(w!==null)throw tt=w,T;fn=1,by(o,ts(h,o.current)),tt=null;return}u.flags&32768?(lt||y===1?o=!0:bf||(rt&536870912)!==0?o=!1:(Dl=o=!0,(y===2||y===9||y===3||y===6)&&(y=Di.current,y!==null&&y.tag===13&&(y.flags|=16384))),DD(u,o)):jy(u)}function jy(o){var u=o;do{if((u.flags&32768)!==0){DD(u,Dl);return}o=u.return;var h=BX(u.alternate,u,wo);if(h!==null){tt=h;return}if(u=u.sibling,u!==null){tt=u;return}tt=u=o}while(u!==null);fn===0&&(fn=5)}function DD(o,u){do{var h=zX(o.alternate,o);if(h!==null){h.flags&=32767,tt=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(o=o.sibling,o!==null)){tt=o;return}tt=o=h}while(o!==null);fn=6,tt=null}function PD(o,u,h,y,w,T,N,F,q){o.cancelPendingCommit=null;do Iy();while($n!==0);if((gt&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(T=u.lanes|u.childLanes,T|=J1,$d(o,h,T,N,F,q),o===Mt&&(tt=Mt=null,rt=0),wf=u,Ll=o,So=h,aT=T,oT=w,ED=y,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,JX(ua,function(){return zD(),null})):(o.callbackNode=null,o.callbackPriority=0),y=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||y){y=W.T,W.T=null,w=Y.p,Y.p=2,N=gt,gt|=4;try{UX(o,u,h)}finally{gt=N,Y.p=w,W.T=y}}$n=1,RD(),LD(),VD()}}function RD(){if($n===1){$n=0;var o=Ll,u=wf,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=W.T,W.T=null;var y=Y.p;Y.p=2;var w=gt;gt|=4;try{gD(u,o);var T=ST,N=Sj(o.containerInfo),F=T.focusedElem,q=T.selectionRange;if(N!==F&&F&&F.ownerDocument&&wj(F.ownerDocument.documentElement,F)){if(q!==null&&G1(F)){var Z=q.start,oe=q.end;if(oe===void 0&&(oe=Z),"selectionStart"in F)F.selectionStart=Z,F.selectionEnd=Math.min(oe,F.value.length);else{var ue=F.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var re=ee.getSelection(),Ne=F.textContent.length,Be=Math.min(q.start,Ne),Ct=q.end===void 0?Be:Math.min(q.end,Ne);!re.extend&&Be>Ct&&(N=Ct,Ct=Be,Be=N);var K=xj(F,Be),G=xj(F,Ct);if(K&&G&&(re.rangeCount!==1||re.anchorNode!==K.node||re.anchorOffset!==K.offset||re.focusNode!==G.node||re.focusOffset!==G.offset)){var J=ue.createRange();J.setStart(K.node,K.offset),re.removeAllRanges(),Be>Ct?(re.addRange(J),re.extend(G.node,G.offset)):(J.setEnd(G.node,G.offset),re.addRange(J))}}}}for(ue=[],re=F;re=re.parentNode;)re.nodeType===1&&ue.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<ue.length;F++){var ce=ue[F];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}qy=!!wT,ST=wT=null}finally{gt=w,Y.p=y,W.T=h}}o.current=u,$n=2}}function LD(){if($n===2){$n=0;var o=Ll,u=wf,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=W.T,W.T=null;var y=Y.p;Y.p=2;var w=gt;gt|=4;try{dD(o,u.alternate,u)}finally{gt=w,Y.p=y,W.T=h}}$n=3}}function VD(){if($n===4||$n===3){$n=0,nu();var o=Ll,u=wf,h=So,y=ED;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?$n=5:($n=0,wf=Ll=null,BD(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(Rl=null),Ci(h),u=u.stateNode,kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Mr,u,void 0,(u.current.flags&128)===128)}catch{}if(y!==null){u=W.T,w=Y.p,Y.p=2,W.T=null;try{for(var T=o.onRecoverableError,N=0;N<y.length;N++){var F=y[N];T(F.value,{componentStack:F.stack})}}finally{W.T=u,Y.p=w}}(So&3)!==0&&Iy(),Ca(o),w=o.pendingLanes,(h&261930)!==0&&(w&42)!==0?o===lT?Fp++:(Fp=0,lT=o):Fp=0,$p(0)}}function BD(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,Tp(u)))}function Iy(){return RD(),LD(),VD(),zD()}function zD(){if($n!==5)return!1;var o=Ll,u=aT;aT=0;var h=Ci(So),y=W.T,w=Y.p;try{Y.p=32>h?32:h,W.T=null,h=oT,oT=null;var T=Ll,N=So;if($n=0,wf=Ll=null,So=0,(gt&6)!==0)throw Error(r(331));var F=gt;if(gt|=4,wD(T.current),vD(T,T.current,N,h),gt=F,$p(0,!1),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Mr,T)}catch{}return!0}finally{Y.p=w,W.T=y,BD(o,u)}}function UD(o,u,h){u=ts(h,u),u=zS(o.stateNode,u,2),o=Ol(o,u,2),o!==null&&(Ls(o,2),Ca(o))}function wt(o,u,h){if(o.tag===3)UD(o,o,h);else for(;u!==null;){if(u.tag===3){UD(u,o,h);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Rl===null||!Rl.has(y))){o=ts(h,o),h=FI(2),y=Ol(u,h,2),y!==null&&($I(h,y,u,o),Ls(y,2),Ca(y));break}}u=u.return}}function dT(o,u,h){var y=o.pingCache;if(y===null){y=o.pingCache=new HX;var w=new Set;y.set(u,w)}else w=y.get(u),w===void 0&&(w=new Set,y.set(u,w));w.has(h)||(rT=!0,w.add(h),o=YX.bind(null,o,u,h),u.then(o,o))}function YX(o,u,h){var y=o.pingCache;y!==null&&y.delete(u),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Mt===o&&(rt&h)===h&&(fn===4||fn===3&&(rt&62914560)===rt&&300>fr()-Ay?(gt&2)===0&&Sf(o,0):iT|=h,xf===rt&&(xf=0)),Ca(o)}function FD(o,u){u===0&&(u=Wr()),o=xu(o,u),o!==null&&(Ls(o,u),Ca(o))}function XX(o){var u=o.memoizedState,h=0;u!==null&&(h=u.retryLane),FD(o,h)}function QX(o,u){var h=0;switch(o.tag){case 31:case 13:var y=o.stateNode,w=o.memoizedState;w!==null&&(h=w.retryLane);break;case 19:y=o.stateNode;break;case 22:y=o.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(u),FD(o,h)}function JX(o,u){return vn(o,u)}var Dy=null,Ef=null,fT=!1,Py=!1,hT=!1,Bl=0;function Ca(o){o!==Ef&&o.next===null&&(Ef===null?Dy=Ef=o:Ef=Ef.next=o),Py=!0,fT||(fT=!0,eQ())}function $p(o,u){if(!hT&&Py){hT=!0;do for(var h=!1,y=Dy;y!==null;){if(o!==0){var w=y.pendingLanes;if(w===0)var T=0;else{var N=y.suspendedLanes,F=y.pingedLanes;T=(1<<31-Kt(42|o)+1)-1,T&=w&~(N&~F),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(h=!0,WD(y,T))}else T=rt,T=zt(y,y===Mt?T:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(T&3)===0||jr(y,T)||(h=!0,WD(y,T));y=y.next}while(h);hT=!1}}function ZX(){$D()}function $D(){Py=fT=!1;var o=0;Bl!==0&&uQ()&&(o=Bl);for(var u=fr(),h=null,y=Dy;y!==null;){var w=y.next,T=HD(y,u);T===0?(y.next=null,h===null?Dy=w:h.next=w,w===null&&(Ef=h)):(h=y,(o!==0||(T&3)!==0)&&(Py=!0)),y=w}$n!==0&&$n!==5||$p(o),Bl!==0&&(Bl=0)}function HD(o,u){for(var h=o.suspendedLanes,y=o.pingedLanes,w=o.expirationTimes,T=o.pendingLanes&-62914561;0<T;){var N=31-Kt(T),F=1<<N,q=w[N];q===-1?((F&h)===0||(F&y)!==0)&&(w[N]=Ot(F,u)):q<=u&&(o.expiredLanes|=F),T&=~F}if(u=Mt,h=rt,h=zt(o,o===u?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y=o.callbackNode,h===0||o===u&&(xt===2||xt===9)||o.cancelPendingCommit!==null)return y!==null&&y!==null&&ca(y),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||jr(o,h)){if(u=h&-h,u===o.callbackPriority)return u;switch(y!==null&&ca(y),Ci(h)){case 2:case 8:h=iu;break;case 32:h=ua;break;case 268435456:h=au;break;default:h=ua}return y=qD.bind(null,o),h=vn(h,y),o.callbackPriority=u,o.callbackNode=h,u}return y!==null&&y!==null&&ca(y),o.callbackPriority=2,o.callbackNode=null,2}function qD(o,u){if($n!==0&&$n!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(Iy()&&o.callbackNode!==h)return null;var y=rt;return y=zt(o,o===Mt?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y===0?null:(_D(o,y,u),HD(o,fr()),o.callbackNode!=null&&o.callbackNode===h?qD.bind(null,o):null)}function WD(o,u){if(Iy())return null;_D(o,u,!0)}function eQ(){fQ(function(){(gt&6)!==0?vn(ru,ZX):$D()})}function pT(){if(Bl===0){var o=cf;o===0&&(o=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),Bl=o}return Bl}function GD(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Gd(""+o)}function KD(o,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,o.id&&h.setAttribute("form",o.id),u.parentNode.insertBefore(h,u),o=new FormData(o),h.parentNode.removeChild(h),o}function tQ(o,u,h,y,w){if(u==="submit"&&h&&h.stateNode===w){var T=GD((w[_n]||null).action),N=y.submitter;N&&(u=(u=N[_n]||null)?GD(u.formAction):N.getAttribute("formAction"),u!==null&&(T=u,N=null));var F=new wa("action","action",null,y,w);o.push({event:F,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Bl!==0){var q=N?KD(w,N):new FormData(w);DS(h,{pending:!0,data:q,method:w.method,action:T},null,q)}}else typeof T=="function"&&(F.preventDefault(),q=N?KD(w,N):new FormData(w),DS(h,{pending:!0,data:q,method:w.method,action:T},T,q))},currentTarget:w}]})}}for(var mT=0;mT<Q1.length;mT++){var gT=Q1[mT],nQ=gT.toLowerCase(),rQ=gT[0].toUpperCase()+gT.slice(1);Hs(nQ,"on"+rQ)}Hs(kj,"onAnimationEnd"),Hs(_j,"onAnimationIteration"),Hs(Aj,"onAnimationStart"),Hs("dblclick","onDoubleClick"),Hs("focusin","onFocus"),Hs("focusout","onBlur"),Hs(bX,"onTransitionRun"),Hs(xX,"onTransitionStart"),Hs(wX,"onTransitionCancel"),Hs(Cj,"onTransitionEnd"),ya("onMouseEnter",["mouseout","mouseover"]),ya("onMouseLeave",["mouseout","mouseover"]),ya("onPointerEnter",["pointerout","pointerover"]),ya("onPointerLeave",["pointerout","pointerover"]),ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iQ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hp));function YD(o,u){u=(u&4)!==0;for(var h=0;h<o.length;h++){var y=o[h],w=y.event;y=y.listeners;e:{var T=void 0;if(u)for(var N=y.length-1;0<=N;N--){var F=y[N],q=F.instance,Z=F.currentTarget;if(F=F.listener,q!==T&&w.isPropagationStopped())break e;T=F,w.currentTarget=Z;try{T(w)}catch(oe){X0(oe)}w.currentTarget=null,T=q}else for(N=0;N<y.length;N++){if(F=y[N],q=F.instance,Z=F.currentTarget,F=F.listener,q!==T&&w.isPropagationStopped())break e;T=F,w.currentTarget=Z;try{T(w)}catch(oe){X0(oe)}w.currentTarget=null,T=q}}}}function nt(o,u){var h=u[Ge];h===void 0&&(h=u[Ge]=new Set);var y=o+"__bubble";h.has(y)||(XD(u,o,2,!1),h.add(y))}function yT(o,u,h){var y=0;u&&(y|=4),XD(h,o,y,u)}var Ry="_reactListening"+Math.random().toString(36).slice(2);function vT(o){if(!o[Ry]){o[Ry]=!0,np.forEach(function(h){h!=="selectionchange"&&(iQ.has(h)||yT(h,!1,o),yT(h,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[Ry]||(u[Ry]=!0,yT("selectionchange",!1,u))}}function XD(o,u,h,y){switch(kP(u)){case 2:var w=jQ;break;case 8:w=IQ;break;default:w=IT}h=w.bind(null,u,h,o),w=void 0,!fu||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(w=!0),y?w!==void 0?o.addEventListener(u,h,{capture:!0,passive:w}):o.addEventListener(u,h,!0):w!==void 0?o.addEventListener(u,h,{passive:w}):o.addEventListener(u,h,!1)}function bT(o,u,h,y,w){var T=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var N=y.tag;if(N===3||N===4){var F=y.stateNode.containerInfo;if(F===w)break;if(N===4)for(N=y.return;N!==null;){var q=N.tag;if((q===3||q===4)&&N.stateNode.containerInfo===w)return;N=N.return}for(;F!==null;){if(N=Xi(F),N===null)return;if(q=N.tag,q===5||q===6||q===26||q===27){y=T=N;continue e}F=F.parentNode}}y=y.return}xl(function(){var Z=T,oe=Qi(h),ue=[];e:{var ee=Nj.get(o);if(ee!==void 0){var re=wa,Ne=o;switch(o){case"keypress":if(pu(h)===0)break e;case"keydown":case"keyup":re=G0;break;case"focusin":Ne="focus",re=gu;break;case"focusout":Ne="blur",re=gu;break;case"beforeblur":case"afterblur":re=gu;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=mp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=V0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=A;break;case kj:case _j:case Aj:re=z0;break;case Cj:re=$;break;case"scroll":case"scrollend":re=pp;break;case"wheel":re=te;break;case"copy":case"cut":case"paste":re=U0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=oo;break;case"toggle":case"beforetoggle":re=Ke}var Be=(u&4)!==0,Ct=!Be&&(o==="scroll"||o==="scrollend"),K=Be?ee!==null?ee+"Capture":null:ee;Be=[];for(var G=Z,J;G!==null;){var ce=G;if(J=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||J===null||K===null||(ce=zs(G,K),ce!=null&&Be.push(qp(G,ce,J))),Ct)break;G=G.return}0<Be.length&&(ee=new re(ee,Ne,null,h,oe),ue.push({event:ee,listeners:Be}))}}if((u&7)===0){e:{if(ee=o==="mouseover"||o==="pointerover",re=o==="mouseout"||o==="pointerout",ee&&h!==dp&&(Ne=h.relatedTarget||h.fromElement)&&(Xi(Ne)||Ne[Yi]))break e;if((re||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,re?(Ne=h.relatedTarget||h.toElement,re=Z,Ne=Ne?Xi(Ne):null,Ne!==null&&(Ct=s(Ne),Be=Ne.tag,Ne!==Ct||Be!==5&&Be!==27&&Be!==6)&&(Ne=null)):(re=null,Ne=Z),re!==Ne)){if(Be=mp,ce="onMouseLeave",K="onMouseEnter",G="mouse",(o==="pointerout"||o==="pointerover")&&(Be=oo,ce="onPointerLeave",K="onPointerEnter",G="pointer"),Ct=re==null?ee:Oi(re),J=Ne==null?ee:Oi(Ne),ee=new Be(ce,G+"leave",re,h,oe),ee.target=Ct,ee.relatedTarget=J,ce=null,Xi(oe)===Z&&(Be=new Be(K,G+"enter",Ne,h,oe),Be.target=J,Be.relatedTarget=Ct,ce=Be),Ct=ce,re&&Ne)t:{for(Be=sQ,K=re,G=Ne,J=0,ce=K;ce;ce=Be(ce))J++;ce=0;for(var Ie=G;Ie;Ie=Be(Ie))ce++;for(;0<J-ce;)K=Be(K),J--;for(;0<ce-J;)G=Be(G),ce--;for(;J--;){if(K===G||G!==null&&K===G.alternate){Be=K;break t}K=Be(K),G=Be(G)}Be=null}else Be=null;re!==null&&QD(ue,ee,re,Be,!1),Ne!==null&&Ct!==null&&QD(ue,Ct,Ne,Be,!0)}}e:{if(ee=Z?Oi(Z):window,re=ee.nodeName&&ee.nodeName.toLowerCase(),re==="select"||re==="input"&&ee.type==="file")var ft=pj;else if(fj(ee))if(mj)ft=gX;else{ft=pX;var Oe=hX}else re=ee.nodeName,!re||re.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Wd(Z.elementType)&&(ft=pj):ft=mX;if(ft&&(ft=ft(o,Z))){hj(ue,ft,h,oe);break e}Oe&&Oe(o,ee,Z),o==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&lp(ee,"number",ee.value)}switch(Oe=Z?Oi(Z):window,o){case"focusin":(fj(Oe)||Oe.contentEditable==="true")&&(ef=Oe,K1=Z,xp=null);break;case"focusout":xp=K1=ef=null;break;case"mousedown":Y1=!0;break;case"contextmenu":case"mouseup":case"dragend":Y1=!1,Tj(ue,h,oe);break;case"selectionchange":if(vX)break;case"keydown":case"keyup":Tj(ue,h,oe)}var Xe;if(mt)e:{switch(o){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Zd?yu(o,h)&&(it="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(it="onCompositionStart");it&&(Ea&&h.locale!=="ko"&&(Zd||it!=="onCompositionStart"?it==="onCompositionEnd"&&Zd&&(Xe=hp()):(xa=oe,fp="value"in xa?xa.value:xa.textContent,Zd=!0)),Oe=Ly(Z,it),0<Oe.length&&(it=new Ta(it,o,null,h,oe),ue.push({event:it,listeners:Oe}),Xe?it.data=Xe:(Xe=Jd(h),Xe!==null&&(it.data=Xe)))),(Xe=Zi?cX(o,h):uX(o,h))&&(it=Ly(Z,"onBeforeInput"),0<it.length&&(Oe=new Ta("onBeforeInput","beforeinput",null,h,oe),ue.push({event:Oe,listeners:it}),Oe.data=Xe)),tQ(ue,o,Z,h,oe)}YD(ue,u)})}function qp(o,u,h){return{instance:o,listener:u,currentTarget:h}}function Ly(o,u){for(var h=u+"Capture",y=[];o!==null;){var w=o,T=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||T===null||(w=zs(o,h),w!=null&&y.unshift(qp(o,w,T)),w=zs(o,u),w!=null&&y.push(qp(o,w,T))),o.tag===3)return y;o=o.return}return[]}function sQ(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function QD(o,u,h,y,w){for(var T=u._reactName,N=[];h!==null&&h!==y;){var F=h,q=F.alternate,Z=F.stateNode;if(F=F.tag,q!==null&&q===y)break;F!==5&&F!==26&&F!==27||Z===null||(q=Z,w?(Z=zs(h,T),Z!=null&&N.unshift(qp(h,Z,q))):w||(Z=zs(h,T),Z!=null&&N.push(qp(h,Z,q)))),h=h.return}N.length!==0&&o.push({event:u,listeners:N})}var aQ=/\r\n?/g,oQ=/\u0000|\uFFFD/g;function JD(o){return(typeof o=="string"?o:""+o).replace(aQ,`
`).replace(oQ,"")}function ZD(o,u){return u=JD(u),JD(o)===u}function At(o,u,h,y,w,T){switch(h){case"children":typeof y=="string"?u==="body"||u==="textarea"&&y===""||ui(o,y):(typeof y=="number"||typeof y=="bigint")&&u!=="body"&&ui(o,""+y);break;case"className":Mi(o,"class",y);break;case"tabIndex":Mi(o,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Mi(o,h,y);break;case"style":up(o,y,T);break;case"data":if(u!=="object"){Mi(o,"data",y);break}case"src":case"href":if(y===""&&(u!=="a"||h!=="href")){o.removeAttribute(h);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(h);break}y=Gd(""+y),o.setAttribute(h,y);break;case"action":case"formAction":if(typeof y=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(h==="formAction"?(u!=="input"&&At(o,u,"name",w.name,w,null),At(o,u,"formEncType",w.formEncType,w,null),At(o,u,"formMethod",w.formMethod,w,null),At(o,u,"formTarget",w.formTarget,w,null)):(At(o,u,"encType",w.encType,w,null),At(o,u,"method",w.method,w,null),At(o,u,"target",w.target,w,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(h);break}y=Gd(""+y),o.setAttribute(h,y);break;case"onClick":y!=null&&(o.onclick=Bs);break;case"onScroll":y!=null&&nt("scroll",o);break;case"onScrollEnd":y!=null&&nt("scrollend",o);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(h=y.__html,h!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":o.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){o.removeAttribute("xlink:href");break}h=Gd(""+y),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(h,""+y):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":y===!0?o.setAttribute(h,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(h,y):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?o.setAttribute(h,y):o.removeAttribute(h);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?o.removeAttribute(h):o.setAttribute(h,y);break;case"popover":nt("beforetoggle",o),nt("toggle",o),Hd(o,"popover",y);break;case"xlinkActuate":Cn(o,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Cn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Cn(o,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Cn(o,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Cn(o,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Cn(o,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Cn(o,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Cn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Cn(o,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Hd(o,"is",y);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=L0.get(h)||h,Hd(o,h,y))}}function xT(o,u,h,y,w,T){switch(h){case"style":up(o,y,T);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(h=y.__html,h!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof y=="string"?ui(o,y):(typeof y=="number"||typeof y=="bigint")&&ui(o,""+y);break;case"onScroll":y!=null&&nt("scroll",o);break;case"onScrollEnd":y!=null&&nt("scrollend",o);break;case"onClick":y!=null&&(o.onclick=Bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rp.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),u=h.slice(2,w?h.length-7:void 0),T=o[_n]||null,T=T!=null?T[h]:null,typeof T=="function"&&o.removeEventListener(u,T,w),typeof y=="function")){typeof T!="function"&&T!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(u,y,w);break e}h in o?o[h]=y:y===!0?o.setAttribute(h,""):Hd(o,h,y)}}}function yr(o,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",o),nt("load",o);var y=!1,w=!1,T;for(T in h)if(h.hasOwnProperty(T)){var N=h[T];if(N!=null)switch(T){case"src":y=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:At(o,u,T,N,h,null)}}w&&At(o,u,"srcSet",h.srcSet,h,null),y&&At(o,u,"src",h.src,h,null);return;case"input":nt("invalid",o);var F=T=N=w=null,q=null,Z=null;for(y in h)if(h.hasOwnProperty(y)){var oe=h[y];if(oe!=null)switch(y){case"name":w=oe;break;case"type":N=oe;break;case"checked":q=oe;break;case"defaultChecked":Z=oe;break;case"value":T=oe;break;case"defaultValue":F=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,u));break;default:At(o,u,y,oe,h,null)}}D0(o,T,F,q,Z,N,w,!1);return;case"select":nt("invalid",o),y=N=T=null;for(w in h)if(h.hasOwnProperty(w)&&(F=h[w],F!=null))switch(w){case"value":T=F;break;case"defaultValue":N=F;break;case"multiple":y=F;default:At(o,u,w,F,h,null)}u=T,h=N,o.multiple=!!y,u!=null?gl(o,!!y,u,!1):h!=null&&gl(o,!!y,h,!0);return;case"textarea":nt("invalid",o),T=w=y=null;for(N in h)if(h.hasOwnProperty(N)&&(F=h[N],F!=null))switch(N){case"value":y=F;break;case"defaultValue":w=F;break;case"children":T=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:At(o,u,N,F,h,null)}yl(o,y,w,T);return;case"option":for(q in h)if(h.hasOwnProperty(q)&&(y=h[q],y!=null))switch(q){case"selected":o.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:At(o,u,q,y,h,null)}return;case"dialog":nt("beforetoggle",o),nt("toggle",o),nt("cancel",o),nt("close",o);break;case"iframe":case"object":nt("load",o);break;case"video":case"audio":for(y=0;y<Hp.length;y++)nt(Hp[y],o);break;case"image":nt("error",o),nt("load",o);break;case"details":nt("toggle",o);break;case"embed":case"source":case"link":nt("error",o),nt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in h)if(h.hasOwnProperty(Z)&&(y=h[Z],y!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:At(o,u,Z,y,h,null)}return;default:if(Wd(u)){for(oe in h)h.hasOwnProperty(oe)&&(y=h[oe],y!==void 0&&xT(o,u,oe,y,h,void 0));return}}for(F in h)h.hasOwnProperty(F)&&(y=h[F],y!=null&&At(o,u,F,y,h,null))}function lQ(o,u,h,y){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,T=null,N=null,F=null,q=null,Z=null,oe=null;for(re in h){var ue=h[re];if(h.hasOwnProperty(re)&&ue!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":q=ue;default:y.hasOwnProperty(re)||At(o,u,re,null,y,ue)}}for(var ee in y){var re=y[ee];if(ue=h[ee],y.hasOwnProperty(ee)&&(re!=null||ue!=null))switch(ee){case"type":T=re;break;case"name":w=re;break;case"checked":Z=re;break;case"defaultChecked":oe=re;break;case"value":N=re;break;case"defaultValue":F=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,u));break;default:re!==ue&&At(o,u,ee,re,y,ue)}}qd(o,N,F,q,Z,oe,T,w);return;case"select":re=N=F=ee=null;for(T in h)if(q=h[T],h.hasOwnProperty(T)&&q!=null)switch(T){case"value":break;case"multiple":re=q;default:y.hasOwnProperty(T)||At(o,u,T,null,y,q)}for(w in y)if(T=y[w],q=h[w],y.hasOwnProperty(w)&&(T!=null||q!=null))switch(w){case"value":ee=T;break;case"defaultValue":F=T;break;case"multiple":N=T;default:T!==q&&At(o,u,w,T,y,q)}u=F,h=N,y=re,ee!=null?gl(o,!!h,ee,!1):!!y!=!!h&&(u!=null?gl(o,!!h,u,!0):gl(o,!!h,h?[]:"",!1));return;case"textarea":re=ee=null;for(F in h)if(w=h[F],h.hasOwnProperty(F)&&w!=null&&!y.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:At(o,u,F,null,y,w)}for(N in y)if(w=y[N],T=h[N],y.hasOwnProperty(N)&&(w!=null||T!=null))switch(N){case"value":ee=w;break;case"defaultValue":re=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==T&&At(o,u,N,w,y,T)}P0(o,ee,re);return;case"option":for(var Ne in h)if(ee=h[Ne],h.hasOwnProperty(Ne)&&ee!=null&&!y.hasOwnProperty(Ne))switch(Ne){case"selected":o.selected=!1;break;default:At(o,u,Ne,null,y,ee)}for(q in y)if(ee=y[q],re=h[q],y.hasOwnProperty(q)&&ee!==re&&(ee!=null||re!=null))switch(q){case"selected":o.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:At(o,u,q,ee,y,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in h)ee=h[Be],h.hasOwnProperty(Be)&&ee!=null&&!y.hasOwnProperty(Be)&&At(o,u,Be,null,y,ee);for(Z in y)if(ee=y[Z],re=h[Z],y.hasOwnProperty(Z)&&ee!==re&&(ee!=null||re!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,u));break;default:At(o,u,Z,ee,y,re)}return;default:if(Wd(u)){for(var Ct in h)ee=h[Ct],h.hasOwnProperty(Ct)&&ee!==void 0&&!y.hasOwnProperty(Ct)&&xT(o,u,Ct,void 0,y,ee);for(oe in y)ee=y[oe],re=h[oe],!y.hasOwnProperty(oe)||ee===re||ee===void 0&&re===void 0||xT(o,u,oe,ee,y,re);return}}for(var K in h)ee=h[K],h.hasOwnProperty(K)&&ee!=null&&!y.hasOwnProperty(K)&&At(o,u,K,null,y,ee);for(ue in y)ee=y[ue],re=h[ue],!y.hasOwnProperty(ue)||ee===re||ee==null&&re==null||At(o,u,ue,ee,y,re)}function eP(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cQ(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,h=performance.getEntriesByType("resource"),y=0;y<h.length;y++){var w=h[y],T=w.transferSize,N=w.initiatorType,F=w.duration;if(T&&F&&eP(N)){for(N=0,F=w.responseEnd,y+=1;y<h.length;y++){var q=h[y],Z=q.startTime;if(Z>F)break;var oe=q.transferSize,ue=q.initiatorType;oe&&eP(ue)&&(q=q.responseEnd,N+=oe*(q<F?1:(F-Z)/(q-Z)))}if(--y,u+=8*(T+N)/(w.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var wT=null,ST=null;function Vy(o){return o.nodeType===9?o:o.ownerDocument}function tP(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nP(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function TT(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var ET=null;function uQ(){var o=window.event;return o&&o.type==="popstate"?o===ET?!1:(ET=o,!0):(ET=null,!1)}var rP=typeof setTimeout=="function"?setTimeout:void 0,dQ=typeof clearTimeout=="function"?clearTimeout:void 0,iP=typeof Promise=="function"?Promise:void 0,fQ=typeof queueMicrotask=="function"?queueMicrotask:typeof iP<"u"?function(o){return iP.resolve(null).then(o).catch(hQ)}:rP;function hQ(o){setTimeout(function(){throw o})}function zl(o){return o==="head"}function sP(o,u){var h=u,y=0;do{var w=h.nextSibling;if(o.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"||h==="/&"){if(y===0){o.removeChild(w),Cf(u);return}y--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")y++;else if(h==="html")Wp(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,Wp(h);for(var T=h.firstChild;T;){var N=T.nextSibling,F=T.nodeName;T[un]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&T.rel.toLowerCase()==="stylesheet"||h.removeChild(T),T=N}}else h==="body"&&Wp(o.ownerDocument.body);h=w}while(h);Cf(u)}function aP(o,u){var h=o;o=0;do{var y=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),y&&y.nodeType===8)if(h=y.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=y}while(h)}function kT(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":kT(h),pa(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function pQ(o,u,h,y){for(;o.nodeType===1;){var w=h;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!y&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(y){if(!o[un])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(T=o.getAttribute("rel"),T==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(T!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(T=o.getAttribute("src"),(T!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&T&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var T=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===T)return o}else return o;if(o=as(o.nextSibling),o===null)break}return null}function mQ(o,u,h){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=as(o.nextSibling),o===null))return null;return o}function oP(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=as(o.nextSibling),o===null))return null;return o}function _T(o){return o.data==="$?"||o.data==="$~"}function AT(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function gQ(o,u){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||h.readyState!=="loading")u();else{var y=function(){u(),h.removeEventListener("DOMContentLoaded",y)};h.addEventListener("DOMContentLoaded",y),o._reactRetry=y}}function as(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var CT=null;function lP(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(u===0)return as(o.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}o=o.nextSibling}return null}function cP(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return o;u--}else h!=="/$"&&h!=="/&"||u++}o=o.previousSibling}return null}function uP(o,u,h){switch(u=Vy(h),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Wp(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);pa(o)}var ls=new Map,dP=new Set;function By(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var To=Y.d;Y.d={f:yQ,r:vQ,D:bQ,C:xQ,L:wQ,m:SQ,X:EQ,S:TQ,M:kQ};function yQ(){var o=To.f(),u=Oy();return o||u}function vQ(o){var u=li(o);u!==null&&u.tag===5&&u.type==="form"?CI(u):To.r(o)}var kf=typeof document>"u"?null:document;function fP(o,u,h){var y=kf;if(y&&typeof u=="string"&&u){var w=ci(u);w='link[rel="'+o+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),dP.has(w)||(dP.add(w),o={rel:o,crossOrigin:h,href:u},y.querySelector(w)===null&&(u=y.createElement("link"),yr(u,"link",o),An(u),y.head.appendChild(u)))}}function bQ(o){To.D(o),fP("dns-prefetch",o,null)}function xQ(o,u){To.C(o,u),fP("preconnect",o,u)}function wQ(o,u,h){To.L(o,u,h);var y=kf;if(y&&o&&u){var w='link[rel="preload"][as="'+ci(u)+'"]';u==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+ci(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+ci(h.imageSizes)+'"]')):w+='[href="'+ci(o)+'"]';var T=w;switch(u){case"style":T=_f(o);break;case"script":T=Af(o)}ls.has(T)||(o=p({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:o,as:u},h),ls.set(T,o),y.querySelector(w)!==null||u==="style"&&y.querySelector(Gp(T))||u==="script"&&y.querySelector(Kp(T))||(u=y.createElement("link"),yr(u,"link",o),An(u),y.head.appendChild(u)))}}function SQ(o,u){To.m(o,u);var h=kf;if(h&&o){var y=u&&typeof u.as=="string"?u.as:"script",w='link[rel="modulepreload"][as="'+ci(y)+'"][href="'+ci(o)+'"]',T=w;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Af(o)}if(!ls.has(T)&&(o=p({rel:"modulepreload",href:o},u),ls.set(T,o),h.querySelector(w)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Kp(T)))return}y=h.createElement("link"),yr(y,"link",o),An(y),h.head.appendChild(y)}}}function TQ(o,u,h){To.S(o,u,h);var y=kf;if(y&&o){var w=ma(y).hoistableStyles,T=_f(o);u=u||"default";var N=w.get(T);if(!N){var F={loading:0,preload:null};if(N=y.querySelector(Gp(T)))F.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":u},h),(h=ls.get(T))&&NT(o,h);var q=N=y.createElement("link");An(q),yr(q,"link",o),q._p=new Promise(function(Z,oe){q.onload=Z,q.onerror=oe}),q.addEventListener("load",function(){F.loading|=1}),q.addEventListener("error",function(){F.loading|=2}),F.loading|=4,zy(N,u,y)}N={type:"stylesheet",instance:N,count:1,state:F},w.set(T,N)}}}function EQ(o,u){To.X(o,u);var h=kf;if(h&&o){var y=ma(h).hoistableScripts,w=Af(o),T=y.get(w);T||(T=h.querySelector(Kp(w)),T||(o=p({src:o,async:!0},u),(u=ls.get(w))&&OT(o,u),T=h.createElement("script"),An(T),yr(T,"link",o),h.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},y.set(w,T))}}function kQ(o,u){To.M(o,u);var h=kf;if(h&&o){var y=ma(h).hoistableScripts,w=Af(o),T=y.get(w);T||(T=h.querySelector(Kp(w)),T||(o=p({src:o,async:!0,type:"module"},u),(u=ls.get(w))&&OT(o,u),T=h.createElement("script"),An(T),yr(T,"link",o),h.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},y.set(w,T))}}function hP(o,u,h,y){var w=(w=pe.current)?By(w):null;if(!w)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=_f(h.href),h=ma(w).hoistableStyles,y=h.get(u),y||(y={type:"style",instance:null,count:0,state:null},h.set(u,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=_f(h.href);var T=ma(w).hoistableStyles,N=T.get(o);if(N||(w=w.ownerDocument||w,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(o,N),(T=w.querySelector(Gp(o)))&&!T._p&&(N.instance=T,N.state.loading=5),ls.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ls.set(o,h),T||_Q(w,o,h,N.state))),u&&y===null)throw Error(r(528,""));return N}if(u&&y!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Af(h),h=ma(w).hoistableScripts,y=h.get(u),y||(y={type:"script",instance:null,count:0,state:null},h.set(u,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function _f(o){return'href="'+ci(o)+'"'}function Gp(o){return'link[rel="stylesheet"]['+o+"]"}function pP(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function _Q(o,u,h,y){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?y.loading=1:(u=o.createElement("link"),y.preload=u,u.addEventListener("load",function(){return y.loading|=1}),u.addEventListener("error",function(){return y.loading|=2}),yr(u,"link",h),An(u),o.head.appendChild(u))}function Af(o){return'[src="'+ci(o)+'"]'}function Kp(o){return"script[async]"+o}function mP(o,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var y=o.querySelector('style[data-href~="'+ci(h.href)+'"]');if(y)return u.instance=y,An(y),y;var w=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return y=(o.ownerDocument||o).createElement("style"),An(y),yr(y,"style",w),zy(y,h.precedence,o),u.instance=y;case"stylesheet":w=_f(h.href);var T=o.querySelector(Gp(w));if(T)return u.state.loading|=4,u.instance=T,An(T),T;y=pP(h),(w=ls.get(w))&&NT(y,w),T=(o.ownerDocument||o).createElement("link"),An(T);var N=T;return N._p=new Promise(function(F,q){N.onload=F,N.onerror=q}),yr(T,"link",y),u.state.loading|=4,zy(T,h.precedence,o),u.instance=T;case"script":return T=Af(h.src),(w=o.querySelector(Kp(T)))?(u.instance=w,An(w),w):(y=h,(w=ls.get(T))&&(y=p({},h),OT(y,w)),o=o.ownerDocument||o,w=o.createElement("script"),An(w),yr(w,"link",y),o.head.appendChild(w),u.instance=w);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(y=u.instance,u.state.loading|=4,zy(y,h.precedence,o));return u.instance}function zy(o,u,h){for(var y=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=y.length?y[y.length-1]:null,T=w,N=0;N<y.length;N++){var F=y[N];if(F.dataset.precedence===u)T=F;else if(T!==w)break}T?T.parentNode.insertBefore(o,T.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(o,u.firstChild))}function NT(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function OT(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var Uy=null;function gP(o,u,h){if(Uy===null){var y=new Map,w=Uy=new Map;w.set(h,y)}else w=Uy,y=w.get(h),y||(y=new Map,w.set(h,y));if(y.has(o))return y;for(y.set(o,null),h=h.getElementsByTagName(o),w=0;w<h.length;w++){var T=h[w];if(!(T[un]||T[sn]||o==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var N=T.getAttribute(u)||"";N=o+N;var F=y.get(N);F?F.push(T):y.set(N,[T])}}return y}function yP(o,u,h){o=o.ownerDocument||o,o.head.insertBefore(h,u==="title"?o.querySelector("head > title"):null)}function AQ(o,u,h){if(h===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function vP(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function CQ(o,u,h,y){if(h.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var w=_f(y.href),T=u.querySelector(Gp(w));if(T){u=T._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=Fy.bind(o),u.then(o,o)),h.state.loading|=4,h.instance=T,An(T);return}T=u.ownerDocument||u,y=pP(y),(w=ls.get(w))&&NT(y,w),T=T.createElement("link"),An(T);var N=T;N._p=new Promise(function(F,q){N.onload=F,N.onerror=q}),yr(T,"link",y),h.instance=T}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=Fy.bind(o),u.addEventListener("load",h),u.addEventListener("error",h))}}var MT=0;function NQ(o,u){return o.stylesheets&&o.count===0&&Hy(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var y=setTimeout(function(){if(o.stylesheets&&Hy(o,o.stylesheets),o.unsuspend){var T=o.unsuspend;o.unsuspend=null,T()}},6e4+u);0<o.imgBytes&&MT===0&&(MT=62500*cQ());var w=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Hy(o,o.stylesheets),o.unsuspend)){var T=o.unsuspend;o.unsuspend=null,T()}},(o.imgBytes>MT?50:800)+u);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(y),clearTimeout(w)}}:null}function Fy(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hy(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var $y=null;function Hy(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,$y=new Map,u.forEach(OQ,o),$y=null,Fy.call(o))}function OQ(o,u){if(!(u.state.loading&4)){var h=$y.get(o);if(h)var y=h.get(null);else{h=new Map,$y.set(o,h);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<w.length;T++){var N=w[T];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(h.set(N.dataset.precedence,N),y=N)}y&&h.set(null,y)}w=u.instance,N=w.getAttribute("data-precedence"),T=h.get(N)||y,T===y&&h.set(null,w),h.set(N,w),this.count++,y=Fy.bind(this),w.addEventListener("load",y),w.addEventListener("error",y),T?T.parentNode.insertBefore(w,T.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),u.state.loading|=4}}var Yp={$$typeof:O,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function MQ(o,u,h,y,w,T,N,F,q){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.hiddenUpdates=Ki(null),this.identifierPrefix=y,this.onUncaughtError=w,this.onCaughtError=T,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function bP(o,u,h,y,w,T,N,F,q,Z,oe,ue){return o=new MQ(o,u,h,N,q,Z,oe,ue,F),u=1,T===!0&&(u|=24),T=Ii(3,null,null,u),o.current=T,T.stateNode=o,u=uS(),u.refCount++,o.pooledCache=u,u.refCount++,T.memoizedState={element:y,isDehydrated:h,cache:u},pS(T),o}function xP(o){return o?(o=rf,o):rf}function wP(o,u,h,y,w,T){w=xP(w),y.context===null?y.context=w:y.pendingContext=w,y=Nl(u),y.payload={element:h},T=T===void 0?null:T,T!==null&&(y.callback=T),h=Ol(o,y,u),h!==null&&(mi(h,o,u),Ap(h,o,u))}function SP(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<u?h:u}}function jT(o,u){SP(o,u),(o=o.alternate)&&SP(o,u)}function TP(o){if(o.tag===13||o.tag===31){var u=xu(o,67108864);u!==null&&mi(u,o,67108864),jT(o,67108864)}}function EP(o){if(o.tag===13||o.tag===31){var u=Vi();u=Vs(u);var h=xu(o,u);h!==null&&mi(h,o,u),jT(o,u)}}var qy=!0;function jQ(o,u,h,y){var w=W.T;W.T=null;var T=Y.p;try{Y.p=2,IT(o,u,h,y)}finally{Y.p=T,W.T=w}}function IQ(o,u,h,y){var w=W.T;W.T=null;var T=Y.p;try{Y.p=8,IT(o,u,h,y)}finally{Y.p=T,W.T=w}}function IT(o,u,h,y){if(qy){var w=DT(y);if(w===null)bT(o,u,y,Wy,h),_P(o,y);else if(PQ(w,o,u,h,y))y.stopPropagation();else if(_P(o,y),u&4&&-1<DQ.indexOf(o)){for(;w!==null;){var T=li(w);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var N=Bt(T.pendingLanes);if(N!==0){var F=T;for(F.pendingLanes|=2,F.entangledLanes|=2;N;){var q=1<<31-Kt(N);F.entanglements[1]|=q,N&=~q}Ca(T),(gt&6)===0&&(Cy=fr()+500,$p(0))}}break;case 31:case 13:F=xu(T,2),F!==null&&mi(F,T,2),Oy(),jT(T,2)}if(T=DT(y),T===null&&bT(o,u,y,Wy,h),T===w)break;w=T}w!==null&&y.stopPropagation()}else bT(o,u,y,null,h)}}function DT(o){return o=Qi(o),PT(o)}var Wy=null;function PT(o){if(Wy=null,o=Xi(o),o!==null){var u=s(o);if(u===null)o=null;else{var h=u.tag;if(h===13){if(o=a(u),o!==null)return o;o=null}else if(h===31){if(o=l(u),o!==null)return o;o=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return Wy=o,null}function kP(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(no()){case ru:return 2;case iu:return 8;case ua:case su:return 32;case au:return 268435456;default:return 32}default:return 32}}var RT=!1,Ul=null,Fl=null,$l=null,Xp=new Map,Qp=new Map,Hl=[],DQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _P(o,u){switch(o){case"focusin":case"focusout":Ul=null;break;case"dragenter":case"dragleave":Fl=null;break;case"mouseover":case"mouseout":$l=null;break;case"pointerover":case"pointerout":Xp.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qp.delete(u.pointerId)}}function Jp(o,u,h,y,w,T){return o===null||o.nativeEvent!==T?(o={blockedOn:u,domEventName:h,eventSystemFlags:y,nativeEvent:T,targetContainers:[w]},u!==null&&(u=li(u),u!==null&&TP(u)),o):(o.eventSystemFlags|=y,u=o.targetContainers,w!==null&&u.indexOf(w)===-1&&u.push(w),o)}function PQ(o,u,h,y,w){switch(u){case"focusin":return Ul=Jp(Ul,o,u,h,y,w),!0;case"dragenter":return Fl=Jp(Fl,o,u,h,y,w),!0;case"mouseover":return $l=Jp($l,o,u,h,y,w),!0;case"pointerover":var T=w.pointerId;return Xp.set(T,Jp(Xp.get(T)||null,o,u,h,y,w)),!0;case"gotpointercapture":return T=w.pointerId,Qp.set(T,Jp(Qp.get(T)||null,o,u,h,y,w)),!0}return!1}function AP(o){var u=Xi(o.target);if(u!==null){var h=s(u);if(h!==null){if(u=h.tag,u===13){if(u=a(h),u!==null){o.blockedOn=u,Ni(o.priority,function(){EP(h)});return}}else if(u===31){if(u=l(h),u!==null){o.blockedOn=u,Ni(o.priority,function(){EP(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Gy(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var h=DT(o.nativeEvent);if(h===null){h=o.nativeEvent;var y=new h.constructor(h.type,h);dp=y,h.target.dispatchEvent(y),dp=null}else return u=li(h),u!==null&&TP(u),o.blockedOn=h,!1;u.shift()}return!0}function CP(o,u,h){Gy(o)&&h.delete(u)}function RQ(){RT=!1,Ul!==null&&Gy(Ul)&&(Ul=null),Fl!==null&&Gy(Fl)&&(Fl=null),$l!==null&&Gy($l)&&($l=null),Xp.forEach(CP),Qp.forEach(CP)}function Ky(o,u){o.blockedOn===u&&(o.blockedOn=null,RT||(RT=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,RQ)))}var Yy=null;function NP(o){Yy!==o&&(Yy=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yy===o&&(Yy=null);for(var u=0;u<o.length;u+=3){var h=o[u],y=o[u+1],w=o[u+2];if(typeof y!="function"){if(PT(y||h)===null)continue;break}var T=li(h);T!==null&&(o.splice(u,3),u-=3,DS(T,{pending:!0,data:w,method:h.method,action:y},y,w))}}))}function Cf(o){function u(q){return Ky(q,o)}Ul!==null&&Ky(Ul,o),Fl!==null&&Ky(Fl,o),$l!==null&&Ky($l,o),Xp.forEach(u),Qp.forEach(u);for(var h=0;h<Hl.length;h++){var y=Hl[h];y.blockedOn===o&&(y.blockedOn=null)}for(;0<Hl.length&&(h=Hl[0],h.blockedOn===null);)AP(h),h.blockedOn===null&&Hl.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(y=0;y<h.length;y+=3){var w=h[y],T=h[y+1],N=w[_n]||null;if(typeof T=="function")N||NP(h);else if(N){var F=null;if(T&&T.hasAttribute("formAction")){if(w=T,N=T[_n]||null)F=N.formAction;else if(PT(w)!==null)continue}else F=N.action;typeof F=="function"?h[y+1]=F:(h.splice(y,3),y-=3),NP(h)}}}function OP(){function o(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(N){return w=N})},focusReset:"manual",scroll:"manual"})}function u(){w!==null&&(w(),w=null),y||setTimeout(h,20)}function h(){if(!y&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,w=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){y=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),w!==null&&(w(),w=null)}}}function LT(o){this._internalRoot=o}Xy.prototype.render=LT.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,y=Vi();wP(h,y,o,u,null,null)},Xy.prototype.unmount=LT.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;wP(o.current,2,null,o,null,null),Oy(),u[Yi]=null}};function Xy(o){this._internalRoot=o}Xy.prototype.unstable_scheduleHydration=function(o){if(o){var u=pl();o={blockedOn:null,target:o,priority:u};for(var h=0;h<Hl.length&&u!==0&&u<Hl[h].priority;h++);Hl.splice(h,0,o),h===0&&AP(o)}};var MP=e.version;if(MP!=="19.2.0")throw Error(r(527,MP,"19.2.0"));Y.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(u),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var LQ={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qy.isDisabled&&Qy.supportsFiber)try{Mr=Qy.inject(LQ),kn=Qy}catch{}}return em.createRoot=function(o,u){if(!i(o))throw Error(r(299));var h=!1,y="",w=VI,T=BI,N=zI;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(N=u.onRecoverableError)),u=bP(o,1,!1,null,null,h,y,null,w,T,N,OP),o[Yi]=u.current,vT(o),new LT(u)},em.hydrateRoot=function(o,u,h){if(!i(o))throw Error(r(299));var y=!1,w="",T=VI,N=BI,F=zI,q=null;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(T=h.onUncaughtError),h.onCaughtError!==void 0&&(N=h.onCaughtError),h.onRecoverableError!==void 0&&(F=h.onRecoverableError),h.formState!==void 0&&(q=h.formState)),u=bP(o,1,!0,u,h??null,y,w,q,T,N,F,OP),u.context=xP(null),h=u.current,y=Vi(),y=Vs(y),w=Nl(y),w.callback=null,Ol(h,w,y),h=y,u.current.lanes=h,Ls(u,h),Ca(u),o[Yi]=u.current,vT(o),new Xy(u)},em.version="19.2.0",em}var UP;function KQ(){if(UP)return zT.exports;UP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zT.exports=GQ(),zT.exports}var YQ=KQ();const c2=_.createContext({});function u2(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const d2=typeof window<"u",Yz=d2?_.useLayoutEffect:_.useEffect,pw=_.createContext(null);function f2(t,e){t.indexOf(e)===-1&&t.push(e)}function h2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fo=(t,e,n)=>n>e?e:n<t?t:n;let p2=()=>{};const $o={},Xz=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Qz(t){return typeof t=="object"&&t!==null}const Jz=t=>/^0[^.\s]+$/u.test(t);function m2(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ss=t=>t,XQ=(t,e)=>n=>e(t(n)),Fg=(...t)=>t.reduce(XQ),Jm=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class g2{constructor(){this.subscriptions=[]}add(e){return f2(this.subscriptions,e),()=>h2(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const La=t=>t*1e3,bs=t=>t/1e3;function Zz(t,e){return e?t*(1e3/e):0}const eU=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,QQ=1e-7,JQ=12;function ZQ(t,e,n,r,i){let s,a,l=0;do a=e+(n-e)/2,s=eU(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>QQ&&++l<JQ);return a}function $g(t,e,n,r){if(t===e&&n===r)return Ss;const i=s=>ZQ(s,0,1,t,n);return s=>s===0||s===1?s:eU(i(s),e,r)}const tU=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,nU=t=>e=>1-t(1-e),rU=$g(.33,1.53,.69,.99),y2=nU(rU),iU=tU(y2),sU=t=>(t*=2)<1?.5*y2(t):.5*(2-Math.pow(2,-10*(t-1))),v2=t=>1-Math.sin(Math.acos(t)),aU=nU(v2),oU=tU(v2),eJ=$g(.42,0,1,1),tJ=$g(0,0,.58,1),lU=$g(.42,0,.58,1),nJ=t=>Array.isArray(t)&&typeof t[0]!="number",cU=t=>Array.isArray(t)&&typeof t[0]=="number",rJ={linear:Ss,easeIn:eJ,easeInOut:lU,easeOut:tJ,circIn:v2,circInOut:oU,circOut:aU,backIn:y2,backInOut:iU,backOut:rU,anticipate:sU},iJ=t=>typeof t=="string",FP=t=>{if(cU(t)){p2(t.length===4);const[e,n,r,i]=t;return $g(e,n,r,i)}else if(iJ(t))return rJ[t];return t},Jy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function sJ(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){a.has(f)&&(d.schedule(f),t()),f(l)}const d={schedule:(f,p=!1,g=!1)=>{const b=g&&i?n:r;return p&&a.add(f),b.has(f)||b.add(f),f},cancel:f=>{r.delete(f),a.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const aJ=40;function uU(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Jy.reduce((O,z)=>(O[z]=sJ(s),O),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:f,update:p,preRender:g,render:v,postRender:b}=a,E=()=>{const O=$o.useManualTiming?i.timestamp:performance.now();n=!1,$o.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(O-i.timestamp,aJ),1)),i.timestamp=O,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),f.process(i),p.process(i),g.process(i),v.process(i),b.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(E))},S=()=>{n=!0,r=!0,i.isProcessing||t(E)};return{schedule:Jy.reduce((O,z)=>{const P=a[z];return O[z]=(U,I=!1,j=!1)=>(n||S(),P.schedule(U,I,j)),O},{}),cancel:O=>{for(let z=0;z<Jy.length;z++)a[Jy[z]].cancel(O)},state:i,steps:a}}const{schedule:Jt,cancel:_c,state:xr,steps:HT}=uU(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ss,!0);let Bv;function oJ(){Bv=void 0}const wi={now:()=>(Bv===void 0&&wi.set(xr.isProcessing||$o.useManualTiming?xr.timestamp:performance.now()),Bv),set:t=>{Bv=t,queueMicrotask(oJ)}},dU=t=>e=>typeof e=="string"&&e.startsWith(t),fU=dU("--"),lJ=dU("var(--"),b2=t=>lJ(t)?cJ.test(t.split("/*")[0].trim()):!1,cJ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ih={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zm={...Ih,transform:t=>Fo(0,1,t)},Zy={...Ih,default:1},Nm=t=>Math.round(t*1e5)/1e5,x2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uJ(t){return t==null}const dJ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,w2=(t,e)=>n=>!!(typeof n=="string"&&dJ.test(n)&&n.startsWith(t)||e&&!uJ(n)&&Object.prototype.hasOwnProperty.call(n,e)),hU=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,l]=r.match(x2);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},fJ=t=>Fo(0,255,t),qT={...Ih,transform:t=>Math.round(fJ(t))},Hu={test:w2("rgb","red"),parse:hU("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+qT.transform(t)+", "+qT.transform(e)+", "+qT.transform(n)+", "+Nm(Zm.transform(r))+")"};function hJ(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const N_={test:w2("#"),parse:hJ,transform:Hu.transform},Hg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Yl=Hg("deg"),Va=Hg("%"),Fe=Hg("px"),pJ=Hg("vh"),mJ=Hg("vw"),$P={...Va,parse:t=>Va.parse(t)/100,transform:t=>Va.transform(t*100)},$f={test:w2("hsl","hue"),parse:hU("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Va.transform(Nm(e))+", "+Va.transform(Nm(n))+", "+Nm(Zm.transform(r))+")"},Dn={test:t=>Hu.test(t)||N_.test(t)||$f.test(t),parse:t=>Hu.test(t)?Hu.parse(t):$f.test(t)?$f.parse(t):N_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Hu.transform(t):$f.transform(t),getAnimatableNone:t=>{const e=Dn.parse(t);return e.alpha=0,Dn.transform(e)}},gJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yJ(t){return isNaN(t)&&typeof t=="string"&&(t.match(x2)?.length||0)+(t.match(gJ)?.length||0)>0}const pU="number",mU="color",vJ="var",bJ="var(",HP="${}",xJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eg(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(xJ,c=>(Dn.test(c)?(r.color.push(s),i.push(mU),n.push(Dn.parse(c))):c.startsWith(bJ)?(r.var.push(s),i.push(vJ),n.push(c)):(r.number.push(s),i.push(pU),n.push(parseFloat(c))),++s,HP)).split(HP);return{values:n,split:l,indexes:r,types:i}}function gU(t){return eg(t).values}function yU(t){const{split:e,types:n}=eg(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const l=n[a];l===pU?s+=Nm(i[a]):l===mU?s+=Dn.transform(i[a]):s+=i[a]}return s}}const wJ=t=>typeof t=="number"?0:Dn.test(t)?Dn.getAnimatableNone(t):t;function SJ(t){const e=gU(t);return yU(t)(e.map(wJ))}const Ac={test:yJ,parse:gU,createTransformer:yU,getAnimatableNone:SJ};function WT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function TJ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=WT(c,l,t+1/3),s=WT(c,l,t),a=WT(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function db(t,e){return n=>n>0?e:t}const on=(t,e,n)=>t+(e-t)*n,GT=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},EJ=[N_,Hu,$f],kJ=t=>EJ.find(e=>e.test(t));function qP(t){const e=kJ(t);if(!e)return!1;let n=e.parse(t);return e===$f&&(n=TJ(n)),n}const WP=(t,e)=>{const n=qP(t),r=qP(e);if(!n||!r)return db(t,e);const i={...n};return s=>(i.red=GT(n.red,r.red,s),i.green=GT(n.green,r.green,s),i.blue=GT(n.blue,r.blue,s),i.alpha=on(n.alpha,r.alpha,s),Hu.transform(i))},O_=new Set(["none","hidden"]);function _J(t,e){return O_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function AJ(t,e){return n=>on(t,e,n)}function S2(t){return typeof t=="number"?AJ:typeof t=="string"?b2(t)?db:Dn.test(t)?WP:OJ:Array.isArray(t)?vU:typeof t=="object"?Dn.test(t)?WP:CJ:db}function vU(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>S2(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function CJ(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=S2(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function NJ(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],l=t.values[a]??0;n[i]=l,r[s]++}return n}const OJ=(t,e)=>{const n=Ac.createTransformer(e),r=eg(t),i=eg(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?O_.has(t)&&!i.values.length||O_.has(e)&&!r.values.length?_J(t,e):Fg(vU(NJ(r,i),i.values),n):db(t,e)};function bU(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?on(t,e,n):S2(t)(t,e)}const MJ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Jt.update(e,n),stop:()=>_c(e),now:()=>xr.isProcessing?xr.timestamp:wi.now()}},xU=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},fb=2e4;function T2(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<fb;)e+=n,r=t.next(e);return e>=fb?1/0:e}function jJ(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(T2(r),fb);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:bs(i)}}const IJ=5;function wU(t,e,n){const r=Math.max(e-IJ,0);return Zz(n-t(r),e-r)}const pn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},KT=.001;function DJ({duration:t=pn.duration,bounce:e=pn.bounce,velocity:n=pn.velocity,mass:r=pn.mass}){let i,s,a=1-e;a=Fo(pn.minDamping,pn.maxDamping,a),t=Fo(pn.minDuration,pn.maxDuration,bs(t)),a<1?(i=d=>{const f=d*a,p=f*t,g=f-n,v=M_(d,a),b=Math.exp(-p);return KT-g/v*b},s=d=>{const p=d*a*t,g=p*n+n,v=Math.pow(a,2)*Math.pow(d,2)*t,b=Math.exp(-p),E=M_(Math.pow(d,2),a);return(-i(d)+KT>0?-1:1)*((g-v)*b)/E}):(i=d=>{const f=Math.exp(-d*t),p=(d-n)*t+1;return-KT+f*p},s=d=>{const f=Math.exp(-d*t),p=(n-d)*(t*t);return f*p});const l=5/t,c=RJ(i,s,l);if(t=La(t),isNaN(c))return{stiffness:pn.stiffness,damping:pn.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:t}}}const PJ=12;function RJ(t,e,n){let r=n;for(let i=1;i<PJ;i++)r=r-t(r)/e(r);return r}function M_(t,e){return t*Math.sqrt(1-e*e)}const LJ=["duration","bounce"],VJ=["stiffness","damping","mass"];function GP(t,e){return e.some(n=>t[n]!==void 0)}function BJ(t){let e={velocity:pn.velocity,stiffness:pn.stiffness,damping:pn.damping,mass:pn.mass,isResolvedFromDuration:!1,...t};if(!GP(t,VJ)&&GP(t,LJ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Fo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:pn.mass,stiffness:i,damping:s}}else{const n=DJ(t);e={...e,...n,mass:pn.mass},e.isResolvedFromDuration=!0}return e}function hb(t=pn.visualDuration,e=pn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:d,mass:f,duration:p,velocity:g,isResolvedFromDuration:v}=BJ({...n,velocity:-bs(n.velocity||0)}),b=g||0,E=d/(2*Math.sqrt(c*f)),S=a-s,k=bs(Math.sqrt(c/f)),C=Math.abs(S)<5;r||(r=C?pn.restSpeed.granular:pn.restSpeed.default),i||(i=C?pn.restDelta.granular:pn.restDelta.default);let O;if(E<1){const P=M_(k,E);O=U=>{const I=Math.exp(-E*k*U);return a-I*((b+E*k*S)/P*Math.sin(P*U)+S*Math.cos(P*U))}}else if(E===1)O=P=>a-Math.exp(-k*P)*(S+(b+k*S)*P);else{const P=k*Math.sqrt(E*E-1);O=U=>{const I=Math.exp(-E*k*U),j=Math.min(P*U,300);return a-I*((b+E*k*S)*Math.sinh(j)+P*S*Math.cosh(j))/P}}const z={calculatedDuration:v&&p||null,next:P=>{const U=O(P);if(v)l.done=P>=p;else{let I=P===0?b:0;E<1&&(I=P===0?La(b):wU(O,P,U));const j=Math.abs(I)<=r,M=Math.abs(a-U)<=i;l.done=j&&M}return l.value=l.done?a:U,l},toString:()=>{const P=Math.min(T2(z),fb),U=xU(I=>z.next(P*I).value,P,30);return P+"ms "+U},toTransition:()=>{}};return z}hb.applyToOptions=t=>{const e=jJ(t,100,hb);return t.ease=e.ease,t.duration=La(e.duration),t.type="keyframes",t};function j_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:d=.5,restSpeed:f}){const p=t[0],g={done:!1,value:p},v=j=>l!==void 0&&j<l||c!==void 0&&j>c,b=j=>l===void 0?c:c===void 0||Math.abs(l-j)<Math.abs(c-j)?l:c;let E=n*e;const S=p+E,k=a===void 0?S:a(S);k!==S&&(E=k-p);const C=j=>-E*Math.exp(-j/r),O=j=>k+C(j),z=j=>{const M=C(j),R=O(j);g.done=Math.abs(M)<=d,g.value=g.done?k:R};let P,U;const I=j=>{v(g.value)&&(P=j,U=hb({keyframes:[g.value,b(g.value)],velocity:wU(O,j,g.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return I(0),{calculatedDuration:null,next:j=>{let M=!1;return!U&&P===void 0&&(M=!0,z(j),I(j)),P!==void 0&&j>=P?U.next(j-P):(!M&&z(j),g)}}}function zJ(t,e,n){const r=[],i=n||$o.mix||bU,s=t.length-1;for(let a=0;a<s;a++){let l=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Ss:e;l=Fg(c,l)}r.push(l)}return r}function UJ(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(p2(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=zJ(e,r,i),c=l.length,d=f=>{if(a&&f<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const g=Jm(t[p],t[p+1],f);return l[p](g)};return n?f=>d(Fo(t[0],t[s-1],f)):d}function FJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Jm(0,e,r);t.push(on(n,1,i))}}function $J(t){const e=[0];return FJ(e,t.length-1),e}function HJ(t,e){return t.map(n=>n*e)}function qJ(t,e){return t.map(()=>e||lU).splice(0,t.length-1)}function Om({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=nJ(r)?r.map(FP):FP(r),s={done:!1,value:e[0]},a=HJ(n&&n.length===e.length?n:$J(e),t),l=UJ(a,e,{ease:Array.isArray(i)?i:qJ(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const WJ=t=>t!==null;function E2(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(WJ),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const GJ={decay:j_,inertia:j_,tween:Om,keyframes:Om,spring:hb};function SU(t){typeof t.type=="string"&&(t.type=GJ[t.type])}class k2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const KJ=t=>t/100;class _2 extends k2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==wi.now()&&this.tick(wi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;SU(e);const{type:n=Om,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:l}=e;const c=n||Om;c!==Om&&typeof l[0]!="number"&&(this.mixKeyframes=Fg(KJ,bU(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=T2(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:p,repeatType:g,repeatDelay:v,type:b,onUpdate:E,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-d*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?k<0:k>i;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let O=this.currentTime,z=r;if(p){const j=Math.min(this.currentTime,i)/l;let M=Math.floor(j),R=j%1;!R&&j>=1&&(R=1),R===1&&M--,M=Math.min(M,p+1),!!(M%2)&&(g==="reverse"?(R=1-R,v&&(R-=v/l)):g==="mirror"&&(z=a)),O=Fo(0,1,R)*l}const P=C?{done:!1,value:f[0]}:z.next(O);s&&(P.value=s(P.value));let{done:U}=P;!C&&c!==null&&(U=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return I&&b!==j_&&(P.value=E2(f,this.options,S,this.speed)),E&&E(P.value),I&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return bs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bs(e)}get time(){return bs(this.currentTime)}set time(e){e=La(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=bs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=MJ,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function YJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const qu=t=>t*180/Math.PI,I_=t=>{const e=qu(Math.atan2(t[1],t[0]));return D_(e)},XJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:I_,rotateZ:I_,skewX:t=>qu(Math.atan(t[1])),skewY:t=>qu(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},D_=t=>(t=t%360,t<0&&(t+=360),t),KP=I_,YP=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),XP=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),QJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:YP,scaleY:XP,scale:t=>(YP(t)+XP(t))/2,rotateX:t=>D_(qu(Math.atan2(t[6],t[5]))),rotateY:t=>D_(qu(Math.atan2(-t[2],t[0]))),rotateZ:KP,rotate:KP,skewX:t=>qu(Math.atan(t[4])),skewY:t=>qu(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function P_(t){return t.includes("scale")?1:0}function R_(t,e){if(!t||t==="none")return P_(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=QJ,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=XJ,i=l}if(!i)return P_(e);const s=r[e],a=i[1].split(",").map(ZJ);return typeof s=="function"?s(a):a[s]}const JJ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return R_(n,e)};function ZJ(t){return parseFloat(t.trim())}const Dh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ph=new Set(Dh),QP=t=>t===Ih||t===Fe,eZ=new Set(["x","y","z"]),tZ=Dh.filter(t=>!eZ.has(t));function nZ(t){const e=[];return tZ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const td={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>R_(e,"x"),y:(t,{transform:e})=>R_(e,"y")};td.translateX=td.x;td.translateY=td.y;const nd=new Set;let L_=!1,V_=!1,B_=!1;function TU(){if(V_){const t=Array.from(nd).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=nZ(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}V_=!1,L_=!1,nd.forEach(t=>t.complete(B_)),nd.clear()}function EU(){nd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(V_=!0)})}function rZ(){B_=!0,EU(),TU(),B_=!1}class A2{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(nd.add(this),L_||(L_=!0,Jt.read(EU),Jt.resolveKeyframes(TU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}YJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),nd.delete(this)}cancel(){this.state==="scheduled"&&(nd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const iZ=t=>t.startsWith("--");function sZ(t,e,n){iZ(e)?t.style.setProperty(e,n):t.style[e]=n}const aZ=m2(()=>window.ScrollTimeline!==void 0),oZ={};function lZ(t,e){const n=m2(t);return()=>oZ[e]??n()}const kU=lZ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,JP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pm([0,.65,.55,1]),circOut:pm([.55,0,1,.45]),backIn:pm([.31,.01,.66,-.59]),backOut:pm([.33,1.53,.69,.99])};function _U(t,e){if(t)return typeof t=="function"?kU()?xU(t,e):"ease-out":cU(t)?pm(t):Array.isArray(t)?t.map(n=>_U(n,e)||JP.easeOut):JP[t]}function cZ(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:c}={},d=void 0){const f={[e]:n};c&&(f.offset=c);const p=_U(l,i);Array.isArray(p)&&(f.easing=p);const g={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return d&&(g.pseudoElement=d),t.animate(f,g)}function AU(t){return typeof t=="function"&&"applyToOptions"in t}function uZ({type:t,...e}){return AU(t)&&kU()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class dZ extends k2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,p2(typeof e.type!="string");const d=uZ(e);this.animation=cZ(n,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=E2(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):sZ(n,r,f),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return bs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bs(e)}get time(){return bs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=La(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&aZ()?(this.animation.timeline=e,Ss):n(this)}}const CU={anticipate:sU,backInOut:iU,circInOut:oU};function fZ(t){return t in CU}function hZ(t){typeof t.ease=="string"&&fZ(t.ease)&&(t.ease=CU[t.ease])}const ZP=10;class pZ extends dZ{constructor(e){hZ(e),SU(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new _2({...a,autoplay:!1}),c=La(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-ZP).value,l.sample(c).value,ZP),l.stop()}}const eR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ac.test(t)||t==="0")&&!t.startsWith("url("));function mZ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function gZ(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=eR(i,e),l=eR(s,e);return!a||!l?!1:mZ(t)||(n==="spring"||AU(n))&&r}function z_(t){t.duration=0,t.type="keyframes"}const yZ=new Set(["opacity","clipPath","filter","transform"]),vZ=m2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function bZ(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return vZ()&&n&&yZ.has(n)&&(n!=="transform"||!d)&&!c&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const xZ=40;class wZ extends k2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:c,motionValue:d,element:f,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=wi.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:d,element:f,...p},v=f?.KeyframeResolver||A2;this.keyframeResolver=new v(l,(b,E,S)=>this.onKeyframesResolved(b,E,g,!S),c,d,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:c,isHandoff:d,onUpdate:f}=r;this.resolvedAt=wi.now(),gZ(e,s,a,l)||(($o.instantAnimations||!c)&&f?.(E2(e,r,n)),e[0]=e[e.length-1],z_(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>xZ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!d&&bZ(g)?new pZ({...g,element:g.motionValue.owner.current}):new _2(g);v.finished.then(()=>this.notifyFinished()).catch(Ss),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),rZ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const SZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TZ(t){const e=SZ.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function NU(t,e,n=1){const[r,i]=TZ(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return Xz(a)?parseFloat(a):a}return b2(i)?NU(i,e,n+1):i}function C2(t,e){return t?.[e]??t?.default??t}const OU=new Set(["width","height","top","left","right","bottom",...Dh]),EZ={test:t=>t==="auto",parse:t=>t},MU=t=>e=>e.test(t),jU=[Ih,Fe,Va,Yl,mJ,pJ,EZ],tR=t=>jU.find(MU(t));function kZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Jz(t):!0}const _Z=new Set(["brightness","contrast","saturate","opacity"]);function AZ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(x2)||[];if(!r)return t;const i=n.replace(r,"");let s=_Z.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const CZ=/\b([a-z-]*)\(.*?\)/gu,U_={...Ac,getAnimatableNone:t=>{const e=t.match(CZ);return e?e.map(AZ).join(" "):t}},nR={...Ih,transform:Math.round},NZ={rotate:Yl,rotateX:Yl,rotateY:Yl,rotateZ:Yl,scale:Zy,scaleX:Zy,scaleY:Zy,scaleZ:Zy,skew:Yl,skewX:Yl,skewY:Yl,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:Zm,originX:$P,originY:$P,originZ:Fe},N2={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe,...NZ,zIndex:nR,fillOpacity:Zm,strokeOpacity:Zm,numOctaves:nR},OZ={...N2,color:Dn,backgroundColor:Dn,outlineColor:Dn,fill:Dn,stroke:Dn,borderColor:Dn,borderTopColor:Dn,borderRightColor:Dn,borderBottomColor:Dn,borderLeftColor:Dn,filter:U_,WebkitFilter:U_},IU=t=>OZ[t];function DU(t,e){let n=IU(t);return n!==U_&&(n=Ac),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const MZ=new Set(["auto","none","0"]);function jZ(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!MZ.has(s)&&eg(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=DU(n,i)}class IZ extends A2{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),b2(d))){const f=NU(d,n.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!OU.has(r)||e.length!==2)return;const[i,s]=e,a=tR(i),l=tR(s);if(a!==l)if(QP(a)&&QP(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else td[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||kZ(e[i]))&&r.push(i);r.length&&jZ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=td[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=td[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function DZ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const PU=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function RU(t){return Qz(t)&&"offsetHeight"in t}const rR=30,PZ=t=>!isNaN(parseFloat(t));class RZ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=wi.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=wi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=PZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new g2);const r=this.events[e].add(n);return e==="change"?()=>{r(),Jt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>rR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,rR);return Zz(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dh(t,e){return new RZ(t,e)}const{schedule:O2}=uU(queueMicrotask,!1),Ks={x:!1,y:!1};function LU(){return Ks.x||Ks.y}function LZ(t){return t==="x"||t==="y"?Ks[t]?null:(Ks[t]=!0,()=>{Ks[t]=!1}):Ks.x||Ks.y?null:(Ks.x=Ks.y=!0,()=>{Ks.x=Ks.y=!1})}function VU(t,e){const n=DZ(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function iR(t){return!(t.pointerType==="touch"||LU())}function VZ(t,e,n={}){const[r,i,s]=VU(t,n),a=l=>{if(!iR(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const f=p=>{iR(p)&&(d(p),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return r.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const BU=(t,e)=>e?t===e?!0:BU(t,e.parentElement):!1,M2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,BZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zZ(t){return BZ.has(t.tagName)||t.tabIndex!==-1}const zv=new WeakSet;function sR(t){return e=>{e.key==="Enter"&&t(e)}}function YT(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const UZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=sR(()=>{if(zv.has(n))return;YT(n,"down");const i=sR(()=>{YT(n,"up")}),s=()=>YT(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function aR(t){return M2(t)&&!LU()}function FZ(t,e,n={}){const[r,i,s]=VU(t,n),a=l=>{const c=l.currentTarget;if(!aR(l))return;zv.add(c);const d=e(c,l),f=(v,b)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),zv.has(c)&&zv.delete(c),aR(v)&&typeof d=="function"&&d(v,{success:b})},p=v=>{f(v,c===window||c===document||n.useGlobalTarget||BU(c,v.target))},g=v=>{f(v,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),RU(l)&&(l.addEventListener("focus",d=>UZ(d,i)),!zZ(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function zU(t){return Qz(t)&&"ownerSVGElement"in t}function $Z(t){return zU(t)&&t.tagName==="svg"}const Ur=t=>!!(t&&t.getVelocity),HZ=[...jU,Dn,Ac],qZ=t=>HZ.find(MU(t)),j2=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function oR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function WZ(...t){return e=>{let n=!1;const r=t.map(i=>{const s=oR(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():oR(t[i],null)}}}}function GZ(...t){return _.useCallback(WZ(...t),t)}class KZ extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=RU(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function YZ({children:t,isPresent:e,anchorX:n,root:r}){const i=_.useId(),s=_.useRef(null),a=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=_.useContext(j2),c=GZ(s,t?.ref);return _.useInsertionEffect(()=>{const{width:d,height:f,top:p,left:g,right:v}=a.current;if(e||!s.current||!d||!f)return;const b=n==="left"?`left: ${g}`:`right: ${v}`;s.current.dataset.motionPopId=i;const E=document.createElement("style");l&&(E.nonce=l);const S=r??document.head;return S.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${b}px !important;
            top: ${p}px !important;
          }
        `),()=>{S.contains(E)&&S.removeChild(E)}},[e]),m.jsx(KZ,{isPresent:e,childRef:s,sizeRef:a,children:_.cloneElement(t,{ref:c})})}const XZ=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:l,root:c})=>{const d=u2(QZ),f=_.useId();let p=!0,g=_.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:n,custom:i,onExitComplete:v=>{d.set(v,!0);for(const b of d.values())if(!b)return;r&&r()},register:v=>(d.set(v,!1),()=>d.delete(v))}),[n,d,r]);return s&&p&&(g={...g}),_.useMemo(()=>{d.forEach((v,b)=>d.set(b,!1))},[n]),_.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),a==="popLayout"&&(t=m.jsx(YZ,{isPresent:n,anchorX:l,root:c,children:t})),m.jsx(pw.Provider,{value:g,children:t})};function QZ(){return new Map}function UU(t=!0){const e=_.useContext(pw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=_.useId();_.useEffect(()=>{if(t)return i(s)},[t]);const a=_.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const ev=t=>t.key||"";function lR(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const Wt=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[d,f]=UU(a),p=_.useMemo(()=>lR(t),[t]),g=a&&!d?[]:p.map(ev),v=_.useRef(!0),b=_.useRef(p),E=u2(()=>new Map),[S,k]=_.useState(p),[C,O]=_.useState(p);Yz(()=>{v.current=!1,b.current=p;for(let U=0;U<C.length;U++){const I=ev(C[U]);g.includes(I)?E.delete(I):E.get(I)!==!0&&E.set(I,!1)}},[C,g.length,g.join("-")]);const z=[];if(p!==S){let U=[...p];for(let I=0;I<C.length;I++){const j=C[I],M=ev(j);g.includes(M)||(U.splice(I,0,j),z.push(j))}return s==="wait"&&z.length&&(U=z),O(lR(U)),k(p),null}const{forceRender:P}=_.useContext(c2);return m.jsx(m.Fragment,{children:C.map(U=>{const I=ev(U),j=a&&!d?!1:p===C||g.includes(I),M=()=>{if(E.has(I))E.set(I,!0);else return;let R=!0;E.forEach(V=>{V||(R=!1)}),R&&(P?.(),O(b.current),a&&f?.(),r&&r())};return m.jsx(XZ,{isPresent:j,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:j?void 0:M,anchorX:l,children:U},I)})})},FU=_.createContext({strict:!1}),cR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fh={};for(const t in cR)fh[t]={isEnabled:e=>cR[t].some(n=>!!e[n])};function JZ(t){for(const e in t)fh[e]={...fh[e],...t[e]}}const ZZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ZZ.has(t)}let $U=t=>!pb(t);function eee(t){typeof t=="function"&&($U=e=>e.startsWith("on")?!pb(e):t(e))}try{eee(require("@emotion/is-prop-valid").default)}catch{}function tee(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||($U(i)||n===!0&&pb(i)||!e&&!pb(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const mw=_.createContext({});function gw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function tg(t){return typeof t=="string"||Array.isArray(t)}const I2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],D2=["initial",...I2];function yw(t){return gw(t.animate)||D2.some(e=>tg(t[e]))}function HU(t){return!!(yw(t)||t.variants)}function nee(t,e){if(yw(t)){const{initial:n,animate:r}=t;return{initial:n===!1||tg(n)?n:void 0,animate:tg(r)?r:void 0}}return t.inherit!==!1?e:{}}function ree(t){const{initial:e,animate:n}=nee(t,_.useContext(mw));return _.useMemo(()=>({initial:e,animate:n}),[uR(e),uR(n)])}function uR(t){return Array.isArray(t)?t.join(" "):t}function dR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const tm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Fe.test(t))t=parseFloat(t);else return t;const n=dR(t,e.target.x),r=dR(t,e.target.y);return`${n}% ${r}%`}},iee={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ac.parse(t);if(i.length>5)return r;const s=Ac.createTransformer(t),a=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+a]/=l,i[1+a]/=c;const d=on(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=d),typeof i[3+a]=="number"&&(i[3+a]/=d),s(i)}},F_={borderRadius:{...tm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tm,borderTopRightRadius:tm,borderBottomLeftRadius:tm,borderBottomRightRadius:tm,boxShadow:iee};function qU(t,{layout:e,layoutId:n}){return Ph.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!F_[t]||t==="opacity")}const see={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aee=Dh.length;function oee(t,e,n){let r="",i=!0;for(let s=0;s<aee;s++){const a=Dh[s],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=PU(l,N2[a]);if(!c){i=!1;const f=see[a]||a;r+=`${f}(${d}) `}n&&(e[a]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function P2(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,l=!1;for(const c in e){const d=e[c];if(Ph.has(c)){a=!0;continue}else if(fU(c)){i[c]=d;continue}else{const f=PU(d,N2[c]);c.startsWith("origin")?(l=!0,s[c]=f):r[c]=f}}if(e.transform||(a||n?r.transform=oee(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${c} ${d} ${f}`}}const R2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WU(t,e,n){for(const r in e)!Ur(e[r])&&!qU(r,n)&&(t[r]=e[r])}function lee({transformTemplate:t},e){return _.useMemo(()=>{const n=R2();return P2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function cee(t,e){const n=t.style||{},r={};return WU(r,n,t),Object.assign(r,lee(t,e)),r}function uee(t,e){const n={},r=cee(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const dee={offset:"stroke-dashoffset",array:"stroke-dasharray"},fee={offset:"strokeDashoffset",array:"strokeDasharray"};function hee(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?dee:fee;t[s.offset]=Fe.transform(-r);const a=Fe.transform(e),l=Fe.transform(n);t[s.array]=`${a} ${l}`}function GU(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},c,d,f){if(P2(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=f?.transformBox??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&hee(p,i,s,a,!1)}const KU=()=>({...R2(),attrs:{}}),YU=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pee(t,e,n,r){const i=_.useMemo(()=>{const s=KU();return GU(s,e,YU(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};WU(s,t.style,t),i.style={...s,...i.style}}return i}const mee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function L2(t){return typeof t!="string"||t.includes("-")?!1:!!(mee.indexOf(t)>-1||/[A-Z]/u.test(t))}function gee(t,e,n,{latestValues:r},i,s=!1){const l=(L2(t)?pee:uee)(e,r,i,t),c=tee(e,typeof t=="string",s),d=t!==_.Fragment?{...c,...l,ref:n}:{},{children:f}=e,p=_.useMemo(()=>Ur(f)?f.get():f,[f]);return _.createElement(t,{...d,children:p})}function fR(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function V2(t,e,n,r){if(typeof e=="function"){const[i,s]=fR(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=fR(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Uv(t){return Ur(t)?t.get():t}function yee({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:vee(n,r,i,t),renderState:e()}}function vee(t,e,n,r){const i={},s=r(t,{});for(const g in s)i[g]=Uv(s[g]);let{initial:a,animate:l}=t;const c=yw(t),d=HU(t);e&&d&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const p=f?l:a;if(p&&typeof p!="boolean"&&!gw(p)){const g=Array.isArray(p)?p:[p];for(let v=0;v<g.length;v++){const b=V2(t,g[v]);if(b){const{transitionEnd:E,transition:S,...k}=b;for(const C in k){let O=k[C];if(Array.isArray(O)){const z=f?O.length-1:0;O=O[z]}O!==null&&(i[C]=O)}for(const C in E)i[C]=E[C]}}}return i}const XU=t=>(e,n)=>{const r=_.useContext(mw),i=_.useContext(pw),s=()=>yee(t,e,r,i);return n?s():u2(s)};function B2(t,e,n){const{style:r}=t,i={};for(const s in r)(Ur(r[s])||e.style&&Ur(e.style[s])||qU(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const bee=XU({scrapeMotionValuesFromProps:B2,createRenderState:R2});function QU(t,e,n){const r=B2(t,e,n);for(const i in t)if(Ur(t[i])||Ur(e[i])){const s=Dh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const xee=XU({scrapeMotionValuesFromProps:QU,createRenderState:KU}),wee=Symbol.for("motionComponentSymbol");function Hf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function See(t,e,n){return _.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Hf(n)&&(n.current=r))},[e])}const z2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Tee="framerAppearId",JU="data-"+z2(Tee),ZU=_.createContext({});function Eee(t,e,n,r,i){const{visualElement:s}=_.useContext(mw),a=_.useContext(FU),l=_.useContext(pw),c=_.useContext(j2).reducedMotion,d=_.useRef(null);r=r||a.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,p=_.useContext(ZU);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&kee(d.current,n,i,p);const g=_.useRef(!1);_.useInsertionEffect(()=>{f&&g.current&&f.update(n,l)});const v=n[JU],b=_.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return Yz(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),b.current&&f.animationState&&f.animationState.animateChanges())}),_.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),b.current=!1),f.enteringChildren=void 0)}),f}function kee(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:eF(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&Hf(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:c,layoutRoot:d})}function eF(t){if(t)return t.options.allowProjection!==!1?t.projection:eF(t.parent)}function XT(t,{forwardMotionProps:e=!1}={},n,r){n&&JZ(n);const i=L2(t)?xee:bee;function s(l,c){let d;const f={..._.useContext(j2),...l,layoutId:_ee(l)},{isStatic:p}=f,g=ree(l),v=i(l,p);if(!p&&d2){Aee();const b=Cee(f);d=b.MeasureLayout,g.visualElement=Eee(t,v,f,r,b.ProjectionNode)}return m.jsxs(mw.Provider,{value:g,children:[d&&g.visualElement?m.jsx(d,{visualElement:g.visualElement,...f}):null,gee(t,l,See(v,g.visualElement,c),v,p,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=_.forwardRef(s);return a[wee]=t,a}function _ee({layoutId:t}){const e=_.useContext(c2).id;return e&&t!==void 0?e+"-"+t:t}function Aee(t,e){_.useContext(FU).strict}function Cee(t){const{drag:e,layout:n}=fh;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Nee(t,e){if(typeof Proxy>"u")return XT;const n=new Map,r=(s,a)=>XT(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,XT(a,void 0,t,e)),n.get(a))})}function tF({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Oee({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Mee(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function QT(t){return t===void 0||t===1}function $_({scale:t,scaleX:e,scaleY:n}){return!QT(t)||!QT(e)||!QT(n)}function Vu(t){return $_(t)||nF(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function nF(t){return hR(t.x)||hR(t.y)}function hR(t){return t&&t!=="0%"}function mb(t,e,n){const r=t-n,i=e*r;return n+i}function pR(t,e,n,r,i){return i!==void 0&&(t=mb(t,i,r)),mb(t,n,r)+e}function H_(t,e=0,n=1,r,i){t.min=pR(t.min,e,n,r,i),t.max=pR(t.max,e,n,r,i)}function rF(t,{x:e,y:n}){H_(t.x,e.translate,e.scale,e.originPoint),H_(t.y,n.translate,n.scale,n.originPoint)}const mR=.999999999999,gR=1.0000000000001;function jee(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let l=0;l<i;l++){s=n[l],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Wf(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,rF(t,a)),r&&Vu(s.latestValues)&&Wf(t,s.latestValues))}e.x<gR&&e.x>mR&&(e.x=1),e.y<gR&&e.y>mR&&(e.y=1)}function qf(t,e){t.min=t.min+e,t.max=t.max+e}function yR(t,e,n,r,i=.5){const s=on(t.min,t.max,i);H_(t,e,n,s,r)}function Wf(t,e){yR(t.x,e.x,e.scaleX,e.scale,e.originX),yR(t.y,e.y,e.scaleY,e.scale,e.originY)}function iF(t,e){return tF(Mee(t.getBoundingClientRect(),e))}function Iee(t,e,n){const r=iF(t,n),{scroll:i}=e;return i&&(qf(r.x,i.offset.x),qf(r.y,i.offset.y)),r}const vR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gf=()=>({x:vR(),y:vR()}),bR=()=>({min:0,max:0}),Hn=()=>({x:bR(),y:bR()}),q_={current:null},sF={current:!1};function Dee(){if(sF.current=!0,!!d2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>q_.current=t.matches;t.addEventListener("change",e),e()}else q_.current=!1}const Pee=new WeakMap;function Ree(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ur(i))t.addValue(r,i);else if(Ur(s))t.addValue(r,dh(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,dh(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const xR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Lee{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=A2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=wi.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Jt.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=yw(n),this.isVariantNode=HU(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const v=p[g];c[g]!==void 0&&Ur(v)&&v.set(c[g])}}mount(e){this.current=e,Pee.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),sF.current||Dee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:q_.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_c(this.notifyUpdate),_c(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ph.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Jt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in fh){const n=fh[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<xR.length;r++){const i=xR[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Ree(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=dh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Xz(r)||Jz(r))?r=parseFloat(r):!qZ(r)&&Ac.test(n)&&(r=DU(e,n)),this.setBaseTarget(e,Ur(r)?r.get():r)),Ur(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=V2(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ur(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new g2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){O2.render(this.render)}}class aF extends Lee{constructor(){super(...arguments),this.KeyframeResolver=IZ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ur(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function oF(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function Vee(t){return window.getComputedStyle(t)}class Bee extends aF{constructor(){super(...arguments),this.type="html",this.renderInstance=oF}readValueFromInstance(e,n){if(Ph.has(n))return this.projection?.isProjecting?P_(n):JJ(e,n);{const r=Vee(e),i=(fU(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return iF(e,n)}build(e,n,r){P2(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return B2(e,n,r)}}const lF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zee(t,e,n,r){oF(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(lF.has(i)?i:z2(i),e.attrs[i])}class Uee extends aF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ph.has(n)){const r=IU(n);return r&&r.default||0}return n=lF.has(n)?n:z2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return QU(e,n,r)}build(e,n,r){GU(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){zee(e,n,r,i)}mount(e){this.isSVGTag=YU(e.tagName),super.mount(e)}}const Fee=(t,e)=>L2(t)?new Uee(e):new Bee(e,{allowProjection:t!==_.Fragment});function th(t,e,n){const r=t.getProps();return V2(r,e,n!==void 0?n:r.custom,t)}const W_=t=>Array.isArray(t);function $ee(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,dh(n))}function Hee(t){return W_(t)?t[t.length-1]||0:t}function qee(t,e){const n=th(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const l=Hee(s[a]);$ee(t,a,l)}}function Wee(t){return!!(Ur(t)&&t.add)}function G_(t,e){const n=t.getValue("willChange");if(Wee(n))return n.add(e);if(!n&&$o.WillChange){const r=new $o.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function cF(t){return t.props[JU]}const Gee=t=>t!==null;function Kee(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Gee),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const Yee={type:"spring",stiffness:500,damping:25,restSpeed:10},Xee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Qee={type:"keyframes",duration:.8},Jee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Zee=(t,{keyframes:e})=>e.length>2?Qee:Ph.has(t)?t.startsWith("scale")?Xee(e[1]):Yee:Jee;function ete({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const U2=(t,e,n,r={},i,s)=>a=>{const l=C2(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-La(c);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};ete(l)||Object.assign(f,Zee(t,f)),f.duration&&(f.duration=La(f.duration)),f.repeatDelay&&(f.repeatDelay=La(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(z_(f),f.delay===0&&(p=!0)),($o.instantAnimations||$o.skipAnimations)&&(p=!0,z_(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,p&&!s&&e.get()!==void 0){const g=Kee(f.keyframes,l);if(g!==void 0){Jt.update(()=>{f.onUpdate(g),f.onComplete()});return}}return l.isSync?new _2(f):new wZ(f)};function tte({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function uF(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(s=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const p=t.getValue(f,t.latestValues[f]??null),g=l[f];if(g===void 0||d&&tte(d,f))continue;const v={delay:n,...C2(s||{},f)},b=p.get();if(b!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===b&&!v.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const k=cF(t);if(k){const C=window.MotionHandoffAnimation(k,f,Jt);C!==null&&(v.startTime=C,E=!0)}}G_(t,f),p.start(U2(f,p,g,t.shouldReduceMotion&&OU.has(f)?{type:!1}:v,t,E));const S=p.animation;S&&c.push(S)}return a&&Promise.all(c).then(()=>{Jt.update(()=>{a&&qee(t,a)})}),c}function dF(t,e,n,r=0,i=1){const s=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),a=t.size,l=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:l-s*r}function K_(t,e,n={}){const r=th(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(uF(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=i;return nte(t,e,c,d,f,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[s,a]:[a,s];return c().then(()=>d())}else return Promise.all([s(),a(n.delay)])}function nte(t,e,n=0,r=0,i=0,s=1,a){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(K_(c,e,{...a,delay:n+(typeof r=="function"?0:r)+dF(t.variantChildren,c,r,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function rte(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>K_(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=K_(t,e,n);else{const i=typeof e=="function"?th(t,e,n.custom):e;r=Promise.all(uF(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function fF(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const ite=D2.length;function hF(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?hF(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ite;n++){const r=D2[n],i=t.props[r];(tg(i)||i===!1)&&(e[r]=i)}return e}const ste=[...I2].reverse(),ate=I2.length;function ote(t){return e=>Promise.all(e.map(({animation:n,options:r})=>rte(t,n,r)))}function lte(t){let e=ote(t),n=wR(),r=!0;const i=c=>(d,f)=>{const p=th(t,f,c==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:g,transitionEnd:v,...b}=p;d={...d,...b,...v}}return d};function s(c){e=c(t)}function a(c){const{props:d}=t,f=hF(t.parent)||{},p=[],g=new Set;let v={},b=1/0;for(let S=0;S<ate;S++){const k=ste[S],C=n[k],O=d[k]!==void 0?d[k]:f[k],z=tg(O),P=k===c?C.isActive:null;P===!1&&(b=S);let U=O===f[k]&&O!==d[k]&&z;if(U&&r&&t.manuallyAnimateOnMount&&(U=!1),C.protectedKeys={...v},!C.isActive&&P===null||!O&&!C.prevProp||gw(O)||typeof O=="boolean")continue;const I=cte(C.prevProp,O);let j=I||k===c&&C.isActive&&!U&&z||S>b&&z,M=!1;const R=Array.isArray(O)?O:[O];let V=R.reduce(i(k),{});P===!1&&(V={});const{prevResolvedValues:L={}}=C,B={...L,...V},X=Y=>{j=!0,g.has(Y)&&(M=!0,g.delete(Y)),C.needsAnimating[Y]=!0;const le=t.getValue(Y);le&&(le.liveStyle=!1)};for(const Y in B){const le=V[Y],he=L[Y];if(v.hasOwnProperty(Y))continue;let Se=!1;W_(le)&&W_(he)?Se=!fF(le,he):Se=le!==he,Se?le!=null?X(Y):g.add(Y):le!==void 0&&g.has(Y)?X(Y):C.protectedKeys[Y]=!0}C.prevProp=O,C.prevResolvedValues=V,C.isActive&&(v={...v,...V}),r&&t.blockInitialAnimation&&(j=!1);const ae=U&&I;j&&(!ae||M)&&p.push(...R.map(Y=>{const le={type:k};if(typeof Y=="string"&&r&&!ae&&t.manuallyAnimateOnMount&&t.parent){const{parent:he}=t,Se=th(he,Y);if(he.enteringChildren&&Se){const{delayChildren:H}=Se.transition||{};le.delay=dF(he.enteringChildren,t,H)}}return{animation:Y,options:le}}))}if(g.size){const S={};if(typeof d.initial!="boolean"){const k=th(t,Array.isArray(d.initial)?d.initial[0]:d.initial);k&&k.transition&&(S.transition=k.transition)}g.forEach(k=>{const C=t.getBaseTarget(k),O=t.getValue(k);O&&(O.liveStyle=!0),S[k]=C??null}),p.push({animation:S})}let E=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(p):Promise.resolve()}function l(c,d){if(n[c].isActive===d)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(c,d)),n[c].isActive=d;const f=a(c);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=wR()}}}function cte(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!fF(e,t):!1}function Iu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wR(){return{animate:Iu(!0),whileInView:Iu(),whileHover:Iu(),whileTap:Iu(),whileDrag:Iu(),whileFocus:Iu(),exit:Iu()}}class Uc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ute extends Uc{constructor(e){super(e),e.animationState||(e.animationState=lte(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let dte=0;class fte extends Uc{constructor(){super(...arguments),this.id=dte++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const hte={animation:{Feature:ute},exit:{Feature:fte}};function ng(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function qg(t){return{point:{x:t.pageX,y:t.pageY}}}const pte=t=>e=>M2(e)&&t(e,qg(e));function Mm(t,e,n,r){return ng(t,e,pte(n),r)}const pF=1e-4,mte=1-pF,gte=1+pF,mF=.01,yte=0-mF,vte=0+mF;function Xr(t){return t.max-t.min}function bte(t,e,n){return Math.abs(t-e)<=n}function SR(t,e,n,r=.5){t.origin=r,t.originPoint=on(e.min,e.max,t.origin),t.scale=Xr(n)/Xr(e),t.translate=on(n.min,n.max,t.origin)-t.originPoint,(t.scale>=mte&&t.scale<=gte||isNaN(t.scale))&&(t.scale=1),(t.translate>=yte&&t.translate<=vte||isNaN(t.translate))&&(t.translate=0)}function jm(t,e,n,r){SR(t.x,e.x,n.x,r?r.originX:void 0),SR(t.y,e.y,n.y,r?r.originY:void 0)}function TR(t,e,n){t.min=n.min+e.min,t.max=t.min+Xr(e)}function xte(t,e,n){TR(t.x,e.x,n.x),TR(t.y,e.y,n.y)}function ER(t,e,n){t.min=e.min-n.min,t.max=t.min+Xr(e)}function gb(t,e,n){ER(t.x,e.x,n.x),ER(t.y,e.y,n.y)}function hs(t){return[t("x"),t("y")]}const gF=({current:t})=>t?t.ownerDocument.defaultView:null,kR=(t,e)=>Math.abs(t-e);function wte(t,e){const n=kR(t.x,e.x),r=kR(t.y,e.y);return Math.sqrt(n**2+r**2)}class yF{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=ZT(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=wte(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!b)return;const{point:E}=g,{timestamp:S}=xr;this.history.push({...E,timestamp:S});const{onStart:k,onMove:C}=this.handlers;v||(k&&k(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=JT(v,this.transformPagePoint),Jt.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:b,onSessionEnd:E,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=ZT(g.type==="pointercancel"?this.lastMoveEventInfo:JT(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,k),E&&E(g,k)},!M2(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const l=qg(e),c=JT(l,this.transformPagePoint),{point:d}=c,{timestamp:f}=xr;this.history=[{...d,timestamp:f}];const{onSessionStart:p}=n;p&&p(e,ZT(c,this.history)),this.removeListeners=Fg(Mm(this.contextWindow,"pointermove",this.handlePointerMove),Mm(this.contextWindow,"pointerup",this.handlePointerUp),Mm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_c(this.updatePoint)}}function JT(t,e){return e?{point:e(t.point)}:t}function _R(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ZT({point:t},e){return{point:t,delta:_R(t,vF(e)),offset:_R(t,Ste(e)),velocity:Tte(e,.1)}}function Ste(t){return t[0]}function vF(t){return t[t.length-1]}function Tte(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=vF(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>La(e)));)n--;if(!r)return{x:0,y:0};const s=bs(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Ete(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?on(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?on(n,t,r.max):Math.min(t,n)),t}function AR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function kte(t,{top:e,left:n,bottom:r,right:i}){return{x:AR(t.x,n,i),y:AR(t.y,e,r)}}function CR(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function _te(t,e){return{x:CR(t.x,e.x),y:CR(t.y,e.y)}}function Ate(t,e){let n=.5;const r=Xr(t),i=Xr(e);return i>r?n=Jm(e.min,e.max-r,t.min):r>i&&(n=Jm(t.min,t.max-i,e.min)),Fo(0,1,n)}function Cte(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Y_=.35;function Nte(t=Y_){return t===!1?t=0:t===!0&&(t=Y_),{x:NR(t,"left","right"),y:NR(t,"top","bottom")}}function NR(t,e,n){return{min:OR(t,e),max:OR(t,n)}}function OR(t,e){return typeof t=="number"?t:t[e]||0}const Ote=new WeakMap;class Mte{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(qg(p).point)},a=(p,g)=>{const{drag:v,dragPropagation:b,onDragStart:E}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LZ(v),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hs(k=>{let C=this.getAxisMotionValue(k).get()||0;if(Va.test(C)){const{projection:O}=this.visualElement;if(O&&O.layout){const z=O.layout.layoutBox[k];z&&(C=Xr(z)*(parseFloat(C)/100))}}this.originPoint[k]=C}),E&&Jt.postRender(()=>E(p,g)),G_(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:E,onDrag:S}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:k}=g;if(b&&this.currentDirection===null){this.currentDirection=jte(k),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",g.point,k),this.updateAxis("y",g.point,k),this.visualElement.render(),S&&S(p,g)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>hs(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new yF(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:gF(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Jt.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!tv(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Ete(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Hf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=kte(r.layoutBox,e):this.constraints=!1,this.elastic=Nte(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&hs(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Cte(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Hf(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Iee(r,i.root,this.visualElement.getTransformPagePoint());let a=_te(i.layout.layoutBox,s);if(n){const l=n(Oee(a));this.hasMutatedConstraints=!!l,l&&(a=tF(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=hs(f=>{if(!tv(f,n,this.currentDirection))return;let p=c&&c[f]||{};a&&(p={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,b={type:"inertia",velocity:r?e[f]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,b)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return G_(this.visualElement,e),r.start(U2(e,r,0,n,this.visualElement,!1))}stopAnimation(){hs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hs(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){hs(n=>{const{drag:r}=this.getProps();if(!tv(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[n];s.set(e[n]-on(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Hf(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};hs(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=Ate({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hs(a=>{if(!tv(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];l.set(on(c,d,i[a]))})}addListeners(){if(!this.visualElement.current)return;Ote.set(this.visualElement,this);const e=this.visualElement.current,n=Mm(e,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Hf(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Jt.read(r);const a=ng(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(hs(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=c[f].translate,p.set(p.get()+c[f].translate))}),this.visualElement.render())}));return()=>{a(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Y_,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function tv(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function jte(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Ite extends Uc{constructor(e){super(e),this.removeGroupControls=Ss,this.removeListeners=Ss,this.controls=new Mte(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ss}unmount(){this.removeGroupControls(),this.removeListeners()}}const MR=t=>(e,n)=>{t&&Jt.postRender(()=>t(e,n))};class Dte extends Uc{constructor(){super(...arguments),this.removePointerDownListener=Ss}onPointerDown(e){this.session=new yF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gF(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:MR(e),onStart:MR(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Jt.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Mm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let eE=!1;class Pte extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),eE&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Fv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,eE=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Jt.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),O2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;eE=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function bF(t){const[e,n]=UU(),r=_.useContext(c2);return m.jsx(Pte,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(ZU),isPresent:e,safeToRemove:n})}function Rte(t,e,n){const r=Ur(t)?t:dh(t);return r.start(U2("",r,e,n)),r.animation}const Lte=(t,e)=>t.depth-e.depth;class Vte{constructor(){this.children=[],this.isDirty=!1}add(e){f2(this.children,e),this.isDirty=!0}remove(e){h2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Lte),this.isDirty=!1,this.children.forEach(e)}}function Bte(t,e){const n=wi.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(_c(r),t(s-e))};return Jt.setup(r,!0),()=>_c(r)}const xF=["TopLeft","TopRight","BottomLeft","BottomRight"],zte=xF.length,jR=t=>typeof t=="string"?parseFloat(t):t,IR=t=>typeof t=="number"||Fe.test(t);function Ute(t,e,n,r,i,s){i?(t.opacity=on(0,n.opacity??1,Fte(r)),t.opacityExit=on(e.opacity??1,0,$te(r))):s&&(t.opacity=on(e.opacity??1,n.opacity??1,r));for(let a=0;a<zte;a++){const l=`border${xF[a]}Radius`;let c=DR(e,l),d=DR(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||IR(c)===IR(d)?(t[l]=Math.max(on(jR(c),jR(d),r),0),(Va.test(d)||Va.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=on(e.rotate||0,n.rotate||0,r))}function DR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Fte=wF(0,.5,aU),$te=wF(.5,.95,Ss);function wF(t,e,n){return r=>r<t?0:r>e?1:n(Jm(t,e,r))}function PR(t,e){t.min=e.min,t.max=e.max}function Gs(t,e){PR(t.x,e.x),PR(t.y,e.y)}function RR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function LR(t,e,n,r,i){return t-=e,t=mb(t,1/n,r),i!==void 0&&(t=mb(t,1/i,r)),t}function Hte(t,e=0,n=1,r=.5,i,s=t,a=t){if(Va.test(e)&&(e=parseFloat(e),e=on(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=on(s.min,s.max,r);t===s&&(l-=e),t.min=LR(t.min,e,n,l,i),t.max=LR(t.max,e,n,l,i)}function VR(t,e,[n,r,i],s,a){Hte(t,e[n],e[r],e[i],e.scale,s,a)}const qte=["x","scaleX","originX"],Wte=["y","scaleY","originY"];function BR(t,e,n,r){VR(t.x,e,qte,n?n.x:void 0,r?r.x:void 0),VR(t.y,e,Wte,n?n.y:void 0,r?r.y:void 0)}function zR(t){return t.translate===0&&t.scale===1}function SF(t){return zR(t.x)&&zR(t.y)}function UR(t,e){return t.min===e.min&&t.max===e.max}function Gte(t,e){return UR(t.x,e.x)&&UR(t.y,e.y)}function FR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function TF(t,e){return FR(t.x,e.x)&&FR(t.y,e.y)}function $R(t){return Xr(t.x)/Xr(t.y)}function HR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Kte{constructor(){this.members=[]}add(e){f2(this.members,e),e.scheduleRender()}remove(e){if(h2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Yte(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:g,skewX:v,skewY:b}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),v&&(r+=`skewX(${v}deg) `),b&&(r+=`skewY(${b}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const tE=["","X","Y","Z"],Xte=1e3;let Qte=0;function nE(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function EF(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=cF(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Jt,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&EF(r)}function kF({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},l=e?.()){this.id=Qte++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ene),this.nodes.forEach(ine),this.nodes.forEach(sne),this.nodes.forEach(tne)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Vte)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new g2),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=zU(a)&&!$Z(a),this.instance=a;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let f,p=0;const g=()=>this.root.updateBlockedByResize=!1;Jt.read(()=>{p=window.innerWidth}),t(a,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,f&&f(),f=Bte(g,250),Fv.hasAnimatedSinceResize&&(Fv.hasAnimatedSinceResize=!1,this.nodes.forEach(GR)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||une,{onLayoutAnimationStart:E,onLayoutAnimationComplete:S}=d.getProps(),k=!this.targetLayout||!TF(this.targetLayout,v),C=!p&&g;if(this.options.layoutRoot||this.resumeFrom||C||p&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...C2(b,"layout"),onPlay:E,onComplete:S};(d.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(f,C)}else p||GR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_c(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ane),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&EF(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(WR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(rne),this.nodes.forEach(Jte),this.nodes.forEach(Zte)):this.nodes.forEach(WR),this.clearAllSnapshots();const l=wi.now();xr.delta=Fo(0,1e3/60,l-xr.timestamp),xr.timestamp=l,xr.isProcessing=!0,HT.update.process(xr),HT.preRender.process(xr),HT.render.process(xr),xr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,O2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nne),this.sharedNodes.forEach(one)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Xr(this.snapshot.measuredBox.x)&&!Xr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!SF(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&this.instance&&(l||Vu(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),dne(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Hn();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(fne))){const{scroll:d}=this.root;d&&(qf(l.x,d.offset.x),qf(l.y,d.offset.y))}return l}removeElementScroll(a){const l=Hn();if(Gs(l,a),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Gs(l,a),qf(l.x,f.offset.x),qf(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=Hn();Gs(c,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Wf(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Vu(f.latestValues)&&Wf(c,f.latestValues)}return Vu(this.latestValues)&&Wf(c,this.latestValues),c}removeTransform(a){const l=Hn();Gs(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Vu(d.latestValues))continue;$_(d.latestValues)&&d.updateSnapshot();const f=Hn(),p=d.measurePageBox();Gs(f,p),BR(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Vu(this.latestValues)&&BR(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!this.layout||!(f||p))return;this.resolvedRelativeTargetAt=xr.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Hn(),this.targetWithTransforms=Hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xte(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gs(this.target,this.layout.layoutBox),rF(this.target,this.targetDelta)):Gs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||$_(this.parent.latestValues)||nF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,l,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),gb(this.relativeTargetOrigin,l,c),Gs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===xr.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Gs(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;jee(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Hn());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(RR(this.prevProjectionDelta.x,this.projectionDelta.x),RR(this.prevProjectionDelta.y,this.projectionDelta.y)),jm(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!HR(this.projectionDelta.x,this.prevProjectionDelta.x)||!HR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gf(),this.projectionDelta=Gf(),this.projectionDeltaWithTransform=Gf()}setAnimationOrigin(a,l=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},p=Gf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Hn(),v=c?c.source:void 0,b=this.layout?this.layout.source:void 0,E=v!==b,S=this.getStack(),k=!S||S.members.length<=1,C=!!(E&&!k&&this.options.crossfade===!0&&!this.path.some(cne));this.animationProgress=0;let O;this.mixTargetDelta=z=>{const P=z/1e3;KR(p.x,a.x,P),KR(p.y,a.y,P),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gb(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lne(this.relativeTarget,this.relativeTargetOrigin,g,P),O&&Gte(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Hn()),Gs(O,this.relativeTarget)),E&&(this.animationValues=f,Ute(f,d,this.latestValues,P,C,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(_c(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jt.update(()=>{Fv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=dh(0)),this.currentAnimation=Rte(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Xte),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:f}=a;if(!(!l||!c||!d)){if(this!==a&&this.layout&&d&&_F(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Hn();const p=Xr(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+p;const g=Xr(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+g}Gs(l,c),Wf(l,f),jm(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Kte),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&nE("z",a,d,this.animationValues);for(let f=0;f<tE.length;f++)nE(`rotate${tE[f]}`,a,d,this.animationValues),nE(`skew${tE[f]}`,a,d,this.animationValues);a.render();for(const f in d)a.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Uv(l?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Uv(l?.pointerEvents)||""),this.hasProjected&&!Vu(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let p=Yte(this.projectionDeltaWithTransform,this.treeScale,f);c&&(p=c(f,p)),a.transform=p;const{x:g,y:v}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,d.animationValues?a.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const b in F_){if(f[b]===void 0)continue;const{correct:E,applyTo:S,isCSSVariable:k}=F_[b],C=p==="none"?f[b]:E(f[b],d);if(S){const O=S.length;for(let z=0;z<O;z++)a[S[z]]=C}else k?this.options.visualElement.renderState.vars[b]=C:a[b]=C}this.options.layoutId&&(a.pointerEvents=d===this?Uv(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(qR),this.root.sharedNodes.clear()}}}function Jte(t){t.updateLayout()}function Zte(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?hs(f=>{const p=s?e.measuredBox[f]:e.layoutBox[f],g=Xr(p);p.min=n[f].min,p.max=p.min+g}):_F(i,e.layoutBox,n)&&hs(f=>{const p=s?e.measuredBox[f]:e.layoutBox[f],g=Xr(n[f]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=Gf();jm(a,n,e.layoutBox);const l=Gf();s?jm(l,t.applyTransform(r,!0),e.measuredBox):jm(l,n,e.layoutBox);const c=!SF(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const v=Hn();gb(v,e.layoutBox,p.layoutBox);const b=Hn();gb(b,n,g.layoutBox),TF(v,b)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function ene(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function tne(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function nne(t){t.clearSnapshot()}function qR(t){t.clearMeasurements()}function WR(t){t.isLayoutDirty=!1}function rne(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function GR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ine(t){t.resolveTargetDelta()}function sne(t){t.calcProjection()}function ane(t){t.resetSkewAndRotation()}function one(t){t.removeLeadSnapshot()}function KR(t,e,n){t.translate=on(e.translate,0,n),t.scale=on(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function YR(t,e,n,r){t.min=on(e.min,n.min,r),t.max=on(e.max,n.max,r)}function lne(t,e,n,r){YR(t.x,e.x,n.x,r),YR(t.y,e.y,n.y,r)}function cne(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const une={duration:.45,ease:[.4,0,.1,1]},XR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),QR=XR("applewebkit/")&&!XR("chrome/")?Math.round:Ss;function JR(t){t.min=QR(t.min),t.max=QR(t.max)}function dne(t){JR(t.x),JR(t.y)}function _F(t,e,n){return t==="position"||t==="preserve-aspect"&&!bte($R(e),$R(n),.2)}function fne(t){return t!==t.root&&t.scroll?.wasRoot}const hne=kF({attachResizeListener:(t,e)=>ng(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rE={current:void 0},AF=kF({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rE.current){const t=new hne({});t.mount(window),t.setOptions({layoutScroll:!0}),rE.current=t}return rE.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),pne={pan:{Feature:Dte},drag:{Feature:Ite,ProjectionNode:AF,MeasureLayout:bF}};function ZR(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Jt.postRender(()=>s(e,qg(e)))}class mne extends Uc{mount(){const{current:e}=this.node;e&&(this.unmount=VZ(e,(n,r)=>(ZR(this.node,r,"Start"),i=>ZR(this.node,i,"End"))))}unmount(){}}class gne extends Uc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fg(ng(this.node.current,"focus",()=>this.onFocus()),ng(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function e5(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Jt.postRender(()=>s(e,qg(e)))}class yne extends Uc{mount(){const{current:e}=this.node;e&&(this.unmount=FZ(e,(n,r)=>(e5(this.node,r,"Start"),(i,{success:s})=>e5(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const X_=new WeakMap,iE=new WeakMap,vne=t=>{const e=X_.get(t.target);e&&e(t)},bne=t=>{t.forEach(vne)};function xne({root:t,...e}){const n=t||document;iE.has(n)||iE.set(n,{});const r=iE.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(bne,{root:t,...e})),r[i]}function wne(t,e,n){const r=xne(e);return X_.set(t,n),r.observe(t),()=>{X_.delete(t),r.unobserve(t)}}const Sne={some:0,all:1};class Tne extends Uc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Sne[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=d?f:p;g&&g(c)};return wne(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Ene(e,n))&&this.startObserver()}unmount(){}}function Ene({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const kne={inView:{Feature:Tne},tap:{Feature:yne},focus:{Feature:gne},hover:{Feature:mne}},_ne={layout:{ProjectionNode:AF,MeasureLayout:bF}},Ane={...hte,...kne,...pne,..._ne},Qe=Nee(Ane,Fee),Cne=()=>{};var t5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Nne=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},NF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let g=(l&15)<<2|d>>6,v=d&63;c||(v=64,a||(g=64)),r.push(n[f],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Nne(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||p==null)throw new One;const g=s<<2|l>>4;if(r.push(g),d!==64){const v=l<<4&240|d>>2;if(r.push(v),p!==64){const b=d<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class One extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mne=function(t){const e=CF(t);return NF.encodeByteArray(e,!0)},yb=function(t){return Mne(t).replace(/\./g,"")},OF=function(t){try{return NF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ine=()=>jne().__FIREBASE_DEFAULTS__,Dne=()=>{if(typeof process>"u"||typeof t5>"u")return;const t=t5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Pne=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OF(t[1]);return e&&JSON.parse(e)},vw=()=>{try{return Cne()||Ine()||Dne()||Pne()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MF=t=>vw()?.emulatorHosts?.[t],Rne=t=>{const e=MF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jF=()=>vw()?.config,IF=t=>vw()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DF(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vne(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[yb(JSON.stringify(n)),yb(JSON.stringify(a)),""].join(".")}const Im={};function Bne(){const t={prod:[],emulator:[]};for(const e of Object.keys(Im))Im[e]?t.emulator.push(e):t.prod.push(e);return t}function zne(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let n5=!1;function PF(t,e){if(typeof window>"u"||typeof document>"u"||!Rh(window.location.host)||Im[t]===e||Im[t]||n5)return;Im[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=Bne().prod.length>0;function a(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{n5=!0,a()},g}function f(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=zne(r),v=n("text"),b=document.getElementById(v)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),k=n("preprendIcon"),C=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const O=g.element;l(O),f(S,E);const z=d();c(C,k),O.append(C,b,S,z),document.body.appendChild(O)}s?(b.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Une(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($r())}function Fne(){const t=vw()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $ne(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Hne(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qne(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wne(){const t=$r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Gne(){return!Fne()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kne(){try{return typeof indexedDB=="object"}catch{return!1}}function Yne(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xne="FirebaseError";class el extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Xne,Object.setPrototypeOf(this,el.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wg.prototype.create)}}class Wg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Qne(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new el(i,l,r)}}function Qne(t,e){return t.replace(Jne,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Jne=/\{\$([^}]+)}/g;function Zne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function md(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(r5(s)&&r5(a)){if(!md(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function r5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function gm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ere(t,e){const n=new tre(t,e);return n.subscribe.bind(n)}class tre{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nre(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=sE),i.error===void 0&&(i.error=sE),i.complete===void 0&&(i.complete=sE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nre(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t){return t&&t._delegate?t._delegate:t}class gd{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rre=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Lne;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sre(e))try{this.getOrInitializeService({instanceIdentifier:Bu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bu){return this.instances.has(e)}getOptions(e=Bu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ire(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bu){return this.component?this.component.multipleInstances?e:Bu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ire(t){return t===Bu?void 0:t}function sre(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class are{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rre(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const ore={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},lre=st.INFO,cre={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},ure=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=cre[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class F2{constructor(e){this.name=e,this._logLevel=lre,this._logHandler=ure,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ore[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const dre=(t,e)=>e.some(n=>t instanceof n);let i5,s5;function fre(){return i5||(i5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hre(){return s5||(s5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RF=new WeakMap,Q_=new WeakMap,LF=new WeakMap,aE=new WeakMap,$2=new WeakMap;function pre(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(pc(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&RF.set(n,t)}).catch(()=>{}),$2.set(e,t),e}function mre(t){if(Q_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Q_.set(t,e)}let J_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Q_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LF.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gre(t){J_=t(J_)}function yre(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(oE(this),e,...n);return LF.set(r,e.sort?e.sort():[e]),pc(r)}:hre().includes(t)?function(...e){return t.apply(oE(this),e),pc(RF.get(this))}:function(...e){return pc(t.apply(oE(this),e))}}function vre(t){return typeof t=="function"?yre(t):(t instanceof IDBTransaction&&mre(t),dre(t,fre())?new Proxy(t,J_):t)}function pc(t){if(t instanceof IDBRequest)return pre(t);if(aE.has(t))return aE.get(t);const e=vre(t);return e!==t&&(aE.set(t,e),$2.set(e,t)),e}const oE=t=>$2.get(t);function bre(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=pc(a);return r&&a.addEventListener("upgradeneeded",c=>{r(pc(a.result),c.oldVersion,c.newVersion,pc(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const xre=["get","getKey","getAll","getAllKeys","count"],wre=["put","add","delete","clear"],lE=new Map;function a5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lE.get(e))return lE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wre.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xre.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return lE.set(e,s),s}gre(t=>({...t,get:(e,n,r)=>a5(e,n)||t.get(e,n,r),has:(e,n)=>!!a5(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sre{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Tre(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Tre(t){return t.getComponent()?.type==="VERSION"}const Z_="@firebase/app",o5="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new F2("@firebase/app"),Ere="@firebase/app-compat",kre="@firebase/analytics-compat",_re="@firebase/analytics",Are="@firebase/app-check-compat",Cre="@firebase/app-check",Nre="@firebase/auth",Ore="@firebase/auth-compat",Mre="@firebase/database",jre="@firebase/data-connect",Ire="@firebase/database-compat",Dre="@firebase/functions",Pre="@firebase/functions-compat",Rre="@firebase/installations",Lre="@firebase/installations-compat",Vre="@firebase/messaging",Bre="@firebase/messaging-compat",zre="@firebase/performance",Ure="@firebase/performance-compat",Fre="@firebase/remote-config",$re="@firebase/remote-config-compat",Hre="@firebase/storage",qre="@firebase/storage-compat",Wre="@firebase/firestore",Gre="@firebase/ai",Kre="@firebase/firestore-compat",Yre="firebase",Xre="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="[DEFAULT]",Qre={[Z_]:"fire-core",[Ere]:"fire-core-compat",[_re]:"fire-analytics",[kre]:"fire-analytics-compat",[Cre]:"fire-app-check",[Are]:"fire-app-check-compat",[Nre]:"fire-auth",[Ore]:"fire-auth-compat",[Mre]:"fire-rtdb",[jre]:"fire-data-connect",[Ire]:"fire-rtdb-compat",[Dre]:"fire-fn",[Pre]:"fire-fn-compat",[Rre]:"fire-iid",[Lre]:"fire-iid-compat",[Vre]:"fire-fcm",[Bre]:"fire-fcm-compat",[zre]:"fire-perf",[Ure]:"fire-perf-compat",[Fre]:"fire-rc",[$re]:"fire-rc-compat",[Hre]:"fire-gcs",[qre]:"fire-gcs-compat",[Wre]:"fire-fst",[Kre]:"fire-fst-compat",[Gre]:"fire-vertex","fire-js":"fire-js",[Yre]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=new Map,Jre=new Map,tA=new Map;function l5(t,e){try{t.container.addComponent(e)}catch(n){Ho.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hh(t){const e=t.name;if(tA.has(e))return Ho.debug(`There were multiple attempts to register component ${e}.`),!1;tA.set(e,t);for(const n of vb.values())l5(n,t);for(const n of Jre.values())l5(n,t);return!0}function H2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zre={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mc=new Wg("app","Firebase",Zre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eie{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=Xre;function VF(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:eA,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw mc.create("bad-app-name",{appName:String(i)});if(n||(n=jF()),!n)throw mc.create("no-options");const s=vb.get(i);if(s){if(md(n,s.options)&&md(r,s.config))return s;throw mc.create("duplicate-app",{appName:i})}const a=new are(i);for(const c of tA.values())a.addComponent(c);const l=new eie(n,r,a);return vb.set(i,l),l}function BF(t=eA){const e=vb.get(t);if(!e&&t===eA&&jF())return VF();if(!e)throw mc.create("no-app",{appName:t});return e}function gc(t,e,n){let r=Qre[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ho.warn(a.join(" "));return}hh(new gd(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tie="firebase-heartbeat-database",nie=1,rg="firebase-heartbeat-store";let cE=null;function zF(){return cE||(cE=bre(tie,nie,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rg)}catch(n){console.warn(n)}}}}).catch(t=>{throw mc.create("idb-open",{originalErrorMessage:t.message})})),cE}async function rie(t){try{const n=(await zF()).transaction(rg),r=await n.objectStore(rg).get(UF(t));return await n.done,r}catch(e){if(e instanceof el)Ho.warn(e.message);else{const n=mc.create("idb-get",{originalErrorMessage:e?.message});Ho.warn(n.message)}}}async function c5(t,e){try{const r=(await zF()).transaction(rg,"readwrite");await r.objectStore(rg).put(e,UF(t)),await r.done}catch(n){if(n instanceof el)Ho.warn(n.message);else{const r=mc.create("idb-set",{originalErrorMessage:n?.message});Ho.warn(r.message)}}}function UF(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iie=1024,sie=30;class aie{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lie(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=u5();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>sie){const i=cie(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ho.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=u5(),{heartbeatsToSend:n,unsentEntries:r}=oie(this._heartbeatsCache.heartbeats),i=yb(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ho.warn(e),""}}}function u5(){return new Date().toISOString().substring(0,10)}function oie(t,e=iie){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),d5(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),d5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kne()?Yne().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rie(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return c5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return c5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function d5(t){return yb(JSON.stringify({version:2,heartbeats:t})).length}function cie(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uie(t){hh(new gd("platform-logger",e=>new Sre(e),"PRIVATE")),hh(new gd("heartbeat",e=>new aie(e),"PRIVATE")),gc(Z_,o5,t),gc(Z_,o5,"esm2020"),gc("fire-js","")}uie("");function FF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const die=FF,$F=new Wg("auth","Firebase",FF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new F2("@firebase/auth");function fie(t,...e){bb.logLevel<=st.WARN&&bb.warn(`Auth (${Lh}): ${t}`,...e)}function $v(t,...e){bb.logLevel<=st.ERROR&&bb.error(`Auth (${Lh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t,...e){throw q2(t,...e)}function Ba(t,...e){return q2(t,...e)}function HF(t,e,n){const r={...die(),[e]:n};return new Wg("auth","Firebase",r).create(e,{appName:t.name})}function Lo(t){return HF(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $F.create(t,...e)}function ze(t,e,...n){if(!t)throw q2(e,...n)}function jo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $v(e),new Error(e)}function qo(t,e){t||jo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){return typeof self<"u"&&self.location?.href||""}function hie(){return f5()==="http:"||f5()==="https:"}function f5(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pie(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hie()||Hne()||"connection"in navigator)?navigator.onLine:!0}function mie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n){this.shortDelay=e,this.longDelay=n,qo(n>e,"Short delay should be less than long delay!"),this.isMobile=Une()||qne()}get(){return pie()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t,e){qo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yie=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vie=new Kg(3e4,6e4);function tl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function nl(t,e,n,r,i={}){return WF(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=Gg({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...s};return $ne()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Rh(t.emulatorConfig.host)&&(d.credentials="include"),qF.fetch()(await GF(t,t.config.apiHost,n,l),d)})}async function WF(t,e,n){t._canInitEmulator=!1;const r={...gie,...e};try{const i=new xie(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw nv(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw nv(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw nv(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw nv(t,"user-disabled",a);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw HF(t,f,d);ra(t,f)}}catch(i){if(i instanceof el)throw i;ra(t,"network-request-failed",{message:String(i)})}}async function Yg(t,e,n,r,i={}){const s=await nl(t,e,n,r,i);return"mfaPendingCredential"in s&&ra(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function GF(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?W2(t.config,i):`${t.config.apiScheme}://${i}`;return yie.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function bie(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xie{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ba(this.auth,"network-request-failed")),vie.get())})}}function nv(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ba(t,e,r);return i.customData._tokenResponse=n,i}function h5(t){return t!==void 0&&t.enterprise!==void 0}class wie{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bie(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Sie(t,e){return nl(t,"GET","/v2/recaptchaConfig",tl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tie(t,e){return nl(t,"POST","/v1/accounts:delete",e)}async function xb(t,e){return nl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Eie(t,e=!1){const n=Gn(t),r=await n.getIdToken(e),i=G2(r);ze(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:Dm(uE(i.auth_time)),issuedAtTime:Dm(uE(i.iat)),expirationTime:Dm(uE(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function uE(t){return Number(t)*1e3}function G2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $v("JWT malformed, contained fewer than 3 sections"),null;try{const i=OF(n);return i?JSON.parse(i):($v("Failed to decode base64 JWT payload"),null)}catch(i){return $v("Caught error parsing JWT payload as JSON",i?.toString()),null}}function p5(t){const e=G2(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ig(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof el&&kie(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kie({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dm(this.lastLoginAt),this.creationTime=Dm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wb(t){const e=t.auth,n=await t.getIdToken(),r=await ig(t,xb(e,{idToken:n}));ze(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?KF(i.providerUserInfo):[],a=Cie(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!a?.length,d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new rA(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Aie(t){const e=Gn(t);await wb(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Cie(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KF(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nie(t,e){const n=await WF(t,{},async()=>{const r=Gg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await GF(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Rh(t.emulatorConfig.host)&&(c.credentials="include"),qF.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Oie(t,e){return nl(t,"POST","/v2/accounts:revokeToken",tl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=p5(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Nie(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new nh;return r&&(ze(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ze(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ze(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nh,this.toJSON())}_performRefresh(){return jo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zs{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new _ie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new rA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ig(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Eie(this,e)}reload(){return Aie(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wb(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gs(this.auth.app))return Promise.reject(Lo(this.auth));const e=await this.getIdToken();return await ig(this,Tie(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:v,providerData:b,stsTokenManager:E}=n;ze(p&&E,e,"internal-error");const S=nh.fromJSON(this.name,E);ze(typeof p=="string",e,"internal-error"),Wl(r,e.name),Wl(i,e.name),ze(typeof g=="boolean",e,"internal-error"),ze(typeof v=="boolean",e,"internal-error"),Wl(s,e.name),Wl(a,e.name),Wl(l,e.name),Wl(c,e.name),Wl(d,e.name),Wl(f,e.name);const k=new Zs({uid:p,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:v,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:S,createdAt:d,lastLoginAt:f});return b&&Array.isArray(b)&&(k.providerData=b.map(C=>({...C}))),c&&(k._redirectEventId=c),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new nh;i.updateFromServerResponse(n);const s=new Zs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wb(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ze(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?KF(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,l=new nh;l.updateFromIdToken(r);const c=new Zs({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new rA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=new Map;function Io(t){qo(t instanceof Function,"Expected a class definition");let e=m5.get(t);return e?(qo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,m5.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YF.type="NONE";const g5=YF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t,e,n){return`firebase:${t}:${e}:${n}`}class rh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Hv(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hv("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xb(this.auth,{idToken:e}).catch(()=>{});return n?Zs._fromGetAccountInfoResponse(this.auth,n,e):null}return Zs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new rh(Io(g5),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Io(g5);const a=Hv(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(a);if(f){let p;if(typeof f=="string"){const g=await xb(e,{idToken:f}).catch(()=>{});if(!g)break;p=await Zs._fromGetAccountInfoResponse(e,g,f)}else p=Zs._fromJSON(e,f);d!==s&&(l=p),s=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new rh(s,e,r):(s=c[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new rh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t9(e))return"Blackberry";if(n9(e))return"Webos";if(QF(e))return"Safari";if((e.includes("chrome/")||JF(e))&&!e.includes("edge/"))return"Chrome";if(e9(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function XF(t=$r()){return/firefox\//i.test(t)}function QF(t=$r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JF(t=$r()){return/crios\//i.test(t)}function ZF(t=$r()){return/iemobile/i.test(t)}function e9(t=$r()){return/android/i.test(t)}function t9(t=$r()){return/blackberry/i.test(t)}function n9(t=$r()){return/webos/i.test(t)}function K2(t=$r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Mie(t=$r()){return K2(t)&&!!window.navigator?.standalone}function jie(){return Wne()&&document.documentMode===10}function r9(t=$r()){return K2(t)||e9(t)||n9(t)||t9(t)||/windows phone/i.test(t)||ZF(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(t,e=[]){let n;switch(t){case"Browser":n=y5($r());break;case"Worker":n=`${y5($r())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const c=e(s);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Die(t,e={}){return nl(t,"GET","/v2/passwordPolicy",tl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pie=6;class Rie{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Pie,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v5(this),this.idTokenSubscription=new v5(this),this.beforeStateQueue=new Iie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$F,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Io(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xb(this,{idToken:e}),r=await Zs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(gs(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,a=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wb(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mie()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gs(this.app))return Promise.reject(Lo(this));const n=e?Gn(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gs(this.app)?Promise.reject(Lo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gs(this.app)?Promise.reject(Lo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Io(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Die(this),n=new Rie(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wg("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Oie(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Io(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await rh.create(this,[Io(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(gs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fie(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fc(t){return Gn(t)}class v5{constructor(e){this.auth=e,this.observer=null,this.addObserver=ere(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vie(t){bw=t}function s9(t){return bw.loadJS(t)}function Bie(){return bw.recaptchaEnterpriseScript}function zie(){return bw.gapiScript}function Uie(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Fie{constructor(){this.enterprise=new $ie}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class $ie{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Hie="recaptcha-enterprise",a9="NO_RECAPTCHA";class qie{constructor(e){this.type=Hie,this.auth=Fc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{Sie(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new wie(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(c=>{l(c)})})}function i(s,a,l){const c=window.grecaptcha;h5(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(a9)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Fie().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&h5(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Bie();c.length!==0&&(c+=l),s9(c).then(()=>{i(l,s,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function b5(t,e,n,r=!1,i=!1){const s=new qie(t);let a;if(i)a=a9;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Sb(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await b5(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await b5(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wie(t,e){const n=H2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(md(s,e??{}))return i;ra(i,"already-initialized")}return n.initialize({options:e})}function Gie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Io);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Kie(t,e,n){const r=Fc(t);ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=o9(e),{host:a,port:l}=Yie(e),c=l===null?"":`:${l}`,d={url:`${s}//${a}${c}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ze(md(d,r.config.emulator)&&md(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Rh(a)?(DF(`${s}//${a}${c}`),PF("Auth",!0)):Xie()}function o9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Yie(t){const e=o9(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:x5(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:x5(a)}}}function x5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Xie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jo("not implemented")}_getIdTokenResponse(e){return jo("not implemented")}_linkToIdToken(e,n){return jo("not implemented")}_getReauthenticationResolver(e){return jo("not implemented")}}async function Qie(t,e){return nl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jie(t,e){return Yg(t,"POST","/v1/accounts:signInWithPassword",tl(t,e))}async function Zie(t,e){return nl(t,"POST","/v1/accounts:sendOobCode",tl(t,e))}async function ese(t,e){return Zie(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tse(t,e){return Yg(t,"POST","/v1/accounts:signInWithEmailLink",tl(t,e))}async function nse(t,e){return Yg(t,"POST","/v1/accounts:signInWithEmailLink",tl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends Y2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new sg(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sg(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sb(e,n,"signInWithPassword",Jie);case"emailLink":return tse(e,{email:this._email,oobCode:this._password});default:ra(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sb(e,r,"signUpPassword",Qie);case"emailLink":return nse(e,{idToken:n,email:this._email,oobCode:this._password});default:ra(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(t,e){return Yg(t,"POST","/v1/accounts:signInWithIdp",tl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rse="http://localhost";class yd extends Y2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ra("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new yd(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ih(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ih(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ih(e,n)}buildRequest(){const e={requestUri:rse,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gg(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ise(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sse(t){const e=mm(gm(t)).link,n=e?mm(gm(e)).deep_link_id:null,r=mm(gm(t)).deep_link_id;return(r?mm(gm(r)).link:null)||r||n||e||t}class X2{constructor(e){const n=mm(gm(e)),r=n.apiKey??null,i=n.oobCode??null,s=ise(n.mode??null);ze(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=sse(e);try{return new X2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this.providerId=Vh.PROVIDER_ID}static credential(e,n){return sg._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=X2.parseLink(n);return ze(r,"argument-error"),sg._fromEmailAndCode(e,r.code,r.tenantId)}}Vh.PROVIDER_ID="password";Vh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg extends l9{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends Xg{constructor(){super("facebook.com")}static credential(e){return yd._fromParams({providerId:nc.PROVIDER_ID,signInMethod:nc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nc.credentialFromTaggedObject(e)}static credentialFromError(e){return nc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nc.credential(e.oauthAccessToken)}catch{return null}}}nc.FACEBOOK_SIGN_IN_METHOD="facebook.com";nc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends Xg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yd._fromParams({providerId:rc.PROVIDER_ID,signInMethod:rc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rc.credentialFromTaggedObject(e)}static credentialFromError(e){return rc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return rc.credential(n,r)}catch{return null}}}rc.GOOGLE_SIGN_IN_METHOD="google.com";rc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends Xg{constructor(){super("github.com")}static credential(e){return yd._fromParams({providerId:ic.PROVIDER_ID,signInMethod:ic.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ic.credentialFromTaggedObject(e)}static credentialFromError(e){return ic.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ic.credential(e.oauthAccessToken)}catch{return null}}}ic.GITHUB_SIGN_IN_METHOD="github.com";ic.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends Xg{constructor(){super("twitter.com")}static credential(e,n){return yd._fromParams({providerId:sc.PROVIDER_ID,signInMethod:sc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return sc.credentialFromTaggedObject(e)}static credentialFromError(e){return sc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return sc.credential(n,r)}catch{return null}}}sc.TWITTER_SIGN_IN_METHOD="twitter.com";sc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ase(t,e){return Yg(t,"POST","/v1/accounts:signUp",tl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Zs._fromIdTokenResponse(e,r,i),a=w5(r);return new vd({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=w5(r);return new vd({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function w5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb extends el{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tb.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Tb(e,n,r,i)}}function c9(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Tb._fromErrorAndOperation(t,s,e,r):s})}async function ose(t,e,n=!1){const r=await ig(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vd._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lse(t,e,n=!1){const{auth:r}=t;if(gs(r.app))return Promise.reject(Lo(r));const i="reauthenticate";try{const s=await ig(t,c9(r,i,e,t),n);ze(s.idToken,r,"internal-error");const a=G2(s.idToken);ze(a,r,"internal-error");const{sub:l}=a;return ze(t.uid===l,r,"user-mismatch"),vd._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ra(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9(t,e,n=!1){if(gs(t.app))return Promise.reject(Lo(t));const r="signIn",i=await c9(t,r,e),s=await vd._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function cse(t,e){return u9(Fc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9(t){const e=Fc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function use(t,e,n){const r=Fc(t);await Sb(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",ese)}async function dse(t,e,n){if(gs(t.app))return Promise.reject(Lo(t));const r=Fc(t),a=await Sb(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ase).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&d9(t),c}),l=await vd._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function fse(t,e,n){return gs(t.app)?Promise.reject(Lo(t)):cse(Gn(t),Vh.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&d9(t),r})}function hse(t,e,n,r){return Gn(t).onIdTokenChanged(e,n,r)}function pse(t,e,n){return Gn(t).beforeAuthStateChanged(e,n)}function js(t,e,n,r){return Gn(t).onAuthStateChanged(e,n,r)}function mse(t){return Gn(t).signOut()}const Eb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eb,"1"),this.storage.removeItem(Eb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gse=1e3,yse=10;class h9 extends f9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=r9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);jie()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yse):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}h9.type="LOCAL";const vse=h9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9 extends f9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}p9.type="SESSION";const m9=p9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bse(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new xw(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async d=>d(n.origin,s)),c=await bse(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const d=Q2("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(){return window}function wse(t){za().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(){return typeof za().WorkerGlobalScope<"u"&&typeof za().importScripts=="function"}async function Sse(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Tse(){return navigator?.serviceWorker?.controller||null}function Ese(){return g9()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9="firebaseLocalStorageDb",kse=1,kb="firebaseLocalStorage",v9="fbase_key";class Qg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ww(t,e){return t.transaction([kb],e?"readwrite":"readonly").objectStore(kb)}function _se(){const t=indexedDB.deleteDatabase(y9);return new Qg(t).toPromise()}function iA(){const t=indexedDB.open(y9,kse);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kb,{keyPath:v9})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kb)?e(r):(r.close(),await _se(),e(await iA()))})})}async function S5(t,e,n){const r=ww(t,!0).put({[v9]:e,value:n});return new Qg(r).toPromise()}async function Ase(t,e){const n=ww(t,!1).get(e),r=await new Qg(n).toPromise();return r===void 0?null:r.value}function T5(t,e){const n=ww(t,!0).delete(e);return new Qg(n).toPromise()}const Cse=800,Nse=3;class b9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Nse)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g9()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xw._getInstance(Ese()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Sse(),!this.activeServiceWorker)return;this.sender=new xse(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Tse()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iA();return await S5(e,Eb,"1"),await T5(e,Eb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>S5(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Ase(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>T5(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ww(i,!1).getAll();return new Qg(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Cse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}b9.type="LOCAL";const Ose=b9;new Kg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mse(t,e){return e?Io(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2 extends Y2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ih(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ih(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ih(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jse(t){return u9(t.auth,new J2(t),t.bypassAuthState)}function Ise(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),lse(n,new J2(t),t.bypassAuthState)}async function Dse(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),ose(n,new J2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jse;case"linkViaPopup":case"linkViaRedirect":return Dse;case"reauthViaPopup":case"reauthViaRedirect":return Ise;default:ra(this.auth,"internal-error")}}resolve(e){qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pse=new Kg(2e3,1e4);class Kf extends x9{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Kf.currentPopupAction&&Kf.currentPopupAction.cancel(),Kf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){qo(this.filter.length===1,"Popup operations only handle one event");const e=Q2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ba(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ba(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kf.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ba(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Pse.get())};e()}}Kf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rse="pendingRedirect",qv=new Map;class Lse extends x9{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qv.get(this.auth._key());if(!e){try{const r=await Vse(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qv.set(this.auth._key(),e)}return this.bypassAuthState||qv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Vse(t,e){const n=Use(e),r=zse(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Bse(t,e){qv.set(t._key(),e)}function zse(t){return Io(t._redirectPersistence)}function Use(t){return Hv(Rse,t.config.apiKey,t.name)}async function Fse(t,e,n=!1){if(gs(t.app))return Promise.reject(Lo(t));const r=Fc(t),i=Mse(r,e),a=await new Lse(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $se=600*1e3;class Hse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qse(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!w9(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ba(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$se&&this.cachedEventUids.clear(),this.cachedEventUids.has(E5(e))}saveEventToCache(e){this.cachedEventUids.add(E5(e)),this.lastProcessedEventTime=Date.now()}}function E5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function w9({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function qse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w9(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wse(t,e={}){return nl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kse=/^https?/;async function Yse(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Wse(t);for(const n of e)try{if(Xse(n))return}catch{}ra(t,"unauthorized-domain")}function Xse(t){const e=nA(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Kse.test(n))return!1;if(Gse.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qse=new Kg(3e4,6e4);function k5(){const t=za().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Jse(t){return new Promise((e,n)=>{function r(){k5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k5(),n(Ba(t,"network-request-failed"))},timeout:Qse.get()})}if(za().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(za().gapi?.load)r();else{const i=Uie("iframefcb");return za()[i]=()=>{gapi.load?r():n(Ba(t,"network-request-failed"))},s9(`${zie()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Wv=null,e})}let Wv=null;function Zse(t){return Wv=Wv||Jse(t),Wv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eae=new Kg(5e3,15e3),tae="__/auth/iframe",nae="emulator/auth/iframe",rae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sae(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?W2(e,nae):`https://${t.config.authDomain}/${tae}`,r={apiKey:e.apiKey,appName:t.name,v:Lh},i=iae.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Gg(r).slice(1)}`}async function aae(t){const e=await Zse(t),n=za().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:sae(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rae,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Ba(t,"network-request-failed"),l=za().setTimeout(()=>{s(a)},eae.get());function c(){za().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lae=500,cae=600,uae="_blank",dae="http://localhost";class _5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fae(t,e,n,r=lae,i=cae){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...oae,width:r.toString(),height:i.toString(),top:s,left:a},d=$r().toLowerCase();n&&(l=JF(d)?uae:n),XF(d)&&(e=e||dae,c.scrollbars="yes");const f=Object.entries(c).reduce((g,[v,b])=>`${g}${v}=${b},`,"");if(Mie(d)&&l!=="_self")return hae(e||"",l),new _5(null);const p=window.open(e||"",l,f);ze(p,t,"popup-blocked");try{p.focus()}catch{}return new _5(p)}function hae(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pae="__/auth/handler",mae="emulator/auth/handler",gae=encodeURIComponent("fac");async function A5(t,e,n,r,i,s){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lh,eventId:i};if(e instanceof l9){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Zne(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))a[f]=p}if(e instanceof Xg){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),d=c?`#${gae}=${encodeURIComponent(c)}`:"";return`${yae(t)}?${Gg(l).slice(1)}${d}`}function yae({config:t}){return t.emulator?W2(t,mae):`https://${t.authDomain}/${pae}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="webStorageSupport";class vae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=m9,this._completeRedirectFn=Fse,this._overrideRedirectResult=Bse}async _openPopup(e,n,r,i){qo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await A5(e,n,r,nA(),i);return fae(e,s,Q2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await A5(e,n,r,nA(),i);return wse(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await aae(e),r=new Hse(e);return n.register("authEvent",i=>(ze(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dE,{type:dE},i=>{const s=i?.[0]?.[dE];s!==void 0&&n(!!s),ra(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Yse(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return r9()||QF()||K2()}}const bae=vae;var C5="@firebase/auth",N5="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Sae(t){hh(new gd("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;ze(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i9(t)},d=new Lie(r,i,s,c);return Gie(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hh(new gd("auth-internal",e=>{const n=Fc(e.getProvider("auth").getImmediate());return(r=>new xae(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gc(C5,N5,wae(t)),gc(C5,N5,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tae=300,Eae=IF("authIdTokenMaxAge")||Tae;let O5=null;const kae=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Eae)return;const i=n?.token;O5!==i&&(O5=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Is(t=BF()){const e=H2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Wie(t,{popupRedirectResolver:bae,persistence:[Ose,vse,m9]}),r=IF("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=kae(s.toString());pse(n,a,()=>a(n.currentUser)),hse(n,l=>a(l))}}const i=MF("auth");return i&&Kie(n,`http://${i}`),n}function _ae(){return document.getElementsByTagName("head")?.[0]??document}Vie({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ba("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",_ae().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Sae("Browser");var M5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yc,S9;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,j){function M(){}M.prototype=j.prototype,I.F=j.prototype,I.prototype=new M,I.prototype.constructor=I,I.D=function(R,V,L){for(var B=Array(arguments.length-2),X=2;X<arguments.length;X++)B[X-2]=arguments[X];return j.prototype[V].apply(R,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,j,M){M||(M=0);const R=Array(16);if(typeof j=="string")for(var V=0;V<16;++V)R[V]=j.charCodeAt(M++)|j.charCodeAt(M++)<<8|j.charCodeAt(M++)<<16|j.charCodeAt(M++)<<24;else for(V=0;V<16;++V)R[V]=j[M++]|j[M++]<<8|j[M++]<<16|j[M++]<<24;j=I.g[0],M=I.g[1],V=I.g[2];let L=I.g[3],B;B=j+(L^M&(V^L))+R[0]+3614090360&4294967295,j=M+(B<<7&4294967295|B>>>25),B=L+(V^j&(M^V))+R[1]+3905402710&4294967295,L=j+(B<<12&4294967295|B>>>20),B=V+(M^L&(j^M))+R[2]+606105819&4294967295,V=L+(B<<17&4294967295|B>>>15),B=M+(j^V&(L^j))+R[3]+3250441966&4294967295,M=V+(B<<22&4294967295|B>>>10),B=j+(L^M&(V^L))+R[4]+4118548399&4294967295,j=M+(B<<7&4294967295|B>>>25),B=L+(V^j&(M^V))+R[5]+1200080426&4294967295,L=j+(B<<12&4294967295|B>>>20),B=V+(M^L&(j^M))+R[6]+2821735955&4294967295,V=L+(B<<17&4294967295|B>>>15),B=M+(j^V&(L^j))+R[7]+4249261313&4294967295,M=V+(B<<22&4294967295|B>>>10),B=j+(L^M&(V^L))+R[8]+1770035416&4294967295,j=M+(B<<7&4294967295|B>>>25),B=L+(V^j&(M^V))+R[9]+2336552879&4294967295,L=j+(B<<12&4294967295|B>>>20),B=V+(M^L&(j^M))+R[10]+4294925233&4294967295,V=L+(B<<17&4294967295|B>>>15),B=M+(j^V&(L^j))+R[11]+2304563134&4294967295,M=V+(B<<22&4294967295|B>>>10),B=j+(L^M&(V^L))+R[12]+1804603682&4294967295,j=M+(B<<7&4294967295|B>>>25),B=L+(V^j&(M^V))+R[13]+4254626195&4294967295,L=j+(B<<12&4294967295|B>>>20),B=V+(M^L&(j^M))+R[14]+2792965006&4294967295,V=L+(B<<17&4294967295|B>>>15),B=M+(j^V&(L^j))+R[15]+1236535329&4294967295,M=V+(B<<22&4294967295|B>>>10),B=j+(V^L&(M^V))+R[1]+4129170786&4294967295,j=M+(B<<5&4294967295|B>>>27),B=L+(M^V&(j^M))+R[6]+3225465664&4294967295,L=j+(B<<9&4294967295|B>>>23),B=V+(j^M&(L^j))+R[11]+643717713&4294967295,V=L+(B<<14&4294967295|B>>>18),B=M+(L^j&(V^L))+R[0]+3921069994&4294967295,M=V+(B<<20&4294967295|B>>>12),B=j+(V^L&(M^V))+R[5]+3593408605&4294967295,j=M+(B<<5&4294967295|B>>>27),B=L+(M^V&(j^M))+R[10]+38016083&4294967295,L=j+(B<<9&4294967295|B>>>23),B=V+(j^M&(L^j))+R[15]+3634488961&4294967295,V=L+(B<<14&4294967295|B>>>18),B=M+(L^j&(V^L))+R[4]+3889429448&4294967295,M=V+(B<<20&4294967295|B>>>12),B=j+(V^L&(M^V))+R[9]+568446438&4294967295,j=M+(B<<5&4294967295|B>>>27),B=L+(M^V&(j^M))+R[14]+3275163606&4294967295,L=j+(B<<9&4294967295|B>>>23),B=V+(j^M&(L^j))+R[3]+4107603335&4294967295,V=L+(B<<14&4294967295|B>>>18),B=M+(L^j&(V^L))+R[8]+1163531501&4294967295,M=V+(B<<20&4294967295|B>>>12),B=j+(V^L&(M^V))+R[13]+2850285829&4294967295,j=M+(B<<5&4294967295|B>>>27),B=L+(M^V&(j^M))+R[2]+4243563512&4294967295,L=j+(B<<9&4294967295|B>>>23),B=V+(j^M&(L^j))+R[7]+1735328473&4294967295,V=L+(B<<14&4294967295|B>>>18),B=M+(L^j&(V^L))+R[12]+2368359562&4294967295,M=V+(B<<20&4294967295|B>>>12),B=j+(M^V^L)+R[5]+4294588738&4294967295,j=M+(B<<4&4294967295|B>>>28),B=L+(j^M^V)+R[8]+2272392833&4294967295,L=j+(B<<11&4294967295|B>>>21),B=V+(L^j^M)+R[11]+1839030562&4294967295,V=L+(B<<16&4294967295|B>>>16),B=M+(V^L^j)+R[14]+4259657740&4294967295,M=V+(B<<23&4294967295|B>>>9),B=j+(M^V^L)+R[1]+2763975236&4294967295,j=M+(B<<4&4294967295|B>>>28),B=L+(j^M^V)+R[4]+1272893353&4294967295,L=j+(B<<11&4294967295|B>>>21),B=V+(L^j^M)+R[7]+4139469664&4294967295,V=L+(B<<16&4294967295|B>>>16),B=M+(V^L^j)+R[10]+3200236656&4294967295,M=V+(B<<23&4294967295|B>>>9),B=j+(M^V^L)+R[13]+681279174&4294967295,j=M+(B<<4&4294967295|B>>>28),B=L+(j^M^V)+R[0]+3936430074&4294967295,L=j+(B<<11&4294967295|B>>>21),B=V+(L^j^M)+R[3]+3572445317&4294967295,V=L+(B<<16&4294967295|B>>>16),B=M+(V^L^j)+R[6]+76029189&4294967295,M=V+(B<<23&4294967295|B>>>9),B=j+(M^V^L)+R[9]+3654602809&4294967295,j=M+(B<<4&4294967295|B>>>28),B=L+(j^M^V)+R[12]+3873151461&4294967295,L=j+(B<<11&4294967295|B>>>21),B=V+(L^j^M)+R[15]+530742520&4294967295,V=L+(B<<16&4294967295|B>>>16),B=M+(V^L^j)+R[2]+3299628645&4294967295,M=V+(B<<23&4294967295|B>>>9),B=j+(V^(M|~L))+R[0]+4096336452&4294967295,j=M+(B<<6&4294967295|B>>>26),B=L+(M^(j|~V))+R[7]+1126891415&4294967295,L=j+(B<<10&4294967295|B>>>22),B=V+(j^(L|~M))+R[14]+2878612391&4294967295,V=L+(B<<15&4294967295|B>>>17),B=M+(L^(V|~j))+R[5]+4237533241&4294967295,M=V+(B<<21&4294967295|B>>>11),B=j+(V^(M|~L))+R[12]+1700485571&4294967295,j=M+(B<<6&4294967295|B>>>26),B=L+(M^(j|~V))+R[3]+2399980690&4294967295,L=j+(B<<10&4294967295|B>>>22),B=V+(j^(L|~M))+R[10]+4293915773&4294967295,V=L+(B<<15&4294967295|B>>>17),B=M+(L^(V|~j))+R[1]+2240044497&4294967295,M=V+(B<<21&4294967295|B>>>11),B=j+(V^(M|~L))+R[8]+1873313359&4294967295,j=M+(B<<6&4294967295|B>>>26),B=L+(M^(j|~V))+R[15]+4264355552&4294967295,L=j+(B<<10&4294967295|B>>>22),B=V+(j^(L|~M))+R[6]+2734768916&4294967295,V=L+(B<<15&4294967295|B>>>17),B=M+(L^(V|~j))+R[13]+1309151649&4294967295,M=V+(B<<21&4294967295|B>>>11),B=j+(V^(M|~L))+R[4]+4149444226&4294967295,j=M+(B<<6&4294967295|B>>>26),B=L+(M^(j|~V))+R[11]+3174756917&4294967295,L=j+(B<<10&4294967295|B>>>22),B=V+(j^(L|~M))+R[2]+718787259&4294967295,V=L+(B<<15&4294967295|B>>>17),B=M+(L^(V|~j))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+j&4294967295,I.g[1]=I.g[1]+(V+(B<<21&4294967295|B>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+L&4294967295}r.prototype.v=function(I,j){j===void 0&&(j=I.length);const M=j-this.blockSize,R=this.C;let V=this.h,L=0;for(;L<j;){if(V==0)for(;L<=M;)i(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<j;)if(R[V++]=I.charCodeAt(L++),V==this.blockSize){i(this,R),V=0;break}}else for(;L<j;)if(R[V++]=I[L++],V==this.blockSize){i(this,R),V=0;break}}this.h=V,this.o+=j},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var j=1;j<I.length-8;++j)I[j]=0;j=this.o*8;for(var M=I.length-8;M<I.length;++M)I[M]=j&255,j/=256;for(this.v(I),I=Array(16),j=0,M=0;M<4;++M)for(let R=0;R<32;R+=8)I[j++]=this.g[M]>>>R&255;return I};function s(I,j){var M=l;return Object.prototype.hasOwnProperty.call(M,I)?M[I]:M[I]=j(I)}function a(I,j){this.h=j;const M=[];let R=!0;for(let V=I.length-1;V>=0;V--){const L=I[V]|0;R&&L==j||(M[V]=L,R=!1)}this.g=M}var l={};function c(I){return-128<=I&&I<128?s(I,function(j){return new a([j|0],j<0?-1:0)}):new a([I|0],I<0?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return p;if(I<0)return S(d(-I));const j=[];let M=1;for(let R=0;I>=M;R++)j[R]=I/M|0,M*=4294967296;return new a(j,0)}function f(I,j){if(I.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(I.charAt(0)=="-")return S(f(I.substring(1),j));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=d(Math.pow(j,8));let R=p;for(let L=0;L<I.length;L+=8){var V=Math.min(8,I.length-L);const B=parseInt(I.substring(L,L+V),j);V<8?(V=d(Math.pow(j,V)),R=R.j(V).add(d(B))):(R=R.j(M),R=R.add(d(B)))}return R}var p=c(0),g=c(1),v=c(16777216);t=a.prototype,t.m=function(){if(E(this))return-S(this).m();let I=0,j=1;for(let M=0;M<this.g.length;M++){const R=this.i(M);I+=(R>=0?R:4294967296+R)*j,j*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(E(this))return"-"+S(this).toString(I);const j=d(Math.pow(I,6));var M=this;let R="";for(;;){const V=z(M,j).g;M=k(M,V.j(j));let L=((M.g.length>0?M.g[0]:M.h)>>>0).toString(I);if(M=V,b(M))return L+R;for(;L.length<6;)L="0"+L;R=L+R}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(let j=0;j<I.g.length;j++)if(I.g[j]!=0)return!1;return!0}function E(I){return I.h==-1}t.l=function(I){return I=k(this,I),E(I)?-1:b(I)?0:1};function S(I){const j=I.g.length,M=[];for(let R=0;R<j;R++)M[R]=~I.g[R];return new a(M,~I.h).add(g)}t.abs=function(){return E(this)?S(this):this},t.add=function(I){const j=Math.max(this.g.length,I.g.length),M=[];let R=0;for(let V=0;V<=j;V++){let L=R+(this.i(V)&65535)+(I.i(V)&65535),B=(L>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);R=B>>>16,L&=65535,B&=65535,M[V]=B<<16|L}return new a(M,M[M.length-1]&-2147483648?-1:0)};function k(I,j){return I.add(S(j))}t.j=function(I){if(b(this)||b(I))return p;if(E(this))return E(I)?S(this).j(S(I)):S(S(this).j(I));if(E(I))return S(this.j(S(I)));if(this.l(v)<0&&I.l(v)<0)return d(this.m()*I.m());const j=this.g.length+I.g.length,M=[];for(var R=0;R<2*j;R++)M[R]=0;for(R=0;R<this.g.length;R++)for(let V=0;V<I.g.length;V++){const L=this.i(R)>>>16,B=this.i(R)&65535,X=I.i(V)>>>16,ae=I.i(V)&65535;M[2*R+2*V]+=B*ae,C(M,2*R+2*V),M[2*R+2*V+1]+=L*ae,C(M,2*R+2*V+1),M[2*R+2*V+1]+=B*X,C(M,2*R+2*V+1),M[2*R+2*V+2]+=L*X,C(M,2*R+2*V+2)}for(I=0;I<j;I++)M[I]=M[2*I+1]<<16|M[2*I];for(I=j;I<2*j;I++)M[I]=0;return new a(M,0)};function C(I,j){for(;(I[j]&65535)!=I[j];)I[j+1]+=I[j]>>>16,I[j]&=65535,j++}function O(I,j){this.g=I,this.h=j}function z(I,j){if(b(j))throw Error("division by zero");if(b(I))return new O(p,p);if(E(I))return j=z(S(I),j),new O(S(j.g),S(j.h));if(E(j))return j=z(I,S(j)),new O(S(j.g),j.h);if(I.g.length>30){if(E(I)||E(j))throw Error("slowDivide_ only works with positive integers.");for(var M=g,R=j;R.l(I)<=0;)M=P(M),R=P(R);var V=U(M,1),L=U(R,1);for(R=U(R,2),M=U(M,2);!b(R);){var B=L.add(R);B.l(I)<=0&&(V=V.add(M),L=B),R=U(R,1),M=U(M,1)}return j=k(I,V.j(j)),new O(V,j)}for(V=p;I.l(j)>=0;){for(M=Math.max(1,Math.floor(I.m()/j.m())),R=Math.ceil(Math.log(M)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),L=d(M),B=L.j(j);E(B)||B.l(I)>0;)M-=R,L=d(M),B=L.j(j);b(L)&&(L=g),V=V.add(L),I=k(I,B)}return new O(V,I)}t.B=function(I){return z(this,I).h},t.and=function(I){const j=Math.max(this.g.length,I.g.length),M=[];for(let R=0;R<j;R++)M[R]=this.i(R)&I.i(R);return new a(M,this.h&I.h)},t.or=function(I){const j=Math.max(this.g.length,I.g.length),M=[];for(let R=0;R<j;R++)M[R]=this.i(R)|I.i(R);return new a(M,this.h|I.h)},t.xor=function(I){const j=Math.max(this.g.length,I.g.length),M=[];for(let R=0;R<j;R++)M[R]=this.i(R)^I.i(R);return new a(M,this.h^I.h)};function P(I){const j=I.g.length+1,M=[];for(let R=0;R<j;R++)M[R]=I.i(R)<<1|I.i(R-1)>>>31;return new a(M,I.h)}function U(I,j){const M=j>>5;j%=32;const R=I.g.length-M,V=[];for(let L=0;L<R;L++)V[L]=j>0?I.i(L+M)>>>j|I.i(L+M+1)<<32-j:I.i(L+M);return new a(V,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,S9=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,yc=a}).apply(typeof M5<"u"?M5:typeof self<"u"?self:typeof window<"u"?window:{});var rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var T9,ym,E9,Gv,sA,k9,_9,A9;(function(){var t,e=Object.defineProperty;function n(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof rv=="object"&&rv];for(var A=0;A<x.length;++A){var D=x[A];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function i(x,A){if(A)e:{var D=r;x=x.split(".");for(var $=0;$<x.length-1;$++){var Q=x[$];if(!(Q in D))break e;D=D[Q]}x=x[x.length-1],$=D[x],A=A($),A!=$&&A!=null&&e(D,x,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(x){return x||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(x){return x||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(x){return x||function(A){var D=[],$;for($ in A)Object.prototype.hasOwnProperty.call(A,$)&&D.push([$,A[$]]);return D}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(x){var A=typeof x;return A=="object"&&x!=null||A=="function"}function c(x,A,D){return x.call.apply(x.bind,arguments)}function d(x,A,D){return d=c,d.apply(null,arguments)}function f(x,A){var D=Array.prototype.slice.call(arguments,1);return function(){var $=D.slice();return $.push.apply($,arguments),x.apply(this,$)}}function p(x,A){function D(){}D.prototype=A.prototype,x.Z=A.prototype,x.prototype=new D,x.prototype.constructor=x,x.Ob=function($,Q,te){for(var xe=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)xe[Ke-2]=arguments[Ke];return A.prototype[Q].apply($,xe)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?x=>x&&AsyncContext.Snapshot.wrap(x):x=>x;function v(x){const A=x.length;if(A>0){const D=Array(A);for(let $=0;$<A;$++)D[$]=x[$];return D}return[]}function b(x,A){for(let $=1;$<arguments.length;$++){const Q=arguments[$];var D=typeof Q;if(D=D!="object"?D:Q?Array.isArray(Q)?"array":D:"null",D=="array"||D=="object"&&typeof Q.length=="number"){D=x.length||0;const te=Q.length||0;x.length=D+te;for(let xe=0;xe<te;xe++)x[D+xe]=Q[xe]}else x.push(Q)}}class E{constructor(A,D){this.i=A,this.j=D,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function S(x){a.setTimeout(()=>{throw x},0)}function k(){var x=I;let A=null;return x.g&&(A=x.g,x.g=x.g.next,x.g||(x.h=null),A.next=null),A}class C{constructor(){this.h=this.g=null}add(A,D){const $=O.get();$.set(A,D),this.h?this.h.next=$:this.g=$,this.h=$}}var O=new E(()=>new z,x=>x.reset());class z{constructor(){this.next=this.g=this.h=null}set(A,D){this.h=A,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let P,U=!1,I=new C,j=()=>{const x=Promise.resolve(void 0);P=()=>{x.then(M)}};function M(){for(var x;x=k();){try{x.h.call(x.g)}catch(D){S(D)}var A=O;A.j(x),A.h<100&&(A.h++,x.next=A.g,A.g=x)}U=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(x,A){this.type=x,this.g=this.target=A,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var x=!1,A=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const D=()=>{};a.addEventListener("test",D,A),a.removeEventListener("test",D,A)}catch{}return x})();function B(x){return/^[\s\xa0]*$/.test(x)}function X(x,A){V.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x&&this.init(x,A)}p(X,V),X.prototype.init=function(x,A){const D=this.type=x.type,$=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;this.target=x.target||x.srcElement,this.g=A,A=x.relatedTarget,A||(D=="mouseover"?A=x.fromElement:D=="mouseout"&&(A=x.toElement)),this.relatedTarget=A,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=x.pointerType,this.state=x.state,this.i=x,x.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),W=0;function Y(x,A,D,$,Q){this.listener=x,this.proxy=null,this.src=A,this.type=D,this.capture=!!$,this.ha=Q,this.key=++W,this.da=this.fa=!1}function le(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function he(x,A,D){for(const $ in x)A.call(D,x[$],$,x)}function Se(x,A){for(const D in x)A.call(void 0,x[D],D,x)}function H(x){const A={};for(const D in x)A[D]=x[D];return A}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(x,A){let D,$;for(let Q=1;Q<arguments.length;Q++){$=arguments[Q];for(D in $)x[D]=$[D];for(let te=0;te<ne.length;te++)D=ne[te],Object.prototype.hasOwnProperty.call($,D)&&(x[D]=$[D])}}function be(x){this.src=x,this.g={},this.h=0}be.prototype.add=function(x,A,D,$,Q){const te=x.toString();x=this.g[te],x||(x=this.g[te]=[],this.h++);const xe=pe(x,A,$,Q);return xe>-1?(A=x[xe],D||(A.fa=!1)):(A=new Y(A,this.src,te,!!$,Q),A.fa=D,x.push(A)),A};function ke(x,A){const D=A.type;if(D in x.g){var $=x.g[D],Q=Array.prototype.indexOf.call($,A,void 0),te;(te=Q>=0)&&Array.prototype.splice.call($,Q,1),te&&(le(A),x.g[D].length==0&&(delete x.g[D],x.h--))}}function pe(x,A,D,$){for(let Q=0;Q<x.length;++Q){const te=x[Q];if(!te.da&&te.listener==A&&te.capture==!!D&&te.ha==$)return Q}return-1}var we="closure_lm_"+(Math.random()*1e6|0),et={};function ie(x,A,D,$,Q){if(Array.isArray(A)){for(let te=0;te<A.length;te++)ie(x,A[te],D,$,Q);return null}return D=Rs(D),x&&x[ae]?x.J(A,D,l($)?!!$.capture:!1,Q):Ce(x,A,D,!1,$,Q)}function Ce(x,A,D,$,Q,te){if(!A)throw Error("Invalid event type");const xe=l(Q)?!!Q.capture:!!Q;let Ke=ct(x);if(Ke||(x[we]=Ke=new be(x)),D=Ke.add(A,D,$,xe,te),D.proxy)return D;if($=Re(),D.proxy=$,$.src=x,$.listener=D,x.addEventListener)L||(Q=xe),Q===void 0&&(Q=!1),x.addEventListener(A.toString(),$,Q);else if(x.attachEvent)x.attachEvent(Me(A.toString()),$);else if(x.addListener&&x.removeListener)x.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return D}function Re(){function x(D){return A.call(x.src,x.listener,D)}const A=Vt;return x}function me(x,A,D,$,Q){if(Array.isArray(A))for(var te=0;te<A.length;te++)me(x,A[te],D,$,Q);else $=l($)?!!$.capture:!!$,D=Rs(D),x&&x[ae]?(x=x.i,te=String(A).toString(),te in x.g&&(A=x.g[te],D=pe(A,D,$,Q),D>-1&&(le(A[D]),Array.prototype.splice.call(A,D,1),A.length==0&&(delete x.g[te],x.h--)))):x&&(x=ct(x))&&(A=x.g[A.toString()],x=-1,A&&(x=pe(A,D,$,Q)),(D=x>-1?A[x]:null)&&dt(D))}function dt(x){if(typeof x!="number"&&x&&!x.da){var A=x.src;if(A&&A[ae])ke(A.i,x);else{var D=x.type,$=x.proxy;A.removeEventListener?A.removeEventListener(D,$,x.capture):A.detachEvent?A.detachEvent(Me(D),$):A.addListener&&A.removeListener&&A.removeListener($),(D=ct(A))?(ke(D,x),D.h==0&&(D.src=null,A[we]=null)):le(x)}}}function Me(x){return x in et?et[x]:et[x]="on"+x}function Vt(x,A){if(x.da)x=!0;else{A=new X(A,this);const D=x.listener,$=x.ha||x.src;x.fa&&dt(x),x=D.call($,A)}return x}function ct(x){return x=x[we],x instanceof be?x:null}var Zn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rs(x){return typeof x=="function"?x:(x[Zn]||(x[Zn]=function(A){return x.handleEvent(A)}),x[Zn])}function nn(){R.call(this),this.i=new be(this),this.M=this,this.G=null}p(nn,R),nn.prototype[ae]=!0,nn.prototype.removeEventListener=function(x,A,D,$){me(this,x,A,D,$)};function vn(x,A){var D,$=x.G;if($)for(D=[];$;$=$.G)D.push($);if(x=x.M,$=A.type||A,typeof A=="string")A=new V(A,x);else if(A instanceof V)A.target=A.target||x;else{var Q=A;A=new V($,x),ye(A,Q)}Q=!0;let te,xe;if(D)for(xe=D.length-1;xe>=0;xe--)te=A.g=D[xe],Q=ca(te,$,!0,A)&&Q;if(te=A.g=x,Q=ca(te,$,!0,A)&&Q,Q=ca(te,$,!1,A)&&Q,D)for(xe=0;xe<D.length;xe++)te=A.g=D[xe],Q=ca(te,$,!1,A)&&Q}nn.prototype.N=function(){if(nn.Z.N.call(this),this.i){var x=this.i;for(const A in x.g){const D=x.g[A];for(let $=0;$<D.length;$++)le(D[$]);delete x.g[A],x.h--}}this.G=null},nn.prototype.J=function(x,A,D,$){return this.i.add(String(x),A,!1,D,$)},nn.prototype.K=function(x,A,D,$){return this.i.add(String(x),A,!0,D,$)};function ca(x,A,D,$){if(A=x.i.g[String(A)],!A)return!0;A=A.concat();let Q=!0;for(let te=0;te<A.length;++te){const xe=A[te];if(xe&&!xe.da&&xe.capture==D){const Ke=xe.listener,bn=xe.ha||xe.src;xe.fa&&ke(x.i,xe),Q=Ke.call(bn,$)!==!1&&Q}}return Q&&!$.defaultPrevented}function tp(x,A){if(typeof x!="function")if(x&&typeof x.handleEvent=="function")x=d(x.handleEvent,x);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:a.setTimeout(x,A||0)}function nu(x){x.g=tp(()=>{x.g=null,x.i&&(x.i=!1,nu(x))},x.l);const A=x.h;x.h=null,x.m.apply(null,A)}class fr extends R{constructor(A,D){super(),this.m=A,this.l=D,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:nu(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function no(x){R.call(this),this.h=x,this.g={}}p(no,R);var ru=[];function iu(x){he(x.g,function(A,D){this.g.hasOwnProperty(D)&&dt(A)},x),x.g={}}no.prototype.N=function(){no.Z.N.call(this),iu(this)},no.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ua=a.JSON.stringify,su=a.JSON.parse,au=class{stringify(x){return a.JSON.stringify(x,void 0)}parse(x){return a.JSON.parse(x,void 0)}};function ou(){}function Ud(){}var Mr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kn(){V.call(this,"d")}p(kn,V);function oi(){V.call(this,"c")}p(oi,V);var Kt={},lu=null;function da(){return lu=lu||new nn}Kt.Ia="serverreachability";function Fd(x){V.call(this,Kt.Ia,x)}p(Fd,V);function Ai(x){const A=da();vn(A,new Fd(A))}Kt.STAT_EVENT="statevent";function ro(x,A){V.call(this,Kt.STAT_EVENT,x),this.stat=A}p(ro,V);function rn(x){const A=da();vn(A,new ro(A,x))}Kt.Ja="timingevent";function Bt(x,A){V.call(this,Kt.Ja,x),this.size=A}p(Bt,V);function zt(x,A){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){x()},A)}function jr(){this.g=!0}jr.prototype.ua=function(){this.g=!1};function Ot(x,A,D,$,Q,te){x.info(function(){if(x.g)if(te){var xe="",Ke=te.split("&");for(let mt=0;mt<Ke.length;mt++){var bn=Ke[mt].split("=");if(bn.length>1){const Yt=bn[0];bn=bn[1];const Zi=Yt.split("_");xe=Zi.length>=2&&Zi[1]=="type"?xe+(Yt+"="+bn+"&"):xe+(Yt+"=redacted&")}}}else xe=null;else xe=te;return"XMLHTTP REQ ("+$+") [attempt "+Q+"]: "+A+`
`+D+`
`+xe})}function Wr(x,A,D,$,Q,te,xe){x.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+Q+"]: "+A+`
`+D+`
`+te+" "+xe})}function Ki(x,A,D,$){x.info(function(){return"XMLHTTP TEXT ("+A+"): "+$d(x,D)+($?" "+$:"")})}function Ls(x,A){x.info(function(){return"TIMEOUT: "+A})}jr.prototype.info=function(){};function $d(x,A){if(!x.g)return A;if(!A)return null;try{const te=JSON.parse(A);if(te){for(x=0;x<te.length;x++)if(Array.isArray(te[x])){var D=te[x];if(!(D.length<2)){var $=D[1];if(Array.isArray($)&&!($.length<1)){var Q=$[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let xe=1;xe<$.length;xe++)$[xe]=""}}}}return ua(te)}catch{return A}}var fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ha;function Vs(){}p(Vs,ou),Vs.prototype.g=function(){return new XMLHttpRequest},ha=new Vs;function Ci(x){return encodeURIComponent(String(x))}function pl(x){var A=1;x=x.split(":");const D=[];for(;A>0&&x.length;)D.push(x.shift()),A--;return x.length&&D.push(x.join(":")),D}function Ni(x,A,D,$){this.j=x,this.i=A,this.l=D,this.S=$||1,this.V=new no(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gr}function Gr(){this.i=null,this.g="",this.h=!1}var sn={},_n={};function Yi(x,A,D){x.M=1,x.A=cu(Cn(A)),x.u=D,x.R=!0,Ge(x,null)}function Ge(x,A){x.F=Date.now(),un(x),x.B=Cn(x.A);var D=x.B,$=x.S;Array.isArray($)||($=[String($)]),Wd(D.i,"t",$),x.C=0,D=x.j.L,x.h=new Gr,x.g=q0(x.j,D?A:null,!x.u),x.P>0&&(x.O=new fr(d(x.Y,x,x.g),x.P)),A=x.V,D=x.g,$=x.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(ru[0]=Q.toString()),Q=ru);for(let te=0;te<Q.length;te++){const xe=ie(D,Q[te],$||A.handleEvent,!1,A.h||A);if(!xe)break;A.g[xe.key]=xe}A=x.J?H(x.J):{},x.u?(x.v||(x.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.B,x.v,x.u,A)):(x.v="GET",x.g.ea(x.B,x.v,null,A)),Ai(),Ot(x.i,x.v,x.B,x.l,x.S,x.u)}Ni.prototype.ba=function(x){x=x.target;const A=this.O;A&&Us(x)==3?A.j():this.Y(x)},Ni.prototype.Y=function(x){try{if(x==this.g)e:{const Ke=Us(this.g),bn=this.g.ya(),mt=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||hr(this.g)))){this.K||Ke!=4||bn==7||(bn==8||mt<=0?Ai(3):Ai(2)),Xi(this);var A=this.g.ca();this.X=A;var D=Pt(this);if(this.o=A==200,Wr(this.i,this.v,this.B,this.l,this.S,Ke,A),this.o){if(this.U&&!this.L){t:{if(this.g){var $,Q=this.g;if(($=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B($)){var te=$;break t}}te=null}if(x=te)Ki(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ma(this,x);else{this.o=!1,this.m=3,rn(12),Oi(this),li(this);break e}}if(this.R){x=!0;let Yt;for(;!this.K&&this.C<D.length;)if(Yt=Ir(this,D),Yt==_n){Ke==4&&(this.m=4,rn(14),x=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==sn){this.m=4,rn(15),Ki(this.i,this.l,D,"[Invalid Chunk]"),x=!1;break}else Ki(this.i,this.l,Yt,null),ma(this,Yt);if(Ut(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||D.length!=0||this.h.h||(this.m=1,rn(16),x=!1),this.o=this.o&&x,!x)Ki(this.i,this.l,D,"[Invalid Chunked Response]"),Oi(this),li(this);else if(D.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+D.length),gp(xe),xe.P=!0,rn(11))}}else Ki(this.i,this.l,D,null),ma(this,D);Ke==4&&Oi(this),this.o&&!this.K&&(Ke==4?U0(this.j,this):(this.o=!1,un(this)))}else ao(this.g),A==400&&D.indexOf("Unknown SID")>0?(this.m=3,rn(12)):(this.m=0,rn(13)),Oi(this),li(this)}}}catch{}finally{}};function Pt(x){if(!Ut(x))return x.g.la();const A=hr(x.g);if(A==="")return"";let D="";const $=A.length,Q=Us(x.g)==4;if(!x.h.i){if(typeof TextDecoder>"u")return Oi(x),li(x),"";x.h.i=new a.TextDecoder}for(let te=0;te<$;te++)x.h.h=!0,D+=x.h.i.decode(A[te],{stream:!(Q&&te==$-1)});return A.length=0,x.h.g+=D,x.C=0,x.h.g}function Ut(x){return x.g?x.v=="GET"&&x.M!=2&&x.j.Aa:!1}function Ir(x,A){var D=x.C,$=A.indexOf(`
`,D);return $==-1?_n:(D=Number(A.substring(D,$)),isNaN(D)?sn:($+=1,$+D>A.length?_n:(A=A.slice($,$+D),x.C=$+D,A)))}Ni.prototype.cancel=function(){this.K=!0,Oi(this)};function un(x){x.T=Date.now()+x.H,pa(x,x.H)}function pa(x,A){if(x.D!=null)throw Error("WatchDog timer not null");x.D=zt(d(x.aa,x),A)}function Xi(x){x.D&&(a.clearTimeout(x.D),x.D=null)}Ni.prototype.aa=function(){this.D=null;const x=Date.now();x-this.T>=0?(Ls(this.i,this.B),this.M!=2&&(Ai(),rn(17)),Oi(this),this.m=2,li(this)):pa(this,this.T-x)};function li(x){x.j.I==0||x.K||U0(x.j,x)}function Oi(x){Xi(x);var A=x.O;A&&typeof A.dispose=="function"&&A.dispose(),x.O=null,iu(x.V),x.g&&(A=x.g,x.g=null,A.abort(),A.dispose())}function ma(x,A){try{var D=x.j;if(D.I!=0&&(D.g==x||ya(D.h,x))){if(!x.L&&ya(D.h,x)&&D.I==3){try{var $=D.Ba.g.parse(A)}catch{$=null}if(Array.isArray($)&&$.length==3){var Q=$;if(Q[0]==0){e:if(!D.v){if(D.g)if(D.g.F+3e3<x.F)Qd(D),Sl(D);else break e;gu(D),rn(18)}}else D.xa=Q[1],0<D.xa-D.K&&Q[2]<37500&&D.F&&D.A==0&&!D.C&&(D.C=zt(d(D.Va,D),6e3));ga(D.h)<=1&&D.ta&&(D.ta=void 0)}else Ta(D,11)}else if((x.L||D.g==x)&&Qd(D),!B(A))for(Q=D.Ba.g.parse(A),A=0;A<Q.length;A++){let mt=Q[A];const Yt=mt[0];if(!(Yt<=D.K))if(D.K=Yt,mt=mt[1],D.I==2)if(mt[0]=="c"){D.M=mt[1],D.ba=mt[2];const Zi=mt[3];Zi!=null&&(D.ka=Zi,D.j.info("VER="+D.ka));const Ea=mt[4];Ea!=null&&(D.za=Ea,D.j.info("SVER="+D.za));const Fs=mt[5];Fs!=null&&typeof Fs=="number"&&Fs>0&&($=1.5*Fs,D.O=$,D.j.info("backChannelRequestTimeoutMs_="+$)),$=D;const $s=x.g;if($s){const yu=$s.g?$s.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yu){var te=$.h;te.g||yu.indexOf("spdy")==-1&&yu.indexOf("quic")==-1&&yu.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(ip(te,te.h),te.h=null))}if($.G){const Jd=$s.g?$s.g.getResponseHeader("X-HTTP-Session-Id"):null;Jd&&($.wa=Jd,bt($.J,$.G,Jd))}}D.I=3,D.l&&D.l.ra(),D.aa&&(D.T=Date.now()-x.F,D.j.info("Handshake RTT: "+D.T+"ms")),$=D;var xe=x;if($.na=H0($,$.L?$.ba:null,$.W),xe.L){sp($.h,xe);var Ke=xe,bn=$.O;bn&&(Ke.H=bn),Ke.D&&(Xi(Ke),un(Ke)),$.g=xe}else B0($);D.i.length>0&&Sa(D)}else mt[0]!="stop"&&mt[0]!="close"||Ta(D,7);else D.I==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?Ta(D,7):pp(D):mt[0]!="noop"&&D.l&&D.l.qa(mt),D.A=0)}}Ai(4)}catch{}}var An=class{constructor(x,A){this.g=x,this.map=A}};function np(x){this.l=x||10,a.PerformanceNavigationTiming?(x=a.performance.getEntriesByType("navigation"),x=x.length>0&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rp(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function ga(x){return x.h?1:x.g?x.g.size:0}function ya(x,A){return x.h?x.h==A:x.g?x.g.has(A):!1}function ip(x,A){x.g?x.g.add(A):x.h=A}function sp(x,A){x.h&&x.h==A?x.h=null:x.g&&x.g.has(A)&&x.g.delete(A)}np.prototype.cancel=function(){if(this.i=ap(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function ap(x){if(x.h!=null)return x.i.concat(x.h.G);if(x.g!=null&&x.g.size!==0){let A=x.i;for(const D of x.g.values())A=A.concat(D.G);return A}return v(x.i)}var I0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hd(x,A){if(x){x=x.split("&");for(let D=0;D<x.length;D++){const $=x[D].indexOf("=");let Q,te=null;$>=0?(Q=x[D].substring(0,$),te=x[D].substring($+1)):Q=x[D],A(Q,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Mi(x){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;x instanceof Mi?(this.l=x.l,er(this,x.j),this.o=x.o,this.g=x.g,ml(this,x.u),this.h=x.h,op(this,L0(x.i)),this.m=x.m):x&&(A=String(x).match(I0))?(this.l=!1,er(this,A[1]||"",!0),this.o=va(A[2]||""),this.g=va(A[3]||"",!0),ml(this,A[4]),this.h=va(A[5]||"",!0),op(this,A[6]||"",!0),this.m=va(A[7]||"")):(this.l=!1,this.i=new yl(null,this.l))}Mi.prototype.toString=function(){const x=[];var A=this.j;A&&x.push(uu(A,qd,!0),":");var D=this.g;return(D||A=="file")&&(x.push("//"),(A=this.o)&&x.push(uu(A,qd,!0),"@"),x.push(Ci(D).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.u,D!=null&&x.push(":",String(D))),(D=this.h)&&(this.g&&D.charAt(0)!="/"&&x.push("/"),x.push(uu(D,D.charAt(0)=="/"?lp:D0,!0))),(D=this.i.toString())&&x.push("?",D),(D=this.m)&&x.push("#",uu(D,P0)),x.join("")},Mi.prototype.resolve=function(x){const A=Cn(this);let D=!!x.j;D?er(A,x.j):D=!!x.o,D?A.o=x.o:D=!!x.g,D?A.g=x.g:D=x.u!=null;var $=x.h;if(D)ml(A,x.u);else if(D=!!x.h){if($.charAt(0)!="/")if(this.g&&!this.h)$="/"+$;else{var Q=A.h.lastIndexOf("/");Q!=-1&&($=A.h.slice(0,Q+1)+$)}if(Q=$,Q==".."||Q==".")$="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){$=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const te=[];for(let xe=0;xe<Q.length;){const Ke=Q[xe++];Ke=="."?$&&xe==Q.length&&te.push(""):Ke==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),$&&xe==Q.length&&te.push("")):(te.push(Ke),$=!0)}$=te.join("/")}else $=Q}return D?A.h=$:D=x.i.toString()!=="",D?op(A,L0(x.i)):D=!!x.m,D&&(A.m=x.m),A};function Cn(x){return new Mi(x)}function er(x,A,D){x.j=D?va(A,!0):A,x.j&&(x.j=x.j.replace(/:$/,""))}function ml(x,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);x.u=A}else x.u=null}function op(x,A,D){A instanceof yl?(x.i=A,Gd(x.i,x.l)):(D||(A=uu(A,gl)),x.i=new yl(A,x.l))}function bt(x,A,D){x.i.set(A,D)}function cu(x){return bt(x,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),x}function va(x,A){return x?A?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function uu(x,A,D){return typeof x=="string"?(x=encodeURI(x).replace(A,ci),D&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function ci(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var qd=/[#\/\?@]/g,D0=/[#\?:]/g,lp=/[#\?]/g,gl=/[#\?@]/g,P0=/#/g;function yl(x,A){this.h=this.g=null,this.i=x||null,this.j=!!A}function ui(x){x.g||(x.g=new Map,x.h=0,x.i&&Hd(x.i,function(A,D){x.add(decodeURIComponent(A.replace(/\+/g," ")),D)}))}t=yl.prototype,t.add=function(x,A){ui(this),this.i=null,x=vl(this,x);let D=this.g.get(x);return D||this.g.set(x,D=[]),D.push(A),this.h+=1,this};function R0(x,A){ui(x),A=vl(x,A),x.g.has(A)&&(x.i=null,x.h-=x.g.get(A).length,x.g.delete(A))}function cp(x,A){return ui(x),A=vl(x,A),x.g.has(A)}t.forEach=function(x,A){ui(this),this.g.forEach(function(D,$){D.forEach(function(Q){x.call(A,Q,$,this)},this)},this)};function up(x,A){ui(x);let D=[];if(typeof A=="string")cp(x,A)&&(D=D.concat(x.g.get(vl(x,A))));else for(x=Array.from(x.g.values()),A=0;A<x.length;A++)D=D.concat(x[A]);return D}t.set=function(x,A){return ui(this),this.i=null,x=vl(this,x),cp(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[A]),this.h+=1,this},t.get=function(x,A){return x?(x=up(this,x),x.length>0?String(x[0]):A):A};function Wd(x,A,D){R0(x,A),D.length>0&&(x.i=null,x.g.set(vl(x,A),v(D)),x.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],A=Array.from(this.g.keys());for(let $=0;$<A.length;$++){var D=A[$];const Q=Ci(D);D=up(this,D);for(let te=0;te<D.length;te++){let xe=Q;D[te]!==""&&(xe+="="+Ci(D[te])),x.push(xe)}}return this.i=x.join("&")};function L0(x){const A=new yl;return A.i=x.i,x.g&&(A.g=new Map(x.g),A.h=x.h),A}function vl(x,A){return A=String(A),x.j&&(A=A.toLowerCase()),A}function Gd(x,A){A&&!x.j&&(ui(x),x.i=null,x.g.forEach(function(D,$){const Q=$.toLowerCase();$!=Q&&(R0(this,$),Wd(this,Q,D))},x)),x.j=A}function Bs(x,A){const D=new jr;if(a.Image){const $=new Image;$.onload=f(Qi,D,"TestLoadImage: loaded",!0,A,$),$.onerror=f(Qi,D,"TestLoadImage: error",!1,A,$),$.onabort=f(Qi,D,"TestLoadImage: abort",!1,A,$),$.ontimeout=f(Qi,D,"TestLoadImage: timeout",!1,A,$),a.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=x}else A(!1)}function dp(x,A){const D=new jr,$=new AbortController,Q=setTimeout(()=>{$.abort(),Qi(D,"TestPingServer: timeout",!1,A)},1e4);fetch(x,{signal:$.signal}).then(te=>{clearTimeout(Q),te.ok?Qi(D,"TestPingServer: ok",!0,A):Qi(D,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(Q),Qi(D,"TestPingServer: error",!1,A)})}function Qi(x,A,D,$,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),$(D)}catch{}}function bl(){this.g=new au}function ba(x){this.i=x.Sb||null,this.h=x.ab||!1}p(ba,ou),ba.prototype.g=function(){return new du(this.i,this.h)};function du(x,A){nn.call(this),this.H=x,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(du,nn),t=du.prototype,t.open=function(x,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=x,this.D=A,this.readyState=1,zs(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};x&&(A.body=x),(this.H||a).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xl(this)),this.readyState=0},t.Pa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,zs(this)),this.g&&(this.readyState=3,zs(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Kd(this)}else x.text().then(this.Oa.bind(this),this.ga.bind(this))};function Kd(x){x.j.read().then(x.Ma.bind(x)).catch(x.ga.bind(x))}t.Ma=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var A=x.value?x.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!x.done}))&&(this.response=this.responseText+=A)}x.done?xl(this):zs(this),this.readyState==3&&Kd(this)}},t.Oa=function(x){this.g&&(this.response=this.responseText=x,xl(this))},t.Na=function(x){this.g&&(this.response=x,xl(this))},t.ga=function(){this.g&&xl(this)};function xl(x){x.readyState=4,x.l=null,x.j=null,x.B=null,zs(x)}t.setRequestHeader=function(x,A){this.A.append(x,A)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],A=this.h.entries();for(var D=A.next();!D.done;)D=D.value,x.push(D[0]+": "+D[1]),D=A.next();return x.join(`\r
`)};function zs(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(du.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function Ji(x){let A="";return he(x,function(D,$){A+=$,A+=":",A+=D,A+=`\r
`}),A}function fu(x,A,D){e:{for($ in D){var $=!1;break e}$=!0}$||(D=Ji(D),typeof x=="string"?D!=null&&Ci(D):bt(x,A,D))}function kt(x){nn.call(this),this.headers=new Map,this.L=x||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(kt,nn);var xa=/^https?$/i,fp=["POST","PUT"];t=kt.prototype,t.Fa=function(x){this.H=x},t.ea=function(x,A,D,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);A=A?A.toUpperCase():"GET",this.D=x,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ha.g(),this.g.onreadystatechange=g(d(this.Ca,this));try{this.B=!0,this.g.open(A,String(x),!0),this.B=!1}catch(te){hu(this,te);return}if(x=D||"",D=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var Q in $)D.set(Q,$[Q]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const te of $.keys())D.set(te,$.get(te));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(D.keys()).find(te=>te.toLowerCase()=="content-type"),Q=a.FormData&&x instanceof a.FormData,!(Array.prototype.indexOf.call(fp,A,void 0)>=0)||$||Q||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,xe]of D)this.g.setRequestHeader(te,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(x),this.v=!1}catch(te){hu(this,te)}};function hu(x,A){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=A,x.o=5,hp(x),so(x)}function hp(x){x.A||(x.A=!0,vn(x,"complete"),vn(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=x||7,vn(this,"complete"),vn(this,"abort"),so(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),so(this,!0)),kt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?pu(this):this.Xa())},t.Xa=function(){pu(this)};function pu(x){if(x.h&&typeof s<"u"){if(x.v&&Us(x)==4)setTimeout(x.Ca.bind(x),0);else if(vn(x,"readystatechange"),Us(x)==4){x.h=!1;try{const te=x.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var D;if(!(D=A)){var $;if($=te===0){let xe=String(x.D).match(I0)[1]||null;!xe&&a.self&&a.self.location&&(xe=a.self.location.protocol.slice(0,-1)),$=!xa.test(xe?xe.toLowerCase():"")}D=$}if(D)vn(x,"complete"),vn(x,"success");else{x.o=6;try{var Q=Us(x)>2?x.g.statusText:""}catch{Q=""}x.l=Q+" ["+x.ca()+"]",hp(x)}}finally{so(x)}}}}function so(x,A){if(x.g){x.m&&(clearTimeout(x.m),x.m=null);const D=x.g;x.g=null,A||vn(x,"ready");try{D.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Us(x){return x.g?x.g.readyState:0}t.ca=function(){try{return Us(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(x){if(this.g){var A=this.g.responseText;return x&&A.indexOf(x)==0&&(A=A.substring(x.length)),su(A)}};function hr(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.F){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function ao(x){const A={};x=(x.g&&Us(x)>=2&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<x.length;$++){if(B(x[$]))continue;var D=pl(x[$]);const Q=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const te=A[Q]||[];A[Q]=te,te.push(D)}Se(A,function($){return $.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(x,A,D){return D&&D.internalChannelParams&&D.internalChannelParams[x]||A}function wl(x){this.za=0,this.i=[],this.j=new jr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wa("failFast",!1,x),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wa("baseRetryDelayMs",5e3,x),this.Za=wa("retryDelaySeedMs",1e4,x),this.Ta=wa("forwardChannelMaxRetries",2,x),this.va=wa("forwardChannelRequestTimeoutMs",2e4,x),this.ma=x&&x.xmlHttpFactory||void 0,this.Ua=x&&x.Rb||void 0,this.Aa=x&&x.useFetchStreams||!1,this.O=void 0,this.L=x&&x.supportsCrossDomainXhr||!1,this.M="",this.h=new np(x&&x.concurrentRequestLimit),this.Ba=new bl,this.S=x&&x.fastHandshake||!1,this.R=x&&x.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=x&&x.Pb||!1,x&&x.ua&&this.j.ua(),x&&x.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&x&&x.detectBufferingProxy||!1,this.ia=void 0,x&&x.longPollingTimeout&&x.longPollingTimeout>0&&(this.ia=x.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=wl.prototype,t.ka=8,t.I=1,t.connect=function(x,A,D,$){rn(0),this.W=x,this.H=A||{},D&&$!==void 0&&(this.H.OSID=D,this.H.OAID=$),this.F=this.X,this.J=H0(this,null,this.W),Sa(this)};function pp(x){if(Yd(x),x.I==3){var A=x.V++,D=Cn(x.J);if(bt(D,"SID",x.M),bt(D,"RID",A),bt(D,"TYPE","terminate"),mu(x,D),A=new Ni(x,x.j,A),A.M=2,A.A=cu(Cn(D)),D=!1,a.navigator&&a.navigator.sendBeacon)try{D=a.navigator.sendBeacon(A.A.toString(),"")}catch{}!D&&a.Image&&(new Image().src=A.A,D=!0),D||(A.g=q0(A.j,null),A.g.ea(A.A)),A.F=Date.now(),un(A)}$0(x)}function Sl(x){x.g&&(gp(x),x.g.cancel(),x.g=null)}function Yd(x){Sl(x),x.v&&(a.clearTimeout(x.v),x.v=null),Qd(x),x.h.cancel(),x.m&&(typeof x.m=="number"&&a.clearTimeout(x.m),x.m=null)}function Sa(x){if(!rp(x.h)&&!x.m){x.m=!0;var A=x.Ea;P||j(),U||(P(),U=!0),I.add(A,x),x.D=0}}function Xd(x,A){return ga(x.h)>=x.h.j-(x.m?1:0)?!1:x.m?(x.i=A.G.concat(x.i),!0):x.I==1||x.I==2||x.D>=(x.Sa?0:x.Ta)?!1:(x.m=zt(d(x.Ea,x,A),F0(x,x.D)),x.D++,!0)}t.Ea=function(x){if(this.m)if(this.m=null,this.I==1){if(!x){this.V=Math.floor(Math.random()*1e5),x=this.V++;const Q=new Ni(this,this.j,x);let te=this.o;if(this.U&&(te?(te=H(te),ye(te,this.U)):te=this.U),this.u!==null||this.R||(Q.J=te,te=null),this.S)e:{for(var A=0,D=0;D<this.i.length;D++){t:{var $=this.i[D];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(A+=$,A>4096){A=D;break e}if(A===4096||D===this.i.length-1){A=D+1;break e}}A=1e3}else A=1e3;A=V0(this,Q,A),D=Cn(this.J),bt(D,"RID",x),bt(D,"CVER",22),this.G&&bt(D,"X-HTTP-Session-Id",this.G),mu(this,D),te&&(this.R?A="headers="+Ci(Ji(te))+"&"+A:this.u&&fu(D,this.u,te)),ip(this.h,Q),this.Ra&&bt(D,"TYPE","init"),this.S?(bt(D,"$req",A),bt(D,"SID","null"),Q.U=!0,Yi(Q,D,null)):Yi(Q,D,A),this.I=2}}else this.I==3&&(x?mp(this,x):this.i.length==0||rp(this.h)||mp(this))};function mp(x,A){var D;A?D=A.l:D=x.V++;const $=Cn(x.J);bt($,"SID",x.M),bt($,"RID",D),bt($,"AID",x.K),mu(x,$),x.u&&x.o&&fu($,x.u,x.o),D=new Ni(x,x.j,D,x.D+1),x.u===null&&(D.J=x.o),A&&(x.i=A.G.concat(x.i)),A=V0(x,D,1e3),D.H=Math.round(x.va*.5)+Math.round(x.va*.5*Math.random()),ip(x.h,D),Yi(D,$,A)}function mu(x,A){x.H&&he(x.H,function(D,$){bt(A,$,D)}),x.l&&he({},function(D,$){bt(A,$,D)})}function V0(x,A,D){D=Math.min(x.i.length,D);const $=x.l?d(x.l.Ka,x.l,x):null;e:{var Q=x.i;let Ke=-1;for(;;){const bn=["count="+D];Ke==-1?D>0?(Ke=Q[0].g,bn.push("ofs="+Ke)):Ke=0:bn.push("ofs="+Ke);let mt=!0;for(let Yt=0;Yt<D;Yt++){var te=Q[Yt].g;const Zi=Q[Yt].map;if(te-=Ke,te<0)Ke=Math.max(0,Q[Yt].g-100),mt=!1;else try{te="req"+te+"_"||"";try{var xe=Zi instanceof Map?Zi:Object.entries(Zi);for(const[Ea,Fs]of xe){let $s=Fs;l(Fs)&&($s=ua(Fs)),bn.push(te+Ea+"="+encodeURIComponent($s))}}catch(Ea){throw bn.push(te+"type="+encodeURIComponent("_badmap")),Ea}}catch{$&&$(Zi)}}if(mt){xe=bn.join("&");break e}}xe=void 0}return x=x.i.splice(0,D),A.G=x,xe}function B0(x){if(!x.g&&!x.v){x.Y=1;var A=x.Da;P||j(),U||(P(),U=!0),I.add(A,x),x.A=0}}function gu(x){return x.g||x.v||x.A>=3?!1:(x.Y++,x.v=zt(d(x.Da,x),F0(x,x.A)),x.A++,!0)}t.Da=function(){if(this.v=null,z0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var x=4*this.T;this.j.info("BP detection timer enabled: "+x),this.B=zt(d(this.Wa,this),x)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rn(10),Sl(this),z0(this))};function gp(x){x.B!=null&&(a.clearTimeout(x.B),x.B=null)}function z0(x){x.g=new Ni(x,x.j,"rpc",x.Y),x.u===null&&(x.g.J=x.o),x.g.P=0;var A=Cn(x.na);bt(A,"RID","rpc"),bt(A,"SID",x.M),bt(A,"AID",x.K),bt(A,"CI",x.F?"0":"1"),!x.F&&x.ia&&bt(A,"TO",x.ia),bt(A,"TYPE","xmlhttp"),mu(x,A),x.u&&x.o&&fu(A,x.u,x.o),x.O&&(x.g.H=x.O);var D=x.g;x=x.ba,D.M=1,D.A=cu(Cn(A)),D.u=null,D.R=!0,Ge(D,x)}t.Va=function(){this.C!=null&&(this.C=null,Sl(this),gu(this),rn(19))};function Qd(x){x.C!=null&&(a.clearTimeout(x.C),x.C=null)}function U0(x,A){var D=null;if(x.g==A){Qd(x),gp(x),x.g=null;var $=2}else if(ya(x.h,A))D=A.G,sp(x.h,A),$=1;else return;if(x.I!=0){if(A.o)if($==1){D=A.u?A.u.length:0,A=Date.now()-A.F;var Q=x.D;$=da(),vn($,new Bt($,D)),Sa(x)}else B0(x);else if(Q=A.m,Q==3||Q==0&&A.X>0||!($==1&&Xd(x,A)||$==2&&gu(x)))switch(D&&D.length>0&&(A=x.h,A.i=A.i.concat(D)),Q){case 1:Ta(x,5);break;case 4:Ta(x,10);break;case 3:Ta(x,6);break;default:Ta(x,2)}}}function F0(x,A){let D=x.Qa+Math.floor(Math.random()*x.Za);return x.isActive()||(D*=2),D*A}function Ta(x,A){if(x.j.info("Error code "+A),A==2){var D=d(x.bb,x),$=x.Ua;const Q=!$;$=new Mi($||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||er($,"https"),cu($),Q?Bs($.toString(),D):dp($.toString(),D)}else rn(2);x.I=0,x.l&&x.l.pa(A),$0(x),Yd(x)}t.bb=function(x){x?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function $0(x){if(x.I=0,x.ja=[],x.l){const A=ap(x.h);(A.length!=0||x.i.length!=0)&&(b(x.ja,A),b(x.ja,x.i),x.h.i.length=0,v(x.i),x.i.length=0),x.l.oa()}}function H0(x,A,D){var $=D instanceof Mi?Cn(D):new Mi(D);if($.g!="")A&&($.g=A+"."+$.g),ml($,$.u);else{var Q=a.location;$=Q.protocol,A=A?A+"."+Q.hostname:Q.hostname,Q=+Q.port;const te=new Mi(null);$&&er(te,$),A&&(te.g=A),Q&&ml(te,Q),D&&(te.h=D),$=te}return D=x.G,A=x.wa,D&&A&&bt($,D,A),bt($,"VER",x.ka),mu(x,$),$}function q0(x,A,D){if(A&&!x.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=x.Aa&&!x.ma?new kt(new ba({ab:D})):new kt(x.ma),A.Fa(x.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function W0(){}t=W0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Tl(){}Tl.prototype.g=function(x,A){return new Kr(x,A)};function Kr(x,A){nn.call(this),this.g=new wl(A),this.l=x,this.h=A&&A.messageUrlParams||null,x=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(x?x["X-WebChannel-Content-Type"]=A.messageContentType:x={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(x?x["X-WebChannel-Client-Profile"]=A.sa:x={"X-WebChannel-Client-Profile":A.sa}),this.g.U=x,(x=A&&A.Qb)&&!B(x)&&(this.g.u=x),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!B(A)&&(this.g.G=A,x=this.h,x!==null&&A in x&&(x=this.h,A in x&&delete x[A])),this.j=new oo(this)}p(Kr,nn),Kr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kr.prototype.close=function(){pp(this.g)},Kr.prototype.o=function(x){var A=this.g;if(typeof x=="string"){var D={};D.__data__=x,x=D}else this.v&&(D={},D.__data__=ua(x),x=D);A.i.push(new An(A.Ya++,x)),A.I==3&&Sa(A)},Kr.prototype.N=function(){this.g.l=null,delete this.j,pp(this.g),delete this.g,Kr.Z.N.call(this)};function G0(x){kn.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var A=x.__sm__;if(A){e:{for(const D in A){x=D;break e}x=void 0}(this.i=x)&&(x=this.i,A=A!==null&&x in A?A[x]:void 0),this.data=A}else this.data=x}p(G0,kn);function K0(){oi.call(this),this.status=1}p(K0,oi);function oo(x){this.g=x}p(oo,W0),oo.prototype.ra=function(){vn(this.g,"a")},oo.prototype.qa=function(x){vn(this.g,new G0(x))},oo.prototype.pa=function(x){vn(this.g,new K0)},oo.prototype.oa=function(){vn(this.g,"b")},Tl.prototype.createWebChannel=Tl.prototype.g,Kr.prototype.send=Kr.prototype.o,Kr.prototype.open=Kr.prototype.m,Kr.prototype.close=Kr.prototype.close,A9=function(){return new Tl},_9=function(){return da()},k9=Kt,sA={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,Gv=fa,io.COMPLETE="complete",E9=io,Ud.EventType=Mr,Mr.OPEN="a",Mr.CLOSE="b",Mr.ERROR="c",Mr.MESSAGE="d",nn.prototype.listen=nn.prototype.J,ym=Ud,kt.prototype.listenOnce=kt.prototype.K,kt.prototype.getLastError=kt.prototype.Ha,kt.prototype.getLastErrorCode=kt.prototype.ya,kt.prototype.getStatus=kt.prototype.ca,kt.prototype.getResponseJson=kt.prototype.La,kt.prototype.getResponseText=kt.prototype.la,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Fa,T9=kt}).apply(typeof rv<"u"?rv:typeof self<"u"?self:typeof window<"u"?window:{});const j5="@firebase/firestore",I5="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new F2("@firebase/firestore");function Pf(){return bd.logLevel}function _e(t,...e){if(bd.logLevel<=st.DEBUG){const n=e.map(Z2);bd.debug(`Firestore (${Bh}): ${t}`,...n)}}function Wo(t,...e){if(bd.logLevel<=st.ERROR){const n=e.map(Z2);bd.error(`Firestore (${Bh}): ${t}`,...n)}}function ph(t,...e){if(bd.logLevel<=st.WARN){const n=e.map(Z2);bd.warn(`Firestore (${Bh}): ${t}`,...n)}}function Z2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,C9(t,r,n)}function C9(t,e,n){let r=`FIRESTORE (${Bh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Wo(r),new Error(r)}function vt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||C9(e,i,r)}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends el{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Aae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Vr.UNAUTHENTICATED)))}shutdown(){}}class Cae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Nae{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new vc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vc,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vc)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string",31837,{l:r}),new N9(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new Vr(e)}}class Oae{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mae{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Oae(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Vr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jae{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vt(this.o===void 0,3512);const r=s=>{s.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,_e("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new D5(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new D5(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Iae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function at(t,e){return t<e?-1:t>e?1:0}function aA(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return fE(i)===fE(s)?at(i,s):fE(i)?1:-1}return at(t.length,e.length)}const Dae=55296,Pae=57343;function fE(t){const e=t.charCodeAt(0);return e>=Dae&&e<=Pae}function mh(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5="__name__";class Da{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Da.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Da?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Da.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return at(e.length,n.length)}static compareSegments(e,n){const r=Da.isNumericId(e),i=Da.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Da.extractNumericId(e).compare(Da.extractNumericId(n)):aA(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yc.fromString(e.substring(4,e.length-2))}}class Lt extends Da{construct(e,n,r){return new Lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Lt(n)}static emptyPath(){return new Lt([])}}const Rae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kr extends Da{construct(e,n,r){return new kr(e,n,r)}static isValidIdentifier(e){return Rae.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P5}static keyField(){return new kr([P5])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Te(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Te(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Te(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new Te(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kr(n)}static emptyPath(){return new kr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Lt.fromString(e))}static fromName(e){return new Pe(Lt.fromString(e).popFirst(5))}static empty(){return new Pe(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t,e,n){if(!n)throw new Te(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Lae(t,e,n,r){if(e===!0&&r===!0)throw new Te(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function R5(t){if(!Pe.isDocumentKey(t))throw new Te(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function L5(t){if(Pe.isDocumentKey(t))throw new Te(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function M9(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Sw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function Ts(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sw(t);throw new Te(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t,e){const n={typeString:t};return e&&(n.value=e),n}function Jg(t,e){if(!M9(t))throw new Te(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Te(de.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=-62135596800,B5=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*B5);return new Nt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<V5)throw new Te(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B5}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jg(e,Nt._jsonSchema))return new Nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V5;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:Ln("string",Nt._jsonSchemaVersion),seconds:Ln("number"),nanoseconds:Ln("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new Nt(0,0))}static max(){return new He(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=-1;function Vae(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(r===1e9?new Nt(n+1,0):new Nt(n,r));return new Cc(i,Pe.empty(),e)}function Bae(t){return new Cc(t.readTime,t.key,ag)}class Cc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Cc(He.min(),Pe.empty(),ag)}static max(){return new Cc(He.max(),Pe.empty(),ag)}}function zae(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:at(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uae="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==Uae)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,r)=>{n(e)}))}static reject(e){return new fe(((n,r)=>{r(e)}))}static waitFor(e){return new fe(((n,r)=>{let i=0,s=0,a=!1;e.forEach((l=>{++i,l.next((()=>{++s,a&&s===i&&n()}),(c=>r(c)))})),a=!0,s===i&&n()}))}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next((i=>i?fe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new fe(((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next((f=>{a[d]=f,++l,l===s&&r(a)}),(f=>i(f)))}}))}static doWhile(e,n){return new fe(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function $ae(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tw.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=-1;function Ew(t){return t==null}function _b(t){return t===0&&1/t==-1/0}function Hae(t){return typeof t=="number"&&Number.isInteger(t)&&!_b(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9="";function qae(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=z5(e)),e=Wae(t.get(n),e);return z5(e)}function Wae(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case j9:n+="";break;default:n+=s}}return n}function z5(t){return t+j9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $c(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function I9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n){this.comparator=e,this.root=n||Sr.EMPTY}insert(e,n){return new ln(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sr.BLACK,null,null))}remove(e){return new ln(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new iv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new iv(this.root,e,this.comparator,!1)}getReverseIterator(){return new iv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new iv(this.root,e,this.comparator,!0)}}class iv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Sr.RED,this.left=i??Sr.EMPTY,this.right=s??Sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Sr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Sr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Sr.EMPTY=null,Sr.RED=!0,Sr.BLACK=!1;Sr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Sr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.comparator=e,this.data=new ln(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new F5(this.data.getIterator())}getIteratorFrom(e){return new F5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wn(this.comparator);return n.data=e,n}}class F5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.fields=e,e.sort(kr.comparator)}static empty(){return new $i([])}unionWith(e){let n=new Wn(kr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $i(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mh(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new D9("Invalid base64 string: "+s):s}})(e);return new Nr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new Nr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const Gae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nc(t){if(vt(!!t,39018),typeof t=="string"){let e=0;const n=Gae.exec(t);if(vt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tn(t.seconds),nanos:Tn(t.nanos)}}function Tn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oc(t){return typeof t=="string"?Nr.fromBase64String(t):Nr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="server_timestamp",R9="__type__",L9="__previous_value__",V9="__local_write_time__";function nN(t){return(t?.mapValue?.fields||{})[R9]?.stringValue===P9}function kw(t){const e=t.mapValue.fields[L9];return nN(e)?kw(e):e}function og(t){const e=Nc(t.mapValue.fields[V9].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kae{constructor(e,n,r,i,s,a,l,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f}}const Ab="(default)";class lg{constructor(e,n){this.projectId=e,this.database=n||Ab}static empty(){return new lg("","")}get isDefaultDatabase(){return this.database===Ab}isEqual(e){return e instanceof lg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9="__type__",Yae="__max__",sv={mapValue:{}},z9="__vector__",Cb="value";function Mc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nN(t)?4:Qae(t)?9007199254740991:Xae(t)?10:11:Ue(28295,{value:t})}function Wa(t,e){if(t===e)return!0;const n=Mc(t);if(n!==Mc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return og(t).isEqual(og(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Nc(i.timestampValue),l=Nc(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Oc(i.bytesValue).isEqual(Oc(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Tn(i.geoPointValue.latitude)===Tn(s.geoPointValue.latitude)&&Tn(i.geoPointValue.longitude)===Tn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Tn(i.integerValue)===Tn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Tn(i.doubleValue),l=Tn(s.doubleValue);return a===l?_b(a)===_b(l):isNaN(a)&&isNaN(l)}return!1})(t,e);case 9:return mh(t.arrayValue.values||[],e.arrayValue.values||[],Wa);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(U5(a)!==U5(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Wa(a[c],l[c])))return!1;return!0})(t,e);default:return Ue(52216,{left:t})}}function cg(t,e){return(t.values||[]).find((n=>Wa(n,e)))!==void 0}function gh(t,e){if(t===e)return 0;const n=Mc(t),r=Mc(e);if(n!==r)return at(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const l=Tn(s.integerValue||s.doubleValue),c=Tn(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return $5(t.timestampValue,e.timestampValue);case 4:return $5(og(t),og(e));case 5:return aA(t.stringValue,e.stringValue);case 6:return(function(s,a){const l=Oc(s),c=Oc(a);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const l=s.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const f=at(l[d],c[d]);if(f!==0)return f}return at(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const l=at(Tn(s.latitude),Tn(a.latitude));return l!==0?l:at(Tn(s.longitude),Tn(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return H5(t.arrayValue,e.arrayValue);case 10:return(function(s,a){const l=s.fields||{},c=a.fields||{},d=l[Cb]?.arrayValue,f=c[Cb]?.arrayValue,p=at(d?.values?.length||0,f?.values?.length||0);return p!==0?p:H5(d,f)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===sv.mapValue&&a===sv.mapValue)return 0;if(s===sv.mapValue)return 1;if(a===sv.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),d=a.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const g=aA(c[p],f[p]);if(g!==0)return g;const v=gh(l[c[p]],d[f[p]]);if(v!==0)return v}return at(c.length,f.length)})(t.mapValue,e.mapValue);default:throw Ue(23264,{he:n})}}function $5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const n=Nc(t),r=Nc(e),i=at(n.seconds,r.seconds);return i!==0?i:at(n.nanos,r.nanos)}function H5(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=gh(n[i],r[i]);if(s)return s}return at(n.length,r.length)}function yh(t){return oA(t)}function oA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Nc(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Oc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=oA(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${oA(n.fields[a])}`;return i+"}"})(t.mapValue):Ue(61005,{value:t})}function Kv(t){switch(Mc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kw(t);return e?16+Kv(e):16;case 5:return 2*t.stringValue.length;case 6:return Oc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Kv(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return $c(r.fields,((s,a)=>{i+=s.length+Kv(a)})),i})(t.mapValue);default:throw Ue(13486,{value:t})}}function q5(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lA(t){return!!t&&"integerValue"in t}function rN(t){return!!t&&"arrayValue"in t}function W5(t){return!!t&&"nullValue"in t}function G5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yv(t){return!!t&&"mapValue"in t}function Xae(t){return(t?.mapValue?.fields||{})[B9]?.stringValue===z9}function Pm(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $c(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Pm(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pm(t.arrayValue.values[n]);return e}return{...t}}function Qae(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Yae}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.value=e}static empty(){return new bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pm(n)}setAll(e){let n=kr.emptyPath(),r={},i=[];e.forEach(((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=Pm(a):i.push(l.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Yv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){$c(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new bi(Pm(this.value))}}function U9(t){const e=[];return $c(t.fields,((n,r)=>{const i=new kr([n]);if(Yv(r)){const s=U9(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new $i(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Br(e,0,He.min(),He.min(),He.min(),bi.empty(),0)}static newFoundDocument(e,n,r,i){return new Br(e,1,n,He.min(),r,i,0)}static newNoDocument(e,n){return new Br(e,2,n,He.min(),He.min(),bi.empty(),0)}static newUnknownDocument(e,n){return new Br(e,3,n,He.min(),He.min(),bi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Br(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n){this.position=e,this.inclusive=n}}function K5(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Pe.comparator(Pe.fromName(a.referenceValue),n.key):r=gh(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Y5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n="asc"){this.field=e,this.dir=n}}function Jae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{}class Rn extends F9{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eoe(e,n,r):n==="array-contains"?new roe(e,r):n==="in"?new ioe(e,r):n==="not-in"?new soe(e,r):n==="array-contains-any"?new aoe(e,r):new Rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new toe(e,r):new noe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gh(n,this.value)):n!==null&&Mc(this.value)===Mc(n)&&this.matchesComparison(gh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ia extends F9{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ia(e,n)}matches(e){return $9(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $9(t){return t.op==="and"}function H9(t){return Zae(t)&&$9(t)}function Zae(t){for(const e of t.filters)if(e instanceof ia)return!1;return!0}function cA(t){if(t instanceof Rn)return t.field.canonicalString()+t.op.toString()+yh(t.value);if(H9(t))return t.filters.map((e=>cA(e))).join(",");{const e=t.filters.map((n=>cA(n))).join(",");return`${t.op}(${e})`}}function q9(t,e){return t instanceof Rn?(function(r,i){return i instanceof Rn&&r.op===i.op&&r.field.isEqual(i.field)&&Wa(r.value,i.value)})(t,e):t instanceof ia?(function(r,i){return i instanceof ia&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,l)=>s&&q9(a,i.filters[l])),!0):!1})(t,e):void Ue(19439)}function W9(t){return t instanceof Rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${yh(n.value)}`})(t):t instanceof ia?(function(n){return n.op.toString()+" {"+n.getFilters().map(W9).join(" ,")+"}"})(t):"Filter"}class eoe extends Rn{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class toe extends Rn{constructor(e,n){super(e,"in",n),this.keys=G9("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class noe extends Rn{constructor(e,n){super(e,"not-in",n),this.keys=G9("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function G9(t,e){return(e.arrayValue?.values||[]).map((n=>Pe.fromName(n.referenceValue)))}class roe extends Rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rN(n)&&cg(n.arrayValue,this.value)}}class ioe extends Rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cg(this.value.arrayValue,n)}}class soe extends Rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(cg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cg(this.value.arrayValue,n)}}class aoe extends Rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rN(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>cg(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ooe{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function X5(t,e=null,n=[],r=[],i=null,s=null,a=null){return new ooe(t,e,n,r,i,s,a)}function iN(t){const e=We(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>cA(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Ew(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>yh(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>yh(r))).join(",")),e.Te=n}return e.Te}function sN(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Jae(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!q9(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Y5(t.startAt,e.startAt)&&Y5(t.endAt,e.endAt)}function uA(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function loe(t,e,n,r,i,s,a,l){return new Fh(t,e,n,r,i,s,a,l)}function aN(t){return new Fh(t)}function Q5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function K9(t){return t.collectionGroup!==null}function Rm(t){const e=We(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Wn(kr.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new ug(s,r))})),n.has(kr.keyField().canonicalString())||e.Ie.push(new ug(kr.keyField(),r))}return e.Ie}function Ua(t){const e=We(t);return e.Ee||(e.Ee=coe(e,Rm(t))),e.Ee}function coe(t,e){if(t.limitType==="F")return X5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new ug(i.field,s)}));const n=t.endAt?new Nb(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Nb(t.startAt.position,t.startAt.inclusive):null;return X5(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dA(t,e){const n=t.filters.concat([e]);return new Fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fA(t,e,n){return new Fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _w(t,e){return sN(Ua(t),Ua(e))&&t.limitType===e.limitType}function Y9(t){return`${iN(Ua(t))}|lt:${t.limitType}`}function Rf(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>W9(i))).join(", ")}]`),Ew(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>yh(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>yh(i))).join(",")),`Target(${r})`})(Ua(t))}; limitType=${t.limitType})`}function Aw(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Rm(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,l,c){const d=K5(a,l,c);return a.inclusive?d<=0:d<0})(r.startAt,Rm(r),i)||r.endAt&&!(function(a,l,c){const d=K5(a,l,c);return a.inclusive?d>=0:d>0})(r.endAt,Rm(r),i))})(t,e)}function uoe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function X9(t){return(e,n)=>{let r=!1;for(const i of Rm(t)){const s=doe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function doe(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):(function(s,a,l){const c=a.data.field(s),d=l.data.field(s);return c!==null&&d!==null?gh(c,d):Ue(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$c(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return I9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const foe=new ln(Pe.comparator);function Go(){return foe}const Q9=new ln(Pe.comparator);function vm(...t){let e=Q9;for(const n of t)e=e.insert(n.key,n);return e}function J9(t){let e=Q9;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Wu(){return Lm()}function Z9(){return Lm()}function Lm(){return new jd((t=>t.toString()),((t,e)=>t.isEqual(e)))}const hoe=new ln(Pe.comparator),poe=new Wn(Pe.comparator);function ot(...t){let e=poe;for(const n of t)e=e.add(n);return e}const moe=new Wn(at);function goe(){return moe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_b(e)?"-0":e}}function e$(t){return{integerValue:""+t}}function yoe(t,e){return Hae(e)?e$(e):oN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(){this._=void 0}}function voe(t,e,n){return t instanceof dg?(function(i,s){const a={fields:{[R9]:{stringValue:P9},[V9]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&nN(s)&&(s=kw(s)),s&&(a.fields[L9]=s),{mapValue:a}})(n,e):t instanceof fg?n$(t,e):t instanceof hg?r$(t,e):(function(i,s){const a=t$(i,s),l=J5(a)+J5(i.Ae);return lA(a)&&lA(i.Ae)?e$(l):oN(i.serializer,l)})(t,e)}function boe(t,e,n){return t instanceof fg?n$(t,e):t instanceof hg?r$(t,e):n}function t$(t,e){return t instanceof Ob?(function(r){return lA(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class dg extends Cw{}class fg extends Cw{constructor(e){super(),this.elements=e}}function n$(t,e){const n=i$(e);for(const r of t.elements)n.some((i=>Wa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class hg extends Cw{constructor(e){super(),this.elements=e}}function r$(t,e){let n=i$(e);for(const r of t.elements)n=n.filter((i=>!Wa(i,r)));return{arrayValue:{values:n}}}class Ob extends Cw{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function J5(t){return Tn(t.integerValue||t.doubleValue)}function i$(t){return rN(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe{constructor(e,n){this.field=e,this.transform=n}}function woe(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof fg&&i instanceof fg||r instanceof hg&&i instanceof hg?mh(r.elements,i.elements,Wa):r instanceof Ob&&i instanceof Ob?Wa(r.Ae,i.Ae):r instanceof dg&&i instanceof dg})(t.transform,e.transform)}class Soe{constructor(e,n){this.version=e,this.transformResults=n}}class Es{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Es}static exists(e){return new Es(void 0,e)}static updateTime(e){return new Es(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nw{}function s$(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lN(t.key,Es.none()):new Zg(t.key,t.data,Es.none());{const n=t.data,r=bi.empty();let i=new Wn(kr.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Hc(t.key,r,new $i(i.toArray()),Es.none())}}function Toe(t,e,n){t instanceof Zg?(function(i,s,a){const l=i.value.clone(),c=e4(i.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Hc?(function(i,s,a){if(!Xv(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=e4(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(a$(i)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function Vm(t,e,n,r){return t instanceof Zg?(function(s,a,l,c){if(!Xv(s.precondition,a))return l;const d=s.value.clone(),f=t4(s.fieldTransforms,c,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Hc?(function(s,a,l,c){if(!Xv(s.precondition,a))return l;const d=t4(s.fieldTransforms,c,a),f=a.data;return f.setAll(a$(s)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,a,l){return Xv(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(t,e,n)}function Eoe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=t$(r.transform,i||null);s!=null&&(n===null&&(n=bi.empty()),n.set(r.field,s))}return n||null}function Z5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&mh(r,i,((s,a)=>woe(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zg extends Nw{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hc extends Nw{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function a$(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function e4(t,e,n){const r=new Map;vt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,boe(a,l,n[i]))}return r}function t4(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,voe(s,a,e))}return r}class lN extends Nw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class koe extends Nw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _oe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Toe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Z9();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const c=s$(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(He.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ot())}isEqual(e){return this.batchId===e.batchId&&mh(this.mutations,e.mutations,((n,r)=>Z5(n,r)))&&mh(this.baseMutations,e.baseMutations,((n,r)=>Z5(n,r)))}}class cN{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){vt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return hoe})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new cN(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aoe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Coe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,ut;function Noe(t){switch(t){case de.OK:return Ue(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function o$(t){if(t===void 0)return Wo("GRPC error has no .code"),de.UNKNOWN;switch(t){case In.OK:return de.OK;case In.CANCELLED:return de.CANCELLED;case In.UNKNOWN:return de.UNKNOWN;case In.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case In.INTERNAL:return de.INTERNAL;case In.UNAVAILABLE:return de.UNAVAILABLE;case In.UNAUTHENTICATED:return de.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case In.NOT_FOUND:return de.NOT_FOUND;case In.ALREADY_EXISTS:return de.ALREADY_EXISTS;case In.PERMISSION_DENIED:return de.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case In.ABORTED:return de.ABORTED;case In.OUT_OF_RANGE:return de.OUT_OF_RANGE;case In.UNIMPLEMENTED:return de.UNIMPLEMENTED;case In.DATA_LOSS:return de.DATA_LOSS;default:return Ue(39323,{code:t})}}(ut=In||(In={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ooe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Moe=new yc([4294967295,4294967295],0);function n4(t){const e=Ooe().encode(t),n=new S9;return n.update(e),new Uint8Array(n.digest())}function r4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yc([n,r],0),new yc([i,s],0)]}class uN{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bm(`Invalid padding: ${n}`);if(r<0)throw new bm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=yc.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(yc.fromNumber(r)));return i.compare(Moe)===1&&(i=new yc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=n4(e),[r,i]=r4(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new uN(s,i,n);return r.forEach((l=>a.insert(l))),a}insert(e){if(this.ge===0)return;const n=n4(e),[r,i]=r4(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,e0.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ow(He.min(),i,new ln(at),Go(),ot())}}class e0{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new e0(r,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class l${constructor(e,n){this.targetId=e,this.Ce=n}}class c${constructor(e,n,r=Nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class i4{constructor(){this.ve=0,this.Fe=s4(),this.Me=Nr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),n=ot(),r=ot();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ue(38017,{changeType:s})}})),new e0(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=s4()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class joe{constructor(e){this.Ge=e,this.ze=new Map,this.je=Go(),this.Je=av(),this.He=av(),this.Ye=new ln(at)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(uA(s))if(r===0){const a=new Pe(s.path);this.et(n,a,Br.newNoDocument(a,He.min()))}else vt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=Oc(r).toUint8Array()}catch(c){if(c instanceof D9)return ph("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new uN(a,i,s)}catch(c){return ph(c instanceof bm?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,a)=>{const l=this.ot(a);if(l){if(s.current&&uA(l.target)){const c=new Pe(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Br.newNoDocument(c,e))}s.Be&&(n.set(a,s.ke()),s.qe())}}));let r=ot();this.He.forEach(((s,a)=>{let l=!0;a.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new Ow(e,n,this.Ye,this.je,r);return this.je=Go(),this.Je=av(),this.He=av(),this.Ye=new ln(at),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new i4,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Wn(at),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Wn(at),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new i4),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function av(){return new ln(Pe.comparator)}function s4(){return new ln(Pe.comparator)}const Ioe={asc:"ASCENDING",desc:"DESCENDING"},Doe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Poe={and:"AND",or:"OR"};class Roe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hA(t,e){return t.useProto3Json||Ew(e)?e:{value:e}}function Mb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Loe(t,e){return Mb(t,e.toTimestamp())}function Fa(t){return vt(!!t,49232),He.fromTimestamp((function(n){const r=Nc(n);return new Nt(r.seconds,r.nanos)})(t))}function dN(t,e){return pA(t,e).canonicalString()}function pA(t,e){const n=(function(i){return new Lt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function d$(t){const e=Lt.fromString(t);return vt(g$(e),10190,{key:e.toString()}),e}function mA(t,e){return dN(t.databaseId,e.path)}function hE(t,e){const n=d$(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(h$(n))}function f$(t,e){return dN(t.databaseId,e)}function Voe(t){const e=d$(t);return e.length===4?Lt.emptyPath():h$(e)}function gA(t){return new Lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function h$(t){return vt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function a4(t,e,n){return{name:mA(t,e),fields:n.value.mapValue.fields}}function Boe(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ue(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,f){return d.useProto3Json?(vt(f===void 0||typeof f=="string",58123),Nr.fromBase64String(f||"")):(vt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Nr.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&(function(d){const f=d.code===void 0?de.UNKNOWN:o$(d.code);return new Te(f,d.message||"")})(a);n=new c$(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hE(t,r.document.name),s=Fa(r.document.updateTime),a=r.document.createTime?Fa(r.document.createTime):He.min(),l=new bi({mapValue:{fields:r.document.fields}}),c=Br.newFoundDocument(i,s,a,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Qv(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hE(t,r.document),s=r.readTime?Fa(r.readTime):He.min(),a=Br.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Qv([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hE(t,r.document),s=r.removedTargetIds||[];n=new Qv([],s,i,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new Coe(i,s),l=r.targetId;n=new l$(l,a)}}return n}function zoe(t,e){let n;if(e instanceof Zg)n={update:a4(t,e.key,e.value)};else if(e instanceof lN)n={delete:mA(t,e.key)};else if(e instanceof Hc)n={update:a4(t,e.key,e.data),updateMask:Yoe(e.fieldMask)};else{if(!(e instanceof koe))return Ue(16599,{Vt:e.type});n={verify:mA(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const l=a.transform;if(l instanceof dg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof fg)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof hg)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ob)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Ue(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:Loe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ue(27497)})(t,e.precondition)),n}function Uoe(t,e){return t&&t.length>0?(vt(e!==void 0,14353),t.map((n=>(function(i,s){let a=i.updateTime?Fa(i.updateTime):Fa(s);return a.isEqual(He.min())&&(a=Fa(s)),new Soe(a,i.transformResults||[])})(n,e)))):[]}function Foe(t,e){return{documents:[f$(t,e.path)]}}function $oe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=f$(t,i);const s=(function(d){if(d.length!==0)return m$(ia.create(d,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(d){if(d.length!==0)return d.map((f=>(function(g){return{field:Lf(g.field),direction:Woe(g.dir)}})(f)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=hA(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function Hoe(t){let e=Voe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){vt(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=(function(p){const g=p$(p);return g instanceof ia&&H9(g)?g.getFilters():[g]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((g=>(function(b){return new ug(Vf(b.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(g)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let g;return g=typeof p=="object"?p.value:p,Ew(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,v=p.values||[];return new Nb(v,g)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const g=!p.before,v=p.values||[];return new Nb(v,g)})(n.endAt)),loe(e,i,a,s,l,"F",c,d)}function qoe(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function p$(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vf(n.unaryFilter.field);return Rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vf(n.unaryFilter.field);return Rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vf(n.unaryFilter.field);return Rn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Vf(n.unaryFilter.field);return Rn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Rn.create(Vf(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ia.create(n.compositeFilter.filters.map((r=>p$(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(n.compositeFilter.op))})(t):Ue(30097,{filter:t})}function Woe(t){return Ioe[t]}function Goe(t){return Doe[t]}function Koe(t){return Poe[t]}function Lf(t){return{fieldPath:t.canonicalString()}}function Vf(t){return kr.fromServerFormat(t.fieldPath)}function m$(t){return t instanceof Rn?(function(n){if(n.op==="=="){if(G5(n.value))return{unaryFilter:{field:Lf(n.field),op:"IS_NAN"}};if(W5(n.value))return{unaryFilter:{field:Lf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G5(n.value))return{unaryFilter:{field:Lf(n.field),op:"IS_NOT_NAN"}};if(W5(n.value))return{unaryFilter:{field:Lf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lf(n.field),op:Goe(n.op),value:n.value}}})(t):t instanceof ia?(function(n){const r=n.getFilters().map((i=>m$(i)));return r.length===1?r[0]:{compositeFilter:{op:Koe(n.op),filters:r}}})(t):Ue(54877,{filter:t})}function Yoe(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function g$(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n,r,i,s=He.min(),a=He.min(),l=Nr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new cc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xoe{constructor(e){this.yt=e}}function Qoe(t){const e=Hoe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fA(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Joe{constructor(){this.Cn=new Zoe}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(Cc.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(Cc.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class Zoe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Wn(Lt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wn(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},y$=41943040;class gi{static withCacheSize(e){return new gi(e,gi.DEFAULT_COLLECTION_PERCENTILE,gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi.DEFAULT_COLLECTION_PERCENTILE=10,gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gi.DEFAULT=new gi(y$,gi.DEFAULT_COLLECTION_PERCENTILE,gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gi.DISABLED=new gi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vh(0)}static cr(){return new vh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="LruGarbageCollector",ele=1048576;function c4([t,e],[n,r]){const i=at(t,n);return i===0?at(e,r):i}class tle{constructor(e){this.Ir=e,this.buffer=new Wn(c4),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();c4(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nle{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(l4,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uh(n)?_e(l4,"Ignoring IndexedDB error during garbage collection: ",n):await zh(n)}await this.Vr(3e5)}))}}class rle{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Tw.ce);const r=new tle(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(o4)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o4):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,l,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(d=Date.now(),Pf()<=st.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function ile(t,e){return new rle(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sle{constructor(){this.changes=new jd((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Br.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ale{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ole{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Vm(r.mutation,i,$i.empty(),Nt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ot()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ot()){const i=Wu();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=vm();return s.forEach(((l,c)=>{a=a.insert(l,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Wu();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ot())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,l)=>{n.set(a,l)}))}))}computeViews(e,n,r,i){let s=Go();const a=Lm(),l=(function(){return Lm()})();return n.forEach(((c,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Hc)?s=s.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),Vm(f.mutation,d,f.mutation.getFieldMask(),Nt.now())):a.set(d.key,$i.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((d,f)=>a.set(d,f))),n.forEach(((d,f)=>l.set(d,new ale(f,a.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=Lm();let i=new ln(((a,l)=>a-l)),s=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const l of a)l.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||$i.empty();f=l.applyToLocalView(d,f),r.set(c,f);const p=(i.get(l.batchId)||ot()).add(c);i=i.insert(l.batchId,p)}))})).next((()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,f=c.value,p=Z9();f.forEach((g=>{if(!s.has(g)){const v=s$(n.get(g),r.get(g));v!==null&&p.set(g,v),s=s.add(g)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,p))}return fe.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return Pe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):K9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):fe.resolve(Wu());let l=ag,c=s;return a.next((d=>fe.forEach(d,((f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?fe.resolve():this.remoteDocumentCache.getEntry(e,f).next((g=>{c=c.insert(f,g)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,c,d,ot()))).next((f=>({batchId:l,changes:J9(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next((r=>{let i=vm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=vm();return this.indexManager.getCollectionParents(e,s).next((l=>fe.forEach(l,(c=>{const d=(function(p,g){return new Fh(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((f=>{f.forEach(((p,g)=>{a=a.insert(p,g)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((c,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,Br.newInvalidDocument(f)))}));let l=vm();return a.forEach(((c,d)=>{const f=s.get(c);f!==void 0&&Vm(f.mutation,d,$i.empty(),Nt.now()),Aw(n,d)&&(l=l.insert(c,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lle{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Fa(i.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Qoe(i.bundledQuery),readTime:Fa(i.readTime)}})(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cle{constructor(){this.overlays=new ln(Pe.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wu();return fe.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=Wu(),s=n.length+1,a=new Pe(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ln(((d,f)=>d-f));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=Wu(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=Wu(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=i)););return fe.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Aoe(n,r));let s=this.qr.get(n);s===void 0&&(s=ot(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ule{constructor(){this.sessionToken=Nr.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.Qr=new Wn(ir.$r),this.Ur=new Wn(ir.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ir(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new ir(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Pe(new Lt([])),r=new ir(n,e),i=new ir(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Pe(new Lt([])),r=new ir(n,e),i=new ir(n,e+1);let s=ot();return this.Ur.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new ir(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ir{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Pe.comparator(e.key,n.key)||at(e.Yr,n.Yr)}static Kr(e,n){return at(e.Yr,n.Yr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Wn(ir.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new _oe(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Zr=this.Zr.add(new ir(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return fe.resolve(a)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?tN:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ir(n,0),i=new ir(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(a=>{const l=this.Xr(a.Yr);s.push(l)})),fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wn(at);return n.forEach((i=>{const s=new ir(i,0),a=new ir(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(l=>{r=r.add(l.Yr)}))})),fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Pe.isDocumentKey(s)||(s=s.child(""));const a=new ir(new Pe(s),0);let l=new Wn(at);return this.Zr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Yr)),!0)}),a),fe.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){vt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return fe.forEach(n.mutations,(i=>{const s=new ir(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new ir(n,0),i=this.Zr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fle{constructor(e){this.ri=e,this.docs=(function(){return new ln(Pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():Br.newInvalidDocument(n))}getEntries(e,n){let r=Go();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Br.newInvalidDocument(i))})),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Go();const a=n.path,l=new Pe(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||zae(Bae(f),r)<=0||(i.has(f.key)||Aw(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return fe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ue(9500)}ii(e,n){return fe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new hle(this)}getSize(e){return fe.resolve(this.size)}}class hle extends sle{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ple{constructor(e){this.persistence=e,this.si=new jd((n=>iN(n)),sN),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.oi=0,this._i=new fN,this.targetCount=0,this.ai=vh.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vh(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),fe.waitFor(s).next((()=>i))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),fe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e,n){this.ui={},this.overlays={},this.ci=new Tw(0),this.li=!1,this.li=!0,this.hi=new ule,this.referenceDelegate=e(this),this.Pi=new ple(this),this.indexManager=new Joe,this.remoteDocumentCache=(function(i){return new fle(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Xoe(n),this.Ii=new lle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new dle(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const i=new mle(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return fe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class mle extends Fae{constructor(e){super(),this.currentSequenceNumber=e}}class hN{constructor(e){this.persistence=e,this.Ri=new fN,this.Vi=null}static mi(e){return new hN(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(r=>{const i=Pe.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,He.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class jb{constructor(e,n){this.persistence=e,this.pi=new jd((r=>qae(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=ile(this,n)}static mi(e,n){return new jb(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return fe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?fe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((l=>{l||(r++,s.removeEntry(a,He.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kv(e.data.value)),n}br(e,n,r){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ot(),i=ot();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new pN(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yle{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Gne()?8:$ae($r())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new gle;return this.Ss(e,n,a).next((l=>{if(s.result=l,this.Vs)return this.bs(e,n,a,l.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Pf()<=st.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Rf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(Pf()<=st.DEBUG&&_e("QueryEngine","Query:",Rf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Pf()<=st.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Rf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ua(n))):fe.resolve())}ys(e,n){if(Q5(n))return fe.resolve(null);let r=Ua(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=fA(n,null,"F"),r=Ua(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=ot(...s);return this.ps.getDocuments(e,a).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.Ds(n,l);return this.Cs(n,d,a,c.readTime)?this.ys(e,fA(n,null,"F")):this.vs(e,d,n,c)}))))})))))}ws(e,n,r,i){return Q5(n)||i.isEqual(He.min())?fe.resolve(null):this.ps.getDocuments(e,r).next((s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?fe.resolve(null):(Pf()<=st.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Rf(n)),this.vs(e,a,n,Vae(i,ag)).next((l=>l)))}))}Ds(e,n){let r=new Wn(X9(e));return n.forEach(((i,s)=>{Aw(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Pf()<=st.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Rf(n)),this.ps.getDocumentsMatchingQuery(e,n,Cc.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="LocalStore",vle=3e8;class ble{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new ln(at),this.xs=new jd((s=>iN(s)),sN),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ole(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function xle(t,e,n,r){return new ble(t,e,n,r)}async function b$(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],l=[];let c=ot();for(const d of i){a.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of s){l.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Ls:d,removedBatchIds:a,addedBatchIds:l})))}))}))}function wle(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,d,f){const p=d.batch,g=p.keys();let v=fe.resolve();return g.forEach((b=>{v=v.next((()=>f.getEntry(c,b))).next((E=>{const S=d.docVersions.get(b);vt(S!==null,48541),E.version.compareTo(S)<0&&(p.applyToRemoteDocument(E,d),E.isValidDocument()&&(E.setReadTime(d.commitVersion),f.addEntry(E)))}))})),v.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=ot();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function x$(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Sle(t,e){const n=We(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((f,p)=>{const g=i.get(p);if(!g)return;l.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(s,f.addedDocuments,p))));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Nr.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(p,v),(function(E,S,k){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=vle?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(g,v,f)&&l.push(n.Pi.updateTargetData(s,v))}));let c=Go(),d=ot();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))})),l.push(Tle(s,a,e.documentUpdates).next((f=>{c=f.ks,d=f.qs}))),!r.isEqual(He.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next((p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));l.push(f)}return fe.waitFor(l).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,c,d))).next((()=>c))})).then((s=>(n.Ms=i,s)))}function Tle(t,e,n){let r=ot(),i=ot();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=Go();return n.forEach(((l,c)=>{const d=s.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(He.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):_e(mN,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)})),{ks:a,qs:i}}))}function Ele(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=tN),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function kle(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,fe.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new cc(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function yA(t,e,n){const r=We(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Uh(a))throw a;_e(mN,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function u4(t,e,n){const r=We(t);let i=He.min(),s=ot();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,d,f){const p=We(c),g=p.xs.get(f);return g!==void 0?fe.resolve(p.Ms.get(g)):p.Pi.getTargetData(d,f)})(r,a,Ua(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next((c=>{s=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:He.min(),n?s:ot()))).next((l=>(_le(r,uoe(e),l),{documents:l,Qs:s})))))}function _le(t,e,n){let r=t.Os.get(e)||He.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class d4{constructor(){this.activeTargetIds=goe()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ale{constructor(){this.Mo=new d4,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new d4,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cle{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="ConnectivityMonitor";class h4{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(f4,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(f4,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ov=null;function vA(){return ov===null?ov=(function(){return 268435456+Math.round(2147483648*Math.random())})():ov++,"0x"+ov.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="RestConnection",Nle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ole{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Ab?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=vA(),l=this.zo(e,n.toUriEncodedString());_e(pE,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:d}=new URL(l),f=Rh(d);return this.Jo(e,l,c,r,f).then((p=>(_e(pE,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw ph(pE,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=Nle[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mle{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="WebChannelConnection";class jle extends Ole{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=vA();return new Promise(((l,c)=>{const d=new T9;d.setWithCredentials(!0),d.listenOnce(E9.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Gv.NO_ERROR:const p=d.getResponseJson();_e(Pr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Gv.TIMEOUT:_e(Pr,`RPC '${e}' ${a} timed out`),c(new Te(de.DEADLINE_EXCEEDED,"Request time out"));break;case Gv.HTTP_ERROR:const g=d.getStatus();if(_e(Pr,`RPC '${e}' ${a} failed with status:`,g,"response text:",d.getResponseText()),g>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v?.error;if(b&&b.status&&b.message){const E=(function(k){const C=k.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(C)>=0?C:de.UNKNOWN})(b.status);c(new Te(E,b.message))}else c(new Te(de.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Te(de.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{_e(Pr,`RPC '${e}' ${a} completed.`)}}));const f=JSON.stringify(i);_e(Pr,`RPC '${e}' ${a} sending request:`,i),d.send(n,"POST",f,r,15)}))}T_(e,n,r){const i=vA(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=A9(),l=_9(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");_e(Pr,`Creating RPC '${e}' stream ${i}: ${f}`,c);const p=a.createWebChannel(f,c);this.I_(p);let g=!1,v=!1;const b=new Mle({Yo:S=>{v?_e(Pr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(g||(_e(Pr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),_e(Pr,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Zo:()=>p.close()}),E=(S,k,C)=>{S.listen(k,(O=>{try{C(O)}catch(z){setTimeout((()=>{throw z}),0)}}))};return E(p,ym.EventType.OPEN,(()=>{v||(_e(Pr,`RPC '${e}' stream ${i} transport opened.`),b.o_())})),E(p,ym.EventType.CLOSE,(()=>{v||(v=!0,_e(Pr,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(p))})),E(p,ym.EventType.ERROR,(S=>{v||(v=!0,ph(Pr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),b.a_(new Te(de.UNAVAILABLE,"The operation could not be completed")))})),E(p,ym.EventType.MESSAGE,(S=>{if(!v){const k=S.data[0];vt(!!k,16349);const C=k,O=C?.error||C[0]?.error;if(O){_e(Pr,`RPC '${e}' stream ${i} received error:`,O);const z=O.status;let P=(function(j){const M=In[j];if(M!==void 0)return o$(M)})(z),U=O.message;P===void 0&&(P=de.INTERNAL,U="Unknown error status: "+z+" with message "+O.message),v=!0,b.a_(new Te(P,U)),p.close()}else _e(Pr,`RPC '${e}' stream ${i} received:`,k),b.u_(k)}})),E(l,k9.STAT_EVENT,(S=>{S.stat===sA.PROXY?_e(Pr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===sA.NOPROXY&&_e(Pr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function mE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t){return new Roe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="PersistentStream";class S${constructor(e,n,r,i,s,a,l,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new w$(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Wo(n.toString()),Wo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Te(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(p4,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(_e(p4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ile extends S${constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Boe(this.serializer,e),r=(function(s){if(!("targetChange"in s))return He.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?He.min():a.readTime?Fa(a.readTime):He.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=gA(this.serializer),n.addTarget=(function(s,a){let l;const c=a.target;if(l=uA(c)?{documents:Foe(s,c)}:{query:$oe(s,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=u$(s,a.resumeToken);const d=hA(s,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(He.min())>0){l.readTime=Mb(s,a.snapshotVersion.toTimestamp());const d=hA(s,a.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=qoe(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=gA(this.serializer),n.removeTarget=e,this.q_(n)}}class Dle extends S${constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Uoe(e.writeResults,e.commitTime),r=Fa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=gA(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>zoe(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ple{}class Rle extends Ple{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Te(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,pA(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Te(de.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Ho(e,pA(n,r),i,a,l,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(de.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Lle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wo(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="RemoteStore";class Vle{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{Id(this)&&(_e(xd,"Restarting streams for network reachability change."),await(async function(c){const d=We(c);d.Ea.add(4),await t0(d),d.Ra.set("Unknown"),d.Ea.delete(4),await jw(d)})(this))}))})),this.Ra=new Lle(r,i)}}async function jw(t){if(Id(t))for(const e of t.da)await e(!0)}async function t0(t){for(const e of t.da)await e(!1)}function T$(t,e){const n=We(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),bN(n)?vN(n):$h(n).O_()&&yN(n,e))}function gN(t,e){const n=We(t),r=$h(n);n.Ia.delete(e),r.O_()&&E$(n,e),n.Ia.size===0&&(r.O_()?r.L_():Id(n)&&n.Ra.set("Unknown"))}function yN(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$h(t).Y_(e)}function E$(t,e){t.Va.Ue(e),$h(t).Z_(e)}function vN(t){t.Va=new joe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),$h(t).start(),t.Ra.ua()}function bN(t){return Id(t)&&!$h(t).x_()&&t.Ia.size>0}function Id(t){return We(t).Ea.size===0}function k$(t){t.Va=void 0}async function Ble(t){t.Ra.set("Online")}async function zle(t){t.Ia.forEach(((e,n)=>{yN(t,e)}))}async function Ule(t,e){k$(t),bN(t)?(t.Ra.ha(e),vN(t)):t.Ra.set("Unknown")}async function Fle(t,e,n){if(t.Ra.set("Online"),e instanceof c$&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){_e(xd,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ib(t,r)}else if(e instanceof Qv?t.Va.Ze(e):e instanceof l$?t.Va.st(e):t.Va.tt(e),!n.isEqual(He.min()))try{const r=await x$(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const l=s.Va.Tt(a);return l.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(d);f&&s.Ia.set(d,f.withResumeToken(c.resumeToken,a))}})),l.targetMismatches.forEach(((c,d)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(Nr.EMPTY_BYTE_STRING,f.snapshotVersion)),E$(s,c);const p=new cc(f.target,c,d,f.sequenceNumber);yN(s,p)})),s.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){_e(xd,"Failed to raise snapshot:",r),await Ib(t,r)}}async function Ib(t,e,n){if(!Uh(e))throw e;t.Ea.add(1),await t0(t),t.Ra.set("Offline"),n||(n=()=>x$(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(xd,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await jw(t)}))}function _$(t,e){return e().catch((n=>Ib(t,n,e)))}async function Iw(t){const e=We(t),n=jc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tN;for(;$le(e);)try{const i=await Ele(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Hle(e,i)}catch(i){await Ib(e,i)}A$(e)&&C$(e)}function $le(t){return Id(t)&&t.Ta.length<10}function Hle(t,e){t.Ta.push(e);const n=jc(t);n.O_()&&n.X_&&n.ea(e.mutations)}function A$(t){return Id(t)&&!jc(t).x_()&&t.Ta.length>0}function C$(t){jc(t).start()}async function qle(t){jc(t).ra()}async function Wle(t){const e=jc(t);for(const n of t.Ta)e.ea(n.mutations)}async function Gle(t,e,n){const r=t.Ta.shift(),i=cN.from(r,e,n);await _$(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Iw(t)}async function Kle(t,e){e&&jc(t).X_&&await(async function(r,i){if((function(a){return Noe(a)&&a!==de.ABORTED})(i.code)){const s=r.Ta.shift();jc(r).B_(),await _$(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Iw(r)}})(t,e),A$(t)&&C$(t)}async function m4(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),_e(xd,"RemoteStore received new credentials");const r=Id(n);n.Ea.add(3),await t0(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jw(n)}async function Yle(t,e){const n=We(t);e?(n.Ea.delete(2),await jw(n)):e||(n.Ea.add(2),await t0(n),n.Ra.set("Unknown"))}function $h(t){return t.ma||(t.ma=(function(n,r,i){const s=We(n);return s.sa(),new Ile(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Ble.bind(null,t),t_:zle.bind(null,t),r_:Ule.bind(null,t),H_:Fle.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),bN(t)?vN(t):t.Ra.set("Unknown")):(await t.ma.stop(),k$(t))}))),t.ma}function jc(t){return t.fa||(t.fa=(function(n,r,i){const s=We(n);return s.sa(),new Dle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:qle.bind(null,t),r_:Kle.bind(null,t),ta:Wle.bind(null,t),na:Gle.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Iw(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(xd,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new xN(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wN(t,e){if(Wo("AsyncQueue",`${e}: ${t}`),Uh(t))return new Te(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{static emptySet(e){return new sh(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=vm(),this.sortedSet=new ln(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new sh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.ga=new ln(Pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class bh{constructor(e,n,r,i,s,a,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((l=>{a.push({type:0,doc:l})})),new bh(e,n,sh.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_w(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xle{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Qle{constructor(){this.queries=y4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=We(n),s=i.queries;i.queries=y4(),s.forEach(((a,l)=>{for(const c of l.Sa)c.onError(r)}))})(this,new Te(de.ABORTED,"Firestore shutting down"))}}function y4(){return new jd((t=>Y9(t)),_w)}async function N$(t,e){const n=We(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Xle,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=wN(a,`Initialization of query '${Rf(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&SN(n)}async function O$(t,e){const n=We(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Jle(t,e){const n=We(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Fa(i)&&(r=!0);a.wa=i}}r&&SN(n)}function Zle(t,e,n){const r=We(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function SN(t){t.Ca.forEach((e=>{e.next()}))}var bA,v4;(v4=bA||(bA={})).Ma="default",v4.Cache="cache";class M${constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new bh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e){this.key=e}}class I${constructor(e){this.key=e}}class ece{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ot(),this.mutatedKeys=ot(),this.eu=X9(e),this.tu=new sh(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new g4,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,p)=>{const g=i.get(f),v=Aw(this.query,p)?p:null,b=!!g&&this.mutatedKeys.has(g.key),E=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;g&&v?g.data.isEqual(v.data)?b!==E&&(r.track({type:3,doc:v}),S=!0):this.su(g,v)||(r.track({type:2,doc:v}),S=!0,(c&&this.eu(v,c)>0||d&&this.eu(v,d)<0)&&(l=!0)):!g&&v?(r.track({type:0,doc:v}),S=!0):g&&!v&&(r.track({type:1,doc:g}),S=!0,(c||d)&&(l=!0)),S&&(v?(a=a.add(v),s=E?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:a,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((f,p)=>(function(v,b){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:S})}};return E(v)-E(b)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,a.length!==0||d?{snapshot:new bh(this.query,e.tu,s,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new g4,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new I$(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new j$(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ot();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const TN="SyncEngine";class tce{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nce{constructor(e){this.key=e,this.hu=!1}}class rce{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new jd((l=>Y9(l)),_w),this.Iu=new Map,this.Eu=new Set,this.du=new ln(Pe.comparator),this.Au=new Map,this.Ru=new fN,this.Vu={},this.mu=new Map,this.fu=vh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ice(t,e,n=!0){const r=B$(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await D$(r,e,n,!0),i}async function sce(t,e){const n=B$(t);await D$(n,e,!0,!1)}async function D$(t,e,n,r){const i=await kle(t.localStore,Ua(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await ace(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&T$(t.remoteStore,i),l}async function ace(t,e,n,r,i){t.pu=(p,g,v)=>(async function(E,S,k,C){let O=S.view.ru(k);O.Cs&&(O=await u4(E.localStore,S.query,!1).then((({documents:I})=>S.view.ru(I,O))));const z=C&&C.targetChanges.get(S.targetId),P=C&&C.targetMismatches.get(S.targetId)!=null,U=S.view.applyChanges(O,E.isPrimaryClient,z,P);return x4(E,S.targetId,U.au),U.snapshot})(t,p,g,v);const s=await u4(t.localStore,e,!0),a=new ece(e,s.Qs),l=a.ru(s.documents),c=e0.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(l,t.isPrimaryClient,c);x4(t,n,d.au);const f=new tce(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function oce(t,e,n){const r=We(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!_w(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yA(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&gN(r.remoteStore,i.targetId),xA(r,i.targetId)})).catch(zh)):(xA(r,i.targetId),await yA(r.localStore,i.targetId,!0))}async function lce(t,e){const n=We(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gN(n.remoteStore,r.targetId))}async function cce(t,e,n){const r=gce(t);try{const i=await(function(a,l){const c=We(a),d=Nt.now(),f=l.reduce(((v,b)=>v.add(b.key)),ot());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let b=Go(),E=ot();return c.Ns.getEntries(v,f).next((S=>{b=S,b.forEach(((k,C)=>{C.isValidDocument()||(E=E.add(k))}))})).next((()=>c.localDocuments.getOverlayedDocuments(v,b))).next((S=>{p=S;const k=[];for(const C of l){const O=Eoe(C,p.get(C.key).overlayedDocument);O!=null&&k.push(new Hc(C.key,O,U9(O.value.mapValue),Es.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,k,l)})).next((S=>{g=S;const k=S.applyToLocalDocumentSet(p,E);return c.documentOverlayCache.saveOverlays(v,S.batchId,k)}))})).then((()=>({batchId:g.batchId,changes:J9(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,l,c){let d=a.Vu[a.currentUser.toKey()];d||(d=new ln(at)),d=d.insert(l,c),a.Vu[a.currentUser.toKey()]=d})(r,i.batchId,n),await n0(r,i.changes),await Iw(r.remoteStore)}catch(i){const s=wN(i,"Failed to persist write");n.reject(s)}}async function P$(t,e){const n=We(t);try{const r=await Sle(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Au.get(s);a&&(vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?vt(a.hu,14607):i.removedDocuments.size>0&&(vt(a.hu,42227),a.hu=!1))})),await n0(n,r,e)}catch(r){await zh(r)}}function b4(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,a)=>{const l=a.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(a,l){const c=We(a);c.onlineState=l;let d=!1;c.queries.forEach(((f,p)=>{for(const g of p.Sa)g.va(l)&&(d=!0)})),d&&SN(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uce(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new ln(Pe.comparator);a=a.insert(s,Br.newNoDocument(s,He.min()));const l=ot().add(s),c=new Ow(He.min(),new Map,new ln(at),a,l);await P$(r,c),r.du=r.du.remove(s),r.Au.delete(e),EN(r)}else await yA(r.localStore,e,!1).then((()=>xA(r,e,n))).catch(zh)}async function dce(t,e){const n=We(t),r=e.batch.batchId;try{const i=await wle(n.localStore,e);L$(n,r,null),R$(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await n0(n,i)}catch(i){await zh(i)}}async function fce(t,e,n){const r=We(t);try{const i=await(function(a,l){const c=We(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return c.mutationQueue.lookupMutationBatch(d,l).next((p=>(vt(p!==null,37113),f=p.keys(),c.mutationQueue.removeMutationBatch(d,p)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>c.localDocuments.getDocuments(d,f)))}))})(r.localStore,e);L$(r,e,n),R$(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await n0(r,i)}catch(i){await zh(i)}}function R$(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function L$(t,e,n){const r=We(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function xA(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||V$(t,r)}))}function V$(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(gN(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),EN(t))}function x4(t,e,n){for(const r of n)r instanceof j$?(t.Ru.addReference(r.key,e),hce(t,r)):r instanceof I$?(_e(TN,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||V$(t,r.key)):Ue(19791,{wu:r})}function hce(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(_e(TN,"New document in limbo: "+n),t.Eu.add(r),EN(t))}function EN(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Pe(Lt.fromString(e)),r=t.fu.next();t.Au.set(r,new nce(n)),t.du=t.du.insert(n,r),T$(t.remoteStore,new cc(Ua(aN(n.path)),r,"TargetPurposeLimboResolution",Tw.ce))}}async function n0(t,e,n){const r=We(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{a.push(r.pu(c,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){i.push(d);const f=pN.As(c.targetId,d);s.push(f)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(c,d){const f=We(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>fe.forEach(d,(g=>fe.forEach(g.Es,(v=>f.persistence.referenceDelegate.addReference(p,g.targetId,v))).next((()=>fe.forEach(g.ds,(v=>f.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))))))}catch(p){if(!Uh(p))throw p;_e(mN,"Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const v=f.Ms.get(g),b=v.snapshotVersion,E=v.withLastLimboFreeSnapshotVersion(b);f.Ms=f.Ms.insert(g,E)}}})(r.localStore,s))}async function pce(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){_e(TN,"User change. New user:",e.toKey());const r=await b$(n.localStore,e);n.currentUser=e,(function(s,a){s.mu.forEach((l=>{l.forEach((c=>{c.reject(new Te(de.CANCELLED,a))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await n0(n,r.Ls)}}function mce(t,e){const n=We(t),r=n.Au.get(e);if(r&&r.hu)return ot().add(r.key);{let i=ot();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const l=n.Tu.get(a);i=i.unionWith(l.view.nu)}return i}}function B$(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=P$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mce.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uce.bind(null,e),e.Pu.H_=Jle.bind(null,e.eventManager),e.Pu.yu=Zle.bind(null,e.eventManager),e}function gce(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dce.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fce.bind(null,e),e}class Db{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mw(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return xle(this.persistence,new yle,e.initialUser,this.serializer)}Cu(e){return new v$(hN.mi,this.serializer)}Du(e){return new Ale}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Db.provider={build:()=>new Db};class yce extends Db{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){vt(this.persistence.referenceDelegate instanceof jb,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new nle(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gi.withCacheSize(this.cacheSizeBytes):gi.DEFAULT;return new v$((r=>jb.mi(r,n)),this.serializer)}}class wA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pce.bind(null,this.syncEngine),await Yle(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Qle})()}createDatastore(e){const n=Mw(e.databaseInfo.databaseId),r=(function(s){return new jle(s)})(e.databaseInfo);return(function(s,a,l,c){return new Rle(s,a,l,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,l){return new Vle(r,i,s,a,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>b4(this.syncEngine,n,0)),(function(){return h4.v()?new h4:new Cle})())}createSyncEngine(e,n){return(function(i,s,a,l,c,d,f){const p=new rce(i,s,a,l,c,d);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=We(n);_e(xd,"RemoteStore shutting down."),r.Ea.add(5),await t0(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wA.provider={build:()=>new wA};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic="FirestoreClient";class vce{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vr.UNAUTHENTICATED,this.clientId=eN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{_e(Ic,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(_e(Ic,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wN(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function gE(t,e){t.asyncQueue.verifyOperationInProgress(),_e(Ic,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await b$(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function w4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bce(t);_e(Ic,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>m4(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>m4(e.remoteStore,i))),t._onlineComponents=e}async function bce(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(Ic,"Using user provided OfflineComponentProvider");try{await gE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ph("Error using user provided cache. Falling back to memory cache: "+n),await gE(t,new Db)}}else _e(Ic,"Using default OfflineComponentProvider"),await gE(t,new yce(void 0));return t._offlineComponents}async function U$(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(Ic,"Using user provided OnlineComponentProvider"),await w4(t,t._uninitializedComponentsProvider._online)):(_e(Ic,"Using default OnlineComponentProvider"),await w4(t,new wA))),t._onlineComponents}function xce(t){return U$(t).then((e=>e.syncEngine))}async function SA(t){const e=await U$(t),n=e.eventManager;return n.onListen=ice.bind(null,e.syncEngine),n.onUnlisten=oce.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sce.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lce.bind(null,e.syncEngine),n}function wce(t,e,n={}){const r=new vc;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,l,c,d){const f=new z$({next:g=>{f.Nu(),a.enqueueAndForget((()=>O$(s,p))),g.fromCache&&c.source==="server"?d.reject(new Te(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new M$(l,f,{includeMetadataChanges:!0,qa:!0});return N$(s,p)})(await SA(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$="firestore.googleapis.com",T4=!0;class E4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$$,this.ssl=T4}else this.host=e.host,this.ssl=e.ssl??T4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=y$;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ele)throw new Te(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lae("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F$(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Te(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Te(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Te(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dw{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Aae;switch(r.type){case"firstParty":return new Mae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=S4.get(n);r&&(_e("ComponentProvider","Removing Datastore"),S4.delete(n),r.terminate())})(this),Promise.resolve()}}function Sce(t,e,n,r={}){t=Ts(t,Dw);const i=Rh(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(DF(`https://${l}`),PF("Firestore",!0)),s.host!==$$&&s.host!==l&&ph("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:i,emulatorOptions:r};if(!md(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Vr.MOCK_USER;else{d=Vne(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Te(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Vr(p)}t._authCredentials=new Cae(new N9(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qc(this.firestore,e,this._query)}}class En{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}toJSON(){return{type:En._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Jg(n,En._jsonSchema))return new En(e,r||null,new Pe(Lt.fromString(n.referencePath)))}}En._jsonSchemaVersion="firestore/documentReference/1.0",En._jsonSchema={type:Ln("string",En._jsonSchemaVersion),referencePath:Ln("string")};class bc extends qc{constructor(e,n,r){super(e,n,aN(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new Pe(e))}withConverter(e){return new bc(this.firestore,e,this._path)}}function TA(t,e,...n){if(t=Gn(t),O9("collection","path",e),t instanceof Dw){const r=Lt.fromString(e,...n);return L5(r),new bc(t,null,r)}{if(!(t instanceof En||t instanceof bc))throw new Te(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return L5(r),new bc(t.firestore,null,r)}}function Ys(t,e,...n){if(t=Gn(t),arguments.length===1&&(e=eN.newId()),O9("doc","path",e),t instanceof Dw){const r=Lt.fromString(e,...n);return R5(r),new En(t,null,new Pe(r))}{if(!(t instanceof En||t instanceof bc))throw new Te(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return R5(r),new En(t.firestore,t instanceof bc?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4="AsyncQueue";class _4{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new w$(this,"async_queue_retry"),this._c=()=>{const r=mE();r&&_e(k4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=mE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=mE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Uh(e))throw e;_e(k4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Wo("INTERNAL UNHANDLED ERROR: ",A4(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=xN.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ue(47125,{Pc:A4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function A4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Dc extends Dw{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _4,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _4(e),this._firestoreClient=void 0,await e}}}function Tce(t,e){const n=typeof t=="object"?t:BF(),r=typeof t=="string"?t:Ab,i=H2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Rne("firestore");s&&Sce(i,...s)}return i}function kN(t){if(t._terminated)throw new Te(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Ece(t),t._firestoreClient}function Ece(t){const e=t._freezeSettings(),n=(function(i,s,a,l){return new Kae(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,F$(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new vce(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ys(Nr.fromBase64String(e))}catch(n){throw new Te(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ys(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ys._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jg(e,ys._jsonSchema))return ys.fromBase64String(e.bytes)}}ys._jsonSchemaVersion="firestore/bytes/1.0",ys._jsonSchema={type:Ln("string",ys._jsonSchemaVersion),bytes:Ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$a._jsonSchemaVersion}}static fromJSON(e){if(Jg(e,$a._jsonSchema))return new $a(e.latitude,e.longitude)}}$a._jsonSchemaVersion="firestore/geoPoint/1.0",$a._jsonSchema={type:Ln("string",$a._jsonSchemaVersion),latitude:Ln("number"),longitude:Ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ha._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jg(e,Ha._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ha(e.vectorValues);throw new Te(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ha._jsonSchemaVersion="firestore/vectorValue/1.0",Ha._jsonSchema={type:Ln("string",Ha._jsonSchemaVersion),vectorValues:Ln("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kce=/^__.*__$/;class _ce{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Hc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zg(e,this.data,n,this.fieldTransforms)}}class H${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Hc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function q$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:t})}}class _N{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _N({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Pb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(q$(this.Ac)&&kce.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ace{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mw(e)}Cc(e,n,r,i=!1){return new _N({Ac:e,methodName:n,Dc:r,path:kr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lw(t){const e=t._freezeSettings(),n=Mw(t._databaseId);return new Ace(t._databaseId,!!e.ignoreUndefinedProperties,n)}function W$(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);CN("Data must be an object, but it was:",a,r);const l=G$(r,a);let c,d;if(s.merge)c=new $i(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const g=EA(e,p,n);if(!a.contains(g))throw new Te(de.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Y$(f,g)||f.push(g)}c=new $i(f),d=a.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,d=a.fieldTransforms;return new _ce(new bi(l),c,d)}class Vw extends Rw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vw}}class AN extends Rw{_toFieldTransform(e){return new xoe(e.path,new dg)}isEqual(e){return e instanceof AN}}function Cce(t,e,n,r){const i=t.Cc(1,e,n);CN("Data must be an object, but it was:",i,r);const s=[],a=bi.empty();$c(r,((c,d)=>{const f=NN(e,c,n);d=Gn(d);const p=i.yc(f);if(d instanceof Vw)s.push(f);else{const g=r0(d,p);g!=null&&(s.push(f),a.set(f,g))}}));const l=new $i(s);return new H$(a,l,i.fieldTransforms)}function Nce(t,e,n,r,i,s){const a=t.Cc(1,e,n),l=[EA(e,r,n)],c=[i];if(s.length%2!=0)throw new Te(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(EA(e,s[g])),c.push(s[g+1]);const d=[],f=bi.empty();for(let g=l.length-1;g>=0;--g)if(!Y$(d,l[g])){const v=l[g];let b=c[g];b=Gn(b);const E=a.yc(v);if(b instanceof Vw)d.push(v);else{const S=r0(b,E);S!=null&&(d.push(v),f.set(v,S))}}const p=new $i(d);return new H$(f,p,a.fieldTransforms)}function Oce(t,e,n,r=!1){return r0(n,t.Cc(r?4:3,e))}function r0(t,e){if(K$(t=Gn(t)))return CN("Unsupported field value:",e,t),G$(t,e);if(t instanceof Rw)return(function(r,i){if(!q$(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const l of r){let c=r0(l,i.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yoe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Nt.fromDate(r);return{timestampValue:Mb(i.serializer,s)}}if(r instanceof Nt){const s=new Nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mb(i.serializer,s)}}if(r instanceof $a)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ys)return{bytesValue:u$(i.serializer,r._byteString)};if(r instanceof En){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:dN(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ha)return(function(a,l){return{mapValue:{fields:{[B9]:{stringValue:z9},[Cb]:{arrayValue:{values:a.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return oN(l.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Sw(r)}`)})(t,e)}function G$(t,e){const n={};return I9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$c(t,((r,i)=>{const s=r0(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function K$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nt||t instanceof $a||t instanceof ys||t instanceof En||t instanceof Rw||t instanceof Ha)}function CN(t,e,n){if(!K$(n)||!M9(n)){const r=Sw(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function EA(t,e,n){if((e=Gn(e))instanceof Pw)return e._internalPath;if(typeof e=="string")return NN(t,e);throw Pb("Field path arguments must be of type string or ",t,!1,void 0,n)}const Mce=new RegExp("[~\\*/\\[\\]]");function NN(t,e,n){if(e.search(Mce)>=0)throw Pb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pw(...e.split("."))._internalPath}catch{throw Pb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pb(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Te(de.INVALID_ARGUMENT,l+t+c)}function Y$(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jce(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ON("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jce extends X${data(){return super.data()}}function ON(t,e){return typeof e=="string"?NN(t,e):e instanceof Pw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MN{}class J$ extends MN{}function kA(t,e,...n){let r=[];e instanceof MN&&r.push(e),r=r.concat(n),(function(s){const a=s.filter((c=>c instanceof IN)).length,l=s.filter((c=>c instanceof jN)).length;if(a>1||a>0&&l>0)throw new Te(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class jN extends J${constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jN(e,n,r)}_apply(e){const n=this._parse(e);return e8(e._query,n),new qc(e.firestore,e.converter,dA(e._query,n))}_parse(e){const n=Lw(e.firestore);return(function(s,a,l,c,d,f,p){let g;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Te(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){O4(p,f);const b=[];for(const E of p)b.push(N4(c,s,E));g={arrayValue:{values:b}}}else g=N4(c,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||O4(p,f),g=Oce(l,a,p,f==="in"||f==="not-in");return Rn.create(d,f,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class IN extends MN{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new IN(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ia.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let a=i;const l=s.getFlattenedFilters();for(const c of l)e8(a,c),a=dA(a,c)})(e._query,n),new qc(e.firestore,e.converter,dA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class DN extends J${constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new DN(e,n)}_apply(e){const n=(function(i,s,a){if(i.startAt!==null)throw new Te(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Te(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ug(s,a)})(e._query,this._field,this._direction);return new qc(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new Fh(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Z$(t,e="asc"){const n=e,r=ON("orderBy",t);return DN._create(r,n)}function N4(t,e,n){if(typeof(n=Gn(n))=="string"){if(n==="")throw new Te(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K9(e)&&n.indexOf("/")!==-1)throw new Te(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Lt.fromString(n));if(!Pe.isDocumentKey(r))throw new Te(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return q5(t,new Pe(r))}if(n instanceof En)return q5(t,n._key);throw new Te(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sw(n)}.`)}function O4(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e8(t,e){const n=(function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Te(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ice{convertValue(e,n="none"){switch(Mc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $c(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Cb].arrayValue?.values?.map((r=>Tn(r.doubleValue)));return new Ha(n)}convertGeoPoint(e){return new $a(Tn(e.latitude),Tn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(og(e));default:return null}}convertTimestamp(e){const n=Nc(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lt.fromString(e);vt(g$(r),9688,{name:e});const i=new lg(r.get(1),r.get(3)),s=new Pe(r.popFirst(5));return i.isEqual(n)||Wo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class xm{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rd extends X${constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ON("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=rd._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}rd._jsonSchemaVersion="firestore/documentSnapshot/1.0",rd._jsonSchema={type:Ln("string",rd._jsonSchemaVersion),bundleSource:Ln("string","DocumentSnapshot"),bundleName:Ln("string"),bundle:Ln("string")};class Jv extends rd{data(e={}){return super.data(e)}}class id{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Jv(this._firestore,this._userDataWriter,r.key,r,new xm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((l=>{const c=new Jv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xm(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const c=new Jv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xm(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:Dce(l.type),doc:c,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=id._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=eN.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Dce(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}id._jsonSchemaVersion="firestore/querySnapshot/1.0",id._jsonSchema={type:Ln("string",id._jsonSchemaVersion),bundleSource:Ln("string","QuerySnapshot"),bundleName:Ln("string"),bundle:Ln("string")};class PN extends Ice{constructor(e){super(),this.firestore=e}convertBytes(e){return new ys(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,n)}}function Pce(t){t=Ts(t,qc);const e=Ts(t.firestore,Dc),n=kN(e),r=new PN(e);return Q$(t._query),wce(n,t._query).then((i=>new id(e,r,t,i)))}function M4(t,e,n){t=Ts(t,En);const r=Ts(t.firestore,Dc),i=t8(t.converter,e,n);return Bw(r,[W$(Lw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Es.none())])}function Rb(t,e,n,...r){t=Ts(t,En);const i=Ts(t.firestore,Dc),s=Lw(i);let a;return a=typeof(e=Gn(e))=="string"||e instanceof Pw?Nce(s,"updateDoc",t._key,e,n,r):Cce(s,"updateDoc",t._key,e),Bw(i,[a.toMutation(t._key,Es.exists(!0))])}function _A(t){return Bw(Ts(t.firestore,Dc),[new lN(t._key,Es.none())])}function n8(t,e){const n=Ts(t.firestore,Dc),r=Ys(t),i=t8(t.converter,e);return Bw(n,[W$(Lw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Es.exists(!1))]).then((()=>r))}function j4(t,...e){t=Gn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||C4(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(C4(e[r])){const c=e[r];e[r]=c.next?.bind(c),e[r+1]=c.error?.bind(c),e[r+2]=c.complete?.bind(c)}let s,a,l;if(t instanceof En)a=Ts(t.firestore,Dc),l=aN(t._key.path),s={next:c=>{e[r]&&e[r](Rce(a,t,c))},error:e[r+1],complete:e[r+2]};else{const c=Ts(t,qc);a=Ts(c.firestore,Dc),l=c._query;const d=new PN(a);s={next:f=>{e[r]&&e[r](new id(a,d,c,f))},error:e[r+1],complete:e[r+2]},Q$(t._query)}return(function(d,f,p,g){const v=new z$(g),b=new M$(f,v,p);return d.asyncQueue.enqueueAndForget((async()=>N$(await SA(d),b))),()=>{v.Nu(),d.asyncQueue.enqueueAndForget((async()=>O$(await SA(d),b)))}})(kN(a),l,i,s)}function Bw(t,e){return(function(r,i){const s=new vc;return r.asyncQueue.enqueueAndForget((async()=>cce(await xce(r),i,s))),s.promise})(kN(t),e)}function Rce(t,e,n){const r=n.docs.get(e._key),i=new PN(t);return new rd(t,i,e._key,r,new xm(n.hasPendingWrites,n.fromCache),e.converter)}function lv(){return new AN("serverTimestamp")}(function(e,n=!0){(function(i){Bh=i})(Lh),hh(new gd("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new Dc(new Nae(r.getProvider("auth-internal")),new jae(a,r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Te(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lg(d.options.projectId,f)})(a,i),a);return s={useFetchStreams:n,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),gc(j5,I5,e),gc(j5,I5,"esm2020")})();var Lce="firebase",Vce="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gc(Lce,Vce,"app");const Bce={apiKey:"AIzaSyDrWCHmSHWYwWNjDYYqbV1lASEiJbXeT8U",authDomain:"personal-dashboard-e8c8f.firebaseapp.com",projectId:"personal-dashboard-e8c8f",storageBucket:"personal-dashboard-e8c8f.firebasestorage.app",messagingSenderId:"906260519522",appId:"1:906260519522:web:f7d2e9666e3ee20d260f3b",measurementId:"G-R2Z1CJ9TW6"},r8=VF(Bce),Bm=Is(r8),Bi=Tce(r8),Eo="default-app-id",yE=[{name:"Default",textClass:"text-neutral-800 dark:text-neutral-200",bgClass:"bg-neutral-500"},{name:"Sky",textClass:"text-sky-500",bgClass:"bg-sky-500"},{name:"Emerald",textClass:"text-emerald-500",bgClass:"bg-emerald-500"},{name:"Rose",textClass:"text-rose-500",bgClass:"bg-rose-500"},{name:"Amber",textClass:"text-amber-500",bgClass:"bg-amber-500"},{name:"Violet",textClass:"text-violet-500",bgClass:"bg-violet-500"}],Yf={green:{text:"text-emerald-500",glowColors:{c1:"#a7f3d0",c2:"#6ee7b7",c3:"#34d399"}},blue:{text:"text-sky-500",glowColors:{c1:"#bae6fd",c2:"#7dd3fc",c3:"#38bdf8"}},rose:{text:"text-rose-500",glowColors:{c1:"#fecdd3",c2:"#fda4af",c3:"#f43f5e"}},amber:{text:"text-amber-500",glowColors:{c1:"#fde68a",c2:"#fcd34d",c3:"#f59e0b"}},violet:{text:"text-violet-500",glowColors:{c1:"#d8b4fe",c2:"#c084fc",c3:"#a855f7"}}},i8=(t,e)=>TA(Bi,"artifacts","default-app-id","users",t,e),zce=t=>{if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},Uce=(t="")=>t?t.split(" ").map(e=>e.charAt(0)).slice(0,2).join("").toUpperCase():"??",s8=t=>{if(!t||typeof t!="string")return"#";const e=t.trim();return e.startsWith("https://")||e.startsWith("http://")||e.startsWith("//")?e:`//${e}`},Fce=(t,e=24)=>t?t.length<=e?t:t.slice(0,e-3).trim()+"...":"",$ce=t=>!t||isNaN(t)?{comment:"",color:"text-slate-400",iconName:null}:t<18.5?{comment:"Time to power up!",iconName:"Zap",color:"text-cyan-400"}:t<25?{comment:"You're in the sweet spot.",iconName:"ThumbsUp",color:"text-green-400"}:t<30?{comment:"Every choice is a win.",iconName:"Award",color:"text-yellow-400"}:{comment:"Focused on health.",iconName:"Heart",color:"text-red-400"},RN=async(t,e,n,r)=>{if(!t)return;const i=[...n.subTasks];i[r].completed=!i[r].completed;const s=Ys(Bi,"artifacts","default-app-id","users",t,e,n.id);return await Rb(s,{subTasks:i,updatedAt:Nt.now()}),i},Ns=async(t,e)=>{if(!t)return[];try{const n=kA(i8(t,e),Z$("createdAt","desc"));return(await Pce(n)).docs.map(i=>({id:i.id,...i.data()}))}catch(n){return console.error("Error fetching:",n),[]}},en=async(t,e,n,r=!1)=>{if(!t)throw new Error("User ID missing");const i={...n,updatedAt:Nt.now()};if(i.id||delete i.id,i.createdAt===void 0&&delete i.createdAt,r){const s=Ys(Bi,"artifacts","default-app-id","users",t,e,n.id);return await Rb(s,i),{id:n.id,...i}}else return i.createdAt=Nt.now(),{id:(await n8(i8(t,e),i)).id,...i}},sa=async(t,e,n)=>{if(!t)return;const r=Ys(Bi,"artifacts","default-app-id","users",t,e,n);return await _A(r),n},Wc=t=>{if(!t||t.length===0)return 0;const e=t.filter(n=>n.completed).length;return Math.round(e/t.length*100)},Hce=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275Z"})}),ah=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"m9 18 6-6-6-6"})}),qce=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),m.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]}),Wce=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z"}),m.jsx("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]}),a8=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-spin",...t,children:m.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),o8=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),m.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),Gce=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),Kce=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"m6 9 6 6 6-6"})}),I4=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}),m.jsx("path",{d:"M16 14v6"}),m.jsx("path",{d:"M8 14v6"}),m.jsx("path",{d:"M12 16v6"})]}),l8=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M18 6 6 18"}),m.jsx("path",{d:"m6 6 12 12"})]}),Yce=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"13.5",cy:"6.5",r:".5"}),m.jsx("circle",{cx:"17.5",cy:"10.5",r:".5"}),m.jsx("circle",{cx:"8.5",cy:"7.5",r:".5"}),m.jsx("circle",{cx:"6.5",cy:"12.5",r:".5"}),m.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"})]}),Xce=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"2",x2:"22",y1:"12",y2:"12"}),m.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),Qce=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"6",x2:"10",y1:"12",y2:"12"}),m.jsx("line",{x1:"8",x2:"8",y1:"10",y2:"14"}),m.jsx("line",{x1:"15",x2:"15.01",y1:"13",y2:"13"}),m.jsx("line",{x1:"18",x2:"18.01",y1:"11",y2:"11"}),m.jsx("rect",{width:"20",height:"12",x:"2",y:"6",rx:"2"})]}),Jce=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),m.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]}),AA=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),m.jsx("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),m.jsx("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]}),Dd=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"})}),zn=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M5 12h14"}),m.jsx("path",{d:"M12 5v14"})]}),Zv=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),m.jsx("polyline",{points:"16 7 22 7 22 13"})]}),D4=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7"}),m.jsx("polyline",{points:"16 17 22 17 22 11"})]}),zw=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"1"}),m.jsx("circle",{cx:"19",cy:"12",r:"1"}),m.jsx("circle",{cx:"5",cy:"12",r:"1"})]}),i0=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"1"}),m.jsx("circle",{cx:"19",cy:"12",r:"1"}),m.jsx("circle",{cx:"5",cy:"12",r:"1"})]}),ei=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),m.jsx("path",{d:"m15 5 4 4"})]}),Hr=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M3 6h18"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),m.jsx("path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),m.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),m.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]}),xh=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),m.jsx("path",{d:"m9 12 2 2 4-4"})]}),Ds=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),yi=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"m15 18-6-6 6-6"})}),Uw=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M12 5a3 3 0 1 0-5.993.142"}),m.jsx("path",{d:"M18 5a3 3 0 1 0-5.993.142"}),m.jsx("path",{d:"M21 12a3 3 0 1 0-.142-5.993"}),m.jsx("path",{d:"M21 12a3 3 0 1 0 .142 5.993"}),m.jsx("path",{d:"M12 19a3 3 0 1 0 5.993-.142"}),m.jsx("path",{d:"M6 19a3 3 0 1 0 5.993-.142"}),m.jsx("path",{d:"M3 12a3 3 0 1 0 .142 5.993"}),m.jsx("path",{d:"M3 12a3 3 0 1 0-.142-5.993"}),m.jsx("path",{d:"M12 5a3 3 0 0 0 6 0"}),m.jsx("path",{d:"M12 5a3 3 0 0 1 6 0"}),m.jsx("path",{d:"M14.5 5.5A.5.5 0 0 1 15 5h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),m.jsx("path",{d:"M9.5 5.5A.5.5 0 0 1 10 5h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),m.jsx("path",{d:"M18 7.3a.5.5 0 0 0 .5-.5v0a.5.5 0 0 0-.5-.5h0a.5.5 0 0 0-.5.5Z"}),m.jsx("path",{d:"M19.7 9.5A.5.5 0 0 1 20 9h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),m.jsx("path",{d:"M19.7 14.5a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5v0a.5.5 0 0 0-.5-.5h0a.5.5 0 0 0-.5.5Z"}),m.jsx("path",{d:"M18 16.7a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),m.jsx("path",{d:"M14.5 18.5a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5v0a.5.5 0 0 0-.5-.5h0a.5.5 0 0 0-.5.5Z"}),m.jsx("path",{d:"M9.5 18.5a.5.5 0 0 1 .5-.5h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),m.jsx("path",{d:"M6 16.7a.5.5 0 0 0-.5.5v0a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5Z"}),m.jsx("path",{d:"M4.3 14.5a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5v0a.5.5 0 0 1 .5-.5h0a.5.5 0 0 1 .5.5Z"}),m.jsx("path",{d:"M4.3 9.5A.5.5 0 0 0 4 9h0a.5.5 0 0 0-.5.5v0a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5Z"}),m.jsx("path",{d:"M6 7.3a.5.5 0 0 1-.5-.5v0a.5.5 0 0 1 .5-.5h0a.5.5 0 0 1 .5.5Z"}),m.jsx("path",{d:"M12 12v0a3 3 0 0 0-3-3v0a3 3 0 0 0-3 3v0a3 3 0 0 0 3 3v0a3 3 0 0 0 3-3Z"}),m.jsx("path",{d:"M12 12h0a3 3 0 0 1 3 3v0a3 3 0 0 1-3 3v0a3 3 0 0 1-3-3v0a3 3 0 0 1 3-3Z"})]}),aa=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),m.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),m.jsx("path",{d:"M4 22h16"}),m.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),m.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),m.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),CA=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),ks=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("circle",{cx:"12",cy:"12",r:"6"}),m.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),to=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("circle",{cx:"12",cy:"12",r:"10"})}),Lb=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"4"}),m.jsx("path",{d:"M12 2v2"}),m.jsx("path",{d:"M12 20v2"}),m.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),m.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),m.jsx("path",{d:"M2 12h2"}),m.jsx("path",{d:"M20 12h2"}),m.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),m.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),Zce=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}),zm=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),m.jsx("path",{d:"M12 9v4"}),m.jsx("path",{d:"M12 17h.01"})]}),eue=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"m5 8 6 6"}),m.jsx("path",{d:"m4 14 6-6 2-3"}),m.jsx("path",{d:"M2 5h12"}),m.jsx("path",{d:"M7 2h1"}),m.jsx("path",{d:"m22 22-5-10-5 10"}),m.jsx("path",{d:"M14 18h6"})]}),tue=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{width:"14",height:"8",x:"5",y:"2",rx:"2"}),m.jsx("rect",{width:"20",height:"12",x:"2",y:"10",rx:"2"}),m.jsx("path",{d:"M6 18h2"}),m.jsx("path",{d:"M16 18h2"})]}),nue=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"8",r:"6"}),m.jsx("path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11"})]}),xc=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),m.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),Fw=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"m16 18 6-6-6-6"}),m.jsx("path",{d:"m8 6-6 6 6 6"})]}),s0=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M14.4 14.4 9.6 9.6"}),m.jsx("path",{d:"M18.657 5.343a2 2 0 1 0-2.829-2.828"}),m.jsx("path",{d:"m21.5 8.3-2.8-2.8"}),m.jsx("path",{d:"M8.3 21.5l-2.8-2.8"}),m.jsx("path",{d:"M5.343 18.657a2 2 0 1 0 2.829 2.828"}),m.jsx("path",{d:"M12 12V2l-2.8 2.8"}),m.jsx("path",{d:"m14.8 14.8 2.8 2.8"}),m.jsx("path",{d:"M12 12H2l2.8-2.8"}),m.jsx("path",{d:"m9.2 9.2-2.8-2.8"})]}),pg=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),m.jsx("line",{x1:"4",x2:"4",y1:"22",y2:"15"})]}),rue=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"}),m.jsx("path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"}),m.jsx("path",{d:"M7 21h10"}),m.jsx("path",{d:"M12 3v18"}),m.jsx("path",{d:"M3 7h18"})]}),iue=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L3 8.4a2.4 2.4 0 0 1 0-3.4l2.6-2.6a2.4 2.4 0 0 1 3.4 0Z"}),m.jsx("path",{d:"m14.5 12.5 2-2"}),m.jsx("path",{d:"m11.5 9.5 2-2"}),m.jsx("path",{d:"m8.5 6.5 2-2"}),m.jsx("path",{d:"m17.5 15.5 2-2"})]}),sue=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 2v6c0 7 4 8 8 8Z"}),m.jsx("path",{d:"M14 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2h-4c-1.25 0-2 .75-2 2v6c0 7 4 8 8 8Z"})]}),si=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),wh=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"10",r:"4"}),m.jsx("path",{d:"M12 14c-3.33 0-10 1.67-10 5v2h20v-2c0-3.33-6.67-5-10-5Z"}),m.jsx("path",{d:"M12 22v-2"}),m.jsx("path",{d:"M16 22v-2"}),m.jsx("path",{d:"M8 22v-2"}),m.jsx("path",{d:"M2 18h20"}),m.jsx("path",{d:"M12 2a5 5 0 0 0-5 5v3h10V7a5 5 0 0 0-5-5Z"})]}),c8=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M7 10v12"}),m.jsx("path",{d:"M18 10V4a2 2 0 0 0-2-2H8.5a2 2 0 0 0-1.9.9L3 10v10h12.5a2.5 2.5 0 0 0 2.5-2.5V10Z"})]}),aue=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),m.jsx("polyline",{points:"16 17 21 12 16 7"}),m.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),u8=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z"}),m.jsx("path",{d:"m6.2 5.3 3.1 3.9"}),m.jsx("path",{d:"m12.4 3.6 3.1 3.9"}),m.jsx("path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z"})]}),$w=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M9 18V5l12-2v13"}),m.jsx("circle",{cx:"6",cy:"18",r:"3"}),m.jsx("circle",{cx:"18",cy:"16",r:"3"})]}),Vb=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"18",x2:"22",y1:"2",y2:"6"}),m.jsx("path",{d:"M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z"})]}),d8=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M12 21.35A5 5 0 0 1 7 19.35V16a5 5 0 0 1 10 0v3.35a5 5 0 0 1-5 2z"}),m.jsx("path",{d:"M12 4V2"}),m.jsx("path",{d:"M17 6V2"}),m.jsx("path",{d:"M7 6V2"})]}),f8=t=>m.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"})}),LN=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-5 2.5-5C6.5 3 7 5 7 5c0 1.79-1.18 3.24-2.5 4S3 12.38 3 14v2"}),m.jsx("path",{d:"M7 19.82c-1.5-1.3-2.5-3.04-2.5-5.32 0-2.04 1-3.5 2.5-4.5C8.5 8.96 10.5 11 10.5 13c0 1.54-.37 2.94-1 4.14"}),m.jsx("path",{d:"M20 16v-2.38c0-2.12 1.03-3.12 1-5.5s-1.47-5-2.5-5C17.5 3 17 5 17 5c0 1.79 1.18 3.24 2.5 4s1.5 2.58 1.5 4v2"}),m.jsx("path",{d:"M17 19.82c1.5-1.3 2.5-3.04 2.5-5.32 0-2.04-1-3.5-2.5-4.5-1.5 1.04-3.5 3-3.5 5 0 1.54.37 2.94 1 4.14"})]}),oue=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),m.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),m.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),m.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),h8=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.72"}),m.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.72-1.72"})]}),lue=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),m.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),cue={Default:to,Zap:Ds,Code:Fw,Dumbbell:s0,Book:xc,Flag:pg,Heart:Dd,Star:si,Trophy:aa,Music:$w,Computer:tue},oa=({children:t,onClose:e})=>m.jsx(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm",onClick:e,children:t}),Et=t=>m.jsx("input",{...t,className:`w-full p-2.5 bg-black/5 dark:bg-white/5 rounded-xl backdrop-blur-sm border border-transparent focus:border-black/10 dark:focus:border-white/20 focus:bg-white/50 dark:focus:bg-black/40 focus:ring-0 focus:outline-none transition-all placeholder-neutral-400 dark:placeholder-neutral-500 ${t.className||""}`}),p8=({value:t,onChange:e,iconMap:n})=>{const[r,i]=_.useState(!1),s=_.useRef(null),a=n[t]||to;return _.useEffect(()=>{const l=c=>{s.current&&!s.current.contains(c.target)&&i(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),m.jsxs("div",{className:"relative z-50",ref:s,children:[m.jsx("button",{type:"button",onClick:()=>i(!r),className:"flex items-center justify-center p-2 bg-neutral-200 dark:bg-neutral-800 rounded-md",children:m.jsx(a,{className:"w-5 h-5 text-blue-500"})}),m.jsx(Wt,{children:r&&m.jsx(Qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute bottom-full mb-1 w-64 bg-white dark:bg-neutral-700 rounded-md shadow-lg z-[100] p-2 grid grid-cols-5 gap-2",children:Object.keys(n).map(l=>{const c=n[l];return m.jsx("button",{type:"button",onClick:()=>{e(l),i(!1)},className:"p-2 rounded hover:bg-neutral-100 dark:hover:bg-neutral-600 flex justify-center",children:m.jsx(c,{className:"w-5 h-5 text-blue-500"})},l)})})})]})},a0=({isHOF:t,onToggle:e,theme:n="orange"})=>{const r={orange:"text-amber-500",sky:"text-sky-500",teal:"text-teal-500",slate:"text-slate-500",violet:"text-violet-500",pink:"text-pink-500"},i=r[n]||r.orange;return m.jsxs("button",{onClick:e,className:"flex items-center gap-2 cursor-pointer w-full p-2 rounded-lg bg-black/5 dark:bg-white/5 backdrop-blur-sm border border-black/5 dark:border-white/10",children:[m.jsx(aa,{className:`w-5 h-5 transition-colors ${t?i:"text-neutral-400"}`}),m.jsx("span",{className:`transition-colors font-semibold ${t?i:"text-neutral-700 dark:text-neutral-300"}`,children:t?"In Hall of Fame":"Add to Hall of Fame"})]})},rl=({title:t,children:e,onClose:n,onSave:r,theme:i="blue",isHOF:s=!1,maxWidth:a="max-w-lg"})=>{const l={blue:{text:"text-blue-600 dark:text-blue-400",btn:"bg-blue-600 hover:bg-blue-700 shadow-blue-500/30"},red:{text:"text-red-600 dark:text-red-400",btn:"bg-red-600 hover:bg-red-700 shadow-red-500/30"},pink:{text:"text-pink-600 dark:text-pink-400",btn:"bg-pink-600 hover:bg-pink-700 shadow-pink-500/30"},violet:{text:"text-violet-600 dark:text-violet-400",btn:"bg-violet-600 hover:bg-violet-700 shadow-violet-500/30"},emerald:{text:"text-emerald-600 dark:text-emerald-400",btn:"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/30"},sky:{text:"text-sky-600 dark:text-sky-400",btn:"bg-sky-600 hover:bg-sky-700 shadow-sky-500/30"},teal:{text:"text-teal-600 dark:text-teal-400",btn:"bg-teal-600 hover:bg-teal-700 shadow-teal-500/30"},slate:{text:"text-slate-600 dark:text-slate-400",btn:"bg-slate-600 hover:bg-slate-700 shadow-slate-500/30"},orange:{text:"text-orange-600 dark:text-orange-400",btn:"bg-orange-600 hover:bg-orange-700 shadow-orange-500/30"}},c=l[i]||l.blue;return m.jsxs(Qe.div,{initial:{scale:.95,y:10},animate:{scale:1,y:0},exit:{scale:.95,y:10},className:`
                relative flex flex-col w-full ${a} max-h-[85vh] p-6 rounded-xl backdrop-blur-xl shadow-2xl transition-all overflow-hidden
                ${s?`bg-${i}-50/80 dark:bg-${i}-900/40 border border-${i}-400 shadow-[0_0_15px_rgba(167,139,250,0.3)]`:"bg-white/70 dark:bg-neutral-900/30 border border-neutral-200/50 dark:border-neutral-800/50"}
            `,onClick:d=>d.stopPropagation(),children:[m.jsx("div",{className:"shrink-0 mb-4",children:m.jsx("h3",{className:`text-xl font-bold ${c.text}`,children:t})}),m.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar pr-1 space-y-4 pb-20",children:e}),m.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 pt-4 flex justify-end gap-3 shrink-0 border-t border-black/5 dark:border-white/5 bg-gradient-to-t from-white via-white to-transparent dark:from-neutral-900 dark:via-neutral-900 z-50",children:[m.jsx("button",{onClick:n,className:"px-4 py-2 rounded-lg font-semibold text-neutral-600 dark:text-neutral-400 hover:bg-black/5 dark:hover:bg-white/10 transition-colors",children:"Cancel"}),m.jsx("button",{onClick:r,className:`px-6 py-2 rounded-lg text-white font-bold text-sm shadow-lg transition-all ${c.btn}`,children:"Save"})]})]})},VN=({isOpen:t,onClose:e,onSave:n,initialData:r,type:i="life"})=>{const[s,a]=_.useState({title:"",subTasks:[],year:"",month:"",day:"",...r}),[l,c]=_.useState({text:"",icon:"Default",color:yE[0].textClass});_.useEffect(()=>{t&&(a({title:"",subTasks:[],status:"in-progress",createdAt:new Date,...r}),c({text:"",icon:"Default",color:yE[0].textClass}))},[t,r]);const d=()=>{l.text.trim()&&(a(b=>({...b,subTasks:[...b.subTasks||[],{id:crypto.randomUUID(),...l,completed:!1}]})),c(b=>({...b,text:""})))},f=()=>{s.title.trim()&&(n(s),e())},g={life:"blue",important:"red",year_big:"slate"}[i]||"blue",v=r?.id?`Edit ${i==="year_big"?"Objective":"Goal"}`:`Create ${i==="year_big"?"Objective":"Goal"}`;return m.jsx(oa,{onClose:e,children:m.jsxs(rl,{title:v,theme:g,onClose:e,onSave:f,isHOF:s.hallOfFame,children:[m.jsx(Et,{placeholder:"Title",value:s.title,onChange:b=>a({...s,title:b.target.value}),autoFocus:!0,className:"bg-slate-500/10 dark:bg-slate-900/20 backdrop-blur-md border-slate-500/20 text-slate-800 dark:text-slate-100 placeholder-slate-400"}),(i==="year_big"||i==="yearly")&&m.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[m.jsx(Et,{type:"number",placeholder:"Year",value:s.year||new Date().getFullYear(),onChange:b=>a({...s,year:Number(b.target.value)}),className:"bg-slate-500/10 dark:bg-slate-900/20 backdrop-blur-md border-slate-500/20"}),m.jsx("div",{className:"relative",children:m.jsxs("select",{className:"w-full p-2.5 bg-slate-500/10 dark:bg-slate-900/20 rounded-xl backdrop-blur-md border border-slate-500/20 focus:border-slate-400/50 focus:ring-0 focus:outline-none appearance-none text-slate-800 dark:text-slate-200",value:s.month||"",onChange:b=>a({...s,month:Number(b.target.value)}),children:[m.jsx("option",{value:"",className:"bg-slate-800 text-slate-200",children:"Month"}),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((b,E)=>m.jsx("option",{value:E+1,className:"bg-slate-800 text-slate-200",children:b},E))]})}),m.jsx(Et,{type:"number",placeholder:"Day",value:s.day||"",onChange:b=>a({...s,day:Number(b.target.value)}),className:"bg-slate-500/10 dark:bg-slate-900/20 backdrop-blur-md border-slate-500/20"})]}),m.jsxs("div",{className:"space-y-2 pt-2",children:[m.jsx("label",{className:"text-xs font-bold uppercase tracking-wider opacity-60 ml-1 text-slate-500 dark:text-slate-400",children:"Sub-tasks"}),m.jsx("div",{className:"space-y-2",children:(s.subTasks||[]).map(b=>m.jsxs("div",{className:"flex items-center gap-3 p-2 bg-slate-500/10 dark:bg-slate-900/30 rounded-lg group hover:bg-slate-500/20 transition-colors border border-transparent hover:border-slate-500/20",children:[m.jsx("div",{className:`w-2 h-2 rounded-full ml-1 ${b.color?b.color.replace("text-","bg-"):"bg-slate-400"}`}),m.jsx("span",{className:"flex-grow text-sm font-medium text-slate-700 dark:text-slate-200",children:b.text}),m.jsx("button",{onClick:()=>a({...s,subTasks:s.subTasks.filter(E=>E.id!==b.id)}),className:"opacity-0 group-hover:opacity-100 text-red-500 p-1 hover:bg-red-500/10 rounded",children:m.jsx(Hr,{className:"w-4 h-4"})})]},b.id))}),m.jsx("div",{className:"flex gap-2 py-1 px-1 overflow-x-auto no-scrollbar relative z-10",children:yE.map(b=>m.jsx("button",{type:"button",onClick:()=>c({...l,color:b.textClass}),className:`w-5 h-5 rounded-full flex items-center justify-center transition-transform shrink-0 ${b.bgClass} ${l.color===b.textClass?"ring-2 ring-offset-2 ring-slate-400 scale-110 z-10":"opacity-60 hover:opacity-100"}`},b.name))}),m.jsxs("div",{className:"relative z-20 p-2 bg-slate-500/10 dark:bg-slate-900/20 rounded-xl flex items-center gap-2 border border-slate-500/20 focus-within:border-slate-400/50 transition-colors overflow-visible",children:[m.jsx("div",{className:"relative z-30",children:m.jsx(p8,{value:l.icon,onChange:b=>c({...l,icon:b}),iconMap:cue})}),m.jsx("input",{className:"bg-transparent flex-grow focus:outline-none text-sm px-1 placeholder-slate-400 text-slate-800 dark:text-slate-200",placeholder:"Add a new sub-task...",value:l.text,onChange:b=>c({...l,text:b.target.value}),onKeyDown:b=>b.key==="Enter"&&d()}),m.jsx("button",{onClick:d,className:`p-1.5 rounded-lg transition-colors text-white shadow-lg shadow-slate-900/20 ${g==="red"?"bg-red-500 hover:bg-red-600":"bg-slate-600 hover:bg-slate-500"}`,children:m.jsx(zn,{className:"w-4 h-4"})})]})]})]})})},uue=({onComplete:t})=>{const e=_.useRef(null);return _.useEffect(()=>{const n=e.current,r=n.getContext("2d");let i;const s=1e3;let l=2,c=[],d=0;const f=()=>{n.width=window.innerWidth,n.height=window.innerHeight};window.addEventListener("resize",f),f();for(let b=0;b<s;b++)c.push({x:Math.random()*n.width-n.width/2,y:Math.random()*n.height-n.height/2,z:Math.random()*n.width});const p=n.width/2,g=n.height/2,v=()=>{l*=1.05,r.fillStyle="rgba(0, 0, 0, 0.4)",r.fillRect(0,0,n.width,n.height),l>100&&(d+=.05,r.fillStyle=`rgba(255, 255, 255, ${d})`,r.fillRect(0,0,n.width,n.height)),r.fillStyle="#ffffff";for(let b=0;b<s;b++){const E=c[b];E.z-=l,E.z<=0&&(E.x=Math.random()*n.width-n.width/2,E.y=Math.random()*n.height-n.height/2,E.z=n.width);const S=E.x/E.z*n.width+p,k=E.y/E.z*n.height+g,C=(1-E.z/n.width)*4,O=E.z+l*2,z=E.x/O*n.width+p,P=E.y/O*n.height+g;r.strokeStyle="rgba(255, 255, 255, 0.8)",r.lineWidth=C,r.beginPath(),r.moveTo(z,P),r.lineTo(S,k),r.stroke()}d<1?i=requestAnimationFrame(v):t()};return v(),()=>{window.removeEventListener("resize",f),cancelAnimationFrame(i)}},[t]),m.jsx(Qe.canvas,{ref:e,initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-50 pointer-events-none"})},due=()=>m.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none opacity-[0.03] dark:opacity-[0.05]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}}),vE=({color:t,className:e,delay:n=0})=>m.jsx(Qe.div,{className:`absolute rounded-full mix-blend-multiply dark:mix-blend-screen filter blur-[80px] opacity-60 dark:opacity-40 ${e}`,style:{backgroundColor:t},animate:{x:[0,30,-20,0],y:[0,-40,20,0],scale:[1,1.1,.9,1]},transition:{duration:10,repeat:1/0,repeatType:"reverse",delay:n,ease:"easeInOut"}});function fue({onLogin:t,onSignUp:e,error:n,isLoading:r}){const[i,s]=_.useState(!0),[a,l]=_.useState(""),[c,d]=_.useState(""),[f,p]=_.useState(!1),[g,v]=_.useState({type:"",text:""}),[b,E]=_.useState(!1),S=async O=>{O.preventDefault(),v({type:"",text:""}),E(!0)},k=()=>{i?t(a,c):e(a,c)},C=async()=>{if(!a){v({type:"error",text:"Enter your email above first."});return}p(!0);try{await use(Bm,a),v({type:"success",text:"Reset link sent to your inbox."})}catch{v({type:"error",text:"Failed to send. Try again."})}finally{p(!1)}};return m.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center overflow-hidden bg-neutral-50 dark:bg-[#050505] text-neutral-800 dark:text-neutral-100 selection:bg-cyan-500/30",children:[b&&m.jsx(uue,{onComplete:k}),m.jsx(due,{}),m.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden",children:[m.jsx(vE,{color:"#22d3ee",className:"w-96 h-96 top-0 left-[-100px]",delay:0}),m.jsx(vE,{color:"#818cf8",className:"w-[500px] h-[500px] bottom-[-100px] right-[-100px]",delay:2}),m.jsx(vE,{color:"#f472b6",className:"w-80 h-80 top-[30%] right-[10%]",delay:4})]}),m.jsxs("div",{className:"relative z-10 w-full max-w-[420px] p-6",children:[m.jsxs(Qe.div,{animate:b?{scale:1.5,opacity:0,filter:"blur(10px)"}:{scale:1,opacity:1,filter:"blur(0px)"},transition:{duration:.8,ease:"anticipate"},className:`
                        relative overflow-hidden rounded-3xl
                        bg-white/70 dark:bg-black/40
                        backdrop-blur-2xl
                        border border-white/40 dark:border-white/10
                        shadow-[0_8px_30px_rgb(0,0,0,0.04)] dark:shadow-[0_8px_30px_rgb(0,0,0,0.2)]
                    `,children:[m.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/50 to-transparent opacity-50"}),m.jsxs("div",{className:"p-8 pt-10",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx(Qe.div,{initial:{scale:0},animate:{scale:1},className:"w-12 h-12 bg-gradient-to-br from-cyan-400 to-blue-600 rounded-xl mx-auto mb-4 flex items-center justify-center text-white shadow-lg shadow-cyan-500/30",children:m.jsx(Hce,{className:"w-6 h-6"})}),m.jsx("h2",{className:"text-3xl font-black tracking-tight mb-2 bg-clip-text text-transparent bg-gradient-to-br from-neutral-900 to-neutral-500 dark:from-white dark:to-neutral-400",children:i?"Welcome Back":"Create Account"}),m.jsx("p",{className:"text-sm font-medium text-neutral-500 dark:text-neutral-400",children:i?"Enter your credentials to continue.":"Start your journey with us today."})]}),m.jsxs("form",{onSubmit:S,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"group relative",children:[m.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-400 group-focus-within:text-cyan-500 transition-colors",children:m.jsx(qce,{className:"w-5 h-5"})}),m.jsx("input",{type:"email",placeholder:"Email address",value:a,onChange:O=>l(O.target.value),className:"w-full bg-white/50 dark:bg-black/20 border border-neutral-200 dark:border-white/10 rounded-xl py-3.5 pl-12 pr-4 outline-none focus:border-cyan-500/50 focus:ring-4 focus:ring-cyan-500/10 transition-all placeholder:text-neutral-400 font-medium",required:!0})]}),m.jsxs("div",{className:"group relative",children:[m.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-400 group-focus-within:text-cyan-500 transition-colors",children:m.jsx(Wce,{className:"w-5 h-5"})}),m.jsx("input",{type:"password",placeholder:"Password",value:c,onChange:O=>d(O.target.value),className:"w-full bg-white/50 dark:bg-black/20 border border-neutral-200 dark:border-white/10 rounded-xl py-3.5 pl-12 pr-4 outline-none focus:border-cyan-500/50 focus:ring-4 focus:ring-cyan-500/10 transition-all placeholder:text-neutral-400 font-medium",required:!0})]})]}),m.jsxs(Wt,{mode:"wait",children:[n&&m.jsx(Qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-3 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900/50 text-red-600 dark:text-red-300 text-xs font-bold text-center",children:n}),g.text&&m.jsx(Qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`p-3 rounded-lg border text-xs font-bold text-center ${g.type==="error"?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-900/50 text-red-600":"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-900/50 text-green-600"}`,children:g.text})]}),m.jsx("button",{type:"submit",disabled:r||f||b,className:"w-full py-4 rounded-xl bg-neutral-900 dark:bg-white text-white dark:text-black font-bold text-sm hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-70 disabled:hover:scale-100 shadow-xl shadow-cyan-500/10 flex items-center justify-center gap-2 mt-2",children:r?m.jsx(a8,{className:"w-4 h-4 animate-spin"}):m.jsxs(m.Fragment,{children:[i?"Sign In":"Create Account",m.jsx(ah,{className:"w-4 h-4"})]})})]}),m.jsxs("div",{className:"mt-8 space-y-4",children:[i&&m.jsx("button",{onClick:C,disabled:f,className:"w-full text-xs font-bold text-neutral-400 hover:text-cyan-600 dark:hover:text-cyan-400 transition-colors",children:f?"Sending...":"Forgot your password?"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("div",{className:"w-full border-t border-neutral-200 dark:border-white/10"})}),m.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:m.jsx("span",{className:"bg-white/80 dark:bg-black/60 px-2 text-neutral-400 backdrop-blur-sm rounded",children:"Or"})})]}),m.jsx("button",{onClick:()=>{s(!i),v({type:"",text:""})},className:"w-full py-3 rounded-xl border border-neutral-200 dark:border-white/10 font-bold text-sm text-neutral-600 dark:text-neutral-300 hover:bg-neutral-50 dark:hover:bg-white/5 transition-all",children:i?"Create an account":"I already have an account"})]})]})]}),m.jsx("p",{className:"text-center text-[10px] font-bold text-neutral-400 mt-8 opacity-50",children:" 2025  SECURE ENVIRONMENT"})]})]})}const P4="386a5d656124b61695e7d6b71882a3d9",wm="Osaka",hue={Default:to,Star:si,Zap:Ds,Heart:zw},pue=t=>t>=5&&t<11?"Rise and shine! The world awaits.":t>=11&&t<14?"Hope your day is going smoothly.":t>=14&&t<18?"Hope you're having a great afternoon!":t>=18&&t<22?"Time to wind down and reflect.":"Burning the midnight oil? Get some rest.",mue=({values:t})=>{const e=_.useMemo(()=>{if(!t||t.length===0)return[];const r=[...t];for(let i=r.length-1;i>0;i--){const s=Math.floor(Math.random()*(i+1));[r[i],r[s]]=[r[s],r[i]]}return r},[t]);if(e.length===0)return null;const n=[...e,...e,...e];return m.jsxs("div",{className:"w-full bg-neutral-900/95 border-b border-white/10 overflow-hidden py-2.5 mb-6 shadow-md backdrop-blur-md relative z-30",children:[m.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-neutral-900 to-transparent z-10"}),m.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-neutral-900 to-transparent z-10"}),m.jsx(Qe.div,{className:"flex items-center gap-12 whitespace-nowrap",animate:{x:[0,-1e3]},transition:{x:{repeat:1/0,repeatType:"loop",duration:60,ease:"linear"}},children:n.map((r,i)=>{const s=.4+(r.importance||5)/10*.6;return m.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold tracking-wider uppercase",style:{opacity:s},children:[m.jsx(si,{className:"w-3.5 h-3.5 text-amber-400"}),m.jsx("span",{className:"text-neutral-200",children:r.value})]},i)})})]})},Gl=({icon:t,color:e,title:n,children:r,isLast:i=!1,collapsed:s=!1})=>{const[a,l]=_.useState(!s),c={red:"text-red-500 border-red-200 dark:border-red-900",blue:"text-blue-500 border-blue-200 dark:border-blue-900",green:"text-emerald-500 border-emerald-200 dark:border-emerald-900",amber:"text-amber-500 border-amber-200 dark:border-amber-900",violet:"text-violet-500 border-violet-200 dark:border-violet-900",sky:"text-sky-500 border-sky-200 dark:border-sky-900",slate:"text-neutral-500 border-neutral-200 dark:border-neutral-800",pink:"text-pink-500 border-pink-200 dark:border-pink-900"},d=c[e]||c.slate,f=d.split(" ")[0];return m.jsxs("div",{className:"flex w-full",children:[m.jsxs("div",{className:"flex flex-col items-center mr-4 md:mr-6 shrink-0 w-8",children:[m.jsx("div",{className:"w-px h-6 bg-neutral-200 dark:bg-neutral-800"}),m.jsx("button",{onClick:()=>l(!a),className:`w-6 h-6 md:w-8 md:h-8 rounded flex items-center justify-center bg-white dark:bg-neutral-900 border ${d.split(" ")[1]} shadow-sm z-10 transition-transform hover:scale-110`,children:t?m.jsx(t,{className:`w-3 h-3 md:w-4 md:h-4 ${f}`}):m.jsx("div",{className:`w-2 h-2 rounded-full bg-current ${f}`})}),!i&&m.jsx("div",{className:"w-px flex-grow bg-neutral-200 dark:bg-neutral-800 my-1 min-h-[20px]"})]}),m.jsxs("div",{className:"pb-6 w-full min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2 cursor-pointer select-none",onClick:()=>l(!a),children:[m.jsx("h3",{className:"text-sm md:text-base font-bold text-neutral-700 dark:text-neutral-300 uppercase tracking-wider",children:n}),m.jsx("div",{className:"h-px flex-grow bg-neutral-100 dark:bg-neutral-800/50 mx-2"}),m.jsx("span",{className:"text-neutral-400",children:a?m.jsx(Kce,{className:"w-4 h-4"}):m.jsx(ah,{className:"w-4 h-4"})})]}),m.jsx(Wt,{children:a&&m.jsx(Qe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"pl-2 md:pl-0 overflow-hidden",children:r})})]})]})},Du=({label:t,isCompleted:e,icon:n,color:r})=>{const i=hue[n]||to,s=r||"text-neutral-500",a=r||"text-neutral-700 dark:text-neutral-300";return m.jsxs("div",{className:"flex items-start gap-3 ml-4 py-1 relative",children:[m.jsx("div",{className:"absolute left-[-1.2rem] top-0 bottom-0 w-px bg-neutral-200 dark:bg-neutral-800"}),m.jsx("div",{className:"absolute left-[-1.2rem] top-[0.8rem] w-3 h-px bg-neutral-200 dark:bg-neutral-800"}),m.jsx(i,{className:`mt-1 w-3 h-3 shrink-0 ${e?"text-green-500":s}`}),m.jsx("span",{className:`text-sm ${e?"text-neutral-400 line-through":a}`,children:t})]})},Pu=({icon:t,title:e,subtitle:n})=>m.jsxs("div",{className:"flex items-center gap-4 py-4 px-2 opacity-60",children:[m.jsx("div",{className:"p-3 bg-neutral-100 dark:bg-neutral-800 rounded-lg",children:m.jsx(t,{className:"w-6 h-6 text-neutral-400"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-neutral-600 dark:text-neutral-400",children:e}),m.jsx("p",{className:"text-xs text-neutral-500",children:n})]})]}),gue=({location:t})=>{const[e,n]=_.useState(null);return _.useEffect(()=>{const r=async()=>{const s=t?encodeURIComponent(t):wm;try{let a=await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${s}&appid=${P4}&units=metric`);if(!a.ok){if(a.status===404&&t!==wm){console.warn(`Weather not found for ${t}, falling back to ${wm}`);const d=await(await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${wm}&appid=${P4}&units=metric`)).json();d.list&&i(d)}return}const l=await a.json();l.list&&i(l)}catch(a){console.error(a)}},i=s=>{const a=s.list[0],l=s.list[8];n({temp:Math.round(a.main.temp),desc:a.weather[0].description,rainToday:a.pop>.3,rainTomorrow:l.pop>.3,city:s.city.name})};r()},[t]),e?m.jsxs("div",{className:"flex flex-wrap items-center gap-6 md:gap-12 text-sm pl-2",children:[m.jsxs("div",{className:"flex items-center gap-2 text-neutral-700 dark:text-neutral-200",children:[m.jsx(o8,{className:"w-4 h-4 text-red-500"}),m.jsx("span",{className:"font-bold",children:e.city})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Gce,{className:"w-4 h-4 text-orange-500"}),m.jsxs("span",{className:"font-mono text-lg font-bold",children:[e.temp,"C"]}),m.jsx("span",{className:"text-neutral-500 capitalize",children:e.desc})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:`flex items-center gap-1 ${e.rainToday?"text-blue-600 font-bold":"text-neutral-500"}`,children:[e.rainToday?m.jsx(I4,{className:"w-4 h-4"}):m.jsx(Lb,{className:"w-4 h-4"}),m.jsxs("span",{children:["Today: ",e.rainToday?"Rainy":"Clear"]})]}),m.jsxs("div",{className:`flex items-center gap-1 ${e.rainTomorrow?"text-blue-600 font-bold":"text-neutral-500"}`,children:[e.rainTomorrow?m.jsx(I4,{className:"w-4 h-4"}):m.jsx(Lb,{className:"w-4 h-4"}),m.jsxs("span",{children:["Tomorrow: ",e.rainTomorrow?"Rainy":"Clear"]})]})]})]}):m.jsx("div",{className:"text-sm text-neutral-400 animate-pulse pl-2",children:"Loading weather satellite..."})};function yue({data:t}){const{about:e,lifeGoals:n,importantGoals:r,achievements:i,skills:s,books:a,movies:l,music:c,intakeEntries:d,exerciseEntries:f,objectives:p,diaries:g,theses:v}=t,[b,E]=_.useState(new Date);_.useEffect(()=>{const pe=setInterval(()=>E(new Date),1e3);return()=>clearInterval(pe)},[]);const S=b.getDate(),k=b.toLocaleString("en-US",{month:"long"}),C=b.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),O=e?.location||e?.university||wm,z=new Date().toISOString().slice(0,10),P=new Date;P.setDate(P.getDate()-1);const U=P.toISOString().slice(0,10),I=d||[],j=I.filter(pe=>pe.type==="intake"),M=I.filter(pe=>pe.type==="exercise"),R=pe=>{const we=j.filter(Ce=>Ce.date===pe).reduce((Ce,Re)=>Ce+(Re.calories||0),0),et=M.filter(Ce=>Ce.date===pe).reduce((Ce,Re)=>Ce+(Re.calories||0)+(Re.steps||0)*.04,0),ie=M.filter(Ce=>Ce.date===pe).reduce((Ce,Re)=>Ce+(Re.steps||0),0);return{intake:we,burned:et,steps:ie}},V=R(z),L=R(U),B=(pe,we)=>{if(!we)return{val:0,up:!0};const et=pe-we;return{val:Math.abs(et),up:et>=0}},X=B(V.intake,L.intake),ae=B(V.steps,L.steps),W=p||[],Y=W.find(pe=>Number(pe.year)===b.getFullYear()&&Number(pe.month)===b.getMonth()+1&&Number(pe.day)===S),le=W.find(pe=>Number(pe.year)===b.getFullYear()&&Number(pe.month)===b.getMonth()+1&&!pe.day),he=n?.find(pe=>pe.status!=="completed"),Se=r?.find(pe=>pe.status!=="completed"),H=a?.find(pe=>pe.status==="reading"),ne=v?.find(pe=>pe.status==="reading"),ye=_.useMemo(()=>{if(!g||g.length===0)return null;const pe=g.filter(dt=>dt.content&&dt.content.length>20);if(pe.length===0)return null;const we=pe[Math.floor(Math.random()*pe.length)],et=we.content.replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim(),Ce=(et.match(/[^.!?]+[.!?]+(\s|$)/g)||[et]).map(dt=>dt.trim());let Re="";const me=4;if(Ce.length<=me)Re=Ce.join(" ");else{const dt=Ce.length-me,Me=Math.floor(Math.random()*(dt+1));Re=Ce.slice(Me,Me+me).join(" ")}return{text:Re,date:we.id}},[g]),be=e?.swot||{},ke=e?.questions||{};return m.jsxs("div",{className:"w-full",children:[m.jsx(mue,{values:e?.values}),m.jsxs("div",{className:"px-2 md:px-8 py-4",children:[m.jsxs("div",{className:"flex items-start mb-2",children:[m.jsxs("div",{className:"flex flex-col items-center mr-4 md:mr-6 w-8 pt-2",children:[m.jsx("div",{className:"w-4 h-4 rounded-full bg-neutral-900 dark:bg-white border-4 border-white dark:border-black shadow-lg z-10"}),m.jsx("div",{className:"w-px flex-grow bg-neutral-200 dark:bg-neutral-800 my-1"})]}),m.jsxs("div",{className:"pb-10 w-full",children:[m.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-neutral-900 dark:text-white tracking-tight leading-none mb-2",children:[b.toLocaleDateString("en-US",{weekday:"long"}),", ",k," ",S,zce(S)]}),m.jsxs("div",{className:"text-xl md:text-2xl font-light text-neutral-500 flex flex-wrap gap-x-4",children:[m.jsx("span",{className:"font-mono",children:C}),m.jsx("span",{className:"hidden md:inline text-neutral-300 dark:text-neutral-700",children:"|"}),m.jsxs("span",{children:["Good ",b.getHours()<12?"Morning":b.getHours()<18?"Afternoon":"Evening",", ",e?.name?.split(" ")[0]||"Commander"]})]}),m.jsx("p",{className:"text-neutral-400 mt-2 font-mono text-sm",children:pue(b.getHours())})]})]}),m.jsx(Gl,{icon:Lb,color:"amber",title:"Atmospherics",children:m.jsx(gue,{location:O})}),m.jsx(Gl,{icon:ks,color:"red",title:"Prime Directive",children:m.jsxs("div",{className:"pl-2 grid grid-cols-1 lg:grid-cols-2 gap-10",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-bold text-neutral-400 mb-3 uppercase tracking-wider",children:"Today's Mission"}),Y?m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:`mt-2 w-4 h-4 rounded-sm border-2 shrink-0 ${Y.status==="completed"?"bg-green-500 border-green-500":"border-red-400"}`}),m.jsx("span",{className:`text-2xl md:text-3xl font-bold leading-tight ${Y.status==="completed"?"text-neutral-400 line-through":"text-neutral-800 dark:text-neutral-100"}`,children:Y.title})]}),Y.subTasks&&Y.subTasks.length>0&&m.jsx("div",{className:"mt-3",children:Y.subTasks.map((pe,we)=>m.jsx(Du,{label:pe.text,isCompleted:pe.completed,icon:pe.icon,color:pe.color},we))})]}):m.jsx(Pu,{icon:ks,title:"No mission set for today.",subtitle:"Check your Yearly Objectives."})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-bold text-neutral-400 mb-3 uppercase tracking-wider",children:"Monthly Focus"}),le?m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"mt-2 w-4 h-4 rounded-sm border-2 shrink-0 border-blue-500"}),m.jsx("span",{className:"text-2xl md:text-3xl font-bold leading-tight text-neutral-800 dark:text-neutral-100",children:le.title})]}),le.subTasks&&le.subTasks.length>0&&m.jsx("div",{className:"mt-3",children:le.subTasks.map((pe,we)=>m.jsx(Du,{label:pe.text,isCompleted:pe.completed,icon:pe.icon,color:pe.color},we))})]}):m.jsx(Pu,{icon:oue,title:"No monthly focus.",subtitle:"Plan your month in Objectives."})]})]})}),m.jsx(Gl,{icon:Ds,color:"violet",title:"Self Analysis",children:m.jsxs("div",{className:"pl-2 grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"text-xs font-bold text-green-500 mb-2 uppercase flex items-center gap-2",children:[m.jsx(Zv,{className:"w-4 h-4"})," Strengths"]}),m.jsx("p",{className:"text-sm leading-relaxed text-neutral-700 dark:text-neutral-300 whitespace-pre-wrap",children:be.strengths||"No strengths listed. Update in About Me."})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"text-xs font-bold text-red-500 mb-2 uppercase flex items-center gap-2",children:[m.jsx(zm,{className:"w-4 h-4"})," Weaknesses"]}),m.jsx("p",{className:"text-sm leading-relaxed text-neutral-700 dark:text-neutral-300 whitespace-pre-wrap",children:be.weaknesses||"No weaknesses listed. Update in About Me."})]})]})}),m.jsx(Gl,{icon:AA,color:"pink",title:"Protocols",children:m.jsxs("div",{className:"pl-2 grid grid-cols-1 md:grid-cols-3 gap-8",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-bold text-neutral-500 uppercase mb-2",children:"Daily Questions"}),ke.daily&&ke.daily.length>0?m.jsx("div",{className:"space-y-1",children:ke.daily.map((pe,we)=>m.jsx(Du,{label:pe,isCompleted:!1},we))}):m.jsx("span",{className:"text-xs text-neutral-400 italic",children:"No daily questions set."})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-bold text-neutral-500 uppercase mb-2",children:"Weekly Questions"}),ke.weekly&&ke.weekly.length>0?m.jsx("div",{className:"space-y-1",children:ke.weekly.map((pe,we)=>m.jsx(Du,{label:pe,isCompleted:!1},we))}):m.jsx("span",{className:"text-xs text-neutral-400 italic",children:"No weekly questions set."})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-bold text-neutral-500 uppercase mb-2",children:"Monthly Questions"}),ke.monthly&&ke.monthly.length>0?m.jsx("div",{className:"space-y-1",children:ke.monthly.map((pe,we)=>m.jsx(Du,{label:pe,isCompleted:!1},we))}):m.jsx("span",{className:"text-xs text-neutral-400 italic",children:"No monthly questions set."})]})]})}),m.jsx(Gl,{icon:Dd,color:"green",title:"Biometrics",children:m.jsxs("div",{className:"pl-2 flex flex-wrap gap-12 items-start",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 dark:text-emerald-400 mb-1",children:[m.jsx(d8,{className:"w-5 h-5"})," ",m.jsx("span",{className:"font-bold",children:"INTAKE"})]}),m.jsx("div",{className:"text-3xl font-mono font-bold",children:Math.round(V.intake)}),m.jsxs("div",{className:"flex items-center gap-1 text-xs mt-1",children:[X.up?m.jsx(Zv,{className:"w-3 h-3 text-red-500"}):m.jsx(D4,{className:"w-3 h-3 text-green-500"}),m.jsxs("span",{className:"text-neutral-500",children:[Math.round(X.val)," vs Yesterday ",X.up?"(More)":"(Less)"]})]})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 text-orange-500 mb-1",children:[m.jsx(f8,{className:"w-5 h-5"})," ",m.jsx("span",{className:"font-bold",children:"BURNED"})]}),m.jsx("div",{className:"text-3xl font-mono font-bold",children:Math.round(V.burned)}),m.jsx("div",{className:"text-xs text-neutral-500 mt-1",children:"Total Active Energy"})]}),m.jsxs("div",{className:"w-48",children:[m.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-1",children:[m.jsx(LN,{className:"w-5 h-5"})," ",m.jsx("span",{className:"font-bold",children:"STEPS"})]}),m.jsx("div",{className:"text-3xl font-mono font-bold",children:V.steps}),m.jsxs("div",{className:"flex items-center gap-1 text-xs mt-1 mb-2",children:[ae.up?m.jsx(Zv,{className:"w-3 h-3 text-green-500"}):m.jsx(D4,{className:"w-3 h-3 text-red-500"}),m.jsxs("span",{className:"text-neutral-500",children:[ae.val," vs Yesterday ",ae.up?"(Great!)":"(Less)"]})]}),m.jsx("div",{className:"h-1.5 w-full bg-neutral-200 dark:bg-neutral-800 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000",style:{width:`${Math.min(V.steps/1e4*100,100)}%`}})})]})]})}),m.jsx(Gl,{icon:xc,color:"sky",title:"Active Feed",children:m.jsxs("div",{className:"pl-2 grid grid-cols-1 md:grid-cols-2 gap-8",children:[H?m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-16 h-24 bg-neutral-200 dark:bg-neutral-800 rounded shadow-inner flex items-center justify-center shrink-0",children:m.jsx(xc,{className:"text-neutral-400 w-6 h-6"})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h4",{className:"font-bold text-lg text-neutral-900 dark:text-neutral-100",children:H.title}),m.jsxs("p",{className:"text-sm text-neutral-500 mb-2",children:["by ",H.author]}),m.jsx("div",{className:"w-full bg-neutral-100 dark:bg-neutral-800 h-2 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-sky-500",style:{width:`${H.progress}%`}})}),m.jsxs("div",{className:"text-right text-xs text-sky-600 font-bold mt-1",children:[H.progress,"% Complete"]})]})]}):m.jsx(Pu,{icon:xc,title:"No book in progress.",subtitle:"Pick something from the Library."}),ne?m.jsxs("div",{className:"flex items-start gap-4 p-4 border border-neutral-200 dark:border-neutral-800 rounded-xl hover:bg-neutral-50 dark:hover:bg-neutral-900 transition-colors",children:[m.jsx(wh,{className:"w-8 h-8 text-teal-500 shrink-0"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-neutral-100",children:ne.title}),m.jsx("p",{className:"text-xs text-teal-600 font-bold mt-1 uppercase",children:"Reading Thesis"}),m.jsxs("div",{className:"text-sm text-neutral-500 mt-1 line-clamp-2",children:["Supervisor: ",ne.author]})]})]}):m.jsx(Pu,{icon:wh,title:"No thesis active.",subtitle:"Select a paper to read."})]})}),m.jsx(Gl,{icon:pg,color:"slate",title:"Long Term",children:m.jsxs("div",{className:"pl-2 grid grid-cols-1 md:grid-cols-2 gap-8",children:[he?m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(aa,{className:"w-5 h-5 text-amber-500"}),m.jsx("span",{className:"font-bold text-neutral-800 dark:text-neutral-200",children:he.title})]}),he.subTasks&&he.subTasks.length>0?m.jsx("div",{className:"pl-2 border-l-2 border-amber-200 dark:border-amber-900/50",children:he.subTasks.map((pe,we)=>m.jsx(Du,{label:pe.text,isCompleted:pe.completed,icon:pe.icon,color:pe.color},we))}):m.jsx("p",{className:"text-xs text-neutral-400 pl-8",children:"No subtasks defined."})]}):m.jsx(Pu,{icon:pg,title:"No active life goal.",subtitle:"Define your path in Life Goals."}),Se?m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(zm,{className:"w-5 h-5 text-red-500"}),m.jsx("span",{className:"font-bold text-neutral-800 dark:text-neutral-200",children:Se.title})]}),Se.subTasks&&Se.subTasks.length>0?m.jsx("div",{className:"pl-2 border-l-2 border-red-200 dark:border-red-900/50",children:Se.subTasks.map((pe,we)=>m.jsx(Du,{label:pe.text,isCompleted:pe.completed,icon:pe.icon,color:pe.color},we))}):m.jsx("p",{className:"text-xs text-neutral-400 pl-8",children:"No subtasks defined."})]}):m.jsx(Pu,{icon:zm,title:"No priority set.",subtitle:"Mark a goal as Important."})]})}),m.jsx(Gl,{icon:Vb,color:"violet",title:"Stream of Consciousness",isLast:!0,children:ye?m.jsxs("div",{className:"pl-2 relative max-w-2xl",children:[m.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-violet-200 dark:bg-violet-900"}),m.jsxs("div",{className:"pl-6",children:[m.jsxs("p",{className:"font-serif italic text-lg text-neutral-700 dark:text-neutral-300 leading-relaxed",children:['"',ye.text,'..."']}),m.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[m.jsx("div",{className:"h-px w-8 bg-violet-300"}),m.jsxs("div",{className:"text-xs font-bold text-violet-500 uppercase tracking-widest",children:["Entry  ",new Date(ye.date).toLocaleDateString()]})]})]})]}):m.jsx(Pu,{icon:Vb,title:"Journal is empty.",subtitle:"Write an entry to see it here."})})]})]})}function m8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=m8(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=m8(t))&&(r&&(r+=" "),r+=e);return r}const vue=(t,e,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const i=Object.getOwnPropertyDescriptor(t,n),s=Object.getOwnPropertyDescriptor(e,n);!bue(i,s)&&r||Object.defineProperty(t,n,s)},bue=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},xue=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},wue=(t,e)=>`/* Wrapped ${t}*/
${e}`,Sue=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Tue=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Eue=(t,e,n)=>{const r=n===""?"":`with ${n.trim()}() `,i=wue.bind(null,r,e.toString());Object.defineProperty(i,"name",Tue);const{writable:s,enumerable:a,configurable:l}=Sue;Object.defineProperty(t,"toString",{value:i,writable:s,enumerable:a,configurable:l})};function kue(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:r}=t;for(const i of Reflect.ownKeys(e))vue(t,e,i,n);return xue(t,e),Eue(t,e,r),t}const _ue=new WeakMap,R4=new WeakMap;function g8(t,{cacheKey:e,cache:n=new Map,maxAge:r}={}){if(r===0)return t;if(typeof r=="number"){if(r>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(r<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const i=function(...s){const a=e?e(s):s[0],l=n.get(a);if(l)return l.data;const c=t.apply(this,s),d=typeof r=="function"?r(...s):r;if(n.set(a,{data:c,maxAge:d?Date.now()+d:Number.POSITIVE_INFINITY}),d&&d>0&&d!==Number.POSITIVE_INFINITY){const f=setTimeout(()=>{n.delete(a)},d);f.unref?.();const p=R4.get(t)??new Set;p.add(f),R4.set(t,p)}return c};return kue(i,t,{ignoreNonConfigurable:!0}),_ue.set(i,n),i}function Aue(t){return typeof t=="string"}function Cue(t,e,n){return n.indexOf(t)===e}function Nue(t){return t.toLowerCase()===t}function L4(t){return t.indexOf(",")===-1?t:t.split(",")}function NA(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return NA(n)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],n=r===void 0?"":r;return NA(n)}if(t.indexOf("-")===-1||!Nue(t))return t;var i=t.split("-"),s=i[0],a=i[1],l=a===void 0?"":a;return"".concat(s,"-").concat(l.toUpperCase())}function Oue(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,r=n===void 0?!0:n,i=e.fallbackLocale,s=i===void 0?"en-US":i,a=[];if(typeof navigator<"u"){for(var l=navigator.languages||[],c=[],d=0,f=l;d<f.length;d++){var p=f[d];c=c.concat(L4(p))}var g=navigator.language,v=g&&L4(g);a=a.concat(c,v)}return r&&a.push(s),a.filter(Aue).map(NA).filter(Cue)}var Mue=g8(Oue,{cacheKey:JSON.stringify});function jue(t){return Mue(t)[0]||null}var y8=g8(jue,{cacheKey:JSON.stringify});function il(t,e,n){return function(i,s=n){const a=t(i)+s;return e(a)}}function o0(t){return function(n){return new Date(t(n).getTime()-1)}}function l0(t,e){return function(r){return[t(r),e(r)]}}function tn(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function Gc(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function Hw(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function Hh(t){const e=tn(t),n=e+(-e+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const Iue=il(tn,Hh,-100),v8=il(tn,Hh,100),BN=o0(v8),Due=il(tn,BN,-100),b8=l0(Hh,BN);function Kc(t){const e=tn(t),n=e+(-e+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const x8=il(tn,Kc,-10),zN=il(tn,Kc,10),qw=o0(zN),w8=il(tn,qw,-10),S8=l0(Kc,qw);function qh(t){const e=tn(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const T8=il(tn,qh,-1),UN=il(tn,qh,1),Ww=o0(UN),E8=il(tn,Ww,-1),Pue=l0(qh,Ww);function FN(t,e){return function(r,i=e){const s=tn(r),a=Gc(r)+i,l=new Date;return l.setFullYear(s,a,1),l.setHours(0,0,0,0),t(l)}}function Pd(t){const e=tn(t),n=Gc(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}const k8=FN(Pd,-1),$N=FN(Pd,1),c0=o0($N),_8=FN(c0,-1),Rue=l0(Pd,c0);function Lue(t,e){return function(r,i=e){const s=tn(r),a=Gc(r),l=Hw(r)+i,c=new Date;return c.setFullYear(s,a,l),c.setHours(0,0,0,0),t(c)}}function u0(t){const e=tn(t),n=Gc(t),r=Hw(t),i=new Date;return i.setFullYear(e,n,r),i.setHours(0,0,0,0),i}const Vue=Lue(u0,1),HN=o0(Vue),Bue=l0(u0,HN);function A8(t){return Hw(c0(t))}var _r={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},zue={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},qN=[0,1,2,3,4,5,6],bE=new Map;function Uue(t){return function(n,r){var i=n||y8();bE.has(i)||bE.set(i,new Map);var s=bE.get(i);return s.has(t)||s.set(t,new Intl.DateTimeFormat(i||void 0,t).format),s.get(t)(r)}}function Fue(t){var e=new Date(t);return new Date(e.setHours(12))}function Rd(t){return function(e,n){return Uue(t)(e,Fue(n))}}var $ue={day:"numeric"},Hue={day:"numeric",month:"long",year:"numeric"},que={month:"long"},Wue={month:"long",year:"numeric"},Gue={weekday:"short"},Kue={weekday:"long"},Yue={year:"numeric"},Xue=Rd($ue),Que=Rd(Hue),Jue=Rd(que),C8=Rd(Wue),Zue=Rd(Gue),ede=Rd(Kue),Gw=Rd(Yue),tde=qN[0],nde=qN[5],V4=qN[6];function mg(t,e){e===void 0&&(e=_r.ISO_8601);var n=t.getDay();switch(e){case _r.ISO_8601:return(n+6)%7;case _r.ISLAMIC:return(n+1)%7;case _r.HEBREW:case _r.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function rde(t){var e=Hh(t);return tn(e)}function ide(t){var e=Kc(t);return tn(e)}function OA(t,e){e===void 0&&(e=_r.ISO_8601);var n=tn(t),r=Gc(t),i=t.getDate()-mg(t,e);return new Date(n,r,i)}function sde(t,e){e===void 0&&(e=_r.ISO_8601);var n=e===_r.GREGORY?_r.GREGORY:_r.ISO_8601,r=OA(t,e),i=tn(t)+1,s,a;do s=new Date(i,0,n===_r.ISO_8601?4:1),a=OA(s,e),i-=1;while(t<a);return Math.round((r.getTime()-a.getTime())/(864e5*7))+1}function sd(t,e){switch(t){case"century":return Hh(e);case"decade":return Kc(e);case"year":return qh(e);case"month":return Pd(e);case"day":return u0(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function ade(t,e){switch(t){case"century":return Iue(e);case"decade":return x8(e);case"year":return T8(e);case"month":return k8(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function N8(t,e){switch(t){case"century":return v8(e);case"decade":return zN(e);case"year":return UN(e);case"month":return $N(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function ode(t,e){switch(t){case"decade":return x8(e,-100);case"year":return T8(e,-10);case"month":return k8(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function lde(t,e){switch(t){case"decade":return zN(e,100);case"year":return UN(e,10);case"month":return $N(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function O8(t,e){switch(t){case"century":return BN(e);case"decade":return qw(e);case"year":return Ww(e);case"month":return c0(e);case"day":return HN(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function cde(t,e){switch(t){case"century":return Due(e);case"decade":return w8(e);case"year":return E8(e);case"month":return _8(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function ude(t,e){switch(t){case"decade":return w8(e,-100);case"year":return E8(e,-10);case"month":return _8(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function B4(t,e){switch(t){case"century":return b8(e);case"decade":return S8(e);case"year":return Pue(e);case"month":return Rue(e);case"day":return Bue(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function dde(t,e,n){var r=[e,n].sort(function(i,s){return i.getTime()-s.getTime()});return[sd(t,r[0]),O8(t,r[1])]}function M8(t,e,n){return n.map(function(r){return(e||Gw)(t,r)}).join("  ")}function fde(t,e,n){return M8(t,e,b8(n))}function j8(t,e,n){return M8(t,e,S8(n))}function hde(t){return t.getDay()===new Date().getDay()}function I8(t,e){e===void 0&&(e=_r.ISO_8601);var n=t.getDay();switch(e){case _r.ISLAMIC:case _r.HEBREW:return n===nde||n===V4;case _r.ISO_8601:case _r.GREGORY:return n===V4||n===tde;default:throw new Error("Unsupported calendar type.")}}var Na="react-calendar__navigation";function pde(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,i=r===void 0?C8:r,s=t.formatYear,a=s===void 0?Gw:s,l=t.locale,c=t.maxDate,d=t.minDate,f=t.navigationAriaLabel,p=f===void 0?"":f,g=t.navigationAriaLive,v=t.navigationLabel,b=t.next2AriaLabel,E=b===void 0?"":b,S=t.next2Label,k=S===void 0?"":S,C=t.nextAriaLabel,O=C===void 0?"":C,z=t.nextLabel,P=z===void 0?"":z,U=t.prev2AriaLabel,I=U===void 0?"":U,j=t.prev2Label,M=j===void 0?"":j,R=t.prevAriaLabel,V=R===void 0?"":R,L=t.prevLabel,B=L===void 0?"":L,X=t.setActiveStartDate,ae=t.showDoubleView,W=t.view,Y=t.views,le=Y.indexOf(W)>0,he=W!=="century",Se=ade(W,e),H=he?ode(W,e):void 0,ne=N8(W,e),ye=he?lde(W,e):void 0,be=(function(){if(Se.getFullYear()<0)return!0;var Me=cde(W,e);return d&&d>=Me})(),ke=he&&(function(){if(H.getFullYear()<0)return!0;var Me=ude(W,e);return d&&d>=Me})(),pe=c&&c<ne,we=he&&c&&c<ye;function et(){X(Se,"prev")}function ie(){X(H,"prev2")}function Ce(){X(ne,"next")}function Re(){X(ye,"next2")}function me(Me){var Vt=(function(){switch(W){case"century":return fde(l,a,Me);case"decade":return j8(l,a,Me);case"year":return a(l,Me);case"month":return i(l,Me);default:throw new Error("Invalid view: ".concat(W,"."))}})();return v?v({date:Me,label:Vt,locale:l||y8()||void 0,view:W}):Vt}function dt(){var Me="".concat(Na,"__label");return m.jsxs("button",{"aria-label":p,"aria-live":g,className:Me,disabled:!le,onClick:n,style:{flexGrow:1},type:"button",children:[m.jsx("span",{className:"".concat(Me,"__labelText ").concat(Me,"__labelText--from"),children:me(e)}),ae?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"".concat(Me,"__divider"),children:"  "}),m.jsx("span",{className:"".concat(Me,"__labelText ").concat(Me,"__labelText--to"),children:me(ne)})]}):null]})}return m.jsxs("div",{className:Na,children:[M!==null&&he?m.jsx("button",{"aria-label":I,className:"".concat(Na,"__arrow ").concat(Na,"__prev2-button"),disabled:ke,onClick:ie,type:"button",children:M}):null,B!==null&&m.jsx("button",{"aria-label":V,className:"".concat(Na,"__arrow ").concat(Na,"__prev-button"),disabled:be,onClick:et,type:"button",children:B}),dt(),P!==null&&m.jsx("button",{"aria-label":O,className:"".concat(Na,"__arrow ").concat(Na,"__next-button"),disabled:pe,onClick:Ce,type:"button",children:P}),k!==null&&he?m.jsx("button",{"aria-label":E,className:"".concat(Na,"__arrow ").concat(Na,"__next2-button"),disabled:we,onClick:Re,type:"button",children:k}):null]})}var Xf=function(){return Xf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xf.apply(this,arguments)},mde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function z4(t){return"".concat(t,"%")}function WN(t){var e=t.children,n=t.className,r=t.count,i=t.direction,s=t.offset,a=t.style,l=t.wrap,c=mde(t,["children","className","count","direction","offset","style","wrap"]);return m.jsx("div",Xf({className:n,style:Xf({display:"flex",flexDirection:i,flexWrap:l?"wrap":"nowrap"},a)},c,{children:_.Children.map(e,function(d,f){var p=s&&f===0?z4(100*s/r):null;return _.cloneElement(d,Xf(Xf({},d.props),{style:{flexBasis:z4(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:p,marginInlineStart:p,marginInlineEnd:0}}))})}))}function gde(t,e,n){return e&&e>t?e:n&&n<t?n:t}function gg(t,e){return e[0]<=t&&e[1]>=t}function yde(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function D8(t,e){return gg(t[0],e)||gg(t[1],e)}function U4(t,e,n){var r=D8(e,t),i=[];if(r){i.push(n);var s=gg(t[0],e),a=gg(t[1],e);s&&i.push("".concat(n,"Start")),a&&i.push("".concat(n,"End")),s&&a&&i.push("".concat(n,"BothEnds"))}return i}function vde(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function bde(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,i="react-calendar__tile",s=[i];if(!n)return s;var a=new Date,l=(function(){if(Array.isArray(n))return n;var v=t.dateType;if(!v)throw new Error("dateType is required when date is not an array of two dates");return B4(v,n)})();if(gg(a,l)&&s.push("".concat(i,"--now")),!e||!vde(e))return s;var c=(function(){if(Array.isArray(e))return e;var v=t.valueType;if(!v)throw new Error("valueType is required when value is not an array of two dates");return B4(v,e)})();yde(c,l)?s.push("".concat(i,"--active")):D8(c,l)&&s.push("".concat(i,"--hasActive"));var d=U4(c,l,"".concat(i,"--range"));s.push.apply(s,d);var f=Array.isArray(e)?e:[e];if(r&&f.length===1){var p=r>c[0]?[c[0],r]:[r,c[0]],g=U4(p,l,"".concat(i,"--hover"));s.push.apply(s,g)}return s}function Kw(t){for(var e=t.className,n=t.count,r=n===void 0?3:n,i=t.dateTransform,s=t.dateType,a=t.end,l=t.hover,c=t.offset,d=t.renderTile,f=t.start,p=t.step,g=p===void 0?1:p,v=t.value,b=t.valueType,E=[],S=f;S<=a;S+=g){var k=i(S);E.push(d({classes:bde({date:k,dateType:s,hover:l,value:v,valueType:b}),date:k}))}return m.jsx(WN,{className:e,count:r,offset:c,wrap:!0,children:E})}function Yw(t){var e=t.activeStartDate,n=t.children,r=t.classes,i=t.date,s=t.formatAbbr,a=t.locale,l=t.maxDate,c=t.maxDateTransform,d=t.minDate,f=t.minDateTransform,p=t.onClick,g=t.onMouseOver,v=t.style,b=t.tileClassName,E=t.tileContent,S=t.tileDisabled,k=t.view,C=_.useMemo(function(){var z={activeStartDate:e,date:i,view:k};return typeof b=="function"?b(z):b},[e,i,b,k]),O=_.useMemo(function(){var z={activeStartDate:e,date:i,view:k};return typeof E=="function"?E(z):E},[e,i,E,k]);return m.jsxs("button",{className:yt(r,C),disabled:d&&f(d)>i||l&&c(l)<i||S?.({activeStartDate:e,date:i,view:k}),onClick:p?function(z){return p(i,z)}:void 0,onFocus:g?function(){return g(i)}:void 0,onMouseOver:g?function(){return g(i)}:void 0,style:v,type:"button",children:[s?m.jsx("abbr",{"aria-label":s(a,i),children:n}):n,O]})}var MA=function(){return MA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},MA.apply(this,arguments)},xde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},F4="react-calendar__century-view__decades__decade";function wde(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentCentury,i=t.formatYear,s=i===void 0?Gw:i,a=xde(t,["classes","currentCentury","formatYear"]),l=a.date,c=a.locale,d=[];return n&&d.push.apply(d,n),d.push(F4),Hh(l).getFullYear()!==r&&d.push("".concat(F4,"--neighboringCentury")),m.jsx(Yw,MA({},a,{classes:d,maxDateTransform:qw,minDateTransform:Kc,view:"century",children:j8(c,s,l)}))}var jA=function(){return jA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},jA.apply(this,arguments)},$4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Sde(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,i=t.value,s=t.valueType,a=$4(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),l=rde(e),c=l+(r?119:99);return m.jsx(Kw,{className:"react-calendar__century-view__decades",dateTransform:Kc,dateType:"decade",end:c,hover:n,renderTile:function(d){var f=d.date,p=$4(d,["date"]);return m.jsx(wde,jA({},a,p,{activeStartDate:e,currentCentury:l,date:f}),f.getTime())},start:l,step:10,value:i,valueType:s})}var IA=function(){return IA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},IA.apply(this,arguments)};function Tde(t){function e(){return m.jsx(Sde,IA({},t))}return m.jsx("div",{className:"react-calendar__century-view",children:e()})}var DA=function(){return DA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},DA.apply(this,arguments)},Ede=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},H4="react-calendar__decade-view__years__year";function kde(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentDecade,i=t.formatYear,s=i===void 0?Gw:i,a=Ede(t,["classes","currentDecade","formatYear"]),l=a.date,c=a.locale,d=[];return n&&d.push.apply(d,n),d.push(H4),Kc(l).getFullYear()!==r&&d.push("".concat(H4,"--neighboringDecade")),m.jsx(Yw,DA({},a,{classes:d,maxDateTransform:Ww,minDateTransform:qh,view:"decade",children:s(c,l)}))}var PA=function(){return PA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},PA.apply(this,arguments)},q4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function _de(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,i=t.value,s=t.valueType,a=q4(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),l=ide(e),c=l+(r?11:9);return m.jsx(Kw,{className:"react-calendar__decade-view__years",dateTransform:qh,dateType:"year",end:c,hover:n,renderTile:function(d){var f=d.date,p=q4(d,["date"]);return m.jsx(kde,PA({},a,p,{activeStartDate:e,currentDecade:l,date:f}),f.getTime())},start:l,value:i,valueType:s})}var RA=function(){return RA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},RA.apply(this,arguments)};function Ade(t){function e(){return m.jsx(_de,RA({},t))}return m.jsx("div",{className:"react-calendar__decade-view",children:e()})}var LA=function(){return LA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},LA.apply(this,arguments)},Cde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},W4=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Nde="react-calendar__year-view__months__month";function Ode(t){var e=t.classes,n=e===void 0?[]:e,r=t.formatMonth,i=r===void 0?Jue:r,s=t.formatMonthYear,a=s===void 0?C8:s,l=Cde(t,["classes","formatMonth","formatMonthYear"]),c=l.date,d=l.locale;return m.jsx(Yw,LA({},l,{classes:W4(W4([],n,!0),[Nde],!1),formatAbbr:a,maxDateTransform:c0,minDateTransform:Pd,view:"year",children:i(d,c)}))}var VA=function(){return VA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},VA.apply(this,arguments)},G4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Mde(t){var e=t.activeStartDate,n=t.hover,r=t.value,i=t.valueType,s=G4(t,["activeStartDate","hover","value","valueType"]),a=0,l=11,c=tn(e);return m.jsx(Kw,{className:"react-calendar__year-view__months",dateTransform:function(d){var f=new Date;return f.setFullYear(c,d,1),Pd(f)},dateType:"month",end:l,hover:n,renderTile:function(d){var f=d.date,p=G4(d,["date"]);return m.jsx(Ode,VA({},s,p,{activeStartDate:e,date:f}),f.getTime())},start:a,value:r,valueType:i})}var BA=function(){return BA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},BA.apply(this,arguments)};function jde(t){function e(){return m.jsx(Mde,BA({},t))}return m.jsx("div",{className:"react-calendar__year-view",children:e()})}var zA=function(){return zA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},zA.apply(this,arguments)},Ide=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},xE="react-calendar__month-view__days__day";function Dde(t){var e=t.calendarType,n=t.classes,r=n===void 0?[]:n,i=t.currentMonthIndex,s=t.formatDay,a=s===void 0?Xue:s,l=t.formatLongDate,c=l===void 0?Que:l,d=Ide(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),f=d.date,p=d.locale,g=[];return r&&g.push.apply(g,r),g.push(xE),I8(f,e)&&g.push("".concat(xE,"--weekend")),f.getMonth()!==i&&g.push("".concat(xE,"--neighboringMonth")),m.jsx(Yw,zA({},d,{classes:g,formatAbbr:c,maxDateTransform:HN,minDateTransform:u0,view:"month",children:a(p,f)}))}var UA=function(){return UA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},UA.apply(this,arguments)},K4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Pde(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,i=t.showFixedNumberOfWeeks,s=t.showNeighboringMonth,a=t.value,l=t.valueType,c=K4(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),d=tn(e),f=Gc(e),p=i||s,g=mg(e,n),v=p?0:g,b=(p?-g:0)+1,E=(function(){if(i)return b+42-1;var S=A8(e);if(s){var k=new Date;k.setFullYear(d,f,S),k.setHours(0,0,0,0);var C=7-mg(k,n)-1;return S+C}return S})();return m.jsx(Kw,{className:"react-calendar__month-view__days",count:7,dateTransform:function(S){var k=new Date;return k.setFullYear(d,f,S),u0(k)},dateType:"day",hover:r,end:E,renderTile:function(S){var k=S.date,C=K4(S,["date"]);return m.jsx(Dde,UA({},c,C,{activeStartDate:e,calendarType:n,currentMonthIndex:f,date:k}),k.getTime())},offset:v,start:b,value:a,valueType:l})}var P8="react-calendar__month-view__weekdays",wE="".concat(P8,"__weekday");function Rde(t){for(var e=t.calendarType,n=t.formatShortWeekday,r=n===void 0?Zue:n,i=t.formatWeekday,s=i===void 0?ede:i,a=t.locale,l=t.onMouseLeave,c=new Date,d=Pd(c),f=tn(d),p=Gc(d),g=[],v=1;v<=7;v+=1){var b=new Date(f,p,v-mg(d,e)),E=s(a,b);g.push(m.jsx("div",{className:yt(wE,hde(b)&&"".concat(wE,"--current"),I8(b,e)&&"".concat(wE,"--weekend")),children:m.jsx("abbr",{"aria-label":E,title:E,children:r(a,b).replace(".","")})},v))}return m.jsx(WN,{className:P8,count:7,onFocus:l,onMouseOver:l,children:g})}var Bb=function(){return Bb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Bb.apply(this,arguments)},Y4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},X4="react-calendar__tile";function Lde(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=m.jsx("span",{children:n});if(e){var i=t.date,s=t.onClickWeekNumber,a=t.weekNumber,l=Y4(t,["date","onClickWeekNumber","weekNumber"]);return m.jsx("button",Bb({},l,{className:X4,onClick:function(c){return s(a,i,c)},type:"button",children:r}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var l=Y4(t,["date","onClickWeekNumber","weekNumber"]);return m.jsx("div",Bb({},l,{className:X4,children:r}))}}function Vde(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,i=t.onMouseLeave,s=t.showFixedNumberOfWeeks,a=(function(){if(s)return 6;var d=A8(e),f=mg(e,n),p=d-(7-f);return 1+Math.ceil(p/7)})(),l=(function(){for(var d=tn(e),f=Gc(e),p=Hw(e),g=[],v=0;v<a;v+=1)g.push(OA(new Date(d,f,p+v*7),n));return g})(),c=l.map(function(d){return sde(d,n)});return m.jsx(WN,{className:"react-calendar__month-view__weekNumbers",count:a,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:c.map(function(d,f){var p=l[f];if(!p)throw new Error("date is not defined");return m.jsx(Lde,{date:p,onClickWeekNumber:r,weekNumber:d},d)})})}var FA=function(){return FA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},FA.apply(this,arguments)},Bde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function zde(t){if(t)for(var e=0,n=Object.entries(zue);e<n.length;e++){var r=n[e],i=r[0],s=r[1];if(s.includes(t))return i}return _r.ISO_8601}function Ude(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,i=t.showFixedNumberOfWeeks,s=t.calendarType,a=s===void 0?zde(n):s,l=t.formatShortWeekday,c=t.formatWeekday,d=t.onClickWeekNumber,f=t.showWeekNumbers,p=Bde(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function g(){return m.jsx(Rde,{calendarType:a,formatShortWeekday:l,formatWeekday:c,locale:n,onMouseLeave:r})}function v(){return f?m.jsx(Vde,{activeStartDate:e,calendarType:a,onClickWeekNumber:d,onMouseLeave:r,showFixedNumberOfWeeks:i}):null}function b(){return m.jsx(Pde,FA({calendarType:a},p))}var E="react-calendar__month-view";return m.jsx("div",{className:yt(E,f?"".concat(E,"--weekNumbers"):""),children:m.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[v(),m.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[g(),b()]})]})})}var Qf=function(){return Qf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Qf.apply(this,arguments)},cv="react-calendar",eb=["century","decade","year","month"],Fde=["decade","year","month","day"],GN=new Date;GN.setFullYear(1,0,1);GN.setHours(0,0,0,0);var $de=new Date(864e13);function Sm(t){return t instanceof Date?t:new Date(t)}function R8(t,e){return eb.slice(eb.indexOf(t),eb.indexOf(e)+1)}function Hde(t,e,n){var r=R8(e,n);return r.indexOf(t)!==-1}function KN(t,e,n){return t&&Hde(t,e,n)?t:n}function L8(t){var e=eb.indexOf(t);return Fde[e]}function qde(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=Sm(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function V8(t,e){var n=t.value,r=t.minDate,i=t.maxDate,s=t.maxDetail,a=qde(n,e);if(!a)return null;var l=L8(s),c=(function(){switch(e){case 0:return sd(l,a);case 1:return O8(l,a);default:throw new Error("Invalid index value: ".concat(e))}})();return gde(c,r,i)}var YN=function(t){return V8(t,0)},B8=function(t){return V8(t,1)},Wde=function(t){return[YN,B8].map(function(e){return e(t)})};function z8(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,i=t.minDetail,s=t.value,a=t.view,l=KN(a,i,n),c=YN({value:s,minDate:r,maxDate:e,maxDetail:n})||new Date;return sd(l,c)}function Gde(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,i=t.defaultView,s=t.maxDate,a=t.maxDetail,l=t.minDate,c=t.minDetail,d=t.value,f=t.view,p=KN(f,c,a),g=e||n;return g?sd(p,g):z8({maxDate:s,maxDetail:a,minDate:l,minDetail:c,value:d||r,view:f||i})}function SE(t){return t&&(!Array.isArray(t)||t.length===1)}function uv(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var Kde=_.forwardRef(function(e,n){var r=e.activeStartDate,i=e.allowPartialRange,s=e.calendarType,a=e.className,l=e.defaultActiveStartDate,c=e.defaultValue,d=e.defaultView,f=e.formatDay,p=e.formatLongDate,g=e.formatMonth,v=e.formatMonthYear,b=e.formatShortWeekday,E=e.formatWeekday,S=e.formatYear,k=e.goToRangeStartOnSelect,C=k===void 0?!0:k,O=e.inputRef,z=e.locale,P=e.maxDate,U=P===void 0?$de:P,I=e.maxDetail,j=I===void 0?"month":I,M=e.minDate,R=M===void 0?GN:M,V=e.minDetail,L=V===void 0?"century":V,B=e.navigationAriaLabel,X=e.navigationAriaLive,ae=e.navigationLabel,W=e.next2AriaLabel,Y=e.next2Label,le=e.nextAriaLabel,he=e.nextLabel,Se=e.onActiveStartDateChange,H=e.onChange,ne=e.onClickDay,ye=e.onClickDecade,be=e.onClickMonth,ke=e.onClickWeekNumber,pe=e.onClickYear,we=e.onDrillDown,et=e.onDrillUp,ie=e.onViewChange,Ce=e.prev2AriaLabel,Re=e.prev2Label,me=e.prevAriaLabel,dt=e.prevLabel,Me=e.returnValue,Vt=Me===void 0?"start":Me,ct=e.selectRange,Zn=e.showDoubleView,Rs=e.showFixedNumberOfWeeks,nn=e.showNavigation,vn=nn===void 0?!0:nn,ca=e.showNeighboringCentury,tp=e.showNeighboringDecade,nu=e.showNeighboringMonth,fr=nu===void 0?!0:nu,no=e.showWeekNumbers,ru=e.tileClassName,iu=e.tileContent,ua=e.tileDisabled,su=e.value,au=e.view,ou=_.useState(l),Ud=ou[0],Mr=ou[1],kn=_.useState(null),oi=kn[0],Kt=kn[1],lu=_.useState(Array.isArray(c)?c.map(function(Ge){return Ge!==null?Sm(Ge):null}):c!=null?Sm(c):null),da=lu[0],Fd=lu[1],Ai=_.useState(d),ro=Ai[0],rn=Ai[1],Bt=r||Ud||Gde({activeStartDate:r,defaultActiveStartDate:l,defaultValue:c,defaultView:d,maxDate:U,maxDetail:j,minDate:R,minDetail:L,value:su,view:au}),zt=(function(){var Ge=(function(){return ct&&SE(da)?da:su!==void 0?su:da})();return Ge?Array.isArray(Ge)?Ge.map(function(Pt){return Pt!==null?Sm(Pt):null}):Ge!==null?Sm(Ge):null:null})(),jr=L8(j),Ot=KN(au||ro,L,j),Wr=R8(L,j),Ki=ct?oi:null,Ls=Wr.indexOf(Ot)<Wr.length-1,$d=Wr.indexOf(Ot)>0,fa=_.useCallback(function(Ge){var Pt=(function(){switch(Vt){case"start":return YN;case"end":return B8;case"range":return Wde;default:throw new Error("Invalid returnValue.")}})();return Pt({maxDate:U,maxDetail:j,minDate:R,value:Ge})},[U,j,R,Vt]),io=_.useCallback(function(Ge,Pt){Mr(Ge);var Ut={action:Pt,activeStartDate:Ge,value:zt,view:Ot};Se&&!uv(Bt,Ge)&&Se(Ut)},[Bt,Se,zt,Ot]),ha=_.useCallback(function(Ge,Pt){var Ut=(function(){switch(Ot){case"century":return ye;case"decade":return pe;case"year":return be;case"month":return ne;default:throw new Error("Invalid view: ".concat(Ot,"."))}})();Ut&&Ut(Ge,Pt)},[ne,ye,be,pe,Ot]),Vs=_.useCallback(function(Ge,Pt){if(Ls){ha(Ge,Pt);var Ut=Wr[Wr.indexOf(Ot)+1];if(!Ut)throw new Error("Attempted to drill down from the lowest view.");Mr(Ge),rn(Ut);var Ir={action:"drillDown",activeStartDate:Ge,value:zt,view:Ut};Se&&!uv(Bt,Ge)&&Se(Ir),ie&&Ot!==Ut&&ie(Ir),we&&we(Ir)}},[Bt,Ls,Se,ha,we,ie,zt,Ot,Wr]),Ci=_.useCallback(function(){if($d){var Ge=Wr[Wr.indexOf(Ot)-1];if(!Ge)throw new Error("Attempted to drill up from the highest view.");var Pt=sd(Ge,Bt);Mr(Pt),rn(Ge);var Ut={action:"drillUp",activeStartDate:Pt,value:zt,view:Ge};Se&&!uv(Bt,Pt)&&Se(Ut),ie&&Ot!==Ge&&ie(Ut),et&&et(Ut)}},[Bt,$d,Se,et,ie,zt,Ot,Wr]),pl=_.useCallback(function(Ge,Pt){var Ut=zt;ha(Ge,Pt);var Ir=ct&&!SE(Ut),un;if(ct)if(Ir)un=sd(jr,Ge);else{if(!Ut)throw new Error("previousValue is required");if(Array.isArray(Ut))throw new Error("previousValue must not be an array");un=dde(jr,Ut,Ge)}else un=fa(Ge);var pa=!ct||Ir||C?z8({maxDate:U,maxDetail:j,minDate:R,minDetail:L,value:un,view:Ot}):null;Pt.persist(),Mr(pa),Fd(un);var Xi={action:"onChange",activeStartDate:pa,value:un,view:Ot};if(Se&&!uv(Bt,pa)&&Se(Xi),H)if(ct){var li=SE(un);if(!li)H(un||null,Pt);else if(i){if(Array.isArray(un))throw new Error("value must not be an array");H([un||null,null],Pt)}}else H(un||null,Pt)},[Bt,i,fa,C,U,j,R,L,Se,H,ha,ct,zt,jr,Ot]);function Ni(Ge){Kt(Ge)}function Gr(){Kt(null)}_.useImperativeHandle(n,function(){return{activeStartDate:Bt,drillDown:Vs,drillUp:Ci,onChange:pl,setActiveStartDate:io,value:zt,view:Ot}},[Bt,Vs,Ci,pl,io,zt,Ot]);function sn(Ge){var Pt=Ge?N8(Ot,Bt):sd(Ot,Bt),Ut=Ls?Vs:pl,Ir={activeStartDate:Pt,hover:Ki,locale:z,maxDate:U,minDate:R,onClick:Ut,onMouseOver:ct?Ni:void 0,tileClassName:ru,tileContent:iu,tileDisabled:ua,value:zt,valueType:jr};switch(Ot){case"century":return m.jsx(Tde,Qf({formatYear:S,showNeighboringCentury:ca},Ir));case"decade":return m.jsx(Ade,Qf({formatYear:S,showNeighboringDecade:tp},Ir));case"year":return m.jsx(jde,Qf({formatMonth:g,formatMonthYear:v},Ir));case"month":return m.jsx(Ude,Qf({calendarType:s,formatDay:f,formatLongDate:p,formatShortWeekday:b,formatWeekday:E,onClickWeekNumber:ke,onMouseLeave:ct?Gr:void 0,showFixedNumberOfWeeks:typeof Rs<"u"?Rs:Zn,showNeighboringMonth:fr,showWeekNumbers:no},Ir));default:throw new Error("Invalid view: ".concat(Ot,"."))}}function _n(){return vn?m.jsx(pde,{activeStartDate:Bt,drillUp:Ci,formatMonthYear:v,formatYear:S,locale:z,maxDate:U,minDate:R,navigationAriaLabel:B,navigationAriaLive:X,navigationLabel:ae,next2AriaLabel:W,next2Label:Y,nextAriaLabel:le,nextLabel:he,prev2AriaLabel:Ce,prev2Label:Re,prevAriaLabel:me,prevLabel:dt,setActiveStartDate:io,showDoubleView:Zn,view:Ot,views:Wr}):null}var Yi=Array.isArray(zt)?zt:[zt];return m.jsxs("div",{className:yt(cv,ct&&Yi.length===1&&"".concat(cv,"--selectRange"),Zn&&"".concat(cv,"--doubleView"),a),ref:O,children:[_n(),m.jsxs("div",{className:"".concat(cv,"__viewContainer"),onBlur:ct?Gr:void 0,onMouseLeave:ct?Gr:void 0,children:[sn(),Zn?sn(!0):null]})]})}),XN=Kz();const Yde=eo(XN);var TE={exports:{}},EE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q4;function Xde(){if(Q4)return EE;Q4=1;var t=jh();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function l(p,g){var v=g(),b=r({inst:{value:v,getSnapshot:g}}),E=b[0].inst,S=b[1];return s(function(){E.value=v,E.getSnapshot=g,c(E)&&S({inst:E})},[p,v,g]),i(function(){return c(E)&&S({inst:E}),p(function(){c(E)&&S({inst:E})})},[p]),a(v),v}function c(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!n(p,v)}catch{return!0}}function d(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return EE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,EE}var J4;function U8(){return J4||(J4=1,TE.exports=Xde()),TE.exports}var F8=U8();function br(t){this.content=t}br.prototype={constructor:br,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new br(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new br(n)},addToStart:function(t,e){return new br([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new br(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new br(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=br.from(t),t.size?new br(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=br.from(t),t.size?new br(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=br.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};br.from=function(t){if(t instanceof br)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new br(e)};function $8(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){let a=$8(i.content,s.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function H8(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let a=t.child(--i),l=e.child(--s),c=a.nodeSize;if(a==l){n-=c,r-=c;continue}if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let d=0,f=Math.min(a.text.length,l.text.length);for(;d<f&&a.text[a.text.length-d-1]==l.text[l.text.length-d-1];)d++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let d=H8(a.content,l.content,n-1,r-1);if(d)return d}n-=c,r-=c}}class ge{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let a=0,l=0;l<n;a++){let c=this.content[a],d=l+c.nodeSize;if(d>e&&r(c,i+l,s||null,a)!==!1&&c.content.size){let f=l+1;c.nodesBetween(Math.max(0,e-f),Math.min(c.content.size,n-f),r,i+f)}l=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",a=!0;return this.nodesBetween(e,n,(l,c)=>{let d=l.isText?l.text.slice(Math.max(e,c)-c,n-c):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&d||l.isTextblock)&&r&&(a?a=!1:s+=r),s+=d},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new ge(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;c>e&&((a<e||c>n)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,n-a-1))),r.push(l),i+=l.nodeSize),a=c}return new ge(r,i)}cutByIndex(e,n){return e==n?ge.empty:e==0&&n==this.content.length?this:new ge(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new ge(i,s)}addToStart(e){return new ge([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ge(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return $8(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return H8(this,e,n,r)}findIndex(e){if(e==0)return dv(0,e);if(e==this.size)return dv(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?dv(n+1,s):dv(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ge.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ge(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ge.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new ge(n||e,r)}static from(e){if(!e)return ge.empty;if(e instanceof ge)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ge([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ge.empty=new ge([],0);const kE={index:0,offset:0};function dv(t,e){return kE.index=t,kE.offset=e,kE}function zb(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!zb(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!zb(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let jt=class $A{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&zb(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return $A.none;if(e instanceof $A)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};jt.none=[];class Ub extends Error{}class Ee{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=W8(this.content,e+this.openStart,n);return r&&new Ee(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Ee(q8(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Ee.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ee(ge.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new Ee(e,r,i)}}Ee.empty=new Ee(ge.empty,0,0);function q8(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:a,offset:l}=t.findIndex(n);if(i==e||s.isText){if(l!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(q8(s.content,e-i-1,n-i-1)))}function W8(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=W8(a.content,e-s-1,n,a);return l&&t.replaceChild(i,a.copy(l))}function Qde(t,e,n){if(n.openStart>t.depth)throw new Ub("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Ub("Inconsistent open depths");return G8(t,e,n,0)}function G8(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let a=G8(t,e,n,r+1);return s.copy(s.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,l=a.content;return od(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:a,end:l}=Jde(n,t);return od(s,Y8(t,a,l,e,r))}else return od(s,Fb(t,e,r))}function K8(t,e){if(!e.type.compatibleContent(t.type))throw new Ub("Cannot join "+e.type.name+" onto "+t.type.name)}function HA(t,e,n){let r=t.node(n);return K8(r,e.node(n)),r}function ad(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Um(t,e,n,r){let i=(e||t).node(n),s=0,a=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(ad(t.nodeAfter,r),s++));for(let l=s;l<a;l++)ad(i.child(l),r);e&&e.depth==n&&e.textOffset&&ad(e.nodeBefore,r)}function od(t,e){return t.type.checkContent(e),t.copy(e)}function Y8(t,e,n,r,i){let s=t.depth>i&&HA(t,e,i+1),a=r.depth>i&&HA(n,r,i+1),l=[];return Um(null,t,i,l),s&&a&&e.index(i)==n.index(i)?(K8(s,a),ad(od(s,Y8(t,e,n,r,i+1)),l)):(s&&ad(od(s,Fb(t,e,i+1)),l),Um(e,n,i,l),a&&ad(od(a,Fb(n,r,i+1)),l)),Um(r,null,i,l),new ge(l)}function Fb(t,e,n){let r=[];if(Um(null,t,n,r),t.depth>n){let i=HA(t,e,n+1);ad(od(i,Fb(t,e,n+1)),r)}return Um(e,null,n,r),new ge(r)}function Jde(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(ge.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class yg{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return jt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new $b(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let a=e;;){let{index:l,offset:c}=a.content.findIndex(s),d=s-c;if(r.push(a,l,i+c),!d||(a=a.child(l),a.isText))break;s=d-1,i+=c+1}return new yg(n,r,s)}static resolveCached(e,n){let r=Z4.get(e);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else Z4.set(e,r=new Zde);let i=r.elts[r.i]=yg.resolve(e,n);return r.i=(r.i+1)%efe,i}}class Zde{constructor(){this.elts=[],this.i=0}}const efe=12,Z4=new WeakMap;class $b{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const tfe=Object.create(null);class ta{constructor(e,n,r,i=jt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||ge.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&zb(this.attrs,n||e.defaultAttrs||tfe)&&jt.sameSet(this.marks,r||jt.none)}copy(e=null){return e==this.content?this:new ta(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new ta(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Ee.empty;let i=this.resolve(e),s=this.resolve(n),a=r?0:i.sharedDepth(n),l=i.start(a),d=i.node(a).content.cut(i.pos-l,s.pos-l);return new Ee(d,i.depth-a,s.depth-a)}replace(e,n,r){return Qde(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return yg.resolveCached(this,e)}resolveNoCache(e){return yg.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),X8(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ge.empty,i=0,s=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,s),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let c=i;c<s;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=jt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!jt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=ge.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}}ta.prototype.text=void 0;class Hb extends ta{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):X8(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Hb(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Hb(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function X8(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class wd{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new nfe(e,n);if(r.next==null)return wd.empty;let i=Q8(r);r.next&&r.err("Unexpected trailing text");let s=cfe(lfe(i));return ufe(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(a,l){let c=a.matchFragment(e,r);if(c&&(!n||c.validEnd))return ge.from(l.map(d=>d.createAndFill()));for(let d=0;d<a.next.length;d++){let{type:f,next:p}=a.next[d];if(!(f.isText||f.hasRequiredAttrs())&&i.indexOf(p)==-1){i.push(p);let g=s(p,l.concat(f));if(g)return g}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let a=[];for(let l=i;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:l,next:c}=s.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||c.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return s}).join(`
`)}}wd.empty=new wd(!0);class nfe{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Q8(t){let e=[];do e.push(rfe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function rfe(t){let e=[];do e.push(ife(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function ife(t){let e=ofe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=sfe(t,e);else break;return e}function eL(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function sfe(t,e){let n=eL(t),r=n;return t.eat(",")&&(t.next!="}"?r=eL(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function afe(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let a=n[s];a.isInGroup(e)&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function ofe(t){if(t.eat("(")){let e=Q8(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=afe(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function lfe(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(a,l,c){let d={term:c,to:l};return e[a].push(d),d}function i(a,l){a.forEach(c=>c.to=l)}function s(a,l){if(a.type=="choice")return a.exprs.reduce((c,d)=>c.concat(s(d,l)),[]);if(a.type=="seq")for(let c=0;;c++){let d=s(a.exprs[c],l);if(c==a.exprs.length-1)return d;i(d,l=n())}else if(a.type=="star"){let c=n();return r(l,c),i(s(a.expr,c),c),[r(c)]}else if(a.type=="plus"){let c=n();return i(s(a.expr,l),c),i(s(a.expr,c),c),[r(c)]}else{if(a.type=="opt")return[r(l)].concat(s(a.expr,l));if(a.type=="range"){let c=l;for(let d=0;d<a.min;d++){let f=n();i(s(a.expr,c),f),c=f}if(a.max==-1)i(s(a.expr,c),c);else for(let d=a.min;d<a.max;d++){let f=n();r(c,f),i(s(a.expr,c),f),c=f}return[r(c)]}else{if(a.type=="name")return[r(l,void 0,a.value)];throw new Error("Unknown expr type")}}}}function J8(t,e){return e-t}function tL(t,e){let n=[];return r(e),n.sort(J8);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let a=0;a<s.length;a++){let{term:l,to:c}=s[a];!l&&n.indexOf(c)==-1&&r(c)}}}function cfe(t){let e=Object.create(null);return n(tL(t,0));function n(r){let i=[];r.forEach(a=>{t[a].forEach(({term:l,to:c})=>{if(!l)return;let d;for(let f=0;f<i.length;f++)i[f][0]==l&&(d=i[f][1]);tL(t,c).forEach(f=>{d||i.push([l,d=[]]),d.indexOf(f)==-1&&d.push(f)})})});let s=e[r.join(",")]=new wd(r.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let l=i[a][1].sort(J8);s.next.push({type:i[a][0],next:e[l.join(",")]||n(l)})}return s}}function ufe(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,a=[];for(let l=0;l<i.next.length;l++){let{type:c,next:d}=i.next[l];a.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),r.indexOf(d)==-1&&r.push(d)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Z8(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function eH(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function tH(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function nH(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new ffe(t,r,e[r]);return n}let nL=class rH{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=nH(e,r.attrs),this.defaultAttrs=Z8(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==wd.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:eH(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ta(this,this.computeAttrs(e),ge.from(n),jt.setFrom(r))}createChecked(e=null,n,r){return n=ge.from(n),this.checkContent(n),new ta(this,this.computeAttrs(e),n,jt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ge.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(ge.empty,!0);return s?new ta(this,e,n.append(s),jt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){tH(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:jt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,a)=>r[s]=new rH(s,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function dfe(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class ffe{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?dfe(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Xw{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=nH(e,i.attrs),this.excluded=null;let s=Z8(this.attrs);this.instance=s?new jt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new jt(this,eH(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,a)=>r[s]=new Xw(s,i++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){tH(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class iH{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=br.from(e.nodes),n.marks=br.from(e.marks||{}),this.nodes=nL.compile(this.spec.nodes,this),this.marks=Xw.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=wd.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?rL(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:rL(this,a.split(" "))}this.nodeFromJSON=i=>ta.fromJSON(this,i),this.markFromJSON=i=>jt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof nL){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Hb(r,r.defaultAttrs,e,jt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function rL(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],a=s;if(s)n.push(s);else for(let l in t.marks){let c=t.marks[l];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=c)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function hfe(t){return t.tag!=null}function pfe(t){return t.style!=null}class wc{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(hfe(i))this.tags.push(i);else if(pfe(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new sL(this,n,!1);return r.addAll(e,jt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new sL(this,n,!0);return r.addAll(e,jt.none,n.from,n.to),Ee.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(yfe(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],l=a.style;if(!(l.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(a.getAttrs){let c=a.getAttrs(n);if(c===!1)continue;a.attrs=c||void 0}return a}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let l=n[a];if((l.priority==null?50:l.priority)<s)break}n.splice(a,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=aL(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=aL(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new wc(e,wc.schemaRules(e)))}}const sH={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},mfe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},aH={ol:!0,ul:!0},vg=1,qA=2,Fm=4;function iL(t,e,n){return e!=null?(e?vg:0)|(e==="full"?qA:0):t&&t.whitespace=="pre"?vg|qA:n&~Fm}class fv{constructor(e,n,r,i,s,a){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=jt.none,this.match=s||(a&Fm?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ge.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&vg)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=ge.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ge.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!sH.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class sL{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,a=iL(null,n.preserveWhitespace,0)|(r?Fm:0);i?s=new fv(i.type,i.attrs,jt.none,!0,n.topMatch||i.type.contentMatch,a):r?s=new fv(null,null,jt.none,!0,null,a):s=new fv(e.schema.topNodeType,null,jt.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&qA?"full":this.localPreserveWS||(i.options&vg)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),l;aH.hasOwnProperty(a)&&this.parser.normalizeLists&&gfe(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(c?c.ignore:mfe.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let d,f=this.needsBlock;if(sH.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),d=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let p=c&&c.skip?n:this.readStyles(e,n);p&&this.addAll(e,p),d&&this.sync(s),this.needsBlock=f}else{let d=this.readStyles(e,n);d&&this.addElementByRule(e,c,d,c.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=r.getPropertyValue(s);if(a)for(let l=void 0;;){let c=this.parser.matchStyle(s,a,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(d=>!c.clearMark(d)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return n}addElementByRule(e,n,r,i){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let c=this.enter(a,n.attrs||null,r,n.preserveWhitespace);c&&(s=!0,r=c)}else{let c=this.parser.schema.marks[n.mark];r=r.concat(c.create(n.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c,r),this.findAround(e,c,!1)}s&&this.sync(l)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let a=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];a!=l;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let a=this.open,l=0;a>=0;a--){let c=this.nodes[a],d=c.findWrapping(e);if(d&&(!i||i.length>d.length+l)&&(i=d,s=c,!d.length))break;if(c.solid){if(r)break;l+=2}}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let a=jt.none;for(let l of i.concat(e.marks))(s.type?s.type.allowsMarkType(l.type):oL(l.type,e.type))&&(a=l.addToSet(a));return s.content.push(e.mark(a)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let l=iL(e,s,a.options);a.options&Fm&&a.content.length==0&&(l|=Fm);let c=jt.none;return r=r.filter(d=>(a.type?a.type.allowsMarkType(d.type):oL(d.type,e))?(c=d.addToSet(c),!1):!0),this.nodes.push(new fv(e,n,c,i,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=vg)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=(l,c)=>{for(;l>=0;l--){let d=n[l];if(d==""){if(l==n.length-1||l==0)continue;for(;c>=s;c--)if(a(l-1,c))return!0;return!1}else{let f=c>0||c==0&&i?this.nodes[c].type:r&&c>=s?r.node(c-s).type:null;if(!f||f.name!=d&&!f.isInGroup(d))return!1;c--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function gfe(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&aH.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function yfe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function aL(t){let e={};for(let n in t)e[n]=t[n];return e}function oL(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],a=l=>{s.push(l);for(let c=0;c<l.edgeCount;c++){let{type:d,next:f}=l.edge(c);if(d==e||s.indexOf(f)<0&&a(f))return!0}};if(a(i.contentMatch))return!0}}class Ld{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=_E(n).createDocumentFragment());let i=r,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let l=0,c=0;for(;l<s.length&&c<a.marks.length;){let d=a.marks[c];if(!this.marks[d.type.name]){c++;continue}if(!d.eq(s[l][0])||d.type.spec.spanning===!1)break;l++,c++}for(;l<s.length;)i=s.pop()[1];for(;c<a.marks.length;){let d=a.marks[c++],f=this.serializeMark(d,a.isInline,n);f&&(s.push([d,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=tb(_E(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&tb(_E(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return tb(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ld(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=lL(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return lL(e.marks)}}function lL(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function _E(t){return t.document||window.document}const cL=new WeakMap;function vfe(t){let e=cL.get(t);return e===void 0&&cL.set(t,e=bfe(t)),e}function bfe(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function tb(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=vfe(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let l,c=n?t.createElementNS(n,i):t.createElement(i),d=e[1],f=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){f=2;for(let p in d)if(d[p]!=null){let g=p.indexOf(" ");g>0?c.setAttributeNS(p.slice(0,g),p.slice(g+1),d[p]):p=="style"&&c.style?c.style.cssText=d[p]:c.setAttribute(p,d[p])}}for(let p=f;p<e.length;p++){let g=e[p];if(g===0){if(p<e.length-1||p>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:v,contentDOM:b}=tb(t,g,n,r);if(c.appendChild(v),b){if(l)throw new RangeError("Multiple content holes");l=b}}}return{dom:c,contentDOM:l}}const oH=65535,lH=Math.pow(2,16);function xfe(t,e){return t+e*lH}function uL(t){return t&oH}function wfe(t){return(t-(t&oH))/lH}const cH=1,uH=2,nb=4,dH=8;class WA{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&dH)>0}get deletedBefore(){return(this.delInfo&(cH|nb))>0}get deletedAfter(){return(this.delInfo&(uH|nb))>0}get deletedAcross(){return(this.delInfo&nb)>0}}class Ui{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Ui.empty)return Ui.empty}recover(e){let n=0,r=uL(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+wfe(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?i:0);if(c>e)break;let d=this.ranges[l+s],f=this.ranges[l+a],p=c+d;if(e<=p){let g=d?e==c?-1:e==p?1:n:n,v=c+i+(g<0?0:f);if(r)return v;let b=e==(n<0?c:p)?null:xfe(l/3,e-c),E=e==c?uH:e==p?cH:nb;return(n<0?e!=c:e!=p)&&(E|=dH),new WA(v,E,b)}i+=f-d}return r?e+i:new WA(e+i,0,null)}touches(e,n){let r=0,i=uL(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>e)break;let d=this.ranges[l+s],f=c+d;if(e<=f&&l==i*3)return!0;r+=this.ranges[l+a]-d}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],l=a-(this.inverted?s:0),c=a+(this.inverted?0:s),d=this.ranges[i+n],f=this.ranges[i+r];e(l,l+d,c,c+f),s+=f-d}}invert(){return new Ui(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ui.empty:new Ui(e<0?[0,-e,0]:[0,0,e])}}Ui.empty=new Ui([]);class bg{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new bg(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new bg;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],l=a.mapResult(e,n);if(l.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,e=this._maps[c].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new WA(e,i,null)}}const AE=Object.create(null);let qr=class{getMap(){return Ui.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=AE[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in AE)throw new RangeError("Duplicate use of step JSON ID "+e);return AE[e]=n,n.prototype.jsonID=e,n}};class Vn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Vn(e,null)}static fail(e){return new Vn(null,e)}static fromReplace(e,n,r,i){try{return Vn.ok(e.replace(n,r,i))}catch(s){if(s instanceof Ub)return Vn.fail(s.message);throw s}}}function QN(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(QN(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return ge.fromArray(r)}class uc extends qr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Ee(QN(n.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return Vn.fromReplace(e,this.from,this.to,s)}invert(){return new ea(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new uc(n.pos,r.pos,this.mark)}merge(e){return e instanceof uc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new uc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new uc(n.from,n.to,e.markFromJSON(n.mark))}}qr.jsonID("addMark",uc);class ea extends qr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Ee(QN(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Vn.fromReplace(e,this.from,this.to,r)}invert(){return new uc(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ea(n.pos,r.pos,this.mark)}merge(e){return e instanceof ea&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ea(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ea(n.from,n.to,e.markFromJSON(n.mark))}}qr.jsonID("removeMark",ea);class dc extends qr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Vn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Vn.fromReplace(e,this.pos,this.pos+1,new Ee(ge.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new dc(this.pos,n.marks[i]);return new dc(this.pos,this.mark)}}return new Sd(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new dc(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new dc(n.pos,e.markFromJSON(n.mark))}}qr.jsonID("addNodeMark",dc);class Sd extends qr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Vn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Vn.fromReplace(e,this.pos,this.pos+1,new Ee(ge.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new dc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Sd(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Sd(n.pos,e.markFromJSON(n.mark))}}qr.jsonID("removeNodeMark",Sd);class ar extends qr{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&GA(e,this.from,this.to)?Vn.fail("Structure replace would overwrite content"):Vn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ui([this.from,this.to-this.from,this.slice.size])}invert(e){return new ar(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ar(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ar)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Ee.empty:new Ee(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ar(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Ee.empty:new Ee(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ar(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ar(n.from,n.to,Ee.fromJSON(e,n.slice),!!n.structure)}}qr.jsonID("replace",ar);class or extends qr{constructor(e,n,r,i,s,a,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=l}apply(e){if(this.structure&&(GA(e,this.from,this.gapFrom)||GA(e,this.gapTo,this.to)))return Vn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Vn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Vn.fromReplace(e,this.from,this.to,r):Vn.fail("Content does not fit in gap")}getMap(){return new Ui([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new or(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new or(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new or(n.from,n.to,n.gapFrom,n.gapTo,Ee.fromJSON(e,n.slice),n.insert,!!n.structure)}}qr.jsonID("replaceAround",or);function GA(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function Sfe(t,e,n,r){let i=[],s=[],a,l;t.doc.nodesBetween(e,n,(c,d,f)=>{if(!c.isInline)return;let p=c.marks;if(!r.isInSet(p)&&f.type.allowsMarkType(r.type)){let g=Math.max(d,e),v=Math.min(d+c.nodeSize,n),b=r.addToSet(p);for(let E=0;E<p.length;E++)p[E].isInSet(b)||(a&&a.to==g&&a.mark.eq(p[E])?a.to=v:i.push(a=new ea(g,v,p[E])));l&&l.to==g?l.to=v:s.push(l=new uc(g,v,r))}}),i.forEach(c=>t.step(c)),s.forEach(c=>t.step(c))}function Tfe(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(a,l)=>{if(!a.isInline)return;s++;let c=null;if(r instanceof Xw){let d=a.marks,f;for(;f=r.isInSet(d);)(c||(c=[])).push(f),d=f.removeFromSet(d)}else r?r.isInSet(a.marks)&&(c=[r]):c=a.marks;if(c&&c.length){let d=Math.min(l+a.nodeSize,n);for(let f=0;f<c.length;f++){let p=c[f],g;for(let v=0;v<i.length;v++){let b=i[v];b.step==s-1&&p.eq(i[v].style)&&(g=b)}g?(g.to=d,g.step=s):i.push({style:p,from:Math.max(l,e),to:d,step:s})}}}),i.forEach(a=>t.step(new ea(a.from,a.to,a.style)))}function JN(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),a=[],l=e+1;for(let c=0;c<s.childCount;c++){let d=s.child(c),f=l+d.nodeSize,p=r.matchType(d.type);if(!p)a.push(new ar(l,f,Ee.empty));else{r=p;for(let g=0;g<d.marks.length;g++)n.allowsMarkType(d.marks[g].type)||t.step(new ea(l,f,d.marks[g]));if(i&&d.isText&&n.whitespace!="pre"){let g,v=/\r?\n|\r/g,b;for(;g=v.exec(d.text);)b||(b=new Ee(ge.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),a.push(new ar(l+g.index,l+g.index+g[0].length,b))}}l=f}if(!r.validEnd){let c=r.fillBefore(ge.empty,!0);t.replace(l,l,new Ee(c,0,0))}for(let c=a.length-1;c>=0;c--)t.step(a[c])}function Efe(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Wh(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,a,n))return r;if(r==0||i.type.spec.isolating||!Efe(i,s,a))break}return null}function kfe(t,e,n){let{$from:r,$to:i,depth:s}=e,a=r.before(s+1),l=i.after(s+1),c=a,d=l,f=ge.empty,p=0;for(let b=s,E=!1;b>n;b--)E||r.index(b)>0?(E=!0,f=ge.from(r.node(b).copy(f)),p++):c--;let g=ge.empty,v=0;for(let b=s,E=!1;b>n;b--)E||i.after(b+1)<i.end(b)?(E=!0,g=ge.from(i.node(b).copy(g)),v++):d++;t.step(new or(c,d,a,l,new Ee(f.append(g),p,v),f.size-p,!0))}function ZN(t,e,n=null,r=t){let i=_fe(t,e),s=i&&Afe(r,e);return s?i.map(dL).concat({type:e,attrs:n}).concat(s.map(dL)):null}function dL(t){return{type:t,attrs:null}}function _fe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return n.canReplaceWith(r,i,a)?s:null}function Afe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let c=(a.length?a[a.length-1]:e).contentMatch;for(let d=r;c&&d<i;d++)c=c.matchType(n.child(d).type);return!c||!c.validEnd?null:a}function Cfe(t,e,n){let r=ge.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let l=n[a].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ge.from(n[a].type.create(n[a].attrs,r))}let i=e.start,s=e.end;t.step(new or(i,s,i,s,new Ee(r,0,0),n.length,!0))}function Nfe(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(a,l)=>{let c=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,c)&&Ofe(t.doc,t.mapping.slice(s).map(l),r)){let d=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",b=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!b?d=!1:!v&&b&&(d=!0)}d===!1&&hH(t,a,l,s),JN(t,t.mapping.slice(s).map(l,1),r,void 0,d===null);let f=t.mapping.slice(s),p=f.map(l,1),g=f.map(l+a.nodeSize,1);return t.step(new or(p,g,p+1,g-1,new Ee(ge.from(r.create(c,null,a.marks)),0,0),1,!0)),d===!0&&fH(t,a,l,s),!1}})}function fH(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(i.text);){let c=t.mapping.slice(r).map(n+1+s+a.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function hH(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+s);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function Ofe(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function Mfe(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new or(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Ee(ge.from(a),0,0),1,!0))}function Vo(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let d=i.depth-1,f=n-2;d>s;d--,f--){let p=i.node(d),g=i.index(d);if(p.type.spec.isolating)return!1;let v=p.content.cutByIndex(g,p.childCount),b=r&&r[f+1];b&&(v=v.replaceChild(0,b.type.create(b.attrs)));let E=r&&r[f]||p;if(!p.canReplace(g+1,p.childCount)||!E.type.validContent(v))return!1}let l=i.indexAfter(s),c=r&&r[0];return i.node(s).canReplaceWith(l,l,c?c.type:i.node(s+1).type)}function jfe(t,e,n=1,r){let i=t.doc.resolve(e),s=ge.empty,a=ge.empty;for(let l=i.depth,c=i.depth-n,d=n-1;l>c;l--,d--){s=ge.from(i.node(l).copy(s));let f=r&&r[d];a=ge.from(f?f.type.create(f.attrs,a):i.node(l).copy(a))}t.step(new ar(e,e,new Ee(s.append(a),n,n),!0))}function Yc(t,e){let n=t.resolve(e),r=n.index();return pH(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Ife(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),a=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function pH(t,e){return!!(t&&e&&!t.isLeaf&&Ife(t,e))}function Qw(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,a,l=r.index(i);if(i==r.depth?(s=r.nodeBefore,a=r.nodeAfter):n>0?(s=r.node(i+1),l++,a=r.node(i).maybeChild(l)):(s=r.node(i).maybeChild(l-1),a=r.node(i+1)),s&&!s.isTextblock&&pH(s,a)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function Dfe(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),a=s.node().type;if(i&&a.inlineContent){let f=a.whitespace=="pre",p=!!a.contentMatch.matchType(i);f&&!p?r=!1:!f&&p&&(r=!0)}let l=t.steps.length;if(r===!1){let f=t.doc.resolve(e+n);hH(t,f.node(),f.before(),l)}a.inlineContent&&JN(t,e+n-1,a,s.node().contentMatchAt(s.index()),r==null);let c=t.mapping.slice(l),d=c.map(e-n);if(t.step(new ar(d,c.map(e+n,-1),Ee.empty,!0)),r===!0){let f=t.doc.resolve(d);fH(t,f.node(),f.before(),t.steps.length)}return t}function Pfe(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function mH(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,c=r.index(a)+(l>0?1:0),d=r.node(a),f=!1;if(s==1)f=d.canReplace(c,c,i);else{let p=d.contentMatchAt(c).findWrapping(i.firstChild.type);f=p&&d.canReplaceWith(c,c,p[0])}if(f)return l==0?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function Jw(t,e,n=e,r=Ee.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return gH(i,s,r)?new ar(e,n,r):new Rfe(i,s,r).fit()}function gH(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Rfe{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ge.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ge.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,a=r.depth,l=i.depth;for(;a&&l&&s.childCount==1;)s=s.firstChild.content,a--,l--;let c=new Ee(s,a,l);return e>-1?new or(r.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new ar(r.pos,i.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=CE(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:d}=this.frontier[l],f,p=null;if(n==1&&(a?d.matchType(a.type)||(p=d.fillBefore(ge.from(a),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:p};if(n==2&&a&&(f=d.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:f};if(s&&d.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=CE(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ee(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=CE(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new Ee(Tm(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Ee(Tm(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let E=0;E<s.length;E++)this.openFrontierNode(s[E]);let a=this.unplaced,l=r?r.content:a.content,c=a.openStart-e,d=0,f=[],{match:p,type:g}=this.frontier[n];if(i){for(let E=0;E<i.childCount;E++)f.push(i.child(E));p=p.matchFragment(i)}let v=l.size+e-(a.content.size-a.openEnd);for(;d<l.childCount;){let E=l.child(d),S=p.matchType(E.type);if(!S)break;d++,(d>1||c==0||E.content.size)&&(p=S,f.push(yH(E.mark(g.allowedMarks(E.marks)),d==1?c:0,d==l.childCount?v:-1)))}let b=d==l.childCount;b||(v=-1),this.placed=Em(this.placed,n,ge.from(f)),this.frontier[n].match=p,b&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let E=0,S=l;E<v;E++){let k=S.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),S=k.content}this.unplaced=b?e==0?Ee.empty:new Ee(Tm(a.content,e-1,1),e-1,v<0?a.openEnd:e-1):new Ee(Tm(a.content,e,d),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!NE(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=NE(e,n,i,r,s);if(a){for(let l=n-1;l>=0;l--){let{match:c,type:d}=this.frontier[l],f=NE(e,l,d,c,!0);if(!f||f.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Em(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Em(this.placed,this.depth,ge.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ge.empty,!0);n.childCount&&(this.placed=Em(this.placed,this.frontier.length,n))}}function Tm(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Tm(t.firstChild.content,e-1,n)))}function Em(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Em(t.lastChild.content,e-1,n)))}function CE(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function yH(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,yH(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ge.empty,!0)))),t.copy(r)}function NE(t,e,n,r,i){let s=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,a);return l&&!Lfe(n,s.content,a)?l:null}function Lfe(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function Vfe(t){return t.spec.defining||t.spec.definingForContent}function Bfe(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(gH(i,s,r))return t.step(new ar(e,n,r));let a=bH(i,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let l=-(i.depth+1);a.unshift(l);for(let g=i.depth,v=i.pos-1;g>0;g--,v--){let b=i.node(g).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;a.indexOf(g)>-1?l=g:i.before(g)==v&&a.splice(1,0,-g)}let c=a.indexOf(l),d=[],f=r.openStart;for(let g=r.content,v=0;;v++){let b=g.firstChild;if(d.push(b),v==r.openStart)break;g=b.content}for(let g=f-1;g>=0;g--){let v=d[g],b=Vfe(v.type);if(b&&!v.sameMarkup(i.node(Math.abs(l)-1)))f=g;else if(b||!v.type.isTextblock)break}for(let g=r.openStart;g>=0;g--){let v=(g+f+1)%(r.openStart+1),b=d[v];if(b)for(let E=0;E<a.length;E++){let S=a[(E+c)%a.length],k=!0;S<0&&(k=!1,S=-S);let C=i.node(S-1),O=i.index(S-1);if(C.canReplaceWith(O,O,b.type,b.marks))return t.replace(i.before(S),k?s.after(S):n,new Ee(vH(r.content,0,r.openStart,v),v,r.openEnd))}}let p=t.steps.length;for(let g=a.length-1;g>=0&&(t.replace(e,n,r),!(t.steps.length>p));g--){let v=a[g];v<0||(e=i.before(v),n=s.after(v))}}function vH(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(vH(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(ge.empty,!0))}return t}function zfe(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=Pfe(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Ee(ge.from(r),0,0))}function Ufe(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=bH(r,i);for(let a=0;a<s.length;a++){let l=s[a],c=a==s.length-1;if(c&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(c||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function bH(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class oh extends qr{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Vn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Vn.fromReplace(e,this.pos,this.pos+1,new Ee(ge.from(i),0,n.isLeaf?0:1))}getMap(){return Ui.empty}invert(e){return new oh(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new oh(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new oh(n.pos,n.attr,n.value)}}qr.jsonID("attr",oh);class xg extends qr{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Vn.ok(r)}getMap(){return Ui.empty}invert(e){return new xg(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new xg(n.attr,n.value)}}qr.jsonID("docAttr",xg);let Sh=class extends Error{};Sh=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Sh.prototype=Object.create(Error.prototype);Sh.prototype.constructor=Sh;Sh.prototype.name="TransformError";class xH{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new bg}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Sh(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Ee.empty){let i=Jw(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Ee(ge.from(r),0,0))}delete(e,n){return this.replace(e,n,Ee.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return Bfe(this,e,n,r),this}replaceRangeWith(e,n,r){return zfe(this,e,n,r),this}deleteRange(e,n){return Ufe(this,e,n),this}lift(e,n){return kfe(this,e,n),this}join(e,n=1){return Dfe(this,e,n),this}wrap(e,n){return Cfe(this,e,n),this}setBlockType(e,n=e,r,i=null){return Nfe(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return Mfe(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new oh(e,n,r)),this}setDocAttribute(e,n){return this.step(new xg(e,n)),this}addNodeMark(e,n){return this.step(new dc(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof jt)n.isInSet(r.marks)&&this.step(new Sd(e,n));else{let i=r.marks,s,a=[];for(;s=n.isInSet(i);)a.push(new Sd(e,s)),i=s.removeFromSet(i);for(let l=a.length-1;l>=0;l--)this.step(a[l])}return this}split(e,n=1,r){return jfe(this,e,n,r),this}addMark(e,n,r){return Sfe(this,e,n,r),this}removeMark(e,n,r){return Tfe(this,e,n,r),this}clearIncompatible(e,n,r){return JN(this,e,n,r),this}}const OE=Object.create(null);class Ze{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new Ffe(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Ee.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let s=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:c,$to:d}=a[l],f=e.mapping.slice(s);e.replaceRange(f.map(c.pos),f.map(d.pos),l?Ee.empty:n),l==0&&pL(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:l}=i[s],c=e.mapping.slice(r),d=c.map(a.pos),f=c.map(l.pos);s?e.deleteRange(d,f):(e.replaceRangeWith(d,f,n),pL(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new $e(e):Bf(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let a=n<0?Bf(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Bf(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Hi(e.node(0))}static atStart(e){return Bf(e,e,0,0,1)||new Hi(e)}static atEnd(e){return Bf(e,e,e.content.size,e.childCount,-1)||new Hi(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=OE[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in OE)throw new RangeError("Duplicate use of selection JSON ID "+e);return OE[e]=n,n.prototype.jsonID=e,n}getBookmark(){return $e.between(this.$anchor,this.$head).getBookmark()}}Ze.prototype.visible=!0;class Ffe{constructor(e,n){this.$from=e,this.$to=n}}let fL=!1;function hL(t){!fL&&!t.parent.inlineContent&&(fL=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class $e extends Ze{constructor(e,n=e){hL(e),hL(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ze.near(r);let i=e.resolve(n.map(this.anchor));return new $e(i.parent.inlineContent?i:r,r)}replace(e,n=Ee.empty){if(super.replace(e,n),n==Ee.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof $e&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Zw(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new $e(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Ze.findFrom(n,r,!0)||Ze.findFrom(n,-r,!0);if(s)n=s.$head;else return Ze.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Ze.findFrom(e,-r,!0)||Ze.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new $e(e,n)}}Ze.jsonID("text",$e);class Zw{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Zw(e.map(this.anchor),e.map(this.head))}resolve(e){return $e.between(e.resolve(this.anchor),e.resolve(this.head))}}class Le extends Ze{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Ze.near(s):new Le(s)}content(){return new Ee(ge.from(this.node),0,0)}eq(e){return e instanceof Le&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new eO(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Le(e.resolve(n.anchor))}static create(e,n){return new Le(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Le.prototype.visible=!1;Ze.jsonID("node",Le);class eO{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Zw(r,r):new eO(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Le.isSelectable(r)?new Le(n):Ze.near(n)}}class Hi extends Ze{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Ee.empty){if(n==Ee.empty){e.delete(0,e.doc.content.size);let r=Ze.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Hi(e)}map(e){return new Hi(e)}eq(e){return e instanceof Hi}getBookmark(){return $fe}}Ze.jsonID("all",Hi);const $fe={map(){return this},resolve(t){return new Hi(t)}};function Bf(t,e,n,r,i,s=!1){if(e.inlineContent)return $e.create(t,n);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let l=e.child(a);if(l.isAtom){if(!s&&Le.isSelectable(l))return Le.create(t,n-(i<0?l.nodeSize:0))}else{let c=Bf(t,l,n+i,i<0?l.childCount:0,i,s);if(c)return c}n+=l.nodeSize*i}return null}function pL(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof ar||i instanceof or))return;let s=t.mapping.maps[r],a;s.forEach((l,c,d,f)=>{a==null&&(a=f)}),t.setSelection(Ze.near(t.doc.resolve(a),n))}const mL=1,hv=2,gL=4;class Hfe extends xH{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|mL)&~hv,this.storedMarks=null,this}get selectionSet(){return(this.updated&mL)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=hv,this}ensureMarks(e){return jt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&hv)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~hv,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||jt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(Ze.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=gL,this}get scrolledIntoView(){return(this.updated&gL)>0}}function yL(t,e){return!e||!t?t:t.bind(e)}class km{constructor(e,n,r){this.name=e,this.init=yL(n.init,r),this.apply=yL(n.apply,r)}}const qfe=[new km("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new km("selection",{init(t,e){return t.selection||Ze.atStart(e.doc)},apply(t){return t.selection}}),new km("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new km("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class ME{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=qfe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new km(r.key,r.spec.state,r))})}}class Jf{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let c=i?i[a].n:0,d=i?i[a].state:this,f=c<n.length&&l.spec.appendTransaction.call(l,c?n.slice(c):n,d,r);if(f&&r.filterTransaction(f,a)){if(f.setMeta("appendedTransaction",e),!i){i=[];for(let p=0;p<this.config.plugins.length;p++)i.push(p<a?{state:r,n:n.length}:{state:this,n:0})}n.push(f),r=r.applyInner(f),s=!0}i&&(i[a]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Jf(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new Hfe(this)}static create(e){let n=new ME(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Jf(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new ME(this.schema,e.plugins),r=n.fields,i=new Jf(n);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new ME(e.schema,e.plugins),s=new Jf(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=ta.fromJSON(e.schema,n.doc);else if(a.name=="selection")s.selection=Ze.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let c=r[l],d=c.spec.state;if(c.key==a.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){s[a.name]=d.fromJSON.call(c,e,n[l],s);return}}s[a.name]=a.init(e,s)}}),s}}function wH(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=wH(i,e,{})),n[r]=i}return n}class cn{constructor(e){this.spec=e,this.props={},e.props&&wH(e.props,this,this.props),this.key=e.key?e.key.key:SH("plugin")}getState(e){return e[this.key]}}const jE=Object.create(null);function SH(t){return t in jE?t+"$"+ ++jE[t]:(jE[t]=0,t+"$")}class Kn{constructor(e="key"){this.key=SH(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const tO=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function TH(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const EH=(t,e,n)=>{let r=TH(t,n);if(!r)return!1;let i=nO(r);if(!i){let a=r.blockRange(),l=a&&Wh(a);return l==null?!1:(e&&e(t.tr.lift(a,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(IH(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Th(s,"end")||Le.isSelectable(s)))for(let a=r.depth;;a--){let l=Jw(t.doc,r.before(a),r.after(a),Ee.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(Th(s,"end")?Ze.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):Le.create(c.doc,i.pos-s.nodeSize)),e(c.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},Wfe=(t,e,n)=>{let r=TH(t,n);if(!r)return!1;let i=nO(r);return i?kH(t,i,e):!1},Gfe=(t,e,n)=>{let r=AH(t,n);if(!r)return!1;let i=rO(r);return i?kH(t,i,e):!1};function kH(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let f=i.lastChild;if(!f)return!1;i=f}let a=e.nodeAfter,l=a,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let f=l.firstChild;if(!f)return!1;l=f}let d=Jw(t.doc,s,c,Ee.empty);if(!d||d.from!=s||d instanceof ar&&d.slice.size>=c-s)return!1;if(n){let f=t.tr.step(d);f.setSelection($e.create(f.doc,s)),n(f.scrollIntoView())}return!0}function Th(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const _H=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=nO(r)}let a=s&&s.nodeBefore;return!a||!Le.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Le.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function nO(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function AH(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const CH=(t,e,n)=>{let r=AH(t,n);if(!r)return!1;let i=rO(r);if(!i)return!1;let s=i.nodeAfter;if(IH(t,i,e,1))return!0;if(r.parent.content.size==0&&(Th(s,"start")||Le.isSelectable(s))){let a=Jw(t.doc,r.before(),r.after(),Ee.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Th(s,"start")?Ze.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):Le.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},NH=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=rO(r)}let a=s&&s.nodeAfter;return!a||!Le.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Le.create(t.doc,s.pos)).scrollIntoView()),!0)};function rO(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Kfe=(t,e)=>{let n=t.selection,r=n instanceof Le,i;if(r){if(n.node.isTextblock||!Yc(t.doc,n.from))return!1;i=n.from}else if(i=Qw(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(Le.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},Yfe=(t,e)=>{let n=t.selection,r;if(n instanceof Le){if(n.node.isTextblock||!Yc(t.doc,n.to))return!1;r=n.to}else if(r=Qw(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},Xfe=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Wh(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},OH=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function iO(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Qfe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=iO(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let l=n.after(),c=t.tr.replaceWith(l,l,a.createAndFill());c.setSelection(Ze.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},MH=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Hi||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=iO(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(a,s.createAndFill());l.setSelection($e.create(l.doc,a+1)),e(l.scrollIntoView())}return!0},jH=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Vo(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Wh(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function Jfe(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Le&&e.selection.node.isBlock)return!r.parentOffset||!Vo(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,l,c=!1,d=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){c=r.end(v)==r.pos+(r.depth-v),d=r.start(v)==r.pos-(r.depth-v),l=iO(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),s.unshift(c&&l?{type:l}:null),a=v;break}else{if(v==1)return!1;s.unshift(null)}let f=e.tr;(e.selection instanceof $e||e.selection instanceof Hi)&&f.deleteSelection();let p=f.mapping.map(r.pos),g=Vo(f.doc,p,s.length,s);if(g||(s[0]=l?{type:l}:null,g=Vo(f.doc,p,s.length,s)),!g)return!1;if(f.split(p,s.length,s),!c&&d&&r.node(a).type!=l){let v=f.mapping.map(r.before(a)),b=f.doc.resolve(v);l&&r.node(a-1).canReplaceWith(b.index(),b.index()+1,l)&&f.setNodeMarkup(f.mapping.map(r.before(a)),l)}return n&&n(f.scrollIntoView()),!0}}const Zfe=Jfe(),ehe=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(Le.create(t.doc,i))),!0)};function the(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Yc(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function IH(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,a,l,c=i.type.spec.isolating||s.type.spec.isolating;if(!c&&the(t,e,n))return!0;let d=!c&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(a=(l=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&l.matchType(a[0]||s.type).validEnd){if(n){let v=e.pos+s.nodeSize,b=ge.empty;for(let k=a.length-1;k>=0;k--)b=ge.from(a[k].create(null,b));b=ge.from(i.copy(b));let E=t.tr.step(new or(e.pos-1,v,e.pos,v,new Ee(b,1,0),a.length,!0)),S=E.doc.resolve(v+2*a.length);S.nodeAfter&&S.nodeAfter.type==i.type&&Yc(E.doc,S.pos)&&E.join(S.pos),n(E.scrollIntoView())}return!0}let f=s.type.spec.isolating||r>0&&c?null:Ze.findFrom(e,1),p=f&&f.$from.blockRange(f.$to),g=p&&Wh(p);if(g!=null&&g>=e.depth)return n&&n(t.tr.lift(p,g).scrollIntoView()),!0;if(d&&Th(s,"start",!0)&&Th(i,"end")){let v=i,b=[];for(;b.push(v),!v.isTextblock;)v=v.lastChild;let E=s,S=1;for(;!E.isTextblock;E=E.firstChild)S++;if(v.canReplace(v.childCount,v.childCount,E.content)){if(n){let k=ge.empty;for(let O=b.length-1;O>=0;O--)k=ge.from(b[O].copy(k));let C=t.tr.step(new or(e.pos-b.length,e.pos+s.nodeSize,e.pos+S,e.pos+s.nodeSize-S,new Ee(k,b.length,0),0,!0));n(C.scrollIntoView())}return!0}}return!1}function DH(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection($e.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const nhe=DH(-1),rhe=DH(1);function ihe(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),l=a&&ZN(a,t,e);return l?(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}function vL(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];n.doc.nodesBetween(a,l,(c,d)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)i=!0;else{let f=n.doc.resolve(d),p=f.index();i=f.parent.canReplaceWith(p,p+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[a];s.setBlockType(l,c,t,e)}r(s.scrollIntoView())}return!0}}function sO(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}sO(tO,EH,_H);sO(tO,CH,NH);sO(OH,MH,jH,Zfe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function she(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s);if(!a)return!1;let l=r?n.tr:null;return ahe(l,a,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}function ahe(t,e,n,r=null){let i=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=a.resolve(e.start-2);s=new $b(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new $b(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let l=ZN(s,n,r,e);return l?(t&&ohe(t,e,l,i,n),!0):!1}function ohe(t,e,n,r,i){let s=ge.empty;for(let f=n.length-1;f>=0;f--)s=ge.from(n[f].type.create(n[f].attrs,s));t.step(new or(e.start-(r?2:0),e.end,e.start,e.end,new Ee(s,0,0),n.length,!0));let a=0;for(let f=0;f<n.length;f++)n[f].type==i&&(a=f+1);let l=n.length-a,c=e.start+n.length-(r?2:0),d=e.parent;for(let f=e.startIndex,p=e.endIndex,g=!0;f<p;f++,g=!1)!g&&Vo(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=d.child(f).nodeSize;return t}function lhe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?che(e,n,t,s):uhe(e,n,s):!0:!1}}function che(t,e,n,r){let i=t.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new or(s-1,a,s,a,new Ee(ge.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new $b(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const l=Wh(r);if(l==null)return!1;i.lift(r,l);let c=i.doc.resolve(i.mapping.map(s,-1)-1);return Yc(i.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&i.join(c.pos),e(i.scrollIntoView()),!0}function uhe(t,e,n){let r=t.tr,i=n.parent;for(let v=n.end,b=n.endIndex-1,E=n.startIndex;b>E;b--)v-=i.child(b).nodeSize,r.delete(v-1,v+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,c=n.endIndex==i.childCount,d=s.node(-1),f=s.index(-1);if(!d.canReplace(f+(l?0:1),f+1,a.content.append(c?ge.empty:ge.from(i))))return!1;let p=s.pos,g=p+a.nodeSize;return r.step(new or(p-(l?1:0),g+(c?1:0),p+1,g-1,new Ee((l?ge.empty:ge.from(i.copy(ge.empty))).append(c?ge.empty:ge.from(i.copy(ge.empty))),l?0:1,c?0:1),l?0:1)),e(r.scrollIntoView()),!0}function dhe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,d=>d.childCount>0&&d.firstChild.type==t);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let l=s.parent,c=l.child(a-1);if(c.type!=t)return!1;if(n){let d=c.lastChild&&c.lastChild.type==l.type,f=ge.from(d?t.create():null),p=new Ee(ge.from(t.create(null,ge.from(l.type.create(null,f)))),d?3:1,0),g=s.start,v=s.end;n(e.tr.step(new or(g-(d?3:1),v,g,v,p,1,!0)).scrollIntoView())}return!0}}const Tr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Eh=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let KA=null;const No=function(t,e,n){let r=KA||(KA=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},fhe=function(){KA=null},Td=function(t,e,n,r){return n&&(bL(t,e,n,r,-1)||bL(t,e,n,r,1))},hhe=/^(img|br|input|textarea|hr)$/i;function bL(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:vs(t))){let a=t.parentNode;if(!a||a.nodeType!=1||d0(t)||hhe.test(t.nodeName)||t.contentEditable=="false")return!1;e=Tr(t)+(i<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=a,e=i<0?vs(t):0}else return!1}}function vs(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function phe(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=vs(t)}else if(t.parentNode&&!d0(t))e=Tr(t),t=t.parentNode;else return null}}function mhe(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!d0(t))e=Tr(t)+1,t=t.parentNode;else return null}}function ghe(t,e,n){for(let r=e==0,i=e==vs(t);r||i;){if(t==n)return!0;let s=Tr(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==vs(t)}}function d0(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const e1=function(t){return t.focusNode&&Td(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function $u(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function yhe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function vhe(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(vs(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(vs(r.startContainer),r.startOffset)}}}const Ga=typeof navigator<"u"?navigator:null,xL=typeof document<"u"?document:null,Xc=Ga&&Ga.userAgent||"",YA=/Edge\/(\d+)/.exec(Xc),PH=/MSIE \d/.exec(Xc),XA=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Xc),Ti=!!(PH||XA||YA),Sc=PH?document.documentMode:XA?+XA[1]:YA?+YA[1]:0,_s=!Ti&&/gecko\/(\d+)/i.test(Xc);_s&&+(/Firefox\/(\d+)/.exec(Xc)||[0,0])[1];const QA=!Ti&&/Chrome\/(\d+)/.exec(Xc),Fr=!!QA,RH=QA?+QA[1]:0,ti=!Ti&&!!Ga&&/Apple Computer/.test(Ga.vendor),kh=ti&&(/Mobile\/\w+/.test(Xc)||!!Ga&&Ga.maxTouchPoints>2),ms=kh||(Ga?/Mac/.test(Ga.platform):!1),bhe=Ga?/Win/.test(Ga.platform):!1,Do=/Android \d/.test(Xc),f0=!!xL&&"webkitFontSmoothing"in xL.documentElement.style,xhe=f0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function whe(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ko(t,e){return typeof t=="number"?t:t[e]}function She(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function wL(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=Eh(a);continue}let l=a,c=l==s.body,d=c?whe(s):She(l),f=0,p=0;if(e.top<d.top+ko(r,"top")?p=-(d.top-e.top+ko(i,"top")):e.bottom>d.bottom-ko(r,"bottom")&&(p=e.bottom-e.top>d.bottom-d.top?e.top+ko(i,"top")-d.top:e.bottom-d.bottom+ko(i,"bottom")),e.left<d.left+ko(r,"left")?f=-(d.left-e.left+ko(i,"left")):e.right>d.right-ko(r,"right")&&(f=e.right-d.right+ko(i,"right")),f||p)if(c)s.defaultView.scrollBy(f,p);else{let v=l.scrollLeft,b=l.scrollTop;p&&(l.scrollTop+=p),f&&(l.scrollLeft+=f);let E=l.scrollLeft-v,S=l.scrollTop-b;e={left:e.left-E,top:e.top-S,right:e.right-E,bottom:e.bottom-S}}let g=c?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(g))break;a=g=="absolute"?a.offsetParent:Eh(a)}}function The(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let l=t.root.elementFromPoint(s,a);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=n-20){r=l,i=c.top;break}}return{refDOM:r,refTop:i,stack:LH(t.dom)}}function LH(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Eh(r));return e}function Ehe({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;VH(n,r==0?0:r-e)}function VH(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Nf=null;function khe(t){if(t.setActive)return t.setActive();if(Nf)return t.focus(Nf);let e=LH(t);t.focus(Nf==null?{get preventScroll(){return Nf={preventScroll:!0},!0}}:void 0),Nf||(Nf=!1,VH(e,0))}function BH(t,e){let n,r=2e8,i,s=0,a=e.top,l=e.top,c,d;for(let f=t.firstChild,p=0;f;f=f.nextSibling,p++){let g;if(f.nodeType==1)g=f.getClientRects();else if(f.nodeType==3)g=No(f).getClientRects();else continue;for(let v=0;v<g.length;v++){let b=g[v];if(b.top<=a&&b.bottom>=l){a=Math.max(b.bottom,a),l=Math.min(b.top,l);let E=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(E<r){n=f,r=E,i=E&&n.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,f.nodeType==1&&E&&(s=p+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!c&&b.left<=e.left&&b.right>=e.left&&(c=f,d={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!n&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(s=p+1)}}return!n&&c&&(n=c,i=d,r=0),n&&n.nodeType==3?_he(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:BH(n,i)}function _he(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Xl(r,1);if(s.top!=s.bottom&&aO(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function aO(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Ahe(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Che(t,e,n){let{node:r,offset:i}=BH(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function Nhe(t,e,n,r){let i=-1;for(let s=e,a=!1;s!=t.dom;){let l=t.docView.nearestDesc(s,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!a&&c.left>r.left||c.top>r.top?i=l.posBefore:(!a&&c.right<r.left||c.bottom<r.top)&&(i=l.posAfter),a=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function zH(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let a=t.childNodes[s];if(a.nodeType==1){let l=a.getClientRects();for(let c=0;c<l.length;c++){let d=l[c];if(aO(e,d))return zH(a,e,d)}}if((s=(s+1)%r)==i)break}return t}function Ohe(t,e){let n=t.dom.ownerDocument,r,i=0,s=vhe(n,e.left,e.top);s&&({node:r,offset:i}=s);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let d=t.dom.getBoundingClientRect();if(!aO(e,d)||(a=zH(t.dom,e,d),!a))return null}if(ti)for(let d=a;r&&d;d=Eh(d))d.draggable&&(r=void 0);if(a=Ahe(a,e),r){if(_s&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let f=r.childNodes[i],p;f.nodeName=="IMG"&&(p=f.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&i++}let d;f0&&i&&r.nodeType==1&&(d=r.childNodes[i-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=Nhe(t,r,i,e))}l==null&&(l=Che(t,a,e));let c=t.docView.nearestDesc(a,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function SL(t){return t.top<t.bottom||t.left<t.right}function Xl(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(SL(r))return r}return Array.prototype.find.call(n,SL)||t.getBoundingClientRect()}const Mhe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function UH(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),a=f0||_s;if(r.nodeType==3)if(a&&(Mhe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let c=Xl(No(r,i,i),n);if(_s&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let d=Xl(No(r,i-1,i-1),-1);if(d.top==c.top){let f=Xl(No(r,i,i+1),-1);if(f.top!=c.top)return nm(f,f.left<d.left)}}return c}else{let c=i,d=i,f=n<0?1:-1;return n<0&&!i?(d++,f=-1):n>=0&&i==r.nodeValue.length?(c--,f=1):n<0?c--:d++,nm(Xl(No(r,c,d),f),f<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==vs(r))){let c=r.childNodes[i-1];if(c.nodeType==1)return IE(c.getBoundingClientRect(),!1)}if(s==null&&i<vs(r)){let c=r.childNodes[i];if(c.nodeType==1)return IE(c.getBoundingClientRect(),!0)}return IE(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==vs(r))){let c=r.childNodes[i-1],d=c.nodeType==3?No(c,vs(c)-(a?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(d)return nm(Xl(d,1),!1)}if(s==null&&i<vs(r)){let c=r.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let d=c?c.nodeType==3?No(c,0,a?0:1):c.nodeType==1?c:null:null;if(d)return nm(Xl(d,-1),!0)}return nm(Xl(r.nodeType==3?No(r):r,-n),n>=0)}function nm(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function IE(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function FH(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function jhe(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return FH(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let a=UH(t,i.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=No(l,0,l.nodeValue.length).getClientRects();else continue;for(let d=0;d<c.length;d++){let f=c[d];if(f.bottom>f.top+1&&(n=="up"?a.top-f.top>(f.bottom-a.top)*2:f.bottom-a.bottom>(a.bottom-f.top)*2))return!1}}return!0})}const Ihe=/[\u0590-\u08ac]/;function Dhe(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,l=t.domSelection();return l?!Ihe.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?s:a:FH(t,e,()=>{let{focusNode:c,focusOffset:d,anchorNode:f,anchorOffset:p}=t.domSelectionRange(),g=l.caretBidiLevel;l.modify("move",n,"character");let v=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:b,focusOffset:E}=t.domSelectionRange(),S=b&&!v.contains(b.nodeType==1?b:b.parentNode)||c==b&&d==E;try{l.collapse(f,p),c&&(c!=f||d!=p)&&l.extend&&l.extend(c,d)}catch{}return g!=null&&(l.caretBidiLevel=g),S}):r.pos==r.start()||r.pos==r.end()}let TL=null,EL=null,kL=!1;function Phe(t,e,n){return TL==e&&EL==n?kL:(TL=e,EL=n,kL=n=="up"||n=="down"?jhe(t,e,n):Dhe(t,e,n))}const As=0,_L=1,Gu=2,Ka=3;class h0{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=As,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,a;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Tr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!n||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let l=i.children[a];if(l.size){i=l;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],l=s+a.size;if(l>e||a instanceof HH){i=e-s;break}s=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof $H&&s.side>=0;r--);if(n<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Tr(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Tr(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,l=0;;l++){let c=this.children[l],d=a+c.size;if(i==-1&&e<=d){let f=a+c.border;if(e>=f&&n<=d-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,n,f);e=a;for(let p=l;p>0;p--){let g=this.children[p-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){i=Tr(g.dom)+1;break}e-=g.size}i==-1&&(i=0)}if(i>-1&&(d>n||l==this.children.length-1)){n=d;for(let f=l+1;f<this.children.length;f++){let p=this.children[f];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){s=Tr(p.dom);break}n+=p.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=d}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),a=Math.max(e,n);for(let v=0,b=0;v<this.children.length;v++){let E=this.children[v],S=b+E.size;if(s>b&&a<S)return E.setSelection(e-b-E.border,n-b-E.border,r,i);b=S}let l=this.domFromPos(e,e?-1:1),c=n==e?l:this.domFromPos(n,n?-1:1),d=r.root.getSelection(),f=r.domSelectionRange(),p=!1;if((_s||ti)&&e==n){let{node:v,offset:b}=l;if(v.nodeType==3){if(p=!!(b&&v.nodeValue[b-1]==`
`),p&&b==v.nodeValue.length)for(let E=v,S;E;E=E.parentNode){if(S=E.nextSibling){S.nodeName=="BR"&&(l=c={node:S.parentNode,offset:Tr(S)+1});break}let k=E.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let E=v.childNodes[b-1];p=E&&(E.nodeName=="BR"||E.contentEditable=="false")}}if(_s&&f.focusNode&&f.focusNode!=c.node&&f.focusNode.nodeType==1){let v=f.focusNode.childNodes[f.focusOffset];v&&v.contentEditable=="false"&&(i=!0)}if(!(i||p&&ti)&&Td(l.node,l.offset,f.anchorNode,f.anchorOffset)&&Td(c.node,c.offset,f.focusNode,f.focusOffset))return;let g=!1;if((d.extend||e==n)&&!(p&&_s)){d.collapse(l.node,l.offset);try{e!=n&&d.extend(c.node,c.offset),g=!0}catch{}}if(!g){if(e>n){let b=l;l=c,c=b}let v=document.createRange();v.setEnd(c.node,c.offset),v.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let l=r+s.border,c=a-s.border;if(e>=l&&n<=c){this.dirty=e==r||n==a?Gu:_L,e==l&&n==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Ka:s.markDirty(e-l,n-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Gu:Ka}r=a}this.dirty=Gu}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Gu:_L;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class $H extends h0{constructor(e,n,r,i){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==As&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Rhe extends h0{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ed extends h0{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],a=s&&s(n,i,r);return(!a||!a.dom)&&(a=Ld.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Ed(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Ka||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ka&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=As){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=As}}slice(e,n,r){let i=Ed.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;n<a&&(s=ZA(s,n,a,r)),e>0&&(s=ZA(s,0,e,r));for(let l=0;l<s.length;l++)s[l].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Tc extends h0{constructor(e,n,r,i,s,a,l,c,d){super(e,[],s,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,s,a){let l=s.nodeViews[n.type.name],c,d=l&&l(n,s,()=>{if(!c)return a;if(c.parent)return c.parent.posBeforeChild(c)},r,i),f=d&&d.dom,p=d&&d.contentDOM;if(n.isText){if(!f)f=document.createTextNode(n.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:p}=Ld.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!p&&!n.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),n.type.spec.draggable&&(f.draggable=!0));let g=f;return f=GH(f,r,n),d?c=new Lhe(e,n,r,i,f,p||null,g,d,s,a+1):n.isText?new t1(e,n,r,i,f,g,s):new Tc(e,n,r,i,f,p||null,g,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ge.empty)}return e}matchesNode(e,n,r){return this.dirty==As&&e.eq(this.node)&&qb(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,a=s&&s.pos>-1?s:null,l=s&&s.pos<0,c=new Bhe(this,a&&a.node,e);Fhe(this.node,this.innerDeco,(d,f,p)=>{d.spec.marks?c.syncToMarks(d.spec.marks,r,e):d.type.side>=0&&!p&&c.syncToMarks(f==this.node.childCount?jt.none:this.node.child(f).marks,r,e),c.placeWidget(d,e,i)},(d,f,p,g)=>{c.syncToMarks(d.marks,r,e);let v;c.findNodeMatch(d,f,p,g)||l&&e.state.selection.from>i&&e.state.selection.to<i+d.nodeSize&&(v=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(d,f,p,v,e)||c.updateNextNode(d,f,p,e,g,i)||c.addNode(d,f,p,e,i),i+=d.nodeSize}),c.syncToMarks([],r,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Gu)&&(a&&this.protectLocalComposition(e,a),qH(this.contentDOM,this.children,e),kh&&$he(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof $e)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=Hhe(this.node.content,a,r-n,i-n);return l<0?null:{node:s,pos:l,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new Rhe(this,s,n,i);e.input.compositionNodes.push(a),this.children=ZA(this.children,r,r+i.length,e,a)}update(e,n,r,i){return this.dirty==Ka||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=As}updateOuterDeco(e){if(qb(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=WH(this.dom,this.nodeDOM,JA(this.outerDeco,this.node,n),JA(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function AL(t,e,n,r,i){GH(r,e,t);let s=new Tc(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class t1 extends Tc{constructor(e,n,r,i,s,a,l){super(e,n,r,i,s,null,a,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Ka||this.dirty!=As&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=As||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=As,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new t1(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ka)}get domAtom(){return!1}isText(e){return this.node.text==e}}class HH extends h0{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==As&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Lhe extends Tc{constructor(e,n,r,i,s,a,l,c,d,f){super(e,n,r,i,s,a,l,d,f),this.spec=c}update(e,n,r,i){if(this.dirty==Ka)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function qH(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let a=e[s],l=a.dom;if(l.parentNode==t){for(;l!=r;)r=CL(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(a instanceof Ed){let c=r?r.previousSibling:t.lastChild;qH(a.contentDOM,a.children,n),r=c?c.nextSibling:t.firstChild}}for(;r;)r=CL(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const $m=function(t){t&&(this.nodeName=t)};$m.prototype=Object.create(null);const Ku=[new $m];function JA(t,e,n){if(t.length==0)return Ku;let r=n?Ku[0]:new $m,i=[r];for(let s=0;s<t.length;s++){let a=t[s].type.attrs;if(a){a.nodeName&&i.push(r=new $m(a.nodeName));for(let l in a){let c=a[l];c!=null&&(n&&i.length==1&&i.push(r=new $m(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+c:l=="style"?r.style=(r.style?r.style+";":"")+c:l!="nodeName"&&(r[l]=c))}}}return i}function WH(t,e,n,r){if(n==Ku&&r==Ku)return e;let i=e;for(let s=0;s<r.length;s++){let a=r[s],l=n[s];if(s){let c;l&&l.nodeName==a.nodeName&&i!=t&&(c=i.parentNode)&&c.nodeName.toLowerCase()==a.nodeName||(c=document.createElement(a.nodeName),c.pmIsDeco=!0,c.appendChild(i),l=Ku[0]),i=c}Vhe(i,l||Ku[0],a)}return i}function Vhe(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function GH(t,e,n){return WH(t,t,Ku,JA(e,n,t.nodeType!=1))}function qb(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function CL(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Bhe{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=zhe(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=As,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let d=this.top.children[c];if(d.matchesMark(e[s])&&!this.isLocked(d.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=Ed.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))s=this.top.children.indexOf(a,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let d=this.top.children[l];if(d.matchesNode(e,n,r)&&!this.preMatch.matched.has(d)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let a=this.top.children[i];return a.dirty==Ka&&a.dom==a.contentDOM&&(a.dirty=Gu),a.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,a){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof Tc){let d=this.preMatch.matched.get(c);if(d!=null&&d!=s)return!1;let f=c.dom,p,g=this.isLocked(f)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=Ka&&qb(n,c.outerDeco));if(!g&&c.update(e,n,r,i))return this.destroyBetween(this.index,l),c.dom!=f&&(this.changed=!0),this.index++,!0;if(!g&&(p=this.recreateWrapper(c,e,n,r,i,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=Gu,p.updateChildren(i,a+1),p.dirty=As),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!qb(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=Tc.create(this.top,n,r,i,s,a);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,n,r,i,s){let a=Tc.create(this.top,e,n,r,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new $H(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Ed;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof t1)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ti||Fr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new HH(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function zhe(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,a=[];e:for(;i>0;){let l;for(;;)if(r){let d=n.children[r-1];if(d instanceof Ed)n=d,r=d.children.length;else{l=d,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=l.node;if(c){if(c!=t.child(i-1))break;--i,s.set(l,i),a.push(l)}}return{index:i,matched:s,matches:a.reverse()}}function Uhe(t,e){return t.type.side-e.type.side}function Fhe(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let d=0;d<t.childCount;d++){let f=t.child(d);r(f,i,e.forChild(s,f),d),s+=f.nodeSize}return}let a=0,l=[],c=null;for(let d=0;;){let f,p;for(;a<i.length&&i[a].to==s;){let S=i[a++];S.widget&&(f?(p||(p=[f])).push(S):f=S)}if(f)if(p){p.sort(Uhe);for(let S=0;S<p.length;S++)n(p[S],d,!!c)}else n(f,d,!!c);let g,v;if(c)v=-1,g=c,c=null;else if(d<t.childCount)v=d,g=t.child(d++);else break;for(let S=0;S<l.length;S++)l[S].to<=s&&l.splice(S--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)l.push(i[a++]);let b=s+g.nodeSize;if(g.isText){let S=b;a<i.length&&i[a].from<S&&(S=i[a].from);for(let k=0;k<l.length;k++)l[k].to<S&&(S=l[k].to);S<b&&(c=g.cut(S-s),g=g.cut(0,S-s),b=S,v=-1)}else for(;a<i.length&&i[a].to<b;)a++;let E=g.isInline&&!g.isLeaf?l.filter(S=>!S.inline):l.slice();r(g,E,e.forChild(s,g),v),s=b}}function $he(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Hhe(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let a=t.child(i++),l=s;if(s+=a.nodeSize,!a.isText)continue;let c=a.text;for(;i<t.childCount;){let d=t.child(i++);if(s+=d.nodeSize,!d.isText)break;c+=d.text}if(s>=n){if(s>=r&&c.slice(r-e.length-l,r-l)==e)return r-e.length;let d=l<r?c.lastIndexOf(e,r-l-1):-1;if(d>=0&&d+e.length+l>=n)return l+d;if(n==r&&c.length>=r+e.length-l&&c.slice(r-l,r-l+e.length)==e)return r}}return-1}function ZA(t,e,n,r,i){let s=[];for(let a=0,l=0;a<t.length;a++){let c=t[a],d=l,f=l+=c.size;d>=n||f<=e?s.push(c):(d<e&&s.push(c.slice(0,e-d,r)),i&&(s.push(i),i=void 0),f>n&&s.push(c.slice(n-d,c.size,r)))}return s}function oO(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=r.resolve(a),c,d;if(e1(n)){for(c=a;i&&!i.node;)i=i.parent;let p=i.node;if(i&&p.isAtom&&Le.isSelectable(p)&&i.parent&&!(p.isInline&&ghe(n.focusNode,n.focusOffset,i.dom))){let g=i.posBefore;d=new Le(a==g?l:r.resolve(g))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let p=a,g=a;for(let v=0;v<n.rangeCount;v++){let b=n.getRangeAt(v);p=Math.min(p,t.docView.posFromDOM(b.startContainer,b.startOffset,1)),g=Math.max(g,t.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(p<0)return null;[c,a]=g==t.state.selection.anchor?[g,p]:[p,g],l=r.resolve(a)}else c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let f=r.resolve(c);if(!d){let p=e=="pointer"||t.state.selection.head<l.pos&&!s?1:-1;d=lO(t,f,l,p)}return d}function KH(t){return t.editable?t.hasFocus():XH(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Bo(t,e=!1){let n=t.state.selection;if(YH(t,n),!!KH(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Fr){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Td(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Whe(t);else{let{anchor:r,head:i}=n,s,a;NL&&!(n instanceof $e)&&(n.$from.parent.inlineContent||(s=OL(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=OL(t,n.to))),t.docView.setSelection(r,i,t,e),NL&&(s&&ML(s),a&&ML(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&qhe(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const NL=ti||Fr&&RH<63;function OL(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(ti&&i&&i.contentEditable=="false")return DE(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return DE(i);if(s)return DE(s)}}function DE(t){return t.contentEditable="true",ti&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function ML(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function qhe(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!KH(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Whe(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Tr(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Ti&&Sc<=11&&(n.disabled=!0,n.disabled=!1)}function YH(t,e){if(e instanceof Le){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(jL(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else jL(t)}function jL(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function lO(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||$e.between(e,n,r)}function IL(t){return t.editable&&!t.hasFocus()?!1:XH(t)}function XH(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Ghe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Td(e.node,e.offset,n.anchorNode,n.anchorOffset)}function eC(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Ze.findFrom(s,e)}function Ql(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function DL(t,e,n){let r=t.state.selection;if(r instanceof $e)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Ql(t,new $e(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=eC(t.state,e);return i&&i instanceof Le?Ql(t,i):!1}else if(!(ms&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=t.docView.descAt(l))&&!a.contentDOM?Le.isSelectable(s)?Ql(t,new Le(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):f0?Ql(t,new $e(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Le&&r.node.isInline)return Ql(t,new $e(e>0?r.$to:r.$from));{let i=eC(t.state,e);return i?Ql(t,i):!1}}}function Wb(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Hm(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Of(t,e){return e<0?Khe(t):Yhe(t)}function Khe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,a=!1;for(_s&&n.nodeType==1&&r<Wb(n)&&Hm(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(Hm(l,-1))i=n,s=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(QH(n))break;{let l=n.previousSibling;for(;l&&Hm(l,-1);)i=n.parentNode,s=Tr(l),l=l.previousSibling;if(l)n=l,r=Wb(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?tC(t,n,r):i&&tC(t,i,s)}function Yhe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Wb(n),s,a;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(Hm(l,1))s=n,a=++r;else break}else{if(QH(n))break;{let l=n.nextSibling;for(;l&&Hm(l,1);)s=l.parentNode,a=Tr(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=Wb(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&tC(t,s,a)}function QH(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Xhe(t,e){for(;t&&e==t.childNodes.length&&!d0(t);)e=Tr(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function Qhe(t,e){for(;t&&!e&&!d0(t);)e=Tr(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function tC(t,e,n){if(e.nodeType!=3){let s,a;(a=Xhe(e,n))?(e=a,n=0):(s=Qhe(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(e1(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Bo(t)},50)}function PL(t,e){let n=t.state.doc.resolve(e);if(!(Fr||bhe)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function RL(t,e,n){let r=t.state.selection;if(r instanceof $e&&!r.empty||n.indexOf("s")>-1||ms&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=eC(t.state,e);if(a&&a instanceof Le)return Ql(t,a)}if(!i.parent.inlineContent){let a=e<0?i:s,l=r instanceof Hi?Ze.near(a,e):Ze.findFrom(a,e);return l?Ql(t,l):!1}return!1}function LL(t,e){if(!(t.state.selection instanceof $e))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=t.state.tr;return e<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),t.dispatch(a),!0}return!1}function VL(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Jhe(t){if(!ti||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;VL(t,r,"true"),setTimeout(()=>VL(t,r,"false"),20)}return!1}function Zhe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function epe(t,e){let n=e.keyCode,r=Zhe(e);if(n==8||ms&&n==72&&r=="c")return LL(t,-1)||Of(t,-1);if(n==46&&!e.shiftKey||ms&&n==68&&r=="c")return LL(t,1)||Of(t,1);if(n==13||n==27)return!0;if(n==37||ms&&n==66&&r=="c"){let i=n==37?PL(t,t.state.selection.from)=="ltr"?-1:1:-1;return DL(t,i,r)||Of(t,i)}else if(n==39||ms&&n==70&&r=="c"){let i=n==39?PL(t,t.state.selection.from)=="ltr"?1:-1:1;return DL(t,i,r)||Of(t,i)}else{if(n==38||ms&&n==80&&r=="c")return RL(t,-1,r)||Of(t,-1);if(n==40||ms&&n==78&&r=="c")return Jhe(t)||RL(t,1,r)||Of(t,1);if(r==(ms?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function cO(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let v=r.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let a=t.someProp("clipboardSerializer")||Ld.fromSchema(t.state.schema),l=rq(),c=l.createElement("div");c.appendChild(a.serializeFragment(r,{document:l}));let d=c.firstChild,f,p=0;for(;d&&d.nodeType==1&&(f=nq[d.nodeName.toLowerCase()]);){for(let v=f.length-1;v>=0;v--){let b=l.createElement(f[v]);for(;c.firstChild;)b.appendChild(c.firstChild);c.appendChild(b),p++}d=c.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${i} ${s}${p?` -${p}`:""} ${JSON.stringify(n)}`);let g=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:g,slice:e}}function JH(t,e,n,r,i){let s=i.parent.type.spec.code,a,l;if(!n&&!e)return null;let c=!!e&&(r||s||!n);if(c){if(t.someProp("transformPastedText",g=>{e=g(e,s||r,t)}),s)return l=new Ee(ge.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",g=>{l=g(l,t,!0)}),l;let p=t.someProp("clipboardTextParser",g=>g(e,i,r,t));if(p)l=p;else{let g=i.marks(),{schema:v}=t.state,b=Ld.fromSchema(v);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(E=>{let S=a.appendChild(document.createElement("p"));E&&S.appendChild(b.serializeNode(v.text(E,g)))})}}else t.someProp("transformPastedHTML",p=>{n=p(n,t)}),a=ipe(n),f0&&spe(a);let d=a&&a.querySelector("[data-pm-slice]"),f=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let p=+f[3];p>0;p--){let g=a.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;a=g}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||wc.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(c||f),context:i,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!tpe.test(g.parentNode.nodeName)?{ignore:!0}:null}})),f)l=ape(BL(l,+f[1],+f[2]),f[4]);else if(l=Ee.maxOpen(npe(l.content,i),!0),l.openStart||l.openEnd){let p=0,g=0;for(let v=l.content.firstChild;p<l.openStart&&!v.type.spec.isolating;p++,v=v.firstChild);for(let v=l.content.lastChild;g<l.openEnd&&!v.type.spec.isolating;g++,v=v.lastChild);l=BL(l,p,g)}return t.someProp("transformPasted",p=>{l=p(l,t,c)}),l}const tpe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function npe(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,a=[];if(t.forEach(l=>{if(!a)return;let c=i.findWrapping(l.type),d;if(!c)return a=null;if(d=a.length&&s.length&&eq(c,s,l,a[a.length-1],0))a[a.length-1]=d;else{a.length&&(a[a.length-1]=tq(a[a.length-1],s.length));let f=ZH(l,c);a.push(f),i=i.matchType(f.type),s=c}}),a)return ge.from(a)}return t}function ZH(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ge.from(t));return t}function eq(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=eq(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(ge.from(ZH(n,t,i+1))))}}function tq(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,tq(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ge.empty,!0);return t.copy(n.append(r))}function nC(t,e,n,r,i,s){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(s=0),i<r-1&&(l=nC(l,e,n,r,i+1,s)),i>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(ge.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function BL(t,e,n){return e<t.openStart&&(t=new Ee(nC(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Ee(nC(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const nq={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let zL=null;function rq(){return zL||(zL=document.implementation.createHTMLDocument("title"))}let PE=null;function rpe(t){let e=window.trustedTypes;return e?(PE||(PE=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),PE.createHTML(t)):t}function ipe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=rq().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&nq[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=rpe(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function spe(t){let e=t.querySelectorAll(Fr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function ape(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:a}=t;for(let l=r.length-2;l>=0;l-=2){let c=n.nodes[r[l]];if(!c||c.hasRequiredAttrs())break;i=ge.from(c.create(r[l+1],i)),s++,a++}return new Ee(i,s,a)}const ni={},ri={},ope={touchstart:!0,touchmove:!0};class lpe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function cpe(t){for(let e in ni){let n=ni[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{dpe(t,r)&&!uO(t,r)&&(t.editable||!(r.type in ri))&&n(t,r)},ope[e]?{passive:!0}:void 0)}ti&&t.dom.addEventListener("input",()=>null),rC(t)}function fc(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function upe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function rC(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>uO(t,r))})}function uO(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function dpe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function fpe(t,e){!uO(t,e)&&ni[e.type]&&(t.editable||!(e.type in ri))&&ni[e.type](t,e)}ri.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!sq(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Do&&Fr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),kh&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,$u(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||epe(t,n)?n.preventDefault():fc(t,"key")};ri.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ri.keypress=(t,e)=>{let n=e;if(sq(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||ms&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof $e)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function n1(t){return{left:t.clientX,top:t.clientY}}function hpe(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function dO(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(t.someProp(e,l=>a>s.depth?l(t,n,s.nodeAfter,s.before(a),i,!0):l(t,n,s.node(a),s.before(a),i,!1)))return!0;return!1}function lh(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function ppe(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Le.isSelectable(r)?(lh(t,new Le(n)),!0):!1}function mpe(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Le&&(r=n.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let l=a>s.depth?s.nodeAfter:s.node(a);if(Le.isSelectable(l)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(a);break}}return i!=null?(lh(t,Le.create(t.state.doc,i)),!0):!1}function gpe(t,e,n,r,i){return dO(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?mpe(t,n):ppe(t,n))}function ype(t,e,n,r){return dO(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function vpe(t,e,n,r){return dO(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||bpe(t,n,r)}function bpe(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(lh(t,$e.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(a.inlineContent)lh(t,$e.create(r,l+1,l+1+a.content.size));else if(Le.isSelectable(a))lh(t,Le.create(r,l));else continue;return!0}}function fO(t){return Gb(t)}const iq=ms?"metaKey":"ctrlKey";ni.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=fO(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&hpe(n,t.input.lastClick)&&!n[iq]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let a=t.posAtCoords(n1(n));a&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new xpe(t,a,n,!!r)):(s=="doubleClick"?ype:vpe)(t,a.pos,a.inside,n)?n.preventDefault():fc(t,"pointer"))};class xpe{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[iq],this.allowDefault=r.shiftKey;let s,a;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),a=n.inside;else{let f=e.state.doc.resolve(n.pos);s=f.parent,a=f.depth?f.before():0}const l=i?null:r.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:d}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||d instanceof Le&&d.from<=a&&d.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&_s&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),fc(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Bo(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(n1(e))),this.updateAllowDefault(e),this.allowDefault||!n?fc(this.view,"pointer"):gpe(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ti&&this.mightDrag&&!this.mightDrag.node.isAtom||Fr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(lh(this.view,Ze.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):fc(this.view,"pointer")}move(e){this.updateAllowDefault(e),fc(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ni.touchstart=t=>{t.input.lastTouch=Date.now(),fO(t),fc(t,"pointer")};ni.touchmove=t=>{t.input.lastTouch=Date.now(),fc(t,"pointer")};ni.contextmenu=t=>fO(t);function sq(t,e){return t.composing?!0:ti&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const wpe=Do?5e3:-1;ri.compositionstart=ri.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof $e&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Gb(t,!0),t.markCursor=null;else if(Gb(t,!e.selection.empty),_s&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let l=t.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}t.input.composing=!0}aq(t,wpe)};ri.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,aq(t,20))};function aq(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Gb(t),e))}function oq(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Tpe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Spe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=phe(e.focusNode,e.focusOffset),r=mhe(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function Tpe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Gb(t,e=!1){if(!(Do&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),oq(t),e||t.docView&&t.docView.dirty){let n=oO(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Epe(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const wg=Ti&&Sc<15||kh&&xhe<604;ni.copy=ri.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=wg?null:n.clipboardData,a=r.content(),{dom:l,text:c}=cO(t,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",c)):Epe(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function kpe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function _pe(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Sg(t,r.value,null,i,e):Sg(t,r.textContent,r.innerHTML,i,e)},50)}function Sg(t,e,n,r,i){let s=JH(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,i,s||Ee.empty)))return!0;if(!s)return!1;let a=kpe(s),l=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function lq(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ri.paste=(t,e)=>{let n=e;if(t.composing&&!Do)return;let r=wg?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Sg(t,lq(r),r.getData("text/html"),i,n)?n.preventDefault():_pe(t,n)};class cq{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const Ape=ms?"altKey":"ctrlKey";function uq(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[Ape]}ni.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(n1(n)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Le?i.to-1:i.to))){if(r&&r.mightDrag)a=Le.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let p=t.docView.nearestDesc(n.target,!0);p&&p.node.type.spec.draggable&&p!=t.docView&&(a=Le.create(t.state.doc,p.posBefore))}}let l=(a||t.state.selection).content(),{dom:c,text:d,slice:f}=cO(t,l);(!n.dataTransfer.files.length||!Fr||RH>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(wg?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",wg||n.dataTransfer.setData("text/plain",d),t.dragging=new cq(f,uq(t,n),a)};ni.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ri.dragover=ri.dragenter=(t,e)=>e.preventDefault();ri.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(n1(n));if(!i)return;let s=t.state.doc.resolve(i.pos),a=r&&r.slice;a?t.someProp("transformPasted",b=>{a=b(a,t,!1)}):a=JH(t,lq(n.dataTransfer),wg?null:n.dataTransfer.getData("text/html"),!1,s);let l=!!(r&&uq(t,n));if(t.someProp("handleDrop",b=>b(t,n,a||Ee.empty,l))){n.preventDefault();return}if(!a)return;n.preventDefault();let c=a?mH(t.state.doc,s.pos,a):s.pos;c==null&&(c=s.pos);let d=t.state.tr;if(l){let{node:b}=r;b?b.replace(d):d.deleteSelection()}let f=d.mapping.map(c),p=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,g=d.doc;if(p?d.replaceRangeWith(f,f,a.content.firstChild):d.replaceRange(f,f,a),d.doc.eq(g))return;let v=d.doc.resolve(f);if(p&&Le.isSelectable(a.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(a.content.firstChild))d.setSelection(new Le(v));else{let b=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((E,S,k,C)=>b=C),d.setSelection(lO(t,v,d.doc.resolve(b)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))};ni.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Bo(t)},20))};ni.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};ni.beforeinput=(t,e)=>{if(Fr&&Do&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,$u(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in ri)ni[t]=ri[t];function Tg(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Kb{constructor(e,n){this.toDOM=e,this.spec=n||ld,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:a}=e.mapResult(n.from+i,this.side<0?-1:1);return a?null:new Qr(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Kb&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Tg(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ec{constructor(e,n){this.attrs=e,this.spec=n||ld}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new Qr(s,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Ec&&Tg(this.attrs,e.attrs)&&Tg(this.spec,e.spec)}static is(e){return e.type instanceof Ec}destroy(){}}class hO{constructor(e,n){this.attrs=e,this.spec=n||ld}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let a=e.mapResult(n.to+i,-1);return a.deleted||a.pos<=s.pos?null:new Qr(s.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof hO&&Tg(this.attrs,e.attrs)&&Tg(this.spec,e.spec)}destroy(){}}class Qr{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Qr(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Qr(e,e,new Kb(n,r))}static inline(e,n,r,i){return new Qr(e,n,new Ec(r,i))}static node(e,n,r,i){return new Qr(e,n,new hO(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ec}get widget(){return this.type instanceof Kb}}const zf=[],ld={};class an{constructor(e,n){this.local=e.length?e:zf,this.children=n.length?n:zf}static create(e,n){return n.length?Yb(n,e,0,ld):Rr}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=n&&l.to>=e&&(!s||s(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let l=this.children[a]+1;this.children[a+2].findInner(e-l,n-l,r,i+l,s)}}map(e,n,r){return this==Rr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||ld)}mapInner(e,n,r,i,s){let a;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,r,i);c&&c.type.valid(n,c)?(a||(a=[])).push(c):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?Cpe(this.children,a||[],e,n,r,i,s):a?new an(a.sort(cd),zf):Rr}add(e,n){return n.length?this==Rr?an.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((l,c)=>{let d=c+r,f;if(f=fq(n,l,d)){for(i||(i=this.children.slice());s<i.length&&i[s]<c;)s+=3;i[s]==c?i[s+2]=i[s+2].addInner(l,f,d+1):i.splice(s,0,c,c+l.nodeSize,Yb(f,l,d+1,ld)),s+=3}});let a=dq(s?hq(n):n,-r);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new an(a.length?this.local.concat(a).sort(cd):this.local,i||this.children)}remove(e){return e.length==0||this==Rr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,l=r[s]+n,c=r[s+1]+n;for(let f=0,p;f<e.length;f++)(p=e[f])&&p.from>l&&p.to<c&&(e[f]=null,(a||(a=[])).push(p));if(!a)continue;r==this.children&&(r=this.children.slice());let d=r[s+2].removeInner(a,l+1);d!=Rr?r[s+2]=d:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let l=0;l<i.length;l++)i[l].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new an(i,r):Rr}forChild(e,n){if(this==Rr)return this;if(n.isLeaf)return an.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let s=e+1,a=s+n.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<a&&c.to>s&&c.type instanceof Ec){let d=Math.max(s,c.from)-s,f=Math.min(a,c.to)-s;d<f&&(i||(i=[])).push(c.copy(d,f))}}if(i){let l=new an(i.sort(cd),zf);return r?new ac([l,r]):l}return r||Rr}eq(e){if(this==e)return!0;if(!(e instanceof an)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return pO(this.localsInner(e))}localsInner(e){if(this==Rr)return zf;if(e.inlineContent||!this.local.some(Ec.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Ec||n.push(this.local[r]);return n}forEachSet(e){e(this)}}an.empty=new an([],[]);an.removeOverlap=pO;const Rr=an.empty;class ac{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,ld));return ac.from(r)}forChild(e,n){if(n.isLeaf)return an.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Rr&&(s instanceof ac?r=r.concat(s.members):r.push(s))}return ac.from(r)}eq(e){if(!(e instanceof ac)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?pO(r?n:n.sort(cd)):zf}static from(e){switch(e.length){case 0:return Rr;case 1:return e[0];default:return new ac(e.every(n=>n instanceof an)?e:e.reduce((n,r)=>n.concat(r instanceof an?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function Cpe(t,e,n,r,i,s,a){let l=t.slice();for(let d=0,f=s;d<n.maps.length;d++){let p=0;n.maps[d].forEach((g,v,b,E)=>{let S=E-b-(v-g);for(let k=0;k<l.length;k+=3){let C=l[k+1];if(C<0||g>C+f-p)continue;let O=l[k]+f-p;v>=O?l[k+1]=g<=O?-2:-1:g>=f&&S&&(l[k]+=S,l[k+1]+=S)}p+=S}),f=n.maps[d].map(f,-1)}let c=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){c=!0,l[d+1]=-1;continue}let f=n.map(t[d]+s),p=f-i;if(p<0||p>=r.content.size){c=!0;continue}let g=n.map(t[d+1]+s,-1),v=g-i,{index:b,offset:E}=r.content.findIndex(p),S=r.maybeChild(b);if(S&&E==p&&E+S.nodeSize==v){let k=l[d+2].mapInner(n,S,f+1,t[d]+s+1,a);k!=Rr?(l[d]=p,l[d+1]=v,l[d+2]=k):(l[d+1]=-2,c=!0)}else c=!0}if(c){let d=Npe(l,t,e,n,i,s,a),f=Yb(d,r,0,a);e=f.local;for(let p=0;p<l.length;p+=3)l[p+1]<0&&(l.splice(p,3),p-=3);for(let p=0,g=0;p<f.children.length;p+=3){let v=f.children[p];for(;g<l.length&&l[g]<v;)g+=3;l.splice(g,0,f.children[p],f.children[p+1],f.children[p+2])}}return new an(e.sort(cd),l)}function dq(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Qr(i.from+e,i.to+e,i.type))}return n}function Npe(t,e,n,r,i,s,a){function l(c,d){for(let f=0;f<c.local.length;f++){let p=c.local[f].map(r,i,d);p?n.push(p):a.onRemove&&a.onRemove(c.local[f].spec)}for(let f=0;f<c.children.length;f+=3)l(c.children[f+2],c.children[f]+d+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+s+1);return n}function fq(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,a;s<t.length;s++)(a=t[s])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),t[s]=null);return i}function hq(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Yb(t,e,n,r){let i=[],s=!1;e.forEach((l,c)=>{let d=fq(t,l,c+n);if(d){s=!0;let f=Yb(d,l,n+c+1,r);f!=Rr&&i.push(c,c+l.nodeSize,f)}});let a=dq(s?hq(t):t,-n).sort(cd);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(r.onRemove&&r.onRemove(a[l].spec),a.splice(l--,1));return a.length||i.length?new an(a,i):Rr}function cd(t,e){return t.from-e.from||t.to-e.to}function pO(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),UL(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),UL(e,i,r.copy(s.from,r.to)));break}}}return e}function UL(t,e,n){for(;e<t.length&&cd(n,t[e])>0;)e++;t.splice(e,0,n)}function RE(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Rr&&e.push(r)}),t.cursorWrapper&&e.push(an.create(t.state.doc,[t.cursorWrapper.deco])),ac.from(e)}const Ope={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Mpe=Ti&&Sc<=11;class jpe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Ipe{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new jpe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Ti&&Sc<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Mpe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Ope)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(IL(this.view)){if(this.suppressingSelectionUpdates)return Bo(this.view);if(Ti&&Sc<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Td(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Eh(s))n.add(s);for(let s=e.anchorNode;s;s=Eh(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&IL(e)&&!this.ignoreSelectionChange(r),s=-1,a=-1,l=!1,c=[];if(e.editable)for(let f=0;f<n.length;f++){let p=this.registerMutation(n[f],c);p&&(s=s<0?p.from:Math.min(p.from,s),a=a<0?p.to:Math.max(p.to,a),p.typeOver&&(l=!0))}if(_s&&c.length){let f=c.filter(p=>p.nodeName=="BR");if(f.length==2){let[p,g]=f;p.parentNode&&p.parentNode.parentNode==g.parentNode?g.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let g of f){let v=g.parentNode;v&&v.nodeName=="LI"&&(!p||Rpe(e,p)!=v)&&g.remove()}}}let d=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&e1(r)&&(d=oO(e))&&d.eq(Ze.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Bo(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,a),Dpe(e)),this.handleDOMChange(s,a,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Bo(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let p=e.addedNodes[f];n.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Ti&&Sc<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:p,nextSibling:g}=e.addedNodes[f];(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g)}let a=i&&i.parentNode==e.target?Tr(i)+1:0,l=r.localPosFromDOM(e.target,a,-1),c=s&&s.parentNode==e.target?Tr(s):e.target.childNodes.length,d=r.localPosFromDOM(e.target,c,1);return{from:l,to:d}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let FL=new WeakMap,$L=!1;function Dpe(t){if(!FL.has(t)&&(FL.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=_s,$L)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),$L=!0}}function HL(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return Td(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function Ppe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return HL(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?HL(t,n):null}function Rpe(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Lpe(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:a,to:l}=t.docView.parseRange(e,n),c=t.domSelectionRange(),d,f=c.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(d=[{node:f,offset:c.anchorOffset}],e1(c)||d.push({node:c.focusNode,offset:c.focusOffset})),Fr&&t.input.lastKeyCode===8)for(let S=s;S>i;S--){let k=r.childNodes[S-1],C=k.pmViewDesc;if(k.nodeName=="BR"&&!C){s=S;break}if(!C||C.size)break}let p=t.state.doc,g=t.someProp("domParser")||wc.fromSchema(t.state.schema),v=p.resolve(a),b=null,E=g.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:i,to:s,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:Vpe,context:v});if(d&&d[0].pos!=null){let S=d[0].pos,k=d[1]&&d[1].pos;k==null&&(k=S),b={anchor:S+a,head:k+a}}return{doc:E,sel:b,from:a,to:l}}function Vpe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(ti&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||ti&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Bpe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function zpe(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let I=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,j=oO(t,I);if(j&&!t.state.selection.eq(j)){if(Fr&&Do&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",R=>R(t,$u(13,"Enter"))))return;let M=t.state.tr.setSelection(j);I=="pointer"?M.setMeta("pointer",!0):I=="key"&&M.scrollIntoView(),s&&M.setMeta("composition",s),t.dispatch(M)}return}let a=t.state.doc.resolve(e),l=a.sharedDepth(n);e=a.before(l+1),n=t.state.doc.resolve(n).after(l+1);let c=t.state.selection,d=Lpe(t,e,n),f=t.state.doc,p=f.slice(d.from,d.to),g,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(g=t.state.selection.to,v="end"):(g=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let b=$pe(p.content,d.doc.content,d.from,g,v);if(b&&t.input.domChangeCount++,(kh&&t.input.lastIOSEnter>Date.now()-225||Do)&&i.some(I=>I.nodeType==1&&!Bpe.test(I.nodeName))&&(!b||b.endA>=b.endB)&&t.someProp("handleKeyDown",I=>I(t,$u(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!b)if(r&&c instanceof $e&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))b={start:c.from,endA:c.to,endB:c.to};else{if(d.sel){let I=qL(t,t.state.doc,d.sel);if(I&&!I.eq(t.state.selection)){let j=t.state.tr.setSelection(I);s&&j.setMeta("composition",s),t.dispatch(j)}}return}t.state.selection.from<t.state.selection.to&&b.start==b.endB&&t.state.selection instanceof $e&&(b.start>t.state.selection.from&&b.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?b.start=t.state.selection.from:b.endA<t.state.selection.to&&b.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(b.endB+=t.state.selection.to-b.endA,b.endA=t.state.selection.to)),Ti&&Sc<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>d.from&&d.doc.textBetween(b.start-d.from-1,b.start-d.from+1)==" "&&(b.start--,b.endA--,b.endB--);let E=d.doc.resolveNoCache(b.start-d.from),S=d.doc.resolveNoCache(b.endB-d.from),k=f.resolve(b.start),C=E.sameParent(S)&&E.parent.inlineContent&&k.end()>=b.endA;if((kh&&t.input.lastIOSEnter>Date.now()-225&&(!C||i.some(I=>I.nodeName=="DIV"||I.nodeName=="P"))||!C&&E.pos<d.doc.content.size&&(!E.sameParent(S)||!E.parent.inlineContent)&&E.pos<S.pos&&!/\S/.test(d.doc.textBetween(E.pos,S.pos,"","")))&&t.someProp("handleKeyDown",I=>I(t,$u(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>b.start&&Fpe(f,b.start,b.endA,E,S)&&t.someProp("handleKeyDown",I=>I(t,$u(8,"Backspace")))){Do&&Fr&&t.domObserver.suppressSelectionUpdates();return}Fr&&b.endB==b.start&&(t.input.lastChromeDelete=Date.now()),Do&&!C&&E.start()!=S.start()&&S.parentOffset==0&&E.depth==S.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==b.endA&&(b.endB-=2,S=d.doc.resolveNoCache(b.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(I){return I(t,$u(13,"Enter"))})},20));let O=b.start,z=b.endA,P=I=>{let j=I||t.state.tr.replace(O,z,d.doc.slice(b.start-d.from,b.endB-d.from));if(d.sel){let M=qL(t,j.doc,d.sel);M&&!(Fr&&t.composing&&M.empty&&(b.start!=b.endB||t.input.lastChromeDelete<Date.now()-100)&&(M.head==O||M.head==j.mapping.map(z)-1)||Ti&&M.empty&&M.head==O)&&j.setSelection(M)}return s&&j.setMeta("composition",s),j.scrollIntoView()},U;if(C){if(E.pos==S.pos){Ti&&Sc<=11&&E.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Bo(t),20));let I=P(t.state.tr.delete(O,z)),j=f.resolve(b.start).marksAcross(f.resolve(b.endA));j&&I.ensureMarks(j),t.dispatch(I)}else if(b.endA==b.endB&&(U=Upe(E.parent.content.cut(E.parentOffset,S.parentOffset),k.parent.content.cut(k.parentOffset,b.endA-k.start())))){let I=P(t.state.tr);U.type=="add"?I.addMark(O,z,U.mark):I.removeMark(O,z,U.mark),t.dispatch(I)}else if(E.parent.child(E.index()).isText&&E.index()==S.index()-(S.textOffset?0:1)){let I=E.parent.textBetween(E.parentOffset,S.parentOffset),j=()=>P(t.state.tr.insertText(I,O,z));t.someProp("handleTextInput",M=>M(t,O,z,I,j))||t.dispatch(j())}}else t.dispatch(P())}function qL(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:lO(t,e.resolve(n.anchor),e.resolve(n.head))}function Upe(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,a,l,c;for(let f=0;f<r.length;f++)i=r[f].removeFromSet(i);for(let f=0;f<n.length;f++)s=n[f].removeFromSet(s);if(i.length==1&&s.length==0)l=i[0],a="add",c=f=>f.mark(l.addToSet(f.marks));else if(i.length==0&&s.length==1)l=s[0],a="remove",c=f=>f.mark(l.removeFromSet(f.marks));else return null;let d=[];for(let f=0;f<e.childCount;f++)d.push(c(e.child(f)));if(ge.from(d).eq(t))return{mark:l,type:a}}function Fpe(t,e,n,r,i){if(n-e<=i.pos-r.pos||LE(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let l=s.nodeAfter;return l!=null&&n==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=t.resolve(LE(s,!0,!0));return!a.parent.isTextblock||a.pos>n||LE(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function LE(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function $pe(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let c=Math.max(0,s-Math.min(a,l));r-=a+c-s}if(a<s&&t.size<e.size){let c=r<=s&&r>=a?s-r:0;s-=c,s&&s<e.size&&WL(e.textBetween(s-1,s+1))&&(s+=c?1:-1),l=s+(l-a),a=s}else if(l<s){let c=r<=s&&r>=l?s-r:0;s-=c,s&&s<t.size&&WL(t.textBetween(s-1,s+1))&&(s+=c?1:-1),a=s+(a-l),l=s}return{start:s,endA:a,endB:l}}function WL(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class pq{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new lpe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(QL),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=YL(this),KL(this),this.nodeViews=XL(this),this.docView=AL(this.state.doc,GL(this),RE(this),this.dom,this),this.domObserver=new Ipe(this,(r,i,s,a)=>zpe(this,r,i,s,a)),this.domObserver.start(),cpe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&rC(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(QL),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(oq(this),a=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=XL(this);qpe(v,this.nodeViews)&&(this.nodeViews=v,s=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&rC(this),this.editable=YL(this),KL(this);let c=RE(this),d=GL(this),f=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",p=s||!this.docView.matchesNode(e.doc,d,c);(p||!e.selection.eq(i.selection))&&(a=!0);let g=f=="preserve"&&a&&this.dom.style.overflowAnchor==null&&The(this);if(a){this.domObserver.stop();let v=p&&(Ti||Fr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Hpe(i.selection,e.selection);if(p){let b=Fr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Spe(this)),(s||!this.docView.update(e.doc,d,c,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=AL(e.doc,d,c,this.dom,this)),b&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Ghe(this))?Bo(this,v):(YH(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():g&&Ehe(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Le){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&wL(this,n.getBoundingClientRect(),e)}else wL(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new cq(e.slice,e.move,i<0?void 0:Le.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[e];if(l!=null&&(i=n?n(l):l))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let l=s[a].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(Ti){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&khe(this.dom),Bo(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Ohe(this,e)}coordsAtPos(e,n=1){return UH(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return Phe(this,n||this.state,e)}pasteHTML(e,n){return Sg(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Sg(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return cO(this,e)}destroy(){this.docView&&(upe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],RE(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,fhe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return fpe(this,e)}domSelectionRange(){let e=this.domSelection();return e?ti&&this.root.nodeType===11&&yhe(this.dom.ownerDocument)==this.dom&&Ppe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}pq.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function GL(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Qr.node(0,t.state.doc.content.size,e)]}function KL(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Qr.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function YL(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Hpe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function XL(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function qpe(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function QL(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Pc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Xb={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Wpe=typeof navigator<"u"&&/Mac/.test(navigator.platform),Gpe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Er=0;Er<10;Er++)Pc[48+Er]=Pc[96+Er]=String(Er);for(var Er=1;Er<=24;Er++)Pc[Er+111]="F"+Er;for(var Er=65;Er<=90;Er++)Pc[Er]=String.fromCharCode(Er+32),Xb[Er]=String.fromCharCode(Er);for(var VE in Pc)Xb.hasOwnProperty(VE)||(Xb[VE]=Pc[VE]);function Kpe(t){var e=Wpe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Gpe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Xb:Pc)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Ype=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Xpe=typeof navigator<"u"&&/Win/.test(navigator.platform);function Qpe(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,a;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))Ype?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function Jpe(t){let e=Object.create(null);for(let n in t)e[Qpe(n)]=t[n];return e}function BE(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Zpe(t){return new cn({props:{handleKeyDown:mq(t)}})}function mq(t){let e=Jpe(t);return function(n,r){let i=Kpe(r),s,a=e[BE(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[BE(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Xpe&&r.ctrlKey&&r.altKey)&&(s=Pc[r.keyCode])&&s!=i){let l=e[BE(s,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}var eme=Object.defineProperty,mO=(t,e)=>{for(var n in e)eme(t,n,{get:e[n],enumerable:!0})};function r1(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var i1=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...d)=>{const f=l(...d)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a=[],l=!!t,c=t||i.tr,d=()=>(!l&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(p=>p===!0)),f={...Object.fromEntries(Object.entries(n).map(([p,g])=>[p,(...b)=>{const E=this.buildProps(c,e),S=g(...b)(E);return a.push(S),f}])),run:d};return f}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...d)=>c(...d)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a={tr:t,editor:r,view:s,state:r1({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...d)=>c(...d)(a)]))}};return a}},gq={};mO(gq,{blur:()=>tme,clearContent:()=>nme,clearNodes:()=>rme,command:()=>ime,createParagraphNear:()=>sme,cut:()=>ame,deleteCurrentNode:()=>ome,deleteNode:()=>lme,deleteRange:()=>cme,deleteSelection:()=>ume,enter:()=>dme,exitCode:()=>fme,extendMarkRange:()=>hme,first:()=>pme,focus:()=>gme,forEach:()=>yme,insertContent:()=>vme,insertContentAt:()=>wme,joinBackward:()=>Eme,joinDown:()=>Tme,joinForward:()=>kme,joinItemBackward:()=>_me,joinItemForward:()=>Ame,joinTextblockBackward:()=>Cme,joinTextblockForward:()=>Nme,joinUp:()=>Sme,keyboardShortcut:()=>Mme,lift:()=>jme,liftEmptyBlock:()=>Ime,liftListItem:()=>Dme,newlineInCode:()=>Pme,resetAttributes:()=>Rme,scrollIntoView:()=>Lme,selectAll:()=>Vme,selectNodeBackward:()=>Bme,selectNodeForward:()=>zme,selectParentNode:()=>Ume,selectTextblockEnd:()=>Fme,selectTextblockStart:()=>$me,setContent:()=>Hme,setMark:()=>uge,setMeta:()=>dge,setNode:()=>fge,setNodeSelection:()=>hge,setTextDirection:()=>pge,setTextSelection:()=>mge,sinkListItem:()=>gge,splitBlock:()=>yge,splitListItem:()=>vge,toggleList:()=>bge,toggleMark:()=>xge,toggleNode:()=>wge,toggleWrap:()=>Sge,undoInputRule:()=>Tge,unsetAllMarks:()=>Ege,unsetMark:()=>kge,unsetTextDirection:()=>_ge,updateAttributes:()=>Age,wrapIn:()=>Cge,wrapInList:()=>Nge});var tme=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),nme=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),rme=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:a})=>{t.doc.nodesBetween(s.pos,a.pos,(l,c)=>{if(l.type.isText)return;const{doc:d,mapping:f}=e,p=d.resolve(f.map(c)),g=d.resolve(f.map(c+l.nodeSize)),v=p.blockRange(g);if(!v)return;const b=Wh(v);if(l.type.isTextblock){const{defaultType:E}=p.parent.contentMatchAt(p.index());e.setNodeMarkup(v.start,E)}(b||b===0)&&e.lift(v,b)})}),!0},ime=t=>e=>t(e),sme=()=>({state:t,dispatch:e})=>MH(t,e),ame=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,s.content),r.setSelection(new $e(r.doc.resolve(Math.max(a-1,0)))),!0},ome=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const l=i.before(s),c=i.after(s);t.delete(l,c).scrollIntoView()}return!0}return!1};function Un(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var lme=t=>({tr:e,state:n,dispatch:r})=>{const i=Un(t,n.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(r){const c=s.before(a),d=s.after(a);e.delete(c,d).scrollIntoView()}return!0}return!1},cme=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},ume=()=>({state:t,dispatch:e})=>tO(t,e),dme=()=>({commands:t})=>t.keyboardShortcut("Enter"),fme=()=>({state:t,dispatch:e})=>Qfe(t,e);function gO(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Qb(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:gO(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function yq(t,e,n={}){return t.find(r=>r.type===e&&Qb(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function JL(t,e,n={}){return!!yq(t,e,n)}function yO(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(f=>f.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(f=>f.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!yq([...i.node.marks],e,n)))return;let a=i.index,l=t.start()+i.offset,c=a+1,d=l+i.node.nodeSize;for(;a>0&&JL([...t.parent.child(a-1).marks],e,n);)a-=1,l-=t.parent.child(a).nodeSize;for(;c<t.parent.childCount&&JL([...t.parent.child(c).marks],e,n);)d+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:d}}function sl(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var hme=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=sl(t,r.schema),{doc:a,selection:l}=n,{$from:c,from:d,to:f}=l;if(i){const p=yO(c,s,e);if(p&&p.from<=d&&p.to>=f){const g=$e.create(a,p.from,p.to);n.setSelection(g)}}return!0},pme=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function vq(t){return t instanceof $e}function Yu(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function bq(t,e=null){if(!e)return null;const n=Ze.atStart(t),r=Ze.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?$e.create(t,Yu(0,i,s),Yu(t.content.size,i,s)):$e.create(t,Yu(e,i,s),Yu(e,i,s))}function mme(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function vO(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var gme=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{(vO()||mme())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!vq(n.state.selection))return a(),!0;const l=bq(i.doc,t)||n.state.selection,c=n.state.selection.eq(l);return s&&(c||i.setSelection(l),c&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},yme=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),vme=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),xq=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&xq(r)}return t};function pv(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return xq(n)}function Eg(t,e,n){if(t instanceof ta||t instanceof ge)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ge.fromArray(t.map(l=>e.nodeFromJSON(l)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),Eg("",e,n)}if(i){if(n.errorOnInvalidContent){let a=!1,l="";const c=new iH({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(a=!0,l=typeof d=="string"?d:d.outerHTML,null)}]}})});if(n.slice?wc.fromSchema(c).parseSlice(pv(t),n.parseOptions):wc.fromSchema(c).parse(pv(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=wc.fromSchema(e);return n.slice?s.parseSlice(pv(t),n.parseOptions).content:s.parse(pv(t),n.parseOptions)}return Eg("",e,n)}function bme(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof ar||i instanceof or))return;const s=t.mapping.maps[r];let a=0;s.forEach((l,c,d,f)=>{a===0&&(a=f)}),t.setSelection(Ze.near(t.doc.resolve(a),n))}var xme=t=>!("type"in t),wme=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var a;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const c=S=>{s.emit("contentError",{editor:s,error:S,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Eg(e,s.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(S){c(S)}try{l=Eg(e,s.schema,{parseOptions:d,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(S){return c(S),!1}let{from:f,to:p}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},g=!0,v=!0;if((xme(l)?l:[l]).forEach(S=>{S.check(),g=g?S.isText&&S.marks.length===0:!1,v=v?S.isBlock:!1}),f===p&&v){const{parent:S}=r.doc.resolve(f);S.isTextblock&&!S.type.spec.code&&!S.childCount&&(f-=1,p+=1)}let E;if(g){if(Array.isArray(e))E=e.map(S=>S.text||"").join("");else if(e instanceof ge){let S="";e.forEach(k=>{k.text&&(S+=k.text)}),E=S}else typeof e=="object"&&e&&e.text?E=e.text:E=e;r.insertText(E,f,p)}else{E=l;const S=r.doc.resolve(f),k=S.node(),C=S.parentOffset===0,O=k.isText||k.isTextblock,z=k.content.size>0;C&&O&&z&&(f=Math.max(0,f-1)),r.replaceWith(f,p,E)}n.updateSelection&&bme(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:f,text:E}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:f,text:E})}return!0},Sme=()=>({state:t,dispatch:e})=>Kfe(t,e),Tme=()=>({state:t,dispatch:e})=>Yfe(t,e),Eme=()=>({state:t,dispatch:e})=>EH(t,e),kme=()=>({state:t,dispatch:e})=>CH(t,e),_me=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Qw(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Ame=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Qw(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Cme=()=>({state:t,dispatch:e})=>Wfe(t,e),Nme=()=>({state:t,dispatch:e})=>Gfe(t,e);function wq(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Ome(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,a;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))vO()||wq()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var Mme=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=Ome(t).split(/-(?!$)/),a=s.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",d=>d(n,l))});return c?.steps.forEach(d=>{const f=d.map(r.mapping);f&&i&&r.maybeStep(f)}),!0};function Rc(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,a=e?Un(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(p,g)=>{if(p.isText)return;const v=Math.max(r,g),b=Math.min(i,g+p.nodeSize);l.push({node:p,from:v,to:b})});const c=i-r,d=l.filter(p=>a?a.name===p.node.type.name:!0).filter(p=>Qb(p.node.attrs,n,{strict:!1}));return s?!!d.length:d.reduce((p,g)=>p+g.to-g.from,0)>=c}var jme=(t,e={})=>({state:n,dispatch:r})=>{const i=Un(t,n.schema);return Rc(n,i,e)?Xfe(n,r):!1},Ime=()=>({state:t,dispatch:e})=>jH(t,e),Dme=t=>({state:e,dispatch:n})=>{const r=Un(t,e.schema);return lhe(r)(e,n)},Pme=()=>({state:t,dispatch:e})=>OH(t,e);function s1(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function ZL(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var Rme=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const l=s1(typeof t=="string"?t:t.name,r.schema);if(!l)return!1;l==="node"&&(s=Un(t,r.schema)),l==="mark"&&(a=sl(t,r.schema));let c=!1;return n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(f,p)=>{s&&s===f.type&&(c=!0,i&&n.setNodeMarkup(p,void 0,ZL(f.attrs,e))),a&&f.marks.length&&f.marks.forEach(g=>{a===g.type&&(c=!0,i&&n.addMark(p,p+f.nodeSize,a.create(ZL(g.attrs,e))))})})}),c},Lme=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Vme=()=>({tr:t,dispatch:e})=>{if(e){const n=new Hi(t.doc);t.setSelection(n)}return!0},Bme=()=>({state:t,dispatch:e})=>_H(t,e),zme=()=>({state:t,dispatch:e})=>NH(t,e),Ume=()=>({state:t,dispatch:e})=>ehe(t,e),Fme=()=>({state:t,dispatch:e})=>rhe(t,e),$me=()=>({state:t,dispatch:e})=>nhe(t,e);function iC(t,e,n={},r={}){return Eg(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var Hme=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:a,commands:l})=>{const{doc:c}=s;if(r.preserveWhitespace!=="full"){const d=iC(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return a&&s.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function Sq(t,e){const n=sl(e,t.schema),{from:r,to:i,empty:s}=t.selection,a=[];s?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,c=>{a.push(...c.marks)});const l=a.find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function Tq(t,e){const n=new xH(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function qme(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Wme(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function Gme(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function a1(t){return e=>Gme(e.$from,t)}function De(t,e,n){return t.config[e]===void 0&&t.parent?De(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?De(t.parent,e,n):null}):t.config[e]}function bO(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=De(e,"addExtensions",n);return r?[e,...bO(r())]:e}).flat(10)}function xO(t,e){const n=Ld.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function Eq(t){return typeof t=="function"}function St(t,e=void 0,...n){return Eq(t)?e?t.bind(e)(...n):t(...n):t}function Kme(t={}){return Object.keys(t).length===0&&t.constructor===Object}function _h(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function kq(t){const e=[],{nodeExtensions:n,markExtensions:r}=_h(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage,extensions:i},c=De(a,"addGlobalAttributes",l);if(!c)return;c().forEach(f=>{f.types.forEach(p=>{Object.entries(f.attributes).forEach(([g,v])=>{e.push({type:p,name:g,attribute:{...s,...v}})})})})}),i.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},c=De(a,"addAttributes",l);if(!c)return;const d=c();Object.entries(d).forEach(([f,p])=>{const g={...s,...p};typeof g?.default=="function"&&(g.default=g.default()),g?.isRequired&&g?.default===void 0&&delete g.default,e.push({type:a.name,name:f,attribute:g})})}),e}function yn(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const l=s?String(s).split(" "):[],c=r[i]?r[i].split(" "):[],d=l.filter(f=>!c.includes(f));r[i]=[...c,...d].join(" ")}else if(i==="style"){const l=s?s.split(";").map(f=>f.trim()).filter(Boolean):[],c=r[i]?r[i].split(";").map(f=>f.trim()).filter(Boolean):[],d=new Map;c.forEach(f=>{const[p,g]=f.split(":").map(v=>v.trim());d.set(p,g)}),l.forEach(f=>{const[p,g]=f.split(":").map(v=>v.trim());d.set(p,g)}),r[i]=Array.from(d.entries()).map(([f,p])=>`${f}: ${p}`).join("; ")}else r[i]=s}),r},{})}function Jb(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>yn(n,r),{})}function Yme(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function e3(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(n):Yme(n.getAttribute(a.name));return l==null?s:{...s,[a.name]:l}},{});return{...r,...i}}}}function t3(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Kme(n)?!1:n!=null))}function n3(t){var e,n;const r={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(r.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function Xme(t,e){var n;const r=kq(t),{nodeExtensions:i,markExtensions:s}=_h(t),a=(n=i.find(d=>De(d,"topNode")))==null?void 0:n.name,l=Object.fromEntries(i.map(d=>{const f=r.filter(k=>k.type===d.name),p={name:d.name,options:d.options,storage:d.storage,editor:e},g=t.reduce((k,C)=>{const O=De(C,"extendNodeSchema",p);return{...k,...O?O(d):{}}},{}),v=t3({...g,content:St(De(d,"content",p)),marks:St(De(d,"marks",p)),group:St(De(d,"group",p)),inline:St(De(d,"inline",p)),atom:St(De(d,"atom",p)),selectable:St(De(d,"selectable",p)),draggable:St(De(d,"draggable",p)),code:St(De(d,"code",p)),whitespace:St(De(d,"whitespace",p)),linebreakReplacement:St(De(d,"linebreakReplacement",p)),defining:St(De(d,"defining",p)),isolating:St(De(d,"isolating",p)),attrs:Object.fromEntries(f.map(n3))}),b=St(De(d,"parseHTML",p));b&&(v.parseDOM=b.map(k=>e3(k,f)));const E=De(d,"renderHTML",p);E&&(v.toDOM=k=>E({node:k,HTMLAttributes:Jb(k,f)}));const S=De(d,"renderText",p);return S&&(v.toText=S),[d.name,v]})),c=Object.fromEntries(s.map(d=>{const f=r.filter(S=>S.type===d.name),p={name:d.name,options:d.options,storage:d.storage,editor:e},g=t.reduce((S,k)=>{const C=De(k,"extendMarkSchema",p);return{...S,...C?C(d):{}}},{}),v=t3({...g,inclusive:St(De(d,"inclusive",p)),excludes:St(De(d,"excludes",p)),group:St(De(d,"group",p)),spanning:St(De(d,"spanning",p)),code:St(De(d,"code",p)),attrs:Object.fromEntries(f.map(n3))}),b=St(De(d,"parseHTML",p));b&&(v.parseDOM=b.map(S=>e3(S,f)));const E=De(d,"renderHTML",p);return E&&(v.toDOM=S=>E({mark:S,HTMLAttributes:Jb(S,f)})),[d.name,v]}));return new iH({topNode:a,nodes:l,marks:c})}function Qme(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function wO(t){return t.sort((n,r)=>{const i=De(n,"priority")||100,s=De(r,"priority")||100;return i>s?-1:i<s?1:0})}function _q(t){const e=wO(bO(t)),n=Qme(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function Aq(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let l="";return t.nodesBetween(r,i,(c,d,f,p)=>{var g;c.isBlock&&d>r&&(l+=s);const v=a?.[c.type.name];if(v)return f&&(l+=v({node:c,pos:d,parent:f,index:p,range:e})),!1;c.isText&&(l+=(g=c?.text)==null?void 0:g.slice(Math.max(r,d)-d,i-d))}),l}function Jme(t,e){const n={from:0,to:t.content.size};return Aq(t,n,e)}function Cq(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function Zme(t,e){const n=Un(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,l=>{s.push(l)});const a=s.reverse().find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function Nq(t,e){const n=s1(typeof e=="string"?e:e.name,t.schema);return n==="node"?Zme(t,e):n==="mark"?Sq(t,e):{}}function ege(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function tge(t){const e=ege(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function Oq(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const a=[];if(i.ranges.length)i.forEach((l,c)=>{a.push({from:l,to:c})});else{const{from:l,to:c}=n[s];if(l===void 0||c===void 0)return;a.push({from:l,to:c})}a.forEach(({from:l,to:c})=>{const d=e.slice(s).map(l,-1),f=e.slice(s).map(c),p=e.invert().map(d,-1),g=e.invert().map(f);r.push({oldRange:{from:p,to:g},newRange:{from:d,to:f}})})}),tge(r)}function SO(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),a=yO(s,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(t,e,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),r}var nge=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,a=null;for(;s>0&&a===null;){const l=i.node(s);l?.type.name===e?a=l:s-=1}return[a,s]};function zE(t,e){return e.nodes[t]||e.marks[t]||null}function rb(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var rge=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,a,l)=>{var c,d;const f=((d=(c=i.type.spec).toText)==null?void 0:d.call(c,{node:i,pos:s,parent:a,index:l}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?f:f.slice(0,Math.max(0,r-s))}),n};function sC(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?sl(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(p=>s?s.name===p.type.name:!0).find(p=>Qb(p.attrs,n,{strict:!1}));let a=0;const l=[];if(i.forEach(({$from:p,$to:g})=>{const v=p.pos,b=g.pos;t.doc.nodesBetween(v,b,(E,S)=>{if(!E.isText&&!E.marks.length)return;const k=Math.max(v,S),C=Math.min(b,S+E.nodeSize),O=C-k;a+=O,l.push(...E.marks.map(z=>({mark:z,from:k,to:C})))})}),a===0)return!1;const c=l.filter(p=>s?s.name===p.mark.type.name:!0).filter(p=>Qb(p.mark.attrs,n,{strict:!1})).reduce((p,g)=>p+g.to-g.from,0),d=l.filter(p=>s?p.mark.type!==s&&p.mark.type.excludes(s):!0).reduce((p,g)=>p+g.to-g.from,0);return(c>0?c+d:c)>=a}function ige(t,e,n={}){if(!e)return Rc(t,null,n)||sC(t,null,n);const r=s1(e,t.schema);return r==="node"?Rc(t,e,n):r==="mark"?sC(t,e,n):!1}var sge=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=a1(l=>l.type.name===e)(t.selection);if(!s)return!1;const a=t.doc.resolve(s.pos+1);return i.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},age=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function r3(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function i3(t,e){const{nodeExtensions:n}=_h(e),r=n.find(a=>a.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=St(De(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function o1(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(o1(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function Mq(t){return t instanceof Le}var jq=class Iq{constructor(e){this.position=e}static fromJSON(e){return new Iq(e.position)}toJSON(){return{position:this.position}}};function oge(t,e){const n=e.mapping.mapResult(t.position);return{position:new jq(n.pos),mapResult:n}}function lge(t){return new jq(t)}function cge(t,e,n){var r;const{selection:i}=e;let s=null;if(vq(i)&&(s=i.$cursor),s){const l=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(d=>d.type.excludes(n)))}const{ranges:a}=i;return a.some(({$from:l,$to:c})=>{let d=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,c.pos,(f,p,g)=>{if(d)return!1;if(f.isInline){const v=!g||g.type.allowsMarkType(n),b=!!n.isInSet(f.marks)||!f.marks.some(E=>E.type.excludes(n));d=v&&b}return!d}),d})}var uge=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:a,ranges:l}=s,c=sl(t,r.schema);if(i)if(a){const d=Sq(r,c);n.addStoredMark(c.create({...d,...e}))}else l.forEach(d=>{const f=d.$from.pos,p=d.$to.pos;r.doc.nodesBetween(f,p,(g,v)=>{const b=Math.max(v,f),E=Math.min(v+g.nodeSize,p);g.marks.find(k=>k.type===c)?g.marks.forEach(k=>{c===k.type&&n.addMark(b,E,c.create({...k.attrs,...e}))}):n.addMark(b,E,c.create(e))})});return cge(r,n,c)},dge=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),fge=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=Un(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:l})=>vL(s,{...a,...e})(n)?!0:l.clearNodes()).command(({state:l})=>vL(s,{...a,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},hge=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Yu(t,0,r.content.size),s=Le.create(r,i);e.setSelection(s)}return!0},pge=(t,e)=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=r;let a,l;return typeof e=="number"?(a=e,l=e):e&&"from"in e&&"to"in e?(a=e.from,l=e.to):(a=s.from,l=s.to),i&&n.doc.nodesBetween(a,l,(c,d)=>{c.isText||n.setNodeMarkup(d,void 0,{...c.attrs,dir:t})}),!0},mge=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,a=$e.atStart(r).from,l=$e.atEnd(r).to,c=Yu(i,a,l),d=Yu(s,a,l),f=$e.create(r,c,d);e.setSelection(f)}return!0},gge=t=>({state:e,dispatch:n})=>{const r=Un(t,e.schema);return dhe(r)(e,n)};function s3(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var yge=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:a}=e,{$from:l,$to:c}=s,d=i.extensionManager.attributes,f=rb(d,l.node().type.name,l.node().attrs);if(s instanceof Le&&s.node.isBlock)return!l.parentOffset||!Vo(a,l.pos)?!1:(r&&(t&&s3(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const p=c.parentOffset===c.parent.content.size,g=l.depth===0?void 0:qme(l.node(-1).contentMatchAt(l.indexAfter(-1)));let v=p&&g?[{type:g,attrs:f}]:void 0,b=Vo(e.doc,e.mapping.map(l.pos),1,v);if(!v&&!b&&Vo(e.doc,e.mapping.map(l.pos),1,g?[{type:g}]:void 0)&&(b=!0,v=g?[{type:g,attrs:f}]:void 0),r){if(b&&(s instanceof $e&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,v),g&&!p&&!l.parentOffset&&l.parent.type!==g)){const E=e.mapping.map(l.before()),S=e.doc.resolve(E);l.node(-1).canReplaceWith(S.index(),S.index()+1,g)&&e.setNodeMarkup(e.mapping.map(l.before()),g)}t&&s3(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return b},vge=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var a;const l=Un(t,r.schema),{$from:c,$to:d}=r.selection,f=r.selection.node;if(f&&f.isBlock||c.depth<2||!c.sameParent(d))return!1;const p=c.node(-1);if(p.type!==l)return!1;const g=s.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(i){let k=ge.empty;const C=c.index(-1)?1:c.index(-2)?2:3;for(let j=c.depth-C;j>=c.depth-3;j-=1)k=ge.from(c.node(j).copy(k));const O=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,z={...rb(g,c.node().type.name,c.node().attrs),...e},P=((a=l.contentMatch.defaultType)==null?void 0:a.createAndFill(z))||void 0;k=k.append(ge.from(l.createAndFill(null,P)||void 0));const U=c.before(c.depth-(C-1));n.replace(U,c.after(-O),new Ee(k,4-C,0));let I=-1;n.doc.nodesBetween(U,n.doc.content.size,(j,M)=>{if(I>-1)return!1;j.isTextblock&&j.content.size===0&&(I=M+1)}),I>-1&&n.setSelection($e.near(n.doc.resolve(I))),n.scrollIntoView()}return!0}const v=d.pos===c.end()?p.contentMatchAt(0).defaultType:null,b={...rb(g,p.type.name,p.attrs),...e},E={...rb(g,c.node().type.name,c.node().attrs),...e};n.delete(c.pos,d.pos);const S=v?[{type:l,attrs:b},{type:v,attrs:E}]:[{type:l,attrs:b}];if(!Vo(n.doc,c.pos,2))return!1;if(i){const{selection:k,storedMarks:C}=r,{splittableMarks:O}=s.extensionManager,z=C||k.$to.parentOffset&&k.$from.marks();if(n.split(c.pos,2,S).scrollIntoView(),!z||!i)return!0;const P=z.filter(U=>O.includes(U.type.name));n.ensureMarks(P)}return!0},UE=(t,e)=>{const n=a1(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&Yc(t.doc,n.pos)&&t.join(n.pos),!0},FE=(t,e)=>{const n=a1(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&Yc(t.doc,r)&&t.join(r),!0},bge=(t,e,n,r={})=>({editor:i,tr:s,state:a,dispatch:l,chain:c,commands:d,can:f})=>{const{extensions:p,splittableMarks:g}=i.extensionManager,v=Un(t,a.schema),b=Un(e,a.schema),{selection:E,storedMarks:S}=a,{$from:k,$to:C}=E,O=k.blockRange(C),z=S||E.$to.parentOffset&&E.$from.marks();if(!O)return!1;const P=a1(U=>i3(U.type.name,p))(E);if(O.depth>=1&&P&&O.depth-P.depth<=1){if(P.node.type===v)return d.liftListItem(b);if(i3(P.node.type.name,p)&&v.validContent(P.node.content)&&l)return c().command(()=>(s.setNodeMarkup(P.pos,v),!0)).command(()=>UE(s,v)).command(()=>FE(s,v)).run()}return!n||!z||!l?c().command(()=>f().wrapInList(v,r)?!0:d.clearNodes()).wrapInList(v,r).command(()=>UE(s,v)).command(()=>FE(s,v)).run():c().command(()=>{const U=f().wrapInList(v,r),I=z.filter(j=>g.includes(j.type.name));return s.ensureMarks(I),U?!0:d.clearNodes()}).wrapInList(v,r).command(()=>UE(s,v)).command(()=>FE(s,v)).run()},xge=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,a=sl(t,r.schema);return sC(r,a,e)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,e)},wge=(t,e,n={})=>({state:r,commands:i})=>{const s=Un(t,r.schema),a=Un(e,r.schema),l=Rc(r,s,n);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),l?i.setNode(a,c):i.setNode(s,{...c,...n})},Sge=(t,e={})=>({state:n,commands:r})=>{const i=Un(t,n.schema);return Rc(n,i,e)?r.lift(i):r.wrapIn(i,e)},Tge=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const a=t.tr,l=s.transform;for(let c=l.steps.length-1;c>=0;c-=1)a.step(l.steps[c].invert(l.docs[c]));if(s.text){const c=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,t.schema.text(s.text,c))}else a.delete(s.from,s.to)}return!0}}return!1},Ege=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},kge=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:l}=n,c=sl(t,r.schema),{$from:d,empty:f,ranges:p}=l;if(!i)return!0;if(f&&a){let{from:g,to:v}=l;const b=(s=d.marks().find(S=>S.type===c))==null?void 0:s.attrs,E=yO(d,c,b);E&&(g=E.from,v=E.to),n.removeMark(g,v,c)}else p.forEach(g=>{n.removeMark(g.$from.pos,g.$to.pos,c)});return n.removeStoredMark(c),!0},_ge=t=>({tr:e,state:n,dispatch:r})=>{const{selection:i}=n;let s,a;return typeof t=="number"?(s=t,a=t):t&&"from"in t&&"to"in t?(s=t.from,a=t.to):(s=i.from,a=i.to),r&&e.doc.nodesBetween(s,a,(l,c)=>{if(l.isText)return;const d={...l.attrs};delete d.dir,e.setNodeMarkup(c,void 0,d)}),!0},Age=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const l=s1(typeof t=="string"?t:t.name,r.schema);if(!l)return!1;l==="node"&&(s=Un(t,r.schema)),l==="mark"&&(a=sl(t,r.schema));let c=!1;return n.selection.ranges.forEach(d=>{const f=d.$from.pos,p=d.$to.pos;let g,v,b,E;n.selection.empty?r.doc.nodesBetween(f,p,(S,k)=>{s&&s===S.type&&(c=!0,b=Math.max(k,f),E=Math.min(k+S.nodeSize,p),g=k,v=S)}):r.doc.nodesBetween(f,p,(S,k)=>{k<f&&s&&s===S.type&&(c=!0,b=Math.max(k,f),E=Math.min(k+S.nodeSize,p),g=k,v=S),k>=f&&k<=p&&(s&&s===S.type&&(c=!0,i&&n.setNodeMarkup(k,void 0,{...S.attrs,...e})),a&&S.marks.length&&S.marks.forEach(C=>{if(a===C.type&&(c=!0,i)){const O=Math.max(k,f),z=Math.min(k+S.nodeSize,p);n.addMark(O,z,a.create({...C.attrs,...e}))}}))}),v&&(g!==void 0&&i&&n.setNodeMarkup(g,void 0,{...v.attrs,...e}),a&&v.marks.length&&v.marks.forEach(S=>{a===S.type&&i&&n.addMark(b,E,a.create({...S.attrs,...e}))}))}),c},Cge=(t,e={})=>({state:n,dispatch:r})=>{const i=Un(t,n.schema);return ihe(i,e)(n,r)},Nge=(t,e={})=>({state:n,dispatch:r})=>{const i=Un(t,n.schema);return she(i,e)(n,r)},Oge=class{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}once(e,n){const r=(...i)=>{this.off(e,r),n.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}},l1=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},Mge=(t,e)=>{if(gO(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function mv(t){var e;const{editor:n,from:r,to:i,text:s,rules:a,plugin:l}=t,{view:c}=n;if(c.composing)return!1;const d=c.state.doc.resolve(r);if(d.parent.type.spec.code||(e=d.nodeBefore||d.nodeAfter)!=null&&e.marks.find(g=>g.type.spec.code))return!1;let f=!1;const p=rge(d)+s;return a.forEach(g=>{if(f)return;const v=Mge(p,g.find);if(!v)return;const b=c.state.tr,E=r1({state:c.state,transaction:b}),S={from:r-(v[0].length-s.length),to:i},{commands:k,chain:C,can:O}=new i1({editor:n,state:E});g.handler({state:E,range:S,match:v,commands:k,chain:C,can:O})===null||!b.steps.length||(g.undoable&&b.setMeta(l,{transform:b,from:r,to:i,text:s}),c.dispatch(b),f=!0)}),f}function jge(t){const{editor:e,rules:n}=t,r=new cn({state:{init(){return null},apply(i,s,a){const l=i.getMeta(r);if(l)return l;const c=i.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:f}=c;typeof f=="string"?f=f:f=xO(ge.from(f),a.schema);const{from:p}=c,g=p+f.length;mv({editor:e,from:p,to:g,text:f,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,a,l){return mv({editor:e,from:s,to:a,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&mv({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?mv({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Ige(t){return Object.prototype.toString.call(t).slice(8,-1)}function gv(t){return Ige(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Dq(t,e){const n={...t};return gv(t)&&gv(e)&&Object.keys(e).forEach(r=>{gv(e[r])&&gv(t[r])?n[r]=Dq(t[r],e[r]):n[r]=e[r]}),n}var TO=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...St(De(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...St(De(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>Dq(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},al=class Pq extends TO{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new Pq(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(d=>d?.type.name===n.name))return!1;const c=a.find(d=>d?.type.name===n.name);return c&&r.removeStoredMark(c),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Dge(t){return typeof t=="number"}var Pge=class{constructor(t){this.find=t.find,this.handler=t.handler}},Rge=(t,e,n)=>{if(gO(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function Lge(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:a,dropEvent:l}=t,{commands:c,chain:d,can:f}=new i1({editor:e,state:n}),p=[];return n.doc.nodesBetween(r,i,(v,b)=>{var E,S,k,C,O;if((S=(E=v.type)==null?void 0:E.spec)!=null&&S.code||!(v.isText||v.isTextblock||v.isInline))return;const z=(O=(C=(k=v.content)==null?void 0:k.size)!=null?C:v.nodeSize)!=null?O:0,P=Math.max(r,b),U=Math.min(i,b+z);if(P>=U)return;const I=v.isText?v.text||"":v.textBetween(P-b,U-b,void 0,"");Rge(I,s.find,a).forEach(M=>{if(M.index===void 0)return;const R=P+M.index+1,V=R+M[0].length,L={from:n.tr.mapping.map(R),to:n.tr.mapping.map(V)},B=s.handler({state:n,range:L,match:M,commands:c,chain:d,can:f,pasteEvent:a,dropEvent:l});p.push(B)})}),p.every(v=>v!==null)}var yv=null,Vge=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function Bge(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:f,from:p,to:g,rule:v,pasteEvt:b})=>{const E=f.tr,S=r1({state:f,transaction:E});if(!(!Lge({editor:e,state:S,from:Math.max(p-1,0),to:g.b-1,rule:v,pasteEvent:b,dropEvent:l})||!E.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,E}};return n.map(f=>new cn({view(p){const g=b=>{var E;r=(E=p.dom.parentElement)!=null&&E.contains(b.target)?p.dom.parentElement:null,r&&(yv=e)},v=()=>{yv&&(yv=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(p,g)=>{if(s=r===p.dom.parentElement,l=g,!s){const v=yv;v?.isEditable&&setTimeout(()=>{const b=v.state.selection;b&&v.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(p,g)=>{var v;const b=(v=g.clipboardData)==null?void 0:v.getData("text/html");return a=g,i=!!b?.includes("data-pm-slice"),!1}}},appendTransaction:(p,g,v)=>{const b=p[0],E=b.getMeta("uiEvent")==="paste"&&!i,S=b.getMeta("uiEvent")==="drop"&&!s,k=b.getMeta("applyPasteRules"),C=!!k;if(!E&&!S&&!C)return;if(C){let{text:P}=k;typeof P=="string"?P=P:P=xO(ge.from(P),v.schema);const{from:U}=k,I=U+P.length,j=Vge(P);return c({rule:f,state:v,from:U,to:{b:I},pasteEvt:j})}const O=g.doc.content.findDiffStart(v.doc.content),z=g.doc.content.findDiffEnd(v.doc.content);if(!(!Dge(O)||!z||O===z.b))return c({rule:f,state:v,from:O,to:z,pasteEvt:a})}}))}var c1=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=_q(t),this.schema=Xme(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:zE(e.name,this.schema)},r=De(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return wO([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:zE(r.name,this.schema)},s=[],a=De(r,"addKeyboardShortcuts",i);let l={};if(r.type==="mark"&&De(r,"exitable",i)&&(l.ArrowRight=()=>al.handleExit({editor:t,mark:r})),a){const g=Object.fromEntries(Object.entries(a()).map(([v,b])=>[v,()=>b({editor:t})]));l={...l,...g}}const c=Zpe(l);s.push(c);const d=De(r,"addInputRules",i);if(r3(r,t.options.enableInputRules)&&d){const g=d();if(g&&g.length){const v=jge({editor:t,rules:g}),b=Array.isArray(v)?v:[v];s.push(...b)}}const f=De(r,"addPasteRules",i);if(r3(r,t.options.enablePasteRules)&&f){const g=f();if(g&&g.length){const v=Bge({editor:t,rules:g});s.push(...v)}}const p=De(r,"addProseMirrorPlugins",i);if(p){const g=p();s.push(...g)}return s})}get attributes(){return kq(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=_h(this.extensions);return Object.fromEntries(e.filter(n=>!!De(n,"addNodeView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Un(n.name,this.schema)},s=De(n,"addNodeView",i);if(!s)return[];const a=s();if(!a)return[];const l=(c,d,f,p,g)=>{const v=Jb(c,r);return a({node:c,view:d,getPos:f,decorations:p,innerDecorations:g,editor:t,extension:n,HTMLAttributes:v})};return[n.name,l]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=_h(this.extensions);return Object.fromEntries(e.filter(n=>!!De(n,"addMarkView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:sl(n.name,this.schema)},s=De(n,"addMarkView",i);if(!s)return[];const a=(l,c,d)=>{const f=Jb(l,r);return s()({mark:l,view:c,inline:d,editor:t,extension:n,HTMLAttributes:f,updateAttributes:p=>{Zge(l,t,p)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:zE(e.name,this.schema)};e.type==="mark"&&((n=St(De(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=De(e,"onBeforeCreate",r),s=De(e,"onCreate",r),a=De(e,"onUpdate",r),l=De(e,"onSelectionUpdate",r),c=De(e,"onTransaction",r),d=De(e,"onFocus",r),f=De(e,"onBlur",r),p=De(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),a&&this.editor.on("update",a),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),d&&this.editor.on("focus",d),f&&this.editor.on("blur",f),p&&this.editor.on("destroy",p)})}};c1.resolve=_q;c1.sort=wO;c1.flatten=bO;var zge={};mO(zge,{ClipboardTextSerializer:()=>Lq,Commands:()=>Vq,Delete:()=>Bq,Drop:()=>zq,Editable:()=>Uq,FocusEvents:()=>$q,Keymap:()=>Hq,Paste:()=>qq,Tabindex:()=>Wq,TextDirection:()=>Gq,focusEventsPluginKey:()=>Fq});var Dt=class Rq extends TO{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new Rq(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},Lq=Dt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new cn({key:new Kn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,a=Math.min(...s.map(f=>f.$from.pos)),l=Math.max(...s.map(f=>f.$to.pos)),c=Cq(n);return Aq(r,{from:a,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),Vq=Dt.create({name:"commands",addCommands(){return{...gq}}}),Bq=Dt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var a,l,c,d;if((d=(c=(l=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,t))!=null?d:t.getMeta("y-sync$"))return;const f=Tq(t.before,[t,...e]);Oq(f).forEach(v=>{f.mapping.mapResult(v.oldRange.from).deletedAfter&&f.mapping.mapResult(v.oldRange.to).deletedBefore&&f.before.nodesBetween(v.oldRange.from,v.oldRange.to,(b,E)=>{const S=E+b.nodeSize-2,k=v.oldRange.from<=E&&S<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:b,from:E,to:S,newFrom:f.mapping.map(E),newTo:f.mapping.map(S),deletedRange:v.oldRange,newRange:v.newRange,partial:!k,editor:this.editor,transaction:t,combinedTransform:f})})});const g=f.mapping;f.steps.forEach((v,b)=>{var E,S;if(v instanceof ea){const k=g.slice(b).map(v.from,-1),C=g.slice(b).map(v.to),O=g.invert().map(k,-1),z=g.invert().map(C),P=(E=f.doc.nodeAt(k-1))==null?void 0:E.marks.some(I=>I.eq(v.mark)),U=(S=f.doc.nodeAt(C))==null?void 0:S.marks.some(I=>I.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:O,to:z},newRange:{from:k,to:C},partial:!!(U||P),editor:this.editor,transaction:t,combinedTransform:f})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),zq=Dt.create({name:"drop",addProseMirrorPlugins(){return[new cn({key:new Kn("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),Uq=Dt.create({name:"editable",addProseMirrorPlugins(){return[new cn({key:new Kn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Fq=new Kn("focusEvents"),$q=Dt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new cn({key:Fq,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Hq=Dt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:l})=>{const{selection:c,doc:d}=l,{empty:f,$anchor:p}=c,{pos:g,parent:v}=p,b=p.parent.isTextblock&&g>0?l.doc.resolve(g-1):p,E=b.parent.type.spec.isolating,S=p.pos-p.parentOffset,k=E&&b.parent.childCount===1?S===p.pos:Ze.atStart(d).from===g;return!f||!v.type.isTextblock||v.textContent.length||!k||k&&p.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return vO()||wq()?s:i},addProseMirrorPlugins(){return[new cn({key:new Kn("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(E=>E.getMeta("composition")))return;const r=t.some(E=>E.docChanged)&&!e.doc.eq(n.doc),i=t.some(E=>E.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:a,to:l}=e.selection,c=Ze.atStart(e.doc).from,d=Ze.atEnd(e.doc).to;if(s||!(a===c&&l===d)||!o1(n.doc))return;const g=n.tr,v=r1({state:n,transaction:g}),{commands:b}=new i1({editor:this.editor,state:v});if(b.clearNodes(),!!g.steps.length)return g}})]}}),qq=Dt.create({name:"paste",addProseMirrorPlugins(){return[new cn({key:new Kn("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),Wq=Dt.create({name:"tabindex",addProseMirrorPlugins(){return[new cn({key:new Kn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Gq=Dt.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=_h(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new cn({key:new Kn("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),Uge=class Uf{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Uf(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Uf(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Uf(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,a=this.pos+r+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(a);if(!i&&l.depth<=this.depth)return;const c=new Uf(l,this.editor,i,i?n:null);i&&(c.actualDepth=this.depth+1),e.push(new Uf(l,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,a=Object.keys(n);for(let l=0;l<a.length;l+=1){const c=a[l];if(s[c]!==n[c])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===e&&s.every(c=>n[c]===a.node.attrs[c])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},Fge=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function $ge(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var Hge=class extends Oge{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:oge,createMappablePosition:lge},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=bq(e,this.options.autofocus);this.editorState=Jf.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=$ge(Fge,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=Eq(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(a=>!a.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[Uq,Lq.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),Vq,$q,Hq,Wq,zq,qq,Bq,Gq.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new c1(r,this)}createCommandManager(){this.commandManager=new i1({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=iC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=iC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new pq(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(d=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(d)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),l=a?.getMeta("focus"),c=a?.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:a}),c&&this.emit("blur",{editor:this,event:c.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(d=>d.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return Nq(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return ige(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return xO(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return Jme(this.state.doc,{blockSeparator:e,textSerializers:{...Cq(this.schema),...n}})}get isEmpty(){return o1(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new Uge(e,this)}get $doc(){return this.$pos(0)}};function kd(t){return new l1({find:t.find,handler:({state:e,range:n,match:r})=>{const i=St(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];if(a){const c=l.search(/\S/),d=n.from+l.indexOf(a),f=d+a.length;if(SO(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(E=>E===t.type&&E!==v.mark.type)).filter(v=>v.to>d).length)return null;f<n.to&&s.delete(f,n.to),d>n.from&&s.delete(n.from+c,d);const g=n.from+c+a.length;s.addMark(n.from+c,g,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function qge(t){return new l1({find:t.find,handler:({state:e,range:n,match:r})=>{const i=St(t.getAttributes,void 0,r)||{},{tr:s}=e,a=n.from;let l=n.to;const c=t.type.create(i);if(r[1]){const d=r[0].lastIndexOf(r[1]);let f=a+d;f>l?f=l:l=f+r[1].length;const p=r[0][r[0].length-1];s.insertText(p,a+r[0].length-1),s.replaceWith(f,l,c)}else if(r[0]){const d=t.type.isInline?a:a-1;s.insert(d,t.type.create(i)).delete(s.mapping.map(a),s.mapping.map(l))}s.scrollIntoView()},undoable:t.undoable})}function aC(t){return new l1({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=St(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function Ah(t){return new l1({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=St(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),c=a.doc.resolve(n.from).blockRange(),d=c&&ZN(c,t.type,s);if(!d)return null;if(a.wrap(c,d),t.keepMarks&&t.editor){const{selection:p,storedMarks:g}=e,{splittableMarks:v}=t.editor.extensionManager,b=g||p.$to.parentOffset&&p.$from.marks();if(b){const E=b.filter(S=>v.includes(S.type.name));a.ensureMarks(E)}}if(t.keepAttributes){const p=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(p,s).run()}const f=a.doc.resolve(n.from-1).nodeBefore;f&&f.type===t.type&&Yc(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,f))&&a.join(n.from-1)},undoable:t.undoable})}function Wge(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Le){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var Gge={};mO(Gge,{createAtomBlockMarkdownSpec:()=>Kge,createBlockMarkdownSpec:()=>Yge,createInlineMarkdownSpec:()=>Jge,parseAttributes:()=>EO,parseIndentedBlocks:()=>oC,renderNestedMarkdownContent:()=>_O,serializeAttributes:()=>kO});function EO(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,d=>(n.push(d),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const d=i.map(f=>f.trim().slice(1));e.class=d.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,d,f])=>{var p;const g=parseInt(((p=f.match(/__QUOTED_(\d+)__/))==null?void 0:p[1])||"0",10),v=n[g];v&&(e[d]=v.slice(1,-1))});const c=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(f=>{f.match(/^[a-zA-Z][\w-]*$/)&&(e[f]=!0)}),e}function kO(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function Kge(t){const{nodeName:e,name:n,parseAttributes:r=EO,serializeAttributes:i=kO,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:l}=t,c=n||e,d=f=>{if(!l)return f;const p={};return l.forEach(g=>{g in f&&(p[g]=f[g])}),p};return{parseMarkdown:(f,p)=>{const g={...s,...f.attributes};return p.createNode(e,g,[])},markdownTokenizer:{name:e,level:"block",start(f){var p;const g=new RegExp(`^:::${c}(?:\\s|$)`,"m"),v=(p=f.match(g))==null?void 0:p.index;return v!==void 0?v:-1},tokenize(f,p,g){const v=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),b=f.match(v);if(!b)return;const E=b[1]||"",S=r(E);if(!a.find(C=>!(C in S)))return{type:e,raw:b[0],attributes:S}}},renderMarkdown:f=>{const p=d(f.attrs||{}),g=i(p),v=g?` {${g}}`:"";return`:::${c}${v} :::`}}}function Yge(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=EO,serializeAttributes:s=kO,defaultAttributes:a={},content:l="block",allowedAttributes:c}=t,d=n||e,f=p=>{if(!c)return p;const g={};return c.forEach(v=>{v in p&&(g[v]=p[v])}),g};return{parseMarkdown:(p,g)=>{let v;if(r){const E=r(p);v=typeof E=="string"?[{type:"text",text:E}]:E}else l==="block"?v=g.parseChildren(p.tokens||[]):v=g.parseInline(p.tokens||[]);const b={...a,...p.attributes};return g.createNode(e,b,v)},markdownTokenizer:{name:e,level:"block",start(p){var g;const v=new RegExp(`^:::${d}`,"m"),b=(g=p.match(v))==null?void 0:g.index;return b!==void 0?b:-1},tokenize(p,g,v){var b;const E=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),S=p.match(E);if(!S)return;const[k,C=""]=S,O=i(C);let z=1;const P=k.length;let U="";const I=/^:::([\w-]*)(\s.*)?/gm,j=p.slice(P);for(I.lastIndex=0;;){const M=I.exec(j);if(M===null)break;const R=M.index,V=M[1];if(!((b=M[2])!=null&&b.endsWith(":::"))){if(V)z+=1;else if(z-=1,z===0){const L=j.slice(0,R);U=L.trim();const B=p.slice(0,P+R+M[0].length);let X=[];if(U)if(l==="block")for(X=v.blockTokens(L),X.forEach(ae=>{ae.text&&(!ae.tokens||ae.tokens.length===0)&&(ae.tokens=v.inlineTokens(ae.text))});X.length>0;){const ae=X[X.length-1];if(ae.type==="paragraph"&&(!ae.text||ae.text.trim()===""))X.pop();else break}else X=v.inlineTokens(U);return{type:e,raw:B,attributes:O,content:U,tokens:X}}}}}},renderMarkdown:(p,g)=>{const v=f(p.attrs||{}),b=s(v),E=b?` {${b}}`:"",S=g.renderChildren(p.content||[],`

`);return`:::${d}${E}

${S}

:::`}}}function Xge(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,s,a]=r;e[i]=s||a,r=n.exec(t)}return e}function Qge(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function Jge(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=Xge,serializeAttributes:s=Qge,defaultAttributes:a={},selfClosing:l=!1,allowedAttributes:c}=t,d=n||e,f=g=>{if(!c)return g;const v={};return c.forEach(b=>{const E=typeof b=="string"?b:b.name,S=typeof b=="string"?void 0:b.skipIfDefault;if(E in g){const k=g[E];if(S!==void 0&&k===S)return;v[E]=k}}),v},p=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(g,v)=>{const b={...a,...g.attributes};if(l)return v.createNode(e,b);const E=r?r(g):g.content||"";return E?v.createNode(e,b,[v.createTextNode(E)]):v.createNode(e,b,[])},markdownTokenizer:{name:e,level:"inline",start(g){const v=l?new RegExp(`\\[${p}\\s*[^\\]]*\\]`):new RegExp(`\\[${p}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${p}\\]`),b=g.match(v),E=b?.index;return E!==void 0?E:-1},tokenize(g,v,b){const E=l?new RegExp(`^\\[${p}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${p}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${p}\\]`),S=g.match(E);if(!S)return;let k="",C="";if(l){const[,z]=S;C=z}else{const[,z,P]=S;C=z,k=P||""}const O=i(C.trim());return{type:e,raw:S[0],content:k.trim(),attributes:O}}},renderMarkdown:g=>{let v="";r?v=r(g):g.content&&g.content.length>0&&(v=g.content.filter(k=>k.type==="text").map(k=>k.text).join(""));const b=f(g.attrs||{}),E=s(b),S=E?` ${E}`:"";return l?`[${d}${S}]`:`[${d}${S}]${v}[/${d}]`}}}function oC(t,e,n){var r,i,s,a;const l=t.split(`
`),c=[];let d="",f=0;const p=e.baseIndentSize||2;for(;f<l.length;){const g=l[f],v=g.match(e.itemPattern);if(!v){if(c.length>0)break;if(g.trim()===""){f+=1,d=`${d}${g}
`;continue}else return}const b=e.extractItemData(v),{indentLevel:E,mainContent:S}=b;d=`${d}${g}
`;const k=[S];for(f+=1;f<l.length;){const P=l[f];if(P.trim()===""){const I=l.slice(f+1).findIndex(R=>R.trim()!=="");if(I===-1)break;if((((i=(r=l[f+1+I].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>E){k.push(P),d=`${d}${P}
`,f+=1;continue}else break}if((((a=(s=P.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>E)k.push(P),d=`${d}${P}
`,f+=1;else break}let C;const O=k.slice(1);if(O.length>0){const P=O.map(U=>U.slice(E+p)).join(`
`);P.trim()&&(e.customNestedParser?C=e.customNestedParser(P):C=n.blockTokens(P))}const z=e.createToken(b,C);c.push(z)}if(c.length!==0)return{items:c,raw:d}}function _O(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[s,...a]=t.content,l=e.renderChildren([s]),c=[`${i}${l}`];return a&&a.length>0&&a.forEach(d=>{const f=e.renderChildren([d]);if(f){const p=f.split(`
`).map(g=>g?e.indent(g):"").join(`
`);c.push(p)}}),c.join(`
`)}function Zge(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,a=t;i.descendants((l,c)=>{const d=s.mapping.map(c),f=s.mapping.map(c)+l.nodeSize;let p=null;if(l.marks.forEach(v=>{if(v!==a)return!1;p=v}),!p)return;let g=!1;if(Object.keys(n).forEach(v=>{n[v]!==p.attrs[v]&&(g=!0)}),g){const v=t.type.create({...t.attrs,...n});s.removeMark(d,f,t.type),s.addMark(d,f,v)}}),s.docChanged&&e.view.dispatch(s)}var Gi=class Kq extends TO{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new Kq(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Lc(t){return new Pge({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=St(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:a}=e,l=r[r.length-1],c=r[0];let d=n.to;if(l){const f=c.search(/\S/),p=n.from+c.indexOf(l),g=p+l.length;if(SO(n.from,n.to,e.doc).filter(b=>b.mark.type.excluded.find(S=>S===t.type&&S!==b.mark.type)).filter(b=>b.to>p).length)return null;g<n.to&&a.delete(g,n.to),p>n.from&&a.delete(n.from+f,p),d=n.from+f+l.length,a.addMark(n.from+f,d,t.type.create(s||{})),a.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:e0e,getOwnPropertySymbols:t0e}=Object,{hasOwnProperty:n0e}=Object.prototype;function $E(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function vv(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:s}=i,a=s.get(n),l=s.get(r);if(a&&l)return a===r&&l===n;s.set(n,r),s.set(r,n);const c=t(n,r,i);return s.delete(n),s.delete(r),c}}function r0e(t){return t?.[Symbol.toStringTag]}function a3(t){return e0e(t).concat(t0e(t))}const i0e=Object.hasOwn||((t,e)=>n0e.call(t,e));function Vd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const s0e="__v",a0e="__o",o0e="_owner",{getOwnPropertyDescriptor:o3,keys:l3}=Object;function l0e(t,e){return t.byteLength===e.byteLength&&Zb(new Uint8Array(t),new Uint8Array(e))}function c0e(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function u0e(t,e){return t.byteLength===e.byteLength&&Zb(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function d0e(t,e){return Vd(t.getTime(),e.getTime())}function f0e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function h0e(t,e){return t===e}function c3(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.entries();let a,l,c=0;for(;(a=s.next())&&!a.done;){const d=e.entries();let f=!1,p=0;for(;(l=d.next())&&!l.done;){if(i[p]){p++;continue}const g=a.value,v=l.value;if(n.equals(g[0],v[0],c,p,t,e,n)&&n.equals(g[1],v[1],g[0],v[0],t,e,n)){f=i[p]=!0;break}p++}if(!f)return!1;c++}return!0}const p0e=Vd;function m0e(t,e,n){const r=l3(t);let i=r.length;if(l3(e).length!==i)return!1;for(;i-- >0;)if(!Yq(t,e,n,r[i]))return!1;return!0}function rm(t,e,n){const r=a3(t);let i=r.length;if(a3(e).length!==i)return!1;let s,a,l;for(;i-- >0;)if(s=r[i],!Yq(t,e,n,s)||(a=o3(t,s),l=o3(e,s),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function g0e(t,e){return Vd(t.valueOf(),e.valueOf())}function y0e(t,e){return t.source===e.source&&t.flags===e.flags}function u3(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.values();let a,l;for(;(a=s.next())&&!a.done;){const c=e.values();let d=!1,f=0;for(;(l=c.next())&&!l.done;){if(!i[f]&&n.equals(a.value,l.value,a.value,l.value,t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1}return!0}function Zb(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function v0e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Yq(t,e,n,r){return(r===o0e||r===a0e||r===s0e)&&(t.$$typeof||e.$$typeof)?!0:i0e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const b0e="[object ArrayBuffer]",x0e="[object Arguments]",w0e="[object Boolean]",S0e="[object DataView]",T0e="[object Date]",E0e="[object Error]",k0e="[object Map]",_0e="[object Number]",A0e="[object Object]",C0e="[object RegExp]",N0e="[object Set]",O0e="[object String]",M0e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},j0e="[object URL]",I0e=Object.prototype.toString;function D0e({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:a,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:f,areSetsEqual:p,areTypedArraysEqual:g,areUrlsEqual:v,unknownTagComparators:b}){return function(S,k,C){if(S===k)return!0;if(S==null||k==null)return!1;const O=typeof S;if(O!==typeof k)return!1;if(O!=="object")return O==="number"?l(S,k,C):O==="function"?s(S,k,C):!1;const z=S.constructor;if(z!==k.constructor)return!1;if(z===Object)return c(S,k,C);if(Array.isArray(S))return e(S,k,C);if(z===Date)return r(S,k,C);if(z===RegExp)return f(S,k,C);if(z===Map)return a(S,k,C);if(z===Set)return p(S,k,C);const P=I0e.call(S);if(P===T0e)return r(S,k,C);if(P===C0e)return f(S,k,C);if(P===k0e)return a(S,k,C);if(P===N0e)return p(S,k,C);if(P===A0e)return typeof S.then!="function"&&typeof k.then!="function"&&c(S,k,C);if(P===j0e)return v(S,k,C);if(P===E0e)return i(S,k,C);if(P===x0e)return c(S,k,C);if(M0e[P])return g(S,k,C);if(P===b0e)return t(S,k,C);if(P===S0e)return n(S,k,C);if(P===w0e||P===_0e||P===O0e)return d(S,k,C);if(b){let U=b[P];if(!U){const I=r0e(S);I&&(U=b[I])}if(U)return U(S,k,C)}return!1}}function P0e({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:l0e,areArraysEqual:n?rm:c0e,areDataViewsEqual:u0e,areDatesEqual:d0e,areErrorsEqual:f0e,areFunctionsEqual:h0e,areMapsEqual:n?$E(c3,rm):c3,areNumbersEqual:p0e,areObjectsEqual:n?rm:m0e,arePrimitiveWrappersEqual:g0e,areRegExpsEqual:y0e,areSetsEqual:n?$E(u3,rm):u3,areTypedArraysEqual:n?$E(Zb,rm):Zb,areUrlsEqual:v0e,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=vv(r.areArraysEqual),s=vv(r.areMapsEqual),a=vv(r.areObjectsEqual),l=vv(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return r}function R0e(t){return function(e,n,r,i,s,a,l){return t(e,n,l)}}function L0e({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(l,c){const{cache:d=t?new WeakMap:void 0,meta:f}=n();return e(l,c,{cache:d,equals:r,meta:f,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const s={cache:void 0,equals:r,meta:void 0,strict:i};return function(l,c){return e(l,c,s)}}const V0e=Qc();Qc({strict:!0});Qc({circular:!0});Qc({circular:!0,strict:!0});Qc({createInternalComparator:()=>Vd});Qc({strict:!0,createInternalComparator:()=>Vd});Qc({circular:!0,createInternalComparator:()=>Vd});Qc({circular:!0,createInternalComparator:()=>Vd,strict:!0});function Qc(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,s=P0e(t),a=D0e(s),l=n?n(a):R0e(a);return L0e({circular:e,comparator:a,createState:r,equals:l,strict:i})}var HE={exports:{}},qE={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d3;function B0e(){if(d3)return qE;d3=1;var t=jh(),e=U8();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,l=t.useMemo,c=t.useDebugValue;return qE.useSyncExternalStoreWithSelector=function(d,f,p,g,v){var b=s(null);if(b.current===null){var E={hasValue:!1,value:null};b.current=E}else E=b.current;b=l(function(){function k(U){if(!C){if(C=!0,O=U,U=g(U),v!==void 0&&E.hasValue){var I=E.value;if(v(I,U))return z=I}return z=U}if(I=z,r(O,U))return I;var j=g(U);return v!==void 0&&v(I,j)?(O=U,I):(O=U,z=j)}var C=!1,O,z,P=p===void 0?null:p;return[function(){return k(f())},P===null?void 0:function(){return k(P())}]},[f,p,g,v]);var S=i(d,b[0],b[1]);return a(function(){E.hasValue=!0,E.value=S},[S]),c(S),S},qE}var f3;function z0e(){return f3||(f3=1,HE.exports=B0e()),HE.exports}var Xq=z0e(),U0e=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},F0e=({contentComponent:t})=>{const e=F8.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return m.jsx(m.Fragment,{children:Object.values(e)})};function $0e(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:Yde.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var H0e=class extends Cs.Component{constructor(t){var e;super(t),this.editorContentRef=Cs.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=$0e(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return m.jsxs(m.Fragment,{children:[m.jsx("div",{ref:U0e(e,this.editorContentRef),...n}),t?.contentComponent&&m.jsx(F0e,{contentComponent:t.contentComponent})]})}},q0e=_.forwardRef((t,e)=>{const n=Cs.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Cs.createElement(H0e,{key:n,innerRef:e,...t})}),W0e=Cs.memo(q0e),G0e=typeof window<"u"?_.useLayoutEffect:_.useEffect,K0e=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function Y0e(t){var e;const[n]=_.useState(()=>new K0e(t.editor)),r=Xq.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:V0e);return G0e(()=>n.watch(t.editor),[t.editor,n]),_.useDebugValue(r),r}var X0e=!1,lC=typeof window>"u",Q0e=lC||!!(typeof window<"u"&&window.next),J0e=class Qq{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?lC||Q0e?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new Hge(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var a;return i===((a=n.extensions)==null?void 0:a[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Qq.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function Z0e(t={},e=[]){const n=_.useRef(t);n.current=t;const[r]=_.useState(()=>new J0e(n)),i=F8.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return _.useDebugValue(i),_.useEffect(r.onRender(e)),Y0e({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var eye=_.createContext({editor:null});eye.Consumer;var tye=_.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),nye=()=>_.useContext(tye);Cs.forwardRef((t,e)=>{const{onDragStart:n}=nye(),r=t.as||"div";return m.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Cs.createContext({markViewContentRef:()=>{}});var ex=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},rye=/^\s*>\s$/,iye=Gi.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return ex("blockquote",{...yn(this.options.HTMLAttributes,t),children:ex("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(i=>{const l=e.renderChildren([i]).split(`
`).map(c=>c.trim()===""?n:`${n} ${c}`);r.push(l.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ah({find:rye,type:this.type})]}}),sye=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,aye=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,oye=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,lye=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,cye=al.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return ex("strong",{...yn(this.options.HTMLAttributes,t),children:ex("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[kd({find:sye,type:this.type}),kd({find:oye,type:this.type})]},addPasteRules(){return[Lc({find:aye,type:this.type}),Lc({find:lye,type:this.type})]}}),uye=/(^|[^`])`([^`]+)`(?!`)$/,dye=/(^|[^`])`([^`]+)`(?!`)/g,fye=al.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",yn(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[kd({find:uye,type:this.type})]},addPasteRules(){return[Lc({find:dye,type:this.type})]}}),WE=4,hye=/^```([a-z]+)?[\s\n]$/,pye=/^~~~([a-z]+)?[\s\n]$/,mye=Gi.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:WE,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",yn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:WE,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;if(s.parent.type!==this.type)return!1;const l=" ".repeat(n);return a?t.commands.insertContent(l):t.commands.command(({tr:c})=>{const{from:d,to:f}=i,v=r.doc.textBetween(d,f,`
`,`
`).split(`
`).map(b=>l+b).join(`
`);return c.replaceWith(d,f,r.schema.text(v)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:WE,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;return s.parent.type!==this.type?!1:a?t.commands.command(({tr:l})=>{var c;const{pos:d}=s,f=s.start(),p=s.end(),v=r.doc.textBetween(f,p,`
`,`
`).split(`
`);let b=0,E=0;const S=d-f;for(let U=0;U<v.length;U+=1){if(E+v[U].length>=S){b=U;break}E+=v[U].length+1}const C=((c=v[b].match(/^ */))==null?void 0:c[0])||"",O=Math.min(C.length,n);if(O===0)return!0;let z=f;for(let U=0;U<b;U+=1)z+=v[U].length+1;return l.delete(z,z+O),d-z<=O&&l.setSelection($e.create(l.doc,z)),!0}):t.commands.command(({tr:l})=>{const{from:c,to:d}=i,g=r.doc.textBetween(c,d,`
`,`
`).split(`
`).map(v=>{var b;const E=((b=v.match(/^ */))==null?void 0:b[0])||"",S=Math.min(E.length,n);return v.slice(S)}).join(`
`);return l.replaceWith(c,d,r.schema.text(g)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:d})=>(d.setSelection(Ze.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[aC({find:hye,type:this.type,getAttributes:t=>({language:t[1]})}),aC({find:pye,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new cn({key:new Kn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i?.mode;if(!n||!s)return!1;const{tr:a,schema:l}=t.state,c=l.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},c)),a.selection.$from.parent.type!==this.type&&a.setSelection($e.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),gye=Gi.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),yye=Gi.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",yn(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=r.extensionManager,c=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:f})=>{if(f&&c&&a){const p=c.filter(g=>l.includes(g.type.name));d.ensureMarks(p)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),vye=Gi.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,yn(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>aC({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),bye=Gi.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",yn(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!Wge(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return Mq(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:a,dispatch:l})=>{if(l){const{$to:c}=a.selection,d=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?a.setSelection($e.create(a.doc,c.pos+1)):c.nodeAfter.isBlock?a.setSelection(Le.create(a.doc,c.pos)):a.setSelection($e.create(a.doc,c.pos));else{const f=s.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,p=f?.create();p&&(a.insert(d,p),a.setSelection($e.create(a.doc,d+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[qge({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),xye=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,wye=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Sye=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Tye=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Eye=al.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",yn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[kd({find:xye,type:this.type}),kd({find:Sye,type:this.type})]},addPasteRules(){return[Lc({find:wye,type:this.type}),Lc({find:Tye,type:this.type})]}});const kye="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",_ye="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",cC="numeric",uC="ascii",dC="alpha",qm="asciinumeric",_m="alphanumeric",fC="domain",Jq="emoji",Aye="scheme",Cye="slashscheme",GE="whitespace";function Nye(t,e){return t in e||(e[t]=[]),e[t]}function Xu(t,e,n){e[cC]&&(e[qm]=!0,e[_m]=!0),e[uC]&&(e[qm]=!0,e[dC]=!0),e[qm]&&(e[_m]=!0),e[dC]&&(e[_m]=!0),e[_m]&&(e[fC]=!0),e[Jq]&&(e[fC]=!0);for(const r in e){const i=Nye(r,n);i.indexOf(t)<0&&i.push(t)}}function Oye(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function vi(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}vi.groups={};vi.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||vi.groups;let i;return e&&e.j?i=e:(i=new vi(e),n&&r&&Xu(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(t[a]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||vi.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let a,l=i.go(t);if(l?(a=new vi,Object.assign(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new vi,s){if(r)if(a.t&&typeof a.t=="string"){const c=Object.assign(Oye(a.t,r),n);Xu(s,c,r)}else n&&Xu(s,n,r);a.t=s}return i.j[t]=a,a}};const Je=(t,e,n,r,i)=>t.ta(e,n,r,i),hn=(t,e,n,r,i)=>t.tr(e,n,r,i),h3=(t,e,n,r,i)=>t.ts(e,n,r,i),ve=(t,e,n,r,i)=>t.tt(e,n,r,i),Co="WORD",hC="UWORD",Zq="ASCIINUMERICAL",e7="ALPHANUMERICAL",kg="LOCALHOST",pC="TLD",mC="UTLD",ib="SCHEME",Ff="SLASH_SCHEME",AO="NUM",gC="WS",CO="NL",Wm="OPENBRACE",Gm="CLOSEBRACE",tx="OPENBRACKET",nx="CLOSEBRACKET",rx="OPENPAREN",ix="CLOSEPAREN",sx="OPENANGLEBRACKET",ax="CLOSEANGLEBRACKET",ox="FULLWIDTHLEFTPAREN",lx="FULLWIDTHRIGHTPAREN",cx="LEFTCORNERBRACKET",ux="RIGHTCORNERBRACKET",dx="LEFTWHITECORNERBRACKET",fx="RIGHTWHITECORNERBRACKET",hx="FULLWIDTHLESSTHAN",px="FULLWIDTHGREATERTHAN",mx="AMPERSAND",gx="APOSTROPHE",yx="ASTERISK",Jl="AT",vx="BACKSLASH",bx="BACKTICK",xx="CARET",oc="COLON",NO="COMMA",wx="DOLLAR",Ma="DOT",Sx="EQUALS",OO="EXCLAMATION",ps="HYPHEN",Km="PERCENT",Tx="PIPE",Ex="PLUS",kx="POUND",Ym="QUERY",MO="QUOTE",t7="FULLWIDTHMIDDLEDOT",jO="SEMI",ja="SLASH",Xm="TILDE",_x="UNDERSCORE",n7="EMOJI",Ax="SYM";var r7=Object.freeze({__proto__:null,ALPHANUMERICAL:e7,AMPERSAND:mx,APOSTROPHE:gx,ASCIINUMERICAL:Zq,ASTERISK:yx,AT:Jl,BACKSLASH:vx,BACKTICK:bx,CARET:xx,CLOSEANGLEBRACKET:ax,CLOSEBRACE:Gm,CLOSEBRACKET:nx,CLOSEPAREN:ix,COLON:oc,COMMA:NO,DOLLAR:wx,DOT:Ma,EMOJI:n7,EQUALS:Sx,EXCLAMATION:OO,FULLWIDTHGREATERTHAN:px,FULLWIDTHLEFTPAREN:ox,FULLWIDTHLESSTHAN:hx,FULLWIDTHMIDDLEDOT:t7,FULLWIDTHRIGHTPAREN:lx,HYPHEN:ps,LEFTCORNERBRACKET:cx,LEFTWHITECORNERBRACKET:dx,LOCALHOST:kg,NL:CO,NUM:AO,OPENANGLEBRACKET:sx,OPENBRACE:Wm,OPENBRACKET:tx,OPENPAREN:rx,PERCENT:Km,PIPE:Tx,PLUS:Ex,POUND:kx,QUERY:Ym,QUOTE:MO,RIGHTCORNERBRACKET:ux,RIGHTWHITECORNERBRACKET:fx,SCHEME:ib,SEMI:jO,SLASH:ja,SLASH_SCHEME:Ff,SYM:Ax,TILDE:Xm,TLD:pC,UNDERSCORE:_x,UTLD:mC,UWORD:hC,WORD:Co,WS:gC});const _o=/[a-z]/,im=new RegExp("\\p{L}","u"),KE=new RegExp("\\p{Emoji}","u"),Ao=/\d/,YE=/\s/,p3="\r",XE=`
`,Mye="",jye="",QE="";let bv=null,xv=null;function Iye(t=[]){const e={};vi.groups=e;const n=new vi;bv==null&&(bv=m3(kye)),xv==null&&(xv=m3(_ye)),ve(n,"'",gx),ve(n,"{",Wm),ve(n,"}",Gm),ve(n,"[",tx),ve(n,"]",nx),ve(n,"(",rx),ve(n,")",ix),ve(n,"<",sx),ve(n,">",ax),ve(n,"",ox),ve(n,"",lx),ve(n,"",cx),ve(n,"",ux),ve(n,"",dx),ve(n,"",fx),ve(n,"",hx),ve(n,"",px),ve(n,"&",mx),ve(n,"*",yx),ve(n,"@",Jl),ve(n,"`",bx),ve(n,"^",xx),ve(n,":",oc),ve(n,",",NO),ve(n,"$",wx),ve(n,".",Ma),ve(n,"=",Sx),ve(n,"!",OO),ve(n,"-",ps),ve(n,"%",Km),ve(n,"|",Tx),ve(n,"+",Ex),ve(n,"#",kx),ve(n,"?",Ym),ve(n,'"',MO),ve(n,"/",ja),ve(n,";",jO),ve(n,"~",Xm),ve(n,"_",_x),ve(n,"\\",vx),ve(n,"",t7);const r=hn(n,Ao,AO,{[cC]:!0});hn(r,Ao,r);const i=hn(r,_o,Zq,{[qm]:!0}),s=hn(r,im,e7,{[_m]:!0}),a=hn(n,_o,Co,{[uC]:!0});hn(a,Ao,i),hn(a,_o,a),hn(i,Ao,i),hn(i,_o,i);const l=hn(n,im,hC,{[dC]:!0});hn(l,_o),hn(l,Ao,s),hn(l,im,l),hn(s,Ao,s),hn(s,_o),hn(s,im,s);const c=ve(n,XE,CO,{[GE]:!0}),d=ve(n,p3,gC,{[GE]:!0}),f=hn(n,YE,gC,{[GE]:!0});ve(n,QE,f),ve(d,XE,c),ve(d,QE,f),hn(d,YE,f),ve(f,p3),ve(f,XE),hn(f,YE,f),ve(f,QE,f);const p=hn(n,KE,n7,{[Jq]:!0});ve(p,"#"),hn(p,KE,p),ve(p,Mye,p);const g=ve(p,jye);ve(g,"#"),hn(g,KE,p);const v=[[_o,a],[Ao,i]],b=[[_o,null],[im,l],[Ao,s]];for(let E=0;E<bv.length;E++)Kl(n,bv[E],pC,Co,v);for(let E=0;E<xv.length;E++)Kl(n,xv[E],mC,hC,b);Xu(pC,{tld:!0,ascii:!0},e),Xu(mC,{utld:!0,alpha:!0},e),Kl(n,"file",ib,Co,v),Kl(n,"mailto",ib,Co,v),Kl(n,"http",Ff,Co,v),Kl(n,"https",Ff,Co,v),Kl(n,"ftp",Ff,Co,v),Kl(n,"ftps",Ff,Co,v),Xu(ib,{scheme:!0,ascii:!0},e),Xu(Ff,{slashscheme:!0,ascii:!0},e),t=t.sort((E,S)=>E[0]>S[0]?1:-1);for(let E=0;E<t.length;E++){const S=t[E][0],C=t[E][1]?{[Aye]:!0}:{[Cye]:!0};S.indexOf("-")>=0?C[fC]=!0:_o.test(S)?Ao.test(S)?C[qm]=!0:C[uC]=!0:C[cC]=!0,h3(n,S,S,C)}return h3(n,"localhost",kg,{ascii:!0}),n.jd=new vi(Ax),{start:n,tokens:Object.assign({groups:e},r7)}}function i7(t,e){const n=Dye(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let s=0,a=0;for(;a<r;){let l=t,c=null,d=0,f=null,p=-1,g=-1;for(;a<r&&(c=l.go(n[a]));)l=c,l.accepts()?(p=0,g=0,f=l):p>=0&&(p+=n[a].length,g++),d+=n[a].length,s+=n[a].length,a++;s-=p,a-=g,d-=p,i.push({t:f.t,v:e.slice(s-d,s),s:s-d,e:s})}return i}function Dye(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,a=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function Kl(t,e,n,r,i){let s;const a=e.length;for(let l=0;l<a-1;l++){const c=e[l];t.j[c]?s=t.j[c]:(s=new vi(r),s.jr=i.slice(),t.j[c]=s),t=s}return s=new vi(n),s.jr=i.slice(),t.j[e[a-1]]=s,s}function m3(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+s),10);a>0;a--)n.pop();r+=s}else n.push(t[r]),r++}return e}const _g={defaultProtocol:"http",events:null,format:g3,formatHref:g3,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function IO(t,e=null){let n=Object.assign({},_g);t&&(n=Object.assign(n,t instanceof IO?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}IO.prototype={o:_g,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:_g[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function g3(t){return t}function s7(t,e){this.t="token",this.v=t,this.tk=e}s7.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=_g.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),a={},l=t.get("className",n,e),c=t.get("target",n,e),d=t.get("rel",n,e),f=t.getObj("attributes",n,e),p=t.getObj("events",n,e);return a.href=r,l&&(a.class=l),c&&(a.target=c),d&&(a.rel=d),f&&Object.assign(a,f),{tagName:i,attributes:a,content:s,eventListeners:p}}};function u1(t,e){class n extends s7{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const y3=u1("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),v3=u1("text"),Pye=u1("nl"),wv=u1("url",{isLink:!0,toHref(t=_g.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==kg&&t[1].t===oc}}),cs=t=>new vi(t);function Rye({groups:t}){const e=t.domain.concat([mx,yx,Jl,vx,bx,xx,wx,Sx,ps,AO,Km,Tx,Ex,kx,ja,Ax,Xm,_x]),n=[gx,oc,NO,Ma,OO,Km,Ym,MO,jO,sx,ax,Wm,Gm,nx,tx,rx,ix,ox,lx,cx,ux,dx,fx,hx,px],r=[mx,gx,yx,vx,bx,xx,wx,Sx,ps,Wm,Gm,Km,Tx,Ex,kx,Ym,ja,Ax,Xm,_x],i=cs(),s=ve(i,Xm);Je(s,r,s),Je(s,t.domain,s);const a=cs(),l=cs(),c=cs();Je(i,t.domain,a),Je(i,t.scheme,l),Je(i,t.slashscheme,c),Je(a,r,s),Je(a,t.domain,a);const d=ve(a,Jl);ve(s,Jl,d),ve(l,Jl,d),ve(c,Jl,d);const f=ve(s,Ma);Je(f,r,s),Je(f,t.domain,s);const p=cs();Je(d,t.domain,p),Je(p,t.domain,p);const g=ve(p,Ma);Je(g,t.domain,p);const v=cs(y3);Je(g,t.tld,v),Je(g,t.utld,v),ve(d,kg,v);const b=ve(p,ps);ve(b,ps,b),Je(b,t.domain,p),Je(v,t.domain,p),ve(v,Ma,g),ve(v,ps,b);const E=ve(v,oc);Je(E,t.numeric,y3);const S=ve(a,ps),k=ve(a,Ma);ve(S,ps,S),Je(S,t.domain,a),Je(k,r,s),Je(k,t.domain,a);const C=cs(wv);Je(k,t.tld,C),Je(k,t.utld,C),Je(C,t.domain,a),Je(C,r,s),ve(C,Ma,k),ve(C,ps,S),ve(C,Jl,d);const O=ve(C,oc),z=cs(wv);Je(O,t.numeric,z);const P=cs(wv),U=cs();Je(P,e,P),Je(P,n,U),Je(U,e,P),Je(U,n,U),ve(C,ja,P),ve(z,ja,P);const I=ve(l,oc),j=ve(c,oc),M=ve(j,ja),R=ve(M,ja);Je(l,t.domain,a),ve(l,Ma,k),ve(l,ps,S),Je(c,t.domain,a),ve(c,Ma,k),ve(c,ps,S),Je(I,t.domain,P),ve(I,ja,P),ve(I,Ym,P),Je(R,t.domain,P),Je(R,e,P),ve(R,ja,P);const V=[[Wm,Gm],[tx,nx],[rx,ix],[sx,ax],[ox,lx],[cx,ux],[dx,fx],[hx,px]];for(let L=0;L<V.length;L++){const[B,X]=V[L],ae=ve(P,B);ve(U,B,ae),ve(ae,X,P);const W=cs(wv);Je(ae,e,W);const Y=cs();Je(ae,n),Je(W,e,W),Je(W,n,Y),Je(Y,e,W),Je(Y,n,Y),ve(W,X,P),ve(Y,X,P)}return ve(i,kg,C),ve(i,CO,Pye),{start:i,tokens:r7}}function Lye(t,e,n){let r=n.length,i=0,s=[],a=[];for(;i<r;){let l=t,c=null,d=null,f=0,p=null,g=-1;for(;i<r&&!(c=l.go(n[i].t));)a.push(n[i++]);for(;i<r&&(d=c||l.go(n[i].t));)c=null,l=d,l.accepts()?(g=0,p=l):g>=0&&g++,i++,f++;if(g<0)i-=f,i<r&&(a.push(n[i]),i++);else{a.length>0&&(s.push(JE(v3,e,a)),a=[]),i-=g,f-=g;const v=p.t,b=n.slice(i-f,i);s.push(JE(v,e,b))}}return a.length>0&&s.push(JE(v3,e,a)),s}function JE(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const Vye=typeof console<"u"&&console&&console.warn||(()=>{}),Bye="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ht={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function zye(){return vi.groups={},Ht.scanner=null,Ht.parser=null,Ht.tokenQueue=[],Ht.pluginQueue=[],Ht.customSchemes=[],Ht.initialized=!1,Ht}function b3(t,e=!1){if(Ht.initialized&&Vye(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Bye}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ht.customSchemes.push([t,e])}function Uye(){Ht.scanner=Iye(Ht.customSchemes);for(let t=0;t<Ht.tokenQueue.length;t++)Ht.tokenQueue[t][1]({scanner:Ht.scanner});Ht.parser=Rye(Ht.scanner.tokens);for(let t=0;t<Ht.pluginQueue.length;t++)Ht.pluginQueue[t][1]({scanner:Ht.scanner,parser:Ht.parser});return Ht.initialized=!0,Ht}function DO(t){return Ht.initialized||Uye(),Lye(Ht.parser.start,t,i7(Ht.scanner.start,t))}DO.scan=i7;function a7(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new IO(n),i=DO(t),s=[];for(let a=0;a<i.length;a++){const l=i[a];l.isLink&&(!e||l.t===e)&&r.check(l)&&s.push(l.toFormattedObject(r))}return s}var PO="[\0- -\u2029]",Fye=new RegExp(PO),$ye=new RegExp(`${PO}$`),Hye=new RegExp(PO,"g");function qye(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function Wye(t){return new cn({key:new Kn("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(d=>d.docChanged)&&!n.doc.eq(r.doc),s=e.some(d=>d.getMeta("preventAutolink"));if(!i||s)return;const{tr:a}=r,l=Tq(n.doc,[...e]);if(Oq(l).forEach(({newRange:d})=>{const f=Wme(r.doc,d,v=>v.isTextblock);let p,g;if(f.length>1)p=f[0],g=r.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ");else if(f.length){const v=r.doc.textBetween(d.from,d.to," "," ");if(!$ye.test(v))return;p=f[0],g=r.doc.textBetween(p.pos,d.to,void 0," ")}if(p&&g){const v=g.split(Fye).filter(Boolean);if(v.length<=0)return!1;const b=v[v.length-1],E=p.pos+g.lastIndexOf(b);if(!b)return!1;const S=DO(b).map(k=>k.toObject(t.defaultProtocol));if(!qye(S))return!1;S.filter(k=>k.isLink).map(k=>({...k,from:E+k.start+1,to:E+k.end+1})).filter(k=>r.schema.marks.code?!r.doc.rangeHasMark(k.from,k.to,r.schema.marks.code):!0).filter(k=>t.validate(k.value)).filter(k=>t.shouldAutoLink(k.value)).forEach(k=>{SO(k.from,k.to,r.doc).some(C=>C.mark.type===t.type)||a.addMark(k.from,k.to,t.type.create({href:k.href}))})}}),!!a.steps.length)return a}})}function Gye(t){return new cn({key:new Kn("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let a=!1;if(t.enableClickSelection&&(a=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let l=null;if(r.target instanceof HTMLAnchorElement)l=r.target;else{let p=r.target;const g=[];for(;p.nodeName!=="DIV";)g.push(p),p=p.parentNode;l=g.find(v=>v.nodeName==="A")}if(!l)return a;const c=Nq(e.state,t.type.name),d=(i=l?.href)!=null?i:c.href,f=(s=l?.target)!=null?s:c.target;l&&d&&(window.open(d,f),a=!0)}return a}}})}function Kye(t){return new cn({key:new Kn("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:s}=e,{selection:a}=s,{empty:l}=a;if(l)return!1;let c="";r.content.forEach(f=>{c+=f.textContent});const d=a7(c,{defaultProtocol:t.defaultProtocol}).find(f=>f.isLink&&f.value===c);return!c||!d||i!==void 0&&!i(d.href)?!1:t.editor.commands.setMark(t.type,{href:d.href})}}})}function Ru(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(Hye,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Yye=al.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){b3(t);return}b3(t.scheme,t.optionalSlashes)})},onDestroy(){zye()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Ru(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Ru(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Ru(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",yn(this.options.HTMLAttributes,t),0]:["a",yn(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Ru(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Ru(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Lc({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=a7(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!Ru(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(Wye({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Ru(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(Gye({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(Kye({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),Xye=Object.defineProperty,Qye=(t,e)=>{for(var n in e)Xye(t,n,{get:e[n],enumerable:!0})},Jye="listItem",x3="textStyle",w3=/^\s*([-+*])\s$/,o7=Gi.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",yn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Jye,this.editor.getAttributes(x3)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Ah({find:w3,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ah({find:w3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(x3),editor:this.editor})),[t]}}),l7=Gi.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",yn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const a=t.tokens.slice(1),l=e.parseChildren(a);n.push(...l)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>_O(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Zye={};Qye(Zye,{findListItemPos:()=>p0,getNextListDepth:()=>RO,handleBackspace:()=>yC,handleDelete:()=>vC,hasListBefore:()=>c7,hasListItemAfter:()=>eve,hasListItemBefore:()=>u7,listItemHasSubList:()=>d7,nextListIsDeeper:()=>f7,nextListIsHigher:()=>h7});var p0=(t,e)=>{const{$from:n}=e.selection,r=Un(t,e.schema);let i=null,s=n.depth,a=n.pos,l=null;for(;s>0&&l===null;)i=n.node(s),i.type===r?l=s:(s-=1,a-=1);return l===null?null:{$pos:e.doc.resolve(a),depth:l}},RO=(t,e)=>{const n=p0(t,e);if(!n)return!1;const[,r]=nge(e,t,n.$pos.pos+4);return r},c7=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},u7=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},d7=(t,e,n)=>{if(!n)return!1;const r=Un(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},yC=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Rc(t.state,e)&&c7(t.state,e,n)){const{$anchor:l}=t.state.selection,c=t.state.doc.resolve(l.before()-1),d=[];c.node().descendants((g,v)=>{g.type.name===e&&d.push({node:g,pos:v})});const f=d.at(-1);if(!f)return!1;const p=t.state.doc.resolve(c.start()+f.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},p.end()).joinForward().run()}if(!Rc(t.state,e)||!age(t.state))return!1;const r=p0(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=d7(e,t.state,s);return u7(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},f7=(t,e)=>{const n=RO(t,e),r=p0(t,e);return!r||!n?!1:n>r.depth},h7=(t,e)=>{const n=RO(t,e),r=p0(t,e);return!r||!n?!1:n<r.depth},vC=(t,e)=>{if(!Rc(t.state,e)||!sge(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:f7(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():h7(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},eve=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},p7=Dt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&vC(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&vC(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&yC(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&yC(t,n,r)&&(e=!0)}),e}}}}),S3=/^(\s*)(\d+)\.\s+(.*)$/,tve=/^\s/;function nve(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],s=i.match(S3);if(!s)break;const[,a,l,c]=s,d=a.length;let f=c,p=n+1;const g=[i];for(;p<t.length;){const v=t[p];if(v.match(S3))break;if(v.trim()==="")g.push(v),f+=`
`,p+=1;else if(v.match(tve))g.push(v),f+=`
${v.slice(d+2)}`,p+=1;else break}e.push({indent:d,number:parseInt(l,10),content:f.trim(),raw:g.join(`
`)}),r=p,n=p}return[e,r]}function m7(t,e,n){var r;const i=[];let s=0;for(;s<t.length;){const a=t[s];if(a.indent===e){const l=a.content.split(`
`),c=((r=l[0])==null?void 0:r.trim())||"",d=[];c&&d.push({type:"paragraph",raw:c,tokens:n.inlineTokens(c)});const f=l.slice(1).join(`
`).trim();if(f){const v=n.blockTokens(f);d.push(...v)}let p=s+1;const g=[];for(;p<t.length&&t[p].indent>e;)g.push(t[p]),p+=1;if(g.length>0){const v=Math.min(...g.map(E=>E.indent)),b=m7(g,v,n);d.push({type:"list",ordered:!0,start:g[0].number,items:b,raw:g.map(E=>E.raw).join(`
`)})}i.push({type:"list_item",raw:a.raw,tokens:d}),s=p}else s+=1}return i}function rve(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const s=e.parseChildren([i]);r.push({type:"paragraph",content:s})}else{const s=e.parseChildren([i]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var ive="listItem",T3="textStyle",E3=/^(\d+)\.\s$/,g7=Gi.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",yn(this.options.HTMLAttributes,n),0]:["ol",yn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?rve(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[s,a]=nve(i);if(s.length===0)return;const l=m7(s,0,n);return l.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:l,raw:i.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ive,this.editor.getAttributes(T3)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Ah({find:E3,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ah({find:E3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(T3)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),sve=/^\s*(\[([( |x])?\])\s$/,ave=Gi.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",yn(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return _O(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),d=f=>{var p,g;l.ariaLabel=((g=(p=this.options.a11y)==null?void 0:p.checkboxLabel)==null?void 0:g.call(p,f,l.checked))||`Task item checkbox for ${f.textContent||"empty task item"}`};return d(t),s.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",f=>f.preventDefault()),l.addEventListener("change",f=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:p}=f.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const v=n();if(typeof v!="number")return!1;const b=g.doc.nodeAt(v);return g.setNodeMarkup(v,void 0,{...b?.attrs,checked:p}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,p)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([f,p])=>{i.setAttribute(f,p)}),i.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,s.append(l,a),i.append(s,c),Object.entries(e).forEach(([f,p])=>{i.setAttribute(f,p)}),{dom:i,contentDOM:c,update:f=>f.type!==this.type?!1:(i.dataset.checked=f.attrs.checked,l.checked=f.attrs.checked,d(f),!0)}}},addInputRules(){return[Ah({find:sve,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),ove=Gi.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",yn(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=s=>{const a=oC(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(s)},i=oC(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,a)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:a}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Dt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(o7.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(l7.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(p7.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(g7.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(ave.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(ove.configure(this.options.taskList)),t}});var lve=Gi.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",yn(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),cve=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,uve=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,dve=al.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",yn(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[kd({find:cve,type:this.type})]},addPasteRules(){return[Lc({find:uve,type:this.type})]}}),fve=Gi.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),y7=al.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",yn(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:n.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),hve=y7;function pve(t={}){return new cn({view(e){return new mve(e,t)}})}class mve{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),a=s.width/i.offsetWidth,l=s.height/i.offsetHeight;if(n){let p=e.nodeBefore,g=e.nodeAfter;if(p||g){let v=this.editorView.nodeDOM(this.cursorPos-(p?p.nodeSize:0));if(v){let b=v.getBoundingClientRect(),E=p?b.bottom:b.top;p&&g&&(E=(E+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let S=this.width/2*l;r={left:b.left,right:b.right,top:E-S,bottom:E+S}}}}if(!r){let p=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*a;r={left:p.left-g,right:p.left+g,top:p.top,bottom:p.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let d,f;if(!c||c==document.body&&getComputedStyle(c).position=="static")d=-pageXOffset,f=-pageYOffset;else{let p=c.getBoundingClientRect(),g=p.width/c.offsetWidth,v=p.height/c.offsetHeight;d=p.left-c.scrollLeft*g,f=p.top-c.scrollTop*v}this.element.style.left=(r.left-d)/a+"px",this.element.style.top=(r.top-f)/l+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=mH(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class gn extends Ze{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return gn.valid(r)?new gn(r):Ze.near(r)}content(){return Ee.empty}eq(e){return e instanceof gn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new gn(e.resolve(n.pos))}getBookmark(){return new LO(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!gve(e)||!yve(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&gn.valid(e))return e;let i=e.pos,s=null;for(let a=e.depth;;a--){let l=e.node(a);if(n>0?e.indexAfter(a)<l.childCount:e.index(a)>0){s=l.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=n;let c=e.doc.resolve(i);if(gn.valid(c))return c}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!Le.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=a,i+=n;let l=e.doc.resolve(i);if(gn.valid(l))return l}return null}}}gn.prototype.visible=!1;gn.findFrom=gn.findGapCursorFrom;Ze.jsonID("gapcursor",gn);class LO{constructor(e){this.pos=e}map(e){return new LO(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return gn.valid(n)?new gn(n):Ze.near(n)}}function gve(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function yve(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function vve(){return new cn({props:{decorations:Sve,createSelectionBetween(t,e,n){return e.pos==n.pos&&gn.valid(n)?new gn(n):null},handleClick:xve,handleKeyDown:bve,handleDOMEvents:{beforeinput:wve}}})}const bve=mq({ArrowLeft:Sv("horiz",-1),ArrowRight:Sv("horiz",1),ArrowUp:Sv("vert",-1),ArrowDown:Sv("vert",1)});function Sv(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let a=r.selection,l=e>0?a.$to:a.$from,c=a.empty;if(a instanceof $e){if(!s.endOfTextblock(n)||l.depth==0)return!1;c=!1,l=r.doc.resolve(e>0?l.after():l.before())}let d=gn.findGapCursorFrom(l,e,c);return d?(i&&i(r.tr.setSelection(new gn(d))),!0):!1}}function xve(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!gn.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Le.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new gn(r))),!0)}function wve(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof gn))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=ge.empty;for(let a=r.length-1;a>=0;a--)i=ge.from(r[a].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new Ee(i,0,0));return s.setSelection($e.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function Sve(t){if(!(t.selection instanceof gn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",an.create(t.doc,[Qr.widget(t.selection.head,e,{key:"gapcursor"})])}var Cx=200,lr=function(){};lr.prototype.append=function(e){return e.length?(e=lr.from(e),!this.length&&e||e.length<Cx&&this.leafAppend(e)||this.length<Cx&&e.leafPrepend(this)||this.appendInner(e)):this};lr.prototype.prepend=function(e){return e.length?lr.from(e).append(this):this};lr.prototype.appendInner=function(e){return new Tve(this,e)};lr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?lr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};lr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};lr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};lr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},n,r),i};lr.from=function(e){return e instanceof lr?e:e&&e.length?new v7(e):lr.empty};var v7=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,l){for(var c=s;c<a;c++)if(i(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,l){for(var c=s-1;c>=a;c--)if(i(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Cx)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Cx)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(lr);lr.empty=new v7([]);var Tve=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,a){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(s,l),a)===!1||s>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,s)-l,a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,a){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(s,l)-l,a+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(i,l),s,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(lr);const Eve=500;class Xs{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=e.tr,l,c,d=[],f=[];return this.items.forEach((p,g)=>{if(!p.step){i||(i=this.remapping(r,g+1),s=i.maps.length),s--,f.push(p);return}if(i){f.push(new Ia(p.map));let v=p.step.map(i.slice(s)),b;v&&a.maybeStep(v).doc&&(b=a.mapping.maps[a.mapping.maps.length-1],d.push(new Ia(b,void 0,void 0,d.length+f.length))),s--,b&&i.appendMap(b,s)}else a.maybeStep(p.step);if(p.selection)return l=i?p.selection.map(i.slice(s)):p.selection,c=new Xs(this.items.slice(0,r).append(f.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:a,selection:l}}addTransform(e,n,r,i){let s=[],a=this.eventCount,l=this.items,c=!i&&l.length?l.get(l.length-1):null;for(let f=0;f<e.steps.length;f++){let p=e.steps[f].invert(e.docs[f]),g=new Ia(e.mapping.maps[f],p,n),v;(v=c&&c.merge(g))&&(g=v,f?s.pop():l=l.slice(0,l.length-1)),s.push(g),n&&(a++,n=void 0),i||(c=g)}let d=a-r.depth;return d>_ve&&(l=kve(l,d),a-=d),new Xs(l.append(s),a)}remapping(e,n){let r=new bg;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new Xs(this.items.append(e.map(n=>new Ia(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(g=>{g.selection&&l--},i);let c=n;this.items.forEach(g=>{let v=s.getMirror(--c);if(v==null)return;a=Math.min(a,v);let b=s.maps[v];if(g.step){let E=e.steps[v].invert(e.docs[v]),S=g.selection&&g.selection.map(s.slice(c+1,v));S&&l++,r.push(new Ia(b,E,S))}else r.push(new Ia(b))},i);let d=[];for(let g=n;g<a;g++)d.push(new Ia(s.maps[g]));let f=this.items.slice(0,i).append(d).append(r),p=new Xs(f,l);return p.emptyItemCount()>Eve&&(p=p.compress(this.items.length-r.length)),p}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((a,l)=>{if(l>=e)i.push(a),a.selection&&s++;else if(a.step){let c=a.step.map(n.slice(r)),d=c&&c.getMap();if(r--,d&&n.appendMap(d,r),c){let f=a.selection&&a.selection.map(n.slice(r));f&&s++;let p=new Ia(d.invert(),c,f),g,v=i.length-1;(g=i.length&&i[v].merge(p))?i[v]=g:i.push(p)}}else a.map&&r--},this.items.length,0),new Xs(lr.from(i.reverse()),s)}}Xs.empty=new Xs(lr.empty,0);function kve(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Ia{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ia(n.getMap().invert(),n,this.selection)}}}class Zl{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const _ve=20;function Ave(t,e,n,r){let i=n.getMeta(ud),s;if(i)return i.historyState;n.getMeta(Ove)&&(t=new Zl(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(ud))return a.getMeta(ud).redo?new Zl(t.done.addTransform(n,void 0,r,sb(e)),t.undone,k3(n.mapping.maps),t.prevTime,t.prevComposition):new Zl(t.done,t.undone.addTransform(n,void 0,r,sb(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),c=t.prevTime==0||!a&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!Cve(n,t.prevRanges)),d=a?ZE(t.prevRanges,n.mapping):k3(n.mapping.maps);return new Zl(t.done.addTransform(n,c?e.selection.getBookmark():void 0,r,sb(e)),Xs.empty,d,n.time,l??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Zl(t.done.rebased(n,s),t.undone.rebased(n,s),ZE(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Zl(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),ZE(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Cve(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function k3(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,a)=>e.push(s,a));return e}function ZE(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function Nve(t,e,n){let r=sb(e),i=ud.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),l=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),c=new Zl(n?l:s.remaining,n?s.remaining:l,null,0,-1);return s.transform.setSelection(a).setMeta(ud,{redo:n,historyState:c})}let ek=!1,_3=null;function sb(t){let e=t.plugins;if(_3!=e){ek=!1,_3=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){ek=!0;break}}return ek}const ud=new Kn("history"),Ove=new Kn("closeHistory");function Mve(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new cn({key:ud,state:{init(){return new Zl(Xs.empty,Xs.empty,null,0,-1)},apply(e,n,r){return Ave(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?x7:r=="historyRedo"?w7:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function b7(t,e){return(n,r)=>{let i=ud.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=Nve(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const x7=b7(!1,!0),w7=b7(!0,!0);Dt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new cn({key:new Kn("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const a=s-i,l=0,c=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const d=r.tr.deleteRange(l,c);return t=!0,d}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=s-r,d=l-c,f=l;return e.deleteRange(d,f),!(this.storage.characters({node:e.doc})>r)}})]}});var jve=Dt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[pve(this.options)]}});Dt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new cn({key:new Kn("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return an.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((c,d)=>{if(c.isText)return;if(!(i>=d&&i<=d+c.nodeSize-1))return!1;a+=1});let l=0;return t.descendants((c,d)=>{if(c.isText||!(i>=d&&i<=d+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&a-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";s.push(Qr.node(d,d+c.nodeSize,{class:this.options.className}))}),an.create(t,s)}}})]}});var Ive=Dt.create({name:"gapCursor",addProseMirrorPlugins(){return[vve()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=St(De(t,"allowGapCursor",n)))!=null?e:null}}}),Dve=Dt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new cn({key:new Kn("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((a,l)=>{const c=r>=l&&r<=l+a.nodeSize,d=!a.isLeaf&&o1(a);if((c||!this.options.showOnlyCurrent)&&d){const f=[this.options.emptyNodeClass];s&&f.push(this.options.emptyEditorClass);const p=Qr.node(l,l+a.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:l,hasAnchor:c}):this.options.placeholder});i.push(p)}return this.options.includeChildren}),an.create(t,i)}}})]}});Dt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new cn({key:new Kn("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||Mq(n.selection)||t.view.dragging?null:an.create(n.doc,[Qr.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function A3({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var Pve=Dt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new Kn(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new cn({key:e,appendTransaction:(i,s,a)=>{const{doc:l,tr:c,schema:d}=a,f=e.getState(a),p=l.content.size,g=d.nodes[n];if(f)return c.insert(p,g.create())},state:{init:(i,s)=>{const a=s.tr.doc.lastChild;return!A3({node:a,types:r})},apply:(i,s)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return s;const a=i.doc.lastChild;return!A3({node:a,types:r})}}})]}}),Rve=Dt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>x7(t,e),redo:()=>({state:t,dispatch:e})=>w7(t,e)}},addProseMirrorPlugins(){return[Mve(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Lve=Dt.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(cye.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(iye.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(o7.configure(this.options.bulletList)),this.options.code!==!1&&i.push(fye.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(mye.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(gye.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(jve.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(Ive.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(yye.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(vye.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(Rve.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(bye.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(Eye.configure(this.options.italic)),this.options.listItem!==!1&&i.push(l7.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(p7.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(Yye.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(g7.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(lve.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(dve.configure(this.options.strike)),this.options.text!==!1&&i.push(fve.configure(this.options.text)),this.options.underline!==!1&&i.push(y7.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(Pve.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),Vve=Lve,Bve=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,zve=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,Uve=al.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",yn(this.options.HTMLAttributes,t),0]},renderMarkdown:(t,e)=>`==${e.renderChildren(t)}==`,parseMarkdown:(t,e)=>e.applyMark("highlight",e.parseInline(t.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:t=>t.indexOf("=="),tokenize(t,e,n){const i=/^(==)([^=]+)(==)/.exec(t);if(i){const s=i[2].trim(),a=n.inlineTokens(s);return{type:"highlight",raw:i[0],text:s,tokens:a}}}},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[kd({find:Bve,type:this.type})]},addPasteRules(){return[Lc({find:zve,type:this.type})]}}),Fve=Uve,$ve=20,S7=(t,e=0)=>{const n=[];return!t.children.length||e>$ve||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...S7(r,e+1))}),n},Hve=t=>{if(!t.children.length)return;const e=S7(t);e&&e.forEach(n=>{var r,i;const s=n.getAttribute("style"),a=(i=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:i.getAttribute("style");n.setAttribute("style",`${a};${s}`)})},T7=al.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Hve(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",yn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),qve=Dt.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const a=s[0].trim().toLowerCase(),l=s.slice(1).join(":").trim();if(a==="background-color")return l.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),E7=Dt.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const a=s[0].trim().toLowerCase(),l=s.slice(1).join(":").trim();if(a==="color")return l.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Wve=Dt.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),Gve=Dt.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),Kve=Dt.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Dt.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(qve.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(E7.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(Wve.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(Gve.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(Kve.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(T7.configure(this.options.textStyle)),t}});var Yve=Dve;const Xve=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M14 12a4 4 0 0 0 0-8H6v8"}),m.jsx("path",{d:"M15.5 20a4 4 0 0 0 0-8H6v8Z"})]}),Qve=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"19",x2:"10",y1:"4",y2:"4"}),m.jsx("line",{x1:"14",x2:"5",y1:"20",y2:"20"}),m.jsx("line",{x1:"15",x2:"9",y1:"4",y2:"20"})]}),Jve=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M6 4v6a6 6 0 0 0 12 0V4"}),m.jsx("line",{x1:"4",x2:"20",y1:"20",y2:"20"})]}),Zve=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M16 4H9a3 3 0 0 0-2.83 2M14 12a4 4 0 0 1 0 8H6"}),m.jsx("line",{x1:"4",x2:"20",y1:"12",y2:"12"})]}),ebe=t=>m.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"m9 11-6 6v3h9l3-3"}),m.jsx("path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4"})]}),tbe=["#000000","#FFFFFF","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899"],sm=({onClick:t,isActive:e,icon:n,children:r})=>m.jsx("button",{type:"button",onClick:t,className:`p-2 rounded-md transition-colors ${e?"bg-violet-100 dark:bg-violet-900 text-violet-500":"hover:bg-neutral-100 dark:hover:bg-neutral-700 text-neutral-600 dark:text-neutral-400"}`,children:n||r}),nbe=({editor:t})=>{const[,e]=_.useState(0),n=_.useCallback(()=>e(r=>r+1),[]);return _.useEffect(()=>{if(t)return t.on("update",n),t.on("selectionUpdate",n),()=>{t.off("update",n),t.off("selectionUpdate",n)}},[t,n]),t?m.jsxs("div",{className:"bg-black/5 dark:bg-white/5 p-2 rounded-t-xl border-b border-black/10 dark:border-white/10 backdrop-blur-sm flex flex-wrap items-center gap-2",children:[m.jsx(sm,{onClick:()=>t.chain().focus().toggleBold().run(),isActive:t.isActive("bold"),icon:m.jsx(Xve,{className:"w-5 h-5"})}),m.jsx(sm,{onClick:()=>t.chain().focus().toggleItalic().run(),isActive:t.isActive("italic"),icon:m.jsx(Qve,{className:"w-5 h-5"})}),m.jsx(sm,{onClick:()=>t.chain().focus().toggleUnderline().run(),isActive:t.isActive("underline"),icon:m.jsx(Jve,{className:"w-5 h-5"})}),m.jsx(sm,{onClick:()=>t.chain().focus().toggleStrike().run(),isActive:t.isActive("strike"),icon:m.jsx(Zve,{className:"w-5 h-5"})}),m.jsx(sm,{onClick:()=>t.chain().focus().toggleHighlight({color:"#fef9c3"}).run(),isActive:t.isActive("highlight"),icon:m.jsx(ebe,{className:"w-5 h-5"})}),m.jsx("div",{className:"w-px h-6 bg-neutral-300 dark:bg-neutral-600 mx-1"}),m.jsx("div",{className:"flex gap-1 p-1",children:tbe.map(r=>m.jsx("button",{type:"button",onClick:()=>t.chain().focus().setColor(r).run(),className:`w-5 h-5 rounded ${t.isActive("textStyle",{color:r})?"ring-2 ring-offset-2 ring-violet-500 dark:ring-offset-neutral-800":""} ${r==="#FFFFFF"?"border border-neutral-400":""}`,style:{backgroundColor:r}},r))})]}):null},rbe=({entries:t,onDateSelect:e,onAddClick:n})=>{const r=new Date;return m.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Vb,{className:"w-6 h-6 text-violet-500"}),m.jsx("h2",{className:"text-3xl font-bold text-violet-600 dark:text-violet-400",children:"Journal"})]}),m.jsxs("button",{onClick:n,className:"px-4 py-2 bg-violet-500 text-white font-semibold rounded-lg flex items-center gap-2 hover:bg-violet-600 transition-colors shadow-lg shadow-violet-500/30",children:[m.jsx(zn,{className:"w-5 h-5"})," Write Entry"]})]}),m.jsxs("div",{className:"p-6 bg-violet-50/50 dark:bg-violet-950/20 backdrop-blur-xl rounded-2xl shadow-sm border border-violet-100 dark:border-violet-900/50",children:[m.jsx("style",{children:`
                    .react-calendar { width: 100%; border: none; background: transparent; font-family: inherit; }
                    .react-calendar__navigation { display: flex; align-items: center; justify-content: center; gap: 1rem; margin-bottom: 2rem; }
                    .react-calendar__navigation__label { font-size: 1.5rem; font-weight: 800; color: #7c3aed; background: none; border: none; }
                    .dark .react-calendar__navigation__label { color: #a78bfa; }
                    .react-calendar__navigation__arrow { font-size: 2rem; color: #8b5cf6; background: none; border: none; padding: 10px; border-radius: 50%; }
                    .react-calendar__navigation__arrow:hover { background: rgba(139, 92, 246, 0.1); }
                    .react-calendar__month-view__weekdays { text-align: center; text-transform: uppercase; font-weight: bold; color: #a78bfa; font-size: 0.8rem; margin-bottom: 1rem; }
                    .react-calendar__month-view__weekdays abbr { text-decoration: none; }
                    .react-calendar__tile { height: 100px; display: flex; flex-direction: column; justify-content: flex-start; align-items: flex-start; padding: 10px; background: transparent; border-radius: 12px; transition: all 0.2s; position: relative; border: 1px solid transparent; }
                    .react-calendar__tile:enabled:hover { background: rgba(139, 92, 246, 0.1); }
                    .react-calendar__tile--now { background: rgba(139, 92, 246, 0.05); border-color: #8b5cf6; }
                    .react-calendar__tile--active { background: #8b5cf6 !important; color: white; }
                    .react-calendar__tile--active:enabled:hover { background: #7c3aed !important; }
                    .dark .react-calendar__month-view__days__day--neighboringMonth { opacity: 0.3; }
                `}),m.jsx(Kde,{onChange:e,value:r,tileContent:({date:i,view:s})=>s==="month"&&m.jsx("div",{className:"w-full h-full relative",children:t.find(a=>a.id===i.toLocaleDateString("en-CA"))&&m.jsx(Qe.div,{initial:{scale:0},animate:{scale:1},className:"absolute bottom-2 right-2",children:m.jsx(si,{className:"w-5 h-5 text-violet-400 fill-violet-400 drop-shadow-md"})})}),formatShortWeekday:(i,s)=>s.toLocaleDateString("en-US",{weekday:"short"}),nextLabel:m.jsx(yi,{className:"w-6 h-6 rotate-180"}),prevLabel:m.jsx(yi,{className:"w-6 h-6"}),next2Label:null,prev2Label:null,view:"month"})]})]})},ibe=({entry:t,onEdit:e,onDelete:n,onClose:r})=>{const i=t.date?.toDate?t.date.toDate():new Date(t.date);return m.jsx(oa,{onClose:r,children:m.jsxs(Qe.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-violet-50/90 dark:bg-violet-950/90 backdrop-blur-xl rounded-2xl shadow-2xl w-full max-w-2xl max-h-[85vh] flex flex-col overflow-hidden",onClick:s=>s.stopPropagation(),children:[m.jsxs("div",{className:"p-5 border-b border-violet-200 dark:border-violet-800 flex justify-between items-center shrink-0",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-xl text-violet-800 dark:text-violet-200",children:t.title||"Untitled Entry"}),m.jsx("p",{className:"text-sm text-violet-600 dark:text-violet-400",children:i.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:e,className:"p-2 rounded-lg bg-white/50 dark:bg-black/20 hover:bg-violet-200 dark:hover:bg-violet-800 transition-colors text-violet-600 dark:text-violet-300",children:m.jsx(ei,{className:"w-5 h-5"})}),m.jsx("button",{onClick:n,className:"p-2 rounded-lg bg-white/50 dark:bg-black/20 hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors text-red-500",children:m.jsx(Hr,{className:"w-5 h-5"})})]})]}),m.jsxs("div",{className:"flex-grow overflow-y-auto p-8 notebook-bg relative",children:[m.jsx("style",{children:`
                        .notebook-bg {
                            background-color: transparent;
                            background-image: linear-gradient(to bottom, rgba(139, 92, 246, 0.1) 1px, transparent 1px);
                            background-size: 100% 2.5rem;
                            line-height: 2.5rem;
                        }
                    `}),m.jsx("div",{className:"prose dark:prose-invert prose-violet max-w-none font-serif text-lg leading-10 focus:outline-none",dangerouslySetInnerHTML:{__html:t.content}})]})]})})},sbe=({entry:t,onSave:e,onClose:n})=>{const[r,i]=_.useState(t?.title||""),s=t?.date?.toDate?t.date.toDate():t?.date||new Date,a=Z0e({extensions:[Vve,hve,Fve.configure({multicolor:!0}),T7,E7,Yve.configure({placeholder:"Dear Diary..."})],content:t?.content||"",editorProps:{attributes:{class:"prose dark:prose-invert prose-lg max-w-none focus:outline-none min-h-[300px]"}}}),l=()=>{a&&e(r,a.getHTML(),"serif")};return m.jsx(oa,{onClose:n,children:m.jsxs(Qe.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white/90 dark:bg-neutral-900/90 backdrop-blur-xl rounded-2xl shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden",onClick:c=>c.stopPropagation(),children:[m.jsx("div",{className:"p-6 shrink-0 border-b border-neutral-200 dark:border-neutral-800",children:m.jsx("input",{type:"text",value:r,onChange:c=>i(c.target.value),placeholder:`Entry for ${s.toLocaleDateString("en-US",{month:"long",day:"numeric"})}`,className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100 bg-transparent w-full focus:outline-none placeholder-neutral-400",autoFocus:!0})}),m.jsx("div",{className:"px-6 py-2 bg-neutral-50 dark:bg-neutral-800/50 border-b border-neutral-200 dark:border-neutral-800",children:m.jsx(nbe,{editor:a})}),m.jsxs("div",{className:"flex-grow overflow-y-auto p-8 notebook-bg",children:[m.jsx("style",{children:`
                        .notebook-bg {
                            background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.05) 1px, transparent 1px);
                            background-size: 100% 2.5rem;
                            line-height: 2.5rem;
                        }
                        .dark .notebook-bg {
                            background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
                        }
                    `}),m.jsx(W0e,{editor:a,className:"h-full"})]}),m.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800 border-t border-neutral-200 dark:border-neutral-700 flex justify-end gap-3 shrink-0",children:[m.jsx("button",{onClick:n,className:"px-5 py-2 rounded-lg font-semibold text-neutral-600 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",children:"Cancel"}),m.jsx("button",{onClick:l,className:"px-5 py-2 rounded-lg bg-violet-600 text-white font-semibold hover:bg-violet-700 shadow-lg shadow-violet-500/30 transition-all",children:t?.id?"Save Changes":"Publish Entry"})]})]})})},abe=()=>m.jsxs(Qe.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8},className:"fixed bottom-10 right-10 z-[100] flex items-center gap-3 bg-white dark:bg-neutral-800 border border-violet-200 dark:border-violet-900 p-4 rounded-xl shadow-2xl",children:[m.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-2 rounded-full",children:m.jsx(xh,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-neutral-800 dark:text-neutral-100",children:"Entry Saved"}),m.jsx("p",{className:"text-xs text-neutral-500",children:"Your memories are safe."})]})]});function obe({entries:t,addEntry:e,updateEntry:n,deleteEntry:r}){const[i,s]=_.useState({view:null,data:null}),[a,l]=_.useState(!1),c=p=>{const g=p.toLocaleDateString("en-CA"),v=t.find(b=>b.id===g);s(v?{view:"display",data:v}:{view:"edit",data:{date:p}})},d=async(p,g,v)=>{const b=i.data.date,E=b?.toDate?b.toDate():b,S=E.toLocaleDateString("en-CA"),k=t.find(C=>C.id===S);s({view:null,data:null}),k?await n(S,{...k,title:p,content:g,font:v}):await e(S,{id:S,title:p,content:g,font:v,date:E}),l(!0),setTimeout(()=>l(!1),2e3)},f=p=>{window.confirm("Are you sure you want to delete this page from your diary?")&&(r(p),s({view:null,data:null}))};return m.jsxs("div",{className:"max-w-5xl mx-auto",children:[m.jsx(rbe,{entries:t,onDateSelect:c,onAddClick:()=>{const p=new Date;p.setHours(0,0,0,0),c(p)}}),m.jsxs(Wt,{children:[i.view==="display"&&m.jsx(ibe,{entry:i.data,onClose:()=>s({view:null,data:null}),onEdit:()=>s({view:"edit",data:i.data}),onDelete:()=>f(i.data.id)}),i.view==="edit"&&m.jsx(sbe,{entry:i.data,onClose:()=>s({view:null,data:null}),onSave:d}),a&&m.jsx(abe,{})]})]})}const lbe={Default:to,Star:si,Zap:Ds,Heart:zw},cbe=t=>{if(!t||t.length===0)return 0;let e=0;return t.forEach(n=>{e+=Wc(n.subTasks)}),Math.round(e/t.length)},ube=({percentage:t,size:e=60,strokeWidth:n=4,color:r="text-blue-500",showText:i=!0})=>{const s=(e-n)/2,a=s*2*Math.PI,l=a-t/100*a;return m.jsxs("div",{className:"relative flex items-center justify-center shrink-0",style:{width:e,height:e},children:[m.jsxs("svg",{className:"transform -rotate-90 w-full h-full",children:[m.jsx("circle",{cx:e/2,cy:e/2,r:s,stroke:"currentColor",strokeWidth:n,fill:"transparent",className:"text-neutral-200/50 dark:text-neutral-800/50"}),m.jsx("circle",{cx:e/2,cy:e/2,r:s,stroke:"currentColor",strokeWidth:n,fill:"transparent",strokeDasharray:a,strokeDashoffset:l,strokeLinecap:"round",className:`${r} transition-all duration-1000 ease-out`})]}),i&&m.jsxs("span",{className:"absolute text-xs font-bold text-neutral-700 dark:text-white",children:[t,"%"]})]})},C3=({goal:t,onEdit:e,onDelete:n,onToggleSubTask:r,onToggleGoal:i})=>{const[s,a]=_.useState(!1),l=Wc(t.subTasks),c=t.status==="completed"||l===100&&t.subTasks?.length>0;return m.jsxs("div",{className:"mb-4 relative group break-inside-avoid w-full overflow-hidden",children:[!s&&t.subTasks&&t.subTasks.length>0&&m.jsx("div",{className:"absolute left-[11px] top-8 bottom-2 w-0.5 bg-neutral-300 dark:bg-neutral-700/50"}),m.jsxs("div",{className:"flex items-start gap-3 w-full",children:[m.jsx("button",{onClick:d=>{d.stopPropagation(),a(!s)},className:"mt-1 w-6 h-6 flex items-center justify-center rounded hover:bg-neutral-100 dark:hover:bg-white/10 text-neutral-400 transition-colors z-10 bg-transparent shrink-0",children:t.subTasks?.length>0?s?m.jsx(zn,{className:"w-3 h-3"}):m.jsx("div",{className:"w-2 h-0.5 bg-neutral-400"}):m.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-neutral-300 dark:bg-neutral-700"})}),m.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[m.jsxs("div",{className:"flex items-center gap-2 py-0.5 group/header w-full",children:[m.jsx("span",{className:"text-neutral-300 dark:text-neutral-600 font-bold mr-1 select-none shrink-0",children:"-"}),m.jsx("h3",{onClick:()=>i(t),className:`text-lg font-bold leading-tight transition-all cursor-pointer select-none truncate flex-1 min-w-0 ${c?"text-neutral-400 line-through":"text-neutral-800 dark:text-white"}`,children:t.title}),m.jsxs("div",{className:"opacity-0 group-hover/header:opacity-100 flex items-center gap-2 transition-opacity ml-2 shrink-0",children:[m.jsx("button",{onClick:d=>{d.stopPropagation(),e(t)},className:"text-neutral-300 hover:text-blue-500",children:m.jsx(ei,{className:"w-3.5 h-3.5"})}),m.jsx("button",{onClick:d=>{d.stopPropagation(),n(t.id)},className:"text-neutral-300 hover:text-red-500",children:m.jsx(Hr,{className:"w-3.5 h-3.5"})}),m.jsxs("span",{className:"text-xs font-mono text-neutral-400",children:[l,"%"]})]})]}),m.jsx(Wt,{children:!s&&t.subTasks&&m.jsx(Qe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-2 space-y-2 ml-1",children:t.subTasks.map((d,f)=>{const p=lbe[d.icon]||to,g=d.color||"text-neutral-500",v=d.completed;return m.jsxs("div",{className:"flex items-center gap-3 pl-4 relative group/task cursor-pointer w-full",onClick:()=>r(t,f),children:[m.jsx("div",{className:"absolute left-0 top-1/2 w-3 h-0.5 bg-neutral-300 dark:bg-neutral-700/50"}),m.jsx(p,{className:`w-4 h-4 shrink-0 ${v?"text-green-500":g}`}),m.jsx("span",{className:`text-sm font-medium truncate select-none flex-1 min-w-0 ${v?"text-neutral-400 line-through":g}`,children:d.text})]},f)})})})]})]})]})},dbe=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),[i,s]=_.useState(!1),[a,l]=_.useState(null),[c,d]=_.useState({}),[f,p]=_.useState(null);_.useEffect(()=>{const z=Is(),P=js(z,async U=>{if(U){p(U.uid),r(!0);const I=await Ns(U.uid,"lifeGoals");e(I),r(!1)}else p(null),e([]),r(!1)});return()=>P()},[]);const g=cbe(t),v=t.filter(z=>z.status!=="completed"),b=t.filter(z=>z.status==="completed"),E=()=>{l(null),d({subTasks:[],type:"life"}),s(!0)},S=async z=>{if(console.log("Attempting to save...",z),!f){alert(" Error: Not logged in. Please wait.");return}const P={...z,subTasks:z.subTasks||[]},U=a?{...P,id:a.id}:P;try{const I=await en(f,"lifeGoals",U,!!a);console.log(" Save successful:",I),e(a?j=>j.map(M=>M.id===a.id?{...M,...I}:M):j=>[I,...j]),s(!1)}catch(I){console.error(" Save failed:",I),alert(`Error: ${I.message}`)}},k=async z=>{f&&window.confirm("Delete this life goal?")&&(await sa(f,"lifeGoals",z),e(P=>P.filter(U=>U.id!==z)))},C=async(z,P)=>{if(!f)return;const U=await RN(f,"lifeGoals",z,P),I=U.length>0&&U.every(M=>M.completed);let j=z.status;I?j="completed":!I&&z.status==="completed"&&(j="in-progress"),e(M=>M.map(R=>R.id===z.id?{...R,subTasks:U,status:j}:R)),j!==z.status&&await en(f,"lifeGoals",{...z,subTasks:U,status:j,id:z.id},!0)},O=async z=>{if(!f)return;const P=z.status==="completed"?"in-progress":"completed";e(U=>U.map(I=>I.id===z.id?{...I,status:P}:I)),await en(f,"lifeGoals",{...z,status:P,id:z.id},!0)};return m.jsxs("main",{className:"min-h-screen pt-6 px-4 pb-20 w-full max-w-[98%] mx-auto bg-transparent text-neutral-900 dark:text-neutral-100",children:[m.jsxs("header",{className:"flex flex-col md:flex-row items-center justify-between mb-10 gap-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-6xl font-black tracking-tighter leading-none bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400",children:"Life Goals"}),m.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 font-bold mt-2 ml-1",children:"Your ultimate vision and long-term dreams."})]}),m.jsxs("div",{className:"flex items-center gap-8 bg-white/40 dark:bg-neutral-900/40 backdrop-blur-md p-4 rounded-3xl border border-white/20 dark:border-white/10 shadow-lg shadow-black/5",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(ube,{percentage:g,size:70,strokeWidth:6,color:"text-blue-600 dark:text-blue-400"}),m.jsxs("div",{children:[m.jsx("div",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Total Progress"}),m.jsxs("div",{className:"text-xl font-bold",children:[g,"% Done"]})]})]}),m.jsx("div",{className:"h-10 w-px bg-neutral-200 dark:bg-neutral-700"}),m.jsxs("div",{className:"pr-4",children:[m.jsx("div",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Active Goals"}),m.jsxs("div",{className:"text-xl font-bold text-neutral-800 dark:text-white",children:[t.filter(z=>z.status!=="completed").length," ",m.jsxs("span",{className:"text-sm font-normal text-neutral-400",children:["/ ",t.length]})]})]})]})]}),m.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[m.jsxs("div",{className:"flex justify-between items-end mb-6 border-b border-neutral-200 dark:border-neutral-800 pb-4",children:[m.jsx("h2",{className:"text-3xl font-bold",children:"Vision Board"}),m.jsxs("button",{onClick:E,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-xl font-bold shadow-lg shadow-blue-500/20 transition-all active:scale-95",children:[m.jsx(zn,{className:"w-5 h-5"})," New Life Goal"]})]}),m.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8",children:v.map(z=>m.jsx(C3,{goal:z,onEdit:P=>{l(P),d({...P}),s(!0)},onDelete:k,onToggleSubTask:C,onToggleGoal:O},z.id))}),n&&m.jsx("div",{className:"text-center py-20 text-neutral-400 animate-pulse",children:"Loading visions..."}),!n&&t.length===0&&m.jsxs("div",{className:"text-center py-20 border-2 border-dashed border-neutral-200 dark:border-neutral-800 rounded-3xl",children:[m.jsx(ks,{className:"w-12 h-12 text-neutral-300 mx-auto mb-4"}),m.jsx("h3",{className:"text-xl font-bold text-neutral-400",children:"No life goals defined yet."}),m.jsx("p",{className:"text-neutral-500",children:"Start by adding your first major ambition."})]}),b.length>0&&m.jsxs("div",{className:"mt-20 pt-10 border-t border-neutral-200 dark:border-neutral-800",children:[m.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-neutral-500",children:[m.jsx(xh,{className:"w-5 h-5 text-green-500"}),"Completed History"]}),m.jsx("div",{className:"opacity-60 hover:opacity-100 transition-opacity duration-300",children:m.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8",children:b.map(z=>m.jsx(C3,{goal:z,onEdit:P=>{l(P),d({...P}),s(!0)},onDelete:k,onToggleSubTask:C,onToggleGoal:O},z.id))})})]})]}),i&&m.jsx(VN,{isOpen:i,onClose:()=>s(!1),onSave:S,initialData:c,type:"life"})]})},fbe={Default:to,Star:si,Zap:Ds,Heart:zw},hbe=t=>{if(!t||t.length===0)return 0;let e=0;return t.forEach(n=>{e+=Wc(n.subTasks)}),Math.round(e/t.length)},pbe=({percentage:t,size:e=60,strokeWidth:n=4,color:r="text-red-500",showText:i=!0})=>{const s=(e-n)/2,a=s*2*Math.PI,l=a-t/100*a;return m.jsxs("div",{className:"relative flex items-center justify-center shrink-0",style:{width:e,height:e},children:[m.jsxs("svg",{className:"transform -rotate-90 w-full h-full",children:[m.jsx("circle",{cx:e/2,cy:e/2,r:s,stroke:"currentColor",strokeWidth:n,fill:"transparent",className:"text-neutral-200/50 dark:text-neutral-800/50"}),m.jsx("circle",{cx:e/2,cy:e/2,r:s,stroke:"currentColor",strokeWidth:n,fill:"transparent",strokeDasharray:a,strokeDashoffset:l,strokeLinecap:"round",className:`${r} transition-all duration-1000 ease-out`})]}),i&&m.jsxs("span",{className:"absolute text-xs font-bold text-neutral-700 dark:text-white",children:[t,"%"]})]})},N3=({goal:t,onEdit:e,onDelete:n,onToggleSubTask:r,onToggleGoal:i})=>{const[s,a]=_.useState(!1),l=Wc(t.subTasks),c=t.status==="completed"||l===100&&t.subTasks?.length>0;return m.jsxs("div",{className:"mb-4 relative group break-inside-avoid w-full overflow-hidden",children:[!s&&t.subTasks&&t.subTasks.length>0&&m.jsx("div",{className:"absolute left-[11px] top-8 bottom-2 w-0.5 bg-red-200 dark:bg-red-900/30"}),m.jsxs("div",{className:"flex items-start gap-3 w-full",children:[m.jsx("button",{onClick:d=>{d.stopPropagation(),a(!s)},className:"mt-1 w-6 h-6 flex items-center justify-center rounded hover:bg-neutral-100 dark:hover:bg-white/10 text-neutral-400 transition-colors z-10 bg-transparent shrink-0",children:t.subTasks?.length>0?s?m.jsx(zn,{className:"w-3 h-3"}):m.jsx("div",{className:"w-2 h-0.5 bg-neutral-400"}):m.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-neutral-300 dark:bg-neutral-700"})}),m.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[m.jsxs("div",{className:"flex items-center gap-2 py-0.5 group/header w-full",children:[m.jsx("span",{className:"text-red-300 dark:text-red-700 font-bold mr-1 select-none shrink-0",children:"-"}),m.jsx("h3",{onClick:()=>i(t),className:`text-lg font-bold leading-tight transition-all cursor-pointer select-none truncate flex-1 min-w-0 ${c?"text-neutral-400 line-through":"text-neutral-800 dark:text-white"}`,children:t.title}),m.jsxs("div",{className:"opacity-0 group-hover/header:opacity-100 flex items-center gap-2 transition-opacity ml-2 shrink-0",children:[m.jsx("button",{onClick:d=>{d.stopPropagation(),e(t)},className:"text-neutral-300 hover:text-red-500",children:m.jsx(ei,{className:"w-3.5 h-3.5"})}),m.jsx("button",{onClick:d=>{d.stopPropagation(),n(t.id)},className:"text-neutral-300 hover:text-red-500",children:m.jsx(Hr,{className:"w-3.5 h-3.5"})}),m.jsxs("span",{className:"text-xs font-mono text-neutral-400",children:[l,"%"]})]})]}),m.jsx(Wt,{children:!s&&t.subTasks&&m.jsx(Qe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-2 space-y-2 ml-1",children:t.subTasks.map((d,f)=>{const p=fbe[d.icon]||to,g=d.color||"text-neutral-500",v=d.completed;return m.jsxs("div",{className:"flex items-center gap-3 pl-4 relative group/task cursor-pointer w-full",onClick:()=>r(t,f),children:[m.jsx("div",{className:"absolute left-0 top-1/2 w-3 h-0.5 bg-red-200 dark:bg-red-900/30"}),m.jsx(p,{className:`w-4 h-4 shrink-0 ${v?"text-green-500":g}`}),m.jsx("span",{className:`text-sm font-medium truncate select-none flex-1 min-w-0 ${v?"text-neutral-400 line-through":g}`,children:d.text})]},f)})})})]})]})]})},mbe=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),[i,s]=_.useState(!1),[a,l]=_.useState(null),[c,d]=_.useState({}),[f,p]=_.useState(null);_.useEffect(()=>{const P=Is(),U=js(P,async I=>{if(I){p(I.uid),r(!0);const j=await Ns(I.uid,"importantGoals");e(j),r(!1)}});return()=>U()},[]),_.useEffect(()=>{g()},[]);const g=async()=>{r(!0);const P=await Ns("importantGoals");e(P),r(!1)},v=hbe(t),b=t.filter(P=>P.status!=="completed"),E=t.filter(P=>P.status==="completed"),S=()=>{l(null),d({subTasks:[],type:"important"}),s(!0)},k=async P=>{if(!f)return;const U={...P,subTasks:P.subTasks||[]},I=a?{...U,id:a.id}:U,j=await en(f,"importantGoals",I,!!a);e(a?M=>M.map(R=>R.id===a.id?{...R,...j}:R):M=>[j,...M]),s(!1)},C=async P=>{window.confirm("Delete this important goal?")&&(await sa(f,"importantGoals",P),e(U=>U.filter(I=>I.id!==P)))},O=async(P,U)=>{const I=await RN(f,"importantGoals",P,U);newStatus!==P.status&&await en(f,"importantGoals",{...P,subTasks:I,status:newStatus,id:P.id},!0)},z=async P=>{const U=P.status==="completed"?"in-progress":"completed";e(I=>I.map(j=>j.id===P.id?{...j,status:U}:j)),await en(f,"importantGoals",{...P,status:U,id:P.id},!0)};return m.jsxs("main",{className:"min-h-screen pt-6 px-4 pb-20 w-full max-w-[98%] mx-auto bg-transparent text-neutral-900 dark:text-neutral-100",children:[m.jsxs("header",{className:"flex flex-col md:flex-row items-center justify-between mb-10 gap-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-6xl font-black tracking-tighter leading-none bg-clip-text text-transparent bg-gradient-to-r from-red-600 to-rose-600 dark:from-red-400 dark:to-rose-400",children:"Important Goals"}),m.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 font-bold mt-2 ml-1",children:"Priorities that demand your immediate focus."})]}),m.jsxs("div",{className:"flex items-center gap-8 bg-white/40 dark:bg-neutral-900/40 backdrop-blur-md p-4 rounded-3xl border border-white/20 dark:border-white/10 shadow-lg shadow-black/5",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(pbe,{percentage:v,size:70,strokeWidth:6,color:"text-red-600 dark:text-red-400"}),m.jsxs("div",{children:[m.jsx("div",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Total Progress"}),m.jsxs("div",{className:"text-xl font-bold",children:[v,"% Done"]})]})]}),m.jsx("div",{className:"h-10 w-px bg-neutral-200 dark:bg-neutral-700"}),m.jsxs("div",{className:"pr-4",children:[m.jsx("div",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Active Goals"}),m.jsxs("div",{className:"text-xl font-bold text-neutral-800 dark:text-white",children:[t.filter(P=>P.status!=="completed").length," ",m.jsxs("span",{className:"text-sm font-normal text-neutral-400",children:["/ ",t.length]})]})]})]})]}),m.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[m.jsxs("div",{className:"flex justify-between items-end mb-6 border-b border-neutral-200 dark:border-neutral-800 pb-4",children:[m.jsx("h2",{className:"text-3xl font-bold",children:"Priority List"}),m.jsxs("button",{onClick:S,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-5 py-2.5 rounded-xl font-bold shadow-lg shadow-red-500/20 transition-all active:scale-95",children:[m.jsx(zn,{className:"w-5 h-5"})," New Important Goal"]})]}),m.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8",children:b.map(P=>m.jsx(N3,{goal:P,onEdit:U=>{l(U),d({...U}),s(!0)},onDelete:C,onToggleSubTask:O,onToggleGoal:z},P.id))}),n&&m.jsx("div",{className:"text-center py-20 text-neutral-400 animate-pulse",children:"Loading priorities..."}),!n&&t.length===0&&m.jsxs("div",{className:"text-center py-20 border-2 border-dashed border-neutral-200 dark:border-neutral-800 rounded-3xl",children:[m.jsx(Jce,{className:"w-12 h-12 text-neutral-300 mx-auto mb-4"}),m.jsx("h3",{className:"text-xl font-bold text-neutral-400",children:"No urgent goals defined."}),m.jsx("p",{className:"text-neutral-500",children:"Add tasks that require your immediate attention."})]}),E.length>0&&m.jsxs("div",{className:"mt-20 pt-10 border-t border-neutral-200 dark:border-neutral-800",children:[m.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-neutral-500",children:[m.jsx(xh,{className:"w-5 h-5 text-green-500"}),"Completed History"]}),m.jsx("div",{className:"opacity-60 hover:opacity-100 transition-opacity duration-300",children:m.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8",children:E.map(P=>m.jsx(N3,{goal:P,onEdit:U=>{l(U),d({...U}),s(!0)},onDelete:C,onToggleSubTask:O,onToggleGoal:z},P.id))})})]})]}),i&&m.jsx(VN,{isOpen:i,onClose:()=>s(!1),onSave:k,initialData:c,type:"important"})]})},Tv=["January","February","March","April","May","June","July","August","September","October","November","December"],gbe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ybe={Default:to,Star:si,Zap:Ds,Heart:zw},vbe=()=>{const t=new Date,e=new Date(t.getFullYear(),0,1),n=new Date(t.getFullYear()+1,0,1),r=n-e,i=t-e,s=Math.floor(i/r*100),a=Math.ceil((n-t)/(1e3*60*60*24));return{percent:s,daysLeft:a}},bbe=t=>{if(!t||t.length===0)return 0;let e=0;return t.forEach(n=>{e+=Wc(n.subTasks)}),Math.round(e/t.length)},xbe=t=>{if(!t||t.length===0)return"bg-white/40 dark:bg-neutral-900/40 border-neutral-200 dark:border-neutral-800";let e=0;t.forEach(r=>e+=Wc(r.subTasks));const n=Math.round(e/t.length);return n===0?"bg-blue-50/30 border-blue-200/50 dark:bg-blue-900/10 dark:border-blue-800/30":n<=20?"bg-red-50/40 border-red-200 dark:bg-red-900/10 dark:border-red-800/50":n<=40?"bg-orange-50/40 border-orange-200 dark:bg-orange-900/10 dark:border-orange-800/50":n<=60?"bg-yellow-50/40 border-yellow-200 dark:bg-yellow-900/10 dark:border-yellow-800/50":n<=80?"bg-blue-50/40 border-blue-200 dark:bg-blue-900/10 dark:border-blue-800/50":"bg-green-50/40 border-green-200 dark:bg-green-900/10 dark:border-green-800/50"},O3=({percentage:t,size:e=60,strokeWidth:n=4,color:r="text-blue-500",showText:i=!0})=>{const s=(e-n)/2,a=s*2*Math.PI,l=a-t/100*a;return m.jsxs("div",{className:"relative flex items-center justify-center shrink-0",style:{width:e,height:e},children:[m.jsxs("svg",{className:"transform -rotate-90 w-full h-full",children:[m.jsx("circle",{cx:e/2,cy:e/2,r:s,stroke:"currentColor",strokeWidth:n,fill:"transparent",className:"text-neutral-200/50 dark:text-neutral-800/50"}),m.jsx("circle",{cx:e/2,cy:e/2,r:s,stroke:"currentColor",strokeWidth:n,fill:"transparent",strokeDasharray:a,strokeDashoffset:l,strokeLinecap:"round",className:`${r} transition-all duration-1000 ease-out`})]}),i&&m.jsxs("span",{className:"absolute text-xs font-bold text-neutral-700 dark:text-white",children:[t,"%"]})]})},tk=({goal:t,onEdit:e,onDelete:n,onToggleSubTask:r,onToggleGoal:i})=>{const[s,a]=_.useState(!1),l=Wc(t.subTasks),c=t.status==="completed"||l===100&&t.subTasks?.length>0;return m.jsxs("div",{className:"mb-3 relative group break-inside-avoid w-full overflow-hidden",children:[!s&&t.subTasks&&t.subTasks.length>0&&m.jsx("div",{className:"absolute left-[11px] top-8 bottom-2 w-0.5 bg-neutral-300 dark:bg-neutral-700/50"}),m.jsxs("div",{className:"flex items-start gap-3 w-full",children:[m.jsx("button",{onClick:d=>{d.stopPropagation(),a(!s)},className:"mt-1 w-6 h-6 flex items-center justify-center rounded hover:bg-neutral-100 dark:hover:bg-white/10 text-neutral-400 transition-colors z-10 bg-transparent shrink-0",children:t.subTasks?.length>0?s?m.jsx(zn,{className:"w-3 h-3"}):m.jsx("div",{className:"w-2 h-0.5 bg-neutral-400"}):m.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-neutral-300 dark:bg-neutral-700"})}),m.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[m.jsxs("div",{className:"flex items-center gap-2 py-0.5 group/header w-full",children:[m.jsx("span",{className:"text-neutral-300 dark:text-neutral-600 font-bold mr-1 select-none shrink-0",children:"-"}),m.jsx("h3",{onClick:()=>i(t),className:`text-lg font-bold leading-tight transition-all cursor-pointer select-none truncate flex-1 min-w-0 ${c?"text-neutral-400 line-through":"text-neutral-800 dark:text-white"}`,children:t.title}),m.jsxs("div",{className:"opacity-0 group-hover/header:opacity-100 flex items-center gap-2 transition-opacity ml-2 shrink-0",children:[m.jsx("button",{onClick:d=>{d.stopPropagation(),e(t)},className:"text-neutral-300 hover:text-blue-500",children:m.jsx(ei,{className:"w-3.5 h-3.5"})}),m.jsx("button",{onClick:d=>{d.stopPropagation(),n(t.id)},className:"text-neutral-300 hover:text-red-500",children:m.jsx(Hr,{className:"w-3.5 h-3.5"})}),m.jsxs("span",{className:"text-xs font-mono text-neutral-400",children:[l,"%"]})]})]}),m.jsx(Wt,{children:!s&&t.subTasks&&m.jsx(Qe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-2 space-y-2 ml-1",children:t.subTasks.map((d,f)=>{const p=ybe[d.icon]||to,g=d.color||"text-neutral-500",v=d.completed;return m.jsxs("div",{className:"flex items-center gap-3 pl-4 relative group/task cursor-pointer w-full",onClick:()=>r(t,f),children:[m.jsx("div",{className:"absolute left-0 top-1/2 w-3 h-0.5 bg-neutral-300 dark:bg-neutral-700/50"}),m.jsx(p,{className:`w-4 h-4 shrink-0 ${v?"text-green-500":g}`}),m.jsx("span",{className:`text-sm font-medium truncate select-none flex-1 min-w-0 ${v?"text-neutral-400 line-through":g}`,children:d.text})]},f)})})})]})]})]})},wbe=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),[i,s]=_.useState("year"),[a,l]=_.useState(new Date().getFullYear()),[c,d]=_.useState(new Date().getMonth()),[f,p]=_.useState(!1),[g,v]=_.useState(null),[b,E]=_.useState({}),[S,k]=_.useState(null);_.useEffect(()=>{const L=Is(),B=js(L,async X=>{if(X){k(X.uid),r(!0);const ae=await Ns(X.uid,"yearlyObjectives");e(ae),r(!1)}});return()=>B()},[]);const C=bbe(t),{daysLeft:O}=vbe(),z=(L,B,X)=>t.filter(ae=>{const W=String(ae.year)===String(L),Y=B?String(ae.month)===String(B):!ae.month,le=X?String(ae.day)===String(X):!ae.day;return W&&Y&&le}),P=L=>{const B=t.filter(ae=>String(ae.year)===String(a)&&String(ae.month)===String(L+1));if(B.length===0)return 0;const X=B.reduce((ae,W)=>ae+Wc(W.subTasks),0);return Math.round(X/B.length)},U=(L={})=>{v(null),E({year:a,month:"",day:"",subTasks:[],...L,type:"yearly"}),p(!0)},I=async L=>{if(!S)return;const B={...L,year:Number(L.year),month:L.month?Number(L.month):null,day:L.day?Number(L.day):null,subTasks:L.subTasks||[]},X=g?{...B,id:g.id}:B,ae=await en(S,"yearlyObjectives",X,!!g);e(g?W=>W.map(Y=>Y.id===g.id?{...Y,...ae}:Y):W=>[ae,...W]),p(!1)},j=async L=>{window.confirm("Delete?")&&(await sa(S,"yearlyObjectives",L),e(B=>B.filter(X=>X.id!==L)))},M=async(L,B)=>{const X=await RN(S,"yearlyObjectives",L,B);newStatus!==L.status&&await en(S,"yearlyObjectives",{...L,subTasks:X,status:newStatus,id:L.id},!0)},R=async L=>{const B=L.status==="completed"?"in-progress":"completed";e(X=>X.map(ae=>ae.id===L.id?{...ae,status:B}:ae)),await en(S,"yearlyObjectives",{...L,status:B,id:L.id},!0)},V=({id:L,label:B})=>m.jsx("button",{onClick:()=>s(L),className:`px-4 py-1.5 rounded-full text-sm font-bold transition-all ${i===L?"bg-neutral-900 text-white dark:bg-white dark:text-black":"text-neutral-500 hover:text-neutral-900 dark:hover:text-white"}`,children:B});return m.jsxs("main",{className:"min-h-screen pt-6 px-2 pb-20 w-full mx-auto bg-transparent text-neutral-900 dark:text-neutral-100",children:[m.jsxs("header",{className:"flex flex-col md:flex-row items-center justify-between mb-8 gap-4 px-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>l(L=>L-1),children:m.jsx(yi,{className:"w-6 h-6 text-neutral-400 hover:text-neutral-900 dark:hover:text-white"})}),m.jsx("h1",{className:"text-6xl font-black tracking-tighter leading-none",children:a}),m.jsx("button",{onClick:()=>l(L=>L+1),children:m.jsx(yi,{className:"w-6 h-6 rotate-180 text-neutral-400 hover:text-neutral-900 dark:hover:text-white"})})]}),m.jsx("div",{className:"bg-white/50 dark:bg-neutral-900/50 backdrop-blur-md p-1 rounded-full flex border border-white/20 dark:border-white/10 overflow-x-auto max-w-full",children:["year","month","day"].map(L=>m.jsx(V,{id:L,label:L.charAt(0).toUpperCase()+L.slice(1)},L))})]}),m.jsxs(Wt,{mode:"wait",children:[i==="year"&&m.jsxs(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 xl:grid-cols-12 gap-10",children:[m.jsxs("div",{className:"xl:col-span-8 space-y-8",children:[m.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 bg-white/40 dark:bg-neutral-900/40 backdrop-blur-md p-6 rounded-3xl border border-white/20 dark:border-white/10",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(O3,{percentage:C,size:80,strokeWidth:6,color:"text-neutral-900 dark:text-white"}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest",children:"Total Completion"}),m.jsxs("div",{className:"text-xl font-bold",children:[C,"% Complete"]})]})]}),m.jsx("div",{className:"h-px w-full md:h-10 md:w-px bg-neutral-200 dark:bg-neutral-700"}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest",children:"Time Remaining"}),m.jsxs("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:[O," Days Left"]})]})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end mb-6 border-b border-neutral-200 dark:border-neutral-800 pb-4 gap-4",children:[m.jsx("h2",{className:"text-4xl font-bold",children:"Master Plan"}),m.jsxs("button",{onClick:()=>U({month:"",day:""}),className:"flex items-center gap-2 text-blue-600 font-bold hover:underline",children:[m.jsx(zn,{className:"w-5 h-5"})," Add Yearly Goal"]})]}),m.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8",children:z(a).map(L=>m.jsx(tk,{goal:L,onEdit:B=>{v(B),E({...B}),p(!0)},onDelete:j,onToggleSubTask:M,onToggleGoal:R},L.id))}),z(a).length===0&&m.jsx("div",{className:"text-neutral-400 italic py-10 text-center",children:"No master plan yet."})]})]}),m.jsxs("div",{className:"xl:col-span-4",children:[m.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[m.jsx(ks,{className:"w-6 h-6"})," Roadmap Status"]}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Tv.map((L,B)=>{const X=P(B);let ae="bg-white/30 dark:bg-neutral-800/30 border-neutral-200 dark:border-neutral-800 text-neutral-400",W=null;return X>0&&X<30?ae="bg-orange-50/50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-600":X>=30&&X<70?ae="bg-blue-50/50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-600":X>=70&&X<100?ae="bg-purple-50/50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800 text-purple-600":X===100&&(ae="bg-green-50/50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-600",W=m.jsx(xh,{className:"w-5 h-5"})),m.jsxs("div",{className:`p-3 rounded-xl border-2 flex flex-col justify-between h-28 backdrop-blur-sm transition-all ${ae}`,children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("span",{className:"font-bold text-sm uppercase",children:L.substring(0,3)}),W]}),m.jsx("div",{className:"text-right",children:m.jsxs("span",{className:"text-2xl font-black",children:[X,"%"]})})]},L)})})]})]},"year"),i==="month"&&m.jsxs(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-10 px-4 gap-6",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("h2",{className:"text-4xl font-bold",children:Tv[c]}),m.jsxs("div",{className:"bg-white/50 dark:bg-neutral-900/50 backdrop-blur-md border border-white/10 rounded-lg p-1 flex",children:[m.jsx("button",{onClick:()=>d(Math.max(0,c-1)),className:"p-2 hover:bg-white dark:hover:bg-neutral-700 rounded",children:m.jsx(yi,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>d(Math.min(11,c+1)),className:"p-2 hover:bg-white dark:hover:bg-neutral-700 rounded",children:m.jsx(yi,{className:"w-4 h-4 rotate-180"})})]})]}),m.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 w-full md:w-auto",children:[m.jsxs("div",{className:"flex items-center gap-4 w-full justify-between md:justify-end",children:[m.jsxs("div",{className:"text-right hidden md:block",children:[m.jsx("div",{className:"text-xs font-bold text-neutral-400 uppercase",children:"Completion"}),m.jsxs("div",{className:"text-lg font-bold",children:[P(c),"% Done"]})]}),m.jsx(O3,{percentage:P(c),size:50,strokeWidth:4,color:"text-purple-600"})]}),m.jsx("button",{onClick:()=>U({month:c+1}),className:"bg-black dark:bg-white text-white dark:text-black px-6 py-2 rounded-lg font-bold shadow-lg w-full md:w-auto",children:"+ Add Goal"})]})]}),m.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 xl:columns-4 gap-6 space-y-6",children:z(a,c+1).map(L=>m.jsx(tk,{goal:L,onEdit:B=>{v(B),E({...B}),p(!0)},onDelete:j,onToggleSubTask:M,onToggleGoal:R},L.id))}),z(a,c+1).length===0&&m.jsxs("div",{className:"py-20 text-center text-neutral-400",children:["No goals for ",Tv[c],"."]})]},"month"),i==="day"&&m.jsxs(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[m.jsx("div",{className:"flex justify-between items-center mb-8 px-4",children:m.jsxs("h2",{className:"text-4xl font-bold flex items-center gap-4",children:[Tv[c]," Daily",m.jsxs("div",{className:"bg-white/50 dark:bg-neutral-900/50 backdrop-blur-md border border-white/10 rounded-lg p-1 flex",children:[m.jsx("button",{onClick:()=>d(Math.max(0,c-1)),className:"p-2 hover:bg-white dark:hover:bg-neutral-700 rounded",children:m.jsx(yi,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>d(Math.min(11,c+1)),className:"p-2 hover:bg-white dark:hover:bg-neutral-700 rounded",children:m.jsx(yi,{className:"w-4 h-4 rotate-180"})})]})]})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4",children:Array.from({length:new Date(a,c+1,0).getDate()},(L,B)=>B+1).map(L=>{const B=z(a,c+1,L),X=new Date(a,c,L),ae=gbe[X.getDay()],W=new Date().toDateString()===X.toDateString(),Y=xbe(B);return m.jsxs("div",{className:`rounded-xl p-4 border min-h-[150px] flex flex-col backdrop-blur-sm transition-colors ${Y}`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-xs font-bold text-neutral-400 uppercase",children:ae}),m.jsx("span",{className:`text-3xl font-black ${W?"text-blue-600":"text-neutral-800 dark:text-neutral-200"}`,children:L})]}),m.jsx("button",{onClick:()=>U({month:c+1,day:L}),className:"text-neutral-400 hover:text-blue-500 bg-white/50 dark:bg-black/20 p-1 rounded-full",children:m.jsx(zn,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"flex-1 space-y-3",children:B.map(le=>m.jsx(tk,{goal:le,onEdit:he=>{v(he),E({...he}),p(!0)},onDelete:j,onToggleSubTask:M,onToggleGoal:R},le.id))})]},L)})})]},"day")]}),f&&m.jsx(VN,{isOpen:f,onClose:()=>p(!1),onSave:I,initialData:b,type:"yearly"})]})},Sbe=["Authenticity","Achievement","Adventure","Authority","Autonomy","Balance","Beauty","Boldness","Compassion","Challenge","Citizenship","Community","Competency","Contribution","Creativity","Curiosity","Determination","Fairness","Faith","Fame","Friendships","Fun","Growth","Happiness","Honesty","Humor","Influence","Inner Harmony","Justice","Kindness","Knowledge","Leadership","Learning","Love","Loyalty","Meaningful Work","Openness","Optimism","Peace","Pleasure","Poise","Popularity","Recognition","Religion","Reputation","Respect","Responsibility","Security","Self-Respect","Service","Spirituality","Stability","Success","Status","Trustworthiness","Wealth","Wisdom"],Tbe=["10s","20s","30s","40s","50s","60s+"],Ebe=[{id:"learned",label:"Lessons",row:1,col:1},{id:"mental",label:"Mental",row:1,col:2},{id:"relationship",label:"Social",row:1,col:3},{id:"money",label:"Wealth",row:2,col:1},{id:"year_display",label:"Year",row:2,col:2},{id:"time",label:"Time",row:2,col:3},{id:"job",label:"Career",row:3,col:1},{id:"health",label:"Health",row:3,col:2},{id:"hobbies",label:"Interests",row:3,col:3}],M3=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],kbe=({initials:t})=>m.jsxs("div",{className:"relative group mx-auto w-max",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-cyan-500 to-fuchsia-600 rounded-full blur-3xl opacity-20 group-hover:opacity-40 transition-opacity duration-500"}),m.jsx("div",{className:"relative w-32 h-32 md:w-40 md:h-40 rounded-full bg-black/40 backdrop-blur-md border border-white/10 flex items-center justify-center shadow-2xl mx-auto ring-1 ring-white/10",children:m.jsx("span",{className:"text-4xl md:text-5xl font-black text-white tracking-tighter",children:t})})]}),Mf=({active:t,label:e,icon:n,onClick:r})=>m.jsxs("button",{onClick:r,className:`
            relative flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all
            ${t?"text-cyan-400 border-b-2 border-cyan-500":"text-neutral-500 hover:text-white border-b-2 border-transparent"}
        `,children:[m.jsx(n,{className:`w-4 h-4 ${t?"text-cyan-400":"opacity-50"}`}),m.jsx("span",{children:e})]}),nk=({label:t,value:e,onSave:n,icon:r,isStatic:i=!1})=>{const[s,a]=_.useState(!1),[l,c]=_.useState(e);_.useEffect(()=>c(e),[e]);const d=()=>{n(l),a(!1)},f=t==="BMI"?$ce(parseFloat(e)):null;return m.jsxs("div",{className:"flex flex-col p-3 border-l border-white/10 hover:border-cyan-500 transition-colors group",children:[m.jsxs("div",{className:"flex items-center justify-between mb-1",children:[m.jsxs("span",{className:"text-[10px] font-mono text-neutral-500 uppercase tracking-widest flex items-center gap-2",children:[r&&Cs.cloneElement(r,{className:"w-3 h-3 text-cyan-500"}),t]}),!i&&m.jsx("button",{onClick:()=>a(!0),className:"opacity-0 group-hover:opacity-100 text-cyan-500",children:m.jsx(ei,{className:"w-3 h-3"})})]}),s?m.jsx("input",{autoFocus:!0,value:l,onChange:p=>c(p.target.value),onBlur:d,onKeyDown:p=>p.key==="Enter"&&d(),className:"bg-transparent font-mono text-xl text-white outline-none border-b border-cyan-500 w-full"}):m.jsxs("div",{className:"flex items-baseline gap-2",children:[m.jsx("span",{className:"text-xl font-mono text-white",children:e||"--"}),f&&m.jsx("span",{className:`text-[9px] px-1 py-0.5 rounded-sm uppercase ${f.color} bg-opacity-20`,children:f.comment})]})]})},Lu=({label:t,value:e,onSave:n,icon:r,placeholder:i})=>{const[s,a]=_.useState(!1),[l,c]=_.useState(e);_.useEffect(()=>c(e),[e]);const d=()=>{n(l),a(!1)};return m.jsxs("div",{className:"w-full py-2 group",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("span",{className:"text-cyan-500",children:r&&Cs.cloneElement(r,{className:"w-3 h-3"})}),m.jsx("span",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:t}),m.jsx("button",{onClick:()=>a(!0),className:"ml-auto opacity-0 group-hover:opacity-100 text-neutral-400 hover:text-cyan-500",children:m.jsx(ei,{className:"w-3 h-3"})})]}),s?m.jsx("input",{autoFocus:!0,className:"w-full bg-transparent border-b border-cyan-500 py-1 text-sm text-white outline-none",value:l,onChange:f=>c(f.target.value),onBlur:d,onKeyDown:f=>f.key==="Enter"&&d()}):m.jsx("div",{className:"border-b border-white/5 py-1 min-h-[2rem]",children:m.jsx("p",{className:"text-sm text-neutral-300 font-light",children:e||m.jsx("span",{className:"text-neutral-600 italic text-xs",children:i})})})]})},_be=({category:t,data:e,onUpdate:n})=>{const r=["neutral","positive","negative"],i={neutral:"",positive:"",negative:""},s={neutral:"text-neutral-600",positive:"text-emerald-400",negative:"text-red-400"},a=()=>{const l=(r.indexOf(e?.sentiment||"neutral")+1)%r.length;n("sentiment",r[l])};return m.jsxs("div",{className:"relative h-40 border border-white/5 p-4 flex flex-col hover:bg-white/5 transition-colors group",children:[m.jsx("span",{className:"text-[9px] font-mono font-bold uppercase text-neutral-500 mb-2",children:t.label}),m.jsx("textarea",{value:e?.text||"",onChange:l=>n("text",l.target.value),className:"flex-1 bg-transparent resize-none outline-none text-sm text-neutral-300 placeholder-neutral-700 font-light leading-relaxed",placeholder:"..."}),m.jsx("button",{onClick:a,className:`absolute bottom-3 right-3 text-xs hover:scale-125 transition-transform ${s[e?.sentiment||"neutral"]}`,children:i[e?.sentiment||"neutral"]})]})},Abe=({habit:t,logs:e,year:n,onToggle:r})=>{const i={morning:"text-amber-500 bg-amber-500",midday:"text-cyan-500 bg-cyan-500",night:"text-fuchsia-500 bg-fuchsia-500"}[t.time||"morning"],s={morning:"border-amber-500",midday:"border-cyan-500",night:"border-fuchsia-500"}[t.time||"morning"],a=_.useMemo(()=>{const c=[],d=new Date(n,0,1),f=new Date(n,11,31);for(let p=new Date(d);p<=f;p.setDate(p.getDate()+1)){const g=new Date(p.getTime()-p.getTimezoneOffset()*6e4).toISOString().slice(0,10);c.push(g)}return c},[n]),l=_.useMemo(()=>{let c=0;return a.forEach(d=>{e[t.id]?.[d]==="done"&&c++}),Math.round(c/a.length*100)},[a,e,t.id]);return m.jsxs("div",{className:`pl-4 border-l-2 ${s} py-1`,children:[m.jsxs("div",{className:"flex justify-between items-end mb-3",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-500 mb-1",children:t.time||"Habit"}),m.jsx("span",{className:"text-sm font-bold text-white truncate max-w-[150px]",children:t.name})]}),m.jsx("div",{className:"text-right",children:m.jsxs("span",{className:`text-3xl font-black ${i.split(" ")[0]}`,children:[l,m.jsx("span",{className:"text-sm opacity-50",children:"%"})]})})]}),m.jsx("div",{className:"flex flex-wrap gap-[2px]",children:a.map(c=>{const d=e[t.id]?.[c]==="done";return m.jsx("button",{onClick:()=>r(t.id,c),title:c,className:`
                                w-2 h-2 rounded-[1px] transition-all duration-300
                                ${d?`${i.split(" ")[1]} shadow-[0_0_6px_currentColor]`:"bg-white/5 hover:bg-white/20"}
                            `},c)})})]})};function Cbe({about:t,onUpdate:e}){const[n,r]=_.useState("dossier"),[i,s]=_.useState({name:"",weight:"",height:"",location:"",mbti:"",university:"",major:"",motto:"",currentAim:"",questions:{daily:[],weekly:[],monthly:[]},decades:{},values:[],swot:{strengths:"",weaknesses:""},rewind:{},habits:[],habitLogs:{}}),[a,l]=_.useState(new Date().getFullYear()),[c,d]=_.useState(new Date().getFullYear()),[f,p]=_.useState(0),[g,v]=_.useState(""),[b,E]=_.useState("morning"),[S,k]=_.useState(!1);_.useEffect(()=>{t&&s(M=>({...M,...t,questions:t.questions||{daily:[],weekly:[],monthly:[]},decades:t.decades||{},values:t.values||[],swot:t.swot||{strengths:"",weaknesses:""},rewind:t.rewind||{},habits:t.habits||[],habitLogs:t.habitLogs||{}}))},[t]);const C=(M,R)=>{s(V=>({...V,[M]:R})),e({[M]:R})},O=_.useMemo(()=>{const M=parseFloat(i.height)/100,R=parseFloat(i.weight);return M>0&&R>0?(R/(M*M)).toFixed(1):null},[i.weight,i.height]),z=_.useMemo(()=>{const M=new Date,R=M.getDate()-M.getDay()+1+f*7,V=[];for(let L=0;L<7;L++){const B=new Date(M.setDate(R+L));V.push({iso:B.toISOString().slice(0,10),dayName:B.toLocaleDateString("en-US",{weekday:"short"}),dayNum:B.getDate()})}return V},[f]),P=_.useMemo(()=>{if(!i.habits.length)return Array(12).fill(0);const M=Array(12).fill(0);return M3.forEach((R,V)=>{let L=0;const B=new Date(c,V+1,0).getDate(),X=i.habits.length*B;for(let ae=1;ae<=B;ae++){const W=new Date(c,V,ae),Y=new Date(W.getTime()-W.getTimezoneOffset()*6e4).toISOString().slice(0,10);i.habits.forEach(le=>{i.habitLogs?.[le.id]?.[Y]==="done"&&L++})}M[V]=X>0?Math.round(L/X*100):0}),M},[i.habits,i.habitLogs,c]),U=M=>M===0?"border-white/5 bg-white/5 text-neutral-600":M<20?"border-red-500/20 bg-red-500/10 text-red-500 shadow-[0_0_15px_rgba(239,68,68,0.1)]":M<50?"border-orange-500/20 bg-orange-500/10 text-orange-500 shadow-[0_0_15px_rgba(249,115,22,0.1)]":M<80?"border-blue-500/20 bg-blue-500/10 text-blue-500 shadow-[0_0_15px_rgba(59,130,246,0.1)]":"border-emerald-500/30 bg-emerald-500/10 text-emerald-400 font-bold shadow-[0_0_20px_rgba(16,185,129,0.2)]",I=()=>{if(!g.trim())return;const M={id:crypto.randomUUID(),name:g,time:b},R=[...i.habits||[],M];C("habits",R),v("")},j=(M,R)=>{const V=i.habitLogs||{},L=V[M]||{},B=L[R];let X;B?B==="done"?X="fail":X=null:X="done";const ae={...L};X?ae[R]=X:delete ae[R];const W={...V,[M]:ae};C("habitLogs",W)};return m.jsxs("div",{className:"w-full min-h-screen pb-40",children:[m.jsx("header",{className:"flex flex-col md:flex-row items-center justify-between mb-8 gap-6 px-4 pt-4",children:m.jsxs("div",{children:[m.jsx("h1",{className:"text-6xl font-black tracking-tighter leading-none bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-fuchsia-500",children:"Identity Core"}),m.jsx("p",{className:"text-neutral-500 font-bold mt-2 ml-1",children:"Architecture of self."})]})}),m.jsx("div",{className:"sticky top-0 z-40 w-full backdrop-blur-xl border-b border-white/5",children:m.jsxs("div",{className:"flex overflow-x-auto no-scrollbar justify-start md:justify-center gap-4 px-4",children:[m.jsx(Mf,{active:n==="dossier",label:"Dossier",icon:CA,onClick:()=>r("dossier")}),m.jsx(Mf,{active:n==="rewind",label:"Rewind",icon:Zv,onClick:()=>r("rewind")}),m.jsx(Mf,{active:n==="habits",label:"Habits",icon:xh,onClick:()=>r("habits")}),m.jsx(Mf,{active:n==="values",label:"Values",icon:si,onClick:()=>r("values")}),m.jsx(Mf,{active:n==="roadmap",label:"Roadmap",icon:ks,onClick:()=>r("roadmap")}),m.jsx(Mf,{active:n==="reflection",label:"Reflections",icon:AA,onClick:()=>r("reflection")})]})}),m.jsxs("div",{className:"w-full mt-8 px-4",children:[n==="dossier"&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start animate-in fade-in slide-in-from-bottom-4 duration-500",children:[m.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[m.jsx(kbe,{initials:Uce(i.name)}),m.jsxs("div",{className:"grid grid-cols-3 gap-0 border-t border-white/10 pt-4",children:[m.jsx(nk,{label:"WEIGHT",value:i.weight,onSave:M=>C("weight",M),icon:m.jsx(rue,{})}),m.jsx(nk,{label:"HEIGHT",value:i.height,onSave:M=>C("height",M),icon:m.jsx(iue,{})}),m.jsx(nk,{label:"BMI",value:O,isStatic:!0,icon:m.jsx(Dd,{})})]})]}),m.jsx("div",{className:"lg:col-span-8 bg-black/20 border border-white/10 rounded-sm p-8 backdrop-blur-sm",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-4",children:[m.jsx(Lu,{label:"Full Name",value:i.name,onSave:M=>C("name",M),icon:m.jsx(CA,{}),placeholder:"Enter name"}),m.jsx(Lu,{label:"Location",value:i.location,onSave:M=>C("location",M),icon:m.jsx(o8,{}),placeholder:"City"}),m.jsx(Lu,{label:"University",value:i.university,onSave:M=>C("university",M),icon:m.jsx(wh,{}),placeholder:"Institution"}),m.jsx(Lu,{label:"Major",value:i.major,onSave:M=>C("major",M),icon:m.jsx(xc,{}),placeholder:"Field"}),m.jsx("div",{className:"md:col-span-2",children:m.jsx(Lu,{label:"MBTI Type",value:i.mbti,onSave:M=>C("mbti",M),icon:m.jsx(Uw,{}),placeholder:"INTJ..."})}),m.jsx("div",{className:"md:col-span-2",children:m.jsx(Lu,{label:"Current Focus",value:i.currentAim,onSave:M=>C("currentAim",M),icon:m.jsx(ks,{}),placeholder:"Main objective..."})}),m.jsx("div",{className:"md:col-span-2",children:m.jsx(Lu,{label:"Motto",value:i.motto,onSave:M=>C("motto",M),icon:m.jsx(sue,{}),placeholder:"Philosophy..."})})]})})]}),n==="rewind"&&m.jsxs("div",{className:"w-full flex flex-col items-center animate-in fade-in slide-in-from-bottom-4 duration-500",children:[m.jsxs("div",{className:"flex items-center gap-12 mb-8",children:[m.jsx("button",{onClick:()=>l(M=>M-1),className:"text-neutral-500 hover:text-cyan-500",children:m.jsx(yi,{className:"w-8 h-8"})}),m.jsx("h2",{className:"text-6xl font-black text-white tracking-tighter opacity-10 select-none",children:a}),m.jsx("button",{onClick:()=>l(M=>M+1),className:"text-neutral-500 hover:text-cyan-500",children:m.jsx(ah,{className:"w-8 h-8"})})]}),m.jsx("div",{className:"w-full grid grid-cols-1 md:grid-cols-3 gap-0 border border-white/10 rounded-sm overflow-hidden",children:Ebe.map(M=>{if(M.id==="year_display")return m.jsxs("div",{className:"relative h-44 flex flex-col items-center justify-center bg-black/40 backdrop-blur-md border border-white/5",children:[m.jsx("span",{className:"text-[10px] font-mono uppercase tracking-[0.5em] text-cyan-500 mb-2",children:"REWIND"}),m.jsx("span",{className:"text-4xl font-black text-white",children:a})]},M.id);const R=i.rewind?.[a]||{};return m.jsx(_be,{category:M,data:R[M.id],onUpdate:(V,L)=>{const B={...i.rewind,[a]:{...R,[M.id]:{...R[M.id]||{},[V]:L}}};C("rewind",B)}},M.id)})})]}),n==="habits"&&m.jsxs("div",{className:"w-full animate-in fade-in slide-in-from-bottom-4 duration-500 space-y-16",children:[m.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-12",children:[m.jsxs("div",{className:"xl:col-span-8",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-6 border-l-2 border-white/20 pl-4",children:[m.jsx("h3",{className:"text-xl font-black text-white tracking-tight",children:"WEEKLY LOG"}),m.jsxs("div",{className:"flex gap-2 ml-auto",children:[m.jsx("button",{onClick:()=>p(M=>M-1),className:"p-2 hover:bg-white/10 rounded text-neutral-400 hover:text-white",children:m.jsx(yi,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>p(M=>M+1),className:"p-2 hover:bg-white/10 rounded text-neutral-400 hover:text-white",children:m.jsx(ah,{className:"w-4 h-4"})})]})]}),m.jsx("div",{className:"mb-6 pl-4 border-l-2 border-white/5 flex gap-4",children:m.jsxs("div",{className:"flex items-center gap-2 bg-white/5 px-2 py-1 rounded",children:[m.jsxs("select",{value:b,onChange:M=>E(M.target.value),className:"bg-transparent text-[10px] font-bold uppercase text-neutral-400 outline-none cursor-pointer",children:[m.jsx("option",{value:"morning",children:"Morning"}),m.jsx("option",{value:"midday",children:"Midday"}),m.jsx("option",{value:"night",children:"Night"})]}),m.jsx("div",{className:"w-px h-4 bg-white/10"}),m.jsx("input",{value:g,onChange:M=>v(M.target.value),onKeyDown:M=>M.key==="Enter"&&I(),placeholder:"New routine...",className:"bg-transparent outline-none text-sm text-white w-32 focus:w-full transition-all"}),m.jsx("button",{onClick:I,className:"text-cyan-500 hover:text-white",children:m.jsx(zn,{className:"w-4 h-4"})})]})}),m.jsxs("div",{className:"flex items-center mb-2 pl-4 border-l-2 border-transparent",children:[m.jsx("div",{className:"w-24 md:w-48 shrink-0 text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Routine"}),m.jsx("div",{className:"flex-1 grid grid-cols-7 gap-1 text-center",children:z.map(M=>m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("span",{className:"text-[9px] font-bold text-neutral-600 uppercase",children:M.dayName}),m.jsx("span",{className:`text-[10px] font-mono ${M.iso===new Date().toISOString().slice(0,10)?"text-cyan-400 font-bold":"text-neutral-500"}`,children:M.dayNum})]},M.iso))})]}),m.jsx("div",{className:"space-y-1",children:i.habits.length>0?[...i.habits].sort((M,R)=>{const V={morning:1,midday:2,night:3};return(V[M.time]||1)-(V[R.time]||1)}).map(M=>m.jsxs("div",{className:"flex items-center group py-2 hover:bg-white/5 transition-colors rounded-r-lg",children:[m.jsx("div",{className:`w-[2px] h-6 mr-3 ${M.time==="morning"?"bg-amber-500":M.time==="midday"?"bg-cyan-500":"bg-fuchsia-500"}`}),m.jsxs("div",{className:"w-24 md:w-48 shrink-0 pr-4 flex justify-between items-center",children:[m.jsx("span",{className:"text-sm font-medium text-white truncate",title:M.name,children:M.name}),m.jsx("button",{onClick:()=>{const R=i.habits.filter(L=>L.id!==M.id),V={...i.habitLogs};delete V[M.id],s(L=>({...L,habits:R,habitLogs:V})),e({habits:R,habitLogs:V})},className:"opacity-0 group-hover:opacity-100 text-neutral-600 hover:text-red-500 transition-opacity",children:m.jsx(Hr,{className:"w-3 h-3"})})]}),m.jsx("div",{className:"flex-1 grid grid-cols-7 gap-1 place-items-center",children:z.map((R,V)=>{const L=i.habitLogs[M.id]?.[R.iso],B=M.time==="morning"?"bg-amber-500":M.time==="midday"?"bg-cyan-500":"bg-fuchsia-500",X=M.time==="morning"?"text-amber-500":M.time==="midday"?"text-cyan-500":"text-fuchsia-500";return m.jsxs("button",{onClick:()=>j(M.id,R.iso),className:`
                                                                        w-full h-8 max-w-[40px] rounded-sm flex items-center justify-center transition-all
                                                                        ${L==="done"?`${B} bg-opacity-20 border border-${X.split("-")[1]}-500/50 ${X}`:L==="fail"?"bg-red-500/10 border border-red-500/20 text-red-500":"bg-white/5 border border-transparent hover:border-white/20 text-transparent"}
                                                                    `,children:[L==="done"&&m.jsx(xh,{className:"w-3.5 h-3.5"}),L==="fail"&&m.jsx(l8,{className:"w-3.5 h-3.5"})]},V)})})]},M.id)):m.jsx("div",{className:"pl-4 py-8 text-neutral-500 text-sm italic",children:"Initialize habits to begin tracking."})})]}),m.jsxs("div",{className:"xl:col-span-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6 border-l-2 border-white/20 pl-4",children:[m.jsx("h3",{className:"text-xl font-black text-white tracking-tight",children:"PERFORMANCE"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>d(M=>M-1),className:"hover:text-cyan-500 text-neutral-500",children:m.jsx(yi,{className:"w-4 h-4"})}),m.jsx("span",{className:"font-mono font-bold text-white text-sm",children:c}),m.jsx("button",{onClick:()=>d(M=>M+1),className:"hover:text-cyan-500 text-neutral-500",children:m.jsx(ah,{className:"w-4 h-4"})})]})]}),m.jsx("div",{className:"grid grid-cols-3 gap-3",children:P.map((M,R)=>m.jsxs("div",{className:`
                                            aspect-square flex flex-col items-center justify-center rounded-lg border transition-all duration-500
                                            ${U(M)}
                                        `,children:[m.jsx("span",{className:"text-[10px] font-bold uppercase mb-1 opacity-70",children:M3[R]}),m.jsxs("span",{className:"text-2xl font-mono tracking-tighter",children:[M,"%"]})]},R))})]})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-4 mb-8 border-l-2 border-fuchsia-500 pl-4",children:[m.jsxs("h3",{className:"text-xl font-black text-white tracking-tight",children:["DEFRAG MATRIX ",c]}),m.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),m.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-x-8 gap-y-12",children:i.habits.length>0?[...i.habits].sort((M,R)=>{const V={morning:1,midday:2,night:3};return(V[M.time]||1)-(V[R.time]||1)}).map(M=>m.jsx(Abe,{habit:M,year:c,logs:i.habitLogs,onToggle:j},M.id)):m.jsx("div",{className:"col-span-full text-neutral-500 text-sm pl-4",children:"Add habits to generate year view."})})]})]}),n==="values"&&m.jsx(Nbe,{values:i.values,onUpdate:M=>C("values",M)}),n==="roadmap"&&m.jsxs("div",{className:"bg-black/20 border border-white/10 rounded-sm backdrop-blur-md animate-in fade-in slide-in-from-bottom-4 duration-500",children:[m.jsx("div",{className:"p-6 border-b border-white/10",children:m.jsxs("h3",{className:"text-xl font-bold flex gap-2 text-white",children:[m.jsx(ks,{className:"w-5 h-5 text-red-500"})," Life Roadmap"]})}),m.jsx("div",{className:"divide-y divide-white/5",children:Tbe.map(M=>m.jsxs("div",{className:"flex group hover:bg-white/5 transition-colors",children:[m.jsx("div",{className:"w-24 p-6 flex items-center justify-center font-black text-neutral-600 text-2xl border-r border-white/10 shrink-0 group-hover:text-white transition-colors",children:M}),m.jsx("textarea",{value:i.decades[M]||"",onChange:R=>C("decades",{...i.decades,[M]:R.target.value}),placeholder:`Vision for your ${M}...`,className:"flex-1 bg-transparent p-6 resize-none outline-none text-base text-white placeholder-neutral-700 leading-relaxed font-light",rows:3})]},M))})]}),n==="reflection"&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[m.jsxs("div",{className:"bg-black/20 border border-white/10 rounded-sm p-8 backdrop-blur-xl",children:[m.jsxs("h3",{className:"text-xl font-bold mb-8 flex items-center gap-2 text-white",children:[m.jsx(Ds,{className:"w-5 h-5 text-yellow-500"})," SELF ANALYSIS"]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"p-5 border-l-2 border-emerald-500 bg-emerald-500/5 hover:bg-emerald-500/10 transition-colors",children:[m.jsx("span",{className:"text-[10px] font-black text-emerald-500 uppercase mb-3 block tracking-widest",children:"Strengths"}),m.jsx("textarea",{value:i.swot.strengths,onChange:M=>C("swot",{...i.swot,strengths:M.target.value}),className:"w-full bg-transparent resize-none outline-none text-sm leading-relaxed text-white placeholder-emerald-500/30 font-medium",rows:6,placeholder:"Your superpowers..."})]}),m.jsxs("div",{className:"p-5 border-l-2 border-red-500 bg-red-500/5 hover:bg-red-500/10 transition-colors",children:[m.jsx("span",{className:"text-[10px] font-black text-red-500 uppercase mb-3 block tracking-widest",children:"Weaknesses"}),m.jsx("textarea",{value:i.swot.weaknesses,onChange:M=>C("swot",{...i.swot,weaknesses:M.target.value}),className:"w-full bg-transparent resize-none outline-none text-sm leading-relaxed text-white placeholder-red-500/30 font-medium",rows:6,placeholder:"Areas to improve..."})]})]})]}),m.jsxs("div",{className:"bg-black/20 border border-white/10 rounded-sm p-8 backdrop-blur-xl",children:[m.jsxs("h3",{className:"text-xl font-bold mb-8 flex items-center gap-2 text-white",children:[m.jsx(AA,{className:"w-5 h-5 text-purple-500"})," PROTOCOLS"]}),m.jsxs("div",{className:"space-y-12",children:[m.jsx(rk,{title:"Daily Questions",questions:i.questions.daily,onUpdate:M=>C("questions",{...i.questions,daily:M})}),m.jsx(rk,{title:"Weekly Questions",questions:i.questions.weekly,onUpdate:M=>C("questions",{...i.questions,weekly:M})}),m.jsx(rk,{title:"Monthly Questions",questions:i.questions.monthly,onUpdate:M=>C("questions",{...i.questions,monthly:M})})]})]})]})]}),m.jsx(Wt,{children:S&&m.jsx(Obe,{isOpen:S,onClose:()=>k(!1),weightHistory:i.weightHistory,onSave:M=>C("weightHistory",M)})})]})}const rk=({title:t,questions:e=[],onUpdate:n})=>{const[r,i]=_.useState(""),s=()=>{r.trim()&&(n([...e,r]),i(""))},a=l=>{const c=[...e];c.splice(l,1),n(c)};return m.jsxs("div",{children:[m.jsx("h4",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest mb-3 border-b border-white/10 pb-1",children:t}),m.jsx("div",{className:"space-y-3 mb-4 pl-2 border-l border-white/10",children:e.map((l,c)=>m.jsxs("div",{className:"flex gap-3 group text-sm text-neutral-300",children:[m.jsx("div",{className:"mt-2 w-1 h-1 rounded-full bg-neutral-500 shrink-0"}),m.jsx("span",{className:"flex-1 leading-relaxed",children:l}),m.jsx("button",{onClick:()=>a(c),className:"opacity-0 group-hover:opacity-100 text-red-500 transition-opacity",children:m.jsx(Hr,{className:"w-3 h-3"})})]},c))}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",placeholder:"Add question...",value:r,onChange:l=>i(l.target.value),onKeyDown:l=>l.key==="Enter"&&s(),className:"flex-1 bg-white/5 rounded-sm px-3 py-2 text-sm outline-none border border-transparent focus:border-white/20 transition-colors text-white placeholder-neutral-600"}),m.jsx("button",{onClick:s,className:"p-2 bg-white/10 hover:bg-white/20 rounded-sm text-white transition-colors",children:m.jsx(zn,{className:"w-4 h-4"})})]})]})},Nbe=({values:t=[],onUpdate:e})=>{const[n,r]=_.useState(!1),i=a=>{const l=t.find(c=>c.value===a);e(l?t.filter(c=>c.value!==a):[...t,{value:a,importance:5}])},s=(a,l)=>e(t.map(c=>c.value===a?{...c,importance:l}:c));return m.jsxs("div",{className:"bg-black/20 border border-white/10 rounded-sm p-8 backdrop-blur-xl animate-in fade-in slide-in-from-bottom-4 duration-500",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xl font-bold flex gap-2 text-white",children:[m.jsx(si,{className:"w-5 h-5 text-amber-400"})," Core Values"]}),m.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Select and prioritize your guiding principles."})]}),m.jsx("button",{onClick:()=>r(!n),className:`p-2 rounded-full transition-colors ${n?"bg-white text-black":"bg-white/10 text-white hover:bg-white/20"}`,children:m.jsx(zn,{className:`w-5 h-5 transition-transform ${n?"rotate-45":""}`})})]}),n?m.jsx("div",{className:"flex flex-wrap gap-2",children:Sbe.map(a=>{const l=t.find(c=>c.value===a);return m.jsx("button",{onClick:()=>i(a),className:`px-3 py-1.5 text-[10px] font-bold border transition-all ${l?"bg-amber-500 border-amber-500 text-black shadow-[0_0_10px_rgba(245,158,11,0.4)]":"bg-transparent border-white/10 text-neutral-400 hover:border-white/30 hover:text-white"}`,children:a},a)})}):m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.sort((a,l)=>l.importance-a.importance).map(a=>m.jsxs("div",{className:"flex justify-between items-center p-4 border border-white/5 hover:border-amber-500/30 transition-colors group",children:[m.jsx("span",{className:"font-bold text-sm text-white tracking-wide",children:a.value}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("input",{type:"range",min:"1",max:"10",value:a.importance,onChange:l=>s(a.value,parseInt(l.target.value)),className:"w-24 h-1 bg-white/10 rounded-lg appearance-none cursor-pointer accent-amber-400"}),m.jsx("span",{className:"text-xs font-mono font-bold text-amber-400 w-4 text-center",children:a.importance})]})]},a.value)),t.length===0&&m.jsx("div",{className:"col-span-full text-center text-neutral-500 py-10",children:"No values selected. Click + to add."})]})]})},Obe=({isOpen:t,onClose:e,weightHistory:n,onSave:r})=>{const[i,s]=_.useState(new Date().getFullYear()),[a,l]=_.useState(Array(12).fill("")),[c,d]=_.useState("");_.useEffect(()=>{if(t){const g=Array(12).fill("");n.filter(b=>b.year===i).forEach(b=>{g[b.month-1]=b.weight}),l(g)}},[i,t,n]);const f=()=>{const g=n.filter(b=>b.year!==i),v=a.map((b,E)=>({year:i,month:E+1,weight:parseFloat(b)})).filter(b=>!isNaN(b.weight)&&b.weight>0);r([...g,...v]),e()},p=()=>c&&l(Array(12).fill(c));return m.jsx(GlassModal,{onClose:e,children:m.jsxs("div",{className:"bg-neutral-900 border border-white/10 p-6 rounded-sm w-full max-w-lg shadow-2xl",onClick:g=>g.stopPropagation(),children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-xl font-bold text-white",children:"Weight Log"}),m.jsx("button",{onClick:e,children:m.jsx(l8,{className:"w-5 h-5 text-neutral-500 hover:text-white"})})]}),m.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6 bg-white/5 p-2 rounded-sm border border-white/5",children:[m.jsx("button",{onClick:()=>s(g=>g-1),className:"text-white",children:m.jsx(yi,{className:"w-5 h-5"})}),m.jsx("span",{className:"font-bold text-lg text-white",children:i}),m.jsx("button",{onClick:()=>s(g=>g+1),className:"text-white",children:m.jsx(ah,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"flex gap-2 mb-4",children:[m.jsx("input",{type:"number",placeholder:"Bulk Value",value:c,onChange:g=>d(g.target.value),className:"flex-1 bg-white/5 border border-white/10 rounded-sm px-3 py-2 text-sm outline-none text-white focus:border-cyan-500"}),m.jsx("button",{onClick:p,className:"bg-cyan-600 text-white px-4 py-2 rounded-sm text-sm font-bold hover:bg-cyan-500",children:"Apply All"})]}),m.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:a.map((g,v)=>m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"block text-[10px] font-bold text-neutral-500 mb-1 uppercase",children:new Date(0,v).toLocaleString("default",{month:"short"})}),m.jsx("input",{type:"number",value:g,onChange:b=>{const E=[...a];E[v]=b.target.value,l(E)},className:"w-full text-center bg-white/5 border border-white/10 rounded-sm py-1 text-sm font-bold text-white focus:border-cyan-500 outline-none"})]},v))}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:e,className:"px-4 py-2 text-neutral-400 hover:text-white font-bold text-sm",children:"Cancel"}),m.jsx("button",{onClick:f,className:"px-6 py-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded-sm font-bold shadow-lg shadow-cyan-500/20 text-sm",children:"Save Log"})]})]})})},Ag={Language:eue,Programming:Fw,Design:Ds,General:Uw},bC=[{value:1,label:"Beginner",color:"bg-violet-200 text-violet-700"},{value:2,label:"Elementary",color:"bg-violet-300 text-violet-800"},{value:3,label:"Intermediate",color:"bg-violet-400 text-white"},{value:4,label:"Advanced",color:"bg-violet-500 text-white"},{value:5,label:"Expert",color:"bg-violet-600 text-white"}],Mbe=({onEdit:t,onDelete:e})=>{const[n,r]=_.useState(!1);return m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>r(!n),className:"p-1 rounded-full hover:bg-black/10 dark:hover:bg-white/10 transition-colors",children:m.jsx(i0,{className:"w-4 h-4 text-neutral-500"})}),m.jsx(Wt,{children:n&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>r(!1)}),m.jsxs(Qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"absolute right-0 mt-1 w-32 bg-white dark:bg-neutral-800 rounded-lg shadow-xl border border-neutral-200 dark:border-neutral-700 z-20 overflow-hidden",children:[m.jsxs("button",{onClick:t,className:"w-full text-left flex items-center gap-2 px-3 py-2 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-700",children:[m.jsx(ei,{className:"w-3 h-3 text-violet-500"})," Edit"]}),m.jsxs("button",{onClick:e,className:"w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:[m.jsx(Hr,{className:"w-3 h-3"})," Delete"]})]})]})})]})},jbe=({skill:t,onUpdate:e,onDelete:n,onEdit:r})=>{const i=t.hallOfFame,s={bg:i?"hof-bg-violet":"bg-violet-50 dark:bg-violet-900/20",border:i?"border-violet-400/30":"border-violet-100 dark:border-violet-800/30",text:i?"text-violet-900 dark:text-violet-100":"text-neutral-800 dark:text-neutral-100",icon:i?"text-violet-600":"text-violet-500 dark:text-violet-400",barBg:"bg-violet-200 dark:bg-violet-900",barFill:"bg-violet-500"},a=bC.find(c=>c.value===Number(t.proficiency))||bC[0],l=Ag[t.category]||Ag.General;return m.jsxs(Qe.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:`relative p-5 rounded-2xl border backdrop-blur-sm transition-all hover:shadow-md ${s.bg} ${s.border} ${i?"hof-glow-violet shadow-lg":""}`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg bg-white/50 dark:bg-black/20 ${s.icon}`,children:m.jsx(l,{className:"w-6 h-6"})}),m.jsxs("div",{children:[m.jsx("h4",{className:`font-bold text-lg leading-none ${s.text}`,children:t.title}),m.jsx("span",{className:"text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:t.category})]})]}),m.jsx(Mbe,{onEdit:()=>r(t),onDelete:()=>n(t.id)})]}),m.jsxs("div",{className:"mt-4",children:[m.jsxs("div",{className:"flex justify-between text-xs font-bold mb-1.5 text-neutral-500 dark:text-neutral-400",children:[m.jsx("span",{children:"Proficiency"}),m.jsx("span",{children:a.label})]}),m.jsx("div",{className:"flex gap-1 h-2",children:[1,2,3,4,5].map(c=>m.jsx("div",{className:`flex-1 rounded-full transition-colors ${Number(t.proficiency)>=c?s.barFill:s.barBg}`},c))})]}),m.jsx("div",{className:"flex flex-wrap gap-1 mt-4",children:(t.tags||[]).map((c,d)=>m.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-md font-medium bg-white/50 dark:bg-black/20 text-neutral-600 dark:text-neutral-300",children:c},d))}),i&&m.jsx("div",{className:"absolute -top-2 -right-2",children:m.jsx(si,{className:"w-6 h-6 text-amber-400 fill-amber-400 drop-shadow-md"})})]})},Ibe=({isOpen:t,onClose:e,onSave:n,initialData:r,existingCategories:i})=>{const[s,a]=_.useState({title:"",category:"",proficiency:1,tags:"",hallOfFame:!1,...r}),l=()=>{s.title.trim()&&(n({...s,tags:Array.isArray(s.tags)?s.tags:s.tags.split(",").map(c=>c.trim()).filter(Boolean),proficiency:Number(s.proficiency)}),e())};return m.jsx(oa,{onClose:e,children:m.jsx(rl,{title:r?"Edit Skill":"Add New Skill",theme:"violet",onClose:e,onSave:l,children:m.jsxs("div",{className:"space-y-5",children:[m.jsx(Et,{placeholder:"Skill Name (e.g. React, Spanish)",value:s.title,onChange:c=>a({...s,title:c.target.value}),autoFocus:!0}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs font-bold text-neutral-500 uppercase ml-1",children:"Category"}),m.jsx("input",{list:"skill-categories",placeholder:"Select or type a category...",value:s.category,onChange:c=>a({...s,category:c.target.value}),className:"w-full p-2.5 bg-black/5 dark:bg-white/5 rounded-xl backdrop-blur-sm border border-transparent focus:ring-2 focus:ring-violet-400 focus:outline-none text-neutral-800 dark:text-neutral-100"}),m.jsx("datalist",{id:"skill-categories",children:[...new Set([...Object.keys(Ag),...i])].sort().map(c=>m.jsx("option",{value:c},c))})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs font-bold text-neutral-500 uppercase ml-1",children:"Proficiency Level"}),m.jsx("div",{className:"flex gap-2",children:bC.map(c=>{const d=Number(s.proficiency)===c.value;return m.jsx("button",{onClick:()=>a({...s,proficiency:c.value}),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all border border-transparent ${d?`${c.color} shadow-md scale-105`:"bg-black/5 dark:bg-white/5 text-neutral-500 hover:bg-violet-100 dark:hover:bg-violet-900/30"}`,children:c.label},c.value)})})]}),m.jsx(Et,{placeholder:"Tags (comma-separated)",value:Array.isArray(s.tags)?s.tags.join(", "):s.tags,onChange:c=>a({...s,tags:c.target.value})}),m.jsx(a0,{isHOF:s.hallOfFame,onToggle:()=>a({...s,hallOfFame:!s.hallOfFame}),theme:"violet"})]})})})};function Dbe(){const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!0),[a,l]=_.useState({isOpen:!1,data:null});_.useEffect(()=>{const S=Is(),k=js(S,async C=>{if(C){r(C.uid),s(!0);const O=await Ns(C.uid,"skills");e(O),s(!1)}else r(null),e([]),s(!1)});return()=>k()},[]);const c=async S=>{if(!n)return;const k=await en(n,"skills",{...S,createdAt:new Date},!1);e(C=>[k,...C])},d=async(S,k)=>{if(!n)return;const C={...k,id:S},O=await en(n,"skills",C,!0);e(z=>z.map(P=>P.id===S?{...P,...O}:P))},f=async S=>{n&&window.confirm("Delete this skill?")&&(await sa(n,"skills",S),e(k=>k.filter(C=>C.id!==S)))},p=(S=null)=>l({isOpen:!0,data:S}),g=()=>l({isOpen:!1,data:null}),v=S=>{a.data?.id?d(a.data.id,S):c(S)},b=_.useMemo(()=>{const S={};return[...new Set(t.map(C=>C.category||"General"))].sort().forEach(C=>{S[C]=t.filter(O=>(O.category||"General")===C)}),S},[t]),E=_.useMemo(()=>[...new Set(t.map(S=>S.category).filter(Boolean))],[t]);return m.jsxs("div",{className:"pb-20",children:[m.jsxs("div",{className:"flex justify-between items-end mb-10",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-black text-violet-600 dark:text-violet-400",children:"My Skills"}),m.jsx("p",{className:"text-neutral-500 font-bold mt-1",children:"Tech stack & proficiencies"})]}),m.jsxs("button",{onClick:()=>p(),className:"px-5 py-2.5 bg-violet-500 hover:bg-violet-600 text-white font-bold rounded-xl shadow-lg shadow-violet-500/30 flex items-center gap-2 transition-all",children:[m.jsx(zn,{className:"w-5 h-5"})," Add Skill"]})]}),Object.entries(b).map(([S,k])=>{if(k.length===0)return null;const C=Ag[S]||Ag.General;return m.jsxs("div",{className:"mb-10",children:[m.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-violet-600 dark:text-violet-300",children:[m.jsx(C,{className:"w-6 h-6"})," ",S]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5",children:k.map(O=>m.jsx(jbe,{skill:O,onUpdate:d,onDelete:f,onEdit:()=>p(O)},O.id))})]},S)}),t.length===0&&!i&&m.jsxs("div",{className:"text-center py-20 opacity-50",children:[m.jsx(Uw,{className:"w-16 h-16 mx-auto mb-4 text-neutral-400"}),m.jsx("p",{className:"text-xl font-bold text-neutral-500",children:"No skills added yet."})]}),m.jsx(Wt,{children:a.isOpen&&m.jsx(Ibe,{isOpen:a.isOpen,onClose:g,onSave:v,initialData:a.data,existingCategories:E})})]})}const Cg={Coding:Fw,Music:$w,Fitness:s0,Travel:Xce,Art:Yce,Gaming:Qce,Design:Ds,General:Dd},xC=[{value:1,label:"Novice",color:"bg-pink-200 text-pink-700"},{value:2,label:"Beginner",color:"bg-pink-300 text-pink-800"},{value:3,label:"Intermediate",color:"bg-pink-400 text-white"},{value:4,label:"Advanced",color:"bg-pink-500 text-white"},{value:5,label:"Expert",color:"bg-pink-600 text-white"}],Pbe=({onEdit:t,onDelete:e})=>{const[n,r]=_.useState(!1);return m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>r(!n),className:"p-1 rounded-full hover:bg-black/10 dark:hover:bg-white/10 transition-colors",children:m.jsx(i0,{className:"w-4 h-4 text-neutral-500"})}),m.jsx(Wt,{children:n&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>r(!1)}),m.jsxs(Qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"absolute right-0 mt-1 w-32 bg-white dark:bg-neutral-800 rounded-lg shadow-xl border border-neutral-200 dark:border-neutral-700 z-20 overflow-hidden",children:[m.jsxs("button",{onClick:t,className:"w-full text-left flex items-center gap-2 px-3 py-2 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-700",children:[m.jsx(ei,{className:"w-3 h-3 text-pink-500"})," Edit"]}),m.jsxs("button",{onClick:e,className:"w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:[m.jsx(Hr,{className:"w-3 h-3"})," Delete"]})]})]})})]})},Rbe=({hobby:t,onUpdate:e,onDelete:n,onEdit:r})=>{const i=t.hallOfFame,s={bg:i?"hof-bg-pink":"bg-pink-50 dark:bg-pink-900/20",border:i?"border-pink-400/30":"border-pink-100 dark:border-pink-800/30",text:i?"text-pink-900 dark:text-pink-100":"text-neutral-800 dark:text-neutral-100",icon:i?"text-pink-600":"text-pink-500 dark:text-pink-400",barBg:"bg-pink-200 dark:bg-pink-900",barFill:"bg-pink-500"},a=xC.find(c=>c.value===Number(t.proficiency))||xC[0],l=Cg[t.category]||Cg.General;return m.jsxs(Qe.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:`relative p-5 rounded-2xl border backdrop-blur-sm transition-all hover:shadow-md ${s.bg} ${s.border} ${i?"hof-glow-pink shadow-lg":""}`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg bg-white/50 dark:bg-black/20 ${s.icon}`,children:m.jsx(l,{className:"w-6 h-6"})}),m.jsxs("div",{children:[m.jsx("h4",{className:`font-bold text-lg leading-none ${s.text}`,children:t.title}),m.jsx("span",{className:"text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:t.category})]})]}),m.jsx(Pbe,{onEdit:()=>r(t),onDelete:()=>n(t.id)})]}),m.jsxs("div",{className:"mt-4",children:[m.jsxs("div",{className:"flex justify-between text-xs font-bold mb-1.5 text-neutral-500 dark:text-neutral-400",children:[m.jsx("span",{children:"Proficiency"}),m.jsx("span",{children:a.label})]}),m.jsx("div",{className:"flex gap-1 h-2",children:[1,2,3,4,5].map(c=>m.jsx("div",{className:`flex-1 rounded-full transition-colors ${Number(t.proficiency)>=c?s.barFill:s.barBg}`},c))})]}),m.jsx("div",{className:"flex flex-wrap gap-1 mt-4",children:(t.tags||[]).map((c,d)=>m.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-md font-medium bg-white/50 dark:bg-black/20 text-neutral-600 dark:text-neutral-300",children:c},d))}),i&&m.jsx("div",{className:"absolute -top-2 -right-2",children:m.jsx(si,{className:"w-6 h-6 text-amber-400 fill-amber-400 drop-shadow-md"})})]})},Lbe=({isOpen:t,onClose:e,onSave:n,initialData:r,existingCategories:i})=>{const[s,a]=_.useState({title:"",category:"",proficiency:1,tags:"",hallOfFame:!1,...r}),l=()=>{s.title.trim()&&(n({...s,tags:Array.isArray(s.tags)?s.tags:s.tags.split(",").map(c=>c.trim()).filter(Boolean),proficiency:Number(s.proficiency)}),e())};return m.jsx(oa,{onClose:e,children:m.jsx(rl,{title:r?"Edit Hobby":"Add New Hobby",theme:"pink",onClose:e,onSave:l,children:m.jsxs("div",{className:"space-y-5",children:[m.jsx(Et,{placeholder:"Hobby Name (e.g. Photography, Hiking)",value:s.title,onChange:c=>a({...s,title:c.target.value}),autoFocus:!0}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs font-bold text-neutral-500 uppercase ml-1",children:"Category"}),m.jsx("input",{list:"hobby-categories",placeholder:"Select or type a category...",value:s.category,onChange:c=>a({...s,category:c.target.value}),className:"w-full p-2.5 bg-black/5 dark:bg-white/5 rounded-xl backdrop-blur-sm border border-transparent focus:ring-2 focus:ring-pink-400 focus:outline-none text-neutral-800 dark:text-neutral-100"}),m.jsx("datalist",{id:"hobby-categories",children:[...new Set([...Object.keys(Cg),...i])].sort().map(c=>m.jsx("option",{value:c},c))})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs font-bold text-neutral-500 uppercase ml-1",children:"Proficiency Level"}),m.jsx("div",{className:"flex gap-2",children:xC.map(c=>{const d=Number(s.proficiency)===c.value;return m.jsx("button",{onClick:()=>a({...s,proficiency:c.value}),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all border border-transparent ${d?`${c.color} shadow-md scale-105`:"bg-black/5 dark:bg-white/5 text-neutral-500 hover:bg-pink-100 dark:hover:bg-pink-900/30"}`,children:c.label},c.value)})})]}),m.jsx(Et,{placeholder:"Tags (comma-separated)",value:Array.isArray(s.tags)?s.tags.join(", "):s.tags,onChange:c=>a({...s,tags:c.target.value})}),m.jsx(a0,{isHOF:s.hallOfFame,onToggle:()=>a({...s,hallOfFame:!s.hallOfFame}),theme:"pink"})]})})})};function Vbe(){const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!0),[a,l]=_.useState({isOpen:!1,data:null});_.useEffect(()=>{const S=Is(),k=js(S,async C=>{if(C){r(C.uid),s(!0);const O=await Ns(C.uid,"hobbies");e(O),s(!1)}else r(null),e([]),s(!1)});return()=>k()},[]);const c=async S=>{if(!n)return;const k=await en(n,"hobbies",{...S,createdAt:new Date},!1);e(C=>[k,...C])},d=async(S,k)=>{if(!n)return;const C={...k,id:S},O=await en(n,"hobbies",C,!0);e(z=>z.map(P=>P.id===S?{...P,...O}:P))},f=async S=>{n&&window.confirm("Delete this hobby?")&&(await sa(n,"hobbies",S),e(k=>k.filter(C=>C.id!==S)))},p=(S=null)=>l({isOpen:!0,data:S}),g=()=>l({isOpen:!1,data:null}),v=S=>{a.data?.id?d(a.data.id,S):c(S)},b=_.useMemo(()=>{const S={};return[...new Set(t.map(C=>C.category||"General"))].sort().forEach(C=>{S[C]=t.filter(O=>(O.category||"General")===C)}),S},[t]),E=_.useMemo(()=>[...new Set(t.map(S=>S.category).filter(Boolean))],[t]);return m.jsxs("div",{className:"pb-20",children:[m.jsxs("div",{className:"flex justify-between items-end mb-10",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-black text-pink-600 dark:text-pink-400",children:"My Hobbies"}),m.jsx("p",{className:"text-neutral-500 font-bold mt-1",children:"Passions & Pastimes"})]}),m.jsxs("button",{onClick:()=>p(),className:"px-5 py-2.5 bg-pink-500 hover:bg-pink-600 text-white font-bold rounded-xl shadow-lg shadow-pink-500/30 flex items-center gap-2 transition-all",children:[m.jsx(zn,{className:"w-5 h-5"})," Add Hobby"]})]}),Object.entries(b).map(([S,k])=>{if(k.length===0)return null;const C=Cg[S]||Cg.General;return m.jsxs("div",{className:"mb-10",children:[m.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-pink-600 dark:text-pink-300",children:[m.jsx(C,{className:"w-6 h-6"})," ",S]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5",children:k.map(O=>m.jsx(Rbe,{hobby:O,onUpdate:d,onDelete:f,onEdit:()=>p(O)},O.id))})]},S)}),t.length===0&&!i&&m.jsxs("div",{className:"text-center py-20 opacity-50",children:[m.jsx(Dd,{className:"w-16 h-16 mx-auto mb-4 text-neutral-400"}),m.jsx("p",{className:"text-xl font-bold text-neutral-500",children:"No hobbies added yet."})]}),m.jsx(Wt,{children:a.isOpen&&m.jsx(Lbe,{isOpen:a.isOpen,onClose:g,onSave:v,initialData:a.data,existingCategories:E})})]})}const VO={Trophy:aa,Award:nue,BookOpen:xc,Code:Fw,Dumbbell:s0,Flag:pg,Heart:Dd,Star:si,Zap:Ds,Target:ks},Bbe=({achievement:t,onUpdate:e,onDelete:n,onEdit:r})=>{const[i,s]=_.useState(!1),a=VO[t.icon]||aa,l=Yf[t.color]||Yf.green,c=f=>{e(t.id,{color:f}),s(!1)},d={"--glow-c1":l.glowColors.c1,"--glow-c2":l.glowColors.c2,"--glow-c3":l.glowColors.c3};return m.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Math.random()*.2},style:d,className:"showcase-glow hall-of-fame-content group relative bg-white dark:bg-neutral-800/60 rounded-xl p-6 h-full flex flex-col justify-center items-center text-center border border-neutral-200 dark:border-neutral-700/50 backdrop-blur-sm",children:[m.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-20",children:[m.jsx("button",{onClick:()=>s(!i),className:"p-1 hover:bg-black/5 dark:hover:bg-white/10 rounded-full",children:m.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-sky-300 to-violet-300"})}),m.jsx("button",{onClick:r,className:"text-neutral-400 hover:text-green-500 transition-colors",children:m.jsx(ei,{className:"w-4 h-4"})}),m.jsx("button",{onClick:n,className:"text-neutral-400 hover:text-red-500 transition-colors",children:m.jsx(Hr,{className:"w-4 h-4"})})]}),i&&m.jsx(Qe.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"absolute top-10 right-2 z-30 bg-white dark:bg-neutral-900 p-2 rounded-lg shadow-xl border border-neutral-200 dark:border-neutral-700 flex gap-2",children:Object.keys(Yf).map(f=>m.jsx("button",{onClick:()=>c(f),children:m.jsx("div",{className:`w-5 h-5 rounded-full ${Yf[f].text.replace("text","bg")}`})},f))}),m.jsx("div",{className:"mb-4 p-4 rounded-full bg-neutral-50 dark:bg-neutral-800/50",children:m.jsx(a,{className:`w-12 h-12 transition-colors ${l.text}`})}),m.jsx("h3",{className:`font-bold text-xl mb-1 transition-colors ${l.text}`,children:t.title}),m.jsx("p",{className:"text-sm font-semibold text-neutral-500 dark:text-neutral-400 mb-4",children:t.date}),t.comment&&m.jsx("div",{className:"mt-2 w-full",children:m.jsxs("p",{style:{fontFamily:"'Caveat', cursive"},className:"text-xl text-neutral-600 dark:text-neutral-300 opacity-90 leading-tight",children:['"',t.comment,'"']})})]})},zbe=({achievement:t,onEdit:e,onDelete:n})=>{const r=VO[t.icon]||ks;return m.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Math.random()*.2},className:"group relative border-2 border-dashed border-neutral-300 dark:border-neutral-700 rounded-xl p-6 h-full flex flex-col justify-center items-center text-center hover:border-sky-300 dark:hover:border-sky-700 transition-colors bg-white/30 dark:bg-neutral-900/30",children:[m.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:e,children:m.jsx(ei,{className:"w-4 h-4 text-neutral-400 hover:text-green-500"})}),m.jsx("button",{onClick:n,children:m.jsx(Hr,{className:"w-4 h-4 text-neutral-400 hover:text-red-500"})})]}),m.jsx(r,{className:"w-10 h-10 text-neutral-300 dark:text-neutral-600 mb-3 group-hover:text-sky-400 transition-colors"}),m.jsx("h3",{className:"font-semibold text-neutral-500 dark:text-neutral-400 group-hover:text-sky-600 dark:group-hover:text-sky-300 transition-colors",children:t.title}),m.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"Future Goal"})]})},Ube=({initialData:t,onClose:e,onSave:n})=>{const[r,i]=_.useState({title:t?.title||"",date:t?.date||new Date().toISOString().split("T")[0],type:t?.type||"earned",icon:t?.icon||"Trophy",color:t?.color||"green",comment:t?.comment||""}),s=c=>{const{name:d,value:f}=c.target;i(p=>({...p,[d]:f}))},a=()=>{r.title.trim()&&n(r)},l="w-full p-2 bg-black/5 dark:bg-white/5 rounded-md border border-black/5 dark:border-white/10 backdrop-blur-sm focus:ring-2 focus:ring-emerald-400 focus:outline-none";return m.jsx(oa,{onClose:e,children:m.jsx(rl,{title:t?"Edit Achievement":"Add Achievement",theme:"emerald",onClose:e,onSave:a,children:m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{type:"text",name:"title",placeholder:"Achievement Title",value:r.title,onChange:s,className:l,autoFocus:!0}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("select",{name:"type",value:r.type,onChange:s,className:l,children:[m.jsx("option",{value:"earned",children:"Earned"}),m.jsx("option",{value:"planned",children:"Planned"})]}),m.jsx(p8,{value:r.icon,onChange:c=>i(d=>({...d,icon:c})),iconMap:VO})]}),r.type==="earned"&&m.jsx("input",{type:"date",name:"date",value:r.date,onChange:s,className:l}),m.jsx("textarea",{name:"comment",placeholder:"Add a personal comment...",value:r.comment,onChange:s,rows:"3",className:`${l} resize-none`}),r.type==="earned"&&m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-emerald-600/70 dark:text-emerald-400/70 uppercase tracking-wider mb-2 block",children:"Theme Color"}),m.jsx("div",{className:"flex items-center justify-around bg-black/5 dark:bg-white/5 p-2 rounded-lg",children:Object.keys(Yf).map(c=>m.jsx("button",{onClick:()=>i(d=>({...d,color:c})),className:`w-6 h-6 rounded-full transition-transform ${r.color===c?"scale-125 ring-2 ring-offset-2 ring-emerald-500":"hover:scale-110"}`,children:m.jsx("div",{className:`w-full h-full rounded-full ${Yf[c].text.replace("text","bg")}`})},c))})]})]})})})};function Fbe(){const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!0),[a,l]=_.useState({isOpen:!1,data:null});_.useEffect(()=>{const b=Is(),E=js(b,async S=>{if(S){r(S.uid),s(!0);const k=await Ns(S.uid,"achievements");e(k),s(!1)}else r(null),e([]),s(!1)});return()=>E()},[]);const c=async b=>{if(!n)return;const E=await en(n,"achievements",{...b,createdAt:new Date},!1);e(S=>[E,...S])},d=async(b,E)=>{if(!n)return;const S={...E,id:b},k=await en(n,"achievements",S,!0);e(C=>C.map(O=>O.id===b?{...O,...k}:O))},f=async b=>{n&&window.confirm("Delete this achievement?")&&(await sa(n,"achievements",b),e(E=>E.filter(S=>S.id!==b)))},p=b=>{a.data?.id?d(a.data.id,b):c(b),l({isOpen:!1,data:null})},g=t.filter(b=>b.type==="earned").sort((b,E)=>new Date(E.date)-new Date(b.date)),v=t.filter(b=>b.type==="planned");return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(aa,{className:"w-8 h-8 text-emerald-500"}),m.jsx("h2",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:"Showcase"})]}),m.jsxs("button",{onClick:()=>l({isOpen:!0,data:null}),className:"px-4 py-2 bg-emerald-500 text-white font-semibold rounded-lg flex items-center gap-2 hover:bg-emerald-600 transition-colors shadow-lg shadow-emerald-500/30",children:[m.jsx(zn,{className:"w-5 h-5"})," Add Achievement"]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.jsx(Wt,{children:g.map(b=>m.jsx(Bbe,{achievement:b,onUpdate:d,onDelete:()=>f(b.id),onEdit:()=>l({isOpen:!0,data:b})},b.id))})}),v.length>0&&m.jsxs("div",{className:"mt-16",children:[m.jsxs("h2",{className:"text-2xl font-bold mb-6 text-sky-600 dark:text-sky-400 flex items-center gap-2",children:[m.jsx(ks,{className:"w-6 h-6"})," Future Conquests"]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.jsx(Wt,{children:v.map(b=>m.jsx(zbe,{achievement:b,onEdit:()=>l({isOpen:!0,data:b}),onDelete:()=>f(b.id)},b.id))})})]}),m.jsx(Wt,{children:a.isOpen&&m.jsx(Ube,{initialData:a.data,onClose:()=>l({isOpen:!1,data:null}),onSave:p})})]})}const $be=({onEdit:t,onDelete:e,link:n})=>{const[r,i]=_.useState(!1);return m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>i(!r),className:"p-1.5 rounded-full bg-black/10 hover:bg-black/20 dark:bg-white/10 dark:hover:bg-white/20 backdrop-blur-md transition-colors",children:m.jsx(i0,{className:"w-4 h-4 text-neutral-600 dark:text-neutral-300"})}),m.jsx(Wt,{children:r&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),m.jsxs(Qe.div,{initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},className:"absolute right-0 mt-2 w-40 bg-white dark:bg-neutral-800 rounded-xl shadow-xl border border-neutral-200 dark:border-neutral-700 z-20 overflow-hidden",children:[m.jsxs("button",{onClick:t,className:"w-full text-left flex items-center gap-3 px-4 py-3 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-700/50 transition-colors",children:[m.jsx(ei,{className:"w-4 h-4 text-blue-500"})," Edit"]}),n&&m.jsxs("a",{href:s8(n),target:"_blank",rel:"noopener noreferrer",className:"w-full text-left flex items-center gap-3 px-4 py-3 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-700/50 transition-colors",children:[m.jsx(h8,{className:"w-4 h-4 text-sky-500"})," View Link"]}),m.jsx("div",{className:"h-px bg-neutral-100 dark:bg-neutral-700"}),m.jsxs("button",{onClick:e,className:"w-full text-left flex items-center gap-3 px-4 py-3 text-sm text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[m.jsx(Hr,{className:"w-4 h-4"})," Delete"]})]})]})})]})},Hbe=({book:t,onUpdate:e,onDelete:n,onEdit:r})=>{const i=t.hallOfFame,s=t.progress||0,a={bg:i?"hof-bg-sky":"bg-sky-50 dark:bg-sky-900/20",border:i?"border-amber-400/30":"border-sky-100 dark:border-sky-800/30",text:i?"text-sky-800 dark:text-sky-100":"text-neutral-800 dark:text-neutral-100",subtext:i?"text-sky-600 dark:text-sky-300":"text-neutral-500",tag:i?"bg-sky-200/50 text-sky-800":"bg-sky-100 dark:bg-sky-900/50 text-sky-600 dark:text-sky-300"},l=c=>{const d=parseInt(c),f={progress:d};d===100?(f.status="finished",f.completedAt=new Date):t.status!=="reading"&&(f.status="reading",f.startedAt=t.startedAt||new Date),e(t.id,f)};return m.jsx(Qe.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:`relative p-4 rounded-2xl border backdrop-blur-sm transition-all hover:shadow-md ${a.bg} ${a.border} ${i?"hof-glow-sky shadow-lg":""}`,children:m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:`w-20 h-28 shrink-0 rounded-lg shadow-sm flex items-center justify-center p-2 text-center text-xs font-bold leading-tight break-words overflow-hidden ${i?"bg-gradient-to-br from-sky-200 to-white":"bg-white dark:bg-neutral-800 text-neutral-400"}`,children:Fce(t.title,30)}),m.jsxs("div",{className:"flex-grow min-w-0 flex flex-col justify-between",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("h4",{className:`font-bold text-lg leading-tight mb-1 truncate ${a.text}`,title:t.title,children:t.title}),m.jsx($be,{onEdit:()=>r(t),onDelete:()=>n(t.id),link:t.link})]}),m.jsx("p",{className:`text-sm ${a.subtext}`,children:t.author}),m.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(t.tags||[]).map((c,d)=>m.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-medium ${a.tag}`,children:c},d))})]}),m.jsx("div",{className:"mt-3",children:t.status==="finished"?m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex text-amber-400",children:[1,2,3,4,5].map(c=>m.jsx("button",{onClick:()=>e(t.id,{rating:c}),children:m.jsx(si,{className:`w-4 h-4 ${t.rating>=c?"fill-current":"text-neutral-300 dark:text-neutral-600"}`})},c))}),m.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${i?"bg-amber-100 text-amber-600":"bg-green-100 dark:bg-green-900/30 text-green-600"}`,children:"Finished"})]}):m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex justify-between text-xs font-semibold text-sky-500",children:[m.jsx("span",{children:t.pageCount?`${Math.round(s/100*t.pageCount)} / ${t.pageCount} pgs`:`${s}%`}),t.status==="planned"&&m.jsx("span",{className:"text-neutral-400",children:"Planned"})]}),m.jsx("input",{type:"range",min:"0",max:"100",value:s,onChange:c=>l(c.target.value),className:"w-full h-1.5 bg-sky-200 dark:bg-sky-900 rounded-full appearance-none cursor-pointer accent-sky-500"})]})})]})]})})},qbe=({isOpen:t,onClose:e,onSave:n,initialData:r})=>{const[i,s]=_.useState({title:"",author:"",pageCount:"",link:"",tags:"",status:"planned",hallOfFame:!1,...r}),a=()=>{i.title.trim()&&(n({...i,tags:Array.isArray(i.tags)?i.tags:i.tags.split(",").map(l=>l.trim()).filter(Boolean),pageCount:Number(i.pageCount)}),e())};return m.jsx(oa,{onClose:e,children:m.jsx(rl,{title:r?"Edit Book":"Add New Book",theme:"sky",onClose:e,onSave:a,children:m.jsxs("div",{className:"space-y-3",children:[m.jsx(Et,{placeholder:"Title",value:i.title,onChange:l=>s({...i,title:l.target.value}),autoFocus:!0}),m.jsx(Et,{placeholder:"Author",value:i.author,onChange:l=>s({...i,author:l.target.value})}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsx(Et,{type:"number",placeholder:"Pages",value:i.pageCount,onChange:l=>s({...i,pageCount:l.target.value})}),m.jsxs("select",{value:i.status,onChange:l=>s({...i,status:l.target.value}),className:"w-full p-2 bg-black/5 dark:bg-white/5 rounded-md backdrop-blur-sm focus:ring-2 focus:ring-sky-400 focus:outline-none",children:[m.jsx("option",{value:"planned",children:"Planned"}),m.jsx("option",{value:"reading",children:"Reading"}),m.jsx("option",{value:"finished",children:"Finished"})]})]}),m.jsx(Et,{placeholder:"URL / Link (Optional)",value:i.link,onChange:l=>s({...i,link:l.target.value})}),m.jsx(Et,{placeholder:"Tags (comma-separated)",value:Array.isArray(i.tags)?i.tags.join(", "):i.tags,onChange:l=>s({...i,tags:l.target.value})}),m.jsx(a0,{isHOF:i.hallOfFame,onToggle:()=>s({...i,hallOfFame:!i.hallOfFame}),theme:"sky"})]})})})};function Wbe(){const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!0),[a,l]=_.useState({isOpen:!1,data:null});_.useEffect(()=>{const k=Is(),C=js(k,async O=>{if(O){r(O.uid),s(!0);const z=await Ns(O.uid,"books");e(z),s(!1)}else r(null),e([]),s(!1)});return()=>C()},[]);const c=async k=>{if(!n)return;const C=await en(n,"books",{...k,progress:0,rating:0,createdAt:new Date},!1);e(O=>[C,...O])},d=async(k,C)=>{if(!n)return;const O={...C,id:k},z=await en(n,"books",O,!0);e(P=>P.map(U=>U.id===k?{...U,...z}:U))},f=async k=>{n&&window.confirm("Delete this book?")&&(await sa(n,"books",k),e(C=>C.filter(O=>O.id!==k)))},p=(k=null)=>l({isOpen:!0,data:k}),g=()=>l({isOpen:!1,data:null}),v=k=>{a.data?.id?d(a.data.id,k):c(k)},b=_.useMemo(()=>({reading:t.filter(k=>k.status==="reading"&&!k.hallOfFame),planned:t.filter(k=>k.status==="planned"&&!k.hallOfFame),finished:t.filter(k=>k.status==="finished"&&!k.hallOfFame),hallOfFame:t.filter(k=>k.hallOfFame)}),[t]),E=_.useMemo(()=>{const k=t.filter(C=>C.status==="finished");return{count:k.length,pages:k.reduce((C,O)=>C+(Number(O.pageCount)||0),0)}},[t]),S=(k,C,O=!1)=>C.length>0&&m.jsxs("div",{className:"mb-8",children:[m.jsxs("h3",{className:`text-xl font-bold mb-4 flex items-center gap-2 ${O?"text-amber-500":"text-neutral-600 dark:text-neutral-300"}`,children:[O&&m.jsx(aa,{className:"w-6 h-6"})," ",k]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5",children:C.map(z=>m.jsx(Hbe,{book:z,onUpdate:d,onDelete:f,onEdit:()=>p(z)},z.id))})]});return m.jsxs("div",{className:"pb-20",children:[m.jsxs("div",{className:"flex flex-wrap justify-between items-end mb-10 gap-4",children:[m.jsxs("div",{className:"flex gap-8 md:gap-12",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-4xl font-bold text-sky-600 dark:text-sky-400",children:E.pages.toLocaleString()}),m.jsx("p",{className:"text-sm font-semibold text-neutral-400 uppercase tracking-wide",children:"Pages Read"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-4xl font-bold text-sky-600 dark:text-sky-400",children:E.count}),m.jsx("p",{className:"text-sm font-semibold text-neutral-400 uppercase tracking-wide",children:"Books Finished"})]})]}),m.jsxs("button",{onClick:()=>p(),className:"px-5 py-2.5 bg-sky-500 hover:bg-sky-600 text-white font-bold rounded-xl shadow-lg shadow-sky-500/30 flex items-center gap-2 transition-all",children:[m.jsx(zn,{className:"w-5 h-5"})," Add Book"]})]}),S("Currently Reading",b.reading),S("Hall of Fame",b.hallOfFame,!0),S("Planned",b.planned),S("Finished Books",b.finished),t.length===0&&m.jsxs("div",{className:"text-center py-20 opacity-50",children:[m.jsx(xc,{className:"w-16 h-16 mx-auto mb-4 text-neutral-400"}),m.jsx("p",{className:"text-xl font-bold text-neutral-500",children:"Your library is empty."}),m.jsx("p",{className:"text-sm",children:"Start by adding a book you want to read."})]}),m.jsx(Wt,{children:a.isOpen&&m.jsx(qbe,{isOpen:a.isOpen,onClose:g,onSave:v,initialData:a.data})})]})}const Gbe=({onEdit:t,onDelete:e,link:n})=>{const[r,i]=_.useState(!1);return m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>i(!r),className:"p-1.5 rounded-full bg-black/10 hover:bg-black/20 dark:bg-white/10 dark:hover:bg-white/20 backdrop-blur-md transition-colors",children:m.jsx(i0,{className:"w-4 h-4 text-neutral-600 dark:text-neutral-300"})}),m.jsx(Wt,{children:r&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),m.jsxs(Qe.div,{initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},className:"absolute right-0 mt-2 w-40 bg-white dark:bg-neutral-800 rounded-xl shadow-xl border border-neutral-200 dark:border-neutral-700 z-20 overflow-hidden",children:[m.jsxs("button",{onClick:t,className:"w-full text-left flex items-center gap-3 px-4 py-3 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-700/50 transition-colors",children:[m.jsx(ei,{className:"w-4 h-4 text-teal-500"})," Edit"]}),n&&m.jsxs("a",{href:s8(n),target:"_blank",rel:"noopener noreferrer",className:"w-full text-left flex items-center gap-3 px-4 py-3 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-700/50 transition-colors",children:[m.jsx(h8,{className:"w-4 h-4 text-teal-500"})," View Link"]}),m.jsx("div",{className:"h-px bg-neutral-100 dark:bg-neutral-700"}),m.jsxs("button",{onClick:e,className:"w-full text-left flex items-center gap-3 px-4 py-3 text-sm text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[m.jsx(Hr,{className:"w-4 h-4"})," Delete"]})]})]})})]})},Kbe=({thesis:t,onUpdate:e,onDelete:n,onEdit:r})=>{const i=t.hallOfFame,s=t.progress||0,a={bg:i?"hof-bg-teal":"bg-teal-50 dark:bg-teal-900/20",border:i?"border-teal-400/30":"border-teal-100 dark:border-teal-800/30",text:i?"text-teal-900 dark:text-teal-100":"text-neutral-800 dark:text-neutral-100",subtext:i?"text-teal-700 dark:text-teal-300":"text-neutral-500",tag:i?"bg-teal-200/50 text-teal-800":"bg-teal-100 dark:bg-teal-900/50 text-teal-700 dark:text-teal-300"},l=c=>{const d=parseInt(c),f={progress:d};d===100?(f.status="finished",f.completedAt=new Date):t.status!=="reading"&&(f.status="reading"),e(t.id,f)};return m.jsx(Qe.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:`relative p-5 rounded-2xl border backdrop-blur-sm transition-all hover:shadow-md ${a.bg} ${a.border} ${i?"hof-glow-teal shadow-lg":""}`,children:m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:`w-16 h-16 shrink-0 rounded-xl shadow-sm flex items-center justify-center ${i?"bg-gradient-to-br from-teal-200 to-white":"bg-white dark:bg-neutral-800"}`,children:m.jsx(wh,{className:`w-8 h-8 ${i?"text-teal-600":"text-teal-500 dark:text-teal-400"}`})}),m.jsxs("div",{className:"flex-grow min-w-0 flex flex-col justify-between",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("h4",{className:`font-bold text-lg leading-tight mb-1 truncate ${a.text}`,title:t.title,children:t.title}),m.jsx(Gbe,{onEdit:()=>r(t),onDelete:()=>n(t.id),link:t.link})]}),m.jsxs("p",{className:`text-sm ${a.subtext}`,children:["Supervisor: ",t.author]}),m.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(t.tags||[]).map((c,d)=>m.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-medium ${a.tag}`,children:c},d))})]}),m.jsx("div",{className:"mt-4",children:t.status==="finished"?m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex text-amber-400",children:[1,2,3,4,5].map(c=>m.jsx("button",{onClick:()=>e(t.id,{rating:c}),children:m.jsx(si,{className:`w-4 h-4 ${t.rating>=c?"fill-current":"text-neutral-300 dark:text-neutral-600"}`})},c))}),m.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${i?"bg-teal-100 text-teal-700":"bg-green-100 dark:bg-green-900/30 text-green-600"}`,children:"Completed"})]}):m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex justify-between text-xs font-semibold text-teal-600 dark:text-teal-400",children:[m.jsxs("span",{children:[s,"% Complete"]}),t.status==="planned"&&m.jsx("span",{className:"text-neutral-400",children:"Planned"})]}),m.jsx("input",{type:"range",min:"0",max:"100",value:s,onChange:c=>l(c.target.value),className:"w-full h-1.5 bg-teal-200 dark:bg-teal-900 rounded-full appearance-none cursor-pointer accent-teal-500"})]})})]})]})})},Ybe=({isOpen:t,onClose:e,onSave:n,initialData:r})=>{const[i,s]=_.useState({title:"",author:"",pageCount:"",link:"",tags:"",status:"planned",hallOfFame:!1,...r}),a=()=>{i.title.trim()&&(n({...i,tags:Array.isArray(i.tags)?i.tags:i.tags.split(",").map(l=>l.trim()).filter(Boolean),pageCount:Number(i.pageCount)}),e())};return m.jsx(oa,{onClose:e,children:m.jsx(rl,{title:r?"Edit Thesis":"Add New Thesis",theme:"teal",onClose:e,onSave:a,children:m.jsxs("div",{className:"space-y-3",children:[m.jsx(Et,{placeholder:"Title / Topic",value:i.title,onChange:l=>s({...i,title:l.target.value}),autoFocus:!0}),m.jsx(Et,{placeholder:"Supervisor / Author",value:i.author,onChange:l=>s({...i,author:l.target.value})}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsx(Et,{type:"number",placeholder:"Est. Pages",value:i.pageCount,onChange:l=>s({...i,pageCount:l.target.value})}),m.jsxs("select",{value:i.status,onChange:l=>s({...i,status:l.target.value}),className:"w-full p-2 bg-black/5 dark:bg-white/5 rounded-md backdrop-blur-sm focus:ring-2 focus:ring-teal-400 focus:outline-none",children:[m.jsx("option",{value:"planned",children:"Planned"}),m.jsx("option",{value:"reading",children:"In Progress"}),m.jsx("option",{value:"finished",children:"Finished"})]})]}),m.jsx(Et,{placeholder:"Link to Paper (URL)",value:i.link,onChange:l=>s({...i,link:l.target.value})}),m.jsx(Et,{placeholder:"Tags (e.g. CS, AI)",value:Array.isArray(i.tags)?i.tags.join(", "):i.tags,onChange:l=>s({...i,tags:l.target.value})}),m.jsx(a0,{isHOF:i.hallOfFame,onToggle:()=>s({...i,hallOfFame:!i.hallOfFame}),theme:"teal"})]})})})};function Xbe(){const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!0),[a,l]=_.useState({isOpen:!1,data:null});_.useEffect(()=>{const k=Is(),C=js(k,async O=>{if(O){r(O.uid),s(!0);const z=await Ns(O.uid,"theses");e(z),s(!1)}else r(null),e([]),s(!1)});return()=>C()},[]);const c=async k=>{if(!n)return;const C=await en(n,"theses",{...k,progress:0,rating:0,createdAt:new Date},!1);e(O=>[C,...O])},d=async(k,C)=>{if(!n)return;const O={...C,id:k},z=await en(n,"theses",O,!0);e(P=>P.map(U=>U.id===k?{...U,...z}:U))},f=async k=>{n&&window.confirm("Delete this thesis?")&&(await sa(n,"theses",k),e(C=>C.filter(O=>O.id!==k)))},p=(k=null)=>l({isOpen:!0,data:k}),g=()=>l({isOpen:!1,data:null}),v=k=>{a.data?.id?d(a.data.id,k):c(k)},b=_.useMemo(()=>({reading:t.filter(k=>k.status==="reading"&&!k.hallOfFame),planned:t.filter(k=>k.status==="planned"&&!k.hallOfFame),finished:t.filter(k=>k.status==="finished"&&!k.hallOfFame),hallOfFame:t.filter(k=>k.hallOfFame)}),[t]),E=_.useMemo(()=>{const k=t.filter(C=>C.status==="finished");return{count:k.length,pages:k.reduce((C,O)=>C+(Number(O.pageCount)||0),0)}},[t]),S=(k,C,O=!1)=>C.length>0&&m.jsxs("div",{className:"mb-8",children:[m.jsxs("h3",{className:`text-xl font-bold mb-4 flex items-center gap-2 ${O?"text-teal-600 dark:text-teal-400":"text-neutral-600 dark:text-neutral-300"}`,children:[O&&m.jsx(aa,{className:"w-6 h-6"})," ",k]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5",children:C.map(z=>m.jsx(Kbe,{thesis:z,onUpdate:d,onDelete:f,onEdit:()=>p(z)},z.id))})]});return m.jsxs("div",{className:"pb-20",children:[m.jsxs("div",{className:"flex flex-wrap justify-between items-end mb-10 gap-4",children:[m.jsxs("div",{className:"flex gap-8 md:gap-12",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-4xl font-bold text-teal-600 dark:text-teal-400",children:E.count}),m.jsx("p",{className:"text-sm font-semibold text-neutral-400 uppercase tracking-wide",children:"Theses Read"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-4xl font-bold text-teal-600 dark:text-teal-400",children:E.pages.toLocaleString()}),m.jsx("p",{className:"text-sm font-semibold text-neutral-400 uppercase tracking-wide",children:"Total Pages"})]})]}),m.jsxs("button",{onClick:()=>p(),className:"px-5 py-2.5 bg-teal-500 hover:bg-teal-600 text-white font-bold rounded-xl shadow-lg shadow-teal-500/30 flex items-center gap-2 transition-all",children:[m.jsx(zn,{className:"w-5 h-5"})," Add Thesis"]})]}),S("In Progress",b.reading),S("Hall of Fame",b.hallOfFame,!0),S("Planned",b.planned),S("Finished",b.finished),t.length===0&&m.jsxs("div",{className:"text-center py-20 opacity-50",children:[m.jsx(wh,{className:"w-16 h-16 mx-auto mb-4 text-neutral-400"}),m.jsx("p",{className:"text-xl font-bold text-neutral-500",children:"No theses added."}),m.jsx("p",{className:"text-sm",children:"Track your academic reading here."})]}),m.jsx(Wt,{children:a.isOpen&&m.jsx(Ybe,{isOpen:a.isOpen,onClose:g,onSave:v,initialData:a.data})})]})}const Qbe=({item:t,onUpdate:e,onDelete:n,onEdit:r,config:i,theme:s="slate"})=>{const a=t.hallOfFame,l=t[i.primaryField.toLowerCase()],c={slate:{bg:a?"hof-bg-slate":"bg-slate-50 dark:bg-slate-800/40",border:a?"border-slate-400/30":"border-slate-200 dark:border-slate-700",text:a?"text-slate-800 dark:text-slate-200":"text-neutral-800 dark:text-neutral-200",subtext:a?"text-slate-600 dark:text-slate-400":"text-neutral-500",icon:a?"text-slate-500":"text-slate-300 dark:text-slate-600",glow:"hof-glow-slate",tag:a?"bg-slate-200/50 text-slate-700":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300"},violet:{bg:a?"hof-bg-violet":"bg-violet-50 dark:bg-violet-900/20",border:a?"border-violet-400/30":"border-violet-100 dark:border-violet-800/30",text:a?"text-violet-900 dark:text-violet-100":"text-neutral-800 dark:text-neutral-200",subtext:a?"text-violet-700 dark:text-violet-300":"text-neutral-500",icon:a?"text-violet-500":"text-violet-300 dark:text-violet-600",glow:"hof-glow-violet",tag:a?"bg-violet-200/50 text-violet-800":"bg-violet-100 dark:bg-violet-900/50 text-violet-600 dark:text-violet-300"}},d=c[s]||c.slate;return m.jsx(Qe.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:`relative p-4 rounded-xl border backdrop-blur-sm transition-all hover:shadow-md group ${d.bg} ${d.border} ${a?`${d.glow} shadow-lg`:""}`,children:m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:`shrink-0 w-16 h-16 rounded-lg flex items-center justify-center ${a?"bg-white/50 dark:bg-black/20":"bg-white dark:bg-neutral-800"}`,children:Cs.cloneElement(i.mediaIcon,{className:`w-8 h-8 ${d.icon}`})}),m.jsxs("div",{className:"flex-grow min-w-0 flex flex-col justify-between",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("h4",{className:`font-bold text-lg leading-tight truncate pr-6 ${d.text}`,title:t.title,children:t.title}),m.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity",children:m.jsx(Jbe,{onEdit:()=>r(t),onDelete:()=>n(t.id)})})]}),m.jsx("p",{className:`text-sm ${d.subtext}`,children:l})]}),m.jsxs("div",{className:"mt-2 flex items-end justify-between",children:[m.jsx("div",{className:"flex flex-wrap gap-1",children:(t.tags||[]).map((f,p)=>m.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-medium ${d.tag}`,children:f},p))}),m.jsxs("div",{className:"flex items-center gap-2",children:[i.hasLength&&t.length>0&&m.jsxs("span",{className:"text-[10px] font-mono text-neutral-400",children:[t.length,"m"]}),!a&&m.jsx("div",{className:"flex",children:[1,2,3,4,5].map(f=>m.jsx("button",{onClick:()=>e(t.id,{rating:f,status:i.watchedStatus}),className:"focus:outline-none transition-transform hover:scale-110",children:m.jsx(si,{className:`w-4 h-4 ${t.rating>=f?"text-amber-400 fill-current":"text-neutral-300 dark:text-neutral-600"}`})},f))}),t.status==="planned"&&m.jsx("button",{onClick:()=>e(t.id,{status:i.watchedStatus,watchedDate:new Date().toISOString().split("T")[0]}),className:"text-xs font-bold px-2 py-1 rounded-md bg-neutral-200 dark:bg-neutral-700 hover:bg-green-100 dark:hover:bg-green-900 hover:text-green-600 transition-colors",children:"Mark Done"})]})]})]})]})})},Jbe=({onEdit:t,onDelete:e})=>{const[n,r]=_.useState(!1);return m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>r(!n),className:"p-1 rounded-full bg-black/5 hover:bg-black/10 dark:bg-white/10 dark:hover:bg-white/20",children:m.jsx(i0,{className:"w-4 h-4 text-neutral-500 dark:text-neutral-300"})}),m.jsx(Wt,{children:n&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>r(!1)}),m.jsxs(Qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"absolute right-0 mt-1 w-32 bg-white dark:bg-neutral-800 rounded-lg shadow-xl border border-neutral-200 dark:border-neutral-700 z-20 overflow-hidden",children:[m.jsxs("button",{onClick:t,className:"w-full text-left flex items-center gap-2 px-3 py-2 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-700",children:[m.jsx(ei,{className:"w-3 h-3"})," Edit"]}),m.jsxs("button",{onClick:e,className:"w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:[m.jsx(Hr,{className:"w-3 h-3"})," Delete"]})]})]})})]})},Zbe=({isOpen:t,onClose:e,onSave:n,initialData:r,config:i,theme:s})=>{const[a,l]=_.useState({title:"",tags:"",status:"planned",hallOfFame:!1,rating:0,...r}),c=f=>{const{name:p,value:g,type:v,checked:b}=f.target;l(E=>({...E,[p]:v==="checkbox"?b:g}))},d=()=>{a.title.trim()&&(n({...a,tags:Array.isArray(a.tags)?a.tags:a.tags.split(",").map(f=>f.trim()).filter(Boolean),length:a.length?parseInt(a.length):0,[i.primaryField.toLowerCase()]:a[i.primaryField.toLowerCase()]}),e())};return m.jsx(oa,{onClose:e,children:m.jsx(rl,{title:r?`Edit ${i.type}`:`Add New ${i.type}`,theme:s,onClose:e,onSave:d,children:m.jsxs("div",{className:"space-y-3",children:[m.jsx(Et,{name:"title",placeholder:"Title",value:a.title,onChange:c,autoFocus:!0}),m.jsx(Et,{name:i.primaryField.toLowerCase(),placeholder:i.primaryField,value:a[i.primaryField.toLowerCase()]||"",onChange:c}),i.hasLength&&m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsx(Et,{type:"number",name:"length",placeholder:"Length (mins)",value:a.length||"",onChange:c}),a.status===i.watchedStatus&&m.jsx(Et,{type:"date",name:"watchedDate",value:a.watchedDate||"",onChange:c})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("select",{name:"status",value:a.status,onChange:c,className:"w-full p-2 bg-black/5 dark:bg-white/5 rounded-md backdrop-blur-sm focus:ring-2 focus:outline-none",children:[m.jsx("option",{value:"planned",children:"Planned"}),m.jsx("option",{value:i.watchedStatus,children:i.watchedStatus==="watched"?"Watched":"Listened"})]}),m.jsx(Et,{name:"tags",placeholder:"Tags (comma-separated)",value:Array.isArray(a.tags)?a.tags.join(", "):a.tags,onChange:c})]}),m.jsx(a0,{isHOF:a.hallOfFame,onToggle:()=>l(f=>({...f,hallOfFame:!f.hallOfFame})),theme:s})]})})})},k7=({items:t,onAdd:e,onUpdate:n,onDelete:r,config:i,theme:s})=>{const[a,l]=_.useState({isOpen:!1,data:null}),c=(k=null)=>l({isOpen:!0,data:k}),d=()=>l({isOpen:!1,data:null}),f=k=>{a.data?.id?n(a.data.id,k):e({...k,rating:0,createdAt:new Date})},p=t.filter(k=>k.status==="planned"&&!k.hallOfFame),g=t.filter(k=>k.status===i.watchedStatus&&!k.hallOfFame),v=t.filter(k=>k.hallOfFame),b=g.length+v.length,E=i.hasLength?Math.round([...g,...v].reduce((k,C)=>k+(C.length||0),0)/60):0,S=(k,C,O=!1)=>C.length>0&&m.jsxs("div",{className:"mb-8",children:[m.jsxs("h3",{className:`text-xl font-bold mb-4 flex items-center gap-2 ${O?"text-amber-500":"text-neutral-600 dark:text-neutral-300"}`,children:[O&&m.jsx(aa,{className:"w-5 h-5"})," ",k]}),m.jsx("div",{className:`grid gap-4 ${i.type==="Album/Song"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1 md:grid-cols-2 xl:grid-cols-3"}`,children:C.map(z=>m.jsx(Qbe,{item:z,onUpdate:n,onDelete:r,onEdit:()=>c(z),config:i,theme:s},z.id))})]});return m.jsxs("div",{className:"pb-20",children:[m.jsxs("div",{className:"flex flex-wrap justify-between items-end mb-10 gap-4",children:[m.jsxs("div",{className:"flex gap-8",children:[m.jsxs("div",{children:[m.jsx("p",{className:`text-4xl font-bold ${s==="violet"?"text-violet-600 dark:text-violet-400":"text-slate-600 dark:text-slate-400"}`,children:b}),m.jsxs("p",{className:"text-sm font-semibold text-neutral-400 uppercase tracking-wide",children:["Total ",i.watchedStatus==="watched"?"Watched":"Listened"]})]}),i.hasLength&&m.jsxs("div",{children:[m.jsxs("p",{className:`text-4xl font-bold ${s==="violet"?"text-violet-600 dark:text-violet-400":"text-slate-600 dark:text-slate-400"}`,children:[E,"h"]}),m.jsx("p",{className:"text-sm font-semibold text-neutral-400 uppercase tracking-wide",children:"Hours"})]})]}),m.jsxs("button",{onClick:()=>c(),className:`px-5 py-2.5 text-white font-bold rounded-xl shadow-lg flex items-center gap-2 transition-all ${s==="violet"?"bg-violet-500 hover:bg-violet-600 shadow-violet-500/30":"bg-slate-500 hover:bg-slate-600 shadow-slate-500/30"}`,children:[m.jsx(zn,{className:"w-5 h-5"})," Add ",i.type]})]}),S("Planned",p),S("Hall of Fame",v,!0),S(i.watchedStatus==="watched"?"Recently Watched":"Recently Listened",g),t.length===0&&m.jsxs("div",{className:"text-center py-20 opacity-50",children:[Cs.cloneElement(i.mediaIcon,{className:"w-16 h-16 mx-auto mb-4 text-neutral-400"}),m.jsx("p",{className:"text-xl font-bold text-neutral-500",children:"Collection is empty."})]}),m.jsx(Wt,{children:a.isOpen&&m.jsx(Zbe,{isOpen:a.isOpen,onClose:d,onSave:f,initialData:a.data,config:i,theme:s})})]})};function exe(){const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!0);_.useEffect(()=>{const f=Is(),p=js(f,async g=>{if(g){r(g.uid),s(!0);const v=await Ns(g.uid,"movies");e(v),s(!1)}else r(null),e([]),s(!1)});return()=>p()},[]);const a=async f=>{if(!n)return;const p=await en(n,"movies",f,!1);e(g=>[p,...g])},l=async(f,p)=>{if(!n)return;const g={...p,id:f},v=await en(n,"movies",g,!0);e(b=>b.map(E=>E.id===f?{...E,...v}:E))},c=async f=>{n&&window.confirm("Delete this movie?")&&(await sa(n,"movies",f),e(p=>p.filter(g=>g.id!==f)))},d={type:"Movie",primaryField:"Director",mediaIcon:m.jsx(u8,{}),hasLength:!0,watchedStatus:"watched"};return m.jsx(k7,{items:t,onAdd:a,onUpdate:l,onDelete:c,config:d,theme:"slate"})}function txe(){const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!0);_.useEffect(()=>{const f=Is(),p=js(f,async g=>{if(g){r(g.uid),s(!0);const v=await Ns(g.uid,"music");e(v),s(!1)}else r(null),e([]),s(!1)});return()=>p()},[]);const a=async f=>{if(!n)return;const p=await en(n,"music",f,!1);e(g=>[p,...g])},l=async(f,p)=>{if(!n)return;const g={...p,id:f},v=await en(n,"music",g,!0);e(b=>b.map(E=>E.id===f?{...E,...v}:E))},c=async f=>{n&&window.confirm("Delete this album/song?")&&(await sa(n,"music",f),e(p=>p.filter(g=>g.id!==f)))},d={type:"Album/Song",primaryField:"Artist",mediaIcon:m.jsx($w,{}),hasLength:!1,watchedStatus:"listened"};return m.jsx(k7,{items:t,onAdd:a,onUpdate:l,onDelete:c,config:d,theme:"violet"})}var nxe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function BO(t){if(typeof t!="string")return!1;var e=nxe;return e.includes(t)}var rxe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ixe=new Set(rxe);function _7(t){return typeof t!="string"?!1:ixe.has(t)}function A7(t){return typeof t=="string"&&t.startsWith("data-")}function Ya(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(_7(n)||A7(n))&&(e[n]=t[n]);return e}function d1(t){if(t==null)return null;if(_.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ya(e)}return typeof t=="object"&&!Array.isArray(t)?Ya(t):null}function ii(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(_7(n)||A7(n)||BO(n))&&(e[n]=t[n]);return e}function sxe(t){return t==null?null:_.isValidElement(t)?ii(t.props):typeof t=="object"&&!Array.isArray(t)?ii(t):null}var axe=["children","width","height","viewBox","className","style","title","desc"];function wC(){return wC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wC.apply(null,arguments)}function oxe(t,e){if(t==null)return{};var n,r,i=lxe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var C7=_.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:l,title:c,desc:d}=t,f=oxe(t,axe),p=s||{width:r,height:i,x:0,y:0},g=yt("recharts-surface",a);return _.createElement("svg",wC({},ii(f),{className:g,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),_.createElement("title",null,c),_.createElement("desc",null,d),n)}),cxe=["children","className"];function SC(){return SC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SC.apply(null,arguments)}function uxe(t,e){if(t==null)return{};var n,r,i=dxe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vc=_.forwardRef((t,e)=>{var{children:n,className:r}=t,i=uxe(t,cxe),s=yt("recharts-layer",r);return _.createElement("g",SC({className:s},ii(i),{ref:e}),n)}),fxe=_.createContext(null);function Rt(t){return function(){return t}}const N7=Math.cos,Nx=Math.sin,la=Math.sqrt,Ox=Math.PI,f1=2*Ox,TC=Math.PI,EC=2*TC,zu=1e-6,hxe=EC-zu;function O7(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function pxe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return O7;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class mxe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?O7:pxe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=r-e,d=i-n,f=a-e,p=l-n,g=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>zu)if(!(Math.abs(p*c-d*f)>zu)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-a,b=i-l,E=c*c+d*d,S=v*v+b*b,k=Math.sqrt(E),C=Math.sqrt(g),O=s*Math.tan((TC-Math.acos((E+g-S)/(2*k*C)))/2),z=O/C,P=O/k;Math.abs(z-1)>zu&&this._append`L${e+z*f},${n+z*p}`,this._append`A${s},${s},0,0,${+(p*v>f*b)},${this._x1=e+P*c},${this._y1=n+P*d}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),d=e+l,f=n+c,p=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>zu||Math.abs(this._y1-f)>zu)&&this._append`L${d},${f}`,r&&(g<0&&(g=g%EC+EC),g>hxe?this._append`A${r},${r},0,1,${p},${e-l},${n-c}A${r},${r},0,1,${p},${this._x1=d},${this._y1=f}`:g>zu&&this._append`A${r},${r},0,${+(g>=TC)},${p},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function zO(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new mxe(e)}function UO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function M7(t){this._context=t}M7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function h1(t){return new M7(t)}function j7(t){return t[0]}function I7(t){return t[1]}function D7(t,e){var n=Rt(!0),r=null,i=h1,s=null,a=zO(l);t=typeof t=="function"?t:t===void 0?j7:Rt(t),e=typeof e=="function"?e:e===void 0?I7:Rt(e);function l(c){var d,f=(c=UO(c)).length,p,g=!1,v;for(r==null&&(s=i(v=a())),d=0;d<=f;++d)!(d<f&&n(p=c[d],d,c))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(p,d,c),+e(p,d,c));if(v)return s=null,v+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Rt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Rt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Rt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function Ev(t,e,n){var r=null,i=Rt(!0),s=null,a=h1,l=null,c=zO(d);t=typeof t=="function"?t:t===void 0?j7:Rt(+t),e=typeof e=="function"?e:Rt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?I7:Rt(+n);function d(p){var g,v,b,E=(p=UO(p)).length,S,k=!1,C,O=new Array(E),z=new Array(E);for(s==null&&(l=a(C=c())),g=0;g<=E;++g){if(!(g<E&&i(S=p[g],g,p))===k)if(k=!k)v=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=g-1;b>=v;--b)l.point(O[b],z[b]);l.lineEnd(),l.areaEnd()}k&&(O[g]=+t(S,g,p),z[g]=+e(S,g,p),l.point(r?+r(S,g,p):O[g],n?+n(S,g,p):z[g]))}if(C)return l=null,C+""||null}function f(){return D7().defined(i).curve(a).context(s)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:Rt(+p),r=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Rt(+p),d):t},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Rt(+p),d):r},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:Rt(+p),n=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Rt(+p),d):e},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Rt(+p),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Rt(!!p),d):i},d.curve=function(p){return arguments.length?(a=p,s!=null&&(l=a(s)),d):a},d.context=function(p){return arguments.length?(p==null?s=l=null:l=a(s=p),d):s},d}class P7{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function gxe(t){return new P7(t,!0)}function yxe(t){return new P7(t,!1)}const FO={draw(t,e){const n=la(e/Ox);t.moveTo(n,0),t.arc(0,0,n,0,f1)}},vxe={draw(t,e){const n=la(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},R7=la(1/3),bxe=R7*2,xxe={draw(t,e){const n=la(e/bxe),r=n*R7;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},wxe={draw(t,e){const n=la(e),r=-n/2;t.rect(r,r,n,n)}},Sxe=.8908130915292852,L7=Nx(Ox/10)/Nx(7*Ox/10),Txe=Nx(f1/10)*L7,Exe=-N7(f1/10)*L7,kxe={draw(t,e){const n=la(e*Sxe),r=Txe*n,i=Exe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=f1*s/5,l=N7(a),c=Nx(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},ik=la(3),_xe={draw(t,e){const n=-la(e/(ik*3));t.moveTo(0,n*2),t.lineTo(-ik*n,-n),t.lineTo(ik*n,-n),t.closePath()}},us=-.5,ds=la(3)/2,kC=1/la(12),Axe=(kC/2+1)*3,Cxe={draw(t,e){const n=la(e/Axe),r=n/2,i=n*kC,s=r,a=n*kC+n,l=-s,c=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,c),t.lineTo(us*r-ds*i,ds*r+us*i),t.lineTo(us*s-ds*a,ds*s+us*a),t.lineTo(us*l-ds*c,ds*l+us*c),t.lineTo(us*r+ds*i,us*i-ds*r),t.lineTo(us*s+ds*a,us*a-ds*s),t.lineTo(us*l+ds*c,us*c-ds*l),t.closePath()}};function Nxe(t,e){let n=null,r=zO(i);t=typeof t=="function"?t:Rt(t||FO),e=typeof e=="function"?e:Rt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Rt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Rt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Mx(){}function jx(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function V7(t){this._context=t}V7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Oxe(t){return new V7(t)}function B7(t){this._context=t}B7.prototype={areaStart:Mx,areaEnd:Mx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:jx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Mxe(t){return new B7(t)}function z7(t){this._context=t}z7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:jx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jxe(t){return new z7(t)}function U7(t){this._context=t}U7.prototype={areaStart:Mx,areaEnd:Mx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ixe(t){return new U7(t)}function j3(t){return t<0?-1:1}function I3(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(j3(s)+j3(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function D3(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function sk(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function Ix(t){this._context=t}Ix.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sk(this,this._t0,D3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,sk(this,D3(this,n=I3(this,t,e)),n);break;default:sk(this,this._t0,n=I3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function F7(t){this._context=new $7(t)}(F7.prototype=Object.create(Ix.prototype)).point=function(t,e){Ix.prototype.point.call(this,e,t)};function $7(t){this._context=t}$7.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Dxe(t){return new Ix(t)}function Pxe(t){return new F7(t)}function H7(t){this._context=t}H7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=P3(t),i=P3(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function P3(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Rxe(t){return new H7(t)}function p1(t,e){this._context=t,this._t=e}p1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Lxe(t){return new p1(t,.5)}function Vxe(t){return new p1(t,0)}function Bxe(t){return new p1(t,1)}function _d(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,l=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function _C(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function zxe(t,e){return t[e]}function Uxe(t){const e=[];return e.key=t,e}function Fxe(){var t=Rt([]),e=_C,n=_d,r=zxe;function i(s){var a=Array.from(t.apply(this,arguments),Uxe),l,c=a.length,d=-1,f;for(const p of s)for(l=0,++d;l<c;++l)(a[l][d]=[0,+r(p,a[l].key,d,s)]).data=p;for(l=0,f=UO(e(a));l<c;++l)a[f[l]].index=l;return n(a,f),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Rt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Rt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?_C:typeof s=="function"?s:Rt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??_d,i):n},i}function $xe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}_d(t,e)}}function Hxe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}_d(t,e)}}function qxe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var l=0,c=0,d=0;l<a;++l){for(var f=t[e[l]],p=f[r][1]||0,g=f[r-1][1]||0,v=(p-g)/2,b=0;b<l;++b){var E=t[e[b]],S=E[r][1]||0,k=E[r-1][1]||0;v+=S-k}c+=p,d+=v*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,_d(t,e)}}var ak={},ok={},R3;function Wxe(){return R3||(R3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(ok)),ok}var lk={},L3;function q7(){return L3||(L3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(lk)),lk}var ck={},V3;function W7(){return V3||(V3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(ck)),ck}var uk={},B3;function $O(){return B3||(B3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let s=0,a="",l="",c=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const d=n[s];l?d==="\\"&&s+1<i?(s++,a+=n[s]):d===l?l="":a+=d:c?d==='"'||d==="'"?l=d:d==="]"?(c=!1,r.push(a),a=""):a+=d:d==="["?(c=!0,a&&(r.push(a),a="")):d==="."?a&&(r.push(a),a=""):a+=d,s++}return a&&r.push(a),r}t.toPath=e})(uk)),uk}var z3;function HO(){return z3||(z3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wxe(),n=q7(),r=W7(),i=$O();function s(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const f=l[c];return f===void 0?n.isDeepKey(c)?s(l,i.toPath(c),d):d:f}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const f=l[c];return f===void 0?d:f}default:{if(Array.isArray(c))return a(l,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const f=l[c];return f===void 0?d:f}}}function a(l,c,d){if(c.length===0)return d;let f=l;for(let p=0;p<c.length;p++){if(f==null||e.isUnsafeProperty(c[p]))return d;f=f[c[p]]}return f===void 0?d:f}t.get=s})(ak)),ak}var dk,U3;function Gxe(){return U3||(U3=1,dk=HO().get),dk}var Kxe=Gxe();const m1=eo(Kxe);var Yxe=4;function hc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yxe,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function mn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,a)=>{var l=n[a-1];return typeof l=="string"?i+l+s:l!==void 0?i+hc(l)+s:i+s},"")}var xs=t=>t===0?0:t>0?1:-1,Xa=t=>typeof t=="number"&&t!=+t,Ko=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,je=t=>(typeof t=="number"||t instanceof Number)&&!Xa(t),Qa=t=>je(t)||typeof t=="string",Xxe=0,Ng=t=>{var e=++Xxe;return"".concat(t||"").concat(e)},Bc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&typeof e!="string")return r;var s;if(Ko(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Xa(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},G7=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function xi(t,e,n){return je(t)&&je(e)?hc(t+n*(e-t)):e}function K7(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):m1(r,e))===n)}var cr=t=>t===null||typeof t>"u",m0=t=>cr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Qxe(t){return t!=null}function g0(){}var Jxe=["type","size","sizeType"];function AC(){return AC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AC.apply(null,arguments)}function F3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F3(Object(n),!0).forEach(function(r){Zxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zxe(t,e,n){return(e=ewe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ewe(t){var e=twe(t,"string");return typeof e=="symbol"?e:e+""}function twe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nwe(t,e){if(t==null)return{};var n,r,i=rwe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Y7={symbolCircle:FO,symbolCross:vxe,symbolDiamond:xxe,symbolSquare:wxe,symbolStar:kxe,symbolTriangle:_xe,symbolWye:Cxe},iwe=Math.PI/180,swe=t=>{var e="symbol".concat(m0(t));return Y7[e]||FO},awe=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*iwe;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},owe=(t,e)=>{Y7["symbol".concat(m0(t))]=e},X7=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=nwe(t,Jxe),s=$3($3({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var l=()=>{var g=swe(a),v=Nxe().type(g).size(awe(n,r,a)),b=v();if(b!==null)return b},{className:c,cx:d,cy:f}=s,p=ii(s);return je(d)&&je(f)&&je(n)?_.createElement("path",AC({},p,{className:yt("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(f,")"),d:l()})):null};X7.registerSymbol=owe;var Q7=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,qO=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{BO(i)&&(r[i]=(s=>n[i](n,s)))}),r},lwe=(t,e,n)=>r=>(t(e,n,r),null),cwe=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];BO(i)&&typeof s=="function"&&(r||(r={}),r[i]=lwe(s,e,n))}),r};function H3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uwe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H3(Object(n),!0).forEach(function(r){dwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dwe(t,e,n){return(e=fwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fwe(t){var e=hwe(t,"string");return typeof e=="symbol"?e:e+""}function hwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ei(t,e){var n=uwe({},t),r=e,i=Object.keys(e),s=i.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return s}var fk={},hk={},q3;function pwe(){return q3||(q3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],l=r(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}t.uniqBy=e})(hk)),hk}var pk={},W3;function J7(){return W3||(W3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(pk)),pk}var mk={},gk={},yk={},G3;function mwe(){return G3||(G3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(yk)),yk}var K3;function WO(){return K3||(K3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mwe();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(gk)),gk}var vk={},Y3;function gwe(){return Y3||(Y3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(vk)),vk}var X3;function ywe(){return X3||(X3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WO(),n=gwe();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(mk)),mk}var bk={},xk={},Q3;function vwe(){return Q3||(Q3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HO();function n(r){return function(i){return e.get(i,r)}}t.property=n})(xk)),xk}var wk={},Sk={},Tk={},Ek={},J3;function Z7(){return J3||(J3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Ek)),Ek}var kk={},Z3;function eW(){return Z3||(Z3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(kk)),kk}var _k={},eV;function tW(){return eV||(eV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(_k)),_k}var tV;function bwe(){return tV||(tV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GO(),n=Z7(),r=eW(),i=tW();function s(p,g,v){return typeof v!="function"?e.isMatch(p,g):a(p,g,function b(E,S,k,C,O,z){const P=v(E,S,k,C,O,z);return P!==void 0?!!P:a(E,S,b,z)},new Map)}function a(p,g,v,b){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,v,b);case"function":return Object.keys(g).length>0?a(p,{...g},v,b):i.eq(p,g);default:return n.isObject(p)?typeof g=="string"?g==="":!0:i.eq(p,g)}}function l(p,g,v,b){if(g==null)return!0;if(Array.isArray(g))return d(p,g,v,b);if(g instanceof Map)return c(p,g,v,b);if(g instanceof Set)return f(p,g,v,b);const E=Object.keys(g);if(p==null)return E.length===0;if(E.length===0)return!0;if(b&&b.has(g))return b.get(g)===p;b&&b.set(g,p);try{for(let S=0;S<E.length;S++){const k=E[S];if(!r.isPrimitive(p)&&!(k in p)||g[k]===void 0&&p[k]!==void 0||g[k]===null&&p[k]!==null||!v(p[k],g[k],k,p,g,b))return!1}return!0}finally{b&&b.delete(g)}}function c(p,g,v,b){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,S]of g.entries()){const k=p.get(E);if(v(k,S,E,p,g,b)===!1)return!1}return!0}function d(p,g,v,b){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let S=0;S<g.length;S++){const k=g[S];let C=!1;for(let O=0;O<p.length;O++){if(E.has(O))continue;const z=p[O];let P=!1;if(v(z,k,S,p,g,b)&&(P=!0),P){E.add(O),C=!0;break}}if(!C)return!1}return!0}function f(p,g,v,b){return g.size===0?!0:p instanceof Set?d([...p],[...g],v,b):!1}t.isMatchWith=s,t.isSetMatch=f})(Tk)),Tk}var nV;function GO(){return nV||(nV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bwe();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Sk)),Sk}var Ak={},Ck={},Nk={},rV;function xwe(){return rV||(rV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Nk)),Nk}var Ok={},iV;function nW(){return iV||(iV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Ok)),Ok}var Mk={},sV;function rW(){return sV||(sV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",f="[object Array]",p="[object Function]",g="[object ArrayBuffer]",v="[object Object]",b="[object Error]",E="[object DataView]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",C="[object Uint16Array]",O="[object Uint32Array]",z="[object BigUint64Array]",P="[object Int8Array]",U="[object Int16Array]",I="[object Int32Array]",j="[object BigInt64Array]",M="[object Float32Array]",R="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=g,t.arrayTag=f,t.bigInt64ArrayTag=j,t.bigUint64ArrayTag=z,t.booleanTag=i,t.dataViewTag=E,t.dateTag=l,t.errorTag=b,t.float32ArrayTag=M,t.float64ArrayTag=R,t.functionTag=p,t.int16ArrayTag=U,t.int32ArrayTag=I,t.int8ArrayTag=P,t.mapTag=c,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=C,t.uint32ArrayTag=O,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=k})(Mk)),Mk}var jk={},aV;function wwe(){return aV||(aV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(jk)),jk}var oV;function iW(){return oV||(oV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xwe(),n=nW(),r=rW(),i=eW(),s=wwe();function a(f,p){return l(f,void 0,f,new Map,p)}function l(f,p,g,v=new Map,b=void 0){const E=b?.(f,p,g,v);if(E!==void 0)return E;if(i.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const S=new Array(f.length);v.set(f,S);for(let k=0;k<f.length;k++)S[k]=l(f[k],k,g,v,b);return Object.hasOwn(f,"index")&&(S.index=f.index),Object.hasOwn(f,"input")&&(S.input=f.input),S}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const S=new RegExp(f.source,f.flags);return S.lastIndex=f.lastIndex,S}if(f instanceof Map){const S=new Map;v.set(f,S);for(const[k,C]of f)S.set(k,l(C,k,g,v,b));return S}if(f instanceof Set){const S=new Set;v.set(f,S);for(const k of f)S.add(l(k,void 0,g,v,b));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const S=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,S);for(let k=0;k<f.length;k++)S[k]=l(f[k],k,g,v,b);return S}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const S=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,S),c(S,f,g,v,b),S}if(typeof File<"u"&&f instanceof File){const S=new File([f],f.name,{type:f.type});return v.set(f,S),c(S,f,g,v,b),S}if(f instanceof Blob){const S=new Blob([f],{type:f.type});return v.set(f,S),c(S,f,g,v,b),S}if(f instanceof Error){const S=new f.constructor;return v.set(f,S),S.message=f.message,S.name=f.name,S.stack=f.stack,S.cause=f.cause,c(S,f,g,v,b),S}if(typeof f=="object"&&d(f)){const S=Object.create(Object.getPrototypeOf(f));return v.set(f,S),c(S,f,g,v,b),S}return f}function c(f,p,g=f,v,b){const E=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<E.length;S++){const k=E[S],C=Object.getOwnPropertyDescriptor(f,k);(C==null||C.writable)&&(f[k]=l(p[k],k,g,v,b))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=l,t.copyProperties=c})(Ck)),Ck}var lV;function Swe(){return lV||(lV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iW();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Ak)),Ak}var cV;function Twe(){return cV||(cV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GO(),n=Swe();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(wk)),wk}var Ik={},Dk={},Pk={},uV;function Ewe(){return uV||(uV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iW(),n=rW();function r(i,s){return e.cloneDeepWith(i,(a,l,c,d)=>{const f=s?.(a,l,c,d);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(Pk)),Pk}var dV;function kwe(){return dV||(dV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ewe();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Dk)),Dk}var Rk={},Lk={},fV;function sW(){return fV||(fV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Lk)),Lk}var Vk={},hV;function _we(){return hV||(hV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nW();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Vk)),Vk}var pV;function Awe(){return pV||(pV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q7(),n=sW(),r=_we(),i=$O();function s(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&a?.[l]==null?c=i.toPath(l):c=[l],c.length===0)return!1;let d=a;for(let f=0;f<c.length;f++){const p=c[f];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}t.has=s})(Rk)),Rk}var mV;function Cwe(){return mV||(mV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GO(),n=W7(),r=kwe(),i=HO(),s=Awe();function a(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(d){const f=i.get(d,l);return f===void 0?s.has(d,l):c===void 0?f===void 0:e.isMatch(f,c)}}t.matchesProperty=a})(Ik)),Ik}var gV;function Nwe(){return gV||(gV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J7(),n=vwe(),r=Twe(),i=Cwe();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(bk)),bk}var yV;function Owe(){return yV||(yV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pwe(),n=J7(),r=ywe(),i=Nwe();function s(a,l=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(l)):[]}t.uniqBy=s})(fk)),fk}var Bk,vV;function Mwe(){return vV||(vV=1,Bk=Owe().uniqBy),Bk}var jwe=Mwe();const bV=eo(jwe);function Iwe(t,e,n){return e===!0?bV(t,n):typeof e=="function"?bV(t,e):t}var KO=_.createContext(null),Dwe=t=>t,ur=()=>{var t=_.useContext(KO);return t?t.store.dispatch:Dwe},ab=()=>{},Pwe=()=>ab,Rwe=(t,e)=>t===e;function Ve(t){var e=_.useContext(KO);return Xq.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Pwe,e?e.store.getState:ab,e?e.store.getState:ab,e?t:ab,Rwe)}function Lwe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Vwe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Bwe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var xV=t=>Array.isArray(t)?t:[t];function zwe(t){const e=Array.isArray(t[0])?t[0]:t;return Bwe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Uwe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Fwe=class{constructor(t){this.value=t}deref(){return this.value}},$we=typeof WeakRef<"u"?WeakRef:Fwe,Hwe=0,wV=1;function kv(){return{s:Hwe,v:void 0,o:null,p:null}}function aW(t,e={}){let n=kv();const{resultEqualityCheck:r}=e;let i,s=0;function a(){let l=n;const{length:c}=arguments;for(let p=0,g=c;p<g;p++){const v=arguments[p];if(typeof v=="function"||typeof v=="object"&&v!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const E=b.get(v);E===void 0?(l=kv(),b.set(v,l)):l=E}else{let b=l.p;b===null&&(l.p=b=new Map);const E=b.get(v);E===void 0?(l=kv(),b.set(v,l)):l=E}}const d=l;let f;if(l.s===wV)f=l.v;else if(f=t.apply(null,arguments),s++,r){const p=i?.deref?.()??i;p!=null&&r(p,f)&&(f=p,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new $we(f):f}return d.s=wV,d.v=f,f}return a.clearCache=()=>{n=kv(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function qwe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,l,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),Lwe(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...c},{memoize:p,memoizeOptions:g=[],argsMemoize:v=aW,argsMemoizeOptions:b=[]}=f,E=xV(g),S=xV(b),k=zwe(i),C=p(function(){return s++,d.apply(null,arguments)},...E),O=v(function(){a++;const P=Uwe(k,arguments);return l=C.apply(null,P),l},...S);return Object.assign(O,{resultFunc:d,memoizedResultFunc:C,dependencies:k,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var se=qwe(aW),Wwe=Object.assign((t,e=se)=>{Vwe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,l,c)=>(a[n[c]]=l,a),{}))},{withTypes:()=>Wwe}),zk={},Uk={},Fk={},SV;function Gwe(){return SV||(SV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),l=e(i);if(a===l&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};t.compareValues=n})(Fk)),Fk}var $k={},Hk={},TV;function oW(){return TV||(TV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Hk)),Hk}var EV;function Kwe(){return EV||(EV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oW(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})($k)),$k}var kV;function Ywe(){return kV||(kV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gwe(),n=Kwe(),r=$O();function i(s,a,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const d=(v,b)=>{let E=v;for(let S=0;S<b.length&&E!=null;++S)E=E[b[S]];return E},f=(v,b)=>b==null||v==null?b:typeof v=="object"&&"key"in v?Object.hasOwn(b,v.key)?b[v.key]:d(b,v.path):typeof v=="function"?v(b):Array.isArray(v)?d(b,v):typeof b=="object"?b[v]:b,p=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return s.map(v=>({original:v,criteria:p.map(b=>f(b,v))})).slice().sort((v,b)=>{for(let E=0;E<p.length;E++){const S=e.compareValues(v.criteria[E],b.criteria[E],l[E]);if(S!==0)return S}return 0}).map(v=>v.original)}t.orderBy=i})(Uk)),Uk}var qk={},_V;function Xwe(){return _V||(_V=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(l,c)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&c<s?a(f,c+1):i.push(f)}};return a(n,0),i}t.flatten=e})(qk)),qk}var Wk={},AV;function lW(){return AV||(AV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sW(),n=WO(),r=Z7(),i=tW();function s(a,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],a):!1}t.isIterateeCall=s})(Wk)),Wk}var CV;function Qwe(){return CV||(CV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ywe(),n=Xwe(),r=lW();function i(s,...a){const l=a.length;return l>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(zk)),zk}var Gk,NV;function Jwe(){return NV||(NV=1,Gk=Qwe().sortBy),Gk}var Zwe=Jwe();const g1=eo(Zwe);var cW=t=>t.legend.settings,e1e=t=>t.legend.size,t1e=t=>t.legend.payload;se([t1e,cW],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?g1(r,n):r});var _v=1;function n1e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>_v||Math.abs(a.left-e.left)>_v||Math.abs(a.top-e.top)>_v||Math.abs(a.width-e.width)>_v)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function vr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var r1e=typeof Symbol=="function"&&Symbol.observable||"@@observable",OV=r1e,Kk=()=>Math.random().toString(36).substring(7).split("").join("."),i1e={INIT:`@@redux/INIT${Kk()}`,REPLACE:`@@redux/REPLACE${Kk()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Kk()}`},Dx=i1e;function YO(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function uW(t,e,n){if(typeof t!="function")throw new Error(vr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(vr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(vr(1));return n(uW)(t,e)}let r=t,i=e,s=new Map,a=s,l=0,c=!1;function d(){a===s&&(a=new Map,s.forEach((S,k)=>{a.set(k,S)}))}function f(){if(c)throw new Error(vr(3));return i}function p(S){if(typeof S!="function")throw new Error(vr(4));if(c)throw new Error(vr(5));let k=!0;d();const C=l++;return a.set(C,S),function(){if(k){if(c)throw new Error(vr(6));k=!1,d(),a.delete(C),s=null}}}function g(S){if(!YO(S))throw new Error(vr(7));if(typeof S.type>"u")throw new Error(vr(8));if(typeof S.type!="string")throw new Error(vr(17));if(c)throw new Error(vr(9));try{c=!0,i=r(i,S)}finally{c=!1}return(s=a).forEach(C=>{C()}),S}function v(S){if(typeof S!="function")throw new Error(vr(10));r=S,g({type:Dx.REPLACE})}function b(){const S=p;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(vr(11));function C(){const z=k;z.next&&z.next(f())}return C(),{unsubscribe:S(C)}},[OV](){return this}}}return g({type:Dx.INIT}),{dispatch:g,subscribe:p,getState:f,replaceReducer:v,[OV]:b}}function s1e(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Dx.INIT})>"u")throw new Error(vr(12));if(typeof n(void 0,{type:Dx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(vr(13))})}function dW(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{s1e(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const d={};for(let f=0;f<r.length;f++){const p=r[f],g=n[p],v=a[p],b=g(v,l);if(typeof b>"u")throw l&&l.type,new Error(vr(14));d[p]=b,c=c||b!==v}return c=c||r.length!==Object.keys(a).length,c?d:a}}function Px(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function a1e(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(vr(15))};const a={getState:i.getState,dispatch:(c,...d)=>s(c,...d)},l=t.map(c=>c(a));return s=Px(...l)(i.dispatch),{...i,dispatch:s}}}function fW(t){return YO(t)&&"type"in t&&typeof t.type=="string"}var hW=Symbol.for("immer-nothing"),MV=Symbol.for("immer-draftable"),Wi=Symbol.for("immer-state");function Qs(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ch=Object.getPrototypeOf;function Ad(t){return!!t&&!!t[Wi]}function Yo(t){return t?pW(t)||Array.isArray(t)||!!t[MV]||!!t.constructor?.[MV]||y0(t)||v1(t):!1}var o1e=Object.prototype.constructor.toString();function pW(t){if(!t||typeof t!="object")return!1;const e=Ch(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===o1e}function Rx(t,e){y1(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function y1(t){const e=t[Wi];return e?e.type_:Array.isArray(t)?1:y0(t)?2:v1(t)?3:0}function CC(t,e){return y1(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function mW(t,e,n){const r=y1(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function l1e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function y0(t){return t instanceof Map}function v1(t){return t instanceof Set}function Uu(t){return t.copy_||t.base_}function NC(t,e){if(y0(t))return new Map(t);if(v1(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=pW(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Wi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(Ch(t),r)}else{const r=Ch(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function XO(t,e=!1){return b1(t)||Ad(t)||!Yo(t)||(y1(t)>1&&Object.defineProperties(t,{set:{value:Av},add:{value:Av},clear:{value:Av},delete:{value:Av}}),Object.freeze(t),e&&Object.values(t).forEach(n=>XO(n,!0))),t}function Av(){Qs(2)}function b1(t){return Object.isFrozen(t)}var c1e={};function Cd(t){const e=c1e[t];return e||Qs(0,t),e}var Og;function gW(){return Og}function u1e(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jV(t,e){e&&(Cd("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function OC(t){MC(t),t.drafts_.forEach(d1e),t.drafts_=null}function MC(t){t===Og&&(Og=t.parent_)}function IV(t){return Og=u1e(Og,t)}function d1e(t){const e=t[Wi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function DV(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Wi].modified_&&(OC(e),Qs(4)),Yo(t)&&(t=Lx(e,t),e.parent_||Vx(e,t)),e.patches_&&Cd("Patches").generateReplacementPatches_(n[Wi].base_,t,e.patches_,e.inversePatches_)):t=Lx(e,n,[]),OC(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==hW?t:void 0}function Lx(t,e,n){if(b1(e))return e;const r=e[Wi];if(!r)return Rx(e,(i,s)=>PV(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Vx(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),Rx(s,(l,c)=>PV(t,r,i,l,c,n,a)),Vx(t,i,!1),n&&t.patches_&&Cd("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function PV(t,e,n,r,i,s,a){if(Ad(i)){const l=s&&e&&e.type_!==3&&!CC(e.assigned_,r)?s.concat(r):void 0,c=Lx(t,i,l);if(mW(n,r,c),Ad(c))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Yo(i)&&!b1(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Lx(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(y0(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Vx(t,i)}}function Vx(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&XO(e,n)}function f1e(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:gW(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=QO;n&&(i=[r],s=Mg);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,l}var QO={get(t,e){if(e===Wi)return t;const n=Uu(t);if(!CC(n,e))return h1e(t,n,e);const r=n[e];return t.finalized_||!Yo(r)?r:r===Yk(t.base_,e)?(Xk(t),t.copy_[e]=IC(r,t)):r},has(t,e){return e in Uu(t)},ownKeys(t){return Reflect.ownKeys(Uu(t))},set(t,e,n){const r=yW(Uu(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Yk(Uu(t),e),s=i?.[Wi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(l1e(n,i)&&(n!==void 0||CC(t.base_,e)))return!0;Xk(t),jC(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Yk(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Xk(t),jC(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Uu(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Qs(11)},getPrototypeOf(t){return Ch(t.base_)},setPrototypeOf(){Qs(12)}},Mg={};Rx(QO,(t,e)=>{Mg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Mg.deleteProperty=function(t,e){return Mg.set.call(this,t,e,void 0)};Mg.set=function(t,e,n){return QO.set.call(this,t[0],e,n,t[0])};function Yk(t,e){const n=t[Wi];return(n?Uu(n):t)[e]}function h1e(t,e,n){const r=yW(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function yW(t,e){if(!(e in t))return;let n=Ch(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ch(n)}}function jC(t){t.modified_||(t.modified_=!0,t.parent_&&jC(t.parent_))}function Xk(t){t.copy_||(t.copy_=NC(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var p1e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(c=s,...d){return a.produce(c,f=>n.call(this,f,...d))}}typeof n!="function"&&Qs(6),r!==void 0&&typeof r!="function"&&Qs(7);let i;if(Yo(e)){const s=IV(this),a=IC(e,void 0);let l=!0;try{i=n(a),l=!1}finally{l?OC(s):MC(s)}return jV(s,r),DV(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===hW&&(i=void 0),this.autoFreeze_&&XO(i,!0),r){const s=[],a=[];Cd("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else Qs(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,c=>e(c,...l));let r,i;return[this.produce(e,n,(a,l)=>{r=a,i=l}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Yo(t)||Qs(8),Ad(t)&&(t=na(t));const e=IV(this),n=IC(t,void 0);return n[Wi].isManual_=!0,MC(e),n}finishDraft(t,e){const n=t&&t[Wi];(!n||!n.isManual_)&&Qs(9);const{scope_:r}=n;return jV(r,e),DV(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Cd("Patches").applyPatches_;return Ad(t)?r(t,e):this.produce(t,i=>r(i,e))}};function IC(t,e){const n=y0(t)?Cd("MapSet").proxyMap_(t,e):v1(t)?Cd("MapSet").proxySet_(t,e):f1e(t,e);return(e?e.scope_:gW()).drafts_.push(n),n}function na(t){return Ad(t)||Qs(10,t),vW(t)}function vW(t){if(!Yo(t)||b1(t))return t;const e=t[Wi];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=NC(t,e.scope_.immer_.useStrictShallowCopy_)}else n=NC(t,!0);return Rx(n,(r,i)=>{mW(n,r,vW(i))}),e&&(e.finalized_=!1),n}var m1e=new p1e,bW=m1e.produce;function xW(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var g1e=xW(),y1e=xW,v1e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Px:Px.apply(null,arguments)};function Os(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(qi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>fW(r)&&r.type===t,n}var wW=class Am extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Am.prototype)}static get[Symbol.species](){return Am}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Am(...e[0].concat(this)):new Am(...e.concat(this))}};function RV(t){return Yo(t)?bW(t,()=>{}):t}function Cv(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function b1e(t){return typeof t=="boolean"}var x1e=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new wW;return n&&(b1e(n)?a.push(g1e):a.push(y1e(n.extraArgument))),a},SW="RTK_autoBatch",Qt=()=>t=>({payload:t,meta:{[SW]:!0}}),LV=t=>e=>{setTimeout(e,t)},TW=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:LV(10):t.type==="callback"?t.queueNotification:LV(t.timeout),d=()=>{a=!1,s&&(s=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>i&&f(),g=r.subscribe(p);return l.add(f),()=>{g(),l.delete(f)}},dispatch(f){try{return i=!f?.meta?.[SW],s=!i,s&&(a||(a=!0,c(d))),r.dispatch(f)}finally{i=!0}}})},w1e=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new wW(t);return r&&i.push(TW(typeof r=="object"?r:void 0)),i};function S1e(t){const e=x1e(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(YO(n))l=dW(n);else throw new Error(qi(1));let c;typeof r=="function"?c=r(e):c=e();let d=Px;i&&(d=v1e({trace:!1,...typeof i=="object"&&i}));const f=a1e(...c),p=w1e(f);let g=typeof a=="function"?a(p):p();const v=d(...g);return uW(l,s,v)}function EW(t){const e={},n=[];let r;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(qi(28));if(l in e)throw new Error(qi(29));return e[l]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function T1e(t){return typeof t=="function"}function E1e(t,e){let[n,r,i]=EW(e),s;if(T1e(t))s=()=>RV(t());else{const l=RV(t);s=()=>l}function a(l=s(),c){let d=[n[c.type],...r.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,p)=>{if(p)if(Ad(f)){const v=p(f,c);return v===void 0?f:v}else{if(Yo(f))return bW(f,g=>p(g,c));{const g=p(f,c);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},l)}return a.getInitialState=s,a}var k1e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",_1e=(t=21)=>{let e="",n=t;for(;n--;)e+=k1e[Math.random()*64|0];return e},A1e=Symbol.for("rtk-slice-createasyncthunk");function C1e(t,e){return`${t}/${e}`}function N1e({creators:t}={}){const e=t?.asyncThunk?.[A1e];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(qi(11));const a=(typeof r.reducers=="function"?r.reducers(M1e()):r.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(O,z){const P=typeof O=="string"?O:O.type;if(!P)throw new Error(qi(12));if(P in c.sliceCaseReducersByType)throw new Error(qi(13));return c.sliceCaseReducersByType[P]=z,d},addMatcher(O,z){return c.sliceMatchers.push({matcher:O,reducer:z}),d},exposeAction(O,z){return c.actionCreators[O]=z,d},exposeCaseReducer(O,z){return c.sliceCaseReducersByName[O]=z,d}};l.forEach(O=>{const z=a[O],P={reducerName:O,type:C1e(i,O),createNotation:typeof r.reducers=="function"};I1e(z)?P1e(P,z,d,e):j1e(P,z,d)});function f(){const[O={},z=[],P=void 0]=typeof r.extraReducers=="function"?EW(r.extraReducers):[r.extraReducers],U={...O,...c.sliceCaseReducersByType};return E1e(r.initialState,I=>{for(let j in U)I.addCase(j,U[j]);for(let j of c.sliceMatchers)I.addMatcher(j.matcher,j.reducer);for(let j of z)I.addMatcher(j.matcher,j.reducer);P&&I.addDefaultCase(P)})}const p=O=>O,g=new Map,v=new WeakMap;let b;function E(O,z){return b||(b=f()),b(O,z)}function S(){return b||(b=f()),b.getInitialState()}function k(O,z=!1){function P(I){let j=I[O];return typeof j>"u"&&z&&(j=Cv(v,P,S)),j}function U(I=p){const j=Cv(g,z,()=>new WeakMap);return Cv(j,I,()=>{const M={};for(const[R,V]of Object.entries(r.selectors??{}))M[R]=O1e(V,I,()=>Cv(v,I,S),z);return M})}return{reducerPath:O,getSelectors:U,get selectors(){return U(P)},selectSlice:P}}const C={name:i,reducer:E,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:S,...k(s),injectInto(O,{reducerPath:z,...P}={}){const U=z??s;return O.inject({reducerPath:U,reducer:E},P),{...C,...k(U,!0)}}};return C}}function O1e(t,e,n,r){function i(s,...a){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...a)}return i.unwrapped=t,i}var ki=N1e();function M1e(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function j1e({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!D1e(r))throw new Error(qi(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Os(t,a):Os(t))}function I1e(t){return t._reducerDefinitionType==="asyncThunk"}function D1e(t){return t._reducerDefinitionType==="reducerWithPrepare"}function P1e({type:t,reducerName:e},n,r,i){if(!i)throw new Error(qi(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:d,options:f}=n,p=i(t,s,f);r.exposeAction(e,p),a&&r.addCase(p.fulfilled,a),l&&r.addCase(p.pending,l),c&&r.addCase(p.rejected,c),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(e,{fulfilled:a||Nv,pending:l||Nv,rejected:c||Nv,settled:d||Nv})}function Nv(){}var R1e="task",kW="listener",_W="completed",JO="cancelled",L1e=`task-${JO}`,V1e=`task-${_W}`,DC=`${kW}-${JO}`,B1e=`${kW}-${_W}`,x1=class{constructor(t){this.code=t,this.message=`${R1e} ${JO} (reason: ${t})`}name="TaskAbortError";message},ZO=(t,e)=>{if(typeof t!="function")throw new TypeError(qi(32))},Bx=()=>{},AW=(t,e=Bx)=>(t.catch(e),t),CW=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),dd=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},fd=t=>{if(t.aborted){const{reason:e}=t;throw new x1(e)}};function NW(t,e){let n=Bx;return new Promise((r,i)=>{const s=()=>i(new x1(t.reason));if(t.aborted){s();return}n=CW(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Bx})}var z1e=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof x1?"cancelled":"rejected",error:n}}finally{e?.()}},zx=t=>e=>AW(NW(t,e).then(n=>(fd(t),n))),OW=t=>{const e=zx(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:ch}=Object,VV={},w1="listenerMiddleware",U1e=(t,e)=>{const n=r=>CW(t,()=>dd(r,t.reason));return(r,i)=>{ZO(r);const s=new AbortController;n(s);const a=z1e(async()=>{fd(t),fd(s.signal);const l=await r({pause:zx(s.signal),delay:OW(s.signal),signal:s.signal});return fd(s.signal),l},()=>dd(s,V1e));return i?.autoJoin&&e.push(a.catch(Bx)),{result:zx(t)(a),cancel(){dd(s,L1e)}}}},F1e=(t,e)=>{const n=async(r,i)=>{fd(e);let s=()=>{};const l=[new Promise((c,d)=>{let f=t({predicate:r,effect:(p,g)=>{g.unsubscribe(),c([p,g.getState(),g.getOriginalState()])}});s=()=>{f(),d()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await NW(e,Promise.race(l));return fd(e),c}finally{s()}};return(r,i)=>AW(n(r,i))},MW=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Os(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(qi(21));return ZO(s),{predicate:i,type:e,effect:s}},jW=ch(t=>{const{type:e,predicate:n,effect:r}=MW(t);return{id:_1e(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(qi(22))}}},{withTypes:()=>jW}),BV=(t,e)=>{const{type:n,effect:r,predicate:i}=MW(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},PC=t=>{t.pending.forEach(e=>{dd(e,DC)})},$1e=t=>()=>{t.forEach(PC),t.clear()},zV=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},IW=ch(Os(`${w1}/add`),{withTypes:()=>IW}),H1e=Os(`${w1}/removeAll`),DW=ch(Os(`${w1}/remove`),{withTypes:()=>DW}),q1e=(...t)=>{console.error(`${w1}/error`,...t)},v0=(t={})=>{const e=new Map,{extra:n,onError:r=q1e}=t;ZO(r);const i=f=>(f.unsubscribe=()=>e.delete(f.id),e.set(f.id,f),p=>{f.unsubscribe(),p?.cancelActive&&PC(f)}),s=f=>{const p=BV(e,f)??jW(f);return i(p)};ch(s,{withTypes:()=>s});const a=f=>{const p=BV(e,f);return p&&(p.unsubscribe(),f.cancelActive&&PC(p)),!!p};ch(a,{withTypes:()=>a});const l=async(f,p,g,v)=>{const b=new AbortController,E=F1e(s,b.signal),S=[];try{f.pending.add(b),await Promise.resolve(f.effect(p,ch({},g,{getOriginalState:v,condition:(k,C)=>E(k,C).then(Boolean),take:E,delay:OW(b.signal),pause:zx(b.signal),extra:n,signal:b.signal,fork:U1e(b.signal,S),unsubscribe:f.unsubscribe,subscribe:()=>{e.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((k,C,O)=>{k!==b&&(dd(k,DC),O.delete(k))})},cancel:()=>{dd(b,DC),f.pending.delete(b)},throwIfCancelled:()=>{fd(b.signal)}})))}catch(k){k instanceof x1||zV(r,k,{raisedBy:"effect"})}finally{await Promise.all(S),dd(b,B1e),f.pending.delete(b)}},c=$1e(e);return{middleware:f=>p=>g=>{if(!fW(g))return p(g);if(IW.match(g))return s(g.payload);if(H1e.match(g)){c();return}if(DW.match(g))return a(g.payload);let v=f.getState();const b=()=>{if(v===VV)throw new Error(qi(23));return v};let E;try{if(E=p(g),e.size>0){const S=f.getState(),k=Array.from(e.values());for(const C of k){let O=!1;try{O=C.predicate(g,S,v)}catch(z){O=!1,zV(r,z,{raisedBy:"predicate"})}O&&l(C,g,f,b)}}}finally{v=VV}return E},startListening:s,stopListening:a,clearListeners:c}};function qi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var W1e={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},PW=ki({name:"chartLayout",initialState:W1e,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:G1e,setLayout:K1e,setChartSize:Y1e,setScale:X1e}=PW.actions,Q1e=PW.reducer;function RW(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Fn(t){return Number.isFinite(t)}function Ja(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function UV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UV(Object(n),!0).forEach(function(r){J1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J1e(t,e,n){return(e=Z1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z1e(t){var e=eSe(t,"string");return typeof e=="symbol"?e:e+""}function eSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cr(t,e,n){return cr(t)||cr(e)?n:Qa(e)?m1(t,e,n):typeof e=="function"?e(t):n}var tSe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:l}=e;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&je(t[s]))return Zf(Zf({},t),{},{[s]:t[s]+(r||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&je(t[a]))return Zf(Zf({},t),{},{[a]:t[a]+(i||0)})}return t},Jc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",LW=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,s,a=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate));return i||a.push(e),s||a.push(n),a},VW=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:f,ticks:p,niceTicks:g,axisType:v}=t;if(!a)return null;var b=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,E=i==="category"&&a.bandwidth?a.bandwidth()/b:0;if(E=v==="angleAxis"&&s&&s.length>=2?xs(s[0]-s[1])*2*E:E,p||g){var S=(p||g||[]).map((k,C)=>{var O=r?r.indexOf(k):k;return{coordinate:a(O)+E,value:k,offset:E,index:C}});return S.filter(k=>!Xa(k.coordinate))}return c&&d?d.map((k,C)=>({coordinate:a(k)+E,value:k,index:C,offset:E})):a.ticks&&f!=null?a.ticks(f).map((k,C)=>({coordinate:a(k)+E,value:k,offset:E,index:C})):a.domain().map((k,C)=>({coordinate:a(k)+E,value:r?r[k]:k,index:C,offset:E}))},FV=1e-4,nSe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-FV,s=Math.max(r[0],r[1])+FV,a=t(e[0]),l=t(e[n-1]);(a<i||a>s||l<i||l>s)&&t.domain([e[0],e[n-1]])}},rSe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0,l=0;l<n;++l){var c=t[l],d=c?.[i];if(d!=null){var f=d[1],p=d[0],g=Xa(f)?p:f;g>=0?(d[0]=s,d[1]=s+g,s=f):(d[0]=a,d[1]=a+g,a=f)}}}},iSe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0;a<n;++a){var l=t[a],c=l?.[i];if(c!=null){var d=Xa(c[1])?c[0]:c[1];d>=0?(c[0]=s,c[1]=s+d,s=c[1]):(c[0]=0,c[1]=0)}}}},sSe={sign:rSe,expand:$xe,none:_d,silhouette:Hxe,wiggle:qxe,positive:iSe},aSe=(t,e,n)=>{var r,i=(r=sSe[n])!==null&&r!==void 0?r:_d,s=Fxe().keys(e).value((l,c)=>Number(Cr(l,c,0))).order(_C).offset(i),a=s(t);return a.forEach((l,c)=>{l.forEach((d,f)=>{var p=Cr(t[f],e[c],0);Array.isArray(p)&&p.length===2&&je(p[0])&&je(p[1])&&(d[0]=p[0],d[1]=p[1])})}),a};function $V(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!cr(i[e.dataKey])){var l=K7(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=Cr(i,cr(a)?e.dataKey:a);return cr(c)?null:e.scale(c)}var oSe=t=>{var e=t.flat(2).filter(je);return[Math.min(...e),Math.max(...e)]},lSe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],cSe=(t,e,n)=>{if(t!=null)return lSe(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:a}=s,l=a.reduce((c,d)=>{var f=RW(d,e,n),p=oSe(f);return!Fn(p[0])||!Fn(p[1])?c:[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},HV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ux=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=g1(e,f=>f.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var c=i[a],d=i[a-1];s=Math.min((c?.coordinate||0)-(d?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function WV(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Zf(Zf({},e),{},{dataKey:n,payload:r,value:i,name:s})}function BW(t,e){if(t)return String(t);if(typeof e=="string")return e}var uSe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},dSe=(t,e)=>e==="centric"?t.angle:t.radius,ol=t=>t.layout.width,ll=t=>t.layout.height,fSe=t=>t.layout.scale,zW=t=>t.layout.margin,S1=se(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),T1=se(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),hSe="data-recharts-item-index",pSe="data-recharts-item-id",b0=60;function GV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ov(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GV(Object(n),!0).forEach(function(r){mSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mSe(t,e,n){return(e=gSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gSe(t){var e=ySe(t,"string");return typeof e=="symbol"?e:e+""}function ySe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vSe=t=>t.brush.height;function bSe(t){var e=T1(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:b0;return n+i}return n},0)}function xSe(t){var e=T1(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:b0;return n+i}return n},0)}function wSe(t){var e=S1(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function SSe(t){var e=S1(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Or=se([ol,ll,zW,vSe,bSe,xSe,wSe,SSe,cW,e1e],(t,e,n,r,i,s,a,l,c,d)=>{var f={left:(n.left||0)+i,right:(n.right||0)+s},p={top:(n.top||0)+a,bottom:(n.bottom||0)+l},g=Ov(Ov({},p),f),v=g.bottom;g.bottom+=r,g=tSe(g,c,d);var b=t-g.left-g.right,E=e-g.top-g.bottom;return Ov(Ov({brushBottom:v},g),{},{width:Math.max(b,0),height:Math.max(E,0)})}),TSe=se(Or,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),UW=se(ol,ll,(t,e)=>({x:0,y:0,width:t,height:e})),ESe=_.createContext(null),_i=()=>_.useContext(ESe)!=null,E1=t=>t.brush,k1=se([E1,Or,zW],(t,e,n)=>({height:t.height,x:je(t.x)?t.x:e.left,y:je(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:je(t.width)?t.width:e.width})),Qk={},Jk={},Zk={},KV;function kSe(){return KV||(KV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let a,l=null;const c=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),f=()=>{l!==null&&(n.apply(a,l),a=void 0,l=null)},p=()=>{d&&f(),E()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},b=()=>{g!==null&&(clearTimeout(g),g=null)},E=()=>{b(),a=void 0,l=null},S=()=>{f()},k=function(...C){if(i?.aborted)return;a=this,l=C;const O=g==null;v(),c&&O&&f()};return k.schedule=v,k.cancel=E,k.flush=S,i?.addEventListener("abort",E,{once:!0}),k}t.debounce=e})(Zk)),Zk}var YV;function _Se(){return YV||(YV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kSe();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:c}=s,d=Array(2);a&&(d[0]="leading"),l&&(d[1]="trailing");let f,p=null;const g=e.debounce(function(...E){f=r.apply(this,E),p=null},i,{edges:d}),v=function(...E){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(f=r.apply(this,E),p=Date.now(),g.cancel(),g.schedule(),f):(g.apply(this,E),f)},b=()=>(g.flush(),f);return v.cancel=g.cancel,v.flush=b,v}t.debounce=n})(Jk)),Jk}var XV;function ASe(){return XV||(XV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_Se();function n(r,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:l})}t.throttle=n})(Qk)),Qk}var e_,QV;function CSe(){return QV||(QV=1,e_=ASe().throttle),e_}var NSe=CSe();const OSe=eo(NSe);var Fx=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},FW=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:a}=n,l=Ko(r)?t:Number(r),c=Ko(i)?e:Number(i);return s&&s>0&&(l?c=l/s:c&&(l=c*s),a&&c!=null&&c>a&&(c=a)),{calculatedWidth:l,calculatedHeight:c}},MSe={width:0,height:0,overflow:"visible"},jSe={width:0,overflowX:"visible"},ISe={height:0,overflowY:"visible"},DSe={},PSe=t=>{var{width:e,height:n}=t,r=Ko(e),i=Ko(n);return r&&i?MSe:r?jSe:i?ISe:DSe};function RSe(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function RC(){return RC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RC.apply(null,arguments)}function JV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JV(Object(n),!0).forEach(function(r){LSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LSe(t,e,n){return(e=VSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VSe(t){var e=BSe(t,"string");return typeof e=="symbol"?e:e+""}function BSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $W=_.createContext({width:-1,height:-1});function zSe(t){return Ja(t.width)&&Ja(t.height)}function HW(t){var{children:e,width:n,height:r}=t,i=_.useMemo(()=>({width:n,height:r}),[n,r]);return zSe(i)?_.createElement($W.Provider,{value:i},e):null}var eM=()=>_.useContext($W),USe=_.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:l,maxHeight:c,children:d,debounce:f=0,id:p,className:g,onResize:v,style:b={}}=t,E=_.useRef(null),S=_.useRef();S.current=v,_.useImperativeHandle(e,()=>E.current);var[k,C]=_.useState({containerWidth:r.width,containerHeight:r.height}),O=_.useCallback((j,M)=>{C(R=>{var V=Math.round(j),L=Math.round(M);return R.containerWidth===V&&R.containerHeight===L?R:{containerWidth:V,containerHeight:L}})},[]);_.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return g0;var j=L=>{var B,{width:X,height:ae}=L[0].contentRect;O(X,ae),(B=S.current)===null||B===void 0||B.call(S,X,ae)};f>0&&(j=OSe(j,f,{trailing:!0,leading:!1}));var M=new ResizeObserver(j),{width:R,height:V}=E.current.getBoundingClientRect();return O(R,V),M.observe(E.current),()=>{M.disconnect()}},[O,f]);var{containerWidth:z,containerHeight:P}=k;Fx(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:U,calculatedHeight:I}=FW(z,P,{width:i,height:s,aspect:n,maxHeight:c});return Fx(U!=null&&U>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,I,i,s,a,l,n),_.createElement("div",{id:p?"".concat(p):void 0,className:yt("recharts-responsive-container",g),style:ZV(ZV({},b),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:c}),ref:E},_.createElement("div",{style:PSe({width:i,height:s})},_.createElement(HW,{width:U,height:I},d)))}),FSe=_.forwardRef((t,e)=>{var n=eM();if(Ja(n.width)&&Ja(n.height))return t.children;var{width:r,height:i}=RSe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=FW(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return je(s)&&je(a)?_.createElement(HW,{width:s,height:a},t.children):_.createElement(USe,RC({},t,{width:r,height:i,ref:e}))});function qW(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var _1=()=>{var t,e=_i(),n=Ve(TSe),r=Ve(k1),i=(t=Ve(E1))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},$Se={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},WW=()=>{var t;return(t=Ve(Or))!==null&&t!==void 0?t:$Se},GW=()=>Ve(ol),KW=()=>Ve(ll),Gt=t=>t.layout.layoutType,x0=()=>Ve(Gt),HSe=()=>{var t=x0();return t!==void 0},A1=t=>{var e=ur(),n=_i(),{width:r,height:i}=t,s=eM(),a=r,l=i;return s&&(a=s.width>0?s.width:r,l=s.height>0?s.height:i),_.useEffect(()=>{!n&&Ja(a)&&Ja(l)&&e(Y1e({width:a,height:l}))},[e,n,a,l]),null},qSe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},YW=ki({name:"legend",initialState:qSe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Qt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=na(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Qt()},removeLegendPayload:{reducer(t,e){var n=na(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Qt()}}}),{setLegendSize:rPe,setLegendSettings:iPe,addLegendPayload:WSe,replaceLegendPayload:GSe,removeLegendPayload:KSe}=YW.actions,YSe=YW.reducer;function LC(){return LC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LC.apply(null,arguments)}function e6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e6(Object(n),!0).forEach(function(r){XSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XSe(t,e,n){return(e=QSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QSe(t){var e=JSe(t,"string");return typeof e=="symbol"?e:e+""}function JSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZSe(t){return Array.isArray(t)&&Qa(t[0])&&Qa(t[1])?t.join(" ~ "):t}var eTe=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:d,label:f,labelFormatter:p,accessibilityLayer:g=!1}=t,v=()=>{if(s&&s.length){var P={padding:0,margin:0},U=(l?g1(s,l):s).map((I,j)=>{if(I.type==="none")return null;var M=I.formatter||a||ZSe,{value:R,name:V}=I,L=R,B=V;if(M){var X=M(R,V,I,j,s);if(Array.isArray(X))[L,B]=X;else if(X!=null)L=X;else return null}var ae=t_({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:ae},Qa(B)?_.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Qa(B)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},L),_.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:P},U)}return null},b=t_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=t_({margin:0},i),S=!cr(f),k=S?f:"",C=yt("recharts-default-tooltip",c),O=yt("recharts-tooltip-label",d);S&&p&&s!==void 0&&s!==null&&(k=p(f,s));var z=g?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",LC({className:C,style:b},z),_.createElement("p",{className:O,style:E},_.isValidElement(k)?k:"".concat(k)),v())},am="recharts-tooltip-wrapper",tTe={visibility:"hidden"};function nTe(t){var{coordinate:e,translateX:n,translateY:r}=t;return yt(am,{["".concat(am,"-right")]:je(n)&&e&&je(e.x)&&n>=e.x,["".concat(am,"-left")]:je(n)&&e&&je(e.x)&&n<e.x,["".concat(am,"-bottom")]:je(r)&&e&&je(e.y)&&r>=e.y,["".concat(am,"-top")]:je(r)&&e&&je(e.y)&&r<e.y})}function t6(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=t;if(s&&je(s[r]))return s[r];var f=n[r]-l-(i>0?i:0),p=n[r]+i;if(e[r])return a[r]?f:p;var g=c[r];if(g==null)return 0;if(a[r]){var v=f,b=g;return v<b?Math.max(p,g):Math.max(f,g)}if(d==null)return 0;var E=p+l,S=g+d;return E>S?Math.max(f,g):Math.max(p,g)}function rTe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function iTe(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:c}=t,d,f,p;return a.height>0&&a.width>0&&n?(f=t6({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),p=t6({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),d=rTe({translateX:f,translateY:p,useTranslate3d:l})):d=tTe,{cssProperties:d,cssClasses:nTe({translateX:f,translateY:p,coordinate:n})}}function n6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n6(Object(n),!0).forEach(function(r){VC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VC(t,e,n){return(e=sTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sTe(t){var e=aTe(t,"string");return typeof e=="symbol"?e:e+""}function aTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class oTe extends _.PureComponent{constructor(){super(...arguments),VC(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),VC(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:c,offset:d,position:f,reverseDirection:p,useTranslate3d:g,viewBox:v,wrapperStyle:b,lastBoundingBox:E,innerRef:S,hasPortalFromProps:k}=this.props,{cssClasses:C,cssProperties:O}=iTe({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:d,position:f,reverseDirection:p,tooltipBox:{height:E.height,width:E.width},useTranslate3d:g,viewBox:v}),z=k?{}:Mv(Mv({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),P=Mv(Mv({},z),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},b);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:P,ref:S},s)}}var XW=()=>{var t;return(t=Ve(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function BC(){return BC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BC.apply(null,arguments)}function r6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r6(Object(n),!0).forEach(function(r){lTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lTe(t,e,n){return(e=cTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cTe(t){var e=uTe(t,"string");return typeof e=="symbol"?e:e+""}function uTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s6={curveBasisClosed:Mxe,curveBasisOpen:jxe,curveBasis:Oxe,curveBumpX:gxe,curveBumpY:yxe,curveLinearClosed:Ixe,curveLinear:h1,curveMonotoneX:Dxe,curveMonotoneY:Pxe,curveNatural:Rxe,curveStep:Lxe,curveStepAfter:Bxe,curveStepBefore:Vxe},$x=t=>Fn(t.x)&&Fn(t.y),a6=t=>t.base!=null&&$x(t.base)&&$x(t),om=t=>t.x,lm=t=>t.y,dTe=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(m0(t));return(n==="curveMonotone"||n==="curveBump")&&e?s6["".concat(n).concat(e==="vertical"?"Y":"X")]:s6[n]||h1},fTe=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,a=dTe(e,i),l=s?n.filter($x):n,c;if(Array.isArray(r)){var d=n.map((v,b)=>i6(i6({},v),{},{base:r[b]}));i==="vertical"?c=Ev().y(lm).x1(om).x0(v=>v.base.x):c=Ev().x(om).y1(lm).y0(v=>v.base.y);var f=c.defined(a6).curve(a),p=s?d.filter(a6):d;return f(p)}i==="vertical"&&je(r)?c=Ev().y(lm).x1(om).x0(r):je(r)?c=Ev().x(om).y1(lm).y0(r):c=D7().x(om).y(lm);var g=c.defined($x).curve(a);return g(l)},QW=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=x0();if((!n||!n.length)&&!r)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},l=n&&n.length?fTe(a):r;return _.createElement("path",BC({},Ya(t),qO(t),{className:yt("recharts-curve",e),d:l===null?void 0:l,ref:i}))},hTe=["x","y","top","left","width","height","className"];function zC(){return zC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zC.apply(null,arguments)}function o6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pTe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o6(Object(n),!0).forEach(function(r){mTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mTe(t,e,n){return(e=gTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gTe(t){var e=yTe(t,"string");return typeof e=="symbol"?e:e+""}function yTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vTe(t,e){if(t==null)return{};var n,r,i=bTe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xTe=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),wTe=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:l}=t,c=vTe(t,hTe),d=pTe({x:e,y:n,top:r,left:i,width:s,height:a},c);return!je(e)||!je(n)||!je(s)||!je(a)||!je(r)||!je(i)?null:_.createElement("path",zC({},ii(d),{className:yt("recharts-cross",l),d:xTe(e,n,s,a,r,i)}))};function STe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function l6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l6(Object(n),!0).forEach(function(r){TTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TTe(t,e,n){return(e=ETe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ETe(t){var e=kTe(t,"string");return typeof e=="symbol"?e:e+""}function kTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Te=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),JW=(t,e,n)=>t.map(r=>"".concat(_Te(r)," ").concat(e,"ms ").concat(n)).join(","),ATe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),jg=(t,e)=>Object.keys(e).reduce((n,r)=>c6(c6({},n),{},{[r]:t(r,e[r])}),{});function u6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(n),!0).forEach(function(r){CTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CTe(t,e,n){return(e=NTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NTe(t){var e=OTe(t,"string");return typeof e=="symbol"?e:e+""}function OTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hx=(t,e,n)=>t+(e-t)*n,UC=t=>{var{from:e,to:n}=t;return e!==n},ZW=(t,e,n)=>{var r=jg((i,s)=>{if(UC(s)){var[a,l]=t(s.from,s.to,s.velocity);return qn(qn({},s),{},{from:a,velocity:l})}return s},e);return n<1?jg((i,s)=>UC(s)&&r[i]!=null?qn(qn({},s),{},{velocity:Hx(s.velocity,r[i].velocity,n),from:Hx(s.from,r[i].from,n)}):s,e):ZW(t,r,n-1)};function MTe(t,e,n,r,i,s){var a,l=r.reduce((g,v)=>qn(qn({},g),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),c=()=>jg((g,v)=>v.from,l),d=()=>!Object.values(l).filter(UC).length,f=null,p=g=>{a||(a=g);var v=g-a,b=v/n.dt;l=ZW(n,l,b),i(qn(qn(qn({},t),e),c())),a=g,d()||(f=s.setTimeout(p))};return()=>(f=s.setTimeout(p),()=>{var g;(g=f)===null||g===void 0||g()})}function jTe(t,e,n,r,i,s,a){var l=null,c=i.reduce((p,g)=>{var v=t[g],b=e[g];return v==null||b==null?p:qn(qn({},p),{},{[g]:[v,b]})},{}),d,f=p=>{d||(d=p);var g=(p-d)/r,v=jg((E,S)=>Hx(...S,n(g)),c);if(s(qn(qn(qn({},t),e),v)),g<1)l=a.setTimeout(f);else{var b=jg((E,S)=>Hx(...S,n(1)),c);s(qn(qn(qn({},t),e),b))}};return()=>(l=a.setTimeout(f),()=>{var p;(p=l)===null||p===void 0||p()})}const ITe=(t,e,n,r,i,s)=>{var a=ATe(t,e);return n==null?()=>(i(qn(qn({},t),e)),()=>{}):n.isStepper===!0?MTe(t,e,n,a,i,s):jTe(t,e,n,r,a,i,s)};var qx=1e-4,eG=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],tG=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),d6=(t,e)=>n=>{var r=eG(t,e);return tG(r,n)},DTe=(t,e)=>n=>{var r=eG(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return tG(i,n)},PTe=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},RTe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=PTe(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},LTe=(t,e,n,r)=>{var i=d6(t,n),s=d6(e,r),a=DTe(t,n),l=d=>d>1?1:d<0?0:d,c=d=>{for(var f=d>1?1:d,p=f,g=0;g<8;++g){var v=i(p)-f,b=a(p);if(Math.abs(v-f)<qx||b<qx)return s(p);p=l(p-v/b)}return s(p)};return c.isStepper=!1,c},f6=function(){return LTe(...RTe(...arguments))},VTe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,l,c)=>{var d=-(a-l)*n,f=c*r,p=c+(d-f)*i/1e3,g=c*i/1e3+a;return Math.abs(g-l)<qx&&Math.abs(p)<qx?[l,0]:[g,p]};return s.isStepper=!0,s.dt=i,s},BTe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return f6(t);case"spring":return VTe();default:if(t.split("(")[0]==="cubic-bezier")return f6(t)}return typeof t=="function"?t:null};function zTe(t){var e,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...d]=l;if(typeof c=="number"){i=t.setTimeout(s.bind(null,d),c);return}s(c),i=t.setTimeout(s.bind(null,d));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class UTe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function FTe(){return zTe(new UTe)}var $Te=_.createContext(FTe);function HTe(t,e){var n=_.useContext($Te);return _.useMemo(()=>e??n(t),[t,e,n])}var qTe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),C1={isSsr:qTe()},WTe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},h6={t:0},n_={t:1};function tM(t){var e=Ei(t,WTe),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c,children:d}=e,f=n==="auto"?!C1.isSsr:n,p=HTe(e.animationId,e.animationManager),[g,v]=_.useState(f?h6:n_),b=_.useRef(null);return _.useEffect(()=>{f||v(n_)},[f]),_.useEffect(()=>{if(!f||!r)return g0;var E=ITe(h6,n_,BTe(s),i,v,p.getTimeoutController()),S=()=>{b.current=E()};return p.start([c,a,S,i,l]),()=>{p.stop(),b.current&&b.current(),l()}},[f,r,i,s,a,c,l,p]),d(g.t)}function nM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(Ng(e)),r=_.useRef(t);return r.current!==t&&(n.current=Ng(e),r.current=t),n.current}var GTe=["radius"],KTe=["radius"],p6,m6,g6,y6,v6,b6,x6,w6,S6,T6;function E6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E6(Object(n),!0).forEach(function(r){YTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YTe(t,e,n){return(e=XTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XTe(t){var e=QTe(t,"string");return typeof e=="symbol"?e:e+""}function QTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wx(){return Wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wx.apply(null,arguments)}function _6(t,e){if(t==null)return{};var n,r,i=JTe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function JTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Oa(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var A6=(t,e,n,r,i)=>{var s=hc(n),a=hc(r),l=Math.min(Math.abs(s)/2,Math.abs(a)/2),c=a>=0?1:-1,d=s>=0?1:-1,f=a>=0&&s>=0||a<0&&s<0?1:0,p;if(l>0&&i instanceof Array){for(var g=[0,0,0,0],v=0,b=4;v<b;v++)g[v]=i[v]>l?l:i[v];p=mn(p6||(p6=Oa(["M",",",""])),t,e+c*g[0]),g[0]>0&&(p+=mn(m6||(m6=Oa(["A ",",",",0,0,",",",",",""])),g[0],g[0],f,t+d*g[0],e)),p+=mn(g6||(g6=Oa(["L ",",",""])),t+n-d*g[1],e),g[1]>0&&(p+=mn(y6||(y6=Oa(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],f,t+n,e+c*g[1])),p+=mn(v6||(v6=Oa(["L ",",",""])),t+n,e+r-c*g[2]),g[2]>0&&(p+=mn(b6||(b6=Oa(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],f,t+n-d*g[2],e+r)),p+=mn(x6||(x6=Oa(["L ",",",""])),t+d*g[3],e+r),g[3]>0&&(p+=mn(w6||(w6=Oa(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],f,t,e+r-c*g[3])),p+="Z"}else if(l>0&&i===+i&&i>0){var E=Math.min(l,i);p=mn(S6||(S6=Oa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+c*E,E,E,f,t+d*E,e,t+n-d*E,e,E,E,f,t+n,e+c*E,t+n,e+r-c*E,E,E,f,t+n-d*E,e+r,t+d*E,e+r,E,E,f,t,e+r-c*E)}else p=mn(T6||(T6=Oa(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return p},C6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nG=t=>{var e=Ei(t,C6),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Y=n.current.getTotalLength();Y&&i(Y)}catch{}},[]);var{x:s,y:a,width:l,height:c,radius:d,className:f}=e,{animationEasing:p,animationDuration:g,animationBegin:v,isAnimationActive:b,isUpdateAnimationActive:E}=e,S=_.useRef(l),k=_.useRef(c),C=_.useRef(s),O=_.useRef(a),z=_.useMemo(()=>({x:s,y:a,width:l,height:c,radius:d}),[s,a,l,c,d]),P=nM(z,"rectangle-");if(s!==+s||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var U=yt("recharts-rectangle",f);if(!E){var I=ii(e),{radius:j}=I,M=_6(I,GTe);return _.createElement("path",Wx({},M,{x:hc(s),y:hc(a),width:hc(l),height:hc(c),radius:typeof d=="number"?d:void 0,className:U,d:A6(s,a,l,c,d)}))}var R=S.current,V=k.current,L=C.current,B=O.current,X="0px ".concat(r===-1?1:r,"px"),ae="".concat(r,"px 0px"),W=JW(["strokeDasharray"],g,typeof p=="string"?p:C6.animationEasing);return _.createElement(tM,{animationId:P,key:P,canBegin:r>0,duration:g,easing:p,isActive:E,begin:v},Y=>{var le=xi(R,l,Y),he=xi(V,c,Y),Se=xi(L,s,Y),H=xi(B,a,Y);n.current&&(S.current=le,k.current=he,C.current=Se,O.current=H);var ne;b?Y>0?ne={transition:W,strokeDasharray:ae}:ne={strokeDasharray:X}:ne={strokeDasharray:ae};var ye=ii(e),{radius:be}=ye,ke=_6(ye,KTe);return _.createElement("path",Wx({},ke,{radius:typeof d=="number"?d:void 0,className:U,d:A6(Se,H,le,he,d),ref:n,style:k6(k6({},ne),e.style)}))})};function N6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N6(Object(n),!0).forEach(function(r){ZTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZTe(t,e,n){return(e=eEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eEe(t){var e=tEe(t,"string");return typeof e=="symbol"?e:e+""}function tEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gx=Math.PI/180,nEe=t=>t*180/Math.PI,Ar=(t,e,n,r)=>({x:t+Math.cos(-Gx*r)*n,y:e+Math.sin(-Gx*r)*n}),rEe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},iEe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},sEe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=iEe({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(n-i)/a,c=Math.acos(l);return r>s&&(c=2*Math.PI-c),{radius:a,angle:nEe(c),angleInRadian:c}},aEe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},oEe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},lEe=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=sEe({x:n,y:r},e),{innerRadius:a,outerRadius:l}=e;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:d}=aEe(e),f=s,p;if(c<=d){for(;f>d;)f-=360;for(;f<c;)f+=360;p=f>=c&&f<=d}else{for(;f>c;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=c}return p?O6(O6({},e),{},{radius:i,angle:oEe(f,e)}):null};function rG(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=Ar(e,n,r,i),l=Ar(e,n,r,s);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var M6,j6,I6,D6,P6,R6,L6;function FC(){return FC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FC.apply(null,arguments)}function Qu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var cEe=(t,e)=>{var n=xs(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},jv=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:c}=t,d=l*(a?1:-1)+r,f=Math.asin(l/d)/Gx,p=c?i:i+s*f,g=Ar(e,n,d,p),v=Ar(e,n,r,p),b=c?i-s*f:i,E=Ar(e,n,d*Math.cos(f*Gx),b);return{center:g,circleTangency:v,lineTangency:E,theta:f}},iG=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,l=cEe(s,a),c=s+l,d=Ar(e,n,i,s),f=Ar(e,n,i,c),p=mn(M6||(M6=Qu(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(l)>180),+(s>c),f.x,f.y);if(r>0){var g=Ar(e,n,r,s),v=Ar(e,n,r,c);p+=mn(j6||(j6=Qu(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,r,r,+(Math.abs(l)>180),+(s<=c),g.x,g.y)}else p+=mn(I6||(I6=Qu(["L ",","," Z"])),e,n);return p},uEe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:d}=t,f=xs(d-c),{circleTangency:p,lineTangency:g,theta:v}=jv({cx:e,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),{circleTangency:b,lineTangency:E,theta:S}=jv({cx:e,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),k=l?Math.abs(c-d):Math.abs(c-d)-v-S;if(k<0)return a?mn(D6||(D6=Qu(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,s,s,s*2,s,s,-s*2):iG({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var C=mn(P6||(P6=Qu(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,s,s,+(f<0),p.x,p.y,i,i,+(k>180),+(f<0),b.x,b.y,s,s,+(f<0),E.x,E.y);if(r>0){var{circleTangency:O,lineTangency:z,theta:P}=jv({cx:e,cy:n,radius:r,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:U,lineTangency:I,theta:j}=jv({cx:e,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),M=l?Math.abs(c-d):Math.abs(c-d)-P-j;if(M<0&&s===0)return"".concat(C,"L").concat(e,",").concat(n,"Z");C+=mn(R6||(R6=Qu(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),I.x,I.y,s,s,+(f<0),U.x,U.y,r,r,+(M>180),+(f>0),O.x,O.y,s,s,+(f<0),z.x,z.y)}else C+=mn(L6||(L6=Qu(["L",",","Z"])),e,n);return C},dEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sG=t=>{var e=Ei(t,dEe),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f,className:p}=e;if(s<i||d===f)return null;var g=yt("recharts-sector",p),v=s-i,b=Bc(a,v,0,!0),E;return b>0&&Math.abs(d-f)<360?E=uEe({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):E=iG({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),_.createElement("path",FC({},ii(e),{className:g,d:E}))};function fEe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(Q7(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:l}=e,c=Ar(r,i,s,l),d=Ar(r,i,a,l);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return rG(e)}}var r_={},i_={},s_={},V6;function hEe(){return V6||(V6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oW();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(s_)),s_}var B6;function pEe(){return B6||(B6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hEe();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(i_)),i_}var z6;function mEe(){return z6||(z6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lW(),n=pEe();function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=i,i+=a;return c}t.range=r})(r_)),r_}var a_,U6;function gEe(){return U6||(U6=1,a_=mEe().range),a_}var yEe=gEe();const aG=eo(yEe);function kc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vEe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rM(t){let e,n,r;t.length!==2?(e=kc,n=(l,c)=>kc(t(l),c),r=(l,c)=>t(l)-c):(e=t===kc||t===vEe?t:bEe,n=t,r=t);function i(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const p=d+f>>>1;n(l[p],c)<0?d=p+1:f=p}while(d<f)}return d}function s(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const p=d+f>>>1;n(l[p],c)<=0?d=p+1:f=p}while(d<f)}return d}function a(l,c,d=0,f=l.length){const p=i(l,c,d,f-1);return p>d&&r(l[p-1],c)>-r(l[p],c)?p-1:p}return{left:i,center:a,right:s}}function bEe(){return 0}function oG(t){return t===null?NaN:+t}function*xEe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const wEe=rM(kc),w0=wEe.right;rM(oG).center;class F6 extends Map{constructor(e,n=EEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get($6(this,e))}has(e){return super.has($6(this,e))}set(e,n){return super.set(SEe(this,e),n)}delete(e){return super.delete(TEe(this,e))}}function $6({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function SEe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function TEe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function EEe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function kEe(t=kc){if(t===kc)return lG;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function lG(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const _Ee=Math.sqrt(50),AEe=Math.sqrt(10),CEe=Math.sqrt(2);function Kx(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=_Ee?10:s>=AEe?5:s>=CEe?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/a,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*a,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=n&&n<2?Kx(t,e,n*2):[l,c,d]}function $C(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?Kx(e,t,n):Kx(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(a<0)for(let d=0;d<l;++d)c[d]=(s-d)/-a;else for(let d=0;d<l;++d)c[d]=(s-d)*a;else if(a<0)for(let d=0;d<l;++d)c[d]=(i+d)/-a;else for(let d=0;d<l;++d)c[d]=(i+d)*a;return c}function HC(t,e,n){return e=+e,t=+t,n=+n,Kx(t,e,n)[2]}function qC(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?HC(e,t,n):HC(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function H6(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function q6(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function cG(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?lG:kEe(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,f=Math.log(c),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(c-p)/c)*(d-c/2<0?-1:1),v=Math.max(n,Math.floor(e-d*p/c+g)),b=Math.min(r,Math.floor(e+(c-d)*p/c+g));cG(t,e,v,b,i)}const s=t[e];let a=n,l=r;for(cm(t,n,e),i(t[r],s)>0&&cm(t,n,r);a<l;){for(cm(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?cm(t,n,l):(++l,cm(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function cm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function NEe(t,e,n){if(t=Float64Array.from(xEe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return q6(t);if(e>=1)return H6(t);var r,i=(r-1)*e,s=Math.floor(i),a=H6(cG(t,s).subarray(0,s+1)),l=q6(t.subarray(s+1));return a+(l-a)*(i-s)}}function OEe(t,e,n=oG){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function MEe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ps(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function cl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const WC=Symbol("implicit");function iM(){var t=new F6,e=[],n=[],r=WC;function i(s){let a=t.get(s);if(a===void 0){if(r!==WC)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new F6;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return iM(e,n).unknown(r)},Ps.apply(i,arguments),i}function sM(){var t=iM().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,c=0,d=0,f=.5;delete t.unknown;function p(){var g=e().length,v=i<r,b=v?i:r,E=v?r:i;s=(E-b)/Math.max(1,g-c+d*2),l&&(s=Math.floor(s)),b+=(E-b-s*(g-c))*f,a=s*(1-c),l&&(b=Math.round(b),a=Math.round(a));var S=MEe(g).map(function(k){return b+s*k});return n(v?S.reverse():S)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(g){return arguments.length?(l=!!g,p()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,d=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(d=+g,p()):d},t.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),p()):f},t.copy=function(){return sM(e(),[r,i]).round(l).paddingInner(c).paddingOuter(d).align(f)},Ps.apply(p(),arguments)}function uG(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return uG(e())},t}function jEe(){return uG(sM.apply(null,arguments).paddingInner(1))}function aM(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function dG(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function S0(){}var Ig=.7,Yx=1/Ig,uh="\\s*([+-]?\\d+)\\s*",Dg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IEe=/^#([0-9a-f]{3,8})$/,DEe=new RegExp(`^rgb\\(${uh},${uh},${uh}\\)$`),PEe=new RegExp(`^rgb\\(${qa},${qa},${qa}\\)$`),REe=new RegExp(`^rgba\\(${uh},${uh},${uh},${Dg}\\)$`),LEe=new RegExp(`^rgba\\(${qa},${qa},${qa},${Dg}\\)$`),VEe=new RegExp(`^hsl\\(${Dg},${qa},${qa}\\)$`),BEe=new RegExp(`^hsla\\(${Dg},${qa},${qa},${Dg}\\)$`),W6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};aM(S0,Pg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:G6,formatHex:G6,formatHex8:zEe,formatHsl:UEe,formatRgb:K6,toString:K6});function G6(){return this.rgb().formatHex()}function zEe(){return this.rgb().formatHex8()}function UEe(){return fG(this).formatHsl()}function K6(){return this.rgb().formatRgb()}function Pg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=IEe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Y6(e):n===3?new Si(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Iv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Iv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=DEe.exec(t))?new Si(e[1],e[2],e[3],1):(e=PEe.exec(t))?new Si(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=REe.exec(t))?Iv(e[1],e[2],e[3],e[4]):(e=LEe.exec(t))?Iv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=VEe.exec(t))?J6(e[1],e[2]/100,e[3]/100,1):(e=BEe.exec(t))?J6(e[1],e[2]/100,e[3]/100,e[4]):W6.hasOwnProperty(t)?Y6(W6[t]):t==="transparent"?new Si(NaN,NaN,NaN,0):null}function Y6(t){return new Si(t>>16&255,t>>8&255,t&255,1)}function Iv(t,e,n,r){return r<=0&&(t=e=n=NaN),new Si(t,e,n,r)}function FEe(t){return t instanceof S0||(t=Pg(t)),t?(t=t.rgb(),new Si(t.r,t.g,t.b,t.opacity)):new Si}function GC(t,e,n,r){return arguments.length===1?FEe(t):new Si(t,e,n,r??1)}function Si(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}aM(Si,GC,dG(S0,{brighter(t){return t=t==null?Yx:Math.pow(Yx,t),new Si(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ig:Math.pow(Ig,t),new Si(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Si(hd(this.r),hd(this.g),hd(this.b),Xx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:X6,formatHex:X6,formatHex8:$Ee,formatRgb:Q6,toString:Q6}));function X6(){return`#${Ju(this.r)}${Ju(this.g)}${Ju(this.b)}`}function $Ee(){return`#${Ju(this.r)}${Ju(this.g)}${Ju(this.b)}${Ju((isNaN(this.opacity)?1:this.opacity)*255)}`}function Q6(){const t=Xx(this.opacity);return`${t===1?"rgb(":"rgba("}${hd(this.r)}, ${hd(this.g)}, ${hd(this.b)}${t===1?")":`, ${t})`}`}function Xx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function hd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ju(t){return t=hd(t),(t<16?"0":"")+t.toString(16)}function J6(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Js(t,e,n,r)}function fG(t){if(t instanceof Js)return new Js(t.h,t.s,t.l,t.opacity);if(t instanceof S0||(t=Pg(t)),!t)return new Js;if(t instanceof Js)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,c=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new Js(a,l,c,t.opacity)}function HEe(t,e,n,r){return arguments.length===1?fG(t):new Js(t,e,n,r??1)}function Js(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}aM(Js,HEe,dG(S0,{brighter(t){return t=t==null?Yx:Math.pow(Yx,t),new Js(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ig:Math.pow(Ig,t),new Js(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Si(o_(t>=240?t-240:t+120,i,r),o_(t,i,r),o_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Js(Z6(this.h),Dv(this.s),Dv(this.l),Xx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xx(this.opacity);return`${t===1?"hsl(":"hsla("}${Z6(this.h)}, ${Dv(this.s)*100}%, ${Dv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Z6(t){return t=(t||0)%360,t<0?t+360:t}function Dv(t){return Math.max(0,Math.min(1,t||0))}function o_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const oM=t=>()=>t;function qEe(t,e){return function(n){return t+n*e}}function WEe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function GEe(t){return(t=+t)==1?hG:function(e,n){return n-e?WEe(e,n,t):oM(isNaN(e)?n:e)}}function hG(t,e){var n=e-t;return n?qEe(t,n):oM(isNaN(t)?e:t)}const eB=(function t(e){var n=GEe(e);function r(i,s){var a=n((i=GC(i)).r,(s=GC(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),d=hG(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return r.gamma=t,r})(1);function KEe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function YEe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function XEe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Gh(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function QEe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Qx(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function JEe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Gh(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var KC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,l_=new RegExp(KC.source,"g");function ZEe(t){return function(){return t}}function eke(t){return function(e){return t(e)+""}}function tke(t,e){var n=KC.lastIndex=l_.lastIndex=0,r,i,s,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=KC.exec(t))&&(i=l_.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:Qx(r,i)})),n=l_.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?eke(c[0].x):ZEe(e):(e=c.length,function(d){for(var f=0,p;f<e;++f)l[(p=c[f]).i]=p.x(d);return l.join("")})}function Gh(t,e){var n=typeof e,r;return e==null||n==="boolean"?oM(e):(n==="number"?Qx:n==="string"?(r=Pg(e))?(e=r,eB):tke:e instanceof Pg?eB:e instanceof Date?QEe:YEe(e)?KEe:Array.isArray(e)?XEe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?JEe:Qx)(t,e)}function lM(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function nke(t,e){e===void 0&&(e=t,t=Gh);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function rke(t){return function(){return t}}function Jx(t){return+t}var tB=[0,1];function Jr(t){return t}function YC(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:rke(isNaN(e)?NaN:.5)}function ike(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ske(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=YC(i,r),s=n(a,s)):(r=YC(r,i),s=n(s,a)),function(l){return s(r(l))}}function ake(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=YC(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var c=w0(t,l,1,r)-1;return s[c](i[c](l))}}function T0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function N1(){var t=tB,e=tB,n=Gh,r,i,s,a=Jr,l,c,d;function f(){var g=Math.min(t.length,e.length);return a!==Jr&&(a=ike(t[0],t[g-1])),l=g>2?ake:ske,c=d=null,p}function p(g){return g==null||isNaN(g=+g)?s:(c||(c=l(t.map(r),e,n)))(r(a(g)))}return p.invert=function(g){return a(i((d||(d=l(e,t.map(r),Qx)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,Jx),f()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),f()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=lM,f()},p.clamp=function(g){return arguments.length?(a=g?!0:Jr,f()):a!==Jr},p.interpolate=function(g){return arguments.length?(n=g,f()):n},p.unknown=function(g){return arguments.length?(s=g,p):s},function(g,v){return r=g,i=v,f()}}function cM(){return N1()(Jr,Jr)}function oke(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Zx(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Nh(t){return t=Zx(Math.abs(t)),t?t[1]:NaN}function lke(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function cke(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var uke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rg(t){if(!(e=uke.exec(t)))throw new Error("invalid format: "+t);var e;return new uM({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Rg.prototype=uM.prototype;function uM(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}uM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dke(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var pG;function fke(t,e){var n=Zx(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(pG=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Zx(t,Math.max(0,e+s-1))[0]}function nB(t,e){var n=Zx(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const rB={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:oke,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nB(t*100,e),r:nB,s:fke,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function iB(t){return t}var sB=Array.prototype.map,aB=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hke(t){var e=t.grouping===void 0||t.thousands===void 0?iB:lke(sB.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?iB:cke(sB.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(p){p=Rg(p);var g=p.fill,v=p.align,b=p.sign,E=p.symbol,S=p.zero,k=p.width,C=p.comma,O=p.precision,z=p.trim,P=p.type;P==="n"?(C=!0,P="g"):rB[P]||(O===void 0&&(O=12),z=!0,P="g"),(S||g==="0"&&v==="=")&&(S=!0,g="0",v="=");var U=E==="$"?n:E==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",I=E==="$"?r:/[%p]/.test(P)?a:"",j=rB[P],M=/[defgprs%]/.test(P);O=O===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function R(V){var L=U,B=I,X,ae,W;if(P==="c")B=j(V)+B,V="";else{V=+V;var Y=V<0||1/V<0;if(V=isNaN(V)?c:j(Math.abs(V),O),z&&(V=dke(V)),Y&&+V==0&&b!=="+"&&(Y=!1),L=(Y?b==="("?b:l:b==="-"||b==="("?"":b)+L,B=(P==="s"?aB[8+pG/3]:"")+B+(Y&&b==="("?")":""),M){for(X=-1,ae=V.length;++X<ae;)if(W=V.charCodeAt(X),48>W||W>57){B=(W===46?i+V.slice(X+1):V.slice(X))+B,V=V.slice(0,X);break}}}C&&!S&&(V=e(V,1/0));var le=L.length+V.length+B.length,he=le<k?new Array(k-le+1).join(g):"";switch(C&&S&&(V=e(he+V,he.length?k-B.length:1/0),he=""),v){case"<":V=L+V+B+he;break;case"=":V=L+he+V+B;break;case"^":V=he.slice(0,le=he.length>>1)+L+V+B+he.slice(le);break;default:V=he+L+V+B;break}return s(V)}return R.toString=function(){return p+""},R}function f(p,g){var v=d((p=Rg(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(Nh(g)/3)))*3,E=Math.pow(10,-b),S=aB[8+b/3];return function(k){return v(E*k)+S}}return{format:d,formatPrefix:f}}var Pv,dM,mG;pke({thousands:",",grouping:[3],currency:["$",""]});function pke(t){return Pv=hke(t),dM=Pv.format,mG=Pv.formatPrefix,Pv}function mke(t){return Math.max(0,-Nh(Math.abs(t)))}function gke(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nh(e)/3)))*3-Nh(Math.abs(t)))}function yke(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nh(e)-Nh(t))+1}function gG(t,e,n,r){var i=qC(t,e,n),s;switch(r=Rg(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=gke(i,a))&&(r.precision=s),mG(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=yke(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=mke(i))&&(r.precision=s-(r.type==="%")*2);break}}return dM(r)}function Zc(t){var e=t.domain;return t.ticks=function(n){var r=e();return $C(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return gG(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],c,d,f=10;for(l<a&&(d=a,a=l,l=d,d=i,i=s,s=d);f-- >0;){if(d=HC(a,l,n),d===c)return r[i]=a,r[s]=l,e(r);if(d>0)a=Math.floor(a/d)*d,l=Math.ceil(l/d)*d;else if(d<0)a=Math.ceil(a*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function yG(){var t=cM();return t.copy=function(){return T0(t,yG())},Ps.apply(t,arguments),Zc(t)}function vG(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Jx),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return vG(t).unknown(e)},t=arguments.length?Array.from(t,Jx):[0,1],Zc(n)}function bG(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function oB(t){return Math.log(t)}function lB(t){return Math.exp(t)}function vke(t){return-Math.log(-t)}function bke(t){return-Math.exp(-t)}function xke(t){return isFinite(t)?+("1e"+t):t<0?0:t}function wke(t){return t===10?xke:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ske(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function cB(t){return(e,n)=>-t(-e,n)}function fM(t){const e=t(oB,lB),n=e.domain;let r=10,i,s;function a(){return i=Ske(r),s=wke(r),n()[0]<0?(i=cB(i),s=cB(s),t(vke,bke)):t(oB,lB),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let d=c[0],f=c[c.length-1];const p=f<d;p&&([d,f]=[f,d]);let g=i(d),v=i(f),b,E;const S=l==null?10:+l;let k=[];if(!(r%1)&&v-g<S){if(g=Math.floor(g),v=Math.ceil(v),d>0){for(;g<=v;++g)for(b=1;b<r;++b)if(E=g<0?b/s(-g):b*s(g),!(E<d)){if(E>f)break;k.push(E)}}else for(;g<=v;++g)for(b=r-1;b>=1;--b)if(E=g>0?b/s(-g):b*s(g),!(E<d)){if(E>f)break;k.push(E)}k.length*2<S&&(k=$C(d,f,S))}else k=$C(g,v,Math.min(v-g,S)).map(s);return p?k.reverse():k},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Rg(c)).precision==null&&(c.trim=!0),c=dM(c)),l===1/0)return c;const d=Math.max(1,r*l/e.ticks().length);return f=>{let p=f/s(Math.round(i(f)));return p*r<r-.5&&(p*=r),p<=d?c(f):""}},e.nice=()=>n(bG(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function xG(){const t=fM(N1()).domain([1,10]);return t.copy=()=>T0(t,xG()).base(t.base()),Ps.apply(t,arguments),t}function uB(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function dB(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function hM(t){var e=1,n=t(uB(e),dB(e));return n.constant=function(r){return arguments.length?t(uB(e=+r),dB(e)):e},Zc(n)}function wG(){var t=hM(N1());return t.copy=function(){return T0(t,wG()).constant(t.constant())},Ps.apply(t,arguments)}function fB(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Tke(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Eke(t){return t<0?-t*t:t*t}function pM(t){var e=t(Jr,Jr),n=1;function r(){return n===1?t(Jr,Jr):n===.5?t(Tke,Eke):t(fB(n),fB(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Zc(e)}function mM(){var t=pM(N1());return t.copy=function(){return T0(t,mM()).exponent(t.exponent())},Ps.apply(t,arguments),t}function kke(){return mM.apply(null,arguments).exponent(.5)}function hB(t){return Math.sign(t)*t*t}function _ke(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function SG(){var t=cM(),e=[0,1],n=!1,r;function i(s){var a=_ke(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(hB(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Jx)).map(hB)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return SG(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ps.apply(i,arguments),Zc(i)}function TG(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=OEe(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[w0(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(kc),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return TG().domain(t).range(e).unknown(r)},Ps.apply(s,arguments)}function EG(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[w0(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return EG().domain([t,e]).range(i).unknown(s)},Ps.apply(Zc(a),arguments)}function kG(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[w0(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return kG().domain(t).range(e).unknown(n)},Ps.apply(i,arguments)}const c_=new Date,u_=new Date;function Yn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let d;do c.push(d=new Date(+s)),e(s,l),t(s);while(d<s&&s<a);return c},i.filter=s=>Yn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(c_.setTime(+s),u_.setTime(+a),t(c_),t(u_),Math.floor(n(c_,u_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const ew=Yn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ew.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Yn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ew);ew.range;const Po=1e3,ws=Po*60,Ro=ws*60,Xo=Ro*24,gM=Xo*7,pB=Xo*30,d_=Xo*365,Zu=Yn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Po)},(t,e)=>(e-t)/Po,t=>t.getUTCSeconds());Zu.range;const yM=Yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Po)},(t,e)=>{t.setTime(+t+e*ws)},(t,e)=>(e-t)/ws,t=>t.getMinutes());yM.range;const vM=Yn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ws)},(t,e)=>(e-t)/ws,t=>t.getUTCMinutes());vM.range;const bM=Yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Po-t.getMinutes()*ws)},(t,e)=>{t.setTime(+t+e*Ro)},(t,e)=>(e-t)/Ro,t=>t.getHours());bM.range;const xM=Yn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ro)},(t,e)=>(e-t)/Ro,t=>t.getUTCHours());xM.range;const E0=Yn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ws)/Xo,t=>t.getDate()-1);E0.range;const O1=Yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Xo,t=>t.getUTCDate()-1);O1.range;const _G=Yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Xo,t=>Math.floor(t/Xo));_G.range;function Bd(t){return Yn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ws)/gM)}const M1=Bd(0),tw=Bd(1),Ake=Bd(2),Cke=Bd(3),Oh=Bd(4),Nke=Bd(5),Oke=Bd(6);M1.range;tw.range;Ake.range;Cke.range;Oh.range;Nke.range;Oke.range;function zd(t){return Yn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/gM)}const j1=zd(0),nw=zd(1),Mke=zd(2),jke=zd(3),Mh=zd(4),Ike=zd(5),Dke=zd(6);j1.range;nw.range;Mke.range;jke.range;Mh.range;Ike.range;Dke.range;const wM=Yn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());wM.range;const SM=Yn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());SM.range;const Qo=Yn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Qo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Qo.range;const Jo=Yn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Jo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Jo.range;function AG(t,e,n,r,i,s){const a=[[Zu,1,Po],[Zu,5,5*Po],[Zu,15,15*Po],[Zu,30,30*Po],[s,1,ws],[s,5,5*ws],[s,15,15*ws],[s,30,30*ws],[i,1,Ro],[i,3,3*Ro],[i,6,6*Ro],[i,12,12*Ro],[r,1,Xo],[r,2,2*Xo],[n,1,gM],[e,1,pB],[e,3,3*pB],[t,1,d_]];function l(d,f,p){const g=f<d;g&&([d,f]=[f,d]);const v=p&&typeof p.range=="function"?p:c(d,f,p),b=v?v.range(d,+f+1):[];return g?b.reverse():b}function c(d,f,p){const g=Math.abs(f-d)/p,v=rM(([,,S])=>S).right(a,g);if(v===a.length)return t.every(qC(d/d_,f/d_,p));if(v===0)return ew.every(Math.max(qC(d,f,p),1));const[b,E]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return b.every(E)}return[l,c]}const[Pke,Rke]=AG(Jo,SM,j1,_G,xM,vM),[Lke,Vke]=AG(Qo,wM,M1,E0,bM,yM);function f_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function h_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function um(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Bke(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,d=dm(i),f=fm(i),p=dm(s),g=fm(s),v=dm(a),b=fm(a),E=dm(l),S=fm(l),k=dm(c),C=fm(c),O={a:Y,A:le,b:he,B:Se,c:null,d:xB,e:xB,f:l_e,g:v_e,G:x_e,H:s_e,I:a_e,j:o_e,L:CG,m:c_e,M:u_e,p:H,q:ne,Q:TB,s:EB,S:d_e,u:f_e,U:h_e,V:p_e,w:m_e,W:g_e,x:null,X:null,y:y_e,Y:b_e,Z:w_e,"%":SB},z={a:ye,A:be,b:ke,B:pe,c:null,d:wB,e:wB,f:k_e,g:P_e,G:L_e,H:S_e,I:T_e,j:E_e,L:OG,m:__e,M:A_e,p:we,q:et,Q:TB,s:EB,S:C_e,u:N_e,U:O_e,V:M_e,w:j_e,W:I_e,x:null,X:null,y:D_e,Y:R_e,Z:V_e,"%":SB},P={a:R,A:V,b:L,B,c:X,d:vB,e:vB,f:t_e,g:yB,G:gB,H:bB,I:bB,j:Qke,L:e_e,m:Xke,M:Jke,p:M,q:Yke,Q:r_e,s:i_e,S:Zke,u:Hke,U:qke,V:Wke,w:$ke,W:Gke,x:ae,X:W,y:yB,Y:gB,Z:Kke,"%":n_e};O.x=U(n,O),O.X=U(r,O),O.c=U(e,O),z.x=U(n,z),z.X=U(r,z),z.c=U(e,z);function U(ie,Ce){return function(Re){var me=[],dt=-1,Me=0,Vt=ie.length,ct,Zn,Rs;for(Re instanceof Date||(Re=new Date(+Re));++dt<Vt;)ie.charCodeAt(dt)===37&&(me.push(ie.slice(Me,dt)),(Zn=mB[ct=ie.charAt(++dt)])!=null?ct=ie.charAt(++dt):Zn=ct==="e"?" ":"0",(Rs=Ce[ct])&&(ct=Rs(Re,Zn)),me.push(ct),Me=dt+1);return me.push(ie.slice(Me,dt)),me.join("")}}function I(ie,Ce){return function(Re){var me=um(1900,void 0,1),dt=j(me,ie,Re+="",0),Me,Vt;if(dt!=Re.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(Ce&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Me=h_(um(me.y,0,1)),Vt=Me.getUTCDay(),Me=Vt>4||Vt===0?nw.ceil(Me):nw(Me),Me=O1.offset(Me,(me.V-1)*7),me.y=Me.getUTCFullYear(),me.m=Me.getUTCMonth(),me.d=Me.getUTCDate()+(me.w+6)%7):(Me=f_(um(me.y,0,1)),Vt=Me.getDay(),Me=Vt>4||Vt===0?tw.ceil(Me):tw(Me),Me=E0.offset(Me,(me.V-1)*7),me.y=Me.getFullYear(),me.m=Me.getMonth(),me.d=Me.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),Vt="Z"in me?h_(um(me.y,0,1)).getUTCDay():f_(um(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(Vt+5)%7:me.w+me.U*7-(Vt+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,h_(me)):f_(me)}}function j(ie,Ce,Re,me){for(var dt=0,Me=Ce.length,Vt=Re.length,ct,Zn;dt<Me;){if(me>=Vt)return-1;if(ct=Ce.charCodeAt(dt++),ct===37){if(ct=Ce.charAt(dt++),Zn=P[ct in mB?Ce.charAt(dt++):ct],!Zn||(me=Zn(ie,Re,me))<0)return-1}else if(ct!=Re.charCodeAt(me++))return-1}return me}function M(ie,Ce,Re){var me=d.exec(Ce.slice(Re));return me?(ie.p=f.get(me[0].toLowerCase()),Re+me[0].length):-1}function R(ie,Ce,Re){var me=v.exec(Ce.slice(Re));return me?(ie.w=b.get(me[0].toLowerCase()),Re+me[0].length):-1}function V(ie,Ce,Re){var me=p.exec(Ce.slice(Re));return me?(ie.w=g.get(me[0].toLowerCase()),Re+me[0].length):-1}function L(ie,Ce,Re){var me=k.exec(Ce.slice(Re));return me?(ie.m=C.get(me[0].toLowerCase()),Re+me[0].length):-1}function B(ie,Ce,Re){var me=E.exec(Ce.slice(Re));return me?(ie.m=S.get(me[0].toLowerCase()),Re+me[0].length):-1}function X(ie,Ce,Re){return j(ie,e,Ce,Re)}function ae(ie,Ce,Re){return j(ie,n,Ce,Re)}function W(ie,Ce,Re){return j(ie,r,Ce,Re)}function Y(ie){return a[ie.getDay()]}function le(ie){return s[ie.getDay()]}function he(ie){return c[ie.getMonth()]}function Se(ie){return l[ie.getMonth()]}function H(ie){return i[+(ie.getHours()>=12)]}function ne(ie){return 1+~~(ie.getMonth()/3)}function ye(ie){return a[ie.getUTCDay()]}function be(ie){return s[ie.getUTCDay()]}function ke(ie){return c[ie.getUTCMonth()]}function pe(ie){return l[ie.getUTCMonth()]}function we(ie){return i[+(ie.getUTCHours()>=12)]}function et(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Ce=U(ie+="",O);return Ce.toString=function(){return ie},Ce},parse:function(ie){var Ce=I(ie+="",!1);return Ce.toString=function(){return ie},Ce},utcFormat:function(ie){var Ce=U(ie+="",z);return Ce.toString=function(){return ie},Ce},utcParse:function(ie){var Ce=I(ie+="",!0);return Ce.toString=function(){return ie},Ce}}}var mB={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,zke=/^%/,Uke=/[\\^$*+?|[\]().{}]/g;function pt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Fke(t){return t.replace(Uke,"\\$&")}function dm(t){return new RegExp("^(?:"+t.map(Fke).join("|")+")","i")}function fm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function $ke(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Hke(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function qke(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Wke(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Gke(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function gB(t,e,n){var r=dr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function yB(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Kke(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Yke(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Xke(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function vB(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Qke(t,e,n){var r=dr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function bB(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Jke(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Zke(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function e_e(t,e,n){var r=dr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function t_e(t,e,n){var r=dr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function n_e(t,e,n){var r=zke.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function r_e(t,e,n){var r=dr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function i_e(t,e,n){var r=dr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function xB(t,e){return pt(t.getDate(),e,2)}function s_e(t,e){return pt(t.getHours(),e,2)}function a_e(t,e){return pt(t.getHours()%12||12,e,2)}function o_e(t,e){return pt(1+E0.count(Qo(t),t),e,3)}function CG(t,e){return pt(t.getMilliseconds(),e,3)}function l_e(t,e){return CG(t,e)+"000"}function c_e(t,e){return pt(t.getMonth()+1,e,2)}function u_e(t,e){return pt(t.getMinutes(),e,2)}function d_e(t,e){return pt(t.getSeconds(),e,2)}function f_e(t){var e=t.getDay();return e===0?7:e}function h_e(t,e){return pt(M1.count(Qo(t)-1,t),e,2)}function NG(t){var e=t.getDay();return e>=4||e===0?Oh(t):Oh.ceil(t)}function p_e(t,e){return t=NG(t),pt(Oh.count(Qo(t),t)+(Qo(t).getDay()===4),e,2)}function m_e(t){return t.getDay()}function g_e(t,e){return pt(tw.count(Qo(t)-1,t),e,2)}function y_e(t,e){return pt(t.getFullYear()%100,e,2)}function v_e(t,e){return t=NG(t),pt(t.getFullYear()%100,e,2)}function b_e(t,e){return pt(t.getFullYear()%1e4,e,4)}function x_e(t,e){var n=t.getDay();return t=n>=4||n===0?Oh(t):Oh.ceil(t),pt(t.getFullYear()%1e4,e,4)}function w_e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pt(e/60|0,"0",2)+pt(e%60,"0",2)}function wB(t,e){return pt(t.getUTCDate(),e,2)}function S_e(t,e){return pt(t.getUTCHours(),e,2)}function T_e(t,e){return pt(t.getUTCHours()%12||12,e,2)}function E_e(t,e){return pt(1+O1.count(Jo(t),t),e,3)}function OG(t,e){return pt(t.getUTCMilliseconds(),e,3)}function k_e(t,e){return OG(t,e)+"000"}function __e(t,e){return pt(t.getUTCMonth()+1,e,2)}function A_e(t,e){return pt(t.getUTCMinutes(),e,2)}function C_e(t,e){return pt(t.getUTCSeconds(),e,2)}function N_e(t){var e=t.getUTCDay();return e===0?7:e}function O_e(t,e){return pt(j1.count(Jo(t)-1,t),e,2)}function MG(t){var e=t.getUTCDay();return e>=4||e===0?Mh(t):Mh.ceil(t)}function M_e(t,e){return t=MG(t),pt(Mh.count(Jo(t),t)+(Jo(t).getUTCDay()===4),e,2)}function j_e(t){return t.getUTCDay()}function I_e(t,e){return pt(nw.count(Jo(t)-1,t),e,2)}function D_e(t,e){return pt(t.getUTCFullYear()%100,e,2)}function P_e(t,e){return t=MG(t),pt(t.getUTCFullYear()%100,e,2)}function R_e(t,e){return pt(t.getUTCFullYear()%1e4,e,4)}function L_e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Mh(t):Mh.ceil(t),pt(t.getUTCFullYear()%1e4,e,4)}function V_e(){return"+0000"}function SB(){return"%"}function TB(t){return+t}function EB(t){return Math.floor(+t/1e3)}var jf,jG,IG;B_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function B_e(t){return jf=Bke(t),jG=jf.format,jf.parse,IG=jf.utcFormat,jf.utcParse,jf}function z_e(t){return new Date(t)}function U_e(t){return t instanceof Date?+t:+new Date(+t)}function TM(t,e,n,r,i,s,a,l,c,d){var f=cM(),p=f.invert,g=f.domain,v=d(".%L"),b=d(":%S"),E=d("%I:%M"),S=d("%I %p"),k=d("%a %d"),C=d("%b %d"),O=d("%B"),z=d("%Y");function P(U){return(c(U)<U?v:l(U)<U?b:a(U)<U?E:s(U)<U?S:r(U)<U?i(U)<U?k:C:n(U)<U?O:z)(U)}return f.invert=function(U){return new Date(p(U))},f.domain=function(U){return arguments.length?g(Array.from(U,U_e)):g().map(z_e)},f.ticks=function(U){var I=g();return t(I[0],I[I.length-1],U??10)},f.tickFormat=function(U,I){return I==null?P:d(I)},f.nice=function(U){var I=g();return(!U||typeof U.range!="function")&&(U=e(I[0],I[I.length-1],U??10)),U?g(bG(I,U)):f},f.copy=function(){return T0(f,TM(t,e,n,r,i,s,a,l,c,d))},f}function F_e(){return Ps.apply(TM(Lke,Vke,Qo,wM,M1,E0,bM,yM,Zu,jG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $_e(){return Ps.apply(TM(Pke,Rke,Jo,SM,j1,O1,xM,vM,Zu,IG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function I1(){var t=0,e=1,n,r,i,s,a=Jr,l=!1,c;function d(p){return p==null||isNaN(p=+p)?c:a(i===0?.5:(p=(s(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(a=p,d):a};function f(p){return function(g){var v,b;return arguments.length?([v,b]=g,a=p(v,b),d):[a(0),a(1)]}}return d.range=f(Gh),d.rangeRound=f(lM),d.unknown=function(p){return arguments.length?(c=p,d):c},function(p){return s=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),d}}function eu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function DG(){var t=Zc(I1()(Jr));return t.copy=function(){return eu(t,DG())},cl.apply(t,arguments)}function PG(){var t=fM(I1()).domain([1,10]);return t.copy=function(){return eu(t,PG()).base(t.base())},cl.apply(t,arguments)}function RG(){var t=hM(I1());return t.copy=function(){return eu(t,RG()).constant(t.constant())},cl.apply(t,arguments)}function EM(){var t=pM(I1());return t.copy=function(){return eu(t,EM()).exponent(t.exponent())},cl.apply(t,arguments)}function H_e(){return EM.apply(null,arguments).exponent(.5)}function LG(){var t=[],e=Jr;function n(r){if(r!=null&&!isNaN(r=+r))return e((w0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(kc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>NEe(t,s/r))},n.copy=function(){return LG(e).domain(t)},cl.apply(n,arguments)}function D1(){var t=0,e=.5,n=1,r=1,i,s,a,l,c,d=Jr,f,p=!1,g;function v(E){return isNaN(E=+E)?g:(E=.5+((E=+f(E))-s)*(r*E<r*s?l:c),d(p?Math.max(0,Math.min(1,E)):E))}v.domain=function(E){return arguments.length?([t,e,n]=E,i=f(t=+t),s=f(e=+e),a=f(n=+n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,v):[t,e,n]},v.clamp=function(E){return arguments.length?(p=!!E,v):p},v.interpolator=function(E){return arguments.length?(d=E,v):d};function b(E){return function(S){var k,C,O;return arguments.length?([k,C,O]=S,d=nke(E,[k,C,O]),v):[d(0),d(.5),d(1)]}}return v.range=b(Gh),v.rangeRound=b(lM),v.unknown=function(E){return arguments.length?(g=E,v):g},function(E){return f=E,i=E(t),s=E(e),a=E(n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,v}}function VG(){var t=Zc(D1()(Jr));return t.copy=function(){return eu(t,VG())},cl.apply(t,arguments)}function BG(){var t=fM(D1()).domain([.1,1,10]);return t.copy=function(){return eu(t,BG()).base(t.base())},cl.apply(t,arguments)}function zG(){var t=hM(D1());return t.copy=function(){return eu(t,zG()).constant(t.constant())},cl.apply(t,arguments)}function kM(){var t=pM(D1());return t.copy=function(){return eu(t,kM()).exponent(t.exponent())},cl.apply(t,arguments)}function q_e(){return kM.apply(null,arguments).exponent(.5)}const Cm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sM,scaleDiverging:VG,scaleDivergingLog:BG,scaleDivergingPow:kM,scaleDivergingSqrt:q_e,scaleDivergingSymlog:zG,scaleIdentity:vG,scaleImplicit:WC,scaleLinear:yG,scaleLog:xG,scaleOrdinal:iM,scalePoint:jEe,scalePow:mM,scaleQuantile:TG,scaleQuantize:EG,scaleRadial:SG,scaleSequential:DG,scaleSequentialLog:PG,scaleSequentialPow:EM,scaleSequentialQuantile:LG,scaleSequentialSqrt:H_e,scaleSequentialSymlog:RG,scaleSqrt:kke,scaleSymlog:wG,scaleThreshold:kG,scaleTime:F_e,scaleUtc:$_e,tickFormat:gG},Symbol.toStringTag,{value:"Module"}));var tu=t=>t.chartData,W_e=se([tu],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),_M=(t,e,n,r)=>r?W_e(t):tu(t);function zc(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Fn(e)&&Fn(n))return!0}return!1}function kB(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function UG(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Fn(n))i=n;else if(typeof n=="function")return;if(Fn(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(zc(a))return a}}function G_e(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(zc(r))return kB(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,l;if(i==="auto")e!=null&&(a=Math.min(...e));else if(je(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e?.[0]))}catch{}else if(typeof i=="string"&&HV.test(i)){var c=HV.exec(i);if(c==null||c[1]==null||e==null)a=void 0;else{var d=+c[1];a=e[0]-d}}else a=e?.[0];if(s==="auto")e!=null&&(l=Math.max(...e));else if(je(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e?.[1]))}catch{}else if(typeof s=="string"&&qV.test(s)){var f=qV.exec(s);if(f==null||f[1]==null||e==null)l=void 0;else{var p=+f[1];l=e[1]+p}}else l=e?.[1];var g=[a,l];if(zc(g))return e==null?g:kB(g,e,n)}}}var Kh=1e9,K_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CM,Zt=!0,Ms="[DecimalError] ",pd=Ms+"Invalid argument: ",AM=Ms+"Exponent out of range: ",Yh=Math.floor,Fu=Math.pow,Y_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fi,sr=1e7,qt=7,FG=9007199254740991,rw=Yh(FG/qt),Ae={};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ae.comparedTo=Ae.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*qt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ae.dividedBy=Ae.div=function(t){return zo(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.idiv=function(t){var e=this,n=e.constructor;return It(zo(e,new n(t),0,1),n.precision)};Ae.equals=Ae.eq=function(t){return!this.cmp(t)};Ae.exponent=function(){return Bn(this)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){return this.cmp(t)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Fi))throw Error(Ms+"NaN");if(n.s<1)throw Error(Ms+(n.s?"NaN":"-Infinity"));return n.eq(Fi)?new r(0):(Zt=!1,e=zo(Lg(n,s),Lg(t,s),s),Zt=!0,It(e,i))};Ae.minus=Ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qG(e,t):$G(e,(t.s=-t.s,t))};Ae.modulo=Ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ms+"NaN");return n.s?(Zt=!1,e=zo(n,t,0,1).times(t),Zt=!0,n.minus(e)):It(new r(n),i)};Ae.naturalExponential=Ae.exp=function(){return HG(this)};Ae.naturalLogarithm=Ae.ln=function(){return Lg(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ae.plus=Ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$G(e,t):qG(e,(t.s=-t.s,t))};Ae.precision=Ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(pd+t);if(e=Bn(i)+1,r=i.d.length-1,n=r*qt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ae.squareRoot=Ae.sqrt=function(){var t,e,n,r,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ms+"NaN")}for(t=Bn(l),Zt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Ra(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Yh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(s=r,r=s.plus(zo(l,s,a+2)).times(.5),Ra(s.d).slice(0,a)===(e=Ra(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(It(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;a+=4}return Zt=!0,It(r,n)};Ae.times=Ae.mul=function(t){var e,n,r,i,s,a,l,c,d,f=this,p=f.constructor,g=f.d,v=(t=new p(t)).d;if(!f.s||!t.s)return new p(0);for(t.s*=f.s,n=f.e+t.e,c=g.length,d=v.length,c<d&&(s=g,g=v,v=s,a=c,c=d,d=a),s=[],a=c+d,r=a;r--;)s.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+v[r]*g[i-r-1]+e,s[i--]=l%sr|0,e=l/sr|0;s[i]=(s[i]+e)%sr|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Zt?It(t,p.precision):t};Ae.toDecimalPlaces=Ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Za(t,0,Kh),e===void 0?e=r.rounding:Za(e,0,8),It(n,t+Bn(n)+1,e))};Ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Nd(r,!0):(Za(t,0,Kh),e===void 0?e=i.rounding:Za(e,0,8),r=It(new i(r),t+1,e),n=Nd(r,!0,t+1)),n};Ae.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Nd(i):(Za(t,0,Kh),e===void 0?e=s.rounding:Za(e,0,8),r=It(new s(i),t+Bn(i)+1,e),n=Nd(r.abs(),!1,t+Bn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ae.toInteger=Ae.toint=function(){var t=this,e=t.constructor;return It(new e(t),Bn(t)+1,e.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(t){var e,n,r,i,s,a,l=this,c=l.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(Fi);if(l=new c(l),!l.s){if(t.s<1)throw Error(Ms+"Infinity");return l}if(l.eq(Fi))return l;if(r=c.precision,t.eq(Fi))return It(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=l.s,a){if((n=f<0?-f:f)<=FG){for(i=new c(Fi),e=Math.ceil(r/qt+4),Zt=!1;n%2&&(i=i.times(l),AB(i.d,e)),n=Yh(n/2),n!==0;)l=l.times(l),AB(l.d,e);return Zt=!0,t.s<0?new c(Fi).div(i):It(i,r)}}else if(s<0)throw Error(Ms+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Zt=!1,i=t.times(Lg(l,r+d)),Zt=!0,i=HG(i),i.s=s,i};Ae.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Bn(i),r=Nd(i,n<=s.toExpNeg||n>=s.toExpPos)):(Za(t,1,Kh),e===void 0?e=s.rounding:Za(e,0,8),i=It(new s(i),t,e),n=Bn(i),r=Nd(i,t<=n||n<=s.toExpNeg,t)),r};Ae.toSignificantDigits=Ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Za(t,1,Kh),e===void 0?e=r.rounding:Za(e,0,8)),It(new r(n),t,e)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Bn(t),n=t.constructor;return Nd(t,e<=n.toExpNeg||e>=n.toExpPos)};function $G(t,e){var n,r,i,s,a,l,c,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Zt?It(e,p):e;if(c=t.d,d=e.d,a=t.e,i=e.e,c=c.slice(),s=a-i,s){for(s<0?(r=c,s=-s,l=d.length):(r=d,i=a,l=c.length),a=Math.ceil(p/qt),l=a>l?a+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=d.length,l-s<0&&(s=l,r=d,d=c,c=r),n=0;s;)n=(c[--s]=c[s]+d[s]+n)/sr|0,c[s]%=sr;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Zt?It(e,p):e}function Za(t,e,n){if(t!==~~t||t<e||t>n)throw Error(pd+t)}function Ra(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=qt-r.length,n&&(s+=ec(n)),s+=r;a=t[e],r=a+"",n=qt-r.length,n&&(s+=ec(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var zo=(function(){function t(r,i){var s,a=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+a,r[l]=s%sr|0,a=s/sr|0;return a&&r.unshift(a),r}function e(r,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*sr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var l,c,d,f,p,g,v,b,E,S,k,C,O,z,P,U,I,j,M=r.constructor,R=r.s==i.s?1:-1,V=r.d,L=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(Ms+"Division by zero");for(c=r.e-i.e,I=L.length,P=V.length,v=new M(R),b=v.d=[],d=0;L[d]==(V[d]||0);)++d;if(L[d]>(V[d]||0)&&--c,s==null?C=s=M.precision:a?C=s+(Bn(r)-Bn(i))+1:C=s,C<0)return new M(0);if(C=C/qt+2|0,d=0,I==1)for(f=0,L=L[0],C++;(d<P||f)&&C--;d++)O=f*sr+(V[d]||0),b[d]=O/L|0,f=O%L|0;else{for(f=sr/(L[0]+1)|0,f>1&&(L=t(L,f),V=t(V,f),I=L.length,P=V.length),z=I,E=V.slice(0,I),S=E.length;S<I;)E[S++]=0;j=L.slice(),j.unshift(0),U=L[0],L[1]>=sr/2&&++U;do f=0,l=e(L,E,I,S),l<0?(k=E[0],I!=S&&(k=k*sr+(E[1]||0)),f=k/U|0,f>1?(f>=sr&&(f=sr-1),p=t(L,f),g=p.length,S=E.length,l=e(p,E,g,S),l==1&&(f--,n(p,I<g?j:L,g))):(f==0&&(l=f=1),p=L.slice()),g=p.length,g<S&&p.unshift(0),n(E,p,S),l==-1&&(S=E.length,l=e(L,E,I,S),l<1&&(f++,n(E,I<S?j:L,S))),S=E.length):l===0&&(f++,E=[0]),b[d++]=f,l&&E[0]?E[S++]=V[z]||0:(E=[V[z]],S=1);while((z++<P||E[0]!==void 0)&&C--)}return b[0]||b.shift(),v.e=c,It(v,a?s+Bn(v)+1:s)}})();function HG(t,e){var n,r,i,s,a,l,c=0,d=0,f=t.constructor,p=f.precision;if(Bn(t)>16)throw Error(AM+Bn(t));if(!t.s)return new f(Fi);for(Zt=!1,l=p,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),d+=5;for(r=Math.log(Fu(2,d))/Math.LN10*2+5|0,l+=r,n=i=s=new f(Fi),f.precision=l;;){if(i=It(i.times(t),l),n=n.times(++c),a=s.plus(zo(i,n,l)),Ra(a.d).slice(0,l)===Ra(s.d).slice(0,l)){for(;d--;)s=It(s.times(s),l);return f.precision=p,e==null?(Zt=!0,It(s,p)):s}s=a}}function Bn(t){for(var e=t.e*qt,n=t.d[0];n>=10;n/=10)e++;return e}function p_(t,e,n){if(e>t.LN10.sd())throw Zt=!0,n&&(t.precision=n),Error(Ms+"LN10 precision limit exceeded");return It(new t(t.LN10),e)}function ec(t){for(var e="";t--;)e+="0";return e}function Lg(t,e){var n,r,i,s,a,l,c,d,f,p=1,g=10,v=t,b=v.d,E=v.constructor,S=E.precision;if(v.s<1)throw Error(Ms+(v.s?"NaN":"-Infinity"));if(v.eq(Fi))return new E(0);if(e==null?(Zt=!1,d=S):d=e,v.eq(10))return e==null&&(Zt=!0),p_(E,d);if(d+=g,E.precision=d,n=Ra(b),r=n.charAt(0),s=Bn(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=Ra(v.d),r=n.charAt(0),p++;s=Bn(v),r>1?(v=new E("0."+n),s++):v=new E(r+"."+n.slice(1))}else return c=p_(E,d+2,S).times(s+""),v=Lg(new E(r+"."+n.slice(1)),d-g).plus(c),E.precision=S,e==null?(Zt=!0,It(v,S)):v;for(l=a=v=zo(v.minus(Fi),v.plus(Fi),d),f=It(v.times(v),d),i=3;;){if(a=It(a.times(f),d),c=l.plus(zo(a,new E(i),d)),Ra(c.d).slice(0,d)===Ra(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(p_(E,d+2,S).times(s+""))),l=zo(l,new E(p),d),E.precision=S,e==null?(Zt=!0,It(l,S)):l;l=c,i+=2}}function _B(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Yh(n/qt),t.d=[],r=(n+1)%qt,n<0&&(r+=qt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=qt;r<i;)t.d.push(+e.slice(r,r+=qt));e=e.slice(r),r=qt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Zt&&(t.e>rw||t.e<-rw))throw Error(AM+n)}else t.s=0,t.e=0,t.d=[0];return t}function It(t,e,n){var r,i,s,a,l,c,d,f,p=t.d;for(a=1,s=p[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=qt,i=e,d=p[f=0];else{if(f=Math.ceil((r+1)/qt),s=p.length,f>=s)return t;for(d=s=p[f],a=1;s>=10;s/=10)a++;r%=qt,i=r-qt+a}if(n!==void 0&&(s=Fu(10,a-i-1),l=d/s%10|0,c=e<0||p[f+1]!==void 0||d%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?d/Fu(10,a-i):0:p[f-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(s=Bn(t),p.length=1,e=e-s-1,p[0]=Fu(10,(qt-e%qt)%qt),t.e=Yh(-e/qt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=f,s=1,f--):(p.length=f+1,s=Fu(10,qt-r),p[f]=i>0?(d/Fu(10,a-i)%Fu(10,i)|0)*s:0),c)for(;;)if(f==0){(p[0]+=s)==sr&&(p[0]=1,++t.e);break}else{if(p[f]+=s,p[f]!=sr)break;p[f--]=0,s=1}for(r=p.length;p[--r]===0;)p.pop();if(Zt&&(t.e>rw||t.e<-rw))throw Error(AM+Bn(t));return t}function qG(t,e){var n,r,i,s,a,l,c,d,f,p,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Zt?It(e,v):e;if(c=t.d,p=e.d,r=e.e,d=t.e,c=c.slice(),a=d-r,a){for(f=a<0,f?(n=c,a=-a,l=p.length):(n=p,r=d,l=c.length),i=Math.max(Math.ceil(v/qt),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=p.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){f=c[i]<p[i];break}a=0}for(f&&(n=c,c=p,p=n,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>a;){if(c[--i]<p[i]){for(s=i;s&&c[--s]===0;)c[s]=sr-1;--c[s],c[i]+=sr}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Zt?It(e,v):e):new g(0)}function Nd(t,e,n){var r,i=Bn(t),s=Ra(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+ec(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ec(-i-1)+s,n&&(r=n-a)>0&&(s+=ec(r))):i>=a?(s+=ec(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+ec(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=ec(r))),t.s<0?"-"+s:s}function AB(t,e){if(t.length>e)return t.length=e,!0}function WG(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(pd+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return _B(a,s.toString())}else if(typeof s!="string")throw Error(pd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,Y_e.test(s))_B(a,s);else throw Error(pd+s)}if(i.prototype=Ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=WG,i.config=i.set=X_e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function X_e(t){if(!t||typeof t!="object")throw Error(Ms+"Object expected");var e,n,r,i=["precision",1,Kh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Yh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(pd+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(pd+n+": "+r);return this}var CM=WG(K_e);Fi=new CM(1);const Tt=CM;var Q_e=t=>t,GG={},KG=t=>t===GG,CB=t=>function e(){return arguments.length===0||arguments.length===1&&KG(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},YG=(t,e)=>t===1?e:CB(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==GG).length;return s>=t?e(...r):YG(t-s,CB(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var d=r.map(f=>KG(f)?l.shift():f);return e(...d,...l)}))}),J_e=t=>YG(t.length,t),XC=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Z_e=J_e((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),eAe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Q_e;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,c)=>c(l),s(...arguments))}};function XG(t){var e;return t===0?e=1:e=Math.floor(new Tt(t).abs().log(10).toNumber())+1,e}function QG(t,e,n){for(var r=new Tt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var JG=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},ZG=(t,e,n)=>{if(t.lte(0))return new Tt(0);var r=XG(t.toNumber()),i=new Tt(10).pow(r),s=t.div(i),a=r!==1?.05:.1,l=new Tt(Math.ceil(s.div(a).toNumber())).add(n).mul(a),c=l.mul(i);return e?new Tt(c.toNumber()):new Tt(Math.ceil(c.toNumber()))},tAe=(t,e,n)=>{var r=new Tt(1),i=new Tt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Tt(10).pow(XG(t)-1),i=new Tt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Tt(Math.floor(t)))}else t===0?i=new Tt(Math.floor((e-1)/2)):n||(i=new Tt(Math.floor(t)));var a=Math.floor((e-1)/2),l=eAe(Z_e(c=>i.add(new Tt(c-a).mul(r)).toNumber()),XC);return l(0,e)},eK=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var a=ZG(new Tt(n).sub(e).div(r-1),i,s),l;e<=0&&n>=0?l=new Tt(0):(l=new Tt(e).add(n).div(2),l=l.sub(new Tt(l).mod(a)));var c=Math.ceil(l.sub(e).div(a).toNumber()),d=Math.ceil(new Tt(n).sub(l).div(a).toNumber()),f=c+d+1;return f>r?eK(e,n,r,i,s+1):(f<r&&(d=n>0?d+(r-f):d,c=n>0?c:c+(r-f)),{step:a,tickMin:l.sub(new Tt(c).mul(a)),tickMax:l.add(new Tt(d).mul(a))})},nAe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[l,c]=JG([n,r]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...XC(0,i-1).map(()=>1/0)]:[...XC(0,i-1).map(()=>-1/0),c];return n>r?d.reverse():d}if(l===c)return tAe(l,i,s);var{step:f,tickMin:p,tickMax:g}=eK(l,c,a,s,0),v=QG(p,g.add(new Tt(.1).mul(f)),f);return n>r?v.reverse():v},rAe=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=JG([r,i]);if(a===-1/0||l===1/0)return[r,i];if(a===l)return[a];var c=Math.max(n,2),d=ZG(new Tt(l).sub(a).div(c-1),s,0),f=[...QG(new Tt(a),new Tt(l),d),l];return s===!1&&(f=f.map(p=>Math.round(p))),r>i?f.reverse():f},iAe=t=>t.rootProps.barCategoryGap,P1=t=>t.rootProps.stackOffset,tK=t=>t.rootProps.reverseStackOrder,NM=t=>t.options.chartName,OM=t=>t.rootProps.syncId,nK=t=>t.rootProps.syncMethod,MM=t=>t.options.eventEmitter,Zr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Oo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},zi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},R1=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},sAe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Oo.angleAxisId,includeHidden:!1,name:void 0,reversed:Oo.reversed,scale:Oo.scale,tick:Oo.tick,tickCount:void 0,ticks:void 0,type:Oo.type,unit:void 0},aAe={allowDataOverflow:zi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zi.scale,tick:zi.tick,tickCount:zi.tickCount,ticks:void 0,type:zi.type,unit:void 0},oAe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Oo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Oo.scale,tick:Oo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},lAe={allowDataOverflow:zi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zi.scale,tick:zi.tick,tickCount:zi.tickCount,ticks:void 0,type:"category",unit:void 0},jM=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?oAe:sAe,IM=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?lAe:aAe,L1=t=>t.polarOptions,DM=se([ol,ll,Or],rEe),rK=se([L1,DM],(t,e)=>{if(t!=null)return Bc(t.innerRadius,e,0)}),iK=se([L1,DM],(t,e)=>{if(t!=null)return Bc(t.outerRadius,e,e*.8)}),cAe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},sK=se([L1],cAe);se([jM,sK],R1);var aK=se([DM,rK,iK],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});se([IM,aK],R1);var oK=se([Gt,L1,rK,iK,ol,ll],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:l,startAngle:c,endAngle:d}=e;return{cx:Bc(a,i,i/2),cy:Bc(l,s,s/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),Xn=(t,e)=>e,V1=(t,e,n)=>n;function lK(t){return t?.id}function cK(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return t.forEach(l=>{var c,d=(c=l.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var f=lK(l);d.forEach((p,g)=>{var v=s==null||i?g:String(Cr(p,s,null)),b=Cr(p,l.dataKey,0),E;a.has(v)?E=a.get(v):E={},Object.assign(E,{[f]:b}),a.set(v,E)})}}),Array.from(a.values())}function PM(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var B1=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function z1(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function uAe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Qn=t=>{var e=Gt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Xh=t=>t.tooltip.settings.axisId;function NB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NB(Object(n),!0).forEach(function(r){dAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dAe(t,e,n){return(e=fAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fAe(t){var e=hAe(t,"string");return typeof e=="symbol"?e:e+""}function hAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QC=[0,"auto"],nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},uK=(t,e)=>t.cartesianAxis.xAxis[e],ul=(t,e)=>{var n=uK(t,e);return n??nr},rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:QC,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:b0},dK=(t,e)=>t.cartesianAxis.yAxis[e],dl=(t,e)=>{var n=dK(t,e);return n??rr},pAe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},RM=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??pAe},ai=(t,e,n)=>{switch(e){case"xAxis":return ul(t,n);case"yAxis":return dl(t,n);case"zAxis":return RM(t,n);case"angleAxis":return jM(t,n);case"radiusAxis":return IM(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},mAe=(t,e,n)=>{switch(e){case"xAxis":return ul(t,n);case"yAxis":return dl(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},k0=(t,e,n)=>{switch(e){case"xAxis":return ul(t,n);case"yAxis":return dl(t,n);case"angleAxis":return jM(t,n);case"radiusAxis":return IM(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},fK=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function hK(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var pK=t=>t.graphicalItems.cartesianItems,gAe=se([Xn,V1],hK),mK=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),_0=se([pK,ai,gAe],mK,{memoizeOptions:{resultEqualityCheck:z1}}),gK=se([_0],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(PM)),yK=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),yAe=se([_0],yK),vK=t=>t.map(e=>e.data).filter(Boolean).flat(1),vAe=se([_0],vK,{memoizeOptions:{resultEqualityCheck:z1}}),bK=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},LM=se([vAe,_M],bK),xK=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Cr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Cr(i,r)}))):t.map(r=>({value:r})),U1=se([LM,ai,_0],xK);function wK(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ob(t){if(Qa(t)||t instanceof Date){var e=Number(t);if(Fn(e))return e}}function OB(t){if(Array.isArray(t)){var e=[ob(t[0]),ob(t[1])];return zc(e)?e:void 0}var n=ob(t);if(n!=null)return[n,n]}function Zo(t){return t.map(ob).filter(Qxe)}function bAe(t,e,n){return!n||typeof e!="number"||Xa(e)?[]:n.length?Zo(n.flatMap(r=>{var i=Cr(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Fn(s)||!Fn(a)))return[e-s,e+a]})):[]}var Jn=t=>{var e=Qn(t),n=Xh(t);return k0(t,e,n)},A0=se([Jn],t=>t?.dataKey),xAe=se([gK,_M,Jn],cK),SK=(t,e,n,r)=>{var i={},s=e.reduce((a,l)=>{if(l.stackId==null)return a;var c=a[l.stackId];return c==null&&(c=[]),c.push(l),a[l.stackId]=c,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[l,c]=a,d=r?[...c].reverse():c,f=d.map(lK);return[l,{stackedData:aSe(t,f,n),graphicalItems:d}]}))},wAe=se([xAe,gK,P1,tK],SK),TK=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var a=cSe(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},SAe=se([ai],t=>t.allowDataOverflow),VM=t=>{var e;if(t==null||!("domain"in t))return QC;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Zo(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:QC},EK=se([ai],VM),kK=se([EK,SAe],UG),TAe=se([wAe,tu,Xn,kK],TK,{memoizeOptions:{resultEqualityCheck:B1}}),BM=t=>t.errorBars,EAe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>wK(n,r)),sw=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},_K=(t,e,n,r,i)=>{var s,a;if(n.length>0&&t.forEach(l=>{n.forEach(c=>{var d,f,p=(d=r[c.id])===null||d===void 0?void 0:d.filter(k=>wK(i,k)),g=Cr(l,(f=e.dataKey)!==null&&f!==void 0?f:c.dataKey),v=bAe(l,g,p);if(v.length>=2){var b=Math.min(...v),E=Math.max(...v);(s==null||b<s)&&(s=b),(a==null||E>a)&&(a=E)}var S=OB(g);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),a=a==null?S[1]:Math.max(a,S[1]))})}),e?.dataKey!=null&&t.forEach(l=>{var c=OB(Cr(l,e.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),a=a==null?c[1]:Math.max(a,c[1]))}),Fn(s)&&Fn(a))return[s,a]},kAe=se([LM,ai,yAe,BM,Xn],_K,{memoizeOptions:{resultEqualityCheck:B1}});function _Ae(t){var{value:e}=t;if(Qa(e)||e instanceof Date)return e}var AAe=(t,e,n)=>{var r=t.map(_Ae).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&G7(r))?aG(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},AK=t=>t.referenceElements.dots,Qh=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),CAe=se([AK,Xn,V1],Qh),CK=t=>t.referenceElements.areas,NAe=se([CK,Xn,V1],Qh),NK=t=>t.referenceElements.lines,OAe=se([NK,Xn,V1],Qh),OK=(t,e)=>{if(t!=null){var n=Zo(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},MAe=se(CAe,Xn,OK),MK=(t,e)=>{if(t!=null){var n=Zo(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},jAe=se([NAe,Xn],MK);function IAe(t){var e;if(t.x!=null)return Zo([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Zo(n)}function DAe(t){var e;if(t.y!=null)return Zo([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Zo(n)}var jK=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?IAe(r):DAe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},PAe=se([OAe,Xn],jK),RAe=se(MAe,PAe,jAe,(t,e,n)=>sw(t,n,e)),IK=(t,e,n,r,i,s,a,l)=>{if(n!=null)return n;var c=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",d=c?sw(r,s,i):sw(s,i);return G_e(e,d,t.allowDataOverflow)},LAe=se([ai,EK,kK,TAe,kAe,RAe,Gt,Xn],IK,{memoizeOptions:{resultEqualityCheck:B1}}),VAe=[0,1],DK=(t,e,n,r,i,s,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:l,type:c}=t,d=Jc(e,s);if(d&&l==null){var f;return aG(0,(f=n?.length)!==null&&f!==void 0?f:0)}return c==="category"?AAe(r,t,d):i==="expand"?VAe:a}},zM=se([ai,Gt,LM,U1,P1,Xn,LAe],DK),PK=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(m0(s));return l in Cm?l:"point"}}},C0=se([ai,Gt,fK,NM,Xn],PK);function BAe(t){if(t!=null){if(t in Cm)return Cm[t]();var e="scale".concat(m0(t));if(e in Cm)return Cm[e]()}}function UM(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=BAe(e);if(i!=null){var s=i.domain(n).range(r);return nSe(s),s}}}var RK=(t,e,n)=>{var r=VM(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&zc(t))return nAe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&zc(t))return rAe(t,e.tickCount,e.allowDecimals)}},FM=se([zM,k0,C0],RK),LK=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&zc(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],a=e[1],l=n[n.length-1];return[Math.min(i,s),Math.max(a,l)]}return e},zAe=se([ai,zM,FM,Xn],LK),UAe=se(U1,ai,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Zo(t.map(p=>p.value))).sort((p,g)=>p-g),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l],d=r[l+1];if(!(c==null||d==null)){var f=d-c;n=Math.min(n,f)}}return n/a}}),VK=se(UAe,Gt,iAe,Or,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Fn(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=Bc(n,t*s),l=t*s/2;return l-a-(l-a)/s*a}return 0}),FAe=(t,e,n)=>{var r=ul(t,e);return r==null||typeof r.padding!="string"?0:VK(t,"xAxis",e,n,r.padding)},$Ae=(t,e,n)=>{var r=dl(t,e);return r==null||typeof r.padding!="string"?0:VK(t,"yAxis",e,n,r.padding)},HAe=se(ul,FAe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),qAe=se(dl,$Ae,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),WAe=se([Or,HAe,k1,E1,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),GAe=se([Or,Gt,qAe,k1,E1,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),N0=(t,e,n,r)=>{var i;switch(e){case"xAxis":return WAe(t,n,r);case"yAxis":return GAe(t,n,r);case"zAxis":return(i=RM(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return sK(t);case"radiusAxis":return aK(t,n);default:return}},BK=se([ai,N0],R1),F1=se([ai,C0,zAe,BK],UM);se([_0,BM,Xn],EAe);function zK(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var $1=(t,e)=>e,H1=(t,e,n)=>n,KAe=se(S1,$1,H1,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(zK)),YAe=se(T1,$1,H1,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(zK)),UK=(t,e)=>({width:t.width,height:e.height}),XAe=(t,e)=>{var n=typeof e.width=="number"?e.width:b0;return{width:n,height:t.height}},QAe=se(Or,ul,UK),JAe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},ZAe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},eCe=se(ll,Or,KAe,$1,H1,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var c=UK(e,l);a==null&&(a=JAe(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;s[l.id]=a-Number(d)*c.height,a+=(d?-1:1)*c.height}),s}),tCe=se(ol,Or,YAe,$1,H1,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var c=XAe(e,l);a==null&&(a=ZAe(e,r,t));var d=r==="left"&&!i||r==="right"&&i;s[l.id]=a-Number(d)*c.width,a+=(d?-1:1)*c.width}),s}),nCe=(t,e)=>{var n=ul(t,e);if(n!=null)return eCe(t,n.orientation,n.mirror)},rCe=se([Or,ul,nCe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),iCe=(t,e)=>{var n=dl(t,e);if(n!=null)return tCe(t,n.orientation,n.mirror)},sCe=se([Or,dl,iCe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),aCe=se(Or,dl,(t,e)=>{var n=typeof e.width=="number"?e.width:b0;return{width:n,height:t.height}}),FK=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,l=Jc(t,r),c=e.map(d=>d.value);if(a&&l&&s==="category"&&i&&G7(c))return c}},$M=se([Gt,U1,ai,Xn],FK),$K=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=Jc(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(l=>l.value)}},HM=se([Gt,U1,k0,Xn],$K),MB=se([Gt,mAe,C0,F1,$M,HM,N0,FM,Xn],(t,e,n,r,i,s,a,l,c)=>{if(e!=null){var d=Jc(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:d,niceTicks:l,range:a,realScaleType:n,scale:r}}}),oCe=(t,e,n,r,i,s,a,l,c)=>{if(!(e==null||r==null)){var d=Jc(t,c),{type:f,ticks:p,tickCount:g}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=f==="category"&&r.bandwidth?r.bandwidth()/v:0;b=c==="angleAxis"&&s!=null&&s.length>=2?xs(s[0]-s[1])*2*b:b;var E=p||i;if(E){var S=E.map((k,C)=>{var O=a?a.indexOf(k):k;return{index:C,coordinate:r(O)+b,value:k,offset:b}});return S.filter(k=>Fn(k.coordinate))}return d&&l?l.map((k,C)=>({coordinate:r(k)+b,value:k,index:C,offset:b})).filter(k=>Fn(k.coordinate)):r.ticks?r.ticks(g).map(k=>({coordinate:r(k)+b,value:k,offset:b})):r.domain().map((k,C)=>({coordinate:r(k)+b,value:a?a[k]:k,index:C,offset:b}))}},HK=se([Gt,k0,C0,F1,FM,N0,$M,HM,Xn],oCe),lCe=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=Jc(t,a),{tickCount:c}=e,d=0;return d=a==="angleAxis"&&r?.length>=2?xs(r[0]-r[1])*2*d:d,l&&s?s.map((f,p)=>({coordinate:n(f)+d,value:f,index:p,offset:d})):n.ticks?n.ticks(c).map(f=>({coordinate:n(f)+d,value:f,offset:d})):n.domain().map((f,p)=>({coordinate:n(f)+d,value:i?i[f]:f,index:p,offset:d}))}},qK=se([Gt,k0,F1,N0,$M,HM,Xn],lCe),WK=se(ai,F1,(t,e)=>{if(!(t==null||e==null))return iw(iw({},t),{},{scale:e})}),cCe=se([ai,C0,zM,BK],UM);se((t,e,n)=>RM(t,n),cCe,(t,e)=>{if(!(t==null||e==null))return iw(iw({},t),{},{scale:e})});var uCe=se([Gt,S1,T1],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),GK=t=>t.options.defaultTooltipEventType,KK=t=>t.options.validateTooltipEventTypes;function YK(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function qM(t,e){var n=GK(t),r=KK(t);return YK(e,n,r)}function dCe(t){return Ve(e=>qM(e,t))}var XK=(t,e)=>{var n,r=Number(e);if(!(Xa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},fCe=t=>t.tooltip.settings,lc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},hCe={itemInteraction:{click:lc,hover:lc},axisInteraction:{click:lc,hover:lc},keyboardInteraction:lc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},QK=ki({name:"tooltip",initialState:hCe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Qt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=na(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Qt()},removeTooltipEntrySettings:{reducer(t,e){var n=na(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Qt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:pCe,replaceTooltipEntrySettings:mCe,removeTooltipEntrySettings:gCe,setTooltipSettingsState:yCe,setActiveMouseOverItemIndex:vCe,mouseLeaveItem:sPe,mouseLeaveChart:JK,setActiveClickItemIndex:aPe,setMouseOverAxisIndex:ZK,setMouseClickAxisIndex:bCe,setSyncInteraction:JC,setKeyboardInteraction:ZC}=QK.actions,xCe=QK.reducer;function jB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jB(Object(n),!0).forEach(function(r){wCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wCe(t,e,n){return(e=SCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SCe(t){var e=TCe(t,"string");return typeof e=="symbol"?e:e+""}function TCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ECe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function kCe(t){return t.index!=null}var eY=(t,e,n,r)=>{if(e==null)return lc;var i=ECe(t,e,n);if(i==null)return lc;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(kCe(i)){if(s)return Rv(Rv({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Rv(Rv({},lc),{},{coordinate:i.coordinate})};function _Ce(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function ACe(t,e){var n=_Ce(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return n>=s&&n<=a}function CCe(t,e,n){if(n==null||e==null)return!0;var r=Cr(t,e);return r==null||!zc(n)?!0:ACe(r,n)}var WM=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Fn(s))return i;var a=0,l=1/0;e.length>0&&(l=e.length-1);var c=Math.max(a,Math.min(s,l)),d=e[c];return d==null||CCe(d,n,r)?String(c):null},tY=(t,e,n,r,i,s,a,l)=>{if(!(s==null||l==null)){var c=a[0],d=c==null?void 0:l(c.positions,s);if(d!=null)return d;var f=i?.[Number(s)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:f.coordinate}}}},nY=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},O0=t=>t.options.tooltipPayloadSearcher,Jh=t=>t.tooltip;function IB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IB(Object(n),!0).forEach(function(r){NCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NCe(t,e,n){return(e=OCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OCe(t){var e=MCe(t,"string");return typeof e=="symbol"?e:e+""}function MCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jCe(t,e){return t??e}var rY=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:f}=n,p=[];return t.reduce((g,v)=>{var b,{dataDefinedOnItem:E,settings:S}=v,k=jCe(E,l),C=Array.isArray(k)?RW(k,d,f):k,O=(b=S?.dataKey)!==null&&b!==void 0?b:r,z=S?.nameKey,P;if(r&&Array.isArray(C)&&!Array.isArray(C[0])&&a==="axis"?P=K7(C,r,i):P=s(C,e,c,z),Array.isArray(P))P.forEach(I=>{var j=DB(DB({},S),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});g.push(WV({tooltipEntrySettings:j,dataKey:I.dataKey,payload:I.payload,value:Cr(I.payload,I.dataKey),name:I.name}))});else{var U;g.push(WV({tooltipEntrySettings:S,dataKey:O,payload:P,value:Cr(P,O),name:(U=Cr(P,z))!==null&&U!==void 0?U:S?.name}))}return g},p)}},GM=se([Jn,Gt,fK,NM,Qn],PK),ICe=se([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),DCe=se([Qn,Xh],hK),Zh=se([ICe,Jn,DCe],mK,{memoizeOptions:{resultEqualityCheck:z1}}),PCe=se([Zh],t=>t.filter(PM)),RCe=se([Zh],vK,{memoizeOptions:{resultEqualityCheck:z1}}),ep=se([RCe,tu],bK),LCe=se([PCe,tu,Jn],cK),KM=se([ep,Jn,Zh],xK),iY=se([Jn],VM),VCe=se([Jn],t=>t.allowDataOverflow),sY=se([iY,VCe],UG),BCe=se([Zh],t=>t.filter(PM)),zCe=se([LCe,BCe,P1,tK],SK),UCe=se([zCe,tu,Qn,sY],TK),FCe=se([Zh],yK),$Ce=se([ep,Jn,FCe,BM,Qn],_K,{memoizeOptions:{resultEqualityCheck:B1}}),HCe=se([AK,Qn,Xh],Qh),qCe=se([HCe,Qn],OK),WCe=se([CK,Qn,Xh],Qh),GCe=se([WCe,Qn],MK),KCe=se([NK,Qn,Xh],Qh),YCe=se([KCe,Qn],jK),XCe=se([qCe,YCe,GCe],sw),QCe=se([Jn,iY,sY,UCe,$Ce,XCe,Gt,Qn],IK),M0=se([Jn,Gt,ep,KM,P1,Qn,QCe],DK),JCe=se([M0,Jn,GM],RK),ZCe=se([Jn,M0,JCe,Qn],LK),aY=t=>{var e=Qn(t),n=Xh(t),r=!1;return N0(t,e,n,r)},oY=se([Jn,aY],R1),lY=se([Jn,GM,ZCe,oY],UM),e2e=se([Gt,KM,Jn,Qn],FK),t2e=se([Gt,KM,Jn,Qn],$K),n2e=(t,e,n,r,i,s,a,l)=>{if(e){var{type:c}=e,d=Jc(t,l);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/f:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?xs(i[0]-i[1])*2*p:p,d&&a?a.map((g,v)=>({coordinate:r(g)+p,value:g,index:v,offset:p})):r.domain().map((g,v)=>({coordinate:r(g)+p,value:s?s[g]:g,index:v,offset:p}))}}},fl=se([Gt,Jn,GM,lY,aY,e2e,t2e,Qn],n2e),YM=se([GK,KK,fCe],(t,e,n)=>YK(n.shared,t,e)),cY=t=>t.tooltip.settings.trigger,XM=t=>t.tooltip.settings.defaultIndex,j0=se([Jh,YM,cY,XM],eY),Vg=se([j0,ep,A0,M0],WM),uY=se([fl,Vg],XK),r2e=se([j0],t=>{if(t)return t.dataKey});se([j0],t=>{if(t)return t.graphicalItemId});var dY=se([Jh,YM,cY,XM],nY),i2e=se([ol,ll,Gt,Or,fl,XM,dY,O0],tY),s2e=se([j0,i2e],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),a2e=se([j0],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),o2e=se([dY,Vg,tu,A0,uY,O0,YM],rY),l2e=se([o2e],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function PB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PB(Object(n),!0).forEach(function(r){c2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c2e(t,e,n){return(e=u2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u2e(t){var e=d2e(t,"string");return typeof e=="symbol"?e:e+""}function d2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f2e=()=>Ve(Jn),h2e=()=>{var t=f2e(),e=Ve(fl),n=Ve(lY);return Ux(!t||!n?void 0:RB(RB({},t),{},{scale:n}),e)};function LB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function If(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LB(Object(n),!0).forEach(function(r){p2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p2e(t,e,n){return(e=m2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m2e(t){var e=g2e(t,"string");return typeof e=="symbol"?e:e+""}function g2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y2e=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},v2e=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:a}=r;return If(If(If({},r),Ar(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:c}=r;return If(If(If({},r),Ar(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function b2e(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var fY=(t,e,n,r,i)=>{var s,a=(s=e?.length)!==null&&s!==void 0?s:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var c,d,f,p,g,v=l>0?(c=n[l-1])===null||c===void 0?void 0:c.coordinate:(d=n[a-1])===null||d===void 0?void 0:d.coordinate,b=(f=n[l])===null||f===void 0?void 0:f.coordinate,E=l>=a-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(g=n[l+1])===null||g===void 0?void 0:g.coordinate,S=void 0;if(!(v==null||b==null||E==null))if(xs(b-v)!==xs(E-b)){var k=[];if(xs(E-b)===xs(i[1]-i[0])){S=E;var C=b+i[1]-i[0];k[0]=Math.min(C,(C+v)/2),k[1]=Math.max(C,(C+v)/2)}else{S=v;var O=E+i[1]-i[0];k[0]=Math.min(b,(O+b)/2),k[1]=Math.max(b,(O+b)/2)}var z=[Math.min(b,(S+b)/2),Math.max(b,(S+b)/2)];if(t>z[0]&&t<=z[1]||t>=k[0]&&t<=k[1]){var P;return(P=n[l])===null||P===void 0?void 0:P.index}}else{var U=Math.min(v,E),I=Math.max(v,E);if(t>(U+b)/2&&t<=(I+b)/2){var j;return(j=n[l])===null||j===void 0?void 0:j.index}}}else if(e)for(var M=0;M<a;M++){var R=e[M];if(R!=null){var V=e[M+1],L=e[M-1];if(M===0&&V!=null&&t<=(R.coordinate+V.coordinate)/2||M===a-1&&L!=null&&t>(R.coordinate+L.coordinate)/2||M>0&&M<a-1&&L!=null&&V!=null&&t>(R.coordinate+L.coordinate)/2&&t<=(R.coordinate+V.coordinate)/2)return R.index}}return-1},x2e=()=>Ve(NM),QM=(t,e)=>e,hY=(t,e,n)=>n,JM=(t,e,n,r)=>r,w2e=se(fl,t=>g1(t,e=>e.coordinate)),ZM=se([Jh,QM,hY,JM],eY),ej=se([ZM,ep,A0,M0],WM),S2e=(t,e,n)=>{if(e!=null){var r=Jh(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},pY=se([Jh,QM,hY,JM],nY),aw=se([ol,ll,Gt,Or,fl,JM,pY,O0],tY),T2e=se([ZM,aw],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),mY=se([fl,ej],XK),E2e=se([pY,ej,tu,A0,mY,O0,QM],rY),k2e=se([ZM,ej],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),_2e=(t,e,n,r,i,s,a)=>{if(!(!t||!n||!r||!i)&&b2e(t,a)){var l=uSe(t,e),c=fY(l,s,i,n,r),d=y2e(e,i,c,t);return{activeIndex:String(c),activeCoordinate:d}}},A2e=(t,e,n,r,i,s,a)=>{if(!(!t||!r||!i||!s||!n)){var l=lEe(t,n);if(l){var c=dSe(l,e),d=fY(c,a,s,r,i),f=v2e(e,s,d,l);return{activeIndex:String(d),activeCoordinate:f}}}},C2e=(t,e,n,r,i,s,a,l)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?_2e(t,e,r,i,s,a,l):A2e(t,e,n,r,i,s,a)},N2e=se(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),O2e=se(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Zr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:uAe}});function VB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VB(Object(n),!0).forEach(function(r){M2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M2e(t,e,n){return(e=j2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j2e(t){var e=I2e(t,"string");return typeof e=="symbol"?e:e+""}function I2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D2e={},P2e={zIndexMap:Object.values(Zr).reduce((t,e)=>BB(BB({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),D2e)},R2e=new Set(Object.values(Zr));function L2e(t){return R2e.has(t)}var gY=ki({name:"zIndex",initialState:P2e,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Qt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!L2e(n)&&delete t.zIndexMap[n])},prepare:Qt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Qt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Qt()}}}),{registerZIndexPortal:V2e,unregisterZIndexPortal:B2e,registerZIndexPortalElement:z2e,unregisterZIndexPortalElement:U2e}=gY.actions,F2e=gY.reducer;function hl(t){var{zIndex:e,children:n}=t,r=HSe(),i=r&&e!==void 0&&e!==0,s=_i(),a=ur();_.useLayoutEffect(()=>i?(a(V2e({zIndex:e})),()=>{a(B2e({zIndex:e}))}):g0,[a,e,i]);var l=Ve(c=>N2e(c,e,s));return i?l?XN.createPortal(n,l):null:n}function e2(){return e2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e2.apply(null,arguments)}function zB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zB(Object(n),!0).forEach(function(r){$2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $2e(t,e,n){return(e=H2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H2e(t){var e=q2e(t,"string");return typeof e=="symbol"?e:e+""}function q2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W2e(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return _.isValidElement(e)?_.cloneElement(e,r):_.createElement(n,r)}function G2e(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:l,cursor:c,tooltipEventType:d,chartName:f}=t,p=n,g=r,v=i;if(!c||!p||f!=="ScatterChart"&&d!=="axis")return null;var b,E,S;if(f==="ScatterChart")b=p,E=wTe,S=Zr.cursorLine;else if(f==="BarChart")b=STe(l,p,s,a),E=nG,S=Zr.cursorRectangle;else if(l==="radial"&&Q7(p)){var{cx:k,cy:C,radius:O,startAngle:z,endAngle:P}=rG(p);b={cx:k,cy:C,startAngle:z,endAngle:P,innerRadius:O,outerRadius:O},E=sG,S=Zr.cursorLine}else b={points:fEe(l,p,s)},E=QW,S=Zr.cursorLine;var U=typeof c=="object"&&"className"in c?c.className:void 0,I=Lv(Lv(Lv(Lv({stroke:"#ccc",pointerEvents:"none"},s),b),d1(c)),{},{payload:g,payloadIndex:v,className:yt("recharts-tooltip-cursor",U)});return _.createElement(hl,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},_.createElement(W2e,{cursor:c,cursorComp:E,cursorProps:I}))}function K2e(t){var e=h2e(),n=WW(),r=x0(),i=x2e();return e==null||n==null||r==null||i==null?null:_.createElement(G2e,e2({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var yY=_.createContext(null),Y2e=()=>_.useContext(yY),m_={exports:{}},UB;function X2e(){return UB||(UB=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function s(c,d,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,p||c,g),b=n?n+d:d;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],v]:c._events[b].push(v):(c._events[b]=v,c._eventsCount++),c}function a(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)e.call(f,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,b=new Array(v);g<v;g++)b[g]=p[g].fn;return b},l.prototype.listenerCount=function(d){var f=n?n+d:d,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,f,p,g,v,b){var E=n?n+d:d;if(!this._events[E])return!1;var S=this._events[E],k=arguments.length,C,O;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),k){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,f),!0;case 3:return S.fn.call(S.context,f,p),!0;case 4:return S.fn.call(S.context,f,p,g),!0;case 5:return S.fn.call(S.context,f,p,g,v),!0;case 6:return S.fn.call(S.context,f,p,g,v,b),!0}for(O=1,C=new Array(k-1);O<k;O++)C[O-1]=arguments[O];S.fn.apply(S.context,C)}else{var z=S.length,P;for(O=0;O<z;O++)switch(S[O].once&&this.removeListener(d,S[O].fn,void 0,!0),k){case 1:S[O].fn.call(S[O].context);break;case 2:S[O].fn.call(S[O].context,f);break;case 3:S[O].fn.call(S[O].context,f,p);break;case 4:S[O].fn.call(S[O].context,f,p,g);break;default:if(!C)for(P=1,C=new Array(k-1);P<k;P++)C[P-1]=arguments[P];S[O].fn.apply(S[O].context,C)}}return!0},l.prototype.on=function(d,f,p){return s(this,d,f,p,!1)},l.prototype.once=function(d,f,p){return s(this,d,f,p,!0)},l.prototype.removeListener=function(d,f,p,g){var v=n?n+d:d;if(!this._events[v])return this;if(!f)return a(this,v),this;var b=this._events[v];if(b.fn)b.fn===f&&(!g||b.once)&&(!p||b.context===p)&&a(this,v);else{for(var E=0,S=[],k=b.length;E<k;E++)(b[E].fn!==f||g&&!b[E].once||p&&b[E].context!==p)&&S.push(b[E]);S.length?this._events[v]=S.length===1?S[0]:S:a(this,v)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(m_)),m_.exports}var Q2e=X2e();const J2e=eo(Q2e);var Bg=new J2e,t2="recharts.syncEvent.tooltip",FB="recharts.syncEvent.brush";function Z2e(t,e){if(e){var n=Number.parseInt(e,10);if(!Xa(n))return t?.[n]}}var eNe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},vY=ki({name:"options",initialState:eNe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),tNe=vY.reducer,{createEventEmitter:nNe}=vY.actions;function rNe(t){return t.tooltip.syncInteraction}var iNe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},bY=ki({name:"chartData",initialState:iNe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:$B,setDataStartEndIndexes:sNe,setComputedData:oPe}=bY.actions,aNe=bY.reducer,oNe=["x","y"];function HB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Df(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HB(Object(n),!0).forEach(function(r){lNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lNe(t,e,n){return(e=cNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cNe(t){var e=uNe(t,"string");return typeof e=="symbol"?e:e+""}function uNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dNe(t,e){if(t==null)return{};var n,r,i=fNe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fNe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hNe(){var t=Ve(OM),e=Ve(MM),n=ur(),r=Ve(nK),i=Ve(fl),s=x0(),a=_1(),l=Ve(c=>c.rootProps.className);_.useEffect(()=>{if(t==null)return g0;var c=(d,f,p)=>{if(e!==p&&t===d){if(r==="index"){var g;if(a&&f!==null&&f!==void 0&&(g=f.payload)!==null&&g!==void 0&&g.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x:b,y:E}=v,S=dNe(v,oNe),{x:k,y:C,width:O,height:z}=f.payload.sourceViewBox,P=Df(Df({},S),{},{x:a.x+(O?(b-k)/O:0)*a.width,y:a.y+(z?(E-C)/z:0)*a.height});n(Df(Df({},f),{},{payload:Df(Df({},f.payload),{},{coordinate:P})}))}else n(f);return}if(i!=null){var U;if(typeof r=="function"){var I={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},j=r(i,I);U=i[j]}else r==="value"&&(U=i.find(W=>String(W.value)===f.payload.label));var{coordinate:M}=f.payload;if(U==null||f.payload.active===!1||M==null||a==null){n(JC({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:R,y:V}=M,L=Math.min(R,a.x+a.width),B=Math.min(V,a.y+a.height),X={x:s==="horizontal"?U.coordinate:L,y:s==="horizontal"?B:U.coordinate},ae=JC({active:f.payload.active,coordinate:X,dataKey:f.payload.dataKey,index:String(U.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(ae)}}};return Bg.on(t2,c),()=>{Bg.off(t2,c)}},[l,n,e,t,r,i,s,a])}function pNe(){var t=Ve(OM),e=Ve(MM),n=ur();_.useEffect(()=>{if(t==null)return g0;var r=(i,s,a)=>{e!==a&&t===i&&n(sNe(s))};return Bg.on(FB,r),()=>{Bg.off(FB,r)}},[n,e,t])}function mNe(){var t=ur();_.useEffect(()=>{t(nNe())},[t]),hNe(),pNe()}function gNe(t,e,n,r,i,s){var a=Ve(v=>S2e(v,t,e)),l=Ve(MM),c=Ve(OM),d=Ve(nK),f=Ve(rNe),p=f?.active,g=_1();_.useEffect(()=>{if(!p&&c!=null&&l!=null){var v=JC({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});Bg.emit(t2,c,v,l)}},[p,n,a,i,r,l,c,d,s,g])}function qB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qB(Object(n),!0).forEach(function(r){yNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yNe(t,e,n){return(e=vNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vNe(t){var e=bNe(t,"string");return typeof e=="symbol"?e:e+""}function bNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xNe(t){return t.dataKey}function wNe(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement(eTe,e)}var GB=[],SNe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function TNe(t){var e,n,r=Ei(t,SNe),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:l,content:c,filterNull:d,isAnimationActive:f,offset:p,payloadUniqBy:g,position:v,reverseDirection:b,useTranslate3d:E,wrapperStyle:S,cursor:k,shared:C,trigger:O,defaultIndex:z,portal:P,axisId:U}=r,I=ur(),j=typeof z=="number"?String(z):z;_.useEffect(()=>{I(yCe({shared:C,trigger:O,axisId:U,active:i,defaultIndex:j}))},[I,C,O,U,i,j]);var M=_1(),R=XW(),V=dCe(C),{activeIndex:L,isActive:B}=(e=Ve(we=>k2e(we,V,O,j)))!==null&&e!==void 0?e:{},X=Ve(we=>E2e(we,V,O,j)),ae=Ve(we=>mY(we,V,O,j)),W=Ve(we=>T2e(we,V,O,j)),Y=X,le=Y2e(),he=(n=i??B)!==null&&n!==void 0?n:!1,[Se,H]=n1e([Y,he]),ne=V==="axis"?ae:void 0;gNe(V,O,W,ne,L,he);var ye=P??le;if(ye==null||M==null||V==null)return null;var be=Y??GB;he||(be=GB),d&&be.length&&(be=Iwe(be.filter(we=>we.value!=null&&(we.hide!==!0||r.includeHidden)),g,xNe));var ke=be.length>0,pe=_.createElement(oTe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:f,active:he,coordinate:W,hasPayload:ke,offset:p,position:v,reverseDirection:b,useTranslate3d:E,viewBox:M,wrapperStyle:S,lastBoundingBox:Se,innerRef:H,hasPortalFromProps:!!P},wNe(c,WB(WB({},r),{},{payload:be,label:ne,active:he,activeIndex:L,coordinate:W,accessibilityLayer:R})));return _.createElement(_.Fragment,null,XN.createPortal(pe,ye),he&&_.createElement(K2e,{cursor:k,tooltipEventType:V,coordinate:W,payload:be,index:L}))}function ENe(t,e,n){return(e=kNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kNe(t){var e=_Ne(t,"string");return typeof e=="symbol"?e:e+""}function _Ne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ANe{constructor(e){ENe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function KB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CNe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KB(Object(n),!0).forEach(function(r){NNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NNe(t,e,n){return(e=ONe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ONe(t){var e=MNe(t,"string");return typeof e=="symbol"?e:e+""}function MNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jNe={cacheSize:2e3,enableCache:!0},xY=CNe({},jNe),YB=new ANe(xY.cacheSize),INe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XB="recharts_measurement_span";function DNe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var QB=(t,e)=>{try{var n=document.getElementById(XB);n||(n=document.createElement("span"),n.setAttribute("id",XB),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,INe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Qm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||C1.isSsr)return{width:0,height:0};if(!xY.enableCache)return QB(e,n);var r=DNe(e,n),i=YB.get(r);if(i)return i;var s=QB(e,n);return YB.set(r,s),s},wY;function PNe(t,e,n){return(e=RNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RNe(t){var e=LNe(t,"string");return typeof e=="symbol"?e:e+""}function LNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VNe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,BNe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,zNe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},UNe=["cm","mm","pt","pc","in","Q","px"];function FNe(t){return UNe.includes(t)}var eh="NaN";function $Ne(t,e){return t*zNe[e]}class wr{static parse(e){var n,[,r,i]=(n=BNe.exec(e))!==null&&n!==void 0?n:[];return r==null?wr.NaN:new wr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Xa(e)&&(this.unit=""),n!==""&&!VNe.test(n)&&(this.num=NaN,this.unit=""),FNe(n)&&(this.num=$Ne(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new wr(NaN,""):new wr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new wr(NaN,""):new wr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new wr(NaN,""):new wr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new wr(NaN,""):new wr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Xa(this.num)}}wY=wr;PNe(wr,"NaN",new wY(NaN,""));function SY(t){if(t==null||t.includes(eh))return eh;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=JB.exec(e))!==null&&n!==void 0?n:[],a=wr.parse(r??""),l=wr.parse(s??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return eh;e=e.replace(JB,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,f,p,g]=(d=ZB.exec(e))!==null&&d!==void 0?d:[],v=wr.parse(f??""),b=wr.parse(g??""),E=p==="+"?v.add(b):v.subtract(b);if(E.isNaN())return eh;e=e.replace(ZB,E.toString())}return e}var ez=/\(([^()]*)\)/;function HNe(t){for(var e=t,n;(n=ez.exec(e))!=null;){var[,r]=n;e=e.replace(ez,SY(r))}return e}function qNe(t){var e=t.replace(/\s+/g,"");return e=HNe(e),e=SY(e),e}function WNe(t){try{return qNe(t)}catch{return eh}}function g_(t){var e=WNe(t.slice(5,-1));return e===eh?"":e}var GNe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],KNe=["dx","dy","angle","className","breakAll"];function n2(){return n2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n2.apply(null,arguments)}function tz(t,e){if(t==null)return{};var n,r,i=YNe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function YNe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var TY=/[ \f\n\r\t\v\u2028\u2029]+/,EY=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];cr(e)||(n?i=e.toString().split(""):i=e.toString().split(TY));var s=i.map(l=>({word:l,width:Qm(l,r).width})),a=n?0:Qm("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function XNe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var kY=(t,e,n,r)=>t.reduce((i,s)=>{var{word:a,width:l}=s,c=i[i.length-1];if(c&&l!=null&&(e==null||r||c.width+l+n<Number(e)))c.words.push(a),c.width+=l+n;else{var d={words:[a],width:l};i.push(d)}return i},[]),_Y=t=>t.reduce((e,n)=>e.width>n.width?e:n),QNe="",nz=(t,e,n,r,i,s,a,l)=>{var c=t.slice(0,e),d=EY({breakAll:n,style:r,children:c+QNe});if(!d)return[!1,[]];var f=kY(d.wordsWithComputedWidth,s,a,l),p=f.length>i||_Y(f).width>Number(s);return[p,f]},JNe=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:l,breakAll:c}=t,d=je(s),f=String(a),p=kY(e,r,n,i);if(!d||i)return p;var g=p.length>s||_Y(p).width>Number(r);if(!g)return p;for(var v=0,b=f.length-1,E=0,S;v<=b&&E<=f.length-1;){var k=Math.floor((v+b)/2),C=k-1,[O,z]=nz(f,C,c,l,s,r,n,i),[P]=nz(f,k,c,l,s,r,n,i);if(!O&&!P&&(v=k+1),O&&P&&(b=k-1),!O&&P){S=z;break}E++}return S||p},rz=t=>{var e=cr(t)?[]:t.toString().split(TY);return[{words:e,width:void 0}]},ZNe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!C1.isSsr){var l,c,d=EY({breakAll:s,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:p}=d;l=f,c=p}else return rz(r);return JNe({breakAll:s,children:r,maxLines:a,style:i},l,c,e,!!n)}return rz(r)},AY="#808080",eOe={angle:0,breakAll:!1,capHeight:"0.71em",fill:AY,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},tj=_.forwardRef((t,e)=>{var n=Ei(t,eOe),{x:r,y:i,lineHeight:s,capHeight:a,fill:l,scaleToFit:c,textAnchor:d,verticalAnchor:f}=n,p=tz(n,GNe),g=_.useMemo(()=>ZNe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:v,dy:b,angle:E,className:S,breakAll:k}=p,C=tz(p,KNe);if(!Qa(r)||!Qa(i)||g.length===0)return null;var O=Number(r)+(je(v)?v:0),z=Number(i)+(je(b)?b:0);if(!Fn(O)||!Fn(z))return null;var P;switch(f){case"start":P=g_("calc(".concat(a,")"));break;case"middle":P=g_("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:P=g_("calc(".concat(g.length-1," * -").concat(s,")"));break}var U=[];if(c){var I=g[0].width,{width:j}=p;U.push("scale(".concat(je(j)&&je(I)?j/I:1,")"))}return E&&U.push("rotate(".concat(E,", ").concat(O,", ").concat(z,")")),U.length&&(C.transform=U.join(" ")),_.createElement("text",n2({},ii(C),{ref:e,x:O,y:z,className:yt("recharts-text",S),textAnchor:d,fill:l.includes("url")?AY:l}),g.map((M,R)=>{var V=M.words.join(k?"":" ");return _.createElement("tspan",{x:O,dy:R===0?P:s,key:"".concat(V,"-").concat(R)},V)}))});tj.displayName="Text";var tOe=["labelRef"],nOe=["content"];function iz(t,e){if(t==null)return{};var n,r,i=rOe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sz(Object(n),!0).forEach(function(r){iOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iOe(t,e,n){return(e=sOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sOe(t){var e=aOe(t,"string");return typeof e=="symbol"?e:e+""}function aOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mo(){return Mo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mo.apply(null,arguments)}var CY=_.createContext(null),oOe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a,children:l}=t,c=_.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a}),[e,n,r,i,s,a]);return _.createElement(CY.Provider,{value:c},l)},NY=()=>{var t=_.useContext(CY),e=_1();return t||qW(e)},lOe=_.createContext(null),cOe=()=>{var t=_.useContext(lOe),e=Ve(oK);return t||e},uOe=t=>{var{value:e,formatter:n}=t,r=cr(t.children)?e:t.children;return typeof n=="function"?n(r):r},nj=t=>t!=null&&typeof t=="function",dOe=(t,e)=>{var n=xs(e-t),r=Math.min(Math.abs(e-t),360);return n*r},fOe=(t,e,n,r,i)=>{var{offset:s,className:a}=t,{cx:l,cy:c,innerRadius:d,outerRadius:f,startAngle:p,endAngle:g,clockWise:v}=i,b=(d+f)/2,E=dOe(p,g),S=E>=0?1:-1,k,C;switch(e){case"insideStart":k=p+S*s,C=v;break;case"insideEnd":k=g-S*s,C=!v;break;case"end":k=g+S*s,C=v;break;default:throw new Error("Unsupported position ".concat(e))}C=E<=0?C:!C;var O=Ar(l,c,b,k),z=Ar(l,c,b,k+(C?1:-1)*359),P="M".concat(O.x,",").concat(O.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(C?0:1,`,
    `).concat(z.x,",").concat(z.y),U=cr(t.id)?Ng("recharts-radial-line-"):t.id;return _.createElement("text",Mo({},r,{dominantBaseline:"central",className:yt("recharts-radial-bar-label",a)}),_.createElement("defs",null,_.createElement("path",{id:U,d:P})),_.createElement("textPath",{xlinkHref:"#".concat(U)},n))},hOe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:c}=t,d=(l+c)/2;if(n==="outside"){var{x:f,y:p}=Ar(r,i,a+e,d);return{x:f,y:p,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:v,y:b}=Ar(r,i,g,d);return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},r2=t=>"cx"in t&&je(t.cx),pOe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!r2(n)&&(s=n);var{x:a,y:l,upperWidth:c,lowerWidth:d,height:f}=e,p=a,g=a+(c-d)/2,v=(p+g)/2,b=(c+d)/2,E=p+c/2,S=f>=0?1:-1,k=S*r,C=S>0?"end":"start",O=S>0?"start":"end",z=c>=0?1:-1,P=z*r,U=z>0?"end":"start",I=z>0?"start":"end";if(i==="top"){var j={x:p+c/2,y:l-k,textAnchor:"middle",verticalAnchor:C};return Sn(Sn({},j),s?{height:Math.max(l-s.y,0),width:c}:{})}if(i==="bottom"){var M={x:g+d/2,y:l+f+k,textAnchor:"middle",verticalAnchor:O};return Sn(Sn({},M),s?{height:Math.max(s.y+s.height-(l+f),0),width:d}:{})}if(i==="left"){var R={x:v-P,y:l+f/2,textAnchor:U,verticalAnchor:"middle"};return Sn(Sn({},R),s?{width:Math.max(R.x-s.x,0),height:f}:{})}if(i==="right"){var V={x:v+b+P,y:l+f/2,textAnchor:I,verticalAnchor:"middle"};return Sn(Sn({},V),s?{width:Math.max(s.x+s.width-V.x,0),height:f}:{})}var L=s?{width:b,height:f}:{};return i==="insideLeft"?Sn({x:v+P,y:l+f/2,textAnchor:I,verticalAnchor:"middle"},L):i==="insideRight"?Sn({x:v+b-P,y:l+f/2,textAnchor:U,verticalAnchor:"middle"},L):i==="insideTop"?Sn({x:p+c/2,y:l+k,textAnchor:"middle",verticalAnchor:O},L):i==="insideBottom"?Sn({x:g+d/2,y:l+f-k,textAnchor:"middle",verticalAnchor:C},L):i==="insideTopLeft"?Sn({x:p+P,y:l+k,textAnchor:I,verticalAnchor:O},L):i==="insideTopRight"?Sn({x:p+c-P,y:l+k,textAnchor:U,verticalAnchor:O},L):i==="insideBottomLeft"?Sn({x:g+P,y:l+f-k,textAnchor:I,verticalAnchor:C},L):i==="insideBottomRight"?Sn({x:g+d-P,y:l+f-k,textAnchor:U,verticalAnchor:C},L):i&&typeof i=="object"&&(je(i.x)||Ko(i.x))&&(je(i.y)||Ko(i.y))?Sn({x:a+Bc(i.x,b),y:l+Bc(i.y,f),textAnchor:"end",verticalAnchor:"end"},L):Sn({x:E,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},L)},mOe={angle:0,offset:5,zIndex:Zr.label,position:"middle",textBreakAll:!1};function tc(t){var e=Ei(t,mOe),{viewBox:n,position:r,value:i,children:s,content:a,className:l="",textBreakAll:c,labelRef:d}=e,f=cOe(),p=NY(),g=r==="center"?p:f??p,v,b,E;if(n==null?v=g:r2(n)?v=n:v=qW(n),!v||cr(i)&&cr(s)&&!_.isValidElement(a)&&typeof a!="function")return null;var S=Sn(Sn({},e),{},{viewBox:v});if(_.isValidElement(a)){var{labelRef:k}=S,C=iz(S,tOe);return _.cloneElement(a,C)}if(typeof a=="function"){var{content:O}=S,z=iz(S,nOe);if(b=_.createElement(a,z),_.isValidElement(b))return b}else b=uOe(e);var P=ii(e);if(r2(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return fOe(e,r,b,P,v);E=hOe(v,e.offset,e.position)}else E=pOe(e,v);return _.createElement(hl,{zIndex:e.zIndex},_.createElement(tj,Mo({ref:d,className:yt("recharts-label",l)},P,E,{textAnchor:XNe(P.textAnchor)?P.textAnchor:E.textAnchor,breakAll:c}),b))}tc.displayName="Label";var gOe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?_.createElement(tc,Mo({key:"label-implicit"},r)):Qa(t)?_.createElement(tc,Mo({key:"label-implicit",value:t},r)):_.isValidElement(t)?t.type===tc?_.cloneElement(t,Sn({key:"label-implicit"},r)):_.createElement(tc,Mo({key:"label-implicit",content:t},r)):nj(t)?_.createElement(tc,Mo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?_.createElement(tc,Mo({},t,{key:"label-implicit"},r)):null};function yOe(t){var{label:e,labelRef:n}=t,r=NY();return gOe(e,r,n)||null}var y_={},v_={},az;function vOe(){return az||(az=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(v_)),v_}var b_={},oz;function bOe(){return oz||(oz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(b_)),b_}var lz;function xOe(){return lz||(lz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vOe(),n=bOe(),r=WO();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(y_)),y_}var x_,cz;function wOe(){return cz||(cz=1,x_=xOe().last),x_}var SOe=wOe();const TOe=eo(SOe);var EOe=["valueAccessor"],kOe=["dataKey","clockWise","id","textBreakAll","zIndex"];function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(null,arguments)}function uz(t,e){if(t==null)return{};var n,r,i=_Oe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _Oe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var AOe=t=>Array.isArray(t.value)?TOe(t.value):t.value,OY=_.createContext(void 0),COe=OY.Provider,MY=_.createContext(void 0);MY.Provider;function NOe(){return _.useContext(OY)}function OOe(){return _.useContext(MY)}function lb(t){var{valueAccessor:e=AOe}=t,n=uz(t,EOe),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:l}=n,c=uz(n,kOe),d=NOe(),f=OOe(),p=d||f;return!p||!p.length?null:_.createElement(hl,{zIndex:l??Zr.label},_.createElement(Vc,{className:"recharts-label-list"},p.map((g,v)=>{var b,E=cr(r)?e(g,v):Cr(g&&g.payload,r),S=cr(s)?{}:{id:"".concat(s,"-").concat(v)};return _.createElement(tc,ow({key:"label-".concat(v)},ii(g),c,S,{fill:(b=n.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:E,textBreakAll:a,viewBox:g.viewBox,index:v,zIndex:0}))})))}lb.displayName="LabelList";function MOe(t){var{label:e}=t;return e?e===!0?_.createElement(lb,{key:"labelList-implicit"}):_.isValidElement(e)||nj(e)?_.createElement(lb,{key:"labelList-implicit",content:e}):typeof e=="object"?_.createElement(lb,ow({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function i2(){return i2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i2.apply(null,arguments)}var jY=t=>{var{cx:e,cy:n,r,className:i}=t,s=yt("recharts-dot",i);return je(e)&&je(n)&&je(r)?_.createElement("circle",i2({},Ya(t),qO(t),{className:s,cx:e,cy:n,r})):null},jOe={radiusAxis:{},angleAxis:{}},IY=ki({name:"polarAxis",initialState:jOe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:lPe,removeRadiusAxis:cPe,addAngleAxis:uPe,removeAngleAxis:dPe}=IY.actions,IOe=IY.reducer,DY=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,w_={},dz;function DOe(){return dz||(dz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(w_)),w_}var S_,fz;function POe(){return fz||(fz=1,S_=DOe().isPlainObject),S_}var ROe=POe();const LOe=eo(ROe);var hz,pz,mz,gz,yz;function vz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vz(Object(n),!0).forEach(function(r){VOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VOe(t,e,n){return(e=BOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BOe(t){var e=zOe(t,"string");return typeof e=="symbol"?e:e+""}function zOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(null,arguments)}function hm(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var xz=(t,e,n,r,i)=>{var s=n-r,a;return a=mn(hz||(hz=hm(["M ",",",""])),t,e),a+=mn(pz||(pz=hm(["L ",",",""])),t+n,e),a+=mn(mz||(mz=hm(["L ",",",""])),t+n-s/2,e+i),a+=mn(gz||(gz=hm(["L ",",",""])),t+n-s/2-r,e+i),a+=mn(yz||(yz=hm(["L ",","," Z"])),t,e),a},UOe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FOe=t=>{var e=Ei(t,UOe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:l}=e,{animationEasing:c,animationDuration:d,animationBegin:f,isUpdateAnimationActive:p}=e,g=_.useRef(null),[v,b]=_.useState(-1),E=_.useRef(i),S=_.useRef(s),k=_.useRef(a),C=_.useRef(n),O=_.useRef(r),z=nM(t,"trapezoid-");if(_.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var X=g.current.getTotalLength();X&&b(X)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var P=yt("recharts-trapezoid",l);if(!p)return _.createElement("g",null,_.createElement("path",lw({},ii(e),{className:P,d:xz(n,r,i,s,a)})));var U=E.current,I=S.current,j=k.current,M=C.current,R=O.current,V="0px ".concat(v===-1?1:v,"px"),L="".concat(v,"px 0px"),B=JW(["strokeDasharray"],d,c);return _.createElement(tM,{animationId:z,key:z,canBegin:v>0,duration:d,easing:c,isActive:p,begin:f},X=>{var ae=xi(U,i,X),W=xi(I,s,X),Y=xi(j,a,X),le=xi(M,n,X),he=xi(R,r,X);g.current&&(E.current=ae,S.current=W,k.current=Y,C.current=le,O.current=he);var Se=X>0?{transition:B,strokeDasharray:L}:{strokeDasharray:V};return _.createElement("path",lw({},ii(e),{className:P,d:xz(le,he,ae,W,Y),ref:g,style:bz(bz({},Se),e.style)}))})},$Oe=["option","shapeType","activeClassName"];function HOe(t,e){if(t==null)return{};var n,r,i=qOe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wz(Object(n),!0).forEach(function(r){WOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WOe(t,e,n){return(e=GOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GOe(t){var e=KOe(t,"string");return typeof e=="symbol"?e:e+""}function KOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YOe(t,e){return cw(cw({},e),t)}function XOe(t,e){return t==="symbols"}function Sz(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return _.createElement(nG,n);case"trapezoid":return _.createElement(FOe,n);case"sector":return _.createElement(sG,n);case"symbols":if(XOe(e))return _.createElement(X7,n);break;case"curve":return _.createElement(QW,n);default:return null}}function QOe(t){return _.isValidElement(t)?t.props:t}function JOe(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=HOe(t,$Oe),s;if(_.isValidElement(e))s=_.cloneElement(e,cw(cw({},i),QOe(e)));else if(typeof e=="function")s=e(i,i.index);else if(LOe(e)&&typeof e!="boolean"){var a=YOe(e,i);s=_.createElement(Sz,{shapeType:n,elementProps:a})}else{var l=i;s=_.createElement(Sz,{shapeType:n,elementProps:l})}return i.isActive?_.createElement(Vc,{className:r},s):s}function ZOe(t){var{tooltipEntrySettings:e}=t,n=ur(),r=_i(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(pCe(e)):i.current!==e&&n(mCe({prev:i.current,next:e})),i.current=e)},[e,n,r]),_.useLayoutEffect(()=>()=>{i.current&&(n(gCe(i.current)),i.current=null)},[n]),null}function eMe(t){var{legendPayload:e}=t,n=ur(),r=_i(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(WSe(e)):i.current!==e&&n(GSe({prev:i.current,next:e})),i.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{i.current&&(n(KSe(i.current)),i.current=null)},[n]),null}var T_,tMe=()=>{var[t]=_.useState(()=>Ng("uid-"));return t},nMe=(T_=$Q.useId)!==null&&T_!==void 0?T_:tMe;function rMe(t,e){var n=nMe();return e||(t?"".concat(t,"-").concat(n):n)}var iMe=_.createContext(void 0),sMe=t=>{var{id:e,type:n,children:r}=t,i=rMe("recharts-".concat(n),e);return _.createElement(iMe.Provider,{value:i},r(i))},aMe={cartesianItems:[],polarItems:[]},PY=ki({name:"graphicalItems",initialState:aMe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Qt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=na(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Qt()},removeCartesianGraphicalItem:{reducer(t,e){var n=na(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Qt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Qt()},removePolarGraphicalItem:{reducer(t,e){var n=na(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Qt()}}}),{addCartesianGraphicalItem:oMe,replaceCartesianGraphicalItem:lMe,removeCartesianGraphicalItem:cMe,addPolarGraphicalItem:fPe,removePolarGraphicalItem:hPe}=PY.actions,uMe=PY.reducer,dMe=t=>{var e=ur(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(oMe(t)):n.current!==t&&e(lMe({prev:n.current,next:t})),n.current=t},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(e(cMe(n.current)),n.current=null)},[e]),null},fMe=_.memo(dMe),hMe=["points"];function Tz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tz(Object(n),!0).forEach(function(r){pMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pMe(t,e,n){return(e=mMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mMe(t){var e=gMe(t,"string");return typeof e=="symbol"?e:e+""}function gMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(null,arguments)}function yMe(t,e){if(t==null)return{};var n,r,i=vMe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bMe(t){var{option:e,dotProps:n,className:r}=t;if(_.isValidElement(e))return _.cloneElement(e,n);if(typeof e=="function")return e(n);var i=yt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:a}=s,l=yMe(s,hMe);return _.createElement(jY,uw({},l,{className:i}))}function xMe(t,e){return t==null?!1:e?!0:t.length===1}function wMe(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:a,needClip:l,clipPathId:c,zIndex:d=Zr.scatter}=t;if(!xMe(e,n))return null;var f=DY(n),p=sxe(n),g=e.map((b,E)=>{var S,k,C=E_(E_(E_({r:3},a),p),{},{index:E,cx:(S=b.x)!==null&&S!==void 0?S:void 0,cy:(k=b.y)!==null&&k!==void 0?k:void 0,dataKey:s,value:b.value,payload:b.payload,points:e});return _.createElement(bMe,{key:"dot-".concat(E),option:n,dotProps:C,className:i})}),v={};return l&&c!=null&&(v.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(c,")")),_.createElement(hl,{zIndex:d},_.createElement(Vc,uw({className:r},v),g))}function Ez(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ez(Object(n),!0).forEach(function(r){SMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ez(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SMe(t,e,n){return(e=TMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TMe(t){var e=EMe(t,"string");return typeof e=="symbol"?e:e+""}function EMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kMe={xAxis:{},yAxis:{},zAxis:{}},RY=ki({name:"cartesianAxis",initialState:kMe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Qt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Qt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Qt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Qt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Qt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Qt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Qt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Qt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Qt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var a=[...s,r].slice(-3);t.yAxis[n]=kz(kz({},t.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:_Me,replaceXAxis:AMe,removeXAxis:CMe,addYAxis:NMe,replaceYAxis:OMe,removeYAxis:MMe,addZAxis:pPe,replaceZAxis:mPe,removeZAxis:gPe,updateYAxisWidth:jMe}=RY.actions,IMe=RY.reducer,DMe=se([Or],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),PMe=se([DMe,ol,ll],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),rj=()=>Ve(PMe),RMe=()=>Ve(l2e);function _z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_z(Object(n),!0).forEach(function(r){LMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_z(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LMe(t,e,n){return(e=VMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VMe(t){var e=BMe(t,"string");return typeof e=="symbol"?e:e+""}function BMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zMe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:a}=t;if(i===!1||e.x==null||e.y==null)return null;var l={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},c=k_(k_(k_({},l),d1(i)),qO(i)),d;return _.isValidElement(i)?d=_.cloneElement(i,c):typeof i=="function"?d=i(c):d=_.createElement(jY,c),_.createElement(Vc,{className:"recharts-active-dot",clipPath:a},d)};function UMe(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:a=Zr.activeDot}=t,l=Ve(Vg),c=RMe();if(e==null||c==null)return null;var d=e.find(f=>c.includes(f.payload));return cr(d)?null:_.createElement(hl,{zIndex:a},_.createElement(zMe,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var FMe=t=>{var{chartData:e}=t,n=ur(),r=_i();return _.useEffect(()=>r?()=>{}:(n($B(e)),()=>{n($B(void 0))}),[e,n,r]),null},Az={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},LY=ki({name:"brush",initialState:Az,reducers:{setBrushSettings(t,e){return e.payload==null?Az:e.payload}}}),{setBrushSettings:yPe}=LY.actions,$Me=LY.reducer;function HMe(t,e,n){return(e=qMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qMe(t){var e=WMe(t,"string");return typeof e=="symbol"?e:e+""}function WMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ij{static create(e){return new ij(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}HMe(ij,"EPS",1e-4);function GMe(t){return(t%180+180)%180}var KMe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=GMe(i),a=s*Math.PI/180,l=Math.atan(r/n),c=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},YMe={dots:[],areas:[],lines:[]},VY=ki({name:"referenceElements",initialState:YMe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=na(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=na(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=na(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:vPe,removeDot:bPe,addArea:xPe,removeArea:wPe,addLine:SPe,removeLine:TPe}=VY.actions,XMe=VY.reducer,QMe=_.createContext(void 0),JMe=t=>{var{children:e}=t,[n]=_.useState("".concat(Ng("recharts"),"-clip")),r=rj();if(r==null)return null;var{x:i,y:s,width:a,height:l}=r;return _.createElement(QMe.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:s,height:l,width:a}))),e)};function BY(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function ZMe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return KMe(r,n)}function eje(t,e,n){var r=n==="width",{x:i,y:s,width:a,height:l}=t;return e===1?{start:r?i:s,end:r?i+a:s+l}:{start:r?i+a:s+l,end:r?i:s}}function zg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function tje(t,e){return BY(t,e+1)}function nje(t,e,n,r,i){for(var s=(r||[]).slice(),{start:a,end:l}=e,c=0,d=1,f=a,p=function(){var b=r?.[c];if(b===void 0)return{v:BY(r,d)};var E=c,S,k=()=>(S===void 0&&(S=n(b,E)),S),C=b.coordinate,O=c===0||zg(t,C,k,f,l);O||(c=0,f=a,d+=1),O&&(f=C+t*(k()/2+i),c+=d)},g;d<=s.length;)if(g=p(),g)return g.v;return[]}function rje(t,e,n,r,i){var s=(r||[]).slice(),a=s.length;if(a===0)return[];for(var{start:l,end:c}=e,d=1;d<=a;d++){for(var f=(a-1)%d,p=l,g=!0,v=function(){var C=r[b],O=b,z,P=()=>(z===void 0&&(z=n(C,O)),z),U=C.coordinate,I=b===f||zg(t,U,P,p,c);if(!I)return g=!1,1;I&&(p=U+t*(P()/2+i))},b=f;b<a&&!v();b+=d);if(g){for(var E=[],S=f;S<a;S+=d)E.push(r[S]);return E}}return[]}function Cz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cz(Object(n),!0).forEach(function(r){ije(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ije(t,e,n){return(e=sje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sje(t){var e=aje(t,"string");return typeof e=="symbol"?e:e+""}function aje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oje(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:l}=e,{end:c}=e,d=function(g){var v=s[g],b,E=()=>(b===void 0&&(b=n(v,g)),b);if(g===a-1){var S=t*(v.coordinate+t*E()/2-c);s[g]=v=Lr(Lr({},v),{},{tickCoord:S>0?v.coordinate-S*t:v.coordinate})}else s[g]=v=Lr(Lr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var k=zg(t,v.tickCoord,E,l,c);k&&(c=v.tickCoord-t*(E()/2+i),s[g]=Lr(Lr({},v),{},{isShow:!0}))}},f=a-1;f>=0;f--)d(f);return s}function lje(t,e,n,r,i,s){var a=(r||[]).slice(),l=a.length,{start:c,end:d}=e;if(s){var f=r[l-1],p=n(f,l-1),g=t*(f.coordinate+t*p/2-d);if(a[l-1]=f=Lr(Lr({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate}),f.tickCoord!=null){var v=zg(t,f.tickCoord,()=>p,c,d);v&&(d=f.tickCoord-t*(p/2+i),a[l-1]=Lr(Lr({},f),{},{isShow:!0}))}}for(var b=s?l-1:l,E=function(C){var O=a[C],z,P=()=>(z===void 0&&(z=n(O,C)),z);if(C===0){var U=t*(O.coordinate-t*P()/2-c);a[C]=O=Lr(Lr({},O),{},{tickCoord:U<0?O.coordinate-U*t:O.coordinate})}else a[C]=O=Lr(Lr({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var I=zg(t,O.tickCoord,P,c,d);I&&(c=O.tickCoord+t*(P()/2+i),a[C]=Lr(Lr({},O),{},{isShow:!0}))}},S=0;S<b;S++)E(S);return a}function sj(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:c,tickFormatter:d,unit:f,angle:p}=t;if(!i||!i.length||!r)return[];if(je(c)||C1.isSsr){var g;return(g=tje(i,je(c)?c:0))!==null&&g!==void 0?g:[]}var v=[],b=l==="top"||l==="bottom"?"width":"height",E=f&&b==="width"?Qm(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(O,z)=>{var P=typeof d=="function"?d(O.value,z):O.value;return b==="width"?ZMe(Qm(P,{fontSize:e,letterSpacing:n}),E,p):Qm(P,{fontSize:e,letterSpacing:n})[b]},k=i.length>=2?xs(i[1].coordinate-i[0].coordinate):1,C=eje(s,k,b);return c==="equidistantPreserveStart"?nje(k,C,S,i,a):c==="equidistantPreserveEnd"?rje(k,C,S,i,a):(c==="preserveStart"||c==="preserveStartEnd"?v=lje(k,C,S,i,a,c==="preserveStartEnd"):v=oje(k,C,S,i,a),v.filter(O=>O.isShow))}var cje=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>a&&(a=p.width)}});var l=n?n.getBoundingClientRect().width:0,c=i+s,d=a+c+l+(n?r:0);return Math.round(d)}return 0},uje=["axisLine","width","height","className","hide","ticks","axisType"];function dje(t,e){if(t==null)return{};var n,r,i=fje(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Od.apply(null,arguments)}function Nz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nz(Object(n),!0).forEach(function(r){hje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hje(t,e,n){return(e=pje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pje(t){var e=mje(t,"string");return typeof e=="symbol"?e:e+""}function mje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Zr.axis};function gje(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:l,otherSvgProps:c}=t;if(!l)return null;var d=Pn(Pn(Pn({},c),Ya(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!a||s==="bottom"&&a);d=Pn(Pn({},d),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var p=+(s==="left"&&!a||s==="right"&&a);d=Pn(Pn({},d),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return _.createElement("line",Od({},d,{className:yt("recharts-cartesian-axis-line",m1(l,"className"))}))}function yje(t,e,n,r,i,s,a,l,c){var d,f,p,g,v,b,E=l?-1:1,S=t.tickSize||a,k=je(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":d=f=t.coordinate,g=n+ +!l*i,p=g-E*S,b=p-E*c,v=k;break;case"left":p=g=t.coordinate,f=e+ +!l*r,d=f-E*S,v=d-E*c,b=k;break;case"right":p=g=t.coordinate,f=e+ +l*r,d=f+E*S,v=d+E*c,b=k;break;default:d=f=t.coordinate,g=n+ +l*i,p=g+E*S,b=p+E*c,v=k;break}return{line:{x1:d,y1:p,x2:f,y2:g},tick:{x:v,y:b}}}function vje(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function bje(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function xje(t){var{option:e,tickProps:n,value:r}=t,i,s=yt(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))i=_.cloneElement(e,Pn(Pn({},n),{},{className:s}));else if(typeof e=="function")i=e(Pn(Pn({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=yt(a,e?.className)),i=_.createElement(tj,Od({},n,{className:a}),r)}return i}var wje=_.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:l,padding:c,tickTextProps:d,orientation:f,mirror:p,x:g,y:v,width:b,height:E,tickSize:S,tickMargin:k,fontSize:C,letterSpacing:O,getTicksConfig:z,events:P,axisType:U}=t,I=sj(Pn(Pn({},z),{},{ticks:n}),C,O),j=vje(f,p),M=bje(f,p),R=Ya(z),V=d1(r),L={};typeof i=="object"&&(L=i);var B=Pn(Pn({},R),{},{fill:"none"},L),X=I.map(Y=>Pn({entry:Y},yje(Y,g,v,b,E,f,S,p,k))),ae=X.map(Y=>{var{entry:le,line:he}=Y;return _.createElement(Vc,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(le.value,"-").concat(le.coordinate,"-").concat(le.tickCoord)},i&&_.createElement("line",Od({},B,he,{className:yt("recharts-cartesian-axis-tick-line",m1(i,"className"))})))}),W=X.map((Y,le)=>{var{entry:he,tick:Se}=Y,H=Pn(Pn(Pn(Pn({textAnchor:j,verticalAnchor:M},R),{},{stroke:"none",fill:s},V),Se),{},{index:le,payload:he,visibleTicksCount:I.length,tickFormatter:a,padding:c},d);return _.createElement(Vc,Od({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},cwe(P,he,le)),r&&_.createElement(xje,{option:r,tickProps:H,value:"".concat(typeof a=="function"?a(he.value,le):he.value).concat(l||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(U,"-ticks")},W.length>0&&_.createElement(hl,{zIndex:Zr.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(U,"-tick-labels"),ref:e},W)),ae.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(U,"-tick-lines")},ae))}),Sje=_.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:l,axisType:c}=t,d=dje(t,uje),[f,p]=_.useState(""),[g,v]=_.useState(""),b=_.useRef(null);_.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return cje({ticks:b.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=_.useCallback(S=>{if(S){var k=S.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=k;var C=k[0];if(C){var O=window.getComputedStyle(C),z=O.fontSize,P=O.letterSpacing;(z!==f||P!==g)&&(p(z),v(P))}}},[f,g]);return a||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(hl,{zIndex:t.zIndex},_.createElement(Vc,{className:yt("recharts-cartesian-axis",s)},_.createElement(gje,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ya(t)}),_.createElement(wje,{ref:E,axisType:c,events:d,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:g,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),_.createElement(oOe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},_.createElement(yOe,{label:t.label,labelRef:t.labelRef}),t.children)))}),aj=_.forwardRef((t,e)=>{var n=Ei(t,Uo);return _.createElement(Sje,Od({},n,{ref:e}))});aj.displayName="CartesianAxis";var Tje=["x1","y1","x2","y2","key"],Eje=["offset"],kje=["xAxisId","yAxisId"],_je=["xAxisId","yAxisId"];function Oz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oz(Object(n),!0).forEach(function(r){Aje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aje(t,e,n){return(e=Cje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cje(t){var e=Nje(t,"string");return typeof e=="symbol"?e:e+""}function Nje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ed(){return ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ed.apply(null,arguments)}function dw(t,e){if(t==null)return{};var n,r,i=Oje(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Oje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Mje=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:a,ry:l}=t;return _.createElement("rect",{x:r,y:i,ry:l,width:s,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function zY(t){var{option:e,lineItemProps:n}=t,r;if(_.isValidElement(e))r=_.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:a,x2:l,y2:c,key:d}=n,f=dw(n,Tje),p=(i=Ya(f))!==null&&i!==void 0?i:{},{offset:g}=p,v=dw(p,Eje);r=_.createElement("line",ed({},v,{x1:s,y1:a,x2:l,y2:c,fill:"none",key:d}))}return r}function jje(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=dw(t,kje),c=i.map((d,f)=>{var p=zr(zr({},l),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(f),index:f});return _.createElement(zY,{key:"line-".concat(f),option:r,lineItemProps:p})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Ije(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=dw(t,_je),c=i.map((d,f)=>{var p=zr(zr({},l),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(f),index:f});return _.createElement(zY,{option:r,lineItemProps:p,key:"line-".concat(f)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Dje(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:a,horizontalPoints:l,horizontal:c=!0}=t;if(!c||!e||!e.length||l==null)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==d[0]&&d.unshift(0);var f=d.map((p,g)=>{var v=!d[g+1],b=v?i+a-p:d[g+1]-p;if(b<=0)return null;var E=g%e.length;return _.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:b,width:s,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Pje(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:a,height:l,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var d=c.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==d[0]&&d.unshift(0);var f=d.map((p,g)=>{var v=!d[g+1],b=v?i+a-p:d[g+1]-p;if(b<=0)return null;var E=g%n.length;return _.createElement("rect",{key:"react-".concat(g),x:p,y:s,width:b,height:l,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Rje=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return LW(sj(zr(zr(zr({},Uo),n),{},{ticks:VW(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},Lje=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return LW(sj(zr(zr(zr({},Uo),n),{},{ticks:VW(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},Vje={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Zr.grid};function UY(t){var e=GW(),n=KW(),r=WW(),i=zr(zr({},Ei(t,Vje)),{},{x:je(t.x)?t.x:r.left,y:je(t.y)?t.y:r.top,width:je(t.width)?t.width:r.width,height:je(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:a,x:l,y:c,width:d,height:f,syncWithTicks:p,horizontalValues:g,verticalValues:v}=i,b=_i(),E=Ve(M=>MB(M,"xAxis",s,b)),S=Ve(M=>MB(M,"yAxis",a,b));if(!Ja(d)||!Ja(f)||!je(l)||!je(c))return null;var k=i.verticalCoordinatesGenerator||Rje,C=i.horizontalCoordinatesGenerator||Lje,{horizontalPoints:O,verticalPoints:z}=i;if((!O||!O.length)&&typeof C=="function"){var P=g&&g.length,U=C({yAxis:S?zr(zr({},S),{},{ticks:P?g:S.ticks}):void 0,width:e??d,height:n??f,offset:r},P?!0:p);Fx(Array.isArray(U),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(O=U)}if((!z||!z.length)&&typeof k=="function"){var I=v&&v.length,j=k({xAxis:E?zr(zr({},E),{},{ticks:I?v:E.ticks}):void 0,width:e??d,height:n??f,offset:r},I?!0:p);Fx(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(z=j)}return _.createElement(hl,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(Mje,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(Dje,ed({},i,{horizontalPoints:O})),_.createElement(Pje,ed({},i,{verticalPoints:z})),_.createElement(jje,ed({},i,{offset:r,horizontalPoints:O,xAxis:E,yAxis:S})),_.createElement(Ije,ed({},i,{offset:r,verticalPoints:z,xAxis:E,yAxis:S}))))}UY.displayName="CartesianGrid";var Bje={},FY=ki({name:"errorBars",initialState:Bje,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:EPe,replaceErrorBar:kPe,removeErrorBar:_Pe}=FY.actions,zje=FY.reducer,Uje=["children"];function Fje(t,e){if(t==null)return{};var n,r,i=$je(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $je(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hje={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},qje=_.createContext(Hje);function Wje(t){var{children:e}=t,n=Fje(t,Uje);return _.createElement(qje.Provider,{value:n},e)}function $Y(t,e){var n,r,i=Ve(d=>ul(d,t)),s=Ve(d=>dl(d,e)),a=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:nr.allowDataOverflow,l=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:rr.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function Gje(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=rj(),{needClipX:s,needClipY:a,needClip:l}=$Y(e,n);if(!l||!i)return null;var{x:c,y:d,width:f,height:p}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:s?c:c-f/2,y:a?d:d-p/2,width:s?f:f*2,height:a?p:p*2}))}var HY=(t,e,n,r)=>WK(t,"xAxis",e,r),qY=(t,e,n,r)=>qK(t,"xAxis",e,r),WY=(t,e,n,r)=>WK(t,"yAxis",n,r),GY=(t,e,n,r)=>qK(t,"yAxis",n,r),Kje=se([Gt,HY,WY,qY,GY],(t,e,n,r,i)=>Jc(t,"xAxis")?Ux(e,r,!1):Ux(n,i,!1)),Yje=(t,e,n,r,i)=>i;function Xje(t){return t.type==="line"}var Qje=se([pK,Yje],(t,e)=>t.filter(Xje).find(n=>n.id===e)),Jje=se([Gt,HY,WY,qY,GY,Qje,Kje,_M],(t,e,n,r,i,s,a,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:f}=l;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:p,data:g}=s,v;if(g!=null&&g.length>0?v=g:v=c?.slice(d,f+1),v!=null)return BIe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:a,displayedData:v})}});function Zje(t){var e=d1(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,a=Number(i),l=Number(s);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(l)||l<0)&&(l=r),{r:a,strokeWidth:l}}return{r:n,strokeWidth:r}}var __={exports:{}},A_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mz;function eIe(){if(Mz)return A_;Mz=1;var t=jh();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return A_.useSyncExternalStoreWithSelector=function(c,d,f,p,g){var v=i(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=a(function(){function S(P){if(!k){if(k=!0,C=P,P=p(P),g!==void 0&&b.hasValue){var U=b.value;if(g(U,P))return O=U}return O=P}if(U=O,n(C,P))return U;var I=p(P);return g!==void 0&&g(U,I)?(C=P,U):(C=P,O=I)}var k=!1,C,O,z=f===void 0?null:f;return[function(){return S(d())},z===null?void 0:function(){return S(z())}]},[d,f,p,g]);var E=r(c,v[0],v[1]);return s(function(){b.hasValue=!0,b.value=E},[E]),l(E),E},A_}var jz;function tIe(){return jz||(jz=1,__.exports=eIe()),__.exports}tIe();function nIe(t){t()}function rIe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){nIe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Iz={notify(){},get:()=>[]};function iIe(t,e){let n,r=Iz,i=0,s=!1;function a(E){f();const S=r.subscribe(E);let k=!1;return()=>{k||(k=!0,S(),p())}}function l(){r.notify()}function c(){b.onStateChange&&b.onStateChange()}function d(){return s}function f(){i++,n||(n=t.subscribe(c),r=rIe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Iz)}function g(){s||(s=!0,f())}function v(){s&&(s=!1,p())}const b={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return b}var sIe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aIe=sIe(),oIe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",lIe=oIe(),cIe=()=>aIe||lIe?_.useLayoutEffect:_.useEffect,uIe=cIe();function Dz(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function dIe(t,e){if(Dz(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!Dz(t[n[i]],e[n[i]]))return!1;return!0}var fIe=Symbol.for("react-redux-context"),hIe=typeof globalThis<"u"?globalThis:{};function pIe(){if(!_.createContext)return{};const t=hIe[fIe]??=new Map;let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var mIe=pIe();function gIe(t){const{children:e,context:n,serverState:r,store:i}=t,s=_.useMemo(()=>{const c=iIe(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),a=_.useMemo(()=>i.getState(),[i]);uIe(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=n||mIe;return _.createElement(l.Provider,{value:s},e)}var yIe=gIe,vIe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function bIe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function oj(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(vIe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!dIe(t[r],e[r]))return!1}else if(!bIe(t[r],e[r]))return!1;return!0}var xIe=["id"],wIe=["type","layout","connectNulls","needClip","shape"],SIe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Ug(){return Ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ug.apply(null,arguments)}function Pz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pz(Object(n),!0).forEach(function(r){TIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TIe(t,e,n){return(e=EIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EIe(t){var e=kIe(t,"string");return typeof e=="symbol"?e:e+""}function kIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lj(t,e){if(t==null)return{};var n,r,i=_Ie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _Ie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var AIe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:BW(n,e),payload:t}]},CIe=_.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:l,unit:c,tooltipType:d,id:f}=t,p={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:BW(a,e),hide:l,type:d,color:r,unit:c,graphicalItemId:f}};return _.createElement(ZOe,{tooltipEntrySettings:p})}),KY=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function NIe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var OIe=(t,e,n)=>{var r=n.reduce((p,g)=>p+g);if(!r)return KY(e,t);for(var i=Math.floor(t/r),s=t%r,a=e-t,l=[],c=0,d=0;c<n.length;d+=n[c],++c)if(d+n[c]>s){l=[...n.slice(0,c),s-d];break}var f=l.length%2===0?[0,a]:[a];return[...NIe(n,i),...l,...f].map(p=>"".concat(p,"px")).join(", ")};function MIe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:a}=r,{id:l}=r,c=lj(r,xIe),d=Ya(c);return _.createElement(wMe,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:d,needClip:a,clipPathId:e})}function jIe(t){var{showLabels:e,children:n,points:r}=t,i=_.useMemo(()=>r?.map(s=>{var a,l,c={x:(a=s.x)!==null&&a!==void 0?a:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Pa(Pa({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return _.createElement(COe,{value:e?i:void 0},n)}function Rz(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:a,layout:l,connectNulls:c,needClip:d,shape:f}=s,p=lj(s,wIe),g=Pa(Pa({},ii(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:a,layout:l,connectNulls:c,strokeDasharray:i??s.strokeDasharray});return _.createElement(_.Fragment,null,r?.length>1&&_.createElement(JOe,Ug({shapeType:"curve",option:f},g,{pathRef:n})),_.createElement(MIe,{points:r,clipPathId:e,props:s}))}function IIe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function DIe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:p,animateNewValues:g,width:v,height:b,onAnimationEnd:E,onAnimationStart:S}=n,k=i.current,C=nM(a,"recharts-line-"),O=_.useRef(C),[z,P]=_.useState(!1),U=!z,I=_.useCallback(()=>{typeof E=="function"&&E(),P(!1)},[E]),j=_.useCallback(()=>{typeof S=="function"&&S(),P(!0)},[S]),M=IIe(r.current),R=_.useRef(0);O.current!==C&&(R.current=s.current,O.current=C);var V=R.current;return _.createElement(jIe,{points:a,showLabels:U},n.children,_.createElement(tM,{animationId:C,begin:d,duration:f,isActive:c,easing:p,onAnimationEnd:I,onAnimationStart:j,key:C},L=>{var B=xi(V,M+V,L),X=Math.min(B,M),ae;if(c)if(l){var W="".concat(l).split(/[,\s]+/gim).map(he=>parseFloat(he));ae=OIe(X,M,W)}else ae=KY(M,X);else ae=l==null?void 0:String(l);if(L>0&&M>0&&(i.current=a,s.current=Math.max(s.current,X)),k){var Y=k.length/a.length,le=L===1?a:a.map((he,Se)=>{var H=Math.floor(Se*Y);if(k[H]){var ne=k[H];return Pa(Pa({},he),{},{x:xi(ne.x,he.x,L),y:xi(ne.y,he.y,L)})}return g?Pa(Pa({},he),{},{x:xi(v*2,he.x,L),y:xi(b/2,he.y,L)}):Pa(Pa({},he),{},{x:he.x,y:he.y})});return i.current=le,_.createElement(Rz,{props:n,points:le,clipPathId:e,pathRef:r,strokeDasharray:ae})}return _.createElement(Rz,{props:n,points:a,clipPathId:e,pathRef:r,strokeDasharray:ae})}),_.createElement(MOe,{label:n.label}))}function PIe(t){var{clipPathId:e,props:n}=t,r=_.useRef(null),i=_.useRef(0),s=_.useRef(null);return _.createElement(DIe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var RIe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Cr(t.payload,e)}};class LIe extends _.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:a,top:l,left:c,width:d,height:f,id:p,needClip:g,zIndex:v}=this.props;if(e)return null;var b=yt("recharts-line",i),E=p,{r:S,strokeWidth:k}=Zje(n),C=DY(n),O=S*2+k,z=g?"url(#clipPath-".concat(C?"":"dots-").concat(E,")"):void 0;return _.createElement(hl,{zIndex:v},_.createElement(Vc,{className:b},g&&_.createElement("defs",null,_.createElement(Gje,{clipPathId:E,xAxisId:s,yAxisId:a}),!C&&_.createElement("clipPath",{id:"clipPath-dots-".concat(E)},_.createElement("rect",{x:c-O/2,y:l-O/2,width:d+O,height:f+O}))),_.createElement(Wje,{xAxisId:s,yAxisId:a,data:r,dataPointFormatter:RIe,errorBarOffset:0},_.createElement(PIe,{props:this.props,clipPathId:E}))),_.createElement(UMe,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:z}))}}var YY={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Zr.line,type:"linear"};function VIe(t){var e=Ei(t,YY),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:c,hide:d,isAnimationActive:f,label:p,legendType:g,xAxisId:v,yAxisId:b,id:E}=e,S=lj(e,SIe),{needClip:k}=$Y(v,b),C=rj(),O=x0(),z=_i(),P=Ve(R=>Jje(R,v,b,z,E));if(O!=="horizontal"&&O!=="vertical"||P==null||C==null)return null;var{height:U,width:I,x:j,y:M}=C;return _.createElement(LIe,Ug({},S,{id:E,connectNulls:l,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:f,hide:d,label:p,legendType:g,xAxisId:v,yAxisId:b,points:P,layout:O,height:U,width:I,left:j,top:M,needClip:k}))}function BIe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:l,displayedData:c}=t;return c.map((d,f)=>{var p=Cr(d,a);if(e==="horizontal"){var g=$V({axis:n,ticks:i,bandSize:l,entry:d,index:f}),v=cr(p)?null:r.scale(p);return{x:g,y:v,value:p,payload:d}}var b=cr(p)?null:n.scale(p),E=$V({axis:r,ticks:s,bandSize:l,entry:d,index:f});return b==null||E==null?null:{x:b,y:E,value:p,payload:d}}).filter(Boolean)}function zIe(t){var e=Ei(t,YY),n=_i();return _.createElement(sMe,{id:e.id,type:"line"},r=>_.createElement(_.Fragment,null,_.createElement(eMe,{legendPayload:AIe(e)}),_.createElement(CIe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),_.createElement(fMe,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),_.createElement(VIe,Ug({},e,{id:r}))))}var cb=_.memo(zIe,oj);cb.displayName="Line";var UIe=["domain","range"],FIe=["domain","range"];function Lz(t,e){if(t==null)return{};var n,r,i=$Ie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $Ie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vz(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function XY(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=Lz(t,UIe),{domain:s,range:a}=e,l=Lz(e,FIe);return!Vz(n,s)||!Vz(r,a)?!1:oj(i,l)}var HIe=["dangerouslySetInnerHTML","ticks","scale"],qIe=["id","scale"];function s2(){return s2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s2.apply(null,arguments)}function Bz(t,e){if(t==null)return{};var n,r,i=WIe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WIe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function GIe(t){var e=ur(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(_Me(t)):n.current!==t&&e(AMe({prev:n.current,next:t})),n.current=t},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(CMe(n.current)),n.current=null)},[e]),null}var KIe=t=>{var{xAxisId:e,className:n}=t,r=Ve(UW),i=_i(),s="xAxis",a=Ve(k=>HK(k,s,e,i)),l=Ve(k=>QAe(k,e)),c=Ve(k=>rCe(k,e)),d=Ve(k=>uK(k,e));if(l==null||c==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:p,scale:g}=t,v=Bz(t,HIe),{id:b,scale:E}=d,S=Bz(d,qIe);return _.createElement(aj,s2({},v,S,{x:c.x,y:c.y,width:l.width,height:l.height,className:yt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:a,axisType:s}))},YIe={allowDataOverflow:nr.allowDataOverflow,allowDecimals:nr.allowDecimals,allowDuplicatedCategory:nr.allowDuplicatedCategory,angle:nr.angle,axisLine:Uo.axisLine,height:nr.height,hide:!1,includeHidden:nr.includeHidden,interval:nr.interval,minTickGap:nr.minTickGap,mirror:nr.mirror,orientation:nr.orientation,padding:nr.padding,reversed:nr.reversed,scale:nr.scale,tick:nr.tick,tickCount:nr.tickCount,tickLine:Uo.tickLine,tickSize:Uo.tickSize,type:nr.type,xAxisId:0},XIe=t=>{var e=Ei(t,YIe);return _.createElement(_.Fragment,null,_.createElement(GIe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),_.createElement(KIe,e))},QY=_.memo(XIe,XY);QY.displayName="XAxis";var QIe=["dangerouslySetInnerHTML","ticks","scale"],JIe=["id","scale"];function a2(){return a2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a2.apply(null,arguments)}function zz(t,e){if(t==null)return{};var n,r,i=ZIe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ZIe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eDe(t){var e=ur(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(NMe(t)):n.current!==t&&e(OMe({prev:n.current,next:t})),n.current=t},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(MMe(n.current)),n.current=null)},[e]),null}var tDe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=_.useRef(null),a=_.useRef(null),l=Ve(UW),c=_i(),d=ur(),f="yAxis",p=Ve(U=>aCe(U,e)),g=Ve(U=>sCe(U,e)),v=Ve(U=>HK(U,f,e,c)),b=Ve(U=>dK(U,e));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!p||nj(i)||_.isValidElement(i)||b==null)){var U=s.current;if(U){var I=U.getCalculatedWidth();Math.round(p.width)!==Math.round(I)&&d(jMe({id:e,width:I}))}}},[v,p,d,i,e,r,b]),p==null||g==null||b==null)return null;var{dangerouslySetInnerHTML:E,ticks:S,scale:k}=t,C=zz(t,QIe),{id:O,scale:z}=b,P=zz(b,JIe);return _.createElement(aj,a2({},C,P,{ref:s,labelRef:a,x:g.x,y:g.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:yt("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:v,axisType:f}))},nDe={allowDataOverflow:rr.allowDataOverflow,allowDecimals:rr.allowDecimals,allowDuplicatedCategory:rr.allowDuplicatedCategory,angle:rr.angle,axisLine:Uo.axisLine,hide:!1,includeHidden:rr.includeHidden,interval:rr.interval,minTickGap:rr.minTickGap,mirror:rr.mirror,orientation:rr.orientation,padding:rr.padding,reversed:rr.reversed,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,tickLine:Uo.tickLine,tickSize:Uo.tickSize,type:rr.type,width:rr.width,yAxisId:0},rDe=t=>{var e=Ei(t,nDe);return _.createElement(_.Fragment,null,_.createElement(eDe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),_.createElement(tDe,e))},JY=_.memo(rDe,XY);JY.displayName="YAxis";var iDe=(t,e)=>e,cj=se([iDe,Gt,oK,Qn,oY,fl,w2e,Or],C2e),uj=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},ZY=Os("mouseClick"),eX=v0();eX.startListening({actionCreator:ZY,effect:(t,e)=>{var n=t.payload,r=cj(e.getState(),uj(n));r?.activeIndex!=null&&e.dispatch(bCe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var o2=Os("mouseMove"),tX=v0(),Vv=null;tX.startListening({actionCreator:o2,effect:(t,e)=>{var n=t.payload;Vv!==null&&cancelAnimationFrame(Vv);var r=uj(n);Vv=requestAnimationFrame(()=>{var i=e.getState(),s=qM(i,i.tooltip.settings.shared);if(s==="axis"){var a=cj(i,r);a?.activeIndex!=null?e.dispatch(ZK({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(JK())}Vv=null})}});function sDe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var Uz={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},nX=ki({name:"rootProps",initialState:Uz,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Uz.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),aDe=nX.reducer,{updateOptions:oDe}=nX.actions,rX=ki({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:APe}=rX.actions,lDe=rX.reducer,iX=Os("keyDown"),sX=Os("focus"),dj=v0();dj.startListening({actionCreator:iX,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=WM(i,ep(n),A0(n),M0(n)),l=a==null?-1:Number(a);if(!(!Number.isFinite(l)||l<0)){var c=fl(n);if(s==="Enter"){var d=aw(n,"axis","hover",String(i.index));e.dispatch(ZC({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var f=uCe(n),p=f==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=l+g*p;if(!(c==null||v>=c.length||v<0)){var b=aw(n,"axis","hover",String(v));e.dispatch(ZC({active:!0,activeIndex:v.toString(),activeCoordinate:b}))}}}}}});dj.startListening({actionCreator:sX,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=aw(n,"axis","hover",String(s));e.dispatch(ZC({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var fs=Os("externalEvent"),aX=v0(),C_=new Map;aX.startListening({actionCreator:fs,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=C_.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var l=e.getState(),c={activeCoordinate:s2e(l),activeDataKey:r2e(l),activeIndex:Vg(l),activeLabel:uY(l),activeTooltipIndex:Vg(l),isTooltipActive:a2e(l)};n(c,r)}finally{C_.delete(i)}});C_.set(i,a)}}});var cDe=se([Jh],t=>t.tooltipItemPayloads),uDe=se([cDe,O0,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,n);return a}}}),oX=Os("touchMove"),lX=v0();lX.startListening({actionCreator:oX,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=qM(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var a=cj(r,uj({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(ZK({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(hSe),p=(l=d.getAttribute(pSe))!==null&&l!==void 0?l:void 0,g=Zh(r).find(E=>E.id===p);if(f==null||g==null||p==null)return;var{dataKey:v}=g,b=uDe(r,f,p);e.dispatch(vCe({activeDataKey:v,activeIndex:f,activeCoordinate:b,activeGraphicalItemId:p}))}}}});var dDe=dW({brush:$Me,cartesianAxis:IMe,chartData:aNe,errorBars:zje,graphicalItems:uMe,layout:Q1e,legend:YSe,options:tNe,polarAxis:IOe,polarOptions:lDe,referenceElements:XMe,rootProps:aDe,tooltip:xCe,zIndex:F2e}),fDe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return S1e({reducer:dDe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([eX.middleware,tX.middleware,dj.middleware,aX.middleware,lX.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(TW({type:"raf"}))},devTools:{serialize:{replacer:sDe},name:"recharts-".concat(n)}})};function hDe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=_i(),s=_.useRef(null);if(i)return n;s.current==null&&(s.current=fDe(e,r));var a=KO;return _.createElement(yIe,{context:a,store:s.current},n)}function pDe(t){var{layout:e,margin:n}=t,r=ur(),i=_i();return _.useEffect(()=>{i||(r(K1e(e)),r(G1e(n)))},[r,i,e,n]),null}var mDe=_.memo(pDe,oj);function gDe(t){var e=ur();return _.useEffect(()=>{e(oDe(t))},[e,t]),null}function Fz(t){var{zIndex:e,isPanorama:n}=t,r=_.useRef(null),i=ur();return _.useLayoutEffect(()=>(r.current&&i(z2e({zIndex:e,element:r.current,isPanorama:n})),()=>{i(U2e({zIndex:e,isPanorama:n}))}),[i,e,n]),_.createElement("g",{tabIndex:-1,ref:r})}function $z(t){var{children:e,isPanorama:n}=t,r=Ve(O2e);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return _.createElement(_.Fragment,null,i.map(a=>_.createElement(Fz,{key:a,zIndex:a,isPanorama:n})),e,s.map(a=>_.createElement(Fz,{key:a,zIndex:a,isPanorama:n})))}var yDe=["children"];function vDe(t,e){if(t==null)return{};var n,r,i=bDe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(null,arguments)}var xDe={width:"100%",height:"100%",display:"block"},wDe=_.forwardRef((t,e)=>{var n=GW(),r=KW(),i=XW();if(!Ja(n)||!Ja(r))return null;var{children:s,otherAttributes:a,title:l,desc:c}=t,d,f;return a!=null&&(typeof a.tabIndex=="number"?d=a.tabIndex:d=i?0:void 0,typeof a.role=="string"?f=a.role:f=i?"application":void 0),_.createElement(C7,fw({},a,{title:l,desc:c,role:f,tabIndex:d,width:n,height:r,style:xDe,ref:e}),s)}),SDe=t=>{var{children:e}=t,n=Ve(k1);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return _.createElement(C7,{width:r,height:i,x:a,y:s},e)},Hz=_.forwardRef((t,e)=>{var{children:n}=t,r=vDe(t,yDe),i=_i();return i?_.createElement(SDe,null,_.createElement($z,{isPanorama:!0},n)):_.createElement(wDe,fw({ref:e},r),_.createElement($z,{isPanorama:!1},n))});function TDe(){var t=ur(),[e,n]=_.useState(null),r=Ve(fSe);return _.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Fn(s)&&s!==r&&t(X1e(s))}},[e,t,r]),n}function qz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EDe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qz(Object(n),!0).forEach(function(r){kDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kDe(t,e,n){return(e=_De(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _De(t){var e=ADe(t,"string");return typeof e=="symbol"?e:e+""}function ADe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Md.apply(null,arguments)}var CDe=()=>(mNe(),null);function hw(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var NDe=_.forwardRef((t,e)=>{var n,r,i=_.useRef(null),[s,a]=_.useState({containerWidth:hw((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:hw((r=t.style)===null||r===void 0?void 0:r.height)}),l=_.useCallback((d,f)=>{a(p=>{var g=Math.round(d),v=Math.round(f);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),c=_.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:p}=d.getBoundingClientRect();l(f,p);var g=b=>{var{width:E,height:S}=b[0].contentRect;l(E,S)},v=new ResizeObserver(g);v.observe(d),i.current=v}},[e,l]);return _.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),_.createElement(_.Fragment,null,_.createElement(A1,{width:s.containerWidth,height:s.containerHeight}),_.createElement("div",Md({ref:c},t)))}),ODe=_.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=_.useState({containerWidth:hw(n),containerHeight:hw(r)}),a=_.useCallback((c,d)=>{s(f=>{var p=Math.round(c),g=Math.round(d);return f.containerWidth===p&&f.containerHeight===g?f:{containerWidth:p,containerHeight:g}})},[]),l=_.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:d,height:f}=c.getBoundingClientRect();a(d,f)}},[e,a]);return _.createElement(_.Fragment,null,_.createElement(A1,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",Md({ref:l},t)))}),MDe=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return _.createElement(_.Fragment,null,_.createElement(A1,{width:n,height:r}),_.createElement("div",Md({ref:e},t)))}),jDe=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ko(n)||Ko(r)?_.createElement(ODe,Md({},t,{ref:e})):_.createElement(MDe,Md({},t,{ref:e}))});function IDe(t){return t===!0?NDe:jDe}var DDe=_.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:f,onMouseMove:p,onMouseUp:g,onTouchEnd:v,onTouchMove:b,onTouchStart:E,style:S,width:k,responsive:C,dispatchTouchEvents:O=!0}=t,z=_.useRef(null),P=ur(),[U,I]=_.useState(null),[j,M]=_.useState(null),R=TDe(),V=eM(),L=V?.width>0?V.width:k,B=V?.height>0?V.height:i,X=_.useCallback(ie=>{R(ie),typeof e=="function"&&e(ie),I(ie),M(ie),ie!=null&&(z.current=ie)},[R,e,I,M]),ae=_.useCallback(ie=>{P(ZY(ie)),P(fs({handler:s,reactEvent:ie}))},[P,s]),W=_.useCallback(ie=>{P(o2(ie)),P(fs({handler:d,reactEvent:ie}))},[P,d]),Y=_.useCallback(ie=>{P(JK()),P(fs({handler:f,reactEvent:ie}))},[P,f]),le=_.useCallback(ie=>{P(o2(ie)),P(fs({handler:p,reactEvent:ie}))},[P,p]),he=_.useCallback(()=>{P(sX())},[P]),Se=_.useCallback(ie=>{P(iX(ie.key))},[P]),H=_.useCallback(ie=>{P(fs({handler:a,reactEvent:ie}))},[P,a]),ne=_.useCallback(ie=>{P(fs({handler:l,reactEvent:ie}))},[P,l]),ye=_.useCallback(ie=>{P(fs({handler:c,reactEvent:ie}))},[P,c]),be=_.useCallback(ie=>{P(fs({handler:g,reactEvent:ie}))},[P,g]),ke=_.useCallback(ie=>{P(fs({handler:E,reactEvent:ie}))},[P,E]),pe=_.useCallback(ie=>{O&&P(oX(ie)),P(fs({handler:b,reactEvent:ie}))},[P,O,b]),we=_.useCallback(ie=>{P(fs({handler:v,reactEvent:ie}))},[P,v]),et=IDe(C);return _.createElement(yY.Provider,{value:U},_.createElement(fxe.Provider,{value:j},_.createElement(et,{width:L??S?.width,height:B??S?.height,className:yt("recharts-wrapper",r),style:EDe({position:"relative",cursor:"default",width:L,height:B},S),onClick:ae,onContextMenu:H,onDoubleClick:ne,onFocus:he,onKeyDown:Se,onMouseDown:ye,onMouseEnter:W,onMouseLeave:Y,onMouseMove:le,onMouseUp:be,onTouchEnd:we,onTouchMove:pe,onTouchStart:ke,ref:X},_.createElement(CDe,null),n)))}),PDe=["width","height","responsive","children","className","style","compact","title","desc"];function RDe(t,e){if(t==null)return{};var n,r,i=LDe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function LDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var VDe=_.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:a,style:l,compact:c,title:d,desc:f}=t,p=RDe(t,PDe),g=Ya(p);return c?_.createElement(_.Fragment,null,_.createElement(A1,{width:n,height:r}),_.createElement(Hz,{otherAttributes:g,title:d,desc:f},s)):_.createElement(DDe,{className:a,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(Hz,{otherAttributes:g,title:d,desc:f,ref:e},_.createElement(JMe,null,s)))});function l2(){return l2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l2.apply(null,arguments)}var BDe={top:5,right:5,bottom:5,left:5},zDe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:BDe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},UDe=_.forwardRef(function(e,n){var r,i=Ei(e.categoricalChartProps,zDe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:d}=e,f={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return _.createElement(hDe,{preloadedState:{options:f},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:s},_.createElement(FMe,{chartData:d.data}),_.createElement(mDe,{layout:i.layout,margin:i.margin}),_.createElement(gDe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(VDe,l2({},i,{ref:n})))}),FDe=["axis"],$De=_.forwardRef((t,e)=>_.createElement(UDe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:FDe,tooltipPayloadSearcher:Z2e,categoricalChartProps:t,ref:e}));const ub={"Morning Meal":{label:"Morning",text:"text-amber-600 dark:text-amber-400",border:"border-amber-400"},"Night Meal":{label:"Night",text:"text-blue-600 dark:text-blue-400",border:"border-blue-400"},Snacks:{label:"Snacks",text:"text-purple-600 dark:text-purple-400",border:"border-purple-400"}},HDe=(t,e)=>{const n=t/e;return t===0?{comment:"Let's get started!",icon:m.jsx(Ds,{className:"w-4 h-4"}),color:"text-neutral-500"}:n>1.1?{comment:"A feast!",icon:m.jsx(aa,{className:"w-4 h-4"}),color:"text-red-500"}:n>1?{comment:"Goal hit!",icon:m.jsx(zm,{className:"w-4 h-4"}),color:"text-orange-500"}:n>=.8?{comment:"Almost there!",icon:m.jsx(ks,{className:"w-4 h-4"}),color:"text-green-500"}:{comment:"Balanced.",icon:m.jsx(c8,{className:"w-4 h-4"}),color:"text-blue-500"}},qDe=t=>t>400?{comment:"On fire!",icon:m.jsx(Ds,{className:"w-4 h-4"}),color:"text-orange-500"}:t>200?{comment:"Great work!",icon:m.jsx(s0,{className:"w-4 h-4"}),color:"text-blue-500"}:{comment:"Keep moving.",icon:m.jsx(LN,{className:"w-4 h-4"}),color:"text-neutral-500"},Wz=({title:t,value:e,subValue:n,status:r,theme:i="blue"})=>{const a={blue:{border:"border-blue-200/50 dark:border-blue-800/30",bg:"bg-blue-50/40 dark:bg-blue-900/10",text:"text-blue-600 dark:text-blue-400"},orange:{border:"border-orange-200/50 dark:border-orange-800/30",bg:"bg-orange-50/40 dark:bg-orange-900/10",text:"text-orange-600 dark:text-orange-400"}}[i];return m.jsxs("div",{className:`p-5 rounded-3xl border backdrop-blur-md ${a.bg} ${a.border}`,children:[m.jsxs("div",{className:"text-center",children:[m.jsx("span",{className:`font-bold uppercase text-[10px] tracking-widest opacity-70 ${a.text}`,children:t}),m.jsx("p",{className:`text-5xl font-black my-2 ${a.text}`,children:e}),m.jsx("div",{className:"flex items-center justify-center opacity-80 text-sm font-medium",children:n})]}),m.jsxs("div",{className:`mt-4 flex items-center justify-center gap-2 text-xs font-bold uppercase tracking-wider ${r.color} bg-white/50 dark:bg-black/20 py-1.5 rounded-full`,children:[r.icon,m.jsx("span",{children:r.comment})]})]})},WDe=({goal:t,setGoal:e})=>{const[n,r]=_.useState(!1),[i,s]=_.useState(String(t)),a=()=>{const l=parseInt(i);!isNaN(l)&&l>0&&e(l),r(!1)};return n?m.jsx("input",{type:"number",value:i,onChange:l=>s(l.target.value),onBlur:a,onKeyDown:l=>l.key==="Enter"&&a(),className:"w-16 bg-transparent border-b border-blue-400 text-center font-bold focus:outline-none",autoFocus:!0}):m.jsxs("button",{onClick:()=>r(!0),className:"hover:text-blue-500 transition-colors",children:["/ ",t," Goal"]})},GDe=({isOpen:t,onClose:e,onSave:n,entry:r,date:i})=>{const[s,a]=_.useState({date:i,category:"Morning Meal",name:"",calories:"",portion:"",notes:"",...r}),l=()=>{s.name&&s.calories&&n({...s,calories:Number(s.calories)})};return m.jsx(oa,{onClose:e,children:m.jsxs(rl,{title:r?"Edit Food":"Add Food",theme:"blue",onClose:e,onSave:l,children:[m.jsx("div",{className:"relative",children:m.jsx("select",{value:s.category,onChange:c=>a({...s,category:c.target.value}),className:"w-full p-3 bg-slate-500/10 dark:bg-slate-900/20 rounded-xl backdrop-blur-md border border-slate-500/20 focus:outline-none appearance-none text-neutral-800 dark:text-white font-bold",children:Object.keys(ub).map(c=>m.jsx("option",{value:c,className:"bg-white dark:bg-neutral-900",children:c},c))})}),m.jsx(Et,{placeholder:"Food Name",value:s.name,onChange:c=>a({...s,name:c.target.value}),autoFocus:!0,className:"bg-slate-500/10 dark:bg-slate-900/20 border-slate-500/20"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsx(Et,{type:"number",placeholder:"Calories",value:s.calories,onChange:c=>a({...s,calories:c.target.value}),className:"bg-slate-500/10 dark:bg-slate-900/20 border-slate-500/20"}),m.jsx(Et,{placeholder:"Portion (e.g. 100g)",value:s.portion,onChange:c=>a({...s,portion:c.target.value}),className:"bg-slate-500/10 dark:bg-slate-900/20 border-slate-500/20"})]})]})})},KDe=({isOpen:t,onClose:e,onSave:n,entry:r,date:i})=>{const[s,a]=_.useState(r?.steps?"steps":"exercise"),[l,c]=_.useState({date:i,name:"",time:"",calories:"",steps:"",...r}),d=()=>{const f=s==="steps"?{...l,name:"Daily Steps",calories:0,time:""}:{...l,steps:""};n({...f,calories:Number(f.calories),steps:Number(f.steps),time:Number(f.time)})};return m.jsx(oa,{onClose:e,children:m.jsxs(rl,{title:r?"Edit Activity":"Add Activity",theme:"orange",onClose:e,onSave:d,children:[m.jsxs("div",{className:"flex bg-slate-500/10 dark:bg-slate-900/20 p-1 rounded-xl mb-2 border border-slate-500/20",children:[m.jsx("button",{onClick:()=>a("exercise"),className:`flex-1 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all ${s==="exercise"?"bg-white/80 dark:bg-white/20 shadow-sm text-black dark:text-white":"text-neutral-500"}`,children:"Exercise"}),m.jsx("button",{onClick:()=>a("steps"),className:`flex-1 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all ${s==="steps"?"bg-white/80 dark:bg-white/20 shadow-sm text-black dark:text-white":"text-neutral-500"}`,children:"Steps"})]}),s==="exercise"?m.jsxs(m.Fragment,{children:[m.jsx(Et,{placeholder:"Activity Name",value:l.name,onChange:f=>c({...l,name:f.target.value}),autoFocus:!0,className:"bg-slate-500/10 dark:bg-slate-900/20 border-slate-500/20"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsx(Et,{type:"number",placeholder:"Time (mins)",value:l.time,onChange:f=>c({...l,time:f.target.value}),className:"bg-slate-500/10 dark:bg-slate-900/20 border-slate-500/20"}),m.jsx(Et,{type:"number",placeholder:"Calories Burned",value:l.calories,onChange:f=>c({...l,calories:f.target.value}),className:"bg-slate-500/10 dark:bg-slate-900/20 border-slate-500/20"})]})]}):m.jsx(Et,{type:"number",placeholder:"Total Steps",value:l.steps,onChange:f=>c({...l,steps:f.target.value}),autoFocus:!0,className:"bg-slate-500/10 dark:bg-slate-900/20 border-slate-500/20"})]})})};function YDe(){const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!0),[a,l]=_.useState(new Date().toISOString().slice(0,10)),[c,d]=_.useState({isOpen:!1,entry:null}),[f,p]=_.useState({isOpen:!1,entry:null}),[g,v]=_.useState(2e3),[b,E]=_.useState(7);_.useEffect(()=>{const R=Is(),V=js(R,async L=>{if(L){r(L.uid),s(!0);const B=await Ns(L.uid,"intakeEntries");e(B),s(!1)}});return()=>V()},[]);const S=async(R,V)=>{if(!n)return;const L={...R,type:V},B=await en(n,"intakeEntries",L,!!R.id);R.id?e(X=>X.map(ae=>ae.id===R.id?{...ae,...B}:ae)):e(X=>[B,...X])},k=async R=>{n&&window.confirm("Delete this entry?")&&(await sa(n,"intakeEntries",R),e(V=>V.filter(L=>L.id!==R)))},C=_.useMemo(()=>t.filter(R=>R.type==="intake"),[t]),O=_.useMemo(()=>t.filter(R=>R.type==="exercise"),[t]),z=_.useMemo(()=>C.filter(R=>R.date===a),[C,a]),P=_.useMemo(()=>O.filter(R=>R.date===a),[O,a]),U=z.reduce((R,V)=>R+V.calories,0),I=P.reduce((R,V)=>R+(V.calories||0)+(V.steps||0)*.04,0),j=R=>{const V=new Date(a);V.setDate(V.getDate()+R),l(V.toISOString().slice(0,10))},M=_.useMemo(()=>{const R=[],V=new Date;for(let L=b-1;L>=0;L--){const B=new Date;B.setDate(V.getDate()-L);const X=B.toISOString().slice(0,10),ae=C.filter(Y=>Y.date===X).reduce((Y,le)=>Y+le.calories,0),W=O.filter(Y=>Y.date===X).reduce((Y,le)=>Y+(le.calories||0)+(le.steps||0)*.04,0);R.push({date:X,intake:ae,burned:W,goal:g})}return R},[C,O,b,g]);return m.jsxs("main",{className:"min-h-screen pt-6 px-4 pb-20 w-full max-w-[98%] mx-auto bg-transparent text-neutral-900 dark:text-neutral-100",children:[m.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-10 gap-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-6xl font-black tracking-tighter leading-none bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-teal-500 dark:from-blue-400 dark:to-teal-400",children:"Health Tracker"}),m.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 font-bold mt-2 ml-1",children:"Fuel your body, track your energy."})]}),m.jsxs("div",{className:"flex items-center justify-between bg-white/40 dark:bg-neutral-900/40 backdrop-blur-md p-2 rounded-full border border-white/20 dark:border-white/10 shadow-lg gap-4",children:[m.jsx("button",{onClick:()=>j(-1),className:"p-2 hover:bg-white/50 dark:hover:bg-white/10 rounded-full transition-colors",children:m.jsx(yi,{className:"w-5 h-5"})}),m.jsx("span",{className:"font-bold text-lg min-w-[140px] text-center",children:new Date(a).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),m.jsx("button",{onClick:()=>j(1),className:"p-2 hover:bg-white/50 dark:hover:bg-white/10 rounded-full transition-colors",children:m.jsx(yi,{className:"w-5 h-5 rotate-180"})})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 pb-20",children:[m.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(Wz,{title:"Intake",value:U,subValue:m.jsx(WDe,{goal:g,setGoal:v}),status:HDe(U,g),theme:"blue"}),m.jsx(Wz,{title:"Burned",value:Math.round(I),subValue:"kcal estimated",status:qDe(I),theme:"orange"})]}),m.jsxs("div",{className:"bg-white/40 dark:bg-neutral-900/40 border border-white/20 dark:border-white/5 rounded-3xl p-6 backdrop-blur-md shadow-sm",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-neutral-200 dark:border-neutral-800 pb-4",children:[m.jsxs("h3",{className:"text-xl font-bold text-blue-600 dark:text-blue-400 flex items-center gap-2",children:[m.jsx(d8,{className:"w-6 h-6"})," Food"]}),m.jsx("button",{onClick:()=>d({isOpen:!0,entry:null}),className:"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 rounded-xl hover:scale-105 transition-transform",children:m.jsx(zn,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"space-y-4",children:[z.length===0&&m.jsx("p",{className:"text-sm text-neutral-400 text-center py-4",children:"No meals logged today."}),["Morning Meal","Night Meal","Snacks"].map(R=>{const V=z.filter(L=>L.category===R);return V.length===0?null:m.jsxs("div",{children:[m.jsx("p",{className:`text-[10px] font-bold uppercase tracking-widest mb-2 ${ub[R].text}`,children:ub[R].label}),m.jsx("div",{className:"space-y-2",children:V.map(L=>m.jsxs("div",{className:`flex justify-between items-center p-3 rounded-xl mb-1 group hover:bg-white/50 dark:hover:bg-black/20 border-l-4 ${ub[R].border} pl-4 transition-colors`,children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-sm text-neutral-800 dark:text-neutral-200",children:L.name}),m.jsxs("p",{className:"text-xs font-medium text-neutral-500",children:[L.calories," kcal ",m.jsx("span",{className:"text-neutral-300 mx-1",children:"|"})," ",L.portion]})]}),m.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>d({isOpen:!0,entry:L}),className:"p-1.5 text-neutral-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded",children:m.jsx(ei,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>k(L.id),className:"p-1.5 text-neutral-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:m.jsx(Hr,{className:"w-4 h-4"})})]})]},L.id))})]},R)})]})]}),m.jsxs("div",{className:"bg-white/40 dark:bg-neutral-900/40 border border-white/20 dark:border-white/5 rounded-3xl p-6 backdrop-blur-md shadow-sm",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-neutral-200 dark:border-neutral-800 pb-4",children:[m.jsxs("h3",{className:"text-xl font-bold text-orange-600 dark:text-orange-400 flex items-center gap-2",children:[m.jsx(f8,{className:"w-6 h-6"})," Activity"]}),m.jsx("button",{onClick:()=>p({isOpen:!0,entry:null}),className:"p-2 bg-orange-100 dark:bg-orange-900/30 text-orange-600 rounded-xl hover:scale-105 transition-transform",children:m.jsx(zn,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"space-y-3",children:[P.length===0&&m.jsx("p",{className:"text-sm text-neutral-400 text-center py-4",children:"No activity logged."}),P.map(R=>m.jsxs("div",{className:"flex justify-between items-center p-3 rounded-xl group hover:bg-white/50 dark:hover:bg-black/20 border-l-4 border-orange-400 pl-4 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[R.steps?m.jsx(LN,{className:"w-5 h-5 text-orange-400"}):m.jsx(s0,{className:"w-5 h-5 text-orange-400"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-sm text-neutral-800 dark:text-neutral-200",children:R.name}),m.jsx("p",{className:"text-xs font-medium text-neutral-500",children:R.steps?`${R.steps} steps`:`${R.calories} kcal  ${R.time}m`})]})]}),m.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>p({isOpen:!0,entry:R}),className:"p-1.5 text-neutral-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded",children:m.jsx(ei,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>k(R.id),className:"p-1.5 text-neutral-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:m.jsx(Hr,{className:"w-4 h-4"})})]})]},R.id))]})]})]}),m.jsx("div",{className:"lg:col-span-2 space-y-6",children:m.jsxs("div",{className:"bg-white/40 dark:bg-neutral-900/40 p-8 rounded-3xl border border-white/20 dark:border-white/5 backdrop-blur-md shadow-lg h-[500px] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsx("h3",{className:"text-2xl font-black text-neutral-800 dark:text-white",children:"Analytics"}),m.jsx("div",{className:"flex bg-neutral-100/50 dark:bg-neutral-800/50 rounded-xl p-1 border border-white/10",children:[7,30].map(R=>m.jsxs("button",{onClick:()=>E(R),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all ${b===R?"bg-white dark:bg-neutral-700 shadow-sm text-black dark:text-white":"text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-300"}`,children:[R," Days"]},R))})]}),m.jsx("div",{className:"flex-1 w-full min-h-0",children:m.jsx(FSe,{width:"100%",height:"100%",children:m.jsxs($De,{data:M,children:[m.jsx(UY,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),m.jsx(QY,{dataKey:"date",tickFormatter:R=>new Date(R).getDate(),stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,dy:10}),m.jsx(JY,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,dx:-10}),m.jsx(TNe,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",backdropFilter:"blur(8px)"},labelFormatter:R=>new Date(R).toLocaleDateString()}),m.jsx(cb,{type:"monotone",dataKey:"intake",stroke:"#60a5fa",strokeWidth:4,dot:!1,activeDot:{r:8,strokeWidth:0},name:"Calories In"}),m.jsx(cb,{type:"monotone",dataKey:"burned",stroke:"#f97316",strokeWidth:4,dot:!1,activeDot:{r:8,strokeWidth:0},name:"Calories Out"}),m.jsx(cb,{type:"step",dataKey:"goal",stroke:"#ef4444",strokeDasharray:"5 5",strokeWidth:2,dot:!1,name:"Goal"})]})})})]})}),m.jsxs(Wt,{children:[c.isOpen&&m.jsx(GDe,{isOpen:c.isOpen,onClose:()=>d({isOpen:!1,entry:null}),onSave:R=>{S(R,"intake"),d({isOpen:!1,entry:null})},entry:c.entry,date:a}),f.isOpen&&m.jsx(KDe,{isOpen:f.isOpen,onClose:()=>p({isOpen:!1,entry:null}),onSave:R=>{S(R,"exercise"),p({isOpen:!1,entry:null})},entry:f.entry,date:a})]})]})]})}const Gz=({className:t,animate:e,transition:n})=>m.jsx(Qe.div,{className:`absolute rounded-full filter blur-3xl opacity-30 dark:opacity-20 pointer-events-none ${t}`,animate:e,transition:n});function XDe(){const[t,e]=_.useState(null),[n,r]=_.useState(!0),[i,s]=_.useState(null),[a,l]=_.useState("dark"),[c,d]=_.useState("dashboard"),[f,p]=_.useState(!1),[g,v]=_.useState({yearlyObjectives:[],lifeGoals:[],importantGoals:[],skills:[],achievements:[],books:[],theses:[],likes:[],movies:[],music:[],intakeEntries:[],exerciseEntries:[],diaries:[],about:null}),[b,E]=_.useState(2200),[S,k]=_.useState(new Date().getFullYear()),[C,O]=_.useState(new Date().getMonth()+1),[z,P]=_.useState(()=>Array.from({length:5},(B,X)=>new Date().getFullYear()-2+X));_.useEffect(()=>{const B=document.documentElement;a==="dark"?B.classList.add("dark"):B.classList.remove("dark")},[a]),_.useEffect(()=>js(Bm,X=>{e(X),r(!1)},X=>{s("Auth Error"),r(!1)}),[]),_.useEffect(()=>{if(!t)return;const X=[{name:"yearlyObjectives",order:"createdAt"},{name:"lifeGoals",order:"orderIndex"},{name:"importantGoals",order:"orderIndex"},{name:"skills"},{name:"achievements"},{name:"books"},{name:"theses"},{name:"likes"},{name:"movies"},{name:"music"},{name:"intakeEntries"},{name:"exerciseEntries"},{name:"diaries"}].map(W=>{let Y=kA(TA(Bi,"artifacts",Eo,"users",t.uid,W.name));return W.order&&(Y=kA(Y,Z$(W.order))),j4(Y,le=>{v(he=>({...he,[W.name]:le.docs.map(Se=>({id:Se.id,...Se.data()}))}))})}),ae=j4(Ys(Bi,"artifacts",Eo,"users",t.uid,"about","main"),W=>{v(Y=>({...Y,about:W.exists()?W.data():{}}))});return X.push(ae),()=>X.forEach(W=>W())},[t]);const U=B=>({add:X=>n8(TA(Bi,"artifacts",Eo,"users",t.uid,B),{...X,ownerId:t.uid,createdAt:lv()}),update:(X,ae)=>Rb(Ys(Bi,"artifacts",Eo,"users",t.uid,B,X),{...ae,updatedAt:lv()}),delete:X=>_A(Ys(Bi,"artifacts",Eo,"users",t.uid,B,X))}),I={add:(B,X)=>M4(Ys(Bi,"artifacts",Eo,"users",t.uid,"diaries",B),{...X,ownerId:t.uid,updatedAt:lv()},{merge:!0}),update:(B,X)=>Rb(Ys(Bi,"artifacts",Eo,"users",t.uid,"diaries",B),{...X,updatedAt:lv()}),delete:B=>_A(Ys(Bi,"artifacts",Eo,"users",t.uid,"diaries",B))},j={objectives:U("yearlyObjectives"),lifeGoals:U("lifeGoals"),importantGoals:U("importantGoals"),skills:U("skills"),likes:U("likes"),achievements:U("achievements"),books:U("books"),theses:U("theses"),movies:U("movies"),music:U("music"),intake:U("intakeEntries"),exercise:U("exerciseEntries"),about:{update:B=>M4(Ys(Bi,"artifacts",Eo,"users",t.uid,"about","main"),B,{merge:!0})}},M=(B,X)=>{const ae=(B.subTasks||[]).map(W=>({...W}));X(B.id,{status:"in-progress",completedAt:null,subTasks:ae})},R=async(B,X,ae)=>{r(!0),s(null);try{B==="login"?await fse(Bm,X,ae):await dse(Bm,X,ae)}catch(W){s(W.message),r(!1)}},V={dashboard:{title:"Dashboard",icon:m.jsx(lue,{}),themeColor:"slate",component:m.jsx(yue,{data:{...g,objectives:g.yearlyObjectives,dailyCalorieGoal:b}})},diary:{title:"Diary",icon:m.jsx(Vb,{}),themeColor:"violet",component:m.jsx(obe,{entries:g.diaries,addEntry:I.add,updateEntry:I.update,deleteEntry:I.delete})},lifeGoals:{title:"Life Goals",icon:m.jsx(pg,{}),themeColor:"blue",component:m.jsx(dbe,{goals:g.lifeGoals,onAdd:j.lifeGoals.add,onUpdate:j.lifeGoals.update,onDelete:j.lifeGoals.delete,onEdit:()=>{},onRevert:M})},importantGoals:{title:"Important Goals",icon:m.jsx(zm,{}),themeColor:"red",component:m.jsx(mbe,{goals:g.importantGoals,onAdd:j.importantGoals.add,onUpdate:j.importantGoals.update,onDelete:j.importantGoals.delete,onEdit:()=>{},onRevert:M})},yearlyObjectives:{title:"Yearly Objectives",icon:m.jsx(ks,{}),themeColor:"blue",component:m.jsx(wbe,{objectives:g.yearlyObjectives,onAdd:j.objectives.add,onUpdateObjective:j.objectives.update,onDeleteObjective:j.objectives.delete,years:z,addNextYear:()=>P(B=>[...B,Math.max(...B)+1]),currentYear:S,setCurrentYear:k,selectedMonth:C,setSelectedMonth:O})},about:{title:"About Me",icon:m.jsx(CA,{}),themeColor:"slate",component:m.jsx(Cbe,{about:g.about,onUpdate:j.about.update})},skills:{title:"My Skills",icon:m.jsx(Uw,{}),themeColor:"violet",component:m.jsx(Dbe,{skills:g.skills,addSkill:j.skills.add,updateSkill:j.skills.update,deleteSkill:j.skills.delete})},hobbies:{title:"Hobbies",icon:m.jsx(c8,{}),themeColor:"pink",component:m.jsx(Vbe,{likes:g.likes,addLike:j.likes.add,updateLike:j.likes.update,deleteLike:j.likes.delete})},achievements:{title:"Achievements",icon:m.jsx(aa,{}),themeColor:"emerald",component:m.jsx(Fbe,{achievements:g.achievements,onAdd:j.achievements.add,onUpdate:j.achievements.update,onDelete:j.achievements.delete})},library:{title:"Library",icon:m.jsx(xc,{}),themeColor:"sky",component:m.jsx(Wbe,{books:g.books,onAdd:j.books.add,onUpdate:j.books.update,onDelete:j.books.delete})},theses:{title:"Theses",icon:m.jsx(wh,{}),themeColor:"teal",component:m.jsx(Xbe,{theses:g.theses,onAdd:j.theses.add,onUpdate:j.theses.update,onDelete:j.theses.delete})},movies:{title:"Movies",icon:m.jsx(u8,{}),themeColor:"slate",component:m.jsx(exe,{movies:g.movies,addMovie:j.movies.add,updateMovie:j.movies.update,deleteMovie:j.movies.delete})},music:{title:"Music",icon:m.jsx($w,{}),themeColor:"violet",component:m.jsx(txe,{music:g.music,addMusic:j.music.add,updateMusic:j.music.update,deleteMusic:j.music.delete})},health:{title:"Health",icon:m.jsx(Dd,{}),themeColor:"sky",component:m.jsx(YDe,{intakeEntries:g.intakeEntries,exerciseEntries:g.exerciseEntries,dailyGoal:b,setDailyGoal:E,onAddIntake:j.intake.add,onUpdateIntake:j.intake.update,onDeleteIntake:j.intake.delete,onAddExercise:j.exercise.add,onUpdateExercise:j.exercise.update,onDeleteExercise:j.exercise.delete})}};if(n)return m.jsx("div",{className:"h-screen flex items-center justify-center bg-neutral-900 text-white",children:m.jsx(a8,{className:"w-10 h-10 animate-spin"})});if(!t)return m.jsx(fue,{onLogin:(B,X)=>R("login",B,X),onSignUp:(B,X)=>R("signup",B,X),error:i,isLoading:n});const L=V[c];return m.jsxs("div",{className:"relative min-h-screen bg-neutral-50 dark:bg-neutral-900 text-neutral-800 dark:text-neutral-200 font-sans transition-colors duration-300 overflow-x-hidden",children:[m.jsx(Gz,{className:"bg-blue-400 w-[600px] h-[600px] top-[-10%] left-[-10%]",animate:{x:[0,100,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:1/0}}),m.jsx(Gz,{className:"bg-purple-400 w-[500px] h-[500px] bottom-[-10%] right-[-10%]",animate:{x:[0,-100,0],y:[0,-50,0],scale:[1,1.1,1]},transition:{duration:25,repeat:1/0}}),m.jsx("button",{onClick:()=>p(!0),className:"fixed top-6 left-6 z-50 p-3 bg-white/50 dark:bg-black/50 backdrop-blur-md rounded-full shadow-md hover:scale-110 transition-transform",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),m.jsx(QDe,{isOpen:f,onClose:()=>p(!1),activeView:c,setActiveView:d,config:V,theme:a,toggleTheme:()=>l(B=>B==="dark"?"light":"dark")}),m.jsx("main",{className:"relative z-10 pt-24 px-4 pb-12 max-w-8xl mx-auto",children:m.jsx("div",{className:c==="dashboard"?"":"md:pl-10",children:m.jsx(Wt,{mode:"wait",children:m.jsx(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:L.component},c)})})})]})}function QDe({isOpen:t,onClose:e,activeView:n,setActiveView:r,config:i,theme:s,toggleTheme:a}){return m.jsxs(m.Fragment,{children:[m.jsx(Wt,{children:t&&m.jsx(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:e})}),m.jsxs(Qe.div,{initial:{x:"-100%"},animate:{x:t?"0%":"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 left-0 h-full w-72 bg-white/80 dark:bg-neutral-900/90 backdrop-blur-xl border-r border-white/20 dark:border-white/5 z-50 flex flex-col p-6 shadow-2xl",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Menu"}),m.jsx("button",{onClick:a,className:"p-2 rounded-full bg-neutral-200 dark:bg-neutral-800",children:s==="dark"?m.jsx(Lb,{className:"w-5 h-5"}):m.jsx(Zce,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"flex-grow overflow-y-auto no-scrollbar space-y-1",children:Object.entries(i).map(([l,c])=>{const d=n===l,f={blue:"bg-blue-500",red:"bg-red-500",violet:"bg-violet-500",slate:"bg-slate-500",pink:"bg-pink-500",emerald:"bg-emerald-500",sky:"bg-sky-500",teal:"bg-teal-500"}[c.themeColor]||"bg-neutral-500";return m.jsxs("button",{onClick:()=>{r(l),e()},className:`w-full flex items-center gap-4 px-4 py-3 rounded-xl transition-all ${d?`${f} text-white shadow-lg`:"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800"}`,children:[c.icon,m.jsx("span",{className:"font-medium",children:c.title})]},l)})}),m.jsx("div",{className:"pt-6 border-t border-neutral-200 dark:border-neutral-800 mt-4",children:m.jsxs("button",{onClick:()=>mse(Bm),className:"w-full flex items-center gap-4 px-4 py-3 rounded-xl text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[m.jsx(aue,{className:"w-5 h-5"}),m.jsx("span",{className:"font-medium",children:"Sign Out"})]})})]})]})}YQ.createRoot(document.getElementById("root")).render(m.jsx(XDe,{}));
