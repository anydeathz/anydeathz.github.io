function ZX(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ta(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var AT={exports:{}},Fp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xR;function eQ(){if(xR)return Fp;xR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Fp.Fragment=e,Fp.jsx=n,Fp.jsxs=n,Fp}var wR;function tQ(){return wR||(wR=1,AT.exports=eQ()),AT.exports}var y=tQ(),kT={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SR;function nQ(){if(SR)return Ye;SR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function _(q,X,ye){this.props=q,this.context=X,this.refs=T,this.updater=ye||x}_.prototype.isReactComponent={},_.prototype.setState=function(q,X){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,X,"setState")},_.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function C(){}C.prototype=_.prototype;function D(q,X,ye){this.props=q,this.context=X,this.refs=T,this.updater=ye||x}var L=D.prototype=new C;L.constructor=D,S(L,_.prototype),L.isPureReactComponent=!0;var R=Array.isArray;function B(){}var N={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function P(q,X,ye){var we=ye.ref;return{$$typeof:t,type:q,key:X,ref:we!==void 0?we:null,props:ye}}function F(q,X){return P(q.type,X,q.props)}function V(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function $(q){var X={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ye){return X[ye]})}var U=/\/+/g;function me(q,X){return typeof q=="object"&&q!==null&&q.key!=null?$(""+q.key):X.toString(36)}function ve(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(B,B):(q.status="pending",q.then(function(X){q.status==="pending"&&(q.status="fulfilled",q.value=X)},function(X){q.status==="pending"&&(q.status="rejected",q.reason=X)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function G(q,X,ye,we,Se){var Ie=typeof q;(Ie==="undefined"||Ie==="boolean")&&(q=null);var Ve=!1;if(q===null)Ve=!0;else switch(Ie){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(q.$$typeof){case t:case e:Ve=!0;break;case d:return Ve=q._init,G(Ve(q._payload),X,ye,we,Se)}}if(Ve)return Se=Se(q),Ve=we===""?"."+me(q,0):we,R(Se)?(ye="",Ve!=null&&(ye=Ve.replace(U,"$&/")+"/"),G(Se,X,ye,"",function(ze){return ze})):Se!=null&&(V(Se)&&(Se=F(Se,ye+(Se.key==null||q&&q.key===Se.key?"":(""+Se.key).replace(U,"$&/")+"/")+Ve)),X.push(Se)),1;Ve=0;var ut=we===""?".":we+":";if(R(q))for(var fe=0;fe<q.length;fe++)we=q[fe],Ie=ut+me(we,fe),Ve+=G(we,X,ye,Ie,Se);else if(fe=v(q),typeof fe=="function")for(q=fe.call(q),fe=0;!(we=q.next()).done;)we=we.value,Ie=ut+me(we,fe++),Ve+=G(we,X,ye,Ie,Se);else if(Ie==="object"){if(typeof q.then=="function")return G(ve(q),X,ye,we,Se);throw X=String(q),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function K(q,X,ye){if(q==null)return q;var we=[],Se=0;return G(q,we,"","",function(Ie){return X.call(ye,Ie,Se++)}),we}function ae(q){if(q._status===-1){var X=q._result;X=X(),X.then(function(ye){(q._status===0||q._status===-1)&&(q._status=1,q._result=ye)},function(ye){(q._status===0||q._status===-1)&&(q._status=2,q._result=ye)}),q._status===-1&&(q._status=0,q._result=X)}if(q._status===1)return q._result.default;throw q._result}var pe=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},xe={map:K,forEach:function(q,X,ye){K(q,function(){X.apply(this,arguments)},ye)},count:function(q){var X=0;return K(q,function(){X++}),X},toArray:function(q){return K(q,function(X){return X})||[]},only:function(q){if(!V(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Ye.Activity=p,Ye.Children=xe,Ye.Component=_,Ye.Fragment=n,Ye.Profiler=i,Ye.PureComponent=D,Ye.StrictMode=r,Ye.Suspense=u,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(q){return N.H.useMemoCache(q)}},Ye.cache=function(q){return function(){return q.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(q,X,ye){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var we=S({},q.props),Se=q.key;if(X!=null)for(Ie in X.key!==void 0&&(Se=""+X.key),X)!M.call(X,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&X.ref===void 0||(we[Ie]=X[Ie]);var Ie=arguments.length-2;if(Ie===1)we.children=ye;else if(1<Ie){for(var Ve=Array(Ie),ut=0;ut<Ie;ut++)Ve[ut]=arguments[ut+2];we.children=Ve}return P(q.type,Se,we)},Ye.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},Ye.createElement=function(q,X,ye){var we,Se={},Ie=null;if(X!=null)for(we in X.key!==void 0&&(Ie=""+X.key),X)M.call(X,we)&&we!=="key"&&we!=="__self"&&we!=="__source"&&(Se[we]=X[we]);var Ve=arguments.length-2;if(Ve===1)Se.children=ye;else if(1<Ve){for(var ut=Array(Ve),fe=0;fe<Ve;fe++)ut[fe]=arguments[fe+2];Se.children=ut}if(q&&q.defaultProps)for(we in Ve=q.defaultProps,Ve)Se[we]===void 0&&(Se[we]=Ve[we]);return P(q,Ie,Se)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(q){return{$$typeof:l,render:q}},Ye.isValidElement=V,Ye.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:ae}},Ye.memo=function(q,X){return{$$typeof:f,type:q,compare:X===void 0?null:X}},Ye.startTransition=function(q){var X=N.T,ye={};N.T=ye;try{var we=q(),Se=N.S;Se!==null&&Se(ye,we),typeof we=="object"&&we!==null&&typeof we.then=="function"&&we.then(B,pe)}catch(Ie){pe(Ie)}finally{X!==null&&ye.types!==null&&(X.types=ye.types),N.T=X}},Ye.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ye.use=function(q){return N.H.use(q)},Ye.useActionState=function(q,X,ye){return N.H.useActionState(q,X,ye)},Ye.useCallback=function(q,X){return N.H.useCallback(q,X)},Ye.useContext=function(q){return N.H.useContext(q)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(q,X){return N.H.useDeferredValue(q,X)},Ye.useEffect=function(q,X){return N.H.useEffect(q,X)},Ye.useEffectEvent=function(q){return N.H.useEffectEvent(q)},Ye.useId=function(){return N.H.useId()},Ye.useImperativeHandle=function(q,X,ye){return N.H.useImperativeHandle(q,X,ye)},Ye.useInsertionEffect=function(q,X){return N.H.useInsertionEffect(q,X)},Ye.useLayoutEffect=function(q,X){return N.H.useLayoutEffect(q,X)},Ye.useMemo=function(q,X){return N.H.useMemo(q,X)},Ye.useOptimistic=function(q,X){return N.H.useOptimistic(q,X)},Ye.useReducer=function(q,X,ye){return N.H.useReducer(q,X,ye)},Ye.useRef=function(q){return N.H.useRef(q)},Ye.useState=function(q){return N.H.useState(q)},Ye.useSyncExternalStore=function(q,X,ye){return N.H.useSyncExternalStore(q,X,ye)},Ye.useTransition=function(){return N.H.useTransition()},Ye.version="19.2.0",Ye}var TR;function Ch(){return TR||(TR=1,kT.exports=nQ()),kT.exports}var A=Ch();const Di=Ta(A),rQ=ZX({__proto__:null,default:Di},[A]);var CT={exports:{}},$p={},OT={exports:{}},NT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ER;function iQ(){return ER||(ER=1,(function(t){function e(G,K){var ae=G.length;G.push(K);e:for(;0<ae;){var pe=ae-1>>>1,xe=G[pe];if(0<i(xe,K))G[pe]=K,G[ae]=xe,ae=pe;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var K=G[0],ae=G.pop();if(ae!==K){G[0]=ae;e:for(var pe=0,xe=G.length,q=xe>>>1;pe<q;){var X=2*(pe+1)-1,ye=G[X],we=X+1,Se=G[we];if(0>i(ye,ae))we<xe&&0>i(Se,ye)?(G[pe]=Se,G[we]=ae,pe=we):(G[pe]=ye,G[X]=ae,pe=X);else if(we<xe&&0>i(Se,ae))G[pe]=Se,G[we]=ae,pe=we;else break e}}return K}function i(G,K){var ae=G.sortIndex-K.sortIndex;return ae!==0?ae:G.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],f=[],d=1,p=null,g=3,v=!1,x=!1,S=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function L(G){for(var K=n(f);K!==null;){if(K.callback===null)r(f);else if(K.startTime<=G)r(f),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(f)}}function R(G){if(S=!1,L(G),!x)if(n(u)!==null)x=!0,B||(B=!0,$());else{var K=n(f);K!==null&&ve(R,K.startTime-G)}}var B=!1,N=-1,M=5,P=-1;function F(){return T?!0:!(t.unstable_now()-P<M)}function V(){if(T=!1,B){var G=t.unstable_now();P=G;var K=!0;try{e:{x=!1,S&&(S=!1,C(N),N=-1),v=!0;var ae=g;try{t:{for(L(G),p=n(u);p!==null&&!(p.expirationTime>G&&F());){var pe=p.callback;if(typeof pe=="function"){p.callback=null,g=p.priorityLevel;var xe=pe(p.expirationTime<=G);if(G=t.unstable_now(),typeof xe=="function"){p.callback=xe,L(G),K=!0;break t}p===n(u)&&r(u),L(G)}else r(u);p=n(u)}if(p!==null)K=!0;else{var q=n(f);q!==null&&ve(R,q.startTime-G),K=!1}}break e}finally{p=null,g=ae,v=!1}K=void 0}}finally{K?$():B=!1}}}var $;if(typeof D=="function")$=function(){D(V)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,me=U.port2;U.port1.onmessage=V,$=function(){me.postMessage(null)}}else $=function(){_(V,0)};function ve(G,K){N=_(function(){G(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(G){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var ae=g;g=K;try{return G()}finally{g=ae}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(G,K){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=g;g=G;try{return K()}finally{g=ae}},t.unstable_scheduleCallback=function(G,K,ae){var pe=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?pe+ae:pe):ae=pe,G){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ae+xe,G={id:d++,callback:K,priorityLevel:G,startTime:ae,expirationTime:xe,sortIndex:-1},ae>pe?(G.sortIndex=ae,e(f,G),n(u)===null&&G===n(f)&&(S?(C(N),N=-1):S=!0,ve(R,ae-pe))):(G.sortIndex=xe,e(u,G),x||v||(x=!0,B||(B=!0,$()))),G},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(G){var K=g;return function(){var ae=g;g=K;try{return G.apply(this,arguments)}finally{g=ae}}}})(NT)),NT}var _R;function sQ(){return _R||(_R=1,OT.exports=iQ()),OT.exports}var MT={exports:{}},zr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AR;function aQ(){if(AR)return zr;AR=1;var t=Ch();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,f,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:d}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return zr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,zr.createPortal=function(u,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(u,f,null,d)},zr.flushSync=function(u){var f=a.T,d=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=f,r.p=d,r.d.f()}},zr.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},zr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},zr.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var d=f.as,p=l(d,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):d==="script"&&r.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},zr.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=l(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},zr.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,p=l(d,f.crossOrigin);r.d.L(u,d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},zr.preloadModule=function(u,f){if(typeof u=="string")if(f){var d=l(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},zr.requestFormReset=function(u){r.d.r(u)},zr.unstable_batchedUpdates=function(u,f){return u(f)},zr.useFormState=function(u,f,d){return a.H.useFormState(u,f,d)},zr.useFormStatus=function(){return a.H.useHostTransitionStatus()},zr.version="19.2.0",zr}var kR;function az(){if(kR)return MT.exports;kR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),MT.exports=aQ(),MT.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CR;function oQ(){if(CR)return $p;CR=1;var t=sQ(),e=Ch(),n=az();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(r(188))}function f(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(r(188));return c!==o?null:o}for(var h=o,m=c;;){var w=h.return;if(w===null)break;var E=w.alternate;if(E===null){if(m=w.return,m!==null){h=m;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===h)return u(w),o;if(E===m)return u(w),c;E=E.sibling}throw Error(r(188))}if(h.return!==m.return)h=w,m=E;else{for(var O=!1,j=w.child;j;){if(j===h){O=!0,h=w,m=E;break}if(j===m){O=!0,m=w,h=E;break}j=j.sibling}if(!O){for(j=E.child;j;){if(j===h){O=!0,h=E,m=w;break}if(j===m){O=!0,m=E,h=w;break}j=j.sibling}if(!O)throw Error(r(189))}}if(h.alternate!==m)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:c}function d(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=d(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function $(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}var U=Symbol.for("react.client.reference");function me(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===U?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case _:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case B:return"SuspenseList";case P:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case x:return"Portal";case D:return o.displayName||"Context";case C:return(o._context.displayName||"Context")+".Consumer";case L:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case N:return c=o.displayName||null,c!==null?c:me(o.type)||"Memo";case M:c=o._payload,o=o._init;try{return me(o(c))}catch{}}return null}var ve=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},pe=[],xe=-1;function q(o){return{current:o}}function X(o){0>xe||(o.current=pe[xe],pe[xe]=null,xe--)}function ye(o,c){xe++,pe[xe]=o.current,o.current=c}var we=q(null),Se=q(null),Ie=q(null),Ve=q(null);function ut(o,c){switch(ye(Ie,c),ye(Se,o),ye(we,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?$P(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=$P(c),o=HP(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}X(we),ye(we,o)}function fe(){X(we),X(Se),X(Ie)}function ze(o){o.memoizedState!==null&&ye(Ve,o);var c=we.current,h=HP(c,o.type);c!==h&&(ye(Se,o),ye(we,h))}function Fe(o){Se.current===o&&(X(we),X(Se)),Ve.current===o&&(X(Ve),Vp._currentValue=ae)}var de,Lt;function Me(o){if(de===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);de=c&&c[1]||"",Lt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+o+Lt}var _t=!1;function nt(o,c){if(!o||_t)return"";_t=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(re){var te=re}Reflect.construct(o,[],ce)}else{try{ce.call()}catch(re){te=re}o.call(ce.prototype)}}else{try{throw Error()}catch(re){te=re}(ce=o())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(re){if(re&&te&&typeof re.stack=="string")return[re.stack,te.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=m.DetermineComponentFrameRoot(),O=E[0],j=E[1];if(O&&j){var H=O.split(`
`),ee=j.split(`
`);for(w=m=0;m<H.length&&!H[m].includes("DetermineComponentFrameRoot");)m++;for(;w<ee.length&&!ee[w].includes("DetermineComponentFrameRoot");)w++;if(m===H.length||w===ee.length)for(m=H.length-1,w=ee.length-1;1<=m&&0<=w&&H[m]!==ee[w];)w--;for(;1<=m&&0<=w;m--,w--)if(H[m]!==ee[w]){if(m!==1||w!==1)do if(m--,w--,0>w||H[m]!==ee[w]){var se=`
`+H[m].replace(" at new "," at ");return o.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",o.displayName)),se}while(1<=m&&0<=w);break}}}finally{_t=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?Me(h):""}function sn(o,c){switch(o.tag){case 26:case 27:case 5:return Me(o.type);case 16:return Me("Lazy");case 13:return o.child!==c&&c!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return nt(o.type,!1);case 11:return nt(o.type.render,!1);case 1:return nt(o.type,!0);case 31:return Me("Activity");default:return""}}function ji(o){try{var c="",h=null;do c+=sn(o,h),h=o,o=o.return;while(o);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var vt=Object.prototype.hasOwnProperty,an=t.unstable_scheduleCallback,Xr=t.unstable_cancelCallback,ru=t.unstable_shouldYield,ro=t.unstable_requestPaint,Tt=t.unstable_now,yn=t.unstable_getCurrentPriorityLevel,Ln=t.unstable_ImmediatePriority,io=t.unstable_UserBlockingPriority,pi=t.unstable_NormalPriority,so=t.unstable_LowPriority,_a=t.unstable_IdlePriority,Xs=t.log,ao=t.unstable_setDisableYieldValue,Qn=null,on=null;function xr(o){if(typeof Xs=="function"&&ao(o),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(Qn,o)}catch{}}var qt=Math.clz32?Math.clz32:yl,oo=Math.log,us=Math.LN2;function yl(o){return o>>>=0,o===0?32:31-(oo(o)/us|0)|0}var Qr=256,Qs=262144,Xt=4194304;function Vt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Bt(o,c,h){var m=o.pendingLanes;if(m===0)return 0;var w=0,E=o.suspendedLanes,O=o.pingedLanes;o=o.warmLanes;var j=m&134217727;return j!==0?(m=j&~E,m!==0?w=Vt(m):(O&=j,O!==0?w=Vt(O):h||(h=j&~o,h!==0&&(w=Vt(h))))):(j=m&~E,j!==0?w=Vt(j):O!==0?w=Vt(O):h||(h=m&~o,h!==0&&(w=Vt(h)))),w===0?0:c!==0&&c!==w&&(c&E)===0&&(E=w&-w,h=c&-c,E>=h||E===32&&(h&4194048)!==0)?c:w}function Jn(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function At(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wr(){var o=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),o}function Jr(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function Li(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function vl(o,c,h,m,w,E){var O=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var j=o.entanglements,H=o.expirationTimes,ee=o.hiddenUpdates;for(h=O&~h;0<h;){var se=31-qt(h),ce=1<<se;j[se]=0,H[se]=-1;var te=ee[se];if(te!==null)for(ee[se]=null,se=0;se<te.length;se++){var re=te[se];re!==null&&(re.lane&=-536870913)}h&=~ce}m!==0&&Vi(o,m,0),E!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=E&~(O&~c))}function Vi(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var m=31-qt(c);o.entangledLanes|=c,o.entanglements[m]=o.entanglements[m]|1073741824|h&261930}function Js(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var m=31-qt(h),w=1<<m;w&c|o[m]&c&&(o[m]|=c),h&=~w}}function fs(o,c){var h=c&-c;return h=(h&42)!==0?1:mi(h),(h&(o.suspendedLanes|c))!==0?0:h}function mi(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Zr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Aa(){var o=K.p;return o!==0?o:(o=window.event,o===void 0?32:hR(o.type))}function ei(o,c){var h=K.p;try{return K.p=o,c()}finally{K.p=h}}var Sr=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Sr,vn="__reactProps$"+Sr,gi="__reactContainer$"+Sr,Ke="__reactEvents$"+Sr,Mt="__reactListeners$"+Sr,zt="__reactHandles$"+Sr,sr="__reactResources$"+Sr,ln="__reactMarker$"+Sr;function ds(o){delete o[Qt],delete o[vn],delete o[Ke],delete o[Mt],delete o[zt]}function yi(o){var c=o[Qt];if(c)return c;for(var h=o.parentNode;h;){if(c=h[gi]||h[Qt]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=QP(o);o!==null;){if(h=o[Qt])return h;o=QP(o)}return c}o=h,h=o.parentNode}return null}function Zn(o){if(o=o[Qt]||o[gi]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function ti(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function Bi(o){var c=o[sr];return c||(c=o[sr]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function bn(o){o[ln]=!0}var iu=new Set,lo={};function hs(o,c){ps(o,c),ps(o+"Capture",c)}function ps(o,c){for(lo[o]=c,o=0;o<c.length;o++)iu.add(c[o])}var su=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),au={},ou={};function co(o){return vt.call(ou,o)?!0:vt.call(au,o)?!1:su.test(o)?ou[o]=!0:(au[o]=!0,!1)}function uo(o,c,h){if(co(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function ni(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function xn(o,c,h,m){if(m===null)o.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+m)}}function Q(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ee(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function bt(o,c,h){var m=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,E=m.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return w.call(this)},set:function(O){h=""+O,E.call(this,O)}}),Object.defineProperty(o,c,{enumerable:m.enumerable}),{getValue:function(){return h},setValue:function(O){h=""+O},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function ft(o){if(!o._valueTracker){var c=Ee(o)?"checked":"value";o._valueTracker=bt(o,c,""+o[c])}}function zi(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),m="";return o&&(m=Ee(o)?o.checked?"true":"false":o.value),o=m,o!==h?(c.setValue(o),!0):!1}function Kt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Zs=/[\n"\\]/g;function ar(o){return o.replace(Zs,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function ka(o,c,h,m,w,E,O,j){o.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.type=O:o.removeAttribute("type"),c!=null?O==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Q(c)):o.value!==""+Q(c)&&(o.value=""+Q(c)):O!=="submit"&&O!=="reset"||o.removeAttribute("value"),c!=null?ea(o,O,Q(c)):h!=null?ea(o,O,Q(h)):m!=null&&o.removeAttribute("value"),w==null&&E!=null&&(o.defaultChecked=!!E),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?o.name=""+Q(j):o.removeAttribute("name")}function ms(o,c,h,m,w,E,O,j){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(o.type=E),c!=null||h!=null){if(!(E!=="submit"&&E!=="reset"||c!=null)){ft(o);return}h=h!=null?""+Q(h):"",c=c!=null?""+Q(c):h,j||c===o.value||(o.value=c),o.defaultValue=c}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=j?o.checked:!!m,o.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.name=O),ft(o)}function ea(o,c,h){c==="number"&&Kt(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function bl(o,c,h,m){if(o=o.options,c){c={};for(var w=0;w<h.length;w++)c["$"+h[w]]=!0;for(h=0;h<o.length;h++)w=c.hasOwnProperty("$"+o[h].value),o[h].selected!==w&&(o[h].selected=w),w&&m&&(o[h].defaultSelected=!0)}else{for(h=""+Q(h),c=null,w=0;w<o.length;w++){if(o[w].value===h){o[w].selected=!0,m&&(o[w].defaultSelected=!0);return}c!==null||o[w].disabled||(c=o[w])}c!==null&&(c.selected=!0)}}function Ey(o,c,h){if(c!=null&&(c=""+Q(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+Q(h):""}function xl(o,c,h,m){if(c==null){if(m!=null){if(h!=null)throw Error(r(92));if(ve(m)){if(1<m.length)throw Error(r(93));m=m[0]}h=m}h==null&&(h=""),c=h}h=Q(c),o.defaultValue=h,m=o.textContent,m===h&&m!==""&&m!==null&&(o.value=m),ft(o)}function vi(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var _y=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jh(o,c,h){var m=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":m?o.setProperty(c,h):typeof h!="number"||h===0||_y.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function Zh(o,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var w in c)m=c[w],c.hasOwnProperty(w)&&h[w]!==m&&Jh(o,w,m)}else for(var E in c)c.hasOwnProperty(E)&&Jh(o,E,c[E])}function $f(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ay=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hf(o){return wl.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function ta(){}var ep=null;function gs(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Sl=null,Ca=null;function lu(o){var c=Zn(o);if(c&&(o=c.stateNode)){var h=o[vn]||null;e:switch(o=c.stateNode,c.type){case"input":if(ka(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ar(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var m=h[c];if(m!==o&&m.form===o.form){var w=m[vn]||null;if(!w)throw Error(r(90));ka(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(c=0;c<h.length;c++)m=h[c],m.form===o.form&&zi(m)}break e;case"textarea":Ey(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&bl(o,!!h.multiple,c,!1)}}}var qf=!1;function Tl(o,c,h){if(qf)return o(c,h);qf=!0;try{var m=o(c);return m}finally{if(qf=!1,(Sl!==null||Ca!==null)&&(b0(),Sl&&(c=Sl,o=Ca,Ca=Sl=null,lu(c),o)))for(c=0;c<o.length;c++)lu(o[c])}}function na(o,c){var h=o.stateNode;if(h===null)return null;var m=h[vn]||null;if(m===null)return null;h=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cu=!1;if(ys)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){cu=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{cu=!1}var Oa=null,tp=null,uu=null;function np(){if(uu)return uu;var o,c=tp,h=c.length,m,w="value"in Oa?Oa.value:Oa.textContent,E=w.length;for(o=0;o<h&&c[o]===w[o];o++);var O=h-o;for(m=1;m<=O&&c[h-m]===w[E-m];m++);return uu=w.slice(o,1<m?1-m:void 0)}function fu(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function fo(){return!0}function ra(){return!1}function Tr(o){function c(h,m,w,E,O){this._reactName=h,this._targetInst=w,this.type=m,this.nativeEvent=E,this.target=O,this.currentTarget=null;for(var j in o)o.hasOwnProperty(j)&&(h=o[j],this[j]=h?h(E):E[j]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?fo:ra,this.isPropagationStopped=ra,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),c}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=Tr(ho),El=p({},ho,{view:0,detail:0}),rp=Tr(El),_l,Kf,Ma,Wf=p({},El,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ma&&(Ma&&o.type==="mousemove"?(_l=o.screenX-Ma.screenX,Kf=o.screenY-Ma.screenY):Kf=_l=0,Ma=o),_l)},movementY:function(o){return"movementY"in o?o.movementY:Kf}}),ip=Tr(Wf),du=p({},Wf,{dataTransfer:0}),ky=Tr(du),Cy=p({},El,{relatedTarget:0}),hu=Tr(Cy),sp=p({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),Oy=Tr(sp),Gf=p({},ho,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Ny=Tr(Gf),My=p({},ho,{data:0}),Da=Tr(My),Dy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Py={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ry(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Py[o])?!!c[o]:!1}function Al(){return Ry}var ri=p({},El,{key:function(o){if(o.key){var c=Dy[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=fu(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Iy[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(o){return o.type==="keypress"?fu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?fu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),jy=Tr(ri),Ly=p({},Wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),po=Tr(Ly),b=p({},El,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),k=Tr(b),I=p({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=Tr(I),J=p({},Wf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=Tr(J),be=p({},ho,{newState:0,oldState:0}),Qe=Tr(be),On=[9,13,27,32],xt=ys&&"CompositionEvent"in window,cn=null;ys&&"documentMode"in document&&(cn=document.documentMode);var vs=ys&&"TextEvent"in window&&!cn,Ia=ys&&(!xt||cn&&8<cn&&11>=cn),ia=" ",sa=!1;function pu(o,c){switch(o){case"keyup":return On.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yf(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Xf=!1;function TY(o,c){switch(o){case"compositionend":return Yf(c);case"keypress":return c.which!==32?null:(sa=!0,ia);case"textInput":return o=c.data,o===ia&&sa?null:o;default:return null}}function EY(o,c){if(Xf)return o==="compositionend"||!xt&&pu(o,c)?(o=np(),uu=tp=Oa=null,Xf=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Ia&&c.locale!=="ko"?null:c.data;default:return null}}var _Y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eD(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!_Y[o.type]:c==="textarea"}function tD(o,c,h,m){Sl?Ca?Ca.push(m):Ca=[m]:Sl=m,c=A0(c,"onChange"),0<c.length&&(h=new Na("onChange","change",null,h,m),o.push({event:h,listeners:c}))}var ap=null,op=null;function AY(o){LP(o,0)}function Vy(o){var c=ti(o);if(zi(c))return o}function nD(o,c){if(o==="change")return c}var rD=!1;if(ys){var Iw;if(ys){var Pw="oninput"in document;if(!Pw){var iD=document.createElement("div");iD.setAttribute("oninput","return;"),Pw=typeof iD.oninput=="function"}Iw=Pw}else Iw=!1;rD=Iw&&(!document.documentMode||9<document.documentMode)}function sD(){ap&&(ap.detachEvent("onpropertychange",aD),op=ap=null)}function aD(o){if(o.propertyName==="value"&&Vy(op)){var c=[];tD(c,op,o,gs(o)),Tl(AY,c)}}function kY(o,c,h){o==="focusin"?(sD(),ap=c,op=h,ap.attachEvent("onpropertychange",aD)):o==="focusout"&&sD()}function CY(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Vy(op)}function OY(o,c){if(o==="click")return Vy(c)}function NY(o,c){if(o==="input"||o==="change")return Vy(c)}function MY(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Ui=typeof Object.is=="function"?Object.is:MY;function lp(o,c){if(Ui(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),m=Object.keys(c);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var w=h[m];if(!vt.call(c,w)||!Ui(o[w],c[w]))return!1}return!0}function oD(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function lD(o,c){var h=oD(o);o=0;for(var m;h;){if(h.nodeType===3){if(m=o+h.textContent.length,o<=c&&m>=c)return{node:h,offset:c-o};o=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=oD(h)}}function cD(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?cD(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function uD(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Kt(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=Kt(o.document)}return c}function Rw(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var DY=ys&&"documentMode"in document&&11>=document.documentMode,Qf=null,jw=null,cp=null,Lw=!1;function fD(o,c,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Lw||Qf==null||Qf!==Kt(m)||(m=Qf,"selectionStart"in m&&Rw(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),cp&&lp(cp,m)||(cp=m,m=A0(jw,"onSelect"),0<m.length&&(c=new Na("onSelect","select",null,c,h),o.push({event:c,listeners:m}),c.target=Qf)))}function mu(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var Jf={animationend:mu("Animation","AnimationEnd"),animationiteration:mu("Animation","AnimationIteration"),animationstart:mu("Animation","AnimationStart"),transitionrun:mu("Transition","TransitionRun"),transitionstart:mu("Transition","TransitionStart"),transitioncancel:mu("Transition","TransitionCancel"),transitionend:mu("Transition","TransitionEnd")},Vw={},dD={};ys&&(dD=document.createElement("div").style,"AnimationEvent"in window||(delete Jf.animationend.animation,delete Jf.animationiteration.animation,delete Jf.animationstart.animation),"TransitionEvent"in window||delete Jf.transitionend.transition);function gu(o){if(Vw[o])return Vw[o];if(!Jf[o])return o;var c=Jf[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in dD)return Vw[o]=c[h];return o}var hD=gu("animationend"),pD=gu("animationiteration"),mD=gu("animationstart"),IY=gu("transitionrun"),PY=gu("transitionstart"),RY=gu("transitioncancel"),gD=gu("transitionend"),yD=new Map,Bw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bw.push("scrollEnd");function aa(o,c){yD.set(o,c),hs(c,[o])}var By=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},bs=[],Zf=0,zw=0;function zy(){for(var o=Zf,c=zw=Zf=0;c<o;){var h=bs[c];bs[c++]=null;var m=bs[c];bs[c++]=null;var w=bs[c];bs[c++]=null;var E=bs[c];if(bs[c++]=null,m!==null&&w!==null){var O=m.pending;O===null?w.next=w:(w.next=O.next,O.next=w),m.pending=w}E!==0&&vD(h,w,E)}}function Uy(o,c,h,m){bs[Zf++]=o,bs[Zf++]=c,bs[Zf++]=h,bs[Zf++]=m,zw|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function Uw(o,c,h,m){return Uy(o,c,h,m),Fy(o)}function yu(o,c){return Uy(o,null,null,c),Fy(o)}function vD(o,c,h){o.lanes|=h;var m=o.alternate;m!==null&&(m.lanes|=h);for(var w=!1,E=o.return;E!==null;)E.childLanes|=h,m=E.alternate,m!==null&&(m.childLanes|=h),E.tag===22&&(o=E.stateNode,o===null||o._visibility&1||(w=!0)),o=E,E=E.return;return o.tag===3?(E=o.stateNode,w&&c!==null&&(w=31-qt(h),o=E.hiddenUpdates,m=o[w],m===null?o[w]=[c]:m.push(c),c.lane=h|536870912),E):null}function Fy(o){if(50<Mp)throw Mp=0,XS=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var ed={};function jY(o,c,h,m){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(o,c,h,m){return new jY(o,c,h,m)}function Fw(o){return o=o.prototype,!(!o||!o.isReactComponent)}function mo(o,c){var h=o.alternate;return h===null?(h=Fi(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function bD(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function $y(o,c,h,m,w,E){var O=0;if(m=o,typeof o=="function")Fw(o)&&(O=1);else if(typeof o=="string")O=UX(o,h,we.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case P:return o=Fi(31,h,c,w),o.elementType=P,o.lanes=E,o;case S:return vu(h.children,w,E,c);case T:O=8,w|=24;break;case _:return o=Fi(12,h,c,w|2),o.elementType=_,o.lanes=E,o;case R:return o=Fi(13,h,c,w),o.elementType=R,o.lanes=E,o;case B:return o=Fi(19,h,c,w),o.elementType=B,o.lanes=E,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case D:O=10;break e;case C:O=9;break e;case L:O=11;break e;case N:O=14;break e;case M:O=16,m=null;break e}O=29,h=Error(r(130,o===null?"null":typeof o,"")),m=null}return c=Fi(O,h,c,w),c.elementType=o,c.type=m,c.lanes=E,c}function vu(o,c,h,m){return o=Fi(7,o,m,c),o.lanes=h,o}function $w(o,c,h){return o=Fi(6,o,null,c),o.lanes=h,o}function xD(o){var c=Fi(18,null,null,0);return c.stateNode=o,c}function Hw(o,c,h){return c=Fi(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var wD=new WeakMap;function xs(o,c){if(typeof o=="object"&&o!==null){var h=wD.get(o);return h!==void 0?h:(c={value:o,source:c,stack:ji(c)},wD.set(o,c),c)}return{value:o,source:c,stack:ji(c)}}var td=[],nd=0,Hy=null,up=0,ws=[],Ss=0,kl=null,Pa=1,Ra="";function go(o,c){td[nd++]=up,td[nd++]=Hy,Hy=o,up=c}function SD(o,c,h){ws[Ss++]=Pa,ws[Ss++]=Ra,ws[Ss++]=kl,kl=o;var m=Pa;o=Ra;var w=32-qt(m)-1;m&=~(1<<w),h+=1;var E=32-qt(c)+w;if(30<E){var O=w-w%5;E=(m&(1<<O)-1).toString(32),m>>=O,w-=O,Pa=1<<32-qt(c)+w|h<<w|m,Ra=E+o}else Pa=1<<E|h<<w|m,Ra=o}function qw(o){o.return!==null&&(go(o,1),SD(o,1,0))}function Kw(o){for(;o===Hy;)Hy=td[--nd],td[nd]=null,up=td[--nd],td[nd]=null;for(;o===kl;)kl=ws[--Ss],ws[Ss]=null,Ra=ws[--Ss],ws[Ss]=null,Pa=ws[--Ss],ws[Ss]=null}function TD(o,c){ws[Ss++]=Pa,ws[Ss++]=Ra,ws[Ss++]=kl,Pa=c.id,Ra=c.overflow,kl=o}var Er=null,Jt=null,dt=!1,Cl=null,Ts=!1,Ww=Error(r(519));function Ol(o){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fp(xs(c,o)),Ww}function ED(o){var c=o.stateNode,h=o.type,m=o.memoizedProps;switch(c[Qt]=o,c[vn]=m,h){case"dialog":it("cancel",c),it("close",c);break;case"iframe":case"object":case"embed":it("load",c);break;case"video":case"audio":for(h=0;h<Ip.length;h++)it(Ip[h],c);break;case"source":it("error",c);break;case"img":case"image":case"link":it("error",c),it("load",c);break;case"details":it("toggle",c);break;case"input":it("invalid",c),ms(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":it("invalid",c);break;case"textarea":it("invalid",c),xl(c,m.value,m.defaultValue,m.children)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||m.suppressHydrationWarning===!0||UP(c.textContent,h)?(m.popover!=null&&(it("beforetoggle",c),it("toggle",c)),m.onScroll!=null&&it("scroll",c),m.onScrollEnd!=null&&it("scrollend",c),m.onClick!=null&&(c.onclick=ta),c=!0):c=!1,c||Ol(o,!0)}function _D(o){for(Er=o.return;Er;)switch(Er.tag){case 5:case 31:case 13:Ts=!1;return;case 27:case 3:Ts=!0;return;default:Er=Er.return}}function rd(o){if(o!==Er)return!1;if(!dt)return _D(o),dt=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||fT(o.type,o.memoizedProps)),h=!h),h&&Jt&&Ol(o),_D(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Jt=XP(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Jt=XP(o)}else c===27?(c=Jt,$l(o.type)?(o=gT,gT=null,Jt=o):Jt=c):Jt=Er?_s(o.stateNode.nextSibling):null;return!0}function bu(){Jt=Er=null,dt=!1}function Gw(){var o=Cl;return o!==null&&(Si===null?Si=o:Si.push.apply(Si,o),Cl=null),o}function fp(o){Cl===null?Cl=[o]:Cl.push(o)}var Yw=q(null),xu=null,yo=null;function Nl(o,c,h){ye(Yw,c._currentValue),c._currentValue=h}function vo(o){o._currentValue=Yw.current,X(Yw)}function Xw(o,c,h){for(;o!==null;){var m=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),o===h)break;o=o.return}}function Qw(o,c,h,m){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var E=w.dependencies;if(E!==null){var O=w.child;E=E.firstContext;e:for(;E!==null;){var j=E;E=w;for(var H=0;H<c.length;H++)if(j.context===c[H]){E.lanes|=h,j=E.alternate,j!==null&&(j.lanes|=h),Xw(E.return,h,o),m||(O=null);break e}E=j.next}}else if(w.tag===18){if(O=w.return,O===null)throw Error(r(341));O.lanes|=h,E=O.alternate,E!==null&&(E.lanes|=h),Xw(O,h,o),O=null}else O=w.child;if(O!==null)O.return=w;else for(O=w;O!==null;){if(O===o){O=null;break}if(w=O.sibling,w!==null){w.return=O.return,O=w;break}O=O.return}w=O}}function id(o,c,h,m){o=null;for(var w=c,E=!1;w!==null;){if(!E){if((w.flags&524288)!==0)E=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var O=w.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var j=w.type;Ui(w.pendingProps.value,O.value)||(o!==null?o.push(j):o=[j])}}else if(w===Ve.current){if(O=w.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(Vp):o=[Vp])}w=w.return}o!==null&&Qw(c,o,h,m),c.flags|=262144}function qy(o){for(o=o.firstContext;o!==null;){if(!Ui(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function wu(o){xu=o,yo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function _r(o){return AD(xu,o)}function Ky(o,c){return xu===null&&wu(o),AD(o,c)}function AD(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},yo===null){if(o===null)throw Error(r(308));yo=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else yo=yo.next=c;return h}var LY=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,m){o.push(m)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},VY=t.unstable_scheduleCallback,BY=t.unstable_NormalPriority,Vn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jw(){return{controller:new LY,data:new Map,refCount:0}}function dp(o){o.refCount--,o.refCount===0&&VY(BY,function(){o.controller.abort()})}var hp=null,Zw=0,sd=0,ad=null;function zY(o,c){if(hp===null){var h=hp=[];Zw=0,sd=nT(),ad={status:"pending",value:void 0,then:function(m){h.push(m)}}}return Zw++,c.then(kD,kD),c}function kD(){if(--Zw===0&&hp!==null){ad!==null&&(ad.status="fulfilled");var o=hp;hp=null,sd=0,ad=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function UY(o,c){var h=[],m={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return o.then(function(){m.status="fulfilled",m.value=c;for(var w=0;w<h.length;w++)(0,h[w])(c)},function(w){for(m.status="rejected",m.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),m}var CD=G.S;G.S=function(o,c){fP=Tt(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&zY(o,c),CD!==null&&CD(o,c)};var Su=q(null);function eS(){var o=Su.current;return o!==null?o:Ut.pooledCache}function Wy(o,c){c===null?ye(Su,Su.current):ye(Su,c.pool)}function OD(){var o=eS();return o===null?null:{parent:Vn._currentValue,pool:o}}var od=Error(r(460)),tS=Error(r(474)),Gy=Error(r(542)),Yy={then:function(){}};function ND(o){return o=o.status,o==="fulfilled"||o==="rejected"}function MD(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(ta,ta),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,ID(o),o;default:if(typeof c.status=="string")c.then(ta,ta);else{if(o=Ut,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(m){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=m}},function(m){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,ID(o),o}throw Eu=c,od}}function Tu(o){try{var c=o._init;return c(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Eu=h,od):h}}var Eu=null;function DD(){if(Eu===null)throw Error(r(459));var o=Eu;return Eu=null,o}function ID(o){if(o===od||o===Gy)throw Error(r(483))}var ld=null,pp=0;function Xy(o){var c=pp;return pp+=1,ld===null&&(ld=[]),MD(ld,o,c)}function mp(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Qy(o,c){throw c.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function PD(o){function c(Y,W){if(o){var Z=Y.deletions;Z===null?(Y.deletions=[W],Y.flags|=16):Z.push(W)}}function h(Y,W){if(!o)return null;for(;W!==null;)c(Y,W),W=W.sibling;return null}function m(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function w(Y,W){return Y=mo(Y,W),Y.index=0,Y.sibling=null,Y}function E(Y,W,Z){return Y.index=Z,o?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<W?(Y.flags|=67108866,W):Z):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function O(Y){return o&&Y.alternate===null&&(Y.flags|=67108866),Y}function j(Y,W,Z,oe){return W===null||W.tag!==6?(W=$w(Z,Y.mode,oe),W.return=Y,W):(W=w(W,Z),W.return=Y,W)}function H(Y,W,Z,oe){var Pe=Z.type;return Pe===S?se(Y,W,Z.props.children,oe,Z.key):W!==null&&(W.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===M&&Tu(Pe)===W.type)?(W=w(W,Z.props),mp(W,Z),W.return=Y,W):(W=$y(Z.type,Z.key,Z.props,null,Y.mode,oe),mp(W,Z),W.return=Y,W)}function ee(Y,W,Z,oe){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=Hw(Z,Y.mode,oe),W.return=Y,W):(W=w(W,Z.children||[]),W.return=Y,W)}function se(Y,W,Z,oe,Pe){return W===null||W.tag!==7?(W=vu(Z,Y.mode,oe,Pe),W.return=Y,W):(W=w(W,Z),W.return=Y,W)}function ce(Y,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=$w(""+W,Y.mode,Z),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return Z=$y(W.type,W.key,W.props,null,Y.mode,Z),mp(Z,W),Z.return=Y,Z;case x:return W=Hw(W,Y.mode,Z),W.return=Y,W;case M:return W=Tu(W),ce(Y,W,Z)}if(ve(W)||$(W))return W=vu(W,Y.mode,Z,null),W.return=Y,W;if(typeof W.then=="function")return ce(Y,Xy(W),Z);if(W.$$typeof===D)return ce(Y,Ky(Y,W),Z);Qy(Y,W)}return null}function te(Y,W,Z,oe){var Pe=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Pe!==null?null:j(Y,W,""+Z,oe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return Z.key===Pe?H(Y,W,Z,oe):null;case x:return Z.key===Pe?ee(Y,W,Z,oe):null;case M:return Z=Tu(Z),te(Y,W,Z,oe)}if(ve(Z)||$(Z))return Pe!==null?null:se(Y,W,Z,oe,null);if(typeof Z.then=="function")return te(Y,W,Xy(Z),oe);if(Z.$$typeof===D)return te(Y,W,Ky(Y,Z),oe);Qy(Y,Z)}return null}function re(Y,W,Z,oe,Pe){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Y=Y.get(Z)||null,j(W,Y,""+oe,Pe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case v:return Y=Y.get(oe.key===null?Z:oe.key)||null,H(W,Y,oe,Pe);case x:return Y=Y.get(oe.key===null?Z:oe.key)||null,ee(W,Y,oe,Pe);case M:return oe=Tu(oe),re(Y,W,Z,oe,Pe)}if(ve(oe)||$(oe))return Y=Y.get(Z)||null,se(W,Y,oe,Pe,null);if(typeof oe.then=="function")return re(Y,W,Z,Xy(oe),Pe);if(oe.$$typeof===D)return re(Y,W,Z,Ky(W,oe),Pe);Qy(W,oe)}return null}function Oe(Y,W,Z,oe){for(var Pe=null,pt=null,Ne=W,Ze=W=0,at=null;Ne!==null&&Ze<Z.length;Ze++){Ne.index>Ze?(at=Ne,Ne=null):at=Ne.sibling;var mt=te(Y,Ne,Z[Ze],oe);if(mt===null){Ne===null&&(Ne=at);break}o&&Ne&&mt.alternate===null&&c(Y,Ne),W=E(mt,W,Ze),pt===null?Pe=mt:pt.sibling=mt,pt=mt,Ne=at}if(Ze===Z.length)return h(Y,Ne),dt&&go(Y,Ze),Pe;if(Ne===null){for(;Ze<Z.length;Ze++)Ne=ce(Y,Z[Ze],oe),Ne!==null&&(W=E(Ne,W,Ze),pt===null?Pe=Ne:pt.sibling=Ne,pt=Ne);return dt&&go(Y,Ze),Pe}for(Ne=m(Ne);Ze<Z.length;Ze++)at=re(Ne,Y,Ze,Z[Ze],oe),at!==null&&(o&&at.alternate!==null&&Ne.delete(at.key===null?Ze:at.key),W=E(at,W,Ze),pt===null?Pe=at:pt.sibling=at,pt=at);return o&&Ne.forEach(function(Gl){return c(Y,Gl)}),dt&&go(Y,Ze),Pe}function Ue(Y,W,Z,oe){if(Z==null)throw Error(r(151));for(var Pe=null,pt=null,Ne=W,Ze=W=0,at=null,mt=Z.next();Ne!==null&&!mt.done;Ze++,mt=Z.next()){Ne.index>Ze?(at=Ne,Ne=null):at=Ne.sibling;var Gl=te(Y,Ne,mt.value,oe);if(Gl===null){Ne===null&&(Ne=at);break}o&&Ne&&Gl.alternate===null&&c(Y,Ne),W=E(Gl,W,Ze),pt===null?Pe=Gl:pt.sibling=Gl,pt=Gl,Ne=at}if(mt.done)return h(Y,Ne),dt&&go(Y,Ze),Pe;if(Ne===null){for(;!mt.done;Ze++,mt=Z.next())mt=ce(Y,mt.value,oe),mt!==null&&(W=E(mt,W,Ze),pt===null?Pe=mt:pt.sibling=mt,pt=mt);return dt&&go(Y,Ze),Pe}for(Ne=m(Ne);!mt.done;Ze++,mt=Z.next())mt=re(Ne,Y,Ze,mt.value,oe),mt!==null&&(o&&mt.alternate!==null&&Ne.delete(mt.key===null?Ze:mt.key),W=E(mt,W,Ze),pt===null?Pe=mt:pt.sibling=mt,pt=mt);return o&&Ne.forEach(function(JX){return c(Y,JX)}),dt&&go(Y,Ze),Pe}function Rt(Y,W,Z,oe){if(typeof Z=="object"&&Z!==null&&Z.type===S&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:e:{for(var Pe=Z.key;W!==null;){if(W.key===Pe){if(Pe=Z.type,Pe===S){if(W.tag===7){h(Y,W.sibling),oe=w(W,Z.props.children),oe.return=Y,Y=oe;break e}}else if(W.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===M&&Tu(Pe)===W.type){h(Y,W.sibling),oe=w(W,Z.props),mp(oe,Z),oe.return=Y,Y=oe;break e}h(Y,W);break}else c(Y,W);W=W.sibling}Z.type===S?(oe=vu(Z.props.children,Y.mode,oe,Z.key),oe.return=Y,Y=oe):(oe=$y(Z.type,Z.key,Z.props,null,Y.mode,oe),mp(oe,Z),oe.return=Y,Y=oe)}return O(Y);case x:e:{for(Pe=Z.key;W!==null;){if(W.key===Pe)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){h(Y,W.sibling),oe=w(W,Z.children||[]),oe.return=Y,Y=oe;break e}else{h(Y,W);break}else c(Y,W);W=W.sibling}oe=Hw(Z,Y.mode,oe),oe.return=Y,Y=oe}return O(Y);case M:return Z=Tu(Z),Rt(Y,W,Z,oe)}if(ve(Z))return Oe(Y,W,Z,oe);if($(Z)){if(Pe=$(Z),typeof Pe!="function")throw Error(r(150));return Z=Pe.call(Z),Ue(Y,W,Z,oe)}if(typeof Z.then=="function")return Rt(Y,W,Xy(Z),oe);if(Z.$$typeof===D)return Rt(Y,W,Ky(Y,Z),oe);Qy(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,W!==null&&W.tag===6?(h(Y,W.sibling),oe=w(W,Z),oe.return=Y,Y=oe):(h(Y,W),oe=$w(Z,Y.mode,oe),oe.return=Y,Y=oe),O(Y)):h(Y,W)}return function(Y,W,Z,oe){try{pp=0;var Pe=Rt(Y,W,Z,oe);return ld=null,Pe}catch(Ne){if(Ne===od||Ne===Gy)throw Ne;var pt=Fi(29,Ne,null,Y.mode);return pt.lanes=oe,pt.return=Y,pt}finally{}}}var _u=PD(!0),RD=PD(!1),Ml=!1;function nS(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rS(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Dl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Il(o,c,h){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(wt&2)!==0){var w=m.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),m.pending=c,c=Fy(o),vD(o,null,h),c}return Uy(o,m,c,h),Fy(o)}function gp(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var m=c.lanes;m&=o.pendingLanes,h|=m,c.lanes=h,Js(o,h)}}function iS(o,c){var h=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var w=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var O={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};E===null?w=E=O:E=E.next=O,h=h.next}while(h!==null);E===null?w=E=c:E=E.next=c}else w=E=c;h={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:m.shared,callbacks:m.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var sS=!1;function yp(){if(sS){var o=ad;if(o!==null)throw o}}function vp(o,c,h,m){sS=!1;var w=o.updateQueue;Ml=!1;var E=w.firstBaseUpdate,O=w.lastBaseUpdate,j=w.shared.pending;if(j!==null){w.shared.pending=null;var H=j,ee=H.next;H.next=null,O===null?E=ee:O.next=ee,O=H;var se=o.alternate;se!==null&&(se=se.updateQueue,j=se.lastBaseUpdate,j!==O&&(j===null?se.firstBaseUpdate=ee:j.next=ee,se.lastBaseUpdate=H))}if(E!==null){var ce=w.baseState;O=0,se=ee=H=null,j=E;do{var te=j.lane&-536870913,re=te!==j.lane;if(re?(st&te)===te:(m&te)===te){te!==0&&te===sd&&(sS=!0),se!==null&&(se=se.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Oe=o,Ue=j;te=c;var Rt=h;switch(Ue.tag){case 1:if(Oe=Ue.payload,typeof Oe=="function"){ce=Oe.call(Rt,ce,te);break e}ce=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Ue.payload,te=typeof Oe=="function"?Oe.call(Rt,ce,te):Oe,te==null)break e;ce=p({},ce,te);break e;case 2:Ml=!0}}te=j.callback,te!==null&&(o.flags|=64,re&&(o.flags|=8192),re=w.callbacks,re===null?w.callbacks=[te]:re.push(te))}else re={lane:te,tag:j.tag,payload:j.payload,callback:j.callback,next:null},se===null?(ee=se=re,H=ce):se=se.next=re,O|=te;if(j=j.next,j===null){if(j=w.shared.pending,j===null)break;re=j,j=re.next,re.next=null,w.lastBaseUpdate=re,w.shared.pending=null}}while(!0);se===null&&(H=ce),w.baseState=H,w.firstBaseUpdate=ee,w.lastBaseUpdate=se,E===null&&(w.shared.lanes=0),Vl|=O,o.lanes=O,o.memoizedState=ce}}function jD(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function LD(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)jD(h[o],c)}var cd=q(null),Jy=q(0);function VD(o,c){o=ko,ye(Jy,o),ye(cd,c),ko=o|c.baseLanes}function aS(){ye(Jy,ko),ye(cd,cd.current)}function oS(){ko=Jy.current,X(cd),X(Jy)}var $i=q(null),Es=null;function Pl(o){var c=o.alternate;ye(Nn,Nn.current&1),ye($i,o),Es===null&&(c===null||cd.current!==null||c.memoizedState!==null)&&(Es=o)}function lS(o){ye(Nn,Nn.current),ye($i,o),Es===null&&(Es=o)}function BD(o){o.tag===22?(ye(Nn,Nn.current),ye($i,o),Es===null&&(Es=o)):Rl()}function Rl(){ye(Nn,Nn.current),ye($i,$i.current)}function Hi(o){X($i),Es===o&&(Es=null),X(Nn)}var Nn=q(0);function Zy(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||pT(h)||mT(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var bo=0,Je=null,It=null,Bn=null,e0=!1,ud=!1,Au=!1,t0=0,bp=0,fd=null,FY=0;function wn(){throw Error(r(321))}function cS(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!Ui(o[h],c[h]))return!1;return!0}function uS(o,c,h,m,w,E){return bo=E,Je=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,G.H=o===null||o.memoizedState===null?SI:_S,Au=!1,E=h(m,w),Au=!1,ud&&(E=UD(c,h,m,w)),zD(o),E}function zD(o){G.H=Sp;var c=It!==null&&It.next!==null;if(bo=0,Bn=It=Je=null,e0=!1,bp=0,fd=null,c)throw Error(r(300));o===null||zn||(o=o.dependencies,o!==null&&qy(o)&&(zn=!0))}function UD(o,c,h,m){Je=o;var w=0;do{if(ud&&(fd=null),bp=0,ud=!1,25<=w)throw Error(r(301));if(w+=1,Bn=It=null,o.updateQueue!=null){var E=o.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}G.H=TI,E=c(h,m)}while(ud);return E}function $Y(){var o=G.H,c=o.useState()[0];return c=typeof c.then=="function"?xp(c):c,o=o.useState()[0],(It!==null?It.memoizedState:null)!==o&&(Je.flags|=1024),c}function fS(){var o=t0!==0;return t0=0,o}function dS(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function hS(o){if(e0){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}e0=!1}bo=0,Bn=It=Je=null,ud=!1,bp=t0=0,fd=null}function ii(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?Je.memoizedState=Bn=o:Bn=Bn.next=o,Bn}function Mn(){if(It===null){var o=Je.alternate;o=o!==null?o.memoizedState:null}else o=It.next;var c=Bn===null?Je.memoizedState:Bn.next;if(c!==null)Bn=c,It=o;else{if(o===null)throw Je.alternate===null?Error(r(467)):Error(r(310));It=o,o={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Bn===null?Je.memoizedState=Bn=o:Bn=Bn.next=o}return Bn}function n0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xp(o){var c=bp;return bp+=1,fd===null&&(fd=[]),o=MD(fd,o,c),c=Je,(Bn===null?c.memoizedState:Bn.next)===null&&(c=c.alternate,G.H=c===null||c.memoizedState===null?SI:_S),o}function r0(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return xp(o);if(o.$$typeof===D)return _r(o)}throw Error(r(438,String(o)))}function pS(o){var c=null,h=Je.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var m=Je.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=n0(),Je.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),m=0;m<o;m++)h[m]=F;return c.index++,h}function xo(o,c){return typeof c=="function"?c(o):c}function i0(o){var c=Mn();return mS(c,It,o)}function mS(o,c,h){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=h;var w=o.baseQueue,E=m.pending;if(E!==null){if(w!==null){var O=w.next;w.next=E.next,E.next=O}c.baseQueue=w=E,m.pending=null}if(E=o.baseState,w===null)o.memoizedState=E;else{c=w.next;var j=O=null,H=null,ee=c,se=!1;do{var ce=ee.lane&-536870913;if(ce!==ee.lane?(st&ce)===ce:(bo&ce)===ce){var te=ee.revertLane;if(te===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ce===sd&&(se=!0);else if((bo&te)===te){ee=ee.next,te===sd&&(se=!0);continue}else ce={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(j=H=ce,O=E):H=H.next=ce,Je.lanes|=te,Vl|=te;ce=ee.action,Au&&h(E,ce),E=ee.hasEagerState?ee.eagerState:h(E,ce)}else te={lane:ce,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(j=H=te,O=E):H=H.next=te,Je.lanes|=ce,Vl|=ce;ee=ee.next}while(ee!==null&&ee!==c);if(H===null?O=E:H.next=j,!Ui(E,o.memoizedState)&&(zn=!0,se&&(h=ad,h!==null)))throw h;o.memoizedState=E,o.baseState=O,o.baseQueue=H,m.lastRenderedState=E}return w===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function gS(o){var c=Mn(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var m=h.dispatch,w=h.pending,E=c.memoizedState;if(w!==null){h.pending=null;var O=w=w.next;do E=o(E,O.action),O=O.next;while(O!==w);Ui(E,c.memoizedState)||(zn=!0),c.memoizedState=E,c.baseQueue===null&&(c.baseState=E),h.lastRenderedState=E}return[E,m]}function FD(o,c,h){var m=Je,w=Mn(),E=dt;if(E){if(h===void 0)throw Error(r(407));h=h()}else h=c();var O=!Ui((It||w).memoizedState,h);if(O&&(w.memoizedState=h,zn=!0),w=w.queue,bS(qD.bind(null,m,w,o),[o]),w.getSnapshot!==c||O||Bn!==null&&Bn.memoizedState.tag&1){if(m.flags|=2048,dd(9,{destroy:void 0},HD.bind(null,m,w,h,c),null),Ut===null)throw Error(r(349));E||(bo&127)!==0||$D(m,c,h)}return h}function $D(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=Je.updateQueue,c===null?(c=n0(),Je.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function HD(o,c,h,m){c.value=h,c.getSnapshot=m,KD(c)&&WD(o)}function qD(o,c,h){return h(function(){KD(c)&&WD(o)})}function KD(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!Ui(o,h)}catch{return!0}}function WD(o){var c=yu(o,2);c!==null&&Ti(c,o,2)}function yS(o){var c=ii();if(typeof o=="function"){var h=o;if(o=h(),Au){xr(!0);try{h()}finally{xr(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:o},c}function GD(o,c,h,m){return o.baseState=h,mS(o,It,typeof m=="function"?m:xo)}function HY(o,c,h,m,w){if(o0(o))throw Error(r(485));if(o=c.action,o!==null){var E={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){E.listeners.push(O)}};G.T!==null?h(!0):E.isTransition=!1,m(E),h=c.pending,h===null?(E.next=c.pending=E,YD(c,E)):(E.next=h.next,c.pending=h.next=E)}}function YD(o,c){var h=c.action,m=c.payload,w=o.state;if(c.isTransition){var E=G.T,O={};G.T=O;try{var j=h(w,m),H=G.S;H!==null&&H(O,j),XD(o,c,j)}catch(ee){vS(o,c,ee)}finally{E!==null&&O.types!==null&&(E.types=O.types),G.T=E}}else try{E=h(w,m),XD(o,c,E)}catch(ee){vS(o,c,ee)}}function XD(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){QD(o,c,m)},function(m){return vS(o,c,m)}):QD(o,c,h)}function QD(o,c,h){c.status="fulfilled",c.value=h,JD(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,YD(o,h)))}function vS(o,c,h){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=h,JD(c),c=c.next;while(c!==m)}o.action=null}function JD(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function ZD(o,c){return c}function eI(o,c){if(dt){var h=Ut.formState;if(h!==null){e:{var m=Je;if(dt){if(Jt){t:{for(var w=Jt,E=Ts;w.nodeType!==8;){if(!E){w=null;break t}if(w=_s(w.nextSibling),w===null){w=null;break t}}E=w.data,w=E==="F!"||E==="F"?w:null}if(w){Jt=_s(w.nextSibling),m=w.data==="F!";break e}}Ol(m)}m=!1}m&&(c=h[0])}}return h=ii(),h.memoizedState=h.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ZD,lastRenderedState:c},h.queue=m,h=bI.bind(null,Je,m),m.dispatch=h,m=yS(!1),E=ES.bind(null,Je,!1,m.queue),m=ii(),w={state:c,dispatch:null,action:o,pending:null},m.queue=w,h=HY.bind(null,Je,w,E,h),w.dispatch=h,m.memoizedState=o,[c,h,!1]}function tI(o){var c=Mn();return nI(c,It,o)}function nI(o,c,h){if(c=mS(o,c,ZD)[0],o=i0(xo)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=xp(c)}catch(O){throw O===od?Gy:O}else m=c;c=Mn();var w=c.queue,E=w.dispatch;return h!==c.memoizedState&&(Je.flags|=2048,dd(9,{destroy:void 0},qY.bind(null,w,h),null)),[m,E,o]}function qY(o,c){o.action=c}function rI(o){var c=Mn(),h=It;if(h!==null)return nI(c,h,o);Mn(),c=c.memoizedState,h=Mn();var m=h.queue.dispatch;return h.memoizedState=o,[c,m,!1]}function dd(o,c,h,m){return o={tag:o,create:h,deps:m,inst:c,next:null},c=Je.updateQueue,c===null&&(c=n0(),Je.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(m=h.next,h.next=o,o.next=m,c.lastEffect=o),o}function iI(){return Mn().memoizedState}function s0(o,c,h,m){var w=ii();Je.flags|=o,w.memoizedState=dd(1|c,{destroy:void 0},h,m===void 0?null:m)}function a0(o,c,h,m){var w=Mn();m=m===void 0?null:m;var E=w.memoizedState.inst;It!==null&&m!==null&&cS(m,It.memoizedState.deps)?w.memoizedState=dd(c,E,h,m):(Je.flags|=o,w.memoizedState=dd(1|c,E,h,m))}function sI(o,c){s0(8390656,8,o,c)}function bS(o,c){a0(2048,8,o,c)}function KY(o){Je.flags|=4;var c=Je.updateQueue;if(c===null)c=n0(),Je.updateQueue=c,c.events=[o];else{var h=c.events;h===null?c.events=[o]:h.push(o)}}function aI(o){var c=Mn().memoizedState;return KY({ref:c,nextImpl:o}),function(){if((wt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function oI(o,c){return a0(4,2,o,c)}function lI(o,c){return a0(4,4,o,c)}function cI(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function uI(o,c,h){h=h!=null?h.concat([o]):null,a0(4,4,cI.bind(null,c,o),h)}function xS(){}function fI(o,c){var h=Mn();c=c===void 0?null:c;var m=h.memoizedState;return c!==null&&cS(c,m[1])?m[0]:(h.memoizedState=[o,c],o)}function dI(o,c){var h=Mn();c=c===void 0?null:c;var m=h.memoizedState;if(c!==null&&cS(c,m[1]))return m[0];if(m=o(),Au){xr(!0);try{o()}finally{xr(!1)}}return h.memoizedState=[m,c],m}function wS(o,c,h){return h===void 0||(bo&1073741824)!==0&&(st&261930)===0?o.memoizedState=c:(o.memoizedState=h,o=hP(),Je.lanes|=o,Vl|=o,h)}function hI(o,c,h,m){return Ui(h,c)?h:cd.current!==null?(o=wS(o,h,m),Ui(o,c)||(zn=!0),o):(bo&42)===0||(bo&1073741824)!==0&&(st&261930)===0?(zn=!0,o.memoizedState=h):(o=hP(),Je.lanes|=o,Vl|=o,c)}function pI(o,c,h,m,w){var E=K.p;K.p=E!==0&&8>E?E:8;var O=G.T,j={};G.T=j,ES(o,!1,c,h);try{var H=w(),ee=G.S;if(ee!==null&&ee(j,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var se=UY(H,m);wp(o,c,se,Wi(o))}else wp(o,c,m,Wi(o))}catch(ce){wp(o,c,{then:function(){},status:"rejected",reason:ce},Wi())}finally{K.p=E,O!==null&&j.types!==null&&(O.types=j.types),G.T=O}}function WY(){}function SS(o,c,h,m){if(o.tag!==5)throw Error(r(476));var w=mI(o).queue;pI(o,w,c,ae,h===null?WY:function(){return gI(o),h(m)})}function mI(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:ae},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function gI(o){var c=mI(o);c.next===null&&(c=o.alternate.memoizedState),wp(o,c.next.queue,{},Wi())}function TS(){return _r(Vp)}function yI(){return Mn().memoizedState}function vI(){return Mn().memoizedState}function GY(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=Wi();o=Dl(h);var m=Il(c,o,h);m!==null&&(Ti(m,c,h),gp(m,c,h)),c={cache:Jw()},o.payload=c;return}c=c.return}}function YY(o,c,h){var m=Wi();h={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},o0(o)?xI(c,h):(h=Uw(o,c,h,m),h!==null&&(Ti(h,o,m),wI(h,c,m)))}function bI(o,c,h){var m=Wi();wp(o,c,h,m)}function wp(o,c,h,m){var w={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(o0(o))xI(c,w);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=c.lastRenderedReducer,E!==null))try{var O=c.lastRenderedState,j=E(O,h);if(w.hasEagerState=!0,w.eagerState=j,Ui(j,O))return Uy(o,c,w,0),Ut===null&&zy(),!1}catch{}finally{}if(h=Uw(o,c,w,m),h!==null)return Ti(h,o,m),wI(h,c,m),!0}return!1}function ES(o,c,h,m){if(m={lane:2,revertLane:nT(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},o0(o)){if(c)throw Error(r(479))}else c=Uw(o,h,m,2),c!==null&&Ti(c,o,2)}function o0(o){var c=o.alternate;return o===Je||c!==null&&c===Je}function xI(o,c){ud=e0=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function wI(o,c,h){if((h&4194048)!==0){var m=c.lanes;m&=o.pendingLanes,h|=m,c.lanes=h,Js(o,h)}}var Sp={readContext:_r,use:r0,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useLayoutEffect:wn,useInsertionEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useSyncExternalStore:wn,useId:wn,useHostTransitionStatus:wn,useFormState:wn,useActionState:wn,useOptimistic:wn,useMemoCache:wn,useCacheRefresh:wn};Sp.useEffectEvent=wn;var SI={readContext:_r,use:r0,useCallback:function(o,c){return ii().memoizedState=[o,c===void 0?null:c],o},useContext:_r,useEffect:sI,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,s0(4194308,4,cI.bind(null,c,o),h)},useLayoutEffect:function(o,c){return s0(4194308,4,o,c)},useInsertionEffect:function(o,c){s0(4,2,o,c)},useMemo:function(o,c){var h=ii();c=c===void 0?null:c;var m=o();if(Au){xr(!0);try{o()}finally{xr(!1)}}return h.memoizedState=[m,c],m},useReducer:function(o,c,h){var m=ii();if(h!==void 0){var w=h(c);if(Au){xr(!0);try{h(c)}finally{xr(!1)}}}else w=c;return m.memoizedState=m.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},m.queue=o,o=o.dispatch=YY.bind(null,Je,o),[m.memoizedState,o]},useRef:function(o){var c=ii();return o={current:o},c.memoizedState=o},useState:function(o){o=yS(o);var c=o.queue,h=bI.bind(null,Je,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:xS,useDeferredValue:function(o,c){var h=ii();return wS(h,o,c)},useTransition:function(){var o=yS(!1);return o=pI.bind(null,Je,o.queue,!0,!1),ii().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var m=Je,w=ii();if(dt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),Ut===null)throw Error(r(349));(st&127)!==0||$D(m,c,h)}w.memoizedState=h;var E={value:h,getSnapshot:c};return w.queue=E,sI(qD.bind(null,m,E,o),[o]),m.flags|=2048,dd(9,{destroy:void 0},HD.bind(null,m,E,h,c),null),h},useId:function(){var o=ii(),c=Ut.identifierPrefix;if(dt){var h=Ra,m=Pa;h=(m&~(1<<32-qt(m)-1)).toString(32)+h,c="_"+c+"R_"+h,h=t0++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=FY++,c="_"+c+"r_"+h.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:TS,useFormState:eI,useActionState:eI,useOptimistic:function(o){var c=ii();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=ES.bind(null,Je,!0,h),h.dispatch=c,[o,c]},useMemoCache:pS,useCacheRefresh:function(){return ii().memoizedState=GY.bind(null,Je)},useEffectEvent:function(o){var c=ii(),h={impl:o};return c.memoizedState=h,function(){if((wt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},_S={readContext:_r,use:r0,useCallback:fI,useContext:_r,useEffect:bS,useImperativeHandle:uI,useInsertionEffect:oI,useLayoutEffect:lI,useMemo:dI,useReducer:i0,useRef:iI,useState:function(){return i0(xo)},useDebugValue:xS,useDeferredValue:function(o,c){var h=Mn();return hI(h,It.memoizedState,o,c)},useTransition:function(){var o=i0(xo)[0],c=Mn().memoizedState;return[typeof o=="boolean"?o:xp(o),c]},useSyncExternalStore:FD,useId:yI,useHostTransitionStatus:TS,useFormState:tI,useActionState:tI,useOptimistic:function(o,c){var h=Mn();return GD(h,It,o,c)},useMemoCache:pS,useCacheRefresh:vI};_S.useEffectEvent=aI;var TI={readContext:_r,use:r0,useCallback:fI,useContext:_r,useEffect:bS,useImperativeHandle:uI,useInsertionEffect:oI,useLayoutEffect:lI,useMemo:dI,useReducer:gS,useRef:iI,useState:function(){return gS(xo)},useDebugValue:xS,useDeferredValue:function(o,c){var h=Mn();return It===null?wS(h,o,c):hI(h,It.memoizedState,o,c)},useTransition:function(){var o=gS(xo)[0],c=Mn().memoizedState;return[typeof o=="boolean"?o:xp(o),c]},useSyncExternalStore:FD,useId:yI,useHostTransitionStatus:TS,useFormState:rI,useActionState:rI,useOptimistic:function(o,c){var h=Mn();return It!==null?GD(h,It,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:pS,useCacheRefresh:vI};TI.useEffectEvent=aI;function AS(o,c,h,m){c=o.memoizedState,h=h(m,c),h=h==null?c:p({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var kS={enqueueSetState:function(o,c,h){o=o._reactInternals;var m=Wi(),w=Dl(m);w.payload=c,h!=null&&(w.callback=h),c=Il(o,w,m),c!==null&&(Ti(c,o,m),gp(c,o,m))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var m=Wi(),w=Dl(m);w.tag=1,w.payload=c,h!=null&&(w.callback=h),c=Il(o,w,m),c!==null&&(Ti(c,o,m),gp(c,o,m))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=Wi(),m=Dl(h);m.tag=2,c!=null&&(m.callback=c),c=Il(o,m,h),c!==null&&(Ti(c,o,h),gp(c,o,h))}};function EI(o,c,h,m,w,E,O){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,E,O):c.prototype&&c.prototype.isPureReactComponent?!lp(h,m)||!lp(w,E):!0}function _I(o,c,h,m){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,m),c.state!==o&&kS.enqueueReplaceState(c,c.state,null)}function ku(o,c){var h=c;if("ref"in c){h={};for(var m in c)m!=="ref"&&(h[m]=c[m])}if(o=o.defaultProps){h===c&&(h=p({},h));for(var w in o)h[w]===void 0&&(h[w]=o[w])}return h}function AI(o){By(o)}function kI(o){console.error(o)}function CI(o){By(o)}function l0(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function OI(o,c,h){try{var m=o.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function CS(o,c,h){return h=Dl(h),h.tag=3,h.payload={element:null},h.callback=function(){l0(o,c)},h}function NI(o){return o=Dl(o),o.tag=3,o}function MI(o,c,h,m){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var E=m.value;o.payload=function(){return w(E)},o.callback=function(){OI(c,h,m)}}var O=h.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(o.callback=function(){OI(c,h,m),typeof w!="function"&&(Bl===null?Bl=new Set([this]):Bl.add(this));var j=m.stack;this.componentDidCatch(m.value,{componentStack:j!==null?j:""})})}function XY(o,c,h,m,w){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=h.alternate,c!==null&&id(c,h,w,!0),h=$i.current,h!==null){switch(h.tag){case 31:case 13:return Es===null?x0():h.alternate===null&&Sn===0&&(Sn=3),h.flags&=-257,h.flags|=65536,h.lanes=w,m===Yy?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([m]):c.add(m),ZS(o,m,w)),!1;case 22:return h.flags|=65536,m===Yy?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([m]):h.add(m)),ZS(o,m,w)),!1}throw Error(r(435,h.tag))}return ZS(o,m,w),x0(),!1}if(dt)return c=$i.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,m!==Ww&&(o=Error(r(422),{cause:m}),fp(xs(o,h)))):(m!==Ww&&(c=Error(r(423),{cause:m}),fp(xs(c,h))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,m=xs(m,h),w=CS(o.stateNode,m,w),iS(o,w),Sn!==4&&(Sn=2)),!1;var E=Error(r(520),{cause:m});if(E=xs(E,h),Np===null?Np=[E]:Np.push(E),Sn!==4&&(Sn=2),c===null)return!0;m=xs(m,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=w&-w,h.lanes|=o,o=CS(h.stateNode,m,o),iS(h,o),!1;case 1:if(c=h.type,E=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Bl===null||!Bl.has(E))))return h.flags|=65536,w&=-w,h.lanes|=w,w=NI(w),MI(w,o,h,m),iS(h,w),!1}h=h.return}while(h!==null);return!1}var OS=Error(r(461)),zn=!1;function Ar(o,c,h,m){c.child=o===null?RD(c,null,h,m):_u(c,o.child,h,m)}function DI(o,c,h,m,w){h=h.render;var E=c.ref;if("ref"in m){var O={};for(var j in m)j!=="ref"&&(O[j]=m[j])}else O=m;return wu(c),m=uS(o,c,h,O,E,w),j=fS(),o!==null&&!zn?(dS(o,c,w),wo(o,c,w)):(dt&&j&&qw(c),c.flags|=1,Ar(o,c,m,w),c.child)}function II(o,c,h,m,w){if(o===null){var E=h.type;return typeof E=="function"&&!Fw(E)&&E.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=E,PI(o,c,E,m,w)):(o=$y(h.type,null,m,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(E=o.child,!LS(o,w)){var O=E.memoizedProps;if(h=h.compare,h=h!==null?h:lp,h(O,m)&&o.ref===c.ref)return wo(o,c,w)}return c.flags|=1,o=mo(E,m),o.ref=c.ref,o.return=c,c.child=o}function PI(o,c,h,m,w){if(o!==null){var E=o.memoizedProps;if(lp(E,m)&&o.ref===c.ref)if(zn=!1,c.pendingProps=m=E,LS(o,w))(o.flags&131072)!==0&&(zn=!0);else return c.lanes=o.lanes,wo(o,c,w)}return NS(o,c,h,m,w)}function RI(o,c,h,m){var w=m.children,E=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(E=E!==null?E.baseLanes|h:h,o!==null){for(m=c.child=o.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;m=w&~E}else m=0,c.child=null;return jI(o,c,E,h,m)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Wy(c,E!==null?E.cachePool:null),E!==null?VD(c,E):aS(),BD(c);else return m=c.lanes=536870912,jI(o,c,E!==null?E.baseLanes|h:h,h,m)}else E!==null?(Wy(c,E.cachePool),VD(c,E),Rl(),c.memoizedState=null):(o!==null&&Wy(c,null),aS(),Rl());return Ar(o,c,w,h),c.child}function Tp(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function jI(o,c,h,m,w){var E=eS();return E=E===null?null:{parent:Vn._currentValue,pool:E},c.memoizedState={baseLanes:h,cachePool:E},o!==null&&Wy(c,null),aS(),BD(c),o!==null&&id(o,c,m,!0),c.childLanes=w,null}function c0(o,c){return c=f0({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function LI(o,c,h){return _u(c,o.child,null,h),o=c0(c,c.pendingProps),o.flags|=2,Hi(c),c.memoizedState=null,o}function QY(o,c,h){var m=c.pendingProps,w=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(dt){if(m.mode==="hidden")return o=c0(c,m),c.lanes=536870912,Tp(null,o);if(lS(c),(o=Jt)?(o=YP(o,Ts),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:kl!==null?{id:Pa,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},h=xD(o),h.return=c,c.child=h,Er=c,Jt=null)):o=null,o===null)throw Ol(c);return c.lanes=536870912,null}return c0(c,m)}var E=o.memoizedState;if(E!==null){var O=E.dehydrated;if(lS(c),w)if(c.flags&256)c.flags&=-257,c=LI(o,c,h);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(r(558));else if(zn||id(o,c,h,!1),w=(h&o.childLanes)!==0,zn||w){if(m=Ut,m!==null&&(O=fs(m,h),O!==0&&O!==E.retryLane))throw E.retryLane=O,yu(o,O),Ti(m,o,O),OS;x0(),c=LI(o,c,h)}else o=E.treeContext,Jt=_s(O.nextSibling),Er=c,dt=!0,Cl=null,Ts=!1,o!==null&&TD(c,o),c=c0(c,m),c.flags|=4096;return c}return o=mo(o.child,{mode:m.mode,children:m.children}),o.ref=c.ref,c.child=o,o.return=c,o}function u0(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function NS(o,c,h,m,w){return wu(c),h=uS(o,c,h,m,void 0,w),m=fS(),o!==null&&!zn?(dS(o,c,w),wo(o,c,w)):(dt&&m&&qw(c),c.flags|=1,Ar(o,c,h,w),c.child)}function VI(o,c,h,m,w,E){return wu(c),c.updateQueue=null,h=UD(c,m,h,w),zD(o),m=fS(),o!==null&&!zn?(dS(o,c,E),wo(o,c,E)):(dt&&m&&qw(c),c.flags|=1,Ar(o,c,h,E),c.child)}function BI(o,c,h,m,w){if(wu(c),c.stateNode===null){var E=ed,O=h.contextType;typeof O=="object"&&O!==null&&(E=_r(O)),E=new h(m,E),c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=kS,c.stateNode=E,E._reactInternals=c,E=c.stateNode,E.props=m,E.state=c.memoizedState,E.refs={},nS(c),O=h.contextType,E.context=typeof O=="object"&&O!==null?_r(O):ed,E.state=c.memoizedState,O=h.getDerivedStateFromProps,typeof O=="function"&&(AS(c,h,O,m),E.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(O=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),O!==E.state&&kS.enqueueReplaceState(E,E.state,null),vp(c,m,E,w),yp(),E.state=c.memoizedState),typeof E.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(o===null){E=c.stateNode;var j=c.memoizedProps,H=ku(h,j);E.props=H;var ee=E.context,se=h.contextType;O=ed,typeof se=="object"&&se!==null&&(O=_r(se));var ce=h.getDerivedStateFromProps;se=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function",j=c.pendingProps!==j,se||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(j||ee!==O)&&_I(c,E,m,O),Ml=!1;var te=c.memoizedState;E.state=te,vp(c,m,E,w),yp(),ee=c.memoizedState,j||te!==ee||Ml?(typeof ce=="function"&&(AS(c,h,ce,m),ee=c.memoizedState),(H=Ml||EI(c,h,H,m,te,ee,O))?(se||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(c.flags|=4194308)):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=ee),E.props=m,E.state=ee,E.context=O,m=H):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{E=c.stateNode,rS(o,c),O=c.memoizedProps,se=ku(h,O),E.props=se,ce=c.pendingProps,te=E.context,ee=h.contextType,H=ed,typeof ee=="object"&&ee!==null&&(H=_r(ee)),j=h.getDerivedStateFromProps,(ee=typeof j=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==ce||te!==H)&&_I(c,E,m,H),Ml=!1,te=c.memoizedState,E.state=te,vp(c,m,E,w),yp();var re=c.memoizedState;O!==ce||te!==re||Ml||o!==null&&o.dependencies!==null&&qy(o.dependencies)?(typeof j=="function"&&(AS(c,h,j,m),re=c.memoizedState),(se=Ml||EI(c,h,se,m,te,re,H)||o!==null&&o.dependencies!==null&&qy(o.dependencies))?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(m,re,H),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(m,re,H)),typeof E.componentDidUpdate=="function"&&(c.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof E.componentDidUpdate!="function"||O===o.memoizedProps&&te===o.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&te===o.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=re),E.props=m,E.state=re,E.context=H,m=se):(typeof E.componentDidUpdate!="function"||O===o.memoizedProps&&te===o.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&te===o.memoizedState||(c.flags|=1024),m=!1)}return E=m,u0(o,c),m=(c.flags&128)!==0,E||m?(E=c.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:E.render(),c.flags|=1,o!==null&&m?(c.child=_u(c,o.child,null,w),c.child=_u(c,null,h,w)):Ar(o,c,h,w),c.memoizedState=E.state,o=c.child):o=wo(o,c,w),o}function zI(o,c,h,m){return bu(),c.flags|=256,Ar(o,c,h,m),c.child}var MS={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function DS(o){return{baseLanes:o,cachePool:OD()}}function IS(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=Ki),o}function UI(o,c,h){var m=c.pendingProps,w=!1,E=(c.flags&128)!==0,O;if((O=E)||(O=o!==null&&o.memoizedState===null?!1:(Nn.current&2)!==0),O&&(w=!0,c.flags&=-129),O=(c.flags&32)!==0,c.flags&=-33,o===null){if(dt){if(w?Pl(c):Rl(),(o=Jt)?(o=YP(o,Ts),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:kl!==null?{id:Pa,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},h=xD(o),h.return=c,c.child=h,Er=c,Jt=null)):o=null,o===null)throw Ol(c);return mT(o)?c.lanes=32:c.lanes=536870912,null}var j=m.children;return m=m.fallback,w?(Rl(),w=c.mode,j=f0({mode:"hidden",children:j},w),m=vu(m,w,h,null),j.return=c,m.return=c,j.sibling=m,c.child=j,m=c.child,m.memoizedState=DS(h),m.childLanes=IS(o,O,h),c.memoizedState=MS,Tp(null,m)):(Pl(c),PS(c,j))}var H=o.memoizedState;if(H!==null&&(j=H.dehydrated,j!==null)){if(E)c.flags&256?(Pl(c),c.flags&=-257,c=RS(o,c,h)):c.memoizedState!==null?(Rl(),c.child=o.child,c.flags|=128,c=null):(Rl(),j=m.fallback,w=c.mode,m=f0({mode:"visible",children:m.children},w),j=vu(j,w,h,null),j.flags|=2,m.return=c,j.return=c,m.sibling=j,c.child=m,_u(c,o.child,null,h),m=c.child,m.memoizedState=DS(h),m.childLanes=IS(o,O,h),c.memoizedState=MS,c=Tp(null,m));else if(Pl(c),mT(j)){if(O=j.nextSibling&&j.nextSibling.dataset,O)var ee=O.dgst;O=ee,m=Error(r(419)),m.stack="",m.digest=O,fp({value:m,source:null,stack:null}),c=RS(o,c,h)}else if(zn||id(o,c,h,!1),O=(h&o.childLanes)!==0,zn||O){if(O=Ut,O!==null&&(m=fs(O,h),m!==0&&m!==H.retryLane))throw H.retryLane=m,yu(o,m),Ti(O,o,m),OS;pT(j)||x0(),c=RS(o,c,h)}else pT(j)?(c.flags|=192,c.child=o.child,c=null):(o=H.treeContext,Jt=_s(j.nextSibling),Er=c,dt=!0,Cl=null,Ts=!1,o!==null&&TD(c,o),c=PS(c,m.children),c.flags|=4096);return c}return w?(Rl(),j=m.fallback,w=c.mode,H=o.child,ee=H.sibling,m=mo(H,{mode:"hidden",children:m.children}),m.subtreeFlags=H.subtreeFlags&65011712,ee!==null?j=mo(ee,j):(j=vu(j,w,h,null),j.flags|=2),j.return=c,m.return=c,m.sibling=j,c.child=m,Tp(null,m),m=c.child,j=o.child.memoizedState,j===null?j=DS(h):(w=j.cachePool,w!==null?(H=Vn._currentValue,w=w.parent!==H?{parent:H,pool:H}:w):w=OD(),j={baseLanes:j.baseLanes|h,cachePool:w}),m.memoizedState=j,m.childLanes=IS(o,O,h),c.memoizedState=MS,Tp(o.child,m)):(Pl(c),h=o.child,o=h.sibling,h=mo(h,{mode:"visible",children:m.children}),h.return=c,h.sibling=null,o!==null&&(O=c.deletions,O===null?(c.deletions=[o],c.flags|=16):O.push(o)),c.child=h,c.memoizedState=null,h)}function PS(o,c){return c=f0({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function f0(o,c){return o=Fi(22,o,null,c),o.lanes=0,o}function RS(o,c,h){return _u(c,o.child,null,h),o=PS(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function FI(o,c,h){o.lanes|=c;var m=o.alternate;m!==null&&(m.lanes|=c),Xw(o.return,c,h)}function jS(o,c,h,m,w,E){var O=o.memoizedState;O===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:w,treeForkCount:E}:(O.isBackwards=c,O.rendering=null,O.renderingStartTime=0,O.last=m,O.tail=h,O.tailMode=w,O.treeForkCount=E)}function $I(o,c,h){var m=c.pendingProps,w=m.revealOrder,E=m.tail;m=m.children;var O=Nn.current,j=(O&2)!==0;if(j?(O=O&1|2,c.flags|=128):O&=1,ye(Nn,O),Ar(o,c,m,h),m=dt?up:0,!j&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&FI(o,h,c);else if(o.tag===19)FI(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(w){case"forwards":for(h=c.child,w=null;h!==null;)o=h.alternate,o!==null&&Zy(o)===null&&(w=h),h=h.sibling;h=w,h===null?(w=c.child,c.child=null):(w=h.sibling,h.sibling=null),jS(c,!1,w,h,E,m);break;case"backwards":case"unstable_legacy-backwards":for(h=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&Zy(o)===null){c.child=w;break}o=w.sibling,w.sibling=h,h=w,w=o}jS(c,!0,h,null,E,m);break;case"together":jS(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function wo(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),Vl|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(id(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,h=mo(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=mo(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function LS(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&qy(o)))}function JY(o,c,h){switch(c.tag){case 3:ut(c,c.stateNode.containerInfo),Nl(c,Vn,o.memoizedState.cache),bu();break;case 27:case 5:ze(c);break;case 4:ut(c,c.stateNode.containerInfo);break;case 10:Nl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,lS(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(Pl(c),c.flags|=128,null):(h&c.child.childLanes)!==0?UI(o,c,h):(Pl(c),o=wo(o,c,h),o!==null?o.sibling:null);Pl(c);break;case 19:var w=(o.flags&128)!==0;if(m=(h&c.childLanes)!==0,m||(id(o,c,h,!1),m=(h&c.childLanes)!==0),w){if(m)return $I(o,c,h);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ye(Nn,Nn.current),m)break;return null;case 22:return c.lanes=0,RI(o,c,h,c.pendingProps);case 24:Nl(c,Vn,o.memoizedState.cache)}return wo(o,c,h)}function HI(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)zn=!0;else{if(!LS(o,h)&&(c.flags&128)===0)return zn=!1,JY(o,c,h);zn=(o.flags&131072)!==0}else zn=!1,dt&&(c.flags&1048576)!==0&&SD(c,up,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(o=Tu(c.elementType),c.type=o,typeof o=="function")Fw(o)?(m=ku(o,m),c.tag=1,c=BI(null,c,o,m,h)):(c.tag=0,c=NS(null,c,o,m,h));else{if(o!=null){var w=o.$$typeof;if(w===L){c.tag=11,c=DI(null,c,o,m,h);break e}else if(w===N){c.tag=14,c=II(null,c,o,m,h);break e}}throw c=me(o)||o,Error(r(306,c,""))}}return c;case 0:return NS(o,c,c.type,c.pendingProps,h);case 1:return m=c.type,w=ku(m,c.pendingProps),BI(o,c,m,w,h);case 3:e:{if(ut(c,c.stateNode.containerInfo),o===null)throw Error(r(387));m=c.pendingProps;var E=c.memoizedState;w=E.element,rS(o,c),vp(c,m,null,h);var O=c.memoizedState;if(m=O.cache,Nl(c,Vn,m),m!==E.cache&&Qw(c,[Vn],h,!0),yp(),m=O.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:O.cache},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){c=zI(o,c,m,h);break e}else if(m!==w){w=xs(Error(r(424)),c),fp(w),c=zI(o,c,m,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Jt=_s(o.firstChild),Er=c,dt=!0,Cl=null,Ts=!0,h=RD(c,null,m,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(bu(),m===w){c=wo(o,c,h);break e}Ar(o,c,m,h)}c=c.child}return c;case 26:return u0(o,c),o===null?(h=tR(c.type,null,c.pendingProps,null))?c.memoizedState=h:dt||(h=c.type,o=c.pendingProps,m=k0(Ie.current).createElement(h),m[Qt]=c,m[vn]=o,kr(m,h,o),bn(m),c.stateNode=m):c.memoizedState=tR(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return ze(c),o===null&&dt&&(m=c.stateNode=JP(c.type,c.pendingProps,Ie.current),Er=c,Ts=!0,w=Jt,$l(c.type)?(gT=w,Jt=_s(m.firstChild)):Jt=w),Ar(o,c,c.pendingProps.children,h),u0(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&dt&&((w=m=Jt)&&(m=CX(m,c.type,c.pendingProps,Ts),m!==null?(c.stateNode=m,Er=c,Jt=_s(m.firstChild),Ts=!1,w=!0):w=!1),w||Ol(c)),ze(c),w=c.type,E=c.pendingProps,O=o!==null?o.memoizedProps:null,m=E.children,fT(w,E)?m=null:O!==null&&fT(w,O)&&(c.flags|=32),c.memoizedState!==null&&(w=uS(o,c,$Y,null,null,h),Vp._currentValue=w),u0(o,c),Ar(o,c,m,h),c.child;case 6:return o===null&&dt&&((o=h=Jt)&&(h=OX(h,c.pendingProps,Ts),h!==null?(c.stateNode=h,Er=c,Jt=null,o=!0):o=!1),o||Ol(c)),null;case 13:return UI(o,c,h);case 4:return ut(c,c.stateNode.containerInfo),m=c.pendingProps,o===null?c.child=_u(c,null,m,h):Ar(o,c,m,h),c.child;case 11:return DI(o,c,c.type,c.pendingProps,h);case 7:return Ar(o,c,c.pendingProps,h),c.child;case 8:return Ar(o,c,c.pendingProps.children,h),c.child;case 12:return Ar(o,c,c.pendingProps.children,h),c.child;case 10:return m=c.pendingProps,Nl(c,c.type,m.value),Ar(o,c,m.children,h),c.child;case 9:return w=c.type._context,m=c.pendingProps.children,wu(c),w=_r(w),m=m(w),c.flags|=1,Ar(o,c,m,h),c.child;case 14:return II(o,c,c.type,c.pendingProps,h);case 15:return PI(o,c,c.type,c.pendingProps,h);case 19:return $I(o,c,h);case 31:return QY(o,c,h);case 22:return RI(o,c,h,c.pendingProps);case 24:return wu(c),m=_r(Vn),o===null?(w=eS(),w===null&&(w=Ut,E=Jw(),w.pooledCache=E,E.refCount++,E!==null&&(w.pooledCacheLanes|=h),w=E),c.memoizedState={parent:m,cache:w},nS(c),Nl(c,Vn,w)):((o.lanes&h)!==0&&(rS(o,c),vp(c,null,null,h),yp()),w=o.memoizedState,E=c.memoizedState,w.parent!==m?(w={parent:m,cache:m},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),Nl(c,Vn,m)):(m=E.cache,Nl(c,Vn,m),m!==w.cache&&Qw(c,[Vn],h,!0))),Ar(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function So(o){o.flags|=4}function VS(o,c,h,m,w){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(w&335544128)===w)if(o.stateNode.complete)o.flags|=8192;else if(yP())o.flags|=8192;else throw Eu=Yy,tS}else o.flags&=-16777217}function qI(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!aR(c))if(yP())o.flags|=8192;else throw Eu=Yy,tS}function d0(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?wr():536870912,o.lanes|=c,gd|=c)}function Ep(o,c){if(!dt)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Zt(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,m=0;if(c)for(var w=o.child;w!==null;)h|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)h|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=m,o.childLanes=h,c}function ZY(o,c,h){var m=c.pendingProps;switch(Kw(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(c),null;case 1:return Zt(c),null;case 3:return h=c.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),vo(Vn),fe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(rd(c)?So(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Gw())),Zt(c),null;case 26:var w=c.type,E=c.memoizedState;return o===null?(So(c),E!==null?(Zt(c),qI(c,E)):(Zt(c),VS(c,w,null,m,h))):E?E!==o.memoizedState?(So(c),Zt(c),qI(c,E)):(Zt(c),c.flags&=-16777217):(o=o.memoizedProps,o!==m&&So(c),Zt(c),VS(c,w,o,m,h)),null;case 27:if(Fe(c),h=Ie.current,w=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==m&&So(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return Zt(c),null}o=we.current,rd(c)?ED(c):(o=JP(w,m,h),c.stateNode=o,So(c))}return Zt(c),null;case 5:if(Fe(c),w=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==m&&So(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return Zt(c),null}if(E=we.current,rd(c))ED(c);else{var O=k0(Ie.current);switch(E){case 1:E=O.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:E=O.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":E=O.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":E=O.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":E=O.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof m.is=="string"?O.createElement("select",{is:m.is}):O.createElement("select"),m.multiple?E.multiple=!0:m.size&&(E.size=m.size);break;default:E=typeof m.is=="string"?O.createElement(w,{is:m.is}):O.createElement(w)}}E[Qt]=c,E[vn]=m;e:for(O=c.child;O!==null;){if(O.tag===5||O.tag===6)E.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===c)break e;for(;O.sibling===null;){if(O.return===null||O.return===c)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}c.stateNode=E;e:switch(kr(E,w,m),w){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&So(c)}}return Zt(c),VS(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,h),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==m&&So(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(r(166));if(o=Ie.current,rd(c)){if(o=c.stateNode,h=c.memoizedProps,m=null,w=Er,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}o[Qt]=c,o=!!(o.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||UP(o.nodeValue,h)),o||Ol(c,!0)}else o=k0(o).createTextNode(m),o[Qt]=c,c.stateNode=o}return Zt(c),null;case 31:if(h=c.memoizedState,o===null||o.memoizedState!==null){if(m=rd(c),h!==null){if(o===null){if(!m)throw Error(r(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Qt]=c}else bu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Zt(c),o=!1}else h=Gw(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return c.flags&256?(Hi(c),c):(Hi(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Zt(c),null;case 13:if(m=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=rd(c),m!==null&&m.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[Qt]=c}else bu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Zt(c),w=!1}else w=Gw(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(Hi(c),c):(Hi(c),null)}return Hi(c),(c.flags&128)!==0?(c.lanes=h,c):(h=m!==null,o=o!==null&&o.memoizedState!==null,h&&(m=c.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool),E=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),E!==w&&(m.flags|=2048)),h!==o&&h&&(c.child.flags|=8192),d0(c,c.updateQueue),Zt(c),null);case 4:return fe(),o===null&&aT(c.stateNode.containerInfo),Zt(c),null;case 10:return vo(c.type),Zt(c),null;case 19:if(X(Nn),m=c.memoizedState,m===null)return Zt(c),null;if(w=(c.flags&128)!==0,E=m.rendering,E===null)if(w)Ep(m,!1);else{if(Sn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(E=Zy(o),E!==null){for(c.flags|=128,Ep(m,!1),o=E.updateQueue,c.updateQueue=o,d0(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)bD(h,o),h=h.sibling;return ye(Nn,Nn.current&1|2),dt&&go(c,m.treeForkCount),c.child}o=o.sibling}m.tail!==null&&Tt()>y0&&(c.flags|=128,w=!0,Ep(m,!1),c.lanes=4194304)}else{if(!w)if(o=Zy(E),o!==null){if(c.flags|=128,w=!0,o=o.updateQueue,c.updateQueue=o,d0(c,o),Ep(m,!0),m.tail===null&&m.tailMode==="hidden"&&!E.alternate&&!dt)return Zt(c),null}else 2*Tt()-m.renderingStartTime>y0&&h!==536870912&&(c.flags|=128,w=!0,Ep(m,!1),c.lanes=4194304);m.isBackwards?(E.sibling=c.child,c.child=E):(o=m.last,o!==null?o.sibling=E:c.child=E,m.last=E)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Tt(),o.sibling=null,h=Nn.current,ye(Nn,w?h&1|2:h&1),dt&&go(c,m.treeForkCount),o):(Zt(c),null);case 22:case 23:return Hi(c),oS(),m=c.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(h&536870912)!==0&&(c.flags&128)===0&&(Zt(c),c.subtreeFlags&6&&(c.flags|=8192)):Zt(c),h=c.updateQueue,h!==null&&d0(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==h&&(c.flags|=2048),o!==null&&X(Su),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),vo(Vn),Zt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function eX(o,c){switch(Kw(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return vo(Vn),fe(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Fe(c),null;case 31:if(c.memoizedState!==null){if(Hi(c),c.alternate===null)throw Error(r(340));bu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Hi(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));bu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return X(Nn),null;case 4:return fe(),null;case 10:return vo(c.type),null;case 22:case 23:return Hi(c),oS(),o!==null&&X(Su),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return vo(Vn),null;case 25:return null;default:return null}}function KI(o,c){switch(Kw(c),c.tag){case 3:vo(Vn),fe();break;case 26:case 27:case 5:Fe(c);break;case 4:fe();break;case 31:c.memoizedState!==null&&Hi(c);break;case 13:Hi(c);break;case 19:X(Nn);break;case 10:vo(c.type);break;case 22:case 23:Hi(c),oS(),o!==null&&X(Su);break;case 24:vo(Vn)}}function _p(o,c){try{var h=c.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var w=m.next;h=w;do{if((h.tag&o)===o){m=void 0;var E=h.create,O=h.inst;m=E(),O.destroy=m}h=h.next}while(h!==w)}}catch(j){Ct(c,c.return,j)}}function jl(o,c,h){try{var m=c.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var E=w.next;m=E;do{if((m.tag&o)===o){var O=m.inst,j=O.destroy;if(j!==void 0){O.destroy=void 0,w=c;var H=h,ee=j;try{ee()}catch(se){Ct(w,H,se)}}}m=m.next}while(m!==E)}}catch(se){Ct(c,c.return,se)}}function WI(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{LD(c,h)}catch(m){Ct(o,o.return,m)}}}function GI(o,c,h){h.props=ku(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(m){Ct(o,c,m)}}function Ap(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof h=="function"?o.refCleanup=h(m):h.current=m}}catch(w){Ct(o,c,w)}}function ja(o,c){var h=o.ref,m=o.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(w){Ct(o,c,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){Ct(o,c,w)}else h.current=null}function YI(o){var c=o.type,h=o.memoizedProps,m=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break e;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(w){Ct(o,o.return,w)}}function BS(o,c,h){try{var m=o.stateNode;SX(m,o.type,h,c),m[vn]=c}catch(w){Ct(o,o.return,w)}}function XI(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&$l(o.type)||o.tag===4}function zS(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||XI(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&$l(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function US(o,c,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=ta));else if(m!==4&&(m===27&&$l(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(US(o,c,h),o=o.sibling;o!==null;)US(o,c,h),o=o.sibling}function h0(o,c,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(m!==4&&(m===27&&$l(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(h0(o,c,h),o=o.sibling;o!==null;)h0(o,c,h),o=o.sibling}function QI(o){var c=o.stateNode,h=o.memoizedProps;try{for(var m=o.type,w=c.attributes;w.length;)c.removeAttributeNode(w[0]);kr(c,m,h),c[Qt]=o,c[vn]=h}catch(E){Ct(o,o.return,E)}}var To=!1,Un=!1,FS=!1,JI=typeof WeakSet=="function"?WeakSet:Set,or=null;function tX(o,c){if(o=o.containerInfo,cT=P0,o=uD(o),Rw(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var w=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var O=0,j=-1,H=-1,ee=0,se=0,ce=o,te=null;t:for(;;){for(var re;ce!==h||w!==0&&ce.nodeType!==3||(j=O+w),ce!==E||m!==0&&ce.nodeType!==3||(H=O+m),ce.nodeType===3&&(O+=ce.nodeValue.length),(re=ce.firstChild)!==null;)te=ce,ce=re;for(;;){if(ce===o)break t;if(te===h&&++ee===w&&(j=O),te===E&&++se===m&&(H=O),(re=ce.nextSibling)!==null)break;ce=te,te=ce.parentNode}ce=re}h=j===-1||H===-1?null:{start:j,end:H}}else h=null}h=h||{start:0,end:0}}else h=null;for(uT={focusedElem:o,selectionRange:h},P0=!1,or=c;or!==null;)if(c=or,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,or=o;else for(;or!==null;){switch(c=or,E=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)w=o[h],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&E!==null){o=void 0,h=c,w=E.memoizedProps,E=E.memoizedState,m=h.stateNode;try{var Oe=ku(h.type,w);o=m.getSnapshotBeforeUpdate(Oe,E),m.__reactInternalSnapshotBeforeUpdate=o}catch(Ue){Ct(h,h.return,Ue)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)hT(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":hT(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,or=o;break}or=c.return}}function ZI(o,c,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:_o(o,h),m&4&&_p(5,h);break;case 1:if(_o(o,h),m&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(O){Ct(h,h.return,O)}else{var w=ku(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(w,c,o.__reactInternalSnapshotBeforeUpdate)}catch(O){Ct(h,h.return,O)}}m&64&&WI(h),m&512&&Ap(h,h.return);break;case 3:if(_o(o,h),m&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{LD(o,c)}catch(O){Ct(h,h.return,O)}}break;case 27:c===null&&m&4&&QI(h);case 26:case 5:_o(o,h),c===null&&m&4&&YI(h),m&512&&Ap(h,h.return);break;case 12:_o(o,h);break;case 31:_o(o,h),m&4&&nP(o,h);break;case 13:_o(o,h),m&4&&rP(o,h),m&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=uX.bind(null,h),NX(o,h))));break;case 22:if(m=h.memoizedState!==null||To,!m){c=c!==null&&c.memoizedState!==null||Un,w=To;var E=Un;To=m,(Un=c)&&!E?Ao(o,h,(h.subtreeFlags&8772)!==0):_o(o,h),To=w,Un=E}break;case 30:break;default:_o(o,h)}}function eP(o){var c=o.alternate;c!==null&&(o.alternate=null,eP(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&ds(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var un=null,bi=!1;function Eo(o,c,h){for(h=h.child;h!==null;)tP(o,c,h),h=h.sibling}function tP(o,c,h){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Qn,h)}catch{}switch(h.tag){case 26:Un||ja(h,c),Eo(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Un||ja(h,c);var m=un,w=bi;$l(h.type)&&(un=h.stateNode,bi=!1),Eo(o,c,h),Rp(h.stateNode),un=m,bi=w;break;case 5:Un||ja(h,c);case 6:if(m=un,w=bi,un=null,Eo(o,c,h),un=m,bi=w,un!==null)if(bi)try{(un.nodeType===9?un.body:un.nodeName==="HTML"?un.ownerDocument.body:un).removeChild(h.stateNode)}catch(E){Ct(h,c,E)}else try{un.removeChild(h.stateNode)}catch(E){Ct(h,c,E)}break;case 18:un!==null&&(bi?(o=un,WP(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Ed(o)):WP(un,h.stateNode));break;case 4:m=un,w=bi,un=h.stateNode.containerInfo,bi=!0,Eo(o,c,h),un=m,bi=w;break;case 0:case 11:case 14:case 15:jl(2,h,c),Un||jl(4,h,c),Eo(o,c,h);break;case 1:Un||(ja(h,c),m=h.stateNode,typeof m.componentWillUnmount=="function"&&GI(h,c,m)),Eo(o,c,h);break;case 21:Eo(o,c,h);break;case 22:Un=(m=Un)||h.memoizedState!==null,Eo(o,c,h),Un=m;break;default:Eo(o,c,h)}}function nP(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Ed(o)}catch(h){Ct(c,c.return,h)}}}function rP(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Ed(o)}catch(h){Ct(c,c.return,h)}}function nX(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new JI),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new JI),c;default:throw Error(r(435,o.tag))}}function p0(o,c){var h=nX(o);c.forEach(function(m){if(!h.has(m)){h.add(m);var w=fX.bind(null,o,m);m.then(w,w)}})}function xi(o,c){var h=c.deletions;if(h!==null)for(var m=0;m<h.length;m++){var w=h[m],E=o,O=c,j=O;e:for(;j!==null;){switch(j.tag){case 27:if($l(j.type)){un=j.stateNode,bi=!1;break e}break;case 5:un=j.stateNode,bi=!1;break e;case 3:case 4:un=j.stateNode.containerInfo,bi=!0;break e}j=j.return}if(un===null)throw Error(r(160));tP(E,O,w),un=null,bi=!1,E=w.alternate,E!==null&&(E.return=null),w.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)iP(c,o),c=c.sibling}var oa=null;function iP(o,c){var h=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:xi(c,o),wi(o),m&4&&(jl(3,o,o.return),_p(3,o),jl(5,o,o.return));break;case 1:xi(c,o),wi(o),m&512&&(Un||h===null||ja(h,h.return)),m&64&&To&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var w=oa;if(xi(c,o),wi(o),m&512&&(Un||h===null||ja(h,h.return)),m&4){var E=h!==null?h.memoizedState:null;if(m=o.memoizedState,h===null)if(m===null)if(o.stateNode===null){e:{m=o.type,h=o.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":E=w.getElementsByTagName("title")[0],(!E||E[ln]||E[Qt]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=w.createElement(m),w.head.insertBefore(E,w.querySelector("head > title"))),kr(E,m,h),E[Qt]=o,bn(E),m=E;break e;case"link":var O=iR("link","href",w).get(m+(h.href||""));if(O){for(var j=0;j<O.length;j++)if(E=O[j],E.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&E.getAttribute("rel")===(h.rel==null?null:h.rel)&&E.getAttribute("title")===(h.title==null?null:h.title)&&E.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){O.splice(j,1);break t}}E=w.createElement(m),kr(E,m,h),w.head.appendChild(E);break;case"meta":if(O=iR("meta","content",w).get(m+(h.content||""))){for(j=0;j<O.length;j++)if(E=O[j],E.getAttribute("content")===(h.content==null?null:""+h.content)&&E.getAttribute("name")===(h.name==null?null:h.name)&&E.getAttribute("property")===(h.property==null?null:h.property)&&E.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&E.getAttribute("charset")===(h.charSet==null?null:h.charSet)){O.splice(j,1);break t}}E=w.createElement(m),kr(E,m,h),w.head.appendChild(E);break;default:throw Error(r(468,m))}E[Qt]=o,bn(E),m=E}o.stateNode=m}else sR(w,o.type,o.stateNode);else o.stateNode=rR(w,m,o.memoizedProps);else E!==m?(E===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):E.count--,m===null?sR(w,o.type,o.stateNode):rR(w,m,o.memoizedProps)):m===null&&o.stateNode!==null&&BS(o,o.memoizedProps,h.memoizedProps)}break;case 27:xi(c,o),wi(o),m&512&&(Un||h===null||ja(h,h.return)),h!==null&&m&4&&BS(o,o.memoizedProps,h.memoizedProps);break;case 5:if(xi(c,o),wi(o),m&512&&(Un||h===null||ja(h,h.return)),o.flags&32){w=o.stateNode;try{vi(w,"")}catch(Oe){Ct(o,o.return,Oe)}}m&4&&o.stateNode!=null&&(w=o.memoizedProps,BS(o,w,h!==null?h.memoizedProps:w)),m&1024&&(FS=!0);break;case 6:if(xi(c,o),wi(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,h=o.stateNode;try{h.nodeValue=m}catch(Oe){Ct(o,o.return,Oe)}}break;case 3:if(N0=null,w=oa,oa=C0(c.containerInfo),xi(c,o),oa=w,wi(o),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Ed(c.containerInfo)}catch(Oe){Ct(o,o.return,Oe)}FS&&(FS=!1,sP(o));break;case 4:m=oa,oa=C0(o.stateNode.containerInfo),xi(c,o),wi(o),oa=m;break;case 12:xi(c,o),wi(o);break;case 31:xi(c,o),wi(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,p0(o,m)));break;case 13:xi(c,o),wi(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(g0=Tt()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,p0(o,m)));break;case 22:w=o.memoizedState!==null;var H=h!==null&&h.memoizedState!==null,ee=To,se=Un;if(To=ee||w,Un=se||H,xi(c,o),Un=se,To=ee,wi(o),m&8192)e:for(c=o.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(h===null||H||To||Un||Cu(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){H=h=c;try{if(E=H.stateNode,w)O=E.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{j=H.stateNode;var ce=H.memoizedProps.style,te=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;j.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Oe){Ct(H,H.return,Oe)}}}else if(c.tag===6){if(h===null){H=c;try{H.stateNode.nodeValue=w?"":H.memoizedProps}catch(Oe){Ct(H,H.return,Oe)}}}else if(c.tag===18){if(h===null){H=c;try{var re=H.stateNode;w?GP(re,!0):GP(H.stateNode,!1)}catch(Oe){Ct(H,H.return,Oe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=o.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,p0(o,h))));break;case 19:xi(c,o),wi(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,p0(o,m)));break;case 30:break;case 21:break;default:xi(c,o),wi(o)}}function wi(o){var c=o.flags;if(c&2){try{for(var h,m=o.return;m!==null;){if(XI(m)){h=m;break}m=m.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var w=h.stateNode,E=zS(o);h0(o,E,w);break;case 5:var O=h.stateNode;h.flags&32&&(vi(O,""),h.flags&=-33);var j=zS(o);h0(o,j,O);break;case 3:case 4:var H=h.stateNode.containerInfo,ee=zS(o);US(o,ee,H);break;default:throw Error(r(161))}}catch(se){Ct(o,o.return,se)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function sP(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;sP(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function _o(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)ZI(o,c.alternate,c),c=c.sibling}function Cu(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:jl(4,c,c.return),Cu(c);break;case 1:ja(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&GI(c,c.return,h),Cu(c);break;case 27:Rp(c.stateNode);case 26:case 5:ja(c,c.return),Cu(c);break;case 22:c.memoizedState===null&&Cu(c);break;case 30:Cu(c);break;default:Cu(c)}o=o.sibling}}function Ao(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,w=o,E=c,O=E.flags;switch(E.tag){case 0:case 11:case 15:Ao(w,E,h),_p(4,E);break;case 1:if(Ao(w,E,h),m=E,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(ee){Ct(m,m.return,ee)}if(m=E,w=m.updateQueue,w!==null){var j=m.stateNode;try{var H=w.shared.hiddenCallbacks;if(H!==null)for(w.shared.hiddenCallbacks=null,w=0;w<H.length;w++)jD(H[w],j)}catch(ee){Ct(m,m.return,ee)}}h&&O&64&&WI(E),Ap(E,E.return);break;case 27:QI(E);case 26:case 5:Ao(w,E,h),h&&m===null&&O&4&&YI(E),Ap(E,E.return);break;case 12:Ao(w,E,h);break;case 31:Ao(w,E,h),h&&O&4&&nP(w,E);break;case 13:Ao(w,E,h),h&&O&4&&rP(w,E);break;case 22:E.memoizedState===null&&Ao(w,E,h),Ap(E,E.return);break;case 30:break;default:Ao(w,E,h)}c=c.sibling}}function $S(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&dp(h))}function HS(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&dp(o))}function la(o,c,h,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)aP(o,c,h,m),c=c.sibling}function aP(o,c,h,m){var w=c.flags;switch(c.tag){case 0:case 11:case 15:la(o,c,h,m),w&2048&&_p(9,c);break;case 1:la(o,c,h,m);break;case 3:la(o,c,h,m),w&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&dp(o)));break;case 12:if(w&2048){la(o,c,h,m),o=c.stateNode;try{var E=c.memoizedProps,O=E.id,j=E.onPostCommit;typeof j=="function"&&j(O,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(H){Ct(c,c.return,H)}}else la(o,c,h,m);break;case 31:la(o,c,h,m);break;case 13:la(o,c,h,m);break;case 23:break;case 22:E=c.stateNode,O=c.alternate,c.memoizedState!==null?E._visibility&2?la(o,c,h,m):kp(o,c):E._visibility&2?la(o,c,h,m):(E._visibility|=2,hd(o,c,h,m,(c.subtreeFlags&10256)!==0||!1)),w&2048&&$S(O,c);break;case 24:la(o,c,h,m),w&2048&&HS(c.alternate,c);break;default:la(o,c,h,m)}}function hd(o,c,h,m,w){for(w=w&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var E=o,O=c,j=h,H=m,ee=O.flags;switch(O.tag){case 0:case 11:case 15:hd(E,O,j,H,w),_p(8,O);break;case 23:break;case 22:var se=O.stateNode;O.memoizedState!==null?se._visibility&2?hd(E,O,j,H,w):kp(E,O):(se._visibility|=2,hd(E,O,j,H,w)),w&&ee&2048&&$S(O.alternate,O);break;case 24:hd(E,O,j,H,w),w&&ee&2048&&HS(O.alternate,O);break;default:hd(E,O,j,H,w)}c=c.sibling}}function kp(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,m=c,w=m.flags;switch(m.tag){case 22:kp(h,m),w&2048&&$S(m.alternate,m);break;case 24:kp(h,m),w&2048&&HS(m.alternate,m);break;default:kp(h,m)}c=c.sibling}}var Cp=8192;function pd(o,c,h){if(o.subtreeFlags&Cp)for(o=o.child;o!==null;)oP(o,c,h),o=o.sibling}function oP(o,c,h){switch(o.tag){case 26:pd(o,c,h),o.flags&Cp&&o.memoizedState!==null&&FX(h,oa,o.memoizedState,o.memoizedProps);break;case 5:pd(o,c,h);break;case 3:case 4:var m=oa;oa=C0(o.stateNode.containerInfo),pd(o,c,h),oa=m;break;case 22:o.memoizedState===null&&(m=o.alternate,m!==null&&m.memoizedState!==null?(m=Cp,Cp=16777216,pd(o,c,h),Cp=m):pd(o,c,h));break;default:pd(o,c,h)}}function lP(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Op(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];or=m,uP(m,o)}lP(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)cP(o),o=o.sibling}function cP(o){switch(o.tag){case 0:case 11:case 15:Op(o),o.flags&2048&&jl(9,o,o.return);break;case 3:Op(o);break;case 12:Op(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,m0(o)):Op(o);break;default:Op(o)}}function m0(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];or=m,uP(m,o)}lP(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:jl(8,c,c.return),m0(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,m0(c));break;default:m0(c)}o=o.sibling}}function uP(o,c){for(;or!==null;){var h=or;switch(h.tag){case 0:case 11:case 15:jl(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:dp(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,or=m;else e:for(h=o;or!==null;){m=or;var w=m.sibling,E=m.return;if(eP(m),m===h){or=null;break e}if(w!==null){w.return=E,or=w;break e}or=E}}}var rX={getCacheForType:function(o){var c=_r(Vn),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h},cacheSignal:function(){return _r(Vn).controller.signal}},iX=typeof WeakMap=="function"?WeakMap:Map,wt=0,Ut=null,rt=null,st=0,kt=0,qi=null,Ll=!1,md=!1,qS=!1,ko=0,Sn=0,Vl=0,Ou=0,KS=0,Ki=0,gd=0,Np=null,Si=null,WS=!1,g0=0,fP=0,y0=1/0,v0=null,Bl=null,er=0,zl=null,yd=null,Co=0,GS=0,YS=null,dP=null,Mp=0,XS=null;function Wi(){return(wt&2)!==0&&st!==0?st&-st:G.T!==null?nT():Aa()}function hP(){if(Ki===0)if((st&536870912)===0||dt){var o=Qs;Qs<<=1,(Qs&3932160)===0&&(Qs=262144),Ki=o}else Ki=536870912;return o=$i.current,o!==null&&(o.flags|=32),Ki}function Ti(o,c,h){(o===Ut&&(kt===2||kt===9)||o.cancelPendingCommit!==null)&&(vd(o,0),Ul(o,st,Ki,!1)),Li(o,h),((wt&2)===0||o!==Ut)&&(o===Ut&&((wt&2)===0&&(Ou|=h),Sn===4&&Ul(o,st,Ki,!1)),La(o))}function pP(o,c,h){if((wt&6)!==0)throw Error(r(327));var m=!h&&(c&127)===0&&(c&o.expiredLanes)===0||Jn(o,c),w=m?oX(o,c):JS(o,c,!0),E=m;do{if(w===0){md&&!m&&Ul(o,c,0,!1);break}else{if(h=o.current.alternate,E&&!sX(h)){w=JS(o,c,!1),E=!1;continue}if(w===2){if(E=c,o.errorRecoveryDisabledLanes&E)var O=0;else O=o.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){c=O;e:{var j=o;w=Np;var H=j.current.memoizedState.isDehydrated;if(H&&(vd(j,O).flags|=256),O=JS(j,O,!1),O!==2){if(qS&&!H){j.errorRecoveryDisabledLanes|=E,Ou|=E,w=4;break e}E=Si,Si=w,E!==null&&(Si===null?Si=E:Si.push.apply(Si,E))}w=O}if(E=!1,w!==2)continue}}if(w===1){vd(o,0),Ul(o,c,0,!0);break}e:{switch(m=o,E=w,E){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Ul(m,c,Ki,!Ll);break e;case 2:Si=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(w=g0+300-Tt(),10<w)){if(Ul(m,c,Ki,!Ll),Bt(m,0,!0)!==0)break e;Co=c,m.timeoutHandle=qP(mP.bind(null,m,h,Si,v0,WS,c,Ki,Ou,gd,Ll,E,"Throttled",-0,0),w);break e}mP(m,h,Si,v0,WS,c,Ki,Ou,gd,Ll,E,null,-0,0)}}break}while(!0);La(o)}function mP(o,c,h,m,w,E,O,j,H,ee,se,ce,te,re){if(o.timeoutHandle=-1,ce=c.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ta},oP(c,E,ce);var Oe=(E&62914560)===E?g0-Tt():(E&4194048)===E?fP-Tt():0;if(Oe=$X(ce,Oe),Oe!==null){Co=E,o.cancelPendingCommit=Oe(TP.bind(null,o,c,E,h,m,w,O,j,H,se,ce,null,te,re)),Ul(o,E,O,!ee);return}}TP(o,c,E,h,m,w,O,j,H)}function sX(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var w=h[m],E=w.getSnapshot;w=w.value;try{if(!Ui(E(),w))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ul(o,c,h,m){c&=~KS,c&=~Ou,o.suspendedLanes|=c,o.pingedLanes&=~c,m&&(o.warmLanes|=c),m=o.expirationTimes;for(var w=c;0<w;){var E=31-qt(w),O=1<<E;m[E]=-1,w&=~O}h!==0&&Vi(o,h,c)}function b0(){return(wt&6)===0?(Dp(0),!1):!0}function QS(){if(rt!==null){if(kt===0)var o=rt.return;else o=rt,yo=xu=null,hS(o),ld=null,pp=0,o=rt;for(;o!==null;)KI(o.alternate,o),o=o.return;rt=null}}function vd(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,_X(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),Co=0,QS(),Ut=o,rt=h=mo(o.current,null),st=c,kt=0,qi=null,Ll=!1,md=Jn(o,c),qS=!1,gd=Ki=KS=Ou=Vl=Sn=0,Si=Np=null,WS=!1,(c&8)!==0&&(c|=c&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=c;0<m;){var w=31-qt(m),E=1<<w;c|=o[w],m&=~E}return ko=c,zy(),h}function gP(o,c){Je=null,G.H=Sp,c===od||c===Gy?(c=DD(),kt=3):c===tS?(c=DD(),kt=4):kt=c===OS?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,qi=c,rt===null&&(Sn=1,l0(o,xs(c,o.current)))}function yP(){var o=$i.current;return o===null?!0:(st&4194048)===st?Es===null:(st&62914560)===st||(st&536870912)!==0?o===Es:!1}function vP(){var o=G.H;return G.H=Sp,o===null?Sp:o}function bP(){var o=G.A;return G.A=rX,o}function x0(){Sn=4,Ll||(st&4194048)!==st&&$i.current!==null||(md=!0),(Vl&134217727)===0&&(Ou&134217727)===0||Ut===null||Ul(Ut,st,Ki,!1)}function JS(o,c,h){var m=wt;wt|=2;var w=vP(),E=bP();(Ut!==o||st!==c)&&(v0=null,vd(o,c)),c=!1;var O=Sn;e:do try{if(kt!==0&&rt!==null){var j=rt,H=qi;switch(kt){case 8:QS(),O=6;break e;case 3:case 2:case 9:case 6:$i.current===null&&(c=!0);var ee=kt;if(kt=0,qi=null,bd(o,j,H,ee),h&&md){O=0;break e}break;default:ee=kt,kt=0,qi=null,bd(o,j,H,ee)}}aX(),O=Sn;break}catch(se){gP(o,se)}while(!0);return c&&o.shellSuspendCounter++,yo=xu=null,wt=m,G.H=w,G.A=E,rt===null&&(Ut=null,st=0,zy()),O}function aX(){for(;rt!==null;)xP(rt)}function oX(o,c){var h=wt;wt|=2;var m=vP(),w=bP();Ut!==o||st!==c?(v0=null,y0=Tt()+500,vd(o,c)):md=Jn(o,c);e:do try{if(kt!==0&&rt!==null){c=rt;var E=qi;t:switch(kt){case 1:kt=0,qi=null,bd(o,c,E,1);break;case 2:case 9:if(ND(E)){kt=0,qi=null,wP(c);break}c=function(){kt!==2&&kt!==9||Ut!==o||(kt=7),La(o)},E.then(c,c);break e;case 3:kt=7;break e;case 4:kt=5;break e;case 7:ND(E)?(kt=0,qi=null,wP(c)):(kt=0,qi=null,bd(o,c,E,7));break;case 5:var O=null;switch(rt.tag){case 26:O=rt.memoizedState;case 5:case 27:var j=rt;if(O?aR(O):j.stateNode.complete){kt=0,qi=null;var H=j.sibling;if(H!==null)rt=H;else{var ee=j.return;ee!==null?(rt=ee,w0(ee)):rt=null}break t}}kt=0,qi=null,bd(o,c,E,5);break;case 6:kt=0,qi=null,bd(o,c,E,6);break;case 8:QS(),Sn=6;break e;default:throw Error(r(462))}}lX();break}catch(se){gP(o,se)}while(!0);return yo=xu=null,G.H=m,G.A=w,wt=h,rt!==null?0:(Ut=null,st=0,zy(),Sn)}function lX(){for(;rt!==null&&!ru();)xP(rt)}function xP(o){var c=HI(o.alternate,o,ko);o.memoizedProps=o.pendingProps,c===null?w0(o):rt=c}function wP(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=VI(h,c,c.pendingProps,c.type,void 0,st);break;case 11:c=VI(h,c,c.pendingProps,c.type.render,c.ref,st);break;case 5:hS(c);default:KI(h,c),c=rt=bD(c,ko),c=HI(h,c,ko)}o.memoizedProps=o.pendingProps,c===null?w0(o):rt=c}function bd(o,c,h,m){yo=xu=null,hS(c),ld=null,pp=0;var w=c.return;try{if(XY(o,w,c,h,st)){Sn=1,l0(o,xs(h,o.current)),rt=null;return}}catch(E){if(w!==null)throw rt=w,E;Sn=1,l0(o,xs(h,o.current)),rt=null;return}c.flags&32768?(dt||m===1?o=!0:md||(st&536870912)!==0?o=!1:(Ll=o=!0,(m===2||m===9||m===3||m===6)&&(m=$i.current,m!==null&&m.tag===13&&(m.flags|=16384))),SP(c,o)):w0(c)}function w0(o){var c=o;do{if((c.flags&32768)!==0){SP(c,Ll);return}o=c.return;var h=ZY(c.alternate,c,ko);if(h!==null){rt=h;return}if(c=c.sibling,c!==null){rt=c;return}rt=c=o}while(c!==null);Sn===0&&(Sn=5)}function SP(o,c){do{var h=eX(o.alternate,o);if(h!==null){h.flags&=32767,rt=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){rt=o;return}rt=o=h}while(o!==null);Sn=6,rt=null}function TP(o,c,h,m,w,E,O,j,H){o.cancelPendingCommit=null;do S0();while(er!==0);if((wt&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(E=c.lanes|c.childLanes,E|=zw,vl(o,h,E,O,j,H),o===Ut&&(rt=Ut=null,st=0),yd=c,zl=o,Co=h,GS=E,YS=w,dP=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,dX(pi,function(){return CP(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,w=K.p,K.p=2,O=wt,wt|=4;try{tX(o,c,h)}finally{wt=O,K.p=w,G.T=m}}er=1,EP(),_P(),AP()}}function EP(){if(er===1){er=0;var o=zl,c=yd,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=G.T,G.T=null;var m=K.p;K.p=2;var w=wt;wt|=4;try{iP(c,o);var E=uT,O=uD(o.containerInfo),j=E.focusedElem,H=E.selectionRange;if(O!==j&&j&&j.ownerDocument&&cD(j.ownerDocument.documentElement,j)){if(H!==null&&Rw(j)){var ee=H.start,se=H.end;if(se===void 0&&(se=ee),"selectionStart"in j)j.selectionStart=ee,j.selectionEnd=Math.min(se,j.value.length);else{var ce=j.ownerDocument||document,te=ce&&ce.defaultView||window;if(te.getSelection){var re=te.getSelection(),Oe=j.textContent.length,Ue=Math.min(H.start,Oe),Rt=H.end===void 0?Ue:Math.min(H.end,Oe);!re.extend&&Ue>Rt&&(O=Rt,Rt=Ue,Ue=O);var Y=lD(j,Ue),W=lD(j,Rt);if(Y&&W&&(re.rangeCount!==1||re.anchorNode!==Y.node||re.anchorOffset!==Y.offset||re.focusNode!==W.node||re.focusOffset!==W.offset)){var Z=ce.createRange();Z.setStart(Y.node,Y.offset),re.removeAllRanges(),Ue>Rt?(re.addRange(Z),re.extend(W.node,W.offset)):(Z.setEnd(W.node,W.offset),re.addRange(Z))}}}}for(ce=[],re=j;re=re.parentNode;)re.nodeType===1&&ce.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ce.length;j++){var oe=ce[j];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}P0=!!cT,uT=cT=null}finally{wt=w,K.p=m,G.T=h}}o.current=c,er=2}}function _P(){if(er===2){er=0;var o=zl,c=yd,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=G.T,G.T=null;var m=K.p;K.p=2;var w=wt;wt|=4;try{ZI(o,c.alternate,c)}finally{wt=w,K.p=m,G.T=h}}er=3}}function AP(){if(er===4||er===3){er=0,ro();var o=zl,c=yd,h=Co,m=dP;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?er=5:(er=0,yd=zl=null,kP(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(Bl=null),Zr(h),c=c.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Qn,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=G.T,w=K.p,K.p=2,G.T=null;try{for(var E=o.onRecoverableError,O=0;O<m.length;O++){var j=m[O];E(j.value,{componentStack:j.stack})}}finally{G.T=c,K.p=w}}(Co&3)!==0&&S0(),La(o),w=o.pendingLanes,(h&261930)!==0&&(w&42)!==0?o===XS?Mp++:(Mp=0,XS=o):Mp=0,Dp(0)}}function kP(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,dp(c)))}function S0(){return EP(),_P(),AP(),CP()}function CP(){if(er!==5)return!1;var o=zl,c=GS;GS=0;var h=Zr(Co),m=G.T,w=K.p;try{K.p=32>h?32:h,G.T=null,h=YS,YS=null;var E=zl,O=Co;if(er=0,yd=zl=null,Co=0,(wt&6)!==0)throw Error(r(331));var j=wt;if(wt|=4,cP(E.current),aP(E,E.current,O,h),wt=j,Dp(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Qn,E)}catch{}return!0}finally{K.p=w,G.T=m,kP(o,c)}}function OP(o,c,h){c=xs(h,c),c=CS(o.stateNode,c,2),o=Il(o,c,2),o!==null&&(Li(o,2),La(o))}function Ct(o,c,h){if(o.tag===3)OP(o,o,h);else for(;c!==null;){if(c.tag===3){OP(c,o,h);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Bl===null||!Bl.has(m))){o=xs(h,o),h=NI(2),m=Il(c,h,2),m!==null&&(MI(h,m,c,o),Li(m,2),La(m));break}}c=c.return}}function ZS(o,c,h){var m=o.pingCache;if(m===null){m=o.pingCache=new iX;var w=new Set;m.set(c,w)}else w=m.get(c),w===void 0&&(w=new Set,m.set(c,w));w.has(h)||(qS=!0,w.add(h),o=cX.bind(null,o,c,h),c.then(o,o))}function cX(o,c,h){var m=o.pingCache;m!==null&&m.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Ut===o&&(st&h)===h&&(Sn===4||Sn===3&&(st&62914560)===st&&300>Tt()-g0?(wt&2)===0&&vd(o,0):KS|=h,gd===st&&(gd=0)),La(o)}function NP(o,c){c===0&&(c=wr()),o=yu(o,c),o!==null&&(Li(o,c),La(o))}function uX(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),NP(o,h)}function fX(o,c){var h=0;switch(o.tag){case 31:case 13:var m=o.stateNode,w=o.memoizedState;w!==null&&(h=w.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(c),NP(o,h)}function dX(o,c){return an(o,c)}var T0=null,xd=null,eT=!1,E0=!1,tT=!1,Fl=0;function La(o){o!==xd&&o.next===null&&(xd===null?T0=xd=o:xd=xd.next=o),E0=!0,eT||(eT=!0,pX())}function Dp(o,c){if(!tT&&E0){tT=!0;do for(var h=!1,m=T0;m!==null;){if(o!==0){var w=m.pendingLanes;if(w===0)var E=0;else{var O=m.suspendedLanes,j=m.pingedLanes;E=(1<<31-qt(42|o)+1)-1,E&=w&~(O&~j),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(h=!0,PP(m,E))}else E=st,E=Bt(m,m===Ut?E:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(E&3)===0||Jn(m,E)||(h=!0,PP(m,E));m=m.next}while(h);tT=!1}}function hX(){MP()}function MP(){E0=eT=!1;var o=0;Fl!==0&&EX()&&(o=Fl);for(var c=Tt(),h=null,m=T0;m!==null;){var w=m.next,E=DP(m,c);E===0?(m.next=null,h===null?T0=w:h.next=w,w===null&&(xd=h)):(h=m,(o!==0||(E&3)!==0)&&(E0=!0)),m=w}er!==0&&er!==5||Dp(o),Fl!==0&&(Fl=0)}function DP(o,c){for(var h=o.suspendedLanes,m=o.pingedLanes,w=o.expirationTimes,E=o.pendingLanes&-62914561;0<E;){var O=31-qt(E),j=1<<O,H=w[O];H===-1?((j&h)===0||(j&m)!==0)&&(w[O]=At(j,c)):H<=c&&(o.expiredLanes|=j),E&=~j}if(c=Ut,h=st,h=Bt(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,h===0||o===c&&(kt===2||kt===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&Xr(m),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||Jn(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(m!==null&&Xr(m),Zr(h)){case 2:case 8:h=io;break;case 32:h=pi;break;case 268435456:h=_a;break;default:h=pi}return m=IP.bind(null,o),h=an(h,m),o.callbackPriority=c,o.callbackNode=h,c}return m!==null&&m!==null&&Xr(m),o.callbackPriority=2,o.callbackNode=null,2}function IP(o,c){if(er!==0&&er!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(S0()&&o.callbackNode!==h)return null;var m=st;return m=Bt(o,o===Ut?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(pP(o,m,c),DP(o,Tt()),o.callbackNode!=null&&o.callbackNode===h?IP.bind(null,o):null)}function PP(o,c){if(S0())return null;pP(o,c,!0)}function pX(){AX(function(){(wt&6)!==0?an(Ln,hX):MP()})}function nT(){if(Fl===0){var o=sd;o===0&&(o=Qr,Qr<<=1,(Qr&261888)===0&&(Qr=256)),Fl=o}return Fl}function RP(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Hf(""+o)}function jP(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function mX(o,c,h,m,w){if(c==="submit"&&h&&h.stateNode===w){var E=RP((w[vn]||null).action),O=m.submitter;O&&(c=(c=O[vn]||null)?RP(c.formAction):O.getAttribute("formAction"),c!==null&&(E=c,O=null));var j=new Na("action","action",null,m,w);o.push({event:j,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Fl!==0){var H=O?jP(w,O):new FormData(w);SS(h,{pending:!0,data:H,method:w.method,action:E},null,H)}}else typeof E=="function"&&(j.preventDefault(),H=O?jP(w,O):new FormData(w),SS(h,{pending:!0,data:H,method:w.method,action:E},E,H))},currentTarget:w}]})}}for(var rT=0;rT<Bw.length;rT++){var iT=Bw[rT],gX=iT.toLowerCase(),yX=iT[0].toUpperCase()+iT.slice(1);aa(gX,"on"+yX)}aa(hD,"onAnimationEnd"),aa(pD,"onAnimationIteration"),aa(mD,"onAnimationStart"),aa("dblclick","onDoubleClick"),aa("focusin","onFocus"),aa("focusout","onBlur"),aa(IY,"onTransitionRun"),aa(PY,"onTransitionStart"),aa(RY,"onTransitionCancel"),aa(gD,"onTransitionEnd"),ps("onMouseEnter",["mouseout","mouseover"]),ps("onMouseLeave",["mouseout","mouseover"]),ps("onPointerEnter",["pointerout","pointerover"]),ps("onPointerLeave",["pointerout","pointerover"]),hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ip="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ip));function LP(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var m=o[h],w=m.event;m=m.listeners;e:{var E=void 0;if(c)for(var O=m.length-1;0<=O;O--){var j=m[O],H=j.instance,ee=j.currentTarget;if(j=j.listener,H!==E&&w.isPropagationStopped())break e;E=j,w.currentTarget=ee;try{E(w)}catch(se){By(se)}w.currentTarget=null,E=H}else for(O=0;O<m.length;O++){if(j=m[O],H=j.instance,ee=j.currentTarget,j=j.listener,H!==E&&w.isPropagationStopped())break e;E=j,w.currentTarget=ee;try{E(w)}catch(se){By(se)}w.currentTarget=null,E=H}}}}function it(o,c){var h=c[Ke];h===void 0&&(h=c[Ke]=new Set);var m=o+"__bubble";h.has(m)||(VP(c,o,2,!1),h.add(m))}function sT(o,c,h){var m=0;c&&(m|=4),VP(h,o,m,c)}var _0="_reactListening"+Math.random().toString(36).slice(2);function aT(o){if(!o[_0]){o[_0]=!0,iu.forEach(function(h){h!=="selectionchange"&&(vX.has(h)||sT(h,!1,o),sT(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[_0]||(c[_0]=!0,sT("selectionchange",!1,c))}}function VP(o,c,h,m){switch(hR(c)){case 2:var w=KX;break;case 8:w=WX;break;default:w=wT}h=w.bind(null,c,h,o),w=void 0,!cu||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),m?w!==void 0?o.addEventListener(c,h,{capture:!0,passive:w}):o.addEventListener(c,h,!0):w!==void 0?o.addEventListener(c,h,{passive:w}):o.addEventListener(c,h,!1)}function oT(o,c,h,m,w){var E=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var j=m.stateNode.containerInfo;if(j===w)break;if(O===4)for(O=m.return;O!==null;){var H=O.tag;if((H===3||H===4)&&O.stateNode.containerInfo===w)return;O=O.return}for(;j!==null;){if(O=yi(j),O===null)return;if(H=O.tag,H===5||H===6||H===26||H===27){m=E=O;continue e}j=j.parentNode}}m=m.return}Tl(function(){var ee=E,se=gs(h),ce=[];e:{var te=yD.get(o);if(te!==void 0){var re=Na,Oe=o;switch(o){case"keypress":if(fu(h)===0)break e;case"keydown":case"keyup":re=jy;break;case"focusin":Oe="focus",re=hu;break;case"focusout":Oe="blur",re=hu;break;case"beforeblur":case"afterblur":re=hu;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=ky;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=k;break;case hD:case pD:case mD:re=Oy;break;case gD:re=z;break;case"scroll":case"scrollend":re=rp;break;case"wheel":re=ne;break;case"copy":case"cut":case"paste":re=Ny;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=po;break;case"toggle":case"beforetoggle":re=Qe}var Ue=(c&4)!==0,Rt=!Ue&&(o==="scroll"||o==="scrollend"),Y=Ue?te!==null?te+"Capture":null:te;Ue=[];for(var W=ee,Z;W!==null;){var oe=W;if(Z=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Z===null||Y===null||(oe=na(W,Y),oe!=null&&Ue.push(Pp(W,oe,Z))),Rt)break;W=W.return}0<Ue.length&&(te=new re(te,Oe,null,h,se),ce.push({event:te,listeners:Ue}))}}if((c&7)===0){e:{if(te=o==="mouseover"||o==="pointerover",re=o==="mouseout"||o==="pointerout",te&&h!==ep&&(Oe=h.relatedTarget||h.fromElement)&&(yi(Oe)||Oe[gi]))break e;if((re||te)&&(te=se.window===se?se:(te=se.ownerDocument)?te.defaultView||te.parentWindow:window,re?(Oe=h.relatedTarget||h.toElement,re=ee,Oe=Oe?yi(Oe):null,Oe!==null&&(Rt=s(Oe),Ue=Oe.tag,Oe!==Rt||Ue!==5&&Ue!==27&&Ue!==6)&&(Oe=null)):(re=null,Oe=ee),re!==Oe)){if(Ue=ip,oe="onMouseLeave",Y="onMouseEnter",W="mouse",(o==="pointerout"||o==="pointerover")&&(Ue=po,oe="onPointerLeave",Y="onPointerEnter",W="pointer"),Rt=re==null?te:ti(re),Z=Oe==null?te:ti(Oe),te=new Ue(oe,W+"leave",re,h,se),te.target=Rt,te.relatedTarget=Z,oe=null,yi(se)===ee&&(Ue=new Ue(Y,W+"enter",Oe,h,se),Ue.target=Z,Ue.relatedTarget=Rt,oe=Ue),Rt=oe,re&&Oe)t:{for(Ue=bX,Y=re,W=Oe,Z=0,oe=Y;oe;oe=Ue(oe))Z++;oe=0;for(var Pe=W;Pe;Pe=Ue(Pe))oe++;for(;0<Z-oe;)Y=Ue(Y),Z--;for(;0<oe-Z;)W=Ue(W),oe--;for(;Z--;){if(Y===W||W!==null&&Y===W.alternate){Ue=Y;break t}Y=Ue(Y),W=Ue(W)}Ue=null}else Ue=null;re!==null&&BP(ce,te,re,Ue,!1),Oe!==null&&Rt!==null&&BP(ce,Rt,Oe,Ue,!0)}}e:{if(te=ee?ti(ee):window,re=te.nodeName&&te.nodeName.toLowerCase(),re==="select"||re==="input"&&te.type==="file")var pt=nD;else if(eD(te))if(rD)pt=NY;else{pt=CY;var Ne=kY}else re=te.nodeName,!re||re.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&$f(ee.elementType)&&(pt=nD):pt=OY;if(pt&&(pt=pt(o,ee))){tD(ce,pt,h,se);break e}Ne&&Ne(o,te,ee),o==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&ea(te,"number",te.value)}switch(Ne=ee?ti(ee):window,o){case"focusin":(eD(Ne)||Ne.contentEditable==="true")&&(Qf=Ne,jw=ee,cp=null);break;case"focusout":cp=jw=Qf=null;break;case"mousedown":Lw=!0;break;case"contextmenu":case"mouseup":case"dragend":Lw=!1,fD(ce,h,se);break;case"selectionchange":if(DY)break;case"keydown":case"keyup":fD(ce,h,se)}var Ze;if(xt)e:{switch(o){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Xf?pu(o,h)&&(at="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(at="onCompositionStart");at&&(Ia&&h.locale!=="ko"&&(Xf||at!=="onCompositionStart"?at==="onCompositionEnd"&&Xf&&(Ze=np()):(Oa=se,tp="value"in Oa?Oa.value:Oa.textContent,Xf=!0)),Ne=A0(ee,at),0<Ne.length&&(at=new Da(at,o,null,h,se),ce.push({event:at,listeners:Ne}),Ze?at.data=Ze:(Ze=Yf(h),Ze!==null&&(at.data=Ze)))),(Ze=vs?TY(o,h):EY(o,h))&&(at=A0(ee,"onBeforeInput"),0<at.length&&(Ne=new Da("onBeforeInput","beforeinput",null,h,se),ce.push({event:Ne,listeners:at}),Ne.data=Ze)),mX(ce,o,ee,h,se)}LP(ce,c)})}function Pp(o,c,h){return{instance:o,listener:c,currentTarget:h}}function A0(o,c){for(var h=c+"Capture",m=[];o!==null;){var w=o,E=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||E===null||(w=na(o,h),w!=null&&m.unshift(Pp(o,w,E)),w=na(o,c),w!=null&&m.push(Pp(o,w,E))),o.tag===3)return m;o=o.return}return[]}function bX(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function BP(o,c,h,m,w){for(var E=c._reactName,O=[];h!==null&&h!==m;){var j=h,H=j.alternate,ee=j.stateNode;if(j=j.tag,H!==null&&H===m)break;j!==5&&j!==26&&j!==27||ee===null||(H=ee,w?(ee=na(h,E),ee!=null&&O.unshift(Pp(h,ee,H))):w||(ee=na(h,E),ee!=null&&O.push(Pp(h,ee,H)))),h=h.return}O.length!==0&&o.push({event:c,listeners:O})}var xX=/\r\n?/g,wX=/\u0000|\uFFFD/g;function zP(o){return(typeof o=="string"?o:""+o).replace(xX,`
`).replace(wX,"")}function UP(o,c){return c=zP(c),zP(o)===c}function Pt(o,c,h,m,w,E){switch(h){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||vi(o,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&vi(o,""+m);break;case"className":ni(o,"class",m);break;case"tabIndex":ni(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(o,h,m);break;case"style":Zh(o,m,E);break;case"data":if(c!=="object"){ni(o,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(h);break}m=Hf(""+m),o.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(h==="formAction"?(c!=="input"&&Pt(o,c,"name",w.name,w,null),Pt(o,c,"formEncType",w.formEncType,w,null),Pt(o,c,"formMethod",w.formMethod,w,null),Pt(o,c,"formTarget",w.formTarget,w,null)):(Pt(o,c,"encType",w.encType,w,null),Pt(o,c,"method",w.method,w,null),Pt(o,c,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(h);break}m=Hf(""+m),o.setAttribute(h,m);break;case"onClick":m!=null&&(o.onclick=ta);break;case"onScroll":m!=null&&it("scroll",o);break;case"onScrollEnd":m!=null&&it("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}h=Hf(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,""+m):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":m===!0?o.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,m):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(h,m):o.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(h):o.setAttribute(h,m);break;case"popover":it("beforetoggle",o),it("toggle",o),uo(o,"popover",m);break;case"xlinkActuate":xn(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":xn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":xn(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":xn(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":xn(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":xn(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":xn(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":xn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":xn(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":uo(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Ay.get(h)||h,uo(o,h,m))}}function lT(o,c,h,m,w,E){switch(h){case"style":Zh(o,m,E);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof m=="string"?vi(o,m):(typeof m=="number"||typeof m=="bigint")&&vi(o,""+m);break;case"onScroll":m!=null&&it("scroll",o);break;case"onScrollEnd":m!=null&&it("scrollend",o);break;case"onClick":m!=null&&(o.onclick=ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lo.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),c=h.slice(2,w?h.length-7:void 0),E=o[vn]||null,E=E!=null?E[h]:null,typeof E=="function"&&o.removeEventListener(c,E,w),typeof m=="function")){typeof E!="function"&&E!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,m,w);break e}h in o?o[h]=m:m===!0?o.setAttribute(h,""):uo(o,h,m)}}}function kr(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",o),it("load",o);var m=!1,w=!1,E;for(E in h)if(h.hasOwnProperty(E)){var O=h[E];if(O!=null)switch(E){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Pt(o,c,E,O,h,null)}}w&&Pt(o,c,"srcSet",h.srcSet,h,null),m&&Pt(o,c,"src",h.src,h,null);return;case"input":it("invalid",o);var j=E=O=w=null,H=null,ee=null;for(m in h)if(h.hasOwnProperty(m)){var se=h[m];if(se!=null)switch(m){case"name":w=se;break;case"type":O=se;break;case"checked":H=se;break;case"defaultChecked":ee=se;break;case"value":E=se;break;case"defaultValue":j=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,c));break;default:Pt(o,c,m,se,h,null)}}ms(o,E,j,H,ee,O,w,!1);return;case"select":it("invalid",o),m=O=E=null;for(w in h)if(h.hasOwnProperty(w)&&(j=h[w],j!=null))switch(w){case"value":E=j;break;case"defaultValue":O=j;break;case"multiple":m=j;default:Pt(o,c,w,j,h,null)}c=E,h=O,o.multiple=!!m,c!=null?bl(o,!!m,c,!1):h!=null&&bl(o,!!m,h,!0);return;case"textarea":it("invalid",o),E=w=m=null;for(O in h)if(h.hasOwnProperty(O)&&(j=h[O],j!=null))switch(O){case"value":m=j;break;case"defaultValue":w=j;break;case"children":E=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:Pt(o,c,O,j,h,null)}xl(o,m,w,E);return;case"option":for(H in h)if(h.hasOwnProperty(H)&&(m=h[H],m!=null))switch(H){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Pt(o,c,H,m,h,null)}return;case"dialog":it("beforetoggle",o),it("toggle",o),it("cancel",o),it("close",o);break;case"iframe":case"object":it("load",o);break;case"video":case"audio":for(m=0;m<Ip.length;m++)it(Ip[m],o);break;case"image":it("error",o),it("load",o);break;case"details":it("toggle",o);break;case"embed":case"source":case"link":it("error",o),it("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in h)if(h.hasOwnProperty(ee)&&(m=h[ee],m!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Pt(o,c,ee,m,h,null)}return;default:if($f(c)){for(se in h)h.hasOwnProperty(se)&&(m=h[se],m!==void 0&&lT(o,c,se,m,h,void 0));return}}for(j in h)h.hasOwnProperty(j)&&(m=h[j],m!=null&&Pt(o,c,j,m,h,null))}function SX(o,c,h,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,E=null,O=null,j=null,H=null,ee=null,se=null;for(re in h){var ce=h[re];if(h.hasOwnProperty(re)&&ce!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":H=ce;default:m.hasOwnProperty(re)||Pt(o,c,re,null,m,ce)}}for(var te in m){var re=m[te];if(ce=h[te],m.hasOwnProperty(te)&&(re!=null||ce!=null))switch(te){case"type":E=re;break;case"name":w=re;break;case"checked":ee=re;break;case"defaultChecked":se=re;break;case"value":O=re;break;case"defaultValue":j=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,c));break;default:re!==ce&&Pt(o,c,te,re,m,ce)}}ka(o,O,j,H,ee,se,E,w);return;case"select":re=O=j=te=null;for(E in h)if(H=h[E],h.hasOwnProperty(E)&&H!=null)switch(E){case"value":break;case"multiple":re=H;default:m.hasOwnProperty(E)||Pt(o,c,E,null,m,H)}for(w in m)if(E=m[w],H=h[w],m.hasOwnProperty(w)&&(E!=null||H!=null))switch(w){case"value":te=E;break;case"defaultValue":j=E;break;case"multiple":O=E;default:E!==H&&Pt(o,c,w,E,m,H)}c=j,h=O,m=re,te!=null?bl(o,!!h,te,!1):!!m!=!!h&&(c!=null?bl(o,!!h,c,!0):bl(o,!!h,h?[]:"",!1));return;case"textarea":re=te=null;for(j in h)if(w=h[j],h.hasOwnProperty(j)&&w!=null&&!m.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Pt(o,c,j,null,m,w)}for(O in m)if(w=m[O],E=h[O],m.hasOwnProperty(O)&&(w!=null||E!=null))switch(O){case"value":te=w;break;case"defaultValue":re=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==E&&Pt(o,c,O,w,m,E)}Ey(o,te,re);return;case"option":for(var Oe in h)if(te=h[Oe],h.hasOwnProperty(Oe)&&te!=null&&!m.hasOwnProperty(Oe))switch(Oe){case"selected":o.selected=!1;break;default:Pt(o,c,Oe,null,m,te)}for(H in m)if(te=m[H],re=h[H],m.hasOwnProperty(H)&&te!==re&&(te!=null||re!=null))switch(H){case"selected":o.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Pt(o,c,H,te,m,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in h)te=h[Ue],h.hasOwnProperty(Ue)&&te!=null&&!m.hasOwnProperty(Ue)&&Pt(o,c,Ue,null,m,te);for(ee in m)if(te=m[ee],re=h[ee],m.hasOwnProperty(ee)&&te!==re&&(te!=null||re!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,c));break;default:Pt(o,c,ee,te,m,re)}return;default:if($f(c)){for(var Rt in h)te=h[Rt],h.hasOwnProperty(Rt)&&te!==void 0&&!m.hasOwnProperty(Rt)&&lT(o,c,Rt,void 0,m,te);for(se in m)te=m[se],re=h[se],!m.hasOwnProperty(se)||te===re||te===void 0&&re===void 0||lT(o,c,se,te,m,re);return}}for(var Y in h)te=h[Y],h.hasOwnProperty(Y)&&te!=null&&!m.hasOwnProperty(Y)&&Pt(o,c,Y,null,m,te);for(ce in m)te=m[ce],re=h[ce],!m.hasOwnProperty(ce)||te===re||te==null&&re==null||Pt(o,c,ce,te,m,re)}function FP(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TX(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,h=performance.getEntriesByType("resource"),m=0;m<h.length;m++){var w=h[m],E=w.transferSize,O=w.initiatorType,j=w.duration;if(E&&j&&FP(O)){for(O=0,j=w.responseEnd,m+=1;m<h.length;m++){var H=h[m],ee=H.startTime;if(ee>j)break;var se=H.transferSize,ce=H.initiatorType;se&&FP(ce)&&(H=H.responseEnd,O+=se*(H<j?1:(j-ee)/(H-ee)))}if(--m,c+=8*(E+O)/(w.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var cT=null,uT=null;function k0(o){return o.nodeType===9?o:o.ownerDocument}function $P(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function HP(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function fT(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var dT=null;function EX(){var o=window.event;return o&&o.type==="popstate"?o===dT?!1:(dT=o,!0):(dT=null,!1)}var qP=typeof setTimeout=="function"?setTimeout:void 0,_X=typeof clearTimeout=="function"?clearTimeout:void 0,KP=typeof Promise=="function"?Promise:void 0,AX=typeof queueMicrotask=="function"?queueMicrotask:typeof KP<"u"?function(o){return KP.resolve(null).then(o).catch(kX)}:qP;function kX(o){setTimeout(function(){throw o})}function $l(o){return o==="head"}function WP(o,c){var h=c,m=0;do{var w=h.nextSibling;if(o.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"||h==="/&"){if(m===0){o.removeChild(w),Ed(c);return}m--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")m++;else if(h==="html")Rp(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,Rp(h);for(var E=h.firstChild;E;){var O=E.nextSibling,j=E.nodeName;E[ln]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&E.rel.toLowerCase()==="stylesheet"||h.removeChild(E),E=O}}else h==="body"&&Rp(o.ownerDocument.body);h=w}while(h);Ed(c)}function GP(o,c){var h=o;o=0;do{var m=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),m&&m.nodeType===8)if(h=m.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=m}while(h)}function hT(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":hT(h),ds(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function CX(o,c,h,m){for(;o.nodeType===1;){var w=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[ln])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(E=o.getAttribute("rel"),E==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(E!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(E=o.getAttribute("src"),(E!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&E&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var E=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===E)return o}else return o;if(o=_s(o.nextSibling),o===null)break}return null}function OX(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=_s(o.nextSibling),o===null))return null;return o}function YP(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=_s(o.nextSibling),o===null))return null;return o}function pT(o){return o.data==="$?"||o.data==="$~"}function mT(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function NX(o,c){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||h.readyState!=="loading")c();else{var m=function(){c(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function _s(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var gT=null;function XP(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(c===0)return _s(o.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}o=o.nextSibling}return null}function QP(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return o;c--}else h!=="/$"&&h!=="/&"||c++}o=o.previousSibling}return null}function JP(o,c,h){switch(c=k0(h),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Rp(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);ds(o)}var As=new Map,ZP=new Set;function C0(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Oo=K.d;K.d={f:MX,r:DX,D:IX,C:PX,L:RX,m:jX,X:VX,S:LX,M:BX};function MX(){var o=Oo.f(),c=b0();return o||c}function DX(o){var c=Zn(o);c!==null&&c.tag===5&&c.type==="form"?gI(c):Oo.r(o)}var wd=typeof document>"u"?null:document;function eR(o,c,h){var m=wd;if(m&&typeof c=="string"&&c){var w=ar(c);w='link[rel="'+o+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),ZP.has(w)||(ZP.add(w),o={rel:o,crossOrigin:h,href:c},m.querySelector(w)===null&&(c=m.createElement("link"),kr(c,"link",o),bn(c),m.head.appendChild(c)))}}function IX(o){Oo.D(o),eR("dns-prefetch",o,null)}function PX(o,c){Oo.C(o,c),eR("preconnect",o,c)}function RX(o,c,h){Oo.L(o,c,h);var m=wd;if(m&&o&&c){var w='link[rel="preload"][as="'+ar(c)+'"]';c==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+ar(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+ar(h.imageSizes)+'"]')):w+='[href="'+ar(o)+'"]';var E=w;switch(c){case"style":E=Sd(o);break;case"script":E=Td(o)}As.has(E)||(o=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),As.set(E,o),m.querySelector(w)!==null||c==="style"&&m.querySelector(jp(E))||c==="script"&&m.querySelector(Lp(E))||(c=m.createElement("link"),kr(c,"link",o),bn(c),m.head.appendChild(c)))}}function jX(o,c){Oo.m(o,c);var h=wd;if(h&&o){var m=c&&typeof c.as=="string"?c.as:"script",w='link[rel="modulepreload"][as="'+ar(m)+'"][href="'+ar(o)+'"]',E=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Td(o)}if(!As.has(E)&&(o=p({rel:"modulepreload",href:o},c),As.set(E,o),h.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Lp(E)))return}m=h.createElement("link"),kr(m,"link",o),bn(m),h.head.appendChild(m)}}}function LX(o,c,h){Oo.S(o,c,h);var m=wd;if(m&&o){var w=Bi(m).hoistableStyles,E=Sd(o);c=c||"default";var O=w.get(E);if(!O){var j={loading:0,preload:null};if(O=m.querySelector(jp(E)))j.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},h),(h=As.get(E))&&yT(o,h);var H=O=m.createElement("link");bn(H),kr(H,"link",o),H._p=new Promise(function(ee,se){H.onload=ee,H.onerror=se}),H.addEventListener("load",function(){j.loading|=1}),H.addEventListener("error",function(){j.loading|=2}),j.loading|=4,O0(O,c,m)}O={type:"stylesheet",instance:O,count:1,state:j},w.set(E,O)}}}function VX(o,c){Oo.X(o,c);var h=wd;if(h&&o){var m=Bi(h).hoistableScripts,w=Td(o),E=m.get(w);E||(E=h.querySelector(Lp(w)),E||(o=p({src:o,async:!0},c),(c=As.get(w))&&vT(o,c),E=h.createElement("script"),bn(E),kr(E,"link",o),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(w,E))}}function BX(o,c){Oo.M(o,c);var h=wd;if(h&&o){var m=Bi(h).hoistableScripts,w=Td(o),E=m.get(w);E||(E=h.querySelector(Lp(w)),E||(o=p({src:o,async:!0,type:"module"},c),(c=As.get(w))&&vT(o,c),E=h.createElement("script"),bn(E),kr(E,"link",o),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(w,E))}}function tR(o,c,h,m){var w=(w=Ie.current)?C0(w):null;if(!w)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Sd(h.href),h=Bi(w).hoistableStyles,m=h.get(c),m||(m={type:"style",instance:null,count:0,state:null},h.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=Sd(h.href);var E=Bi(w).hoistableStyles,O=E.get(o);if(O||(w=w.ownerDocument||w,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(o,O),(E=w.querySelector(jp(o)))&&!E._p&&(O.instance=E,O.state.loading=5),As.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},As.set(o,h),E||zX(w,o,h,O.state))),c&&m===null)throw Error(r(528,""));return O}if(c&&m!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Td(h),h=Bi(w).hoistableScripts,m=h.get(c),m||(m={type:"script",instance:null,count:0,state:null},h.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Sd(o){return'href="'+ar(o)+'"'}function jp(o){return'link[rel="stylesheet"]['+o+"]"}function nR(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function zX(o,c,h,m){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=o.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),kr(c,"link",h),bn(c),o.head.appendChild(c))}function Td(o){return'[src="'+ar(o)+'"]'}function Lp(o){return"script[async]"+o}function rR(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var m=o.querySelector('style[data-href~="'+ar(h.href)+'"]');if(m)return c.instance=m,bn(m),m;var w=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),bn(m),kr(m,"style",w),O0(m,h.precedence,o),c.instance=m;case"stylesheet":w=Sd(h.href);var E=o.querySelector(jp(w));if(E)return c.state.loading|=4,c.instance=E,bn(E),E;m=nR(h),(w=As.get(w))&&yT(m,w),E=(o.ownerDocument||o).createElement("link"),bn(E);var O=E;return O._p=new Promise(function(j,H){O.onload=j,O.onerror=H}),kr(E,"link",m),c.state.loading|=4,O0(E,h.precedence,o),c.instance=E;case"script":return E=Td(h.src),(w=o.querySelector(Lp(E)))?(c.instance=w,bn(w),w):(m=h,(w=As.get(E))&&(m=p({},h),vT(m,w)),o=o.ownerDocument||o,w=o.createElement("script"),bn(w),kr(w,"link",m),o.head.appendChild(w),c.instance=w);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,O0(m,h.precedence,o));return c.instance}function O0(o,c,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,E=w,O=0;O<m.length;O++){var j=m[O];if(j.dataset.precedence===c)E=j;else if(E!==w)break}E?E.parentNode.insertBefore(o,E.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function yT(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function vT(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var N0=null;function iR(o,c,h){if(N0===null){var m=new Map,w=N0=new Map;w.set(h,m)}else w=N0,m=w.get(h),m||(m=new Map,w.set(h,m));if(m.has(o))return m;for(m.set(o,null),h=h.getElementsByTagName(o),w=0;w<h.length;w++){var E=h[w];if(!(E[ln]||E[Qt]||o==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var O=E.getAttribute(c)||"";O=o+O;var j=m.get(O);j?j.push(E):m.set(O,[E])}}return m}function sR(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function UX(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function aR(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function FX(o,c,h,m){if(h.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var w=Sd(m.href),E=c.querySelector(jp(w));if(E){c=E._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=M0.bind(o),c.then(o,o)),h.state.loading|=4,h.instance=E,bn(E);return}E=c.ownerDocument||c,m=nR(m),(w=As.get(w))&&yT(m,w),E=E.createElement("link"),bn(E);var O=E;O._p=new Promise(function(j,H){O.onload=j,O.onerror=H}),kr(E,"link",m),h.instance=E}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=M0.bind(o),c.addEventListener("load",h),c.addEventListener("error",h))}}var bT=0;function $X(o,c){return o.stylesheets&&o.count===0&&I0(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var m=setTimeout(function(){if(o.stylesheets&&I0(o,o.stylesheets),o.unsuspend){var E=o.unsuspend;o.unsuspend=null,E()}},6e4+c);0<o.imgBytes&&bT===0&&(bT=62500*TX());var w=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&I0(o,o.stylesheets),o.unsuspend)){var E=o.unsuspend;o.unsuspend=null,E()}},(o.imgBytes>bT?50:800)+c);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(m),clearTimeout(w)}}:null}function M0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)I0(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var D0=null;function I0(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,D0=new Map,c.forEach(HX,o),D0=null,M0.call(o))}function HX(o,c){if(!(c.state.loading&4)){var h=D0.get(o);if(h)var m=h.get(null);else{h=new Map,D0.set(o,h);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<w.length;E++){var O=w[E];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(h.set(O.dataset.precedence,O),m=O)}m&&h.set(null,m)}w=c.instance,O=w.getAttribute("data-precedence"),E=h.get(O)||m,E===m&&h.set(null,w),h.set(O,w),this.count++,m=M0.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),E?E.parentNode.insertBefore(w,E.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),c.state.loading|=4}}var Vp={$$typeof:D,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function qX(o,c,h,m,w,E,O,j,H){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.hiddenUpdates=Jr(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=E,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function oR(o,c,h,m,w,E,O,j,H,ee,se,ce){return o=new qX(o,c,h,O,H,ee,se,ce,j),c=1,E===!0&&(c|=24),E=Fi(3,null,null,c),o.current=E,E.stateNode=o,c=Jw(),c.refCount++,o.pooledCache=c,c.refCount++,E.memoizedState={element:m,isDehydrated:h,cache:c},nS(E),o}function lR(o){return o?(o=ed,o):ed}function cR(o,c,h,m,w,E){w=lR(w),m.context===null?m.context=w:m.pendingContext=w,m=Dl(c),m.payload={element:h},E=E===void 0?null:E,E!==null&&(m.callback=E),h=Il(o,m,c),h!==null&&(Ti(h,o,c),gp(h,o,c))}function uR(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function xT(o,c){uR(o,c),(o=o.alternate)&&uR(o,c)}function fR(o){if(o.tag===13||o.tag===31){var c=yu(o,67108864);c!==null&&Ti(c,o,67108864),xT(o,67108864)}}function dR(o){if(o.tag===13||o.tag===31){var c=Wi();c=mi(c);var h=yu(o,c);h!==null&&Ti(h,o,c),xT(o,c)}}var P0=!0;function KX(o,c,h,m){var w=G.T;G.T=null;var E=K.p;try{K.p=2,wT(o,c,h,m)}finally{K.p=E,G.T=w}}function WX(o,c,h,m){var w=G.T;G.T=null;var E=K.p;try{K.p=8,wT(o,c,h,m)}finally{K.p=E,G.T=w}}function wT(o,c,h,m){if(P0){var w=ST(m);if(w===null)oT(o,c,m,R0,h),pR(o,m);else if(YX(w,o,c,h,m))m.stopPropagation();else if(pR(o,m),c&4&&-1<GX.indexOf(o)){for(;w!==null;){var E=Zn(w);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var O=Vt(E.pendingLanes);if(O!==0){var j=E;for(j.pendingLanes|=2,j.entangledLanes|=2;O;){var H=1<<31-qt(O);j.entanglements[1]|=H,O&=~H}La(E),(wt&6)===0&&(y0=Tt()+500,Dp(0))}}break;case 31:case 13:j=yu(E,2),j!==null&&Ti(j,E,2),b0(),xT(E,2)}if(E=ST(m),E===null&&oT(o,c,m,R0,h),E===w)break;w=E}w!==null&&m.stopPropagation()}else oT(o,c,m,null,h)}}function ST(o){return o=gs(o),TT(o)}var R0=null;function TT(o){if(R0=null,o=yi(o),o!==null){var c=s(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=a(c),o!==null)return o;o=null}else if(h===31){if(o=l(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return R0=o,null}function hR(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yn()){case Ln:return 2;case io:return 8;case pi:case so:return 32;case _a:return 268435456;default:return 32}default:return 32}}var ET=!1,Hl=null,ql=null,Kl=null,Bp=new Map,zp=new Map,Wl=[],GX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pR(o,c){switch(o){case"focusin":case"focusout":Hl=null;break;case"dragenter":case"dragleave":ql=null;break;case"mouseover":case"mouseout":Kl=null;break;case"pointerover":case"pointerout":Bp.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":zp.delete(c.pointerId)}}function Up(o,c,h,m,w,E){return o===null||o.nativeEvent!==E?(o={blockedOn:c,domEventName:h,eventSystemFlags:m,nativeEvent:E,targetContainers:[w]},c!==null&&(c=Zn(c),c!==null&&fR(c)),o):(o.eventSystemFlags|=m,c=o.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),o)}function YX(o,c,h,m,w){switch(c){case"focusin":return Hl=Up(Hl,o,c,h,m,w),!0;case"dragenter":return ql=Up(ql,o,c,h,m,w),!0;case"mouseover":return Kl=Up(Kl,o,c,h,m,w),!0;case"pointerover":var E=w.pointerId;return Bp.set(E,Up(Bp.get(E)||null,o,c,h,m,w)),!0;case"gotpointercapture":return E=w.pointerId,zp.set(E,Up(zp.get(E)||null,o,c,h,m,w)),!0}return!1}function mR(o){var c=yi(o.target);if(c!==null){var h=s(c);if(h!==null){if(c=h.tag,c===13){if(c=a(h),c!==null){o.blockedOn=c,ei(o.priority,function(){dR(h)});return}}else if(c===31){if(c=l(h),c!==null){o.blockedOn=c,ei(o.priority,function(){dR(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function j0(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=ST(o.nativeEvent);if(h===null){h=o.nativeEvent;var m=new h.constructor(h.type,h);ep=m,h.target.dispatchEvent(m),ep=null}else return c=Zn(h),c!==null&&fR(c),o.blockedOn=h,!1;c.shift()}return!0}function gR(o,c,h){j0(o)&&h.delete(c)}function XX(){ET=!1,Hl!==null&&j0(Hl)&&(Hl=null),ql!==null&&j0(ql)&&(ql=null),Kl!==null&&j0(Kl)&&(Kl=null),Bp.forEach(gR),zp.forEach(gR)}function L0(o,c){o.blockedOn===c&&(o.blockedOn=null,ET||(ET=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,XX)))}var V0=null;function yR(o){V0!==o&&(V0=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){V0===o&&(V0=null);for(var c=0;c<o.length;c+=3){var h=o[c],m=o[c+1],w=o[c+2];if(typeof m!="function"){if(TT(m||h)===null)continue;break}var E=Zn(h);E!==null&&(o.splice(c,3),c-=3,SS(E,{pending:!0,data:w,method:h.method,action:m},m,w))}}))}function Ed(o){function c(H){return L0(H,o)}Hl!==null&&L0(Hl,o),ql!==null&&L0(ql,o),Kl!==null&&L0(Kl,o),Bp.forEach(c),zp.forEach(c);for(var h=0;h<Wl.length;h++){var m=Wl[h];m.blockedOn===o&&(m.blockedOn=null)}for(;0<Wl.length&&(h=Wl[0],h.blockedOn===null);)mR(h),h.blockedOn===null&&Wl.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var w=h[m],E=h[m+1],O=w[vn]||null;if(typeof E=="function")O||yR(h);else if(O){var j=null;if(E&&E.hasAttribute("formAction")){if(w=E,O=E[vn]||null)j=O.formAction;else if(TT(w)!==null)continue}else j=O.action;typeof j=="function"?h[m+1]=j:(h.splice(m,3),m-=3),yR(h)}}}function vR(){function o(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(O){return w=O})},focusReset:"manual",scroll:"manual"})}function c(){w!==null&&(w(),w=null),m||setTimeout(h,20)}function h(){if(!m&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,w=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){m=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),w!==null&&(w(),w=null)}}}function _T(o){this._internalRoot=o}B0.prototype.render=_T.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,m=Wi();cR(h,m,o,c,null,null)},B0.prototype.unmount=_T.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;cR(o.current,2,null,o,null,null),b0(),c[gi]=null}};function B0(o){this._internalRoot=o}B0.prototype.unstable_scheduleHydration=function(o){if(o){var c=Aa();o={blockedOn:null,target:o,priority:c};for(var h=0;h<Wl.length&&c!==0&&c<Wl[h].priority;h++);Wl.splice(h,0,o),h===0&&mR(o)}};var bR=e.version;if(bR!=="19.2.0")throw Error(r(527,bR,"19.2.0"));K.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(c),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var QX={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var z0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!z0.isDisabled&&z0.supportsFiber)try{Qn=z0.inject(QX),on=z0}catch{}}return $p.createRoot=function(o,c){if(!i(o))throw Error(r(299));var h=!1,m="",w=AI,E=kI,O=CI;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError)),c=oR(o,1,!1,null,null,h,m,null,w,E,O,vR),o[gi]=c.current,aT(o),new _T(c)},$p.hydrateRoot=function(o,c,h){if(!i(o))throw Error(r(299));var m=!1,w="",E=AI,O=kI,j=CI,H=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(O=h.onCaughtError),h.onRecoverableError!==void 0&&(j=h.onRecoverableError),h.formState!==void 0&&(H=h.formState)),c=oR(o,1,!0,c,h??null,m,w,H,E,O,j,vR),c.context=lR(null),h=c.current,m=Wi(),m=mi(m),w=Dl(m),w.callback=null,Il(h,w,m),h=m,c.current.lanes=h,Li(c,h),La(c),o[gi]=c.current,aT(o),new B0(c)},$p.version="19.2.0",$p}var OR;function lQ(){if(OR)return CT.exports;OR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),CT.exports=oQ(),CT.exports}var cQ=lQ();const uQ=()=>{};var NR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fQ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},lz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,f=u?t[i+2]:0,d=s>>2,p=(s&3)<<4|l>>4;let g=(l&15)<<2|f>>6,v=f&63;u||(v=64,a||(g=64)),r.push(n[d],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oz(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||f==null||p==null)throw new dQ;const g=s<<2|l>>4;if(r.push(g),f!==64){const v=l<<4&240|f>>2;if(r.push(v),p!==64){const x=f<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hQ=function(t){const e=oz(t);return lz.encodeByteArray(e,!0)},tb=function(t){return hQ(t).replace(/\./g,"")},cz=function(t){try{return lz.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mQ=()=>pQ().__FIREBASE_DEFAULTS__,gQ=()=>{if(typeof process>"u"||typeof NR>"u")return;const t=NR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cz(t[1]);return e&&JSON.parse(e)},Zx=()=>{try{return uQ()||mQ()||gQ()||yQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uz=t=>Zx()?.emulatorHosts?.[t],vQ=t=>{const e=uz(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fz=()=>Zx()?.config,dz=t=>Zx()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hz(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xQ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[tb(JSON.stringify(n)),tb(JSON.stringify(a)),""].join(".")}const ym={};function wQ(){const t={prod:[],emulator:[]};for(const e of Object.keys(ym))ym[e]?t.emulator.push(e):t.prod.push(e);return t}function SQ(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let MR=!1;function pz(t,e){if(typeof window>"u"||typeof document>"u"||!Oh(window.location.host)||ym[t]===e||ym[t]||MR)return;ym[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=wQ().prod.length>0;function a(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{MR=!0,a()},g}function d(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=SQ(r),v=n("text"),x=document.getElementById(v)||document.createElement("span"),S=n("learnmore"),T=document.getElementById(S)||document.createElement("a"),_=n("preprendIcon"),C=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const D=g.element;l(D),d(T,S);const L=f();u(C,_),D.append(C,x,T,L),document.body.appendChild(D)}s?(x.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gr())}function EQ(){const t=Zx()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _Q(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AQ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kQ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CQ(){const t=Gr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OQ(){return!EQ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NQ(){try{return typeof indexedDB=="object"}catch{return!1}}function MQ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DQ="FirebaseError";class sl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DQ,Object.setPrototypeOf(this,sl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mg.prototype.create)}}class Mg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?IQ(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new sl(i,l,r)}}function IQ(t,e){return t.replace(PQ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const PQ=/\{\$([^}]+)}/g;function RQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function df(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(DR(s)&&DR(a)){if(!df(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function DR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function rm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function jQ(t,e){const n=new LQ(t,e);return n.subscribe.bind(n)}class LQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VQ(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=DT),i.error===void 0&&(i.error=DT),i.complete===void 0&&(i.complete=DT);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VQ(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function DT(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t){return t&&t._delegate?t._delegate:t}class hf{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BQ=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bQ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UQ(e))try{this.getOrInitializeService({instanceIdentifier:Iu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Iu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Iu){return this.instances.has(e)}getOptions(e=Iu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zQ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Iu){return this.component?this.component.multipleInstances?e:Iu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function zQ(t){return t===Iu?void 0:t}function UQ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const $Q={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},HQ=ot.INFO,qQ={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},KQ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qQ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class XC{constructor(e){this.name=e,this._logLevel=HQ,this._logHandler=KQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$Q[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const WQ=(t,e)=>e.some(n=>t instanceof n);let IR,PR;function GQ(){return IR||(IR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YQ(){return PR||(PR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mz=new WeakMap,wA=new WeakMap,gz=new WeakMap,IT=new WeakMap,QC=new WeakMap;function XQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(gc(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&mz.set(n,t)}).catch(()=>{}),QC.set(e,t),e}function QQ(t){if(wA.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});wA.set(t,e)}let SA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gz.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JQ(t){SA=t(SA)}function ZQ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(PT(this),e,...n);return gz.set(r,e.sort?e.sort():[e]),gc(r)}:YQ().includes(t)?function(...e){return t.apply(PT(this),e),gc(mz.get(this))}:function(...e){return gc(t.apply(PT(this),e))}}function eJ(t){return typeof t=="function"?ZQ(t):(t instanceof IDBTransaction&&QQ(t),WQ(t,GQ())?new Proxy(t,SA):t)}function gc(t){if(t instanceof IDBRequest)return XQ(t);if(IT.has(t))return IT.get(t);const e=eJ(t);return e!==t&&(IT.set(t,e),QC.set(e,t)),e}const PT=t=>QC.get(t);function tJ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=gc(a);return r&&a.addEventListener("upgradeneeded",u=>{r(gc(a.result),u.oldVersion,u.newVersion,gc(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const nJ=["get","getKey","getAll","getAllKeys","count"],rJ=["put","add","delete","clear"],RT=new Map;function RR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(RT.get(e))return RT.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nJ.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&u.done]))[0]};return RT.set(e,s),s}JQ(t=>({...t,get:(e,n,r)=>RR(e,n)||t.get(e,n,r),has:(e,n)=>!!RR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sJ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sJ(t){return t.getComponent()?.type==="VERSION"}const TA="@firebase/app",jR="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new XC("@firebase/app"),aJ="@firebase/app-compat",oJ="@firebase/analytics-compat",lJ="@firebase/analytics",cJ="@firebase/app-check-compat",uJ="@firebase/app-check",fJ="@firebase/auth",dJ="@firebase/auth-compat",hJ="@firebase/database",pJ="@firebase/data-connect",mJ="@firebase/database-compat",gJ="@firebase/functions",yJ="@firebase/functions-compat",vJ="@firebase/installations",bJ="@firebase/installations-compat",xJ="@firebase/messaging",wJ="@firebase/messaging-compat",SJ="@firebase/performance",TJ="@firebase/performance-compat",EJ="@firebase/remote-config",_J="@firebase/remote-config-compat",AJ="@firebase/storage",kJ="@firebase/storage-compat",CJ="@firebase/firestore",OJ="@firebase/ai",NJ="@firebase/firestore-compat",MJ="firebase",DJ="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="[DEFAULT]",IJ={[TA]:"fire-core",[aJ]:"fire-core-compat",[lJ]:"fire-analytics",[oJ]:"fire-analytics-compat",[uJ]:"fire-app-check",[cJ]:"fire-app-check-compat",[fJ]:"fire-auth",[dJ]:"fire-auth-compat",[hJ]:"fire-rtdb",[pJ]:"fire-data-connect",[mJ]:"fire-rtdb-compat",[gJ]:"fire-fn",[yJ]:"fire-fn-compat",[vJ]:"fire-iid",[bJ]:"fire-iid-compat",[xJ]:"fire-fcm",[wJ]:"fire-fcm-compat",[SJ]:"fire-perf",[TJ]:"fire-perf-compat",[EJ]:"fire-rc",[_J]:"fire-rc-compat",[AJ]:"fire-gcs",[kJ]:"fire-gcs-compat",[CJ]:"fire-fst",[NJ]:"fire-fst-compat",[OJ]:"fire-vertex","fire-js":"fire-js",[MJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=new Map,PJ=new Map,_A=new Map;function LR(t,e){try{t.container.addComponent(e)}catch(n){Go.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sh(t){const e=t.name;if(_A.has(e))return Go.debug(`There were multiple attempts to register component ${e}.`),!1;_A.set(e,t);for(const n of nb.values())LR(n,t);for(const n of PJ.values())LR(n,t);return!0}function JC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yc=new Mg("app","Firebase",RJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=DJ;function yz(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:EA,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw yc.create("bad-app-name",{appName:String(i)});if(n||(n=fz()),!n)throw yc.create("no-options");const s=nb.get(i);if(s){if(df(n,s.options)&&df(r,s.config))return s;throw yc.create("duplicate-app",{appName:i})}const a=new FQ(i);for(const u of _A.values())a.addComponent(u);const l=new jJ(n,r,a);return nb.set(i,l),l}function vz(t=EA){const e=nb.get(t);if(!e&&t===EA&&fz())return yz();if(!e)throw yc.create("no-app",{appName:t});return e}function vc(t,e,n){let r=IJ[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Go.warn(a.join(" "));return}sh(new hf(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LJ="firebase-heartbeat-database",VJ=1,Fm="firebase-heartbeat-store";let jT=null;function bz(){return jT||(jT=tJ(LJ,VJ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fm)}catch(n){console.warn(n)}}}}).catch(t=>{throw yc.create("idb-open",{originalErrorMessage:t.message})})),jT}async function BJ(t){try{const n=(await bz()).transaction(Fm),r=await n.objectStore(Fm).get(xz(t));return await n.done,r}catch(e){if(e instanceof sl)Go.warn(e.message);else{const n=yc.create("idb-get",{originalErrorMessage:e?.message});Go.warn(n.message)}}}async function VR(t,e){try{const r=(await bz()).transaction(Fm,"readwrite");await r.objectStore(Fm).put(e,xz(t)),await r.done}catch(n){if(n instanceof sl)Go.warn(n.message);else{const r=yc.create("idb-set",{originalErrorMessage:n?.message});Go.warn(r.message)}}}function xz(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zJ=1024,UJ=30;class FJ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HJ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=BR();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>UJ){const i=qJ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Go.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=BR(),{heartbeatsToSend:n,unsentEntries:r}=$J(this._heartbeatsCache.heartbeats),i=tb(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Go.warn(e),""}}}function BR(){return new Date().toISOString().substring(0,10)}function $J(t,e=zJ){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),zR(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NQ()?MQ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BJ(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return VR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return VR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function zR(t){return tb(JSON.stringify({version:2,heartbeats:t})).length}function qJ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KJ(t){sh(new hf("platform-logger",e=>new iJ(e),"PRIVATE")),sh(new hf("heartbeat",e=>new FJ(e),"PRIVATE")),vc(TA,jR,t),vc(TA,jR,"esm2020"),vc("fire-js","")}KJ("");var WJ="firebase",GJ="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vc(WJ,GJ,"app");function wz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YJ=wz,Sz=new Mg("auth","Firebase",wz());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=new XC("@firebase/auth");function XJ(t,...e){rb.logLevel<=ot.WARN&&rb.warn(`Auth (${Nh}): ${t}`,...e)}function kv(t,...e){rb.logLevel<=ot.ERROR&&rb.error(`Auth (${Nh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t,...e){throw ZC(t,...e)}function Ha(t,...e){return ZC(t,...e)}function Tz(t,e,n){const r={...YJ(),[e]:n};return new Mg("auth","Firebase",r).create(e,{appName:t.name})}function $o(t){return Tz(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Sz.create(t,...e)}function $e(t,e,...n){if(!t)throw ZC(e,...n)}function Vo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kv(e),new Error(e)}function Yo(t,e){t||Vo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(){return typeof self<"u"&&self.location?.href||""}function QJ(){return UR()==="http:"||UR()==="https:"}function UR(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QJ()||AQ()||"connection"in navigator)?navigator.onLine:!0}function ZJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yo(n>e,"Short delay should be less than long delay!"),this.isMobile=TQ()||kQ()}get(){return JJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t,e){Yo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nZ=new Ig(3e4,6e4);function al(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ol(t,e,n,r,i={}){return _z(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=Dg({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:u,...s};return _Q()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Oh(t.emulatorConfig.host)&&(f.credentials="include"),Ez.fetch()(await Az(t,t.config.apiHost,n,l),f)})}async function _z(t,e,n){t._canInitEmulator=!1;const r={...eZ,...e};try{const i=new iZ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw U0(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,f]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw U0(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw U0(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw U0(t,"user-disabled",a);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Tz(t,d,f);ba(t,d)}}catch(i){if(i instanceof sl)throw i;ba(t,"network-request-failed",{message:String(i)})}}async function Pg(t,e,n,r,i={}){const s=await ol(t,e,n,r,i);return"mfaPendingCredential"in s&&ba(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Az(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?e2(t.config,i):`${t.config.apiScheme}://${i}`;return tZ.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function rZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ha(this.auth,"network-request-failed")),nZ.get())})}}function U0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ha(t,e,r);return i.customData._tokenResponse=n,i}function FR(t){return t!==void 0&&t.enterprise!==void 0}class sZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aZ(t,e){return ol(t,"GET","/v2/recaptchaConfig",al(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oZ(t,e){return ol(t,"POST","/v1/accounts:delete",e)}async function ib(t,e){return ol(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lZ(t,e=!1){const n=Rn(t),r=await n.getIdToken(e),i=t2(r);$e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:vm(LT(i.auth_time)),issuedAtTime:vm(LT(i.iat)),expirationTime:vm(LT(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function LT(t){return Number(t)*1e3}function t2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kv("JWT malformed, contained fewer than 3 sections"),null;try{const i=cz(n);return i?JSON.parse(i):(kv("Failed to decode base64 JWT payload"),null)}catch(i){return kv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function $R(t){const e=t2(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $m(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof sl&&cZ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function cZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vm(this.lastLoginAt),this.creationTime=vm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sb(t){const e=t.auth,n=await t.getIdToken(),r=await $m(t,ib(e,{idToken:n}));$e(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?kz(i.providerUserInfo):[],a=dZ(t.providerData,s),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!a?.length,f=l?u:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new kA(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function fZ(t){const e=Rn(t);await sb(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kz(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hZ(t,e){const n=await _z(t,{},async()=>{const r=Dg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await Az(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&Oh(t.emulatorConfig.host)&&(u.credentials="include"),Ez.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pZ(t,e){return ol(t,"POST","/v2/accounts:revokeToken",al(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$R(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const n=$R(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await hZ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Gd;return r&&($e(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&($e(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&($e(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gd,this.toJSON())}_performRefresh(){return Vo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pa{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new uZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new kA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await $m(this,this.stsTokenManager.getToken(this.auth,e));return $e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lZ(this,e)}reload(){return fZ(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sb(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vs(this.auth.app))return Promise.reject($o(this.auth));const e=await this.getIdToken();return await $m(this,oZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,f=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:v,providerData:x,stsTokenManager:S}=n;$e(p&&S,e,"internal-error");const T=Gd.fromJSON(this.name,S);$e(typeof p=="string",e,"internal-error"),Yl(r,e.name),Yl(i,e.name),$e(typeof g=="boolean",e,"internal-error"),$e(typeof v=="boolean",e,"internal-error"),Yl(s,e.name),Yl(a,e.name),Yl(l,e.name),Yl(u,e.name),Yl(f,e.name),Yl(d,e.name);const _=new pa({uid:p,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:v,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:T,createdAt:f,lastLoginAt:d});return x&&Array.isArray(x)&&(_.providerData=x.map(C=>({...C}))),u&&(_._redirectEventId=u),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new Gd;i.updateFromServerResponse(n);const s=new pa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sb(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];$e(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?kz(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,l=new Gd;l.updateFromIdToken(r);const u=new pa({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new kA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=new Map;function Bo(t){Yo(t instanceof Function,"Expected a class definition");let e=HR.get(t);return e?(Yo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Cz.type="NONE";const qR=Cz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t,e,n){return`firebase:${t}:${e}:${n}`}class Yd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Cv(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cv("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ib(this.auth,{idToken:e}).catch(()=>{});return n?pa._fromGetAccountInfoResponse(this.auth,n,e):null}return pa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yd(Bo(qR),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Bo(qR);const a=Cv(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const d=await f._get(a);if(d){let p;if(typeof d=="string"){const g=await ib(e,{idToken:d}).catch(()=>{});if(!g)break;p=await pa._fromGetAccountInfoResponse(e,g,d)}else p=pa._fromJSON(e,d);f!==s&&(l=p),s=f;break}}catch{}const u=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Yd(s,e,r):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new Yd(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Dz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Oz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pz(e))return"Blackberry";if(Rz(e))return"Webos";if(Nz(e))return"Safari";if((e.includes("chrome/")||Mz(e))&&!e.includes("edge/"))return"Chrome";if(Iz(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Oz(t=Gr()){return/firefox\//i.test(t)}function Nz(t=Gr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mz(t=Gr()){return/crios\//i.test(t)}function Dz(t=Gr()){return/iemobile/i.test(t)}function Iz(t=Gr()){return/android/i.test(t)}function Pz(t=Gr()){return/blackberry/i.test(t)}function Rz(t=Gr()){return/webos/i.test(t)}function n2(t=Gr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mZ(t=Gr()){return n2(t)&&!!window.navigator?.standalone}function gZ(){return CQ()&&document.documentMode===10}function jz(t=Gr()){return n2(t)||Iz(t)||Rz(t)||Pz(t)||/windows phone/i.test(t)||Dz(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lz(t,e=[]){let n;switch(t){case"Browser":n=KR(Gr());break;case"Worker":n=`${KR(Gr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vZ(t,e={}){return ol(t,"GET","/v2/passwordPolicy",al(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZ=6;class xZ{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??bZ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WR(this),this.idTokenSubscription=new WR(this),this.beforeStateQueue=new yZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bo(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Yd.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ib(this,{idToken:e}),r=await pa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vs(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,a=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sb(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vs(this.app))return Promise.reject($o(this));const n=e?Rn(e):null;return n&&$e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vs(this.app)?Promise.reject($o(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vs(this.app)?Promise.reject($o(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vZ(this),n=new xZ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mg("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await pZ(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bo(e)||this._popupRedirectResolver;$e(n,this,"argument-error"),this.redirectPersistenceManager=await Yd.create(this,[Bo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Vs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&XJ(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $c(t){return Rn(t)}class WR{constructor(e){this.auth=e,this.observer=null,this.addObserver=jQ(n=>this.observer=n)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SZ(t){e1=t}function Vz(t){return e1.loadJS(t)}function TZ(){return e1.recaptchaEnterpriseScript}function EZ(){return e1.gapiScript}function _Z(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class AZ{constructor(){this.enterprise=new kZ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class kZ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const CZ="recaptcha-enterprise",Bz="NO_RECAPTCHA";class OZ{constructor(e){this.type=CZ,this.auth=$c(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{aZ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new sZ(u);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,a(f.siteKey)}}).catch(u=>{l(u)})})}function i(s,a,l){const u=window.grecaptcha;FR(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(f=>{a(f)}).catch(()=>{a(Bz)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AZ().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&FR(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=TZ();u.length!==0&&(u+=l),Vz(u).then(()=>{i(l,s,a)}).catch(f=>{a(f)})}}).catch(l=>{a(l)})})}}async function GR(t,e,n,r=!1,i=!1){const s=new OZ(t);let a;if(i)a=Bz;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function ab(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await GR(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await GR(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NZ(t,e){const n=JC(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(df(s,e??{}))return i;ba(i,"already-initialized")}return n.initialize({options:e})}function MZ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Bo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function DZ(t,e,n){const r=$c(t);$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=zz(e),{host:a,port:l}=IZ(e),u=l===null?"":`:${l}`,f={url:`${s}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){$e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$e(df(f,r.config.emulator)&&df(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Oh(a)?(hz(`${s}//${a}${u}`),pz("Auth",!0)):PZ()}function zz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function IZ(t){const e=zz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:YR(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:YR(a)}}}function YR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PZ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vo("not implemented")}_getIdTokenResponse(e){return Vo("not implemented")}_linkToIdToken(e,n){return Vo("not implemented")}_getReauthenticationResolver(e){return Vo("not implemented")}}async function RZ(t,e){return ol(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jZ(t,e){return Pg(t,"POST","/v1/accounts:signInWithPassword",al(t,e))}async function LZ(t,e){return ol(t,"POST","/v1/accounts:sendOobCode",al(t,e))}async function VZ(t,e){return LZ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BZ(t,e){return Pg(t,"POST","/v1/accounts:signInWithEmailLink",al(t,e))}async function zZ(t,e){return Pg(t,"POST","/v1/accounts:signInWithEmailLink",al(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm extends r2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Hm(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Hm(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ab(e,n,"signInWithPassword",jZ);case"emailLink":return BZ(e,{email:this._email,oobCode:this._password});default:ba(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ab(e,r,"signUpPassword",RZ);case"emailLink":return zZ(e,{idToken:n,email:this._email,oobCode:this._password});default:ba(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xd(t,e){return Pg(t,"POST","/v1/accounts:signInWithIdp",al(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UZ="http://localhost";class pf extends r2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ba("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new pf(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Xd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xd(e,n)}buildRequest(){const e={requestUri:UZ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Dg(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FZ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $Z(t){const e=nm(rm(t)).link,n=e?nm(rm(e)).deep_link_id:null,r=nm(rm(t)).deep_link_id;return(r?nm(rm(r)).link:null)||r||n||e||t}class i2{constructor(e){const n=nm(rm(e)),r=n.apiKey??null,i=n.oobCode??null,s=FZ(n.mode??null);$e(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=$Z(e);try{return new i2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this.providerId=Mh.PROVIDER_ID}static credential(e,n){return Hm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=i2.parseLink(n);return $e(r,"argument-error"),Hm._fromEmailAndCode(e,r.code,r.tenantId)}}Mh.PROVIDER_ID="password";Mh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg extends Uz{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends Rg{constructor(){super("facebook.com")}static credential(e){return pf._fromParams({providerId:ic.PROVIDER_ID,signInMethod:ic.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ic.credentialFromTaggedObject(e)}static credentialFromError(e){return ic.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ic.credential(e.oauthAccessToken)}catch{return null}}}ic.FACEBOOK_SIGN_IN_METHOD="facebook.com";ic.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends Rg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pf._fromParams({providerId:sc.PROVIDER_ID,signInMethod:sc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sc.credentialFromTaggedObject(e)}static credentialFromError(e){return sc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return sc.credential(n,r)}catch{return null}}}sc.GOOGLE_SIGN_IN_METHOD="google.com";sc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends Rg{constructor(){super("github.com")}static credential(e){return pf._fromParams({providerId:ac.PROVIDER_ID,signInMethod:ac.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ac.credentialFromTaggedObject(e)}static credentialFromError(e){return ac.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ac.credential(e.oauthAccessToken)}catch{return null}}}ac.GITHUB_SIGN_IN_METHOD="github.com";ac.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends Rg{constructor(){super("twitter.com")}static credential(e,n){return pf._fromParams({providerId:oc.PROVIDER_ID,signInMethod:oc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oc.credentialFromTaggedObject(e)}static credentialFromError(e){return oc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oc.credential(n,r)}catch{return null}}}oc.TWITTER_SIGN_IN_METHOD="twitter.com";oc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HZ(t,e){return Pg(t,"POST","/v1/accounts:signUp",al(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await pa._fromIdTokenResponse(e,r,i),a=XR(r);return new mf({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=XR(r);return new mf({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function XR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob extends sl{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ob.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ob(e,n,r,i)}}function Fz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ob._fromErrorAndOperation(t,s,e,r):s})}async function qZ(t,e,n=!1){const r=await $m(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return mf._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KZ(t,e,n=!1){const{auth:r}=t;if(Vs(r.app))return Promise.reject($o(r));const i="reauthenticate";try{const s=await $m(t,Fz(r,i,e,t),n);$e(s.idToken,r,"internal-error");const a=t2(s.idToken);$e(a,r,"internal-error");const{sub:l}=a;return $e(t.uid===l,r,"user-mismatch"),mf._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ba(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $z(t,e,n=!1){if(Vs(t.app))return Promise.reject($o(t));const r="signIn",i=await Fz(t,r,e),s=await mf._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function WZ(t,e){return $z($c(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hz(t){const e=$c(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GZ(t,e,n){const r=$c(t);await ab(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",VZ)}async function YZ(t,e,n){if(Vs(t.app))return Promise.reject($o(t));const r=$c(t),a=await ab(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HZ).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Hz(t),u}),l=await mf._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function XZ(t,e,n){return Vs(t.app)?Promise.reject($o(t)):WZ(Rn(t),Mh.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Hz(t),r})}function QZ(t,e,n,r){return Rn(t).onIdTokenChanged(e,n,r)}function JZ(t,e,n){return Rn(t).beforeAuthStateChanged(e,n)}function ZZ(t,e,n,r){return Rn(t).onAuthStateChanged(e,n,r)}function eee(t){return Rn(t).signOut()}const lb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lb,"1"),this.storage.removeItem(lb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tee=1e3,nee=10;class Kz extends qz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);gZ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,nee):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},tee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kz.type="LOCAL";const ree=Kz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz extends qz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Wz.type="SESSION";const Gz=Wz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new t1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async f=>f(n.origin,s)),u=await iee(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class see{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const f=s2("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(){return window}function aee(t){qa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(){return typeof qa().WorkerGlobalScope<"u"&&typeof qa().importScripts=="function"}async function oee(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lee(){return navigator?.serviceWorker?.controller||null}function cee(){return Yz()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz="firebaseLocalStorageDb",uee=1,cb="firebaseLocalStorage",Qz="fbase_key";class jg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function n1(t,e){return t.transaction([cb],e?"readwrite":"readonly").objectStore(cb)}function fee(){const t=indexedDB.deleteDatabase(Xz);return new jg(t).toPromise()}function CA(){const t=indexedDB.open(Xz,uee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cb,{keyPath:Qz})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cb)?e(r):(r.close(),await fee(),e(await CA()))})})}async function QR(t,e,n){const r=n1(t,!0).put({[Qz]:e,value:n});return new jg(r).toPromise()}async function dee(t,e){const n=n1(t,!1).get(e),r=await new jg(n).toPromise();return r===void 0?null:r.value}function JR(t,e){const n=n1(t,!0).delete(e);return new jg(n).toPromise()}const hee=800,pee=3;class Jz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await CA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>pee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=t1._getInstance(cee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oee(),!this.activeServiceWorker)return;this.sender=new see(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await CA();return await QR(e,lb,"1"),await JR(e,lb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>QR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>dee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>JR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=n1(i,!1).getAll();return new jg(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Jz.type="LOCAL";const mee=Jz;new Ig(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gee(t,e){return e?Bo(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2 extends r2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yee(t){return $z(t.auth,new a2(t),t.bypassAuthState)}function vee(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),KZ(n,new a2(t),t.bypassAuthState)}async function bee(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),qZ(n,new a2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yee;case"linkViaPopup":case"linkViaRedirect":return bee;case"reauthViaPopup":case"reauthViaRedirect":return vee;default:ba(this.auth,"internal-error")}}resolve(e){Yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xee=new Ig(2e3,1e4);class Ld extends Zz{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ld.currentPopupAction&&Ld.currentPopupAction.cancel(),Ld.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){Yo(this.filter.length===1,"Popup operations only handle one event");const e=s2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ha(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ha(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ld.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ha(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xee.get())};e()}}Ld.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wee="pendingRedirect",Ov=new Map;class See extends Zz{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ov.get(this.auth._key());if(!e){try{const r=await Tee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ov.set(this.auth._key(),e)}return this.bypassAuthState||Ov.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Tee(t,e){const n=Aee(e),r=_ee(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Eee(t,e){Ov.set(t._key(),e)}function _ee(t){return Bo(t._redirectPersistence)}function Aee(t){return Cv(wee,t.config.apiKey,t.name)}async function kee(t,e,n=!1){if(Vs(t.app))return Promise.reject($o(t));const r=$c(t),i=gee(r,e),a=await new See(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cee=600*1e3;class Oee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Nee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!eU(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ha(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Cee&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZR(e))}saveEventToCache(e){this.cachedEventUids.add(ZR(e)),this.lastProcessedEventTime=Date.now()}}function ZR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eU({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Nee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eU(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mee(t,e={}){return ol(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Iee=/^https?/;async function Pee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Mee(t);for(const n of e)try{if(Ree(n))return}catch{}ba(t,"unauthorized-domain")}function Ree(t){const e=AA(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Iee.test(n))return!1;if(Dee.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jee=new Ig(3e4,6e4);function ej(){const t=qa().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Lee(t){return new Promise((e,n)=>{function r(){ej(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ej(),n(Ha(t,"network-request-failed"))},timeout:jee.get()})}if(qa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qa().gapi?.load)r();else{const i=_Z("iframefcb");return qa()[i]=()=>{gapi.load?r():n(Ha(t,"network-request-failed"))},Vz(`${EZ()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Nv=null,e})}let Nv=null;function Vee(t){return Nv=Nv||Lee(t),Nv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bee=new Ig(5e3,15e3),zee="__/auth/iframe",Uee="emulator/auth/iframe",Fee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$ee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hee(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?e2(e,Uee):`https://${t.config.authDomain}/${zee}`,r={apiKey:e.apiKey,appName:t.name,v:Nh},i=$ee.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Dg(r).slice(1)}`}async function qee(t){const e=await Vee(t),n=qa().gapi;return $e(n,t,"internal-error"),e.open({where:document.body,url:Hee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fee,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Ha(t,"network-request-failed"),l=qa().setTimeout(()=>{s(a)},Bee.get());function u(){qa().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Wee=500,Gee=600,Yee="_blank",Xee="http://localhost";class tj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qee(t,e,n,r=Wee,i=Gee){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...Kee,width:r.toString(),height:i.toString(),top:s,left:a},f=Gr().toLowerCase();n&&(l=Mz(f)?Yee:n),Oz(f)&&(e=e||Xee,u.scrollbars="yes");const d=Object.entries(u).reduce((g,[v,x])=>`${g}${v}=${x},`,"");if(mZ(f)&&l!=="_self")return Jee(e||"",l),new tj(null);const p=window.open(e||"",l,d);$e(p,t,"popup-blocked");try{p.focus()}catch{}return new tj(p)}function Jee(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zee="__/auth/handler",ete="emulator/auth/handler",tte=encodeURIComponent("fac");async function nj(t,e,n,r,i,s){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Nh,eventId:i};if(e instanceof Uz){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",RQ(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))a[d]=p}if(e instanceof Rg){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),f=u?`#${tte}=${encodeURIComponent(u)}`:"";return`${nte(t)}?${Dg(l).slice(1)}${f}`}function nte({config:t}){return t.emulator?e2(t,ete):`https://${t.authDomain}/${Zee}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="webStorageSupport";class rte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gz,this._completeRedirectFn=kee,this._overrideRedirectResult=Eee}async _openPopup(e,n,r,i){Yo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await nj(e,n,r,AA(),i);return Qee(e,s,s2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await nj(e,n,r,AA(),i);return aee(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Yo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await qee(e),r=new Oee(e);return n.register("authEvent",i=>($e(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(VT,{type:VT},i=>{const s=i?.[0]?.[VT];s!==void 0&&n(!!s),ba(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Pee(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jz()||Nz()||n2()}}const ite=rte;var rj="@firebase/auth",ij="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ste{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ate(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ote(t){sh(new hf("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;$e(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lz(t)},f=new wZ(r,i,s,u);return MZ(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sh(new hf("auth-internal",e=>{const n=$c(e.getProvider("auth").getImmediate());return(r=>new ste(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vc(rj,ij,ate(t)),vc(rj,ij,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lte=300,cte=dz("authIdTokenMaxAge")||lte;let sj=null;const ute=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cte)return;const i=n?.token;sj!==i&&(sj=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fte(t=vz()){const e=JC(t,"auth");if(e.isInitialized())return e.getImmediate();const n=NZ(t,{popupRedirectResolver:ite,persistence:[mee,ree,Gz]}),r=dz("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=ute(s.toString());JZ(n,a,()=>a(n.currentUser)),QZ(n,l=>a(l))}}const i=uz("auth");return i&&DZ(n,`http://${i}`),n}function dte(){return document.getElementsByTagName("head")?.[0]??document}SZ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ha("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",dte().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ote("Browser");var aj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bc,tU;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,M){function P(){}P.prototype=M.prototype,N.F=M.prototype,N.prototype=new P,N.prototype.constructor=N,N.D=function(F,V,$){for(var U=Array(arguments.length-2),me=2;me<arguments.length;me++)U[me-2]=arguments[me];return M.prototype[V].apply(F,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,M,P){P||(P=0);const F=Array(16);if(typeof M=="string")for(var V=0;V<16;++V)F[V]=M.charCodeAt(P++)|M.charCodeAt(P++)<<8|M.charCodeAt(P++)<<16|M.charCodeAt(P++)<<24;else for(V=0;V<16;++V)F[V]=M[P++]|M[P++]<<8|M[P++]<<16|M[P++]<<24;M=N.g[0],P=N.g[1],V=N.g[2];let $=N.g[3],U;U=M+($^P&(V^$))+F[0]+3614090360&4294967295,M=P+(U<<7&4294967295|U>>>25),U=$+(V^M&(P^V))+F[1]+3905402710&4294967295,$=M+(U<<12&4294967295|U>>>20),U=V+(P^$&(M^P))+F[2]+606105819&4294967295,V=$+(U<<17&4294967295|U>>>15),U=P+(M^V&($^M))+F[3]+3250441966&4294967295,P=V+(U<<22&4294967295|U>>>10),U=M+($^P&(V^$))+F[4]+4118548399&4294967295,M=P+(U<<7&4294967295|U>>>25),U=$+(V^M&(P^V))+F[5]+1200080426&4294967295,$=M+(U<<12&4294967295|U>>>20),U=V+(P^$&(M^P))+F[6]+2821735955&4294967295,V=$+(U<<17&4294967295|U>>>15),U=P+(M^V&($^M))+F[7]+4249261313&4294967295,P=V+(U<<22&4294967295|U>>>10),U=M+($^P&(V^$))+F[8]+1770035416&4294967295,M=P+(U<<7&4294967295|U>>>25),U=$+(V^M&(P^V))+F[9]+2336552879&4294967295,$=M+(U<<12&4294967295|U>>>20),U=V+(P^$&(M^P))+F[10]+4294925233&4294967295,V=$+(U<<17&4294967295|U>>>15),U=P+(M^V&($^M))+F[11]+2304563134&4294967295,P=V+(U<<22&4294967295|U>>>10),U=M+($^P&(V^$))+F[12]+1804603682&4294967295,M=P+(U<<7&4294967295|U>>>25),U=$+(V^M&(P^V))+F[13]+4254626195&4294967295,$=M+(U<<12&4294967295|U>>>20),U=V+(P^$&(M^P))+F[14]+2792965006&4294967295,V=$+(U<<17&4294967295|U>>>15),U=P+(M^V&($^M))+F[15]+1236535329&4294967295,P=V+(U<<22&4294967295|U>>>10),U=M+(V^$&(P^V))+F[1]+4129170786&4294967295,M=P+(U<<5&4294967295|U>>>27),U=$+(P^V&(M^P))+F[6]+3225465664&4294967295,$=M+(U<<9&4294967295|U>>>23),U=V+(M^P&($^M))+F[11]+643717713&4294967295,V=$+(U<<14&4294967295|U>>>18),U=P+($^M&(V^$))+F[0]+3921069994&4294967295,P=V+(U<<20&4294967295|U>>>12),U=M+(V^$&(P^V))+F[5]+3593408605&4294967295,M=P+(U<<5&4294967295|U>>>27),U=$+(P^V&(M^P))+F[10]+38016083&4294967295,$=M+(U<<9&4294967295|U>>>23),U=V+(M^P&($^M))+F[15]+3634488961&4294967295,V=$+(U<<14&4294967295|U>>>18),U=P+($^M&(V^$))+F[4]+3889429448&4294967295,P=V+(U<<20&4294967295|U>>>12),U=M+(V^$&(P^V))+F[9]+568446438&4294967295,M=P+(U<<5&4294967295|U>>>27),U=$+(P^V&(M^P))+F[14]+3275163606&4294967295,$=M+(U<<9&4294967295|U>>>23),U=V+(M^P&($^M))+F[3]+4107603335&4294967295,V=$+(U<<14&4294967295|U>>>18),U=P+($^M&(V^$))+F[8]+1163531501&4294967295,P=V+(U<<20&4294967295|U>>>12),U=M+(V^$&(P^V))+F[13]+2850285829&4294967295,M=P+(U<<5&4294967295|U>>>27),U=$+(P^V&(M^P))+F[2]+4243563512&4294967295,$=M+(U<<9&4294967295|U>>>23),U=V+(M^P&($^M))+F[7]+1735328473&4294967295,V=$+(U<<14&4294967295|U>>>18),U=P+($^M&(V^$))+F[12]+2368359562&4294967295,P=V+(U<<20&4294967295|U>>>12),U=M+(P^V^$)+F[5]+4294588738&4294967295,M=P+(U<<4&4294967295|U>>>28),U=$+(M^P^V)+F[8]+2272392833&4294967295,$=M+(U<<11&4294967295|U>>>21),U=V+($^M^P)+F[11]+1839030562&4294967295,V=$+(U<<16&4294967295|U>>>16),U=P+(V^$^M)+F[14]+4259657740&4294967295,P=V+(U<<23&4294967295|U>>>9),U=M+(P^V^$)+F[1]+2763975236&4294967295,M=P+(U<<4&4294967295|U>>>28),U=$+(M^P^V)+F[4]+1272893353&4294967295,$=M+(U<<11&4294967295|U>>>21),U=V+($^M^P)+F[7]+4139469664&4294967295,V=$+(U<<16&4294967295|U>>>16),U=P+(V^$^M)+F[10]+3200236656&4294967295,P=V+(U<<23&4294967295|U>>>9),U=M+(P^V^$)+F[13]+681279174&4294967295,M=P+(U<<4&4294967295|U>>>28),U=$+(M^P^V)+F[0]+3936430074&4294967295,$=M+(U<<11&4294967295|U>>>21),U=V+($^M^P)+F[3]+3572445317&4294967295,V=$+(U<<16&4294967295|U>>>16),U=P+(V^$^M)+F[6]+76029189&4294967295,P=V+(U<<23&4294967295|U>>>9),U=M+(P^V^$)+F[9]+3654602809&4294967295,M=P+(U<<4&4294967295|U>>>28),U=$+(M^P^V)+F[12]+3873151461&4294967295,$=M+(U<<11&4294967295|U>>>21),U=V+($^M^P)+F[15]+530742520&4294967295,V=$+(U<<16&4294967295|U>>>16),U=P+(V^$^M)+F[2]+3299628645&4294967295,P=V+(U<<23&4294967295|U>>>9),U=M+(V^(P|~$))+F[0]+4096336452&4294967295,M=P+(U<<6&4294967295|U>>>26),U=$+(P^(M|~V))+F[7]+1126891415&4294967295,$=M+(U<<10&4294967295|U>>>22),U=V+(M^($|~P))+F[14]+2878612391&4294967295,V=$+(U<<15&4294967295|U>>>17),U=P+($^(V|~M))+F[5]+4237533241&4294967295,P=V+(U<<21&4294967295|U>>>11),U=M+(V^(P|~$))+F[12]+1700485571&4294967295,M=P+(U<<6&4294967295|U>>>26),U=$+(P^(M|~V))+F[3]+2399980690&4294967295,$=M+(U<<10&4294967295|U>>>22),U=V+(M^($|~P))+F[10]+4293915773&4294967295,V=$+(U<<15&4294967295|U>>>17),U=P+($^(V|~M))+F[1]+2240044497&4294967295,P=V+(U<<21&4294967295|U>>>11),U=M+(V^(P|~$))+F[8]+1873313359&4294967295,M=P+(U<<6&4294967295|U>>>26),U=$+(P^(M|~V))+F[15]+4264355552&4294967295,$=M+(U<<10&4294967295|U>>>22),U=V+(M^($|~P))+F[6]+2734768916&4294967295,V=$+(U<<15&4294967295|U>>>17),U=P+($^(V|~M))+F[13]+1309151649&4294967295,P=V+(U<<21&4294967295|U>>>11),U=M+(V^(P|~$))+F[4]+4149444226&4294967295,M=P+(U<<6&4294967295|U>>>26),U=$+(P^(M|~V))+F[11]+3174756917&4294967295,$=M+(U<<10&4294967295|U>>>22),U=V+(M^($|~P))+F[2]+718787259&4294967295,V=$+(U<<15&4294967295|U>>>17),U=P+($^(V|~M))+F[9]+3951481745&4294967295,N.g[0]=N.g[0]+M&4294967295,N.g[1]=N.g[1]+(V+(U<<21&4294967295|U>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+$&4294967295}r.prototype.v=function(N,M){M===void 0&&(M=N.length);const P=M-this.blockSize,F=this.C;let V=this.h,$=0;for(;$<M;){if(V==0)for(;$<=P;)i(this,N,$),$+=this.blockSize;if(typeof N=="string"){for(;$<M;)if(F[V++]=N.charCodeAt($++),V==this.blockSize){i(this,F),V=0;break}}else for(;$<M;)if(F[V++]=N[$++],V==this.blockSize){i(this,F),V=0;break}}this.h=V,this.o+=M},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var M=1;M<N.length-8;++M)N[M]=0;M=this.o*8;for(var P=N.length-8;P<N.length;++P)N[P]=M&255,M/=256;for(this.v(N),N=Array(16),M=0,P=0;P<4;++P)for(let F=0;F<32;F+=8)N[M++]=this.g[P]>>>F&255;return N};function s(N,M){var P=l;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=M(N)}function a(N,M){this.h=M;const P=[];let F=!0;for(let V=N.length-1;V>=0;V--){const $=N[V]|0;F&&$==M||(P[V]=$,F=!1)}this.g=P}var l={};function u(N){return-128<=N&&N<128?s(N,function(M){return new a([M|0],M<0?-1:0)}):new a([N|0],N<0?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return p;if(N<0)return T(f(-N));const M=[];let P=1;for(let F=0;N>=P;F++)M[F]=N/P|0,P*=4294967296;return new a(M,0)}function d(N,M){if(N.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(N.charAt(0)=="-")return T(d(N.substring(1),M));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=f(Math.pow(M,8));let F=p;for(let $=0;$<N.length;$+=8){var V=Math.min(8,N.length-$);const U=parseInt(N.substring($,$+V),M);V<8?(V=f(Math.pow(M,V)),F=F.j(V).add(f(U))):(F=F.j(P),F=F.add(f(U)))}return F}var p=u(0),g=u(1),v=u(16777216);t=a.prototype,t.m=function(){if(S(this))return-T(this).m();let N=0,M=1;for(let P=0;P<this.g.length;P++){const F=this.i(P);N+=(F>=0?F:4294967296+F)*M,M*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(x(this))return"0";if(S(this))return"-"+T(this).toString(N);const M=f(Math.pow(N,6));var P=this;let F="";for(;;){const V=L(P,M).g;P=_(P,V.j(M));let $=((P.g.length>0?P.g[0]:P.h)>>>0).toString(N);if(P=V,x(P))return $+F;for(;$.length<6;)$="0"+$;F=$+F}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function x(N){if(N.h!=0)return!1;for(let M=0;M<N.g.length;M++)if(N.g[M]!=0)return!1;return!0}function S(N){return N.h==-1}t.l=function(N){return N=_(this,N),S(N)?-1:x(N)?0:1};function T(N){const M=N.g.length,P=[];for(let F=0;F<M;F++)P[F]=~N.g[F];return new a(P,~N.h).add(g)}t.abs=function(){return S(this)?T(this):this},t.add=function(N){const M=Math.max(this.g.length,N.g.length),P=[];let F=0;for(let V=0;V<=M;V++){let $=F+(this.i(V)&65535)+(N.i(V)&65535),U=($>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);F=U>>>16,$&=65535,U&=65535,P[V]=U<<16|$}return new a(P,P[P.length-1]&-2147483648?-1:0)};function _(N,M){return N.add(T(M))}t.j=function(N){if(x(this)||x(N))return p;if(S(this))return S(N)?T(this).j(T(N)):T(T(this).j(N));if(S(N))return T(this.j(T(N)));if(this.l(v)<0&&N.l(v)<0)return f(this.m()*N.m());const M=this.g.length+N.g.length,P=[];for(var F=0;F<2*M;F++)P[F]=0;for(F=0;F<this.g.length;F++)for(let V=0;V<N.g.length;V++){const $=this.i(F)>>>16,U=this.i(F)&65535,me=N.i(V)>>>16,ve=N.i(V)&65535;P[2*F+2*V]+=U*ve,C(P,2*F+2*V),P[2*F+2*V+1]+=$*ve,C(P,2*F+2*V+1),P[2*F+2*V+1]+=U*me,C(P,2*F+2*V+1),P[2*F+2*V+2]+=$*me,C(P,2*F+2*V+2)}for(N=0;N<M;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=M;N<2*M;N++)P[N]=0;return new a(P,0)};function C(N,M){for(;(N[M]&65535)!=N[M];)N[M+1]+=N[M]>>>16,N[M]&=65535,M++}function D(N,M){this.g=N,this.h=M}function L(N,M){if(x(M))throw Error("division by zero");if(x(N))return new D(p,p);if(S(N))return M=L(T(N),M),new D(T(M.g),T(M.h));if(S(M))return M=L(N,T(M)),new D(T(M.g),M.h);if(N.g.length>30){if(S(N)||S(M))throw Error("slowDivide_ only works with positive integers.");for(var P=g,F=M;F.l(N)<=0;)P=R(P),F=R(F);var V=B(P,1),$=B(F,1);for(F=B(F,2),P=B(P,2);!x(F);){var U=$.add(F);U.l(N)<=0&&(V=V.add(P),$=U),F=B(F,1),P=B(P,1)}return M=_(N,V.j(M)),new D(V,M)}for(V=p;N.l(M)>=0;){for(P=Math.max(1,Math.floor(N.m()/M.m())),F=Math.ceil(Math.log(P)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),$=f(P),U=$.j(M);S(U)||U.l(N)>0;)P-=F,$=f(P),U=$.j(M);x($)&&($=g),V=V.add($),N=_(N,U)}return new D(V,N)}t.B=function(N){return L(this,N).h},t.and=function(N){const M=Math.max(this.g.length,N.g.length),P=[];for(let F=0;F<M;F++)P[F]=this.i(F)&N.i(F);return new a(P,this.h&N.h)},t.or=function(N){const M=Math.max(this.g.length,N.g.length),P=[];for(let F=0;F<M;F++)P[F]=this.i(F)|N.i(F);return new a(P,this.h|N.h)},t.xor=function(N){const M=Math.max(this.g.length,N.g.length),P=[];for(let F=0;F<M;F++)P[F]=this.i(F)^N.i(F);return new a(P,this.h^N.h)};function R(N){const M=N.g.length+1,P=[];for(let F=0;F<M;F++)P[F]=N.i(F)<<1|N.i(F-1)>>>31;return new a(P,N.h)}function B(N,M){const P=M>>5;M%=32;const F=N.g.length-P,V=[];for(let $=0;$<F;$++)V[$]=M>0?N.i($+P)>>>M|N.i($+P+1)<<32-M:N.i($+P);return new a(V,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tU=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=d,bc=a}).apply(typeof aj<"u"?aj:typeof self<"u"?self:typeof window<"u"?window:{});var F0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nU,im,rU,Mv,OA,iU,sU,aU;(function(){var t,e=Object.defineProperty;function n(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof F0=="object"&&F0];for(var k=0;k<b.length;++k){var I=b[k];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(b,k){if(k)e:{var I=r;b=b.split(".");for(var z=0;z<b.length-1;z++){var J=b[z];if(!(J in I))break e;I=I[J]}b=b[b.length-1],z=I[b],k=k(z),k!=z&&k!=null&&e(I,b,{configurable:!0,writable:!0,value:k})}}i("Symbol.dispose",function(b){return b||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(b){return b||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(b){return b||function(k){var I=[],z;for(z in k)Object.prototype.hasOwnProperty.call(k,z)&&I.push([z,k[z]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(b){var k=typeof b;return k=="object"&&b!=null||k=="function"}function u(b,k,I){return b.call.apply(b.bind,arguments)}function f(b,k,I){return f=u,f.apply(null,arguments)}function d(b,k){var I=Array.prototype.slice.call(arguments,1);return function(){var z=I.slice();return z.push.apply(z,arguments),b.apply(this,z)}}function p(b,k){function I(){}I.prototype=k.prototype,b.Z=k.prototype,b.prototype=new I,b.prototype.constructor=b,b.Ob=function(z,J,ne){for(var be=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)be[Qe-2]=arguments[Qe];return k.prototype[J].apply(z,be)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?b=>b&&AsyncContext.Snapshot.wrap(b):b=>b;function v(b){const k=b.length;if(k>0){const I=Array(k);for(let z=0;z<k;z++)I[z]=b[z];return I}return[]}function x(b,k){for(let z=1;z<arguments.length;z++){const J=arguments[z];var I=typeof J;if(I=I!="object"?I:J?Array.isArray(J)?"array":I:"null",I=="array"||I=="object"&&typeof J.length=="number"){I=b.length||0;const ne=J.length||0;b.length=I+ne;for(let be=0;be<ne;be++)b[I+be]=J[be]}else b.push(J)}}class S{constructor(k,I){this.i=k,this.j=I,this.h=0,this.g=null}get(){let k;return this.h>0?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function T(b){a.setTimeout(()=>{throw b},0)}function _(){var b=N;let k=null;return b.g&&(k=b.g,b.g=b.g.next,b.g||(b.h=null),k.next=null),k}class C{constructor(){this.h=this.g=null}add(k,I){const z=D.get();z.set(k,I),this.h?this.h.next=z:this.g=z,this.h=z}}var D=new S(()=>new L,b=>b.reset());class L{constructor(){this.next=this.g=this.h=null}set(k,I){this.h=k,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let R,B=!1,N=new C,M=()=>{const b=Promise.resolve(void 0);R=()=>{b.then(P)}};function P(){for(var b;b=_();){try{b.h.call(b.g)}catch(I){T(I)}var k=D;k.j(b),k.h<100&&(k.h++,b.next=k.g,k.g=b)}B=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(b,k){this.type=b,this.g=this.target=k,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var b=!1,k=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const I=()=>{};a.addEventListener("test",I,k),a.removeEventListener("test",I,k)}catch{}return b})();function U(b){return/^[\s\xa0]*$/.test(b)}function me(b,k){V.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b&&this.init(b,k)}p(me,V),me.prototype.init=function(b,k){const I=this.type=b.type,z=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;this.target=b.target||b.srcElement,this.g=k,k=b.relatedTarget,k||(I=="mouseover"?k=b.fromElement:I=="mouseout"&&(k=b.toElement)),this.relatedTarget=k,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=b.pointerType,this.state=b.state,this.i=b,b.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),G=0;function K(b,k,I,z,J){this.listener=b,this.proxy=null,this.src=k,this.type=I,this.capture=!!z,this.ha=J,this.key=++G,this.da=this.fa=!1}function ae(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function pe(b,k,I){for(const z in b)k.call(I,b[z],z,b)}function xe(b,k){for(const I in b)k.call(void 0,b[I],I,b)}function q(b){const k={};for(const I in b)k[I]=b[I];return k}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(b,k){let I,z;for(let J=1;J<arguments.length;J++){z=arguments[J];for(I in z)b[I]=z[I];for(let ne=0;ne<X.length;ne++)I=X[ne],Object.prototype.hasOwnProperty.call(z,I)&&(b[I]=z[I])}}function we(b){this.src=b,this.g={},this.h=0}we.prototype.add=function(b,k,I,z,J){const ne=b.toString();b=this.g[ne],b||(b=this.g[ne]=[],this.h++);const be=Ie(b,k,z,J);return be>-1?(k=b[be],I||(k.fa=!1)):(k=new K(k,this.src,ne,!!z,J),k.fa=I,b.push(k)),k};function Se(b,k){const I=k.type;if(I in b.g){var z=b.g[I],J=Array.prototype.indexOf.call(z,k,void 0),ne;(ne=J>=0)&&Array.prototype.splice.call(z,J,1),ne&&(ae(k),b.g[I].length==0&&(delete b.g[I],b.h--))}}function Ie(b,k,I,z){for(let J=0;J<b.length;++J){const ne=b[J];if(!ne.da&&ne.listener==k&&ne.capture==!!I&&ne.ha==z)return J}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),ut={};function fe(b,k,I,z,J){if(Array.isArray(k)){for(let ne=0;ne<k.length;ne++)fe(b,k[ne],I,z,J);return null}return I=ji(I),b&&b[ve]?b.J(k,I,l(z)?!!z.capture:!1,J):ze(b,k,I,!1,z,J)}function ze(b,k,I,z,J,ne){if(!k)throw Error("Invalid event type");const be=l(J)?!!J.capture:!!J;let Qe=nt(b);if(Qe||(b[Ve]=Qe=new we(b)),I=Qe.add(k,I,z,be,ne),I.proxy)return I;if(z=Fe(),I.proxy=z,z.src=b,z.listener=I,b.addEventListener)$||(J=be),J===void 0&&(J=!1),b.addEventListener(k.toString(),z,J);else if(b.attachEvent)b.attachEvent(Me(k.toString()),z);else if(b.addListener&&b.removeListener)b.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Fe(){function b(I){return k.call(b.src,b.listener,I)}const k=_t;return b}function de(b,k,I,z,J){if(Array.isArray(k))for(var ne=0;ne<k.length;ne++)de(b,k[ne],I,z,J);else z=l(z)?!!z.capture:!!z,I=ji(I),b&&b[ve]?(b=b.i,ne=String(k).toString(),ne in b.g&&(k=b.g[ne],I=Ie(k,I,z,J),I>-1&&(ae(k[I]),Array.prototype.splice.call(k,I,1),k.length==0&&(delete b.g[ne],b.h--)))):b&&(b=nt(b))&&(k=b.g[k.toString()],b=-1,k&&(b=Ie(k,I,z,J)),(I=b>-1?k[b]:null)&&Lt(I))}function Lt(b){if(typeof b!="number"&&b&&!b.da){var k=b.src;if(k&&k[ve])Se(k.i,b);else{var I=b.type,z=b.proxy;k.removeEventListener?k.removeEventListener(I,z,b.capture):k.detachEvent?k.detachEvent(Me(I),z):k.addListener&&k.removeListener&&k.removeListener(z),(I=nt(k))?(Se(I,b),I.h==0&&(I.src=null,k[Ve]=null)):ae(b)}}}function Me(b){return b in ut?ut[b]:ut[b]="on"+b}function _t(b,k){if(b.da)b=!0;else{k=new me(k,this);const I=b.listener,z=b.ha||b.src;b.fa&&Lt(b),b=I.call(z,k)}return b}function nt(b){return b=b[Ve],b instanceof we?b:null}var sn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ji(b){return typeof b=="function"?b:(b[sn]||(b[sn]=function(k){return b.handleEvent(k)}),b[sn])}function vt(){F.call(this),this.i=new we(this),this.M=this,this.G=null}p(vt,F),vt.prototype[ve]=!0,vt.prototype.removeEventListener=function(b,k,I,z){de(this,b,k,I,z)};function an(b,k){var I,z=b.G;if(z)for(I=[];z;z=z.G)I.push(z);if(b=b.M,z=k.type||k,typeof k=="string")k=new V(k,b);else if(k instanceof V)k.target=k.target||b;else{var J=k;k=new V(z,b),ye(k,J)}J=!0;let ne,be;if(I)for(be=I.length-1;be>=0;be--)ne=k.g=I[be],J=Xr(ne,z,!0,k)&&J;if(ne=k.g=b,J=Xr(ne,z,!0,k)&&J,J=Xr(ne,z,!1,k)&&J,I)for(be=0;be<I.length;be++)ne=k.g=I[be],J=Xr(ne,z,!1,k)&&J}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var b=this.i;for(const k in b.g){const I=b.g[k];for(let z=0;z<I.length;z++)ae(I[z]);delete b.g[k],b.h--}}this.G=null},vt.prototype.J=function(b,k,I,z){return this.i.add(String(b),k,!1,I,z)},vt.prototype.K=function(b,k,I,z){return this.i.add(String(b),k,!0,I,z)};function Xr(b,k,I,z){if(k=b.i.g[String(k)],!k)return!0;k=k.concat();let J=!0;for(let ne=0;ne<k.length;++ne){const be=k[ne];if(be&&!be.da&&be.capture==I){const Qe=be.listener,On=be.ha||be.src;be.fa&&Se(b.i,be),J=Qe.call(On,z)!==!1&&J}}return J&&!z.defaultPrevented}function ru(b,k){if(typeof b!="function")if(b&&typeof b.handleEvent=="function")b=f(b.handleEvent,b);else throw Error("Invalid listener argument");return Number(k)>2147483647?-1:a.setTimeout(b,k||0)}function ro(b){b.g=ru(()=>{b.g=null,b.i&&(b.i=!1,ro(b))},b.l);const k=b.h;b.h=null,b.m.apply(null,k)}class Tt extends F{constructor(k,I){super(),this.m=k,this.l=I,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:ro(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yn(b){F.call(this),this.h=b,this.g={}}p(yn,F);var Ln=[];function io(b){pe(b.g,function(k,I){this.g.hasOwnProperty(I)&&Lt(k)},b),b.g={}}yn.prototype.N=function(){yn.Z.N.call(this),io(this)},yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pi=a.JSON.stringify,so=a.JSON.parse,_a=class{stringify(b){return a.JSON.stringify(b,void 0)}parse(b){return a.JSON.parse(b,void 0)}};function Xs(){}function ao(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function on(){V.call(this,"d")}p(on,V);function xr(){V.call(this,"c")}p(xr,V);var qt={},oo=null;function us(){return oo=oo||new vt}qt.Ia="serverreachability";function yl(b){V.call(this,qt.Ia,b)}p(yl,V);function Qr(b){const k=us();an(k,new yl(k))}qt.STAT_EVENT="statevent";function Qs(b,k){V.call(this,qt.STAT_EVENT,b),this.stat=k}p(Qs,V);function Xt(b){const k=us();an(k,new Qs(k,b))}qt.Ja="timingevent";function Vt(b,k){V.call(this,qt.Ja,b),this.size=k}p(Vt,V);function Bt(b,k){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){b()},k)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function At(b,k,I,z,J,ne){b.info(function(){if(b.g)if(ne){var be="",Qe=ne.split("&");for(let xt=0;xt<Qe.length;xt++){var On=Qe[xt].split("=");if(On.length>1){const cn=On[0];On=On[1];const vs=cn.split("_");be=vs.length>=2&&vs[1]=="type"?be+(cn+"="+On+"&"):be+(cn+"=redacted&")}}}else be=null;else be=ne;return"XMLHTTP REQ ("+z+") [attempt "+J+"]: "+k+`
`+I+`
`+be})}function wr(b,k,I,z,J,ne,be){b.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+J+"]: "+k+`
`+I+`
`+ne+" "+be})}function Jr(b,k,I,z){b.info(function(){return"XMLHTTP TEXT ("+k+"): "+vl(b,I)+(z?" "+z:"")})}function Li(b,k){b.info(function(){return"TIMEOUT: "+k})}Jn.prototype.info=function(){};function vl(b,k){if(!b.g)return k;if(!k)return null;try{const ne=JSON.parse(k);if(ne){for(b=0;b<ne.length;b++)if(Array.isArray(ne[b])){var I=ne[b];if(!(I.length<2)){var z=I[1];if(Array.isArray(z)&&!(z.length<1)){var J=z[0];if(J!="noop"&&J!="stop"&&J!="close")for(let be=1;be<z.length;be++)z[be]=""}}}}return pi(ne)}catch{return k}}var Vi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Js={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fs;function mi(){}p(mi,Xs),mi.prototype.g=function(){return new XMLHttpRequest},fs=new mi;function Zr(b){return encodeURIComponent(String(b))}function Aa(b){var k=1;b=b.split(":");const I=[];for(;k>0&&b.length;)I.push(b.shift()),k--;return b.length&&I.push(b.join(":")),I}function ei(b,k,I,z){this.j=b,this.i=k,this.l=I,this.S=z||1,this.V=new yn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Sr}function Sr(){this.i=null,this.g="",this.h=!1}var Qt={},vn={};function gi(b,k,I){b.M=1,b.A=zi(xn(k)),b.u=I,b.R=!0,Ke(b,null)}function Ke(b,k){b.F=Date.now(),ln(b),b.B=xn(b.A);var I=b.B,z=b.S;Array.isArray(z)||(z=[String(z)]),$f(I.i,"t",z),b.C=0,I=b.j.L,b.h=new Sr,b.g=Py(b.j,I?k:null,!b.u),b.P>0&&(b.O=new Tt(f(b.Y,b,b.g),b.P)),k=b.V,I=b.g,z=b.ba;var J="readystatechange";Array.isArray(J)||(J&&(Ln[0]=J.toString()),J=Ln);for(let ne=0;ne<J.length;ne++){const be=fe(I,J[ne],z||k.handleEvent,!1,k.h||k);if(!be)break;k.g[be.key]=be}k=b.J?q(b.J):{},b.u?(b.v||(b.v="POST"),k["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.B,b.v,b.u,k)):(b.v="GET",b.g.ea(b.B,b.v,null,k)),Qr(),At(b.i,b.v,b.B,b.l,b.S,b.u)}ei.prototype.ba=function(b){b=b.target;const k=this.O;k&&ra(b)==3?k.j():this.Y(b)},ei.prototype.Y=function(b){try{if(b==this.g)e:{const Qe=ra(this.g),On=this.g.ya(),xt=this.g.ca();if(!(Qe<3)&&(Qe!=3||this.g&&(this.h.h||this.g.la()||Tr(this.g)))){this.K||Qe!=4||On==7||(On==8||xt<=0?Qr(3):Qr(2)),yi(this);var k=this.g.ca();this.X=k;var I=Mt(this);if(this.o=k==200,wr(this.i,this.v,this.B,this.l,this.S,Qe,k),this.o){if(this.U&&!this.L){t:{if(this.g){var z,J=this.g;if((z=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(z)){var ne=z;break t}}ne=null}if(b=ne)Jr(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Bi(this,b);else{this.o=!1,this.m=3,Xt(12),ti(this),Zn(this);break e}}if(this.R){b=!0;let cn;for(;!this.K&&this.C<I.length;)if(cn=sr(this,I),cn==vn){Qe==4&&(this.m=4,Xt(14),b=!1),Jr(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==Qt){this.m=4,Xt(15),Jr(this.i,this.l,I,"[Invalid Chunk]"),b=!1;break}else Jr(this.i,this.l,cn,null),Bi(this,cn);if(zt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||I.length!=0||this.h.h||(this.m=1,Xt(16),b=!1),this.o=this.o&&b,!b)Jr(this.i,this.l,I,"[Invalid Chunked Response]"),ti(this),Zn(this);else if(I.length>0&&!this.W){this.W=!0;var be=this.j;be.g==this&&be.aa&&!be.P&&(be.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),sp(be),be.P=!0,Xt(11))}}else Jr(this.i,this.l,I,null),Bi(this,I);Qe==4&&ti(this),this.o&&!this.K&&(Qe==4?Ny(this.j,this):(this.o=!1,ln(this)))}else ho(this.g),k==400&&I.indexOf("Unknown SID")>0?(this.m=3,Xt(12)):(this.m=0,Xt(13)),ti(this),Zn(this)}}}catch{}finally{}};function Mt(b){if(!zt(b))return b.g.la();const k=Tr(b.g);if(k==="")return"";let I="";const z=k.length,J=ra(b.g)==4;if(!b.h.i){if(typeof TextDecoder>"u")return ti(b),Zn(b),"";b.h.i=new a.TextDecoder}for(let ne=0;ne<z;ne++)b.h.h=!0,I+=b.h.i.decode(k[ne],{stream:!(J&&ne==z-1)});return k.length=0,b.h.g+=I,b.C=0,b.h.g}function zt(b){return b.g?b.v=="GET"&&b.M!=2&&b.j.Aa:!1}function sr(b,k){var I=b.C,z=k.indexOf(`
`,I);return z==-1?vn:(I=Number(k.substring(I,z)),isNaN(I)?Qt:(z+=1,z+I>k.length?vn:(k=k.slice(z,z+I),b.C=z+I,k)))}ei.prototype.cancel=function(){this.K=!0,ti(this)};function ln(b){b.T=Date.now()+b.H,ds(b,b.H)}function ds(b,k){if(b.D!=null)throw Error("WatchDog timer not null");b.D=Bt(f(b.aa,b),k)}function yi(b){b.D&&(a.clearTimeout(b.D),b.D=null)}ei.prototype.aa=function(){this.D=null;const b=Date.now();b-this.T>=0?(Li(this.i,this.B),this.M!=2&&(Qr(),Xt(17)),ti(this),this.m=2,Zn(this)):ds(this,this.T-b)};function Zn(b){b.j.I==0||b.K||Ny(b.j,b)}function ti(b){yi(b);var k=b.O;k&&typeof k.dispose=="function"&&k.dispose(),b.O=null,io(b.V),b.g&&(k=b.g,b.g=null,k.abort(),k.dispose())}function Bi(b,k){try{var I=b.j;if(I.I!=0&&(I.g==b||ps(I.h,b))){if(!b.L&&ps(I.h,b)&&I.I==3){try{var z=I.Ba.g.parse(k)}catch{z=null}if(Array.isArray(z)&&z.length==3){var J=z;if(J[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<b.F)Gf(I),_l(I);else break e;hu(I),Xt(18)}}else I.xa=J[1],0<I.xa-I.K&&J[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=Bt(f(I.Va,I),6e3));hs(I.h)<=1&&I.ta&&(I.ta=void 0)}else Da(I,11)}else if((b.L||I.g==b)&&Gf(I),!U(k))for(J=I.Ba.g.parse(k),k=0;k<J.length;k++){let xt=J[k];const cn=xt[0];if(!(cn<=I.K))if(I.K=cn,xt=xt[1],I.I==2)if(xt[0]=="c"){I.M=xt[1],I.ba=xt[2];const vs=xt[3];vs!=null&&(I.ka=vs,I.j.info("VER="+I.ka));const Ia=xt[4];Ia!=null&&(I.za=Ia,I.j.info("SVER="+I.za));const ia=xt[5];ia!=null&&typeof ia=="number"&&ia>0&&(z=1.5*ia,I.O=z,I.j.info("backChannelRequestTimeoutMs_="+z)),z=I;const sa=b.g;if(sa){const pu=sa.g?sa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pu){var ne=z.h;ne.g||pu.indexOf("spdy")==-1&&pu.indexOf("quic")==-1&&pu.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(su(ne,ne.h),ne.h=null))}if(z.G){const Yf=sa.g?sa.g.getResponseHeader("X-HTTP-Session-Id"):null;Yf&&(z.wa=Yf,ft(z.J,z.G,Yf))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-b.F,I.j.info("Handshake RTT: "+I.T+"ms")),z=I;var be=b;if(z.na=Iy(z,z.L?z.ba:null,z.W),be.L){au(z.h,be);var Qe=be,On=z.O;On&&(Qe.H=On),Qe.D&&(yi(Qe),ln(Qe)),z.g=be}else Cy(z);I.i.length>0&&Ma(I)}else xt[0]!="stop"&&xt[0]!="close"||Da(I,7);else I.I==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Da(I,7):rp(I):xt[0]!="noop"&&I.l&&I.l.qa(xt),I.A=0)}}Qr(4)}catch{}}var bn=class{constructor(b,k){this.g=b,this.map=k}};function iu(b){this.l=b||10,a.PerformanceNavigationTiming?(b=a.performance.getEntriesByType("navigation"),b=b.length>0&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lo(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function hs(b){return b.h?1:b.g?b.g.size:0}function ps(b,k){return b.h?b.h==k:b.g?b.g.has(k):!1}function su(b,k){b.g?b.g.add(k):b.h=k}function au(b,k){b.h&&b.h==k?b.h=null:b.g&&b.g.has(k)&&b.g.delete(k)}iu.prototype.cancel=function(){if(this.i=ou(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function ou(b){if(b.h!=null)return b.i.concat(b.h.G);if(b.g!=null&&b.g.size!==0){let k=b.i;for(const I of b.g.values())k=k.concat(I.G);return k}return v(b.i)}var co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uo(b,k){if(b){b=b.split("&");for(let I=0;I<b.length;I++){const z=b[I].indexOf("=");let J,ne=null;z>=0?(J=b[I].substring(0,z),ne=b[I].substring(z+1)):J=b[I],k(J,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function ni(b){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let k;b instanceof ni?(this.l=b.l,Q(this,b.j),this.o=b.o,this.g=b.g,Ee(this,b.u),this.h=b.h,bt(this,Ay(b.i)),this.m=b.m):b&&(k=String(b).match(co))?(this.l=!1,Q(this,k[1]||"",!0),this.o=Kt(k[2]||""),this.g=Kt(k[3]||"",!0),Ee(this,k[4]),this.h=Kt(k[5]||"",!0),bt(this,k[6]||"",!0),this.m=Kt(k[7]||"")):(this.l=!1,this.i=new xl(null,this.l))}ni.prototype.toString=function(){const b=[];var k=this.j;k&&b.push(Zs(k,ka,!0),":");var I=this.g;return(I||k=="file")&&(b.push("//"),(k=this.o)&&b.push(Zs(k,ka,!0),"@"),b.push(Zr(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&b.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&b.push("/"),b.push(Zs(I,I.charAt(0)=="/"?ea:ms,!0))),(I=this.i.toString())&&b.push("?",I),(I=this.m)&&b.push("#",Zs(I,Ey)),b.join("")},ni.prototype.resolve=function(b){const k=xn(this);let I=!!b.j;I?Q(k,b.j):I=!!b.o,I?k.o=b.o:I=!!b.g,I?k.g=b.g:I=b.u!=null;var z=b.h;if(I)Ee(k,b.u);else if(I=!!b.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var J=k.h.lastIndexOf("/");J!=-1&&(z=k.h.slice(0,J+1)+z)}if(J=z,J==".."||J==".")z="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){z=J.lastIndexOf("/",0)==0,J=J.split("/");const ne=[];for(let be=0;be<J.length;){const Qe=J[be++];Qe=="."?z&&be==J.length&&ne.push(""):Qe==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),z&&be==J.length&&ne.push("")):(ne.push(Qe),z=!0)}z=ne.join("/")}else z=J}return I?k.h=z:I=b.i.toString()!=="",I?bt(k,Ay(b.i)):I=!!b.m,I&&(k.m=b.m),k};function xn(b){return new ni(b)}function Q(b,k,I){b.j=I?Kt(k,!0):k,b.j&&(b.j=b.j.replace(/:$/,""))}function Ee(b,k){if(k){if(k=Number(k),isNaN(k)||k<0)throw Error("Bad port number "+k);b.u=k}else b.u=null}function bt(b,k,I){k instanceof xl?(b.i=k,Hf(b.i,b.l)):(I||(k=Zs(k,bl)),b.i=new xl(k,b.l))}function ft(b,k,I){b.i.set(k,I)}function zi(b){return ft(b,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),b}function Kt(b,k){return b?k?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function Zs(b,k,I){return typeof b=="string"?(b=encodeURI(b).replace(k,ar),I&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function ar(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var ka=/[#\/\?@]/g,ms=/[#\?:]/g,ea=/[#\?]/g,bl=/[#\?@]/g,Ey=/#/g;function xl(b,k){this.h=this.g=null,this.i=b||null,this.j=!!k}function vi(b){b.g||(b.g=new Map,b.h=0,b.i&&uo(b.i,function(k,I){b.add(decodeURIComponent(k.replace(/\+/g," ")),I)}))}t=xl.prototype,t.add=function(b,k){vi(this),this.i=null,b=wl(this,b);let I=this.g.get(b);return I||this.g.set(b,I=[]),I.push(k),this.h+=1,this};function _y(b,k){vi(b),k=wl(b,k),b.g.has(k)&&(b.i=null,b.h-=b.g.get(k).length,b.g.delete(k))}function Jh(b,k){return vi(b),k=wl(b,k),b.g.has(k)}t.forEach=function(b,k){vi(this),this.g.forEach(function(I,z){I.forEach(function(J){b.call(k,J,z,this)},this)},this)};function Zh(b,k){vi(b);let I=[];if(typeof k=="string")Jh(b,k)&&(I=I.concat(b.g.get(wl(b,k))));else for(b=Array.from(b.g.values()),k=0;k<b.length;k++)I=I.concat(b[k]);return I}t.set=function(b,k){return vi(this),this.i=null,b=wl(this,b),Jh(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[k]),this.h+=1,this},t.get=function(b,k){return b?(b=Zh(this,b),b.length>0?String(b[0]):k):k};function $f(b,k,I){_y(b,k),I.length>0&&(b.i=null,b.g.set(wl(b,k),v(I)),b.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],k=Array.from(this.g.keys());for(let z=0;z<k.length;z++){var I=k[z];const J=Zr(I);I=Zh(this,I);for(let ne=0;ne<I.length;ne++){let be=J;I[ne]!==""&&(be+="="+Zr(I[ne])),b.push(be)}}return this.i=b.join("&")};function Ay(b){const k=new xl;return k.i=b.i,b.g&&(k.g=new Map(b.g),k.h=b.h),k}function wl(b,k){return k=String(k),b.j&&(k=k.toLowerCase()),k}function Hf(b,k){k&&!b.j&&(vi(b),b.i=null,b.g.forEach(function(I,z){const J=z.toLowerCase();z!=J&&(_y(this,z),$f(this,J,I))},b)),b.j=k}function ta(b,k){const I=new Jn;if(a.Image){const z=new Image;z.onload=d(gs,I,"TestLoadImage: loaded",!0,k,z),z.onerror=d(gs,I,"TestLoadImage: error",!1,k,z),z.onabort=d(gs,I,"TestLoadImage: abort",!1,k,z),z.ontimeout=d(gs,I,"TestLoadImage: timeout",!1,k,z),a.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=b}else k(!1)}function ep(b,k){const I=new Jn,z=new AbortController,J=setTimeout(()=>{z.abort(),gs(I,"TestPingServer: timeout",!1,k)},1e4);fetch(b,{signal:z.signal}).then(ne=>{clearTimeout(J),ne.ok?gs(I,"TestPingServer: ok",!0,k):gs(I,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(J),gs(I,"TestPingServer: error",!1,k)})}function gs(b,k,I,z,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),z(I)}catch{}}function Sl(){this.g=new _a}function Ca(b){this.i=b.Sb||null,this.h=b.ab||!1}p(Ca,Xs),Ca.prototype.g=function(){return new lu(this.i,this.h)};function lu(b,k){vt.call(this),this.H=b,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(lu,vt),t=lu.prototype,t.open=function(b,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=b,this.D=k,this.readyState=1,na(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const k={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};b&&(k.body=b),(this.H||a).fetch(new Request(this.D,k)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Tl(this)),this.readyState=0},t.Pa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,na(this)),this.g&&(this.readyState=3,na(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qf(this)}else b.text().then(this.Oa.bind(this),this.ga.bind(this))};function qf(b){b.j.read().then(b.Ma.bind(b)).catch(b.ga.bind(b))}t.Ma=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var k=b.value?b.value:new Uint8Array(0);(k=this.B.decode(k,{stream:!b.done}))&&(this.response=this.responseText+=k)}b.done?Tl(this):na(this),this.readyState==3&&qf(this)}},t.Oa=function(b){this.g&&(this.response=this.responseText=b,Tl(this))},t.Na=function(b){this.g&&(this.response=b,Tl(this))},t.ga=function(){this.g&&Tl(this)};function Tl(b){b.readyState=4,b.l=null,b.j=null,b.B=null,na(b)}t.setRequestHeader=function(b,k){this.A.append(b,k)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],k=this.h.entries();for(var I=k.next();!I.done;)I=I.value,b.push(I[0]+": "+I[1]),I=k.next();return b.join(`\r
`)};function na(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(lu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function ys(b){let k="";return pe(b,function(I,z){k+=z,k+=":",k+=I,k+=`\r
`}),k}function cu(b,k,I){e:{for(z in I){var z=!1;break e}z=!0}z||(I=ys(I),typeof b=="string"?I!=null&&Zr(I):ft(b,k,I))}function Dt(b){vt.call(this),this.headers=new Map,this.L=b||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Dt,vt);var Oa=/^https?$/i,tp=["POST","PUT"];t=Dt.prototype,t.Fa=function(b){this.H=b},t.ea=function(b,k,I,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);k=k?k.toUpperCase():"GET",this.D=b,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fs.g(),this.g.onreadystatechange=g(f(this.Ca,this));try{this.B=!0,this.g.open(k,String(b),!0),this.B=!1}catch(ne){uu(this,ne);return}if(b=I||"",I=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var J in z)I.set(J,z[J]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ne of z.keys())I.set(ne,z.get(ne));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(I.keys()).find(ne=>ne.toLowerCase()=="content-type"),J=a.FormData&&b instanceof a.FormData,!(Array.prototype.indexOf.call(tp,k,void 0)>=0)||z||J||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,be]of I)this.g.setRequestHeader(ne,be);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(b),this.v=!1}catch(ne){uu(this,ne)}};function uu(b,k){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=k,b.o=5,np(b),fo(b)}function np(b){b.A||(b.A=!0,an(b,"complete"),an(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=b||7,an(this,"complete"),an(this,"abort"),fo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fo(this,!0)),Dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?fu(this):this.Xa())},t.Xa=function(){fu(this)};function fu(b){if(b.h&&typeof s<"u"){if(b.v&&ra(b)==4)setTimeout(b.Ca.bind(b),0);else if(an(b,"readystatechange"),ra(b)==4){b.h=!1;try{const ne=b.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var I;if(!(I=k)){var z;if(z=ne===0){let be=String(b.D).match(co)[1]||null;!be&&a.self&&a.self.location&&(be=a.self.location.protocol.slice(0,-1)),z=!Oa.test(be?be.toLowerCase():"")}I=z}if(I)an(b,"complete"),an(b,"success");else{b.o=6;try{var J=ra(b)>2?b.g.statusText:""}catch{J=""}b.l=J+" ["+b.ca()+"]",np(b)}}finally{fo(b)}}}}function fo(b,k){if(b.g){b.m&&(clearTimeout(b.m),b.m=null);const I=b.g;b.g=null,k||an(b,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ra(b){return b.g?b.g.readyState:0}t.ca=function(){try{return ra(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(b){if(this.g){var k=this.g.responseText;return b&&k.indexOf(b)==0&&(k=k.substring(b.length)),so(k)}};function Tr(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.F){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function ho(b){const k={};b=(b.g&&ra(b)>=2&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<b.length;z++){if(U(b[z]))continue;var I=Aa(b[z]);const J=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ne=k[J]||[];k[J]=ne,ne.push(I)}xe(k,function(z){return z.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Na(b,k,I){return I&&I.internalChannelParams&&I.internalChannelParams[b]||k}function El(b){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Na("failFast",!1,b),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Na("baseRetryDelayMs",5e3,b),this.Za=Na("retryDelaySeedMs",1e4,b),this.Ta=Na("forwardChannelMaxRetries",2,b),this.va=Na("forwardChannelRequestTimeoutMs",2e4,b),this.ma=b&&b.xmlHttpFactory||void 0,this.Ua=b&&b.Rb||void 0,this.Aa=b&&b.useFetchStreams||!1,this.O=void 0,this.L=b&&b.supportsCrossDomainXhr||!1,this.M="",this.h=new iu(b&&b.concurrentRequestLimit),this.Ba=new Sl,this.S=b&&b.fastHandshake||!1,this.R=b&&b.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=b&&b.Pb||!1,b&&b.ua&&this.j.ua(),b&&b.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&b&&b.detectBufferingProxy||!1,this.ia=void 0,b&&b.longPollingTimeout&&b.longPollingTimeout>0&&(this.ia=b.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=El.prototype,t.ka=8,t.I=1,t.connect=function(b,k,I,z){Xt(0),this.W=b,this.H=k||{},I&&z!==void 0&&(this.H.OSID=I,this.H.OAID=z),this.F=this.X,this.J=Iy(this,null,this.W),Ma(this)};function rp(b){if(Kf(b),b.I==3){var k=b.V++,I=xn(b.J);if(ft(I,"SID",b.M),ft(I,"RID",k),ft(I,"TYPE","terminate"),du(b,I),k=new ei(b,b.j,k),k.M=2,k.A=zi(xn(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(k.A.toString(),"")}catch{}!I&&a.Image&&(new Image().src=k.A,I=!0),I||(k.g=Py(k.j,null),k.g.ea(k.A)),k.F=Date.now(),ln(k)}Dy(b)}function _l(b){b.g&&(sp(b),b.g.cancel(),b.g=null)}function Kf(b){_l(b),b.v&&(a.clearTimeout(b.v),b.v=null),Gf(b),b.h.cancel(),b.m&&(typeof b.m=="number"&&a.clearTimeout(b.m),b.m=null)}function Ma(b){if(!lo(b.h)&&!b.m){b.m=!0;var k=b.Ea;R||M(),B||(R(),B=!0),N.add(k,b),b.D=0}}function Wf(b,k){return hs(b.h)>=b.h.j-(b.m?1:0)?!1:b.m?(b.i=k.G.concat(b.i),!0):b.I==1||b.I==2||b.D>=(b.Sa?0:b.Ta)?!1:(b.m=Bt(f(b.Ea,b,k),My(b,b.D)),b.D++,!0)}t.Ea=function(b){if(this.m)if(this.m=null,this.I==1){if(!b){this.V=Math.floor(Math.random()*1e5),b=this.V++;const J=new ei(this,this.j,b);let ne=this.o;if(this.U&&(ne?(ne=q(ne),ye(ne,this.U)):ne=this.U),this.u!==null||this.R||(J.J=ne,ne=null),this.S)e:{for(var k=0,I=0;I<this.i.length;I++){t:{var z=this.i[I];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(k+=z,k>4096){k=I;break e}if(k===4096||I===this.i.length-1){k=I+1;break e}}k=1e3}else k=1e3;k=ky(this,J,k),I=xn(this.J),ft(I,"RID",b),ft(I,"CVER",22),this.G&&ft(I,"X-HTTP-Session-Id",this.G),du(this,I),ne&&(this.R?k="headers="+Zr(ys(ne))+"&"+k:this.u&&cu(I,this.u,ne)),su(this.h,J),this.Ra&&ft(I,"TYPE","init"),this.S?(ft(I,"$req",k),ft(I,"SID","null"),J.U=!0,gi(J,I,null)):gi(J,I,k),this.I=2}}else this.I==3&&(b?ip(this,b):this.i.length==0||lo(this.h)||ip(this))};function ip(b,k){var I;k?I=k.l:I=b.V++;const z=xn(b.J);ft(z,"SID",b.M),ft(z,"RID",I),ft(z,"AID",b.K),du(b,z),b.u&&b.o&&cu(z,b.u,b.o),I=new ei(b,b.j,I,b.D+1),b.u===null&&(I.J=b.o),k&&(b.i=k.G.concat(b.i)),k=ky(b,I,1e3),I.H=Math.round(b.va*.5)+Math.round(b.va*.5*Math.random()),su(b.h,I),gi(I,z,k)}function du(b,k){b.H&&pe(b.H,function(I,z){ft(k,z,I)}),b.l&&pe({},function(I,z){ft(k,z,I)})}function ky(b,k,I){I=Math.min(b.i.length,I);const z=b.l?f(b.l.Ka,b.l,b):null;e:{var J=b.i;let Qe=-1;for(;;){const On=["count="+I];Qe==-1?I>0?(Qe=J[0].g,On.push("ofs="+Qe)):Qe=0:On.push("ofs="+Qe);let xt=!0;for(let cn=0;cn<I;cn++){var ne=J[cn].g;const vs=J[cn].map;if(ne-=Qe,ne<0)Qe=Math.max(0,J[cn].g-100),xt=!1;else try{ne="req"+ne+"_"||"";try{var be=vs instanceof Map?vs:Object.entries(vs);for(const[Ia,ia]of be){let sa=ia;l(ia)&&(sa=pi(ia)),On.push(ne+Ia+"="+encodeURIComponent(sa))}}catch(Ia){throw On.push(ne+"type="+encodeURIComponent("_badmap")),Ia}}catch{z&&z(vs)}}if(xt){be=On.join("&");break e}}be=void 0}return b=b.i.splice(0,I),k.G=b,be}function Cy(b){if(!b.g&&!b.v){b.Y=1;var k=b.Da;R||M(),B||(R(),B=!0),N.add(k,b),b.A=0}}function hu(b){return b.g||b.v||b.A>=3?!1:(b.Y++,b.v=Bt(f(b.Da,b),My(b,b.A)),b.A++,!0)}t.Da=function(){if(this.v=null,Oy(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var b=4*this.T;this.j.info("BP detection timer enabled: "+b),this.B=Bt(f(this.Wa,this),b)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xt(10),_l(this),Oy(this))};function sp(b){b.B!=null&&(a.clearTimeout(b.B),b.B=null)}function Oy(b){b.g=new ei(b,b.j,"rpc",b.Y),b.u===null&&(b.g.J=b.o),b.g.P=0;var k=xn(b.na);ft(k,"RID","rpc"),ft(k,"SID",b.M),ft(k,"AID",b.K),ft(k,"CI",b.F?"0":"1"),!b.F&&b.ia&&ft(k,"TO",b.ia),ft(k,"TYPE","xmlhttp"),du(b,k),b.u&&b.o&&cu(k,b.u,b.o),b.O&&(b.g.H=b.O);var I=b.g;b=b.ba,I.M=1,I.A=zi(xn(k)),I.u=null,I.R=!0,Ke(I,b)}t.Va=function(){this.C!=null&&(this.C=null,_l(this),hu(this),Xt(19))};function Gf(b){b.C!=null&&(a.clearTimeout(b.C),b.C=null)}function Ny(b,k){var I=null;if(b.g==k){Gf(b),sp(b),b.g=null;var z=2}else if(ps(b.h,k))I=k.G,au(b.h,k),z=1;else return;if(b.I!=0){if(k.o)if(z==1){I=k.u?k.u.length:0,k=Date.now()-k.F;var J=b.D;z=us(),an(z,new Vt(z,I)),Ma(b)}else Cy(b);else if(J=k.m,J==3||J==0&&k.X>0||!(z==1&&Wf(b,k)||z==2&&hu(b)))switch(I&&I.length>0&&(k=b.h,k.i=k.i.concat(I)),J){case 1:Da(b,5);break;case 4:Da(b,10);break;case 3:Da(b,6);break;default:Da(b,2)}}}function My(b,k){let I=b.Qa+Math.floor(Math.random()*b.Za);return b.isActive()||(I*=2),I*k}function Da(b,k){if(b.j.info("Error code "+k),k==2){var I=f(b.bb,b),z=b.Ua;const J=!z;z=new ni(z||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Q(z,"https"),zi(z),J?ta(z.toString(),I):ep(z.toString(),I)}else Xt(2);b.I=0,b.l&&b.l.pa(k),Dy(b),Kf(b)}t.bb=function(b){b?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function Dy(b){if(b.I=0,b.ja=[],b.l){const k=ou(b.h);(k.length!=0||b.i.length!=0)&&(x(b.ja,k),x(b.ja,b.i),b.h.i.length=0,v(b.i),b.i.length=0),b.l.oa()}}function Iy(b,k,I){var z=I instanceof ni?xn(I):new ni(I);if(z.g!="")k&&(z.g=k+"."+z.g),Ee(z,z.u);else{var J=a.location;z=J.protocol,k=k?k+"."+J.hostname:J.hostname,J=+J.port;const ne=new ni(null);z&&Q(ne,z),k&&(ne.g=k),J&&Ee(ne,J),I&&(ne.h=I),z=ne}return I=b.G,k=b.wa,I&&k&&ft(z,I,k),ft(z,"VER",b.ka),du(b,z),z}function Py(b,k,I){if(k&&!b.L)throw Error("Can't create secondary domain capable XhrIo object.");return k=b.Aa&&!b.ma?new Dt(new Ca({ab:I})):new Dt(b.ma),k.Fa(b.L),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ry(){}t=Ry.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Al(){}Al.prototype.g=function(b,k){return new ri(b,k)};function ri(b,k){vt.call(this),this.g=new El(k),this.l=b,this.h=k&&k.messageUrlParams||null,b=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(b?b["X-WebChannel-Content-Type"]=k.messageContentType:b={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.sa&&(b?b["X-WebChannel-Client-Profile"]=k.sa:b={"X-WebChannel-Client-Profile":k.sa}),this.g.U=b,(b=k&&k.Qb)&&!U(b)&&(this.g.u=b),this.A=k&&k.supportsCrossDomainXhr||!1,this.v=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!U(k)&&(this.g.G=k,b=this.h,b!==null&&k in b&&(b=this.h,k in b&&delete b[k])),this.j=new po(this)}p(ri,vt),ri.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ri.prototype.close=function(){rp(this.g)},ri.prototype.o=function(b){var k=this.g;if(typeof b=="string"){var I={};I.__data__=b,b=I}else this.v&&(I={},I.__data__=pi(b),b=I);k.i.push(new bn(k.Ya++,b)),k.I==3&&Ma(k)},ri.prototype.N=function(){this.g.l=null,delete this.j,rp(this.g),delete this.g,ri.Z.N.call(this)};function jy(b){on.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var k=b.__sm__;if(k){e:{for(const I in k){b=I;break e}b=void 0}(this.i=b)&&(b=this.i,k=k!==null&&b in k?k[b]:void 0),this.data=k}else this.data=b}p(jy,on);function Ly(){xr.call(this),this.status=1}p(Ly,xr);function po(b){this.g=b}p(po,Ry),po.prototype.ra=function(){an(this.g,"a")},po.prototype.qa=function(b){an(this.g,new jy(b))},po.prototype.pa=function(b){an(this.g,new Ly)},po.prototype.oa=function(){an(this.g,"b")},Al.prototype.createWebChannel=Al.prototype.g,ri.prototype.send=ri.prototype.o,ri.prototype.open=ri.prototype.m,ri.prototype.close=ri.prototype.close,aU=function(){return new Al},sU=function(){return us()},iU=qt,OA={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vi.NO_ERROR=0,Vi.TIMEOUT=8,Vi.HTTP_ERROR=6,Mv=Vi,Js.COMPLETE="complete",rU=Js,ao.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,im=ao,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,nU=Dt}).apply(typeof F0<"u"?F0:typeof self<"u"?self:typeof window<"u"?window:{});const oj="@firebase/firestore",lj="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hr.UNAUTHENTICATED=new Hr(null),Hr.GOOGLE_CREDENTIALS=new Hr("google-credentials-uid"),Hr.FIRST_PARTY=new Hr("first-party-uid"),Hr.MOCK_USER=new Hr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new XC("@firebase/firestore");function Od(){return gf.logLevel}function ke(t,...e){if(gf.logLevel<=ot.DEBUG){const n=e.map(o2);gf.debug(`Firestore (${Dh}): ${t}`,...n)}}function Xo(t,...e){if(gf.logLevel<=ot.ERROR){const n=e.map(o2);gf.error(`Firestore (${Dh}): ${t}`,...n)}}function ah(t,...e){if(gf.logLevel<=ot.WARN){const n=e.map(o2);gf.warn(`Firestore (${Dh}): ${t}`,...n)}}function o2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,oU(t,r,n)}function oU(t,e,n){let r=`FIRESTORE (${Dh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Xo(r),new Error(r)}function Et(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||oU(e,i,r)}function Xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends sl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Hr.UNAUTHENTICATED)))}shutdown(){}}class pte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class mte{constructor(e){this.t=e,this.currentUser=Hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Qu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qu,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const u=s;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},l=u=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qu)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string",31837,{l:r}),new lU(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string",2055,{h:e}),new Hr(e)}}class gte{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Hr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yte{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new gte(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Hr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vte{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Et(this.o===void 0,3512);const r=s=>{s.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ke("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cj(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=bte(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function lt(t,e){return t<e?-1:t>e?1:0}function NA(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return BT(i)===BT(s)?lt(i,s):BT(i)?1:-1}return lt(t.length,e.length)}const xte=55296,wte=57343;function BT(t){const e=t.charCodeAt(0);return e>=xte&&e<=wte}function oh(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="__name__";class Fa{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&He(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Fa.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return lt(e.length,n.length)}static compareSegments(e,n){const r=Fa.isNumericId(e),i=Fa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Fa.extractNumericId(e).compare(Fa.extractNumericId(n)):NA(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bc.fromString(e.substring(4,e.length-2))}}class Gt extends Fa{construct(e,n,r){return new Gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Gt(n)}static emptyPath(){return new Gt([])}}const Ste=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rr extends Fa{construct(e,n,r){return new Rr(e,n,r)}static isValidIdentifier(e){return Ste.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uj}static keyField(){return new Rr([uj])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Te(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Te(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Te(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new Te(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rr(n)}static emptyPath(){return new Rr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(Gt.fromString(e))}static fromName(e){return new je(Gt.fromString(e).popFirst(5))}static empty(){return new je(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t,e,n){if(!n)throw new Te(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Tte(t,e,n,r){if(e===!0&&r===!0)throw new Te(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fj(t){if(!je.isDocumentKey(t))throw new Te(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dj(t){if(je.isDocumentKey(t))throw new Te(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uU(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function r1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function ga(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=r1(t);throw new Te(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lg(t,e){if(!uU(t))throw new Te(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Te(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=-62135596800,pj=1e6;class nn{static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*pj);return new nn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hj)throw new Te(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pj}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lg(e,nn._jsonSchema))return new nn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nn._jsonSchemaVersion="firestore/timestamp/1.0",nn._jsonSchema={type:Kn("string",nn._jsonSchemaVersion),seconds:Kn("number"),nanoseconds:Kn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new nn(0,0))}static max(){return new Ge(new nn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=-1;function Ete(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(r===1e9?new nn(n+1,0):new nn(n,r));return new kc(i,je.empty(),e)}function _te(t){return new kc(t.readTime,t.key,qm)}class kc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kc(Ge.min(),je.empty(),qm)}static max(){return new kc(Ge.max(),je.empty(),qm)}}function Ate(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:lt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==kte)throw t;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,r)=>{n(e)}))}static reject(e){return new ue(((n,r)=>{r(e)}))}static waitFor(e){return new ue(((n,r)=>{let i=0,s=0,a=!1;e.forEach((l=>{++i,l.next((()=>{++s,a&&s===i&&n()}),(u=>r(u)))})),a=!0,s===i&&n()}))}static or(e){let n=ue.resolve(!1);for(const r of e)n=n.next((i=>i?ue.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new ue(((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const f=u;n(e[f]).next((d=>{a[f]=d,++l,l===s&&r(a)}),(d=>i(d)))}}))}static doWhile(e,n){return new ue(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function Ote(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ph(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}i1.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=-1;function s1(t){return t==null}function ub(t){return t===0&&1/t==-1/0}function Nte(t){return typeof t=="number"&&Number.isInteger(t)&&!ub(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU="";function Mte(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mj(e)),e=Dte(t.get(n),e);return mj(e)}function Dte(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case fU:n+="";break;default:n+=s}}return n}function mj(t){return t+fU+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){this.comparator=e,this.root=n||Mr.EMPTY}insert(e,n){return new gn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mr.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $0(this.root,e,this.comparator,!1)}getReverseIterator(){return new $0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $0(this.root,e,this.comparator,!0)}}class $0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Mr.RED,this.left=i??Mr.EMPTY,this.right=s??Mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Mr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Mr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}Mr.EMPTY=null,Mr.RED=!0,Mr.BLACK=!1;Mr.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yj(this.data.getIterator())}getIteratorFrom(e){return new yj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof nr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new nr(this.comparator);return n.data=e,n}}class yj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.fields=e,e.sort(Rr.comparator)}static empty(){return new es([])}unionWith(e){let n=new nr(Rr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new es(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oh(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new hU("Invalid base64 string: "+s):s}})(e);return new Br(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new Br(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Br.EMPTY_BYTE_STRING=new Br("");const Ite=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cc(t){if(Et(!!t,39018),typeof t=="string"){let e=0;const n=Ite.exec(t);if(Et(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:In(t.seconds),nanos:In(t.nanos)}}function In(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oc(t){return typeof t=="string"?Br.fromBase64String(t):Br.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU="server_timestamp",mU="__type__",gU="__previous_value__",yU="__local_write_time__";function u2(t){return(t?.mapValue?.fields||{})[mU]?.stringValue===pU}function a1(t){const e=t.mapValue.fields[gU];return u2(e)?a1(e):e}function Km(t){const e=Cc(t.mapValue.fields[yU].timestampValue);return new nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(e,n,r,i,s,a,l,u,f,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=d}}const fb="(default)";class Wm{constructor(e,n){this.projectId=e,this.database=n||fb}static empty(){return new Wm("","")}get isDefaultDatabase(){return this.database===fb}isEqual(e){return e instanceof Wm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU="__type__",Rte="__max__",H0={mapValue:{}},bU="__vector__",db="value";function Nc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?u2(t)?4:Lte(t)?9007199254740991:jte(t)?10:11:He(28295,{value:t})}function Ja(t,e){if(t===e)return!0;const n=Nc(t);if(n!==Nc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Km(t).isEqual(Km(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Cc(i.timestampValue),l=Cc(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Oc(i.bytesValue).isEqual(Oc(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return In(i.geoPointValue.latitude)===In(s.geoPointValue.latitude)&&In(i.geoPointValue.longitude)===In(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return In(i.integerValue)===In(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=In(i.doubleValue),l=In(s.doubleValue);return a===l?ub(a)===ub(l):isNaN(a)&&isNaN(l)}return!1})(t,e);case 9:return oh(t.arrayValue.values||[],e.arrayValue.values||[],Ja);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(gj(a)!==gj(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Ja(a[u],l[u])))return!1;return!0})(t,e);default:return He(52216,{left:t})}}function Gm(t,e){return(t.values||[]).find((n=>Ja(n,e)))!==void 0}function lh(t,e){if(t===e)return 0;const n=Nc(t),r=Nc(e);if(n!==r)return lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const l=In(s.integerValue||s.doubleValue),u=In(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return vj(t.timestampValue,e.timestampValue);case 4:return vj(Km(t),Km(e));case 5:return NA(t.stringValue,e.stringValue);case 6:return(function(s,a){const l=Oc(s),u=Oc(a);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const l=s.split("/"),u=a.split("/");for(let f=0;f<l.length&&f<u.length;f++){const d=lt(l[f],u[f]);if(d!==0)return d}return lt(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const l=lt(In(s.latitude),In(a.latitude));return l!==0?l:lt(In(s.longitude),In(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return bj(t.arrayValue,e.arrayValue);case 10:return(function(s,a){const l=s.fields||{},u=a.fields||{},f=l[db]?.arrayValue,d=u[db]?.arrayValue,p=lt(f?.values?.length||0,d?.values?.length||0);return p!==0?p:bj(f,d)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===H0.mapValue&&a===H0.mapValue)return 0;if(s===H0.mapValue)return 1;if(a===H0.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),f=a.fields||{},d=Object.keys(f);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const g=NA(u[p],d[p]);if(g!==0)return g;const v=lh(l[u[p]],f[d[p]]);if(v!==0)return v}return lt(u.length,d.length)})(t.mapValue,e.mapValue);default:throw He(23264,{he:n})}}function vj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lt(t,e);const n=Cc(t),r=Cc(e),i=lt(n.seconds,r.seconds);return i!==0?i:lt(n.nanos,r.nanos)}function bj(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=lh(n[i],r[i]);if(s)return s}return lt(n.length,r.length)}function ch(t){return MA(t)}function MA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Cc(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Oc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return je.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=MA(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${MA(n.fields[a])}`;return i+"}"})(t.mapValue):He(61005,{value:t})}function Dv(t){switch(Nc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=a1(t);return e?16+Dv(e):16;case 5:return 2*t.stringValue.length;case 6:return Oc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Dv(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Hc(r.fields,((s,a)=>{i+=s.length+Dv(a)})),i})(t.mapValue);default:throw He(13486,{value:t})}}function xj(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function DA(t){return!!t&&"integerValue"in t}function f2(t){return!!t&&"arrayValue"in t}function wj(t){return!!t&&"nullValue"in t}function Sj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Iv(t){return!!t&&"mapValue"in t}function jte(t){return(t?.mapValue?.fields||{})[vU]?.stringValue===bU}function bm(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Hc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=bm(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bm(t.arrayValue.values[n]);return e}return{...t}}function Lte(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Rte}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.value=e}static empty(){return new ki({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Iv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bm(n)}setAll(e){let n=Rr.emptyPath(),r={},i=[];e.forEach(((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=bm(a):i.push(l.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Iv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ja(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Iv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hc(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new ki(bm(this.value))}}function xU(t){const e=[];return Hc(t.fields,((n,r)=>{const i=new Rr([n]);if(Iv(r)){const s=xU(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new es(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new qr(e,0,Ge.min(),Ge.min(),Ge.min(),ki.empty(),0)}static newFoundDocument(e,n,r,i){return new qr(e,1,n,Ge.min(),r,i,0)}static newNoDocument(e,n){return new qr(e,2,n,Ge.min(),Ge.min(),ki.empty(),0)}static newUnknownDocument(e,n){return new qr(e,3,n,Ge.min(),Ge.min(),ki.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n){this.position=e,this.inclusive=n}}function Tj(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=je.comparator(je.fromName(a.referenceValue),n.key):r=lh(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ej(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ja(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n="asc"){this.field=e,this.dir=n}}function Vte(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{}class qn extends wU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zte(e,n,r):n==="array-contains"?new $te(e,r):n==="in"?new Hte(e,r):n==="not-in"?new qte(e,r):n==="array-contains-any"?new Kte(e,r):new qn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ute(e,r):new Fte(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lh(n,this.value)):n!==null&&Nc(this.value)===Nc(n)&&this.matchesComparison(lh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xa extends wU{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xa(e,n)}matches(e){return SU(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SU(t){return t.op==="and"}function TU(t){return Bte(t)&&SU(t)}function Bte(t){for(const e of t.filters)if(e instanceof xa)return!1;return!0}function IA(t){if(t instanceof qn)return t.field.canonicalString()+t.op.toString()+ch(t.value);if(TU(t))return t.filters.map((e=>IA(e))).join(",");{const e=t.filters.map((n=>IA(n))).join(",");return`${t.op}(${e})`}}function EU(t,e){return t instanceof qn?(function(r,i){return i instanceof qn&&r.op===i.op&&r.field.isEqual(i.field)&&Ja(r.value,i.value)})(t,e):t instanceof xa?(function(r,i){return i instanceof xa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,l)=>s&&EU(a,i.filters[l])),!0):!1})(t,e):void He(19439)}function _U(t){return t instanceof qn?(function(n){return`${n.field.canonicalString()} ${n.op} ${ch(n.value)}`})(t):t instanceof xa?(function(n){return n.op.toString()+" {"+n.getFilters().map(_U).join(" ,")+"}"})(t):"Filter"}class zte extends qn{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ute extends qn{constructor(e,n){super(e,"in",n),this.keys=AU("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Fte extends qn{constructor(e,n){super(e,"not-in",n),this.keys=AU("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function AU(t,e){return(e.arrayValue?.values||[]).map((n=>je.fromName(n.referenceValue)))}class $te extends qn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return f2(n)&&Gm(n.arrayValue,this.value)}}class Hte extends qn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gm(this.value.arrayValue,n)}}class qte extends qn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gm(this.value.arrayValue,n)}}class Kte extends qn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!f2(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Gm(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function _j(t,e=null,n=[],r=[],i=null,s=null,a=null){return new Wte(t,e,n,r,i,s,a)}function d2(t){const e=Xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>IA(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),s1(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ch(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ch(r))).join(",")),e.Te=n}return e.Te}function h2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Vte(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ej(t.startAt,e.startAt)&&Ej(t.endAt,e.endAt)}function PA(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Gte(t,e,n,r,i,s,a,l){return new Rh(t,e,n,r,i,s,a,l)}function p2(t){return new Rh(t)}function Aj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kU(t){return t.collectionGroup!==null}function xm(t){const e=Xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new nr(Rr.comparator);return a.filters.forEach((u=>{u.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Ym(s,r))})),n.has(Rr.keyField().canonicalString())||e.Ie.push(new Ym(Rr.keyField(),r))}return e.Ie}function Ka(t){const e=Xe(t);return e.Ee||(e.Ee=Yte(e,xm(t))),e.Ee}function Yte(t,e){if(t.limitType==="F")return _j(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Ym(i.field,s)}));const n=t.endAt?new hb(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hb(t.startAt.position,t.startAt.inclusive):null;return _j(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function RA(t,e){const n=t.filters.concat([e]);return new Rh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jA(t,e,n){return new Rh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function o1(t,e){return h2(Ka(t),Ka(e))&&t.limitType===e.limitType}function CU(t){return`${d2(Ka(t))}|lt:${t.limitType}`}function Nd(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>_U(i))).join(", ")}]`),s1(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>ch(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>ch(i))).join(",")),`Target(${r})`})(Ka(t))}; limitType=${t.limitType})`}function l1(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):je.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of xm(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,l,u){const f=Tj(a,l,u);return a.inclusive?f<=0:f<0})(r.startAt,xm(r),i)||r.endAt&&!(function(a,l,u){const f=Tj(a,l,u);return a.inclusive?f>=0:f>0})(r.endAt,xm(r),i))})(t,e)}function Xte(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OU(t){return(e,n)=>{let r=!1;for(const i of xm(t)){const s=Qte(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Qte(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):(function(s,a,l){const u=a.data.field(s),f=l.data.field(s);return u!==null&&f!==null?lh(u,f):He(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hc(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return dU(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jte=new gn(je.comparator);function Qo(){return Jte}const NU=new gn(je.comparator);function sm(...t){let e=NU;for(const n of t)e=e.insert(n.key,n);return e}function MU(t){let e=NU;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Bu(){return wm()}function DU(){return wm()}function wm(){return new Df((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Zte=new gn(je.comparator),ene=new nr(je.comparator);function ct(...t){let e=ene;for(const n of t)e=e.add(n);return e}const tne=new nr(lt);function nne(){return tne}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ub(e)?"-0":e}}function IU(t){return{integerValue:""+t}}function rne(t,e){return Nte(e)?IU(e):m2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this._=void 0}}function ine(t,e,n){return t instanceof Xm?(function(i,s){const a={fields:{[mU]:{stringValue:pU},[yU]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&u2(s)&&(s=a1(s)),s&&(a.fields[gU]=s),{mapValue:a}})(n,e):t instanceof Qm?RU(t,e):t instanceof Jm?jU(t,e):(function(i,s){const a=PU(i,s),l=kj(a)+kj(i.Ae);return DA(a)&&DA(i.Ae)?IU(l):m2(i.serializer,l)})(t,e)}function sne(t,e,n){return t instanceof Qm?RU(t,e):t instanceof Jm?jU(t,e):n}function PU(t,e){return t instanceof pb?(function(r){return DA(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Xm extends c1{}class Qm extends c1{constructor(e){super(),this.elements=e}}function RU(t,e){const n=LU(e);for(const r of t.elements)n.some((i=>Ja(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Jm extends c1{constructor(e){super(),this.elements=e}}function jU(t,e){let n=LU(e);for(const r of t.elements)n=n.filter((i=>!Ja(i,r)));return{arrayValue:{values:n}}}class pb extends c1{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kj(t){return In(t.integerValue||t.doubleValue)}function LU(t){return f2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ane{constructor(e,n){this.field=e,this.transform=n}}function one(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Qm&&i instanceof Qm||r instanceof Jm&&i instanceof Jm?oh(r.elements,i.elements,Ja):r instanceof pb&&i instanceof pb?Ja(r.Ae,i.Ae):r instanceof Xm&&i instanceof Xm})(t.transform,e.transform)}class lne{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class u1{}function VU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new f1(t.key,ci.none()):new Vg(t.key,t.data,ci.none());{const n=t.data,r=ki.empty();let i=new nr(Rr.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new qc(t.key,r,new es(i.toArray()),ci.none())}}function cne(t,e,n){t instanceof Vg?(function(i,s,a){const l=i.value.clone(),u=Oj(i.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):t instanceof qc?(function(i,s,a){if(!Pv(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=Oj(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(BU(i)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function Sm(t,e,n,r){return t instanceof Vg?(function(s,a,l,u){if(!Pv(s.precondition,a))return l;const f=s.value.clone(),d=Nj(s.fieldTransforms,u,a);return f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof qc?(function(s,a,l,u){if(!Pv(s.precondition,a))return l;const f=Nj(s.fieldTransforms,u,a),d=a.data;return d.setAll(BU(s)),d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,a,l){return Pv(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(t,e,n)}function une(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=PU(r.transform,i||null);s!=null&&(n===null&&(n=ki.empty()),n.set(r.field,s))}return n||null}function Cj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&oh(r,i,((s,a)=>one(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vg extends u1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qc extends u1{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function BU(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Oj(t,e,n){const r=new Map;Et(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,sne(a,l,n[i]))}return r}function Nj(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,ine(s,a,e))}return r}class f1 extends u1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fne extends u1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dne{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&cne(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DU();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const u=VU(a,l);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(Ge.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ct())}isEqual(e){return this.batchId===e.batchId&&oh(this.mutations,e.mutations,((n,r)=>Cj(n,r)))&&oh(this.baseMutations,e.baseMutations,((n,r)=>Cj(n,r)))}}class g2{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Zte})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new g2(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pne{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn,ht;function mne(t){switch(t){case le.OK:return He(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function zU(t){if(t===void 0)return Xo("GRPC error has no .code"),le.UNKNOWN;switch(t){case Fn.OK:return le.OK;case Fn.CANCELLED:return le.CANCELLED;case Fn.UNKNOWN:return le.UNKNOWN;case Fn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Fn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Fn.INTERNAL:return le.INTERNAL;case Fn.UNAVAILABLE:return le.UNAVAILABLE;case Fn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Fn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Fn.NOT_FOUND:return le.NOT_FOUND;case Fn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Fn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Fn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Fn.ABORTED:return le.ABORTED;case Fn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Fn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Fn.DATA_LOSS:return le.DATA_LOSS;default:return He(39323,{code:t})}}(ht=Fn||(Fn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gne(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yne=new bc([4294967295,4294967295],0);function Mj(t){const e=gne().encode(t),n=new tU;return n.update(e),new Uint8Array(n.digest())}function Dj(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new bc([n,r],0),new bc([i,s],0)]}class y2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new am(`Invalid padding: ${n}`);if(r<0)throw new am(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new am(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new am(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=bc.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(bc.fromNumber(r)));return i.compare(yne)===1&&(i=new bc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Mj(e),[r,i]=Dj(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new y2(s,i,n);return r.forEach((l=>a.insert(l))),a}insert(e){if(this.ge===0)return;const n=Mj(e),[r,i]=Dj(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class am extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new d1(Ge.min(),i,new gn(lt),Qo(),ct())}}class Bg{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bg(r,n,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class UU{constructor(e,n){this.targetId=e,this.Ce=n}}class FU{constructor(e,n,r=Br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ij{constructor(){this.ve=0,this.Fe=Pj(),this.Me=Br.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ct(),n=ct(),r=ct();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:He(38017,{changeType:s})}})),new Bg(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Pj()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vne{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qo(),this.Je=q0(),this.He=q0(),this.Ye=new gn(lt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(PA(s))if(r===0){const a=new je(s.path);this.et(n,a,qr.newNoDocument(a,Ge.min()))}else Et(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),u=l?this.ct(l,e,a):1;if(u!==0){this.it(n);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=Oc(r).toUint8Array()}catch(u){if(u instanceof hU)return ah("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new y2(a,i,s)}catch(u){return ah(u instanceof am?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,a)=>{const l=this.ot(a);if(l){if(s.current&&PA(l.target)){const u=new je(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,qr.newNoDocument(u,e))}s.Be&&(n.set(a,s.ke()),s.qe())}}));let r=ct();this.He.forEach(((s,a)=>{let l=!0;a.forEachWhile((u=>{const f=this.ot(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new d1(e,n,this.Ye,this.je,r);return this.je=Qo(),this.Je=q0(),this.He=q0(),this.Ye=new gn(lt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ij,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nr(lt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nr(lt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ke("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ij),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function q0(){return new gn(je.comparator)}function Pj(){return new gn(je.comparator)}const bne={asc:"ASCENDING",desc:"DESCENDING"},xne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wne={and:"AND",or:"OR"};class Sne{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function LA(t,e){return t.useProto3Json||s1(e)?e:{value:e}}function mb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $U(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Tne(t,e){return mb(t,e.toTimestamp())}function Wa(t){return Et(!!t,49232),Ge.fromTimestamp((function(n){const r=Cc(n);return new nn(r.seconds,r.nanos)})(t))}function v2(t,e){return VA(t,e).canonicalString()}function VA(t,e){const n=(function(i){return new Gt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function HU(t){const e=Gt.fromString(t);return Et(YU(e),10190,{key:e.toString()}),e}function BA(t,e){return v2(t.databaseId,e.path)}function zT(t,e){const n=HU(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(KU(n))}function qU(t,e){return v2(t.databaseId,e)}function Ene(t){const e=HU(t);return e.length===4?Gt.emptyPath():KU(e)}function zA(t){return new Gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KU(t){return Et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Rj(t,e,n){return{name:BA(t,e),fields:n.value.mapValue.fields}}function _ne(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:He(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,d){return f.useProto3Json?(Et(d===void 0||typeof d=="string",58123),Br.fromBase64String(d||"")):(Et(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Br.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&(function(f){const d=f.code===void 0?le.UNKNOWN:zU(f.code);return new Te(d,f.message||"")})(a);n=new FU(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zT(t,r.document.name),s=Wa(r.document.updateTime),a=r.document.createTime?Wa(r.document.createTime):Ge.min(),l=new ki({mapValue:{fields:r.document.fields}}),u=qr.newFoundDocument(i,s,a,l),f=r.targetIds||[],d=r.removedTargetIds||[];n=new Rv(f,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zT(t,r.document),s=r.readTime?Wa(r.readTime):Ge.min(),a=qr.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Rv([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zT(t,r.document),s=r.removedTargetIds||[];n=new Rv([],s,i,null)}else{if(!("filter"in e))return He(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new pne(i,s),l=r.targetId;n=new UU(l,a)}}return n}function Ane(t,e){let n;if(e instanceof Vg)n={update:Rj(t,e.key,e.value)};else if(e instanceof f1)n={delete:BA(t,e.key)};else if(e instanceof qc)n={update:Rj(t,e.key,e.data),updateMask:Rne(e.fieldMask)};else{if(!(e instanceof fne))return He(16599,{Vt:e.type});n={verify:BA(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const l=a.transform;if(l instanceof Xm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Qm)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Jm)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof pb)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw He(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:Tne(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:He(27497)})(t,e.precondition)),n}function kne(t,e){return t&&t.length>0?(Et(e!==void 0,14353),t.map((n=>(function(i,s){let a=i.updateTime?Wa(i.updateTime):Wa(s);return a.isEqual(Ge.min())&&(a=Wa(s)),new lne(a,i.transformResults||[])})(n,e)))):[]}function Cne(t,e){return{documents:[qU(t,e.path)]}}function One(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qU(t,i);const s=(function(f){if(f.length!==0)return GU(xa.create(f,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(f){if(f.length!==0)return f.map((d=>(function(g){return{field:Md(g.field),direction:Dne(g.dir)}})(d)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=LA(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function Nne(t){let e=Ene(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Et(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=(function(p){const g=WU(p);return g instanceof xa&&TU(g)?g.getFilters():[g]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((g=>(function(x){return new Ym(Dd(x.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(g)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let g;return g=typeof p=="object"?p.value:p,s1(g)?null:g})(n.limit));let u=null;n.startAt&&(u=(function(p){const g=!!p.before,v=p.values||[];return new hb(v,g)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const g=!p.before,v=p.values||[];return new hb(v,g)})(n.endAt)),Gte(e,i,a,s,l,"F",u,f)}function Mne(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WU(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Dd(n.unaryFilter.field);return qn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Dd(n.unaryFilter.field);return qn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Dd(n.unaryFilter.field);return qn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Dd(n.unaryFilter.field);return qn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(t):t.fieldFilter!==void 0?(function(n){return qn.create(Dd(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return xa.create(n.compositeFilter.filters.map((r=>WU(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(n.compositeFilter.op))})(t):He(30097,{filter:t})}function Dne(t){return bne[t]}function Ine(t){return xne[t]}function Pne(t){return wne[t]}function Md(t){return{fieldPath:t.canonicalString()}}function Dd(t){return Rr.fromServerFormat(t.fieldPath)}function GU(t){return t instanceof qn?(function(n){if(n.op==="=="){if(Sj(n.value))return{unaryFilter:{field:Md(n.field),op:"IS_NAN"}};if(wj(n.value))return{unaryFilter:{field:Md(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sj(n.value))return{unaryFilter:{field:Md(n.field),op:"IS_NOT_NAN"}};if(wj(n.value))return{unaryFilter:{field:Md(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Md(n.field),op:Ine(n.op),value:n.value}}})(t):t instanceof xa?(function(n){const r=n.getFilters().map((i=>GU(i)));return r.length===1?r[0]:{compositeFilter:{op:Pne(n.op),filters:r}}})(t):He(54877,{filter:t})}function Rne(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function YU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n,r,i,s=Ge.min(),a=Ge.min(),l=Br.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new fc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jne{constructor(e){this.yt=e}}function Lne(t){const e=Nne({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jA(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(){this.Cn=new Bne}addToCollectionParentIndex(e,n){return this.Cn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(kc.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(kc.min())}updateCollectionGroup(e,n,r){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class Bne{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nr(Gt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nr(Gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XU=41943040;class _i{static withCacheSize(e){return new _i(e,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(XU,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new uh(0)}static cr(){return new uh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj="LruGarbageCollector",zne=1048576;function Vj([t,e],[n,r]){const i=lt(t,n);return i===0?lt(e,r):i}class Une{constructor(e){this.Ir=e,this.buffer=new nr(Vj),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Vj(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Fne{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ke(Lj,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ph(n)?ke(Lj,"Ignoring IndexedDB error during garbage collection: ",n):await Ih(n)}await this.Vr(3e5)}))}}class $ne{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(i1.ce);const r=new Une(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(jj)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jj):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,l,u,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),Od()<=ot.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(f-u)+`ms
Total Duration: ${f-d}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function Hne(t,e){return new $ne(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qne{constructor(){this.changes=new Df((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kne{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wne{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Sm(r.mutation,i,es.empty(),nn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ct()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ct()){const i=Bu();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=sm();return s.forEach(((l,u)=>{a=a.insert(l,u.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Bu();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ct())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,l)=>{n.set(a,l)}))}))}computeViews(e,n,r,i){let s=Qo();const a=wm(),l=(function(){return wm()})();return n.forEach(((u,f)=>{const d=r.get(f.key);i.has(f.key)&&(d===void 0||d.mutation instanceof qc)?s=s.insert(f.key,f):d!==void 0?(a.set(f.key,d.mutation.getFieldMask()),Sm(d.mutation,f,d.mutation.getFieldMask(),nn.now())):a.set(f.key,es.empty())})),this.recalculateAndSaveOverlays(e,s).next((u=>(u.forEach(((f,d)=>a.set(f,d))),n.forEach(((f,d)=>l.set(f,new Kne(d,a.get(f)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=wm();let i=new gn(((a,l)=>a-l)),s=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const l of a)l.keys().forEach((u=>{const f=n.get(u);if(f===null)return;let d=r.get(u)||es.empty();d=l.applyToLocalView(f,d),r.set(u,d);const p=(i.get(l.batchId)||ct()).add(u);i=i.insert(l.batchId,p)}))})).next((()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),f=u.key,d=u.value,p=DU();d.forEach((g=>{if(!s.has(g)){const v=VU(n.get(g),r.get(g));v!==null&&p.set(g,v),s=s.add(g)}})),a.push(this.documentOverlayCache.saveOverlays(e,f,p))}return ue.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return je.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ue.resolve(Bu());let l=qm,u=s;return a.next((f=>ue.forEach(f,((d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(d)?ue.resolve():this.remoteDocumentCache.getEntry(e,d).next((g=>{u=u.insert(d,g)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,u,f,ct()))).next((d=>({batchId:l,changes:MU(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next((r=>{let i=sm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=sm();return this.indexManager.getCollectionParents(e,s).next((l=>ue.forEach(l,(u=>{const f=(function(p,g){return new Rh(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((d=>{d.forEach(((p,g)=>{a=a.insert(p,g)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((u,f)=>{const d=f.getKey();a.get(d)===null&&(a=a.insert(d,qr.newInvalidDocument(d)))}));let l=sm();return a.forEach(((u,f)=>{const d=s.get(u);d!==void 0&&Sm(d.mutation,f,es.empty(),nn.now()),l1(n,f)&&(l=l.insert(u,f))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gne{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ue.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Wa(i.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Lne(i.bundledQuery),readTime:Wa(i.readTime)}})(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yne{constructor(){this.overlays=new gn(je.comparator),this.qr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bu();return ue.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),ue.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),ue.resolve()}getOverlaysForCollection(e,n,r){const i=Bu(),s=n.length+1,a=new je(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,f=u.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new gn(((f,d)=>f-d));const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let d=s.get(f.largestBatchId);d===null&&(d=Bu(),s=s.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const l=Bu(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((f,d)=>l.set(f,d))),!(l.size()>=i)););return ue.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new hne(n,r));let s=this.qr.get(n);s===void 0&&(s=ct(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xne{constructor(){this.sessionToken=Br.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.Qr=new nr(lr.$r),this.Ur=new nr(lr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new lr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new lr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new je(new Gt([])),r=new lr(n,e),i=new lr(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new je(new Gt([])),r=new lr(n,e),i=new lr(n,e+1);let s=ct();return this.Ur.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new lr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return je.comparator(e.key,n.key)||lt(e.Yr,n.Yr)}static Kr(e,n){return lt(e.Yr,n.Yr)||je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qne{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nr(lr.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new dne(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Zr=this.Zr.add(new lr(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ue.resolve(a)}lookupMutationBatch(e,n){return ue.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ue.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?c2:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lr(n,0),i=new lr(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(a=>{const l=this.Xr(a.Yr);s.push(l)})),ue.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nr(lt);return n.forEach((i=>{const s=new lr(i,0),a=new lr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(l=>{r=r.add(l.Yr)}))})),ue.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;je.isDocumentKey(s)||(s=s.child(""));const a=new lr(new je(s),0);let l=new nr(lt);return this.Zr.forEachWhile((u=>{const f=u.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(u.Yr)),!0)}),a),ue.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Et(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ue.forEach(n.mutations,(i=>{const s=new lr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new lr(n,0),i=this.Zr.firstAfterOrEqual(r);return ue.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jne{constructor(e){this.ri=e,this.docs=(function(){return new gn(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ue.resolve(r?r.document.mutableCopy():qr.newInvalidDocument(n))}getEntries(e,n){let r=Qo();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qr.newInvalidDocument(i))})),ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Qo();const a=n.path,l=new je(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:d}}=u.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||Ate(_te(d),r)<=0||(i.has(d.key)||l1(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return ue.resolve(s)}getAllFromCollectionGroup(e,n,r,i){He(9500)}ii(e,n){return ue.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Zne(this)}getSize(e){return ue.resolve(this.size)}}class Zne extends qne{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ue.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ere{constructor(e){this.persistence=e,this.si=new Df((n=>d2(n)),h2),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.oi=0,this._i=new b2,this.targetCount=0,this.ai=uh.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ue.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new uh(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.Pr(n),ue.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),ue.waitFor(s).next((()=>i))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ue.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ue.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),ue.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ue.resolve(r)}containsKey(e,n){return ue.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,n){this.ui={},this.overlays={},this.ci=new i1(0),this.li=!1,this.li=!0,this.hi=new Xne,this.referenceDelegate=e(this),this.Pi=new ere(this),this.indexManager=new Vne,this.remoteDocumentCache=(function(i){return new Jne(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new jne(n),this.Ii=new Gne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Yne,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Qne(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ke("MemoryPersistence","Starting transaction:",e);const i=new tre(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return ue.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class tre extends Cte{constructor(e){super(),this.currentSequenceNumber=e}}class x2{constructor(e){this.persistence=e,this.Ri=new b2,this.Vi=null}static mi(e){return new x2(e)}get fi(){if(this.Vi)return this.Vi;throw He(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ue.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(r=>{const i=je.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Ge.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ue.or([()=>ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class gb{constructor(e,n){this.persistence=e,this.pi=new Df((r=>Mte(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Hne(this,n)}static mi(e,n){return new gb(e,n)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ue.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?ue.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((l=>{l||(r++,s.removeEntry(a,Ge.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dv(e.data.value)),n}br(e,n,r){return ue.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ue.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ct(),i=ct();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new w2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rre{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return OQ()?8:Ote(Gr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new nre;return this.Ss(e,n,a).next((l=>{if(s.result=l,this.Vs)return this.bs(e,n,a,l.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Od()<=ot.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Nd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(Od()<=ot.DEBUG&&ke("QueryEngine","Query:",Nd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Od()<=ot.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Nd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ka(n))):ue.resolve())}ys(e,n){if(Aj(n))return ue.resolve(null);let r=Ka(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=jA(n,null,"F"),r=Ka(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=ct(...s);return this.ps.getDocuments(e,a).next((l=>this.indexManager.getMinOffset(e,r).next((u=>{const f=this.Ds(n,l);return this.Cs(n,f,a,u.readTime)?this.ys(e,jA(n,null,"F")):this.vs(e,f,n,u)}))))})))))}ws(e,n,r,i){return Aj(n)||i.isEqual(Ge.min())?ue.resolve(null):this.ps.getDocuments(e,r).next((s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?ue.resolve(null):(Od()<=ot.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nd(n)),this.vs(e,a,n,Ete(i,qm)).next((l=>l)))}))}Ds(e,n){let r=new nr(OU(e));return n.forEach(((i,s)=>{l1(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Od()<=ot.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Nd(n)),this.ps.getDocumentsMatchingQuery(e,n,kc.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="LocalStore",ire=3e8;class sre{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new gn(lt),this.xs=new Df((s=>d2(s)),h2),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wne(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function are(t,e,n,r){return new sre(t,e,n,r)}async function JU(t,e){const n=Xe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],l=[];let u=ct();for(const f of i){a.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}for(const f of s){l.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next((f=>({Ls:f,removedBatchIds:a,addedBatchIds:l})))}))}))}function ore(t,e){const n=Xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,f,d){const p=f.batch,g=p.keys();let v=ue.resolve();return g.forEach((x=>{v=v.next((()=>d.getEntry(u,x))).next((S=>{const T=f.docVersions.get(x);Et(T!==null,48541),S.version.compareTo(T)<0&&(p.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),d.addEntry(S)))}))})),v.next((()=>l.mutationQueue.removeMutationBatch(u,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let u=ct();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(u=u.add(l.batch.mutations[f].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function ZU(t){const e=Xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function lre(t,e){const n=Xe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((d,p)=>{const g=i.get(p);if(!g)return;l.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(s,d.addedDocuments,p))));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Br.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(p,v),(function(S,T,_){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=ire?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(g,v,d)&&l.push(n.Pi.updateTargetData(s,v))}));let u=Qo(),f=ct();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))})),l.push(cre(s,a,e.documentUpdates).next((d=>{u=d.ks,f=d.qs}))),!r.isEqual(Ge.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next((p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));l.push(d)}return ue.waitFor(l).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,u,f))).next((()=>u))})).then((s=>(n.Ms=i,s)))}function cre(t,e,n){let r=ct(),i=ct();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=Qo();return n.forEach(((l,u)=>{const f=s.get(l);u.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Ge.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):ke(S2,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",u.version)})),{ks:a,qs:i}}))}function ure(t,e){const n=Xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=c2),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fre(t,e){const n=Xe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,ue.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new fc(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function UA(t,e,n){const r=Xe(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Ph(a))throw a;ke(S2,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Bj(t,e,n){const r=Xe(t);let i=Ge.min(),s=ct();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,f,d){const p=Xe(u),g=p.xs.get(d);return g!==void 0?ue.resolve(p.Ms.get(g)):p.Pi.getTargetData(f,d)})(r,a,Ka(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next((u=>{s=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:Ge.min(),n?s:ct()))).next((l=>(dre(r,Xte(e),l),{documents:l,Qs:s})))))}function dre(t,e,n){let r=t.Os.get(e)||Ge.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class zj{constructor(){this.activeTargetIds=nne()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hre{constructor(){this.Mo=new zj,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new zj,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pre{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="ConnectivityMonitor";class Fj{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ke(Uj,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ke(Uj,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K0=null;function FA(){return K0===null?K0=(function(){return 268435456+Math.round(2147483648*Math.random())})():K0++,"0x"+K0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="RestConnection",mre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gre{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===fb?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=FA(),l=this.zo(e,n.toUriEncodedString());ke(UT,`Sending RPC '${e}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:f}=new URL(l),d=Oh(f);return this.Jo(e,l,u,r,d).then((p=>(ke(UT,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw ah(UT,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=mre[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yre{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="WebChannelConnection";class vre extends gre{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=FA();return new Promise(((l,u)=>{const f=new nU;f.setWithCredentials(!0),f.listenOnce(rU.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Mv.NO_ERROR:const p=f.getResponseJson();ke(Ur,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Mv.TIMEOUT:ke(Ur,`RPC '${e}' ${a} timed out`),u(new Te(le.DEADLINE_EXCEEDED,"Request time out"));break;case Mv.HTTP_ERROR:const g=f.getStatus();if(ke(Ur,`RPC '${e}' ${a} failed with status:`,g,"response text:",f.getResponseText()),g>0){let v=f.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v?.error;if(x&&x.status&&x.message){const S=(function(_){const C=_.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(C)>=0?C:le.UNKNOWN})(x.status);u(new Te(S,x.message))}else u(new Te(le.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Te(le.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:a,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ke(Ur,`RPC '${e}' ${a} completed.`)}}));const d=JSON.stringify(i);ke(Ur,`RPC '${e}' ${a} sending request:`,i),f.send(n,"POST",d,r,15)}))}T_(e,n,r){const i=FA(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=aU(),l=sU(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");ke(Ur,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=a.createWebChannel(d,u);this.I_(p);let g=!1,v=!1;const x=new yre({Yo:T=>{v?ke(Ur,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(g||(ke(Ur,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),ke(Ur,`RPC '${e}' stream ${i} sending:`,T),p.send(T))},Zo:()=>p.close()}),S=(T,_,C)=>{T.listen(_,(D=>{try{C(D)}catch(L){setTimeout((()=>{throw L}),0)}}))};return S(p,im.EventType.OPEN,(()=>{v||(ke(Ur,`RPC '${e}' stream ${i} transport opened.`),x.o_())})),S(p,im.EventType.CLOSE,(()=>{v||(v=!0,ke(Ur,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(p))})),S(p,im.EventType.ERROR,(T=>{v||(v=!0,ah(Ur,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),x.a_(new Te(le.UNAVAILABLE,"The operation could not be completed")))})),S(p,im.EventType.MESSAGE,(T=>{if(!v){const _=T.data[0];Et(!!_,16349);const C=_,D=C?.error||C[0]?.error;if(D){ke(Ur,`RPC '${e}' stream ${i} received error:`,D);const L=D.status;let R=(function(M){const P=Fn[M];if(P!==void 0)return zU(P)})(L),B=D.message;R===void 0&&(R=le.INTERNAL,B="Unknown error status: "+L+" with message "+D.message),v=!0,x.a_(new Te(R,B)),p.close()}else ke(Ur,`RPC '${e}' stream ${i} received:`,_),x.u_(_)}})),S(l,iU.STAT_EVENT,(T=>{T.stat===OA.PROXY?ke(Ur,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===OA.NOPROXY&&ke(Ur,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function FT(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t){return new Sne(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j="PersistentStream";class tF{constructor(e,n,r,i,s,a,l,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eF(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Xo(n.toString()),Xo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Te(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ke($j,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ke($j,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bre extends tF{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_ne(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ge.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ge.min():a.readTime?Wa(a.readTime):Ge.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=zA(this.serializer),n.addTarget=(function(s,a){let l;const u=a.target;if(l=PA(u)?{documents:Cne(s,u)}:{query:One(s,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=$U(s,a.resumeToken);const f=LA(s,a.expectedCount);f!==null&&(l.expectedCount=f)}else if(a.snapshotVersion.compareTo(Ge.min())>0){l.readTime=mb(s,a.snapshotVersion.toTimestamp());const f=LA(s,a.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const r=Mne(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=zA(this.serializer),n.removeTarget=e,this.q_(n)}}class xre extends tF{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=kne(e.writeResults,e.commitTime),r=Wa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=zA(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Ane(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wre{}class Sre extends wre{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Te(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,VA(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Te(le.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Ho(e,VA(n,r),i,a,l,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(le.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Tre{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xo(n),this.aa=!1):ke("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="RemoteStore";class Ere{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{If(this)&&(ke(yf,"Restarting streams for network reachability change."),await(async function(u){const f=Xe(u);f.Ea.add(4),await zg(f),f.Ra.set("Unknown"),f.Ea.delete(4),await p1(f)})(this))}))})),this.Ra=new Tre(r,i)}}async function p1(t){if(If(t))for(const e of t.da)await e(!0)}async function zg(t){for(const e of t.da)await e(!1)}function nF(t,e){const n=Xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),A2(n)?_2(n):jh(n).O_()&&E2(n,e))}function T2(t,e){const n=Xe(t),r=jh(n);n.Ia.delete(e),r.O_()&&rF(n,e),n.Ia.size===0&&(r.O_()?r.L_():If(n)&&n.Ra.set("Unknown"))}function E2(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jh(t).Y_(e)}function rF(t,e){t.Va.Ue(e),jh(t).Z_(e)}function _2(t){t.Va=new vne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),jh(t).start(),t.Ra.ua()}function A2(t){return If(t)&&!jh(t).x_()&&t.Ia.size>0}function If(t){return Xe(t).Ea.size===0}function iF(t){t.Va=void 0}async function _re(t){t.Ra.set("Online")}async function Are(t){t.Ia.forEach(((e,n)=>{E2(t,e)}))}async function kre(t,e){iF(t),A2(t)?(t.Ra.ha(e),_2(t)):t.Ra.set("Unknown")}async function Cre(t,e,n){if(t.Ra.set("Online"),e instanceof FU&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){ke(yf,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yb(t,r)}else if(e instanceof Rv?t.Va.Ze(e):e instanceof UU?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ge.min()))try{const r=await ZU(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const l=s.Va.Tt(a);return l.targetChanges.forEach(((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ia.get(f);d&&s.Ia.set(f,d.withResumeToken(u.resumeToken,a))}})),l.targetMismatches.forEach(((u,f)=>{const d=s.Ia.get(u);if(!d)return;s.Ia.set(u,d.withResumeToken(Br.EMPTY_BYTE_STRING,d.snapshotVersion)),rF(s,u);const p=new fc(d.target,u,f,d.sequenceNumber);E2(s,p)})),s.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){ke(yf,"Failed to raise snapshot:",r),await yb(t,r)}}async function yb(t,e,n){if(!Ph(e))throw e;t.Ea.add(1),await zg(t),t.Ra.set("Offline"),n||(n=()=>ZU(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ke(yf,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await p1(t)}))}function sF(t,e){return e().catch((n=>yb(t,n,e)))}async function m1(t){const e=Xe(t),n=Mc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:c2;for(;Ore(e);)try{const i=await ure(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Nre(e,i)}catch(i){await yb(e,i)}aF(e)&&oF(e)}function Ore(t){return If(t)&&t.Ta.length<10}function Nre(t,e){t.Ta.push(e);const n=Mc(t);n.O_()&&n.X_&&n.ea(e.mutations)}function aF(t){return If(t)&&!Mc(t).x_()&&t.Ta.length>0}function oF(t){Mc(t).start()}async function Mre(t){Mc(t).ra()}async function Dre(t){const e=Mc(t);for(const n of t.Ta)e.ea(n.mutations)}async function Ire(t,e,n){const r=t.Ta.shift(),i=g2.from(r,e,n);await sF(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await m1(t)}async function Pre(t,e){e&&Mc(t).X_&&await(async function(r,i){if((function(a){return mne(a)&&a!==le.ABORTED})(i.code)){const s=r.Ta.shift();Mc(r).B_(),await sF(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await m1(r)}})(t,e),aF(t)&&oF(t)}async function Hj(t,e){const n=Xe(t);n.asyncQueue.verifyOperationInProgress(),ke(yf,"RemoteStore received new credentials");const r=If(n);n.Ea.add(3),await zg(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await p1(n)}async function Rre(t,e){const n=Xe(t);e?(n.Ea.delete(2),await p1(n)):e||(n.Ea.add(2),await zg(n),n.Ra.set("Unknown"))}function jh(t){return t.ma||(t.ma=(function(n,r,i){const s=Xe(n);return s.sa(),new bre(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:_re.bind(null,t),t_:Are.bind(null,t),r_:kre.bind(null,t),H_:Cre.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),A2(t)?_2(t):t.Ra.set("Unknown")):(await t.ma.stop(),iF(t))}))),t.ma}function Mc(t){return t.fa||(t.fa=(function(n,r,i){const s=Xe(n);return s.sa(),new xre(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Mre.bind(null,t),r_:Pre.bind(null,t),ta:Dre.bind(null,t),na:Ire.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await m1(t)):(await t.fa.stop(),t.Ta.length>0&&(ke(yf,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Qu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new k2(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function C2(t,e){if(Xo("AsyncQueue",`${e}: ${t}`),Ph(t))return new Te(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{static emptySet(e){return new Qd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=sm(),this.sortedSet=new gn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(){this.ga=new gn(je.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):He(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class fh{constructor(e,n,r,i,s,a,l,u,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((l=>{a.push({type:0,doc:l})})),new fh(e,n,Qd.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&o1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jre{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Lre{constructor(){this.queries=Kj(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Xe(n),s=i.queries;i.queries=Kj(),s.forEach(((a,l)=>{for(const u of l.Sa)u.onError(r)}))})(this,new Te(le.ABORTED,"Firestore shutting down"))}}function Kj(){return new Df((t=>CU(t)),o1)}async function Vre(t,e){const n=Xe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new jre,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=C2(a,`Initialization of query '${Nd(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&O2(n)}async function Bre(t,e){const n=Xe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zre(t,e){const n=Xe(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Fa(i)&&(r=!0);a.wa=i}}r&&O2(n)}function Ure(t,e,n){const r=Xe(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function O2(t){t.Ca.forEach((e=>{e.next()}))}var $A,Wj;(Wj=$A||($A={})).Ma="default",Wj.Cache="cache";class Fre{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=fh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$A.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.key=e}}class cF{constructor(e){this.key=e}}class $re{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ct(),this.mutatedKeys=ct(),this.eu=OU(e),this.tu=new Qd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new qj,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,p)=>{const g=i.get(d),v=l1(this.query,p)?p:null,x=!!g&&this.mutatedKeys.has(g.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let T=!1;g&&v?g.data.isEqual(v.data)?x!==S&&(r.track({type:3,doc:v}),T=!0):this.su(g,v)||(r.track({type:2,doc:v}),T=!0,(u&&this.eu(v,u)>0||f&&this.eu(v,f)<0)&&(l=!0)):!g&&v?(r.track({type:0,doc:v}),T=!0):g&&!v&&(r.track({type:1,doc:g}),T=!0,(u||f)&&(l=!0)),T&&(v?(a=a.add(v),s=S?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:a,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((d,p)=>(function(v,x){const S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Rt:T})}};return S(v)-S(x)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,f=u!==this.Za;return this.Za=u,a.length!==0||f?{snapshot:new fh(this.query,e.tu,s,a,e.mutatedKeys,u===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qj,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ct(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new cF(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new lF(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ct();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return fh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const N2="SyncEngine";class Hre{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qre{constructor(e){this.key=e,this.hu=!1}}class Kre{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Df((l=>CU(l)),o1),this.Iu=new Map,this.Eu=new Set,this.du=new gn(je.comparator),this.Au=new Map,this.Ru=new b2,this.Vu={},this.mu=new Map,this.fu=uh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Wre(t,e,n=!0){const r=mF(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await uF(r,e,n,!0),i}async function Gre(t,e){const n=mF(t);await uF(n,e,!0,!1)}async function uF(t,e,n,r){const i=await fre(t.localStore,Ka(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await Yre(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&nF(t.remoteStore,i),l}async function Yre(t,e,n,r,i){t.pu=(p,g,v)=>(async function(S,T,_,C){let D=T.view.ru(_);D.Cs&&(D=await Bj(S.localStore,T.query,!1).then((({documents:N})=>T.view.ru(N,D))));const L=C&&C.targetChanges.get(T.targetId),R=C&&C.targetMismatches.get(T.targetId)!=null,B=T.view.applyChanges(D,S.isPrimaryClient,L,R);return Yj(S,T.targetId,B.au),B.snapshot})(t,p,g,v);const s=await Bj(t.localStore,e,!0),a=new $re(e,s.Qs),l=a.ru(s.documents),u=Bg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(l,t.isPrimaryClient,u);Yj(t,n,f.au);const d=new Hre(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function Xre(t,e,n){const r=Xe(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!o1(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await UA(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&T2(r.remoteStore,i.targetId),HA(r,i.targetId)})).catch(Ih)):(HA(r,i.targetId),await UA(r.localStore,i.targetId,!0))}async function Qre(t,e){const n=Xe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),T2(n.remoteStore,r.targetId))}async function Jre(t,e,n){const r=sie(t);try{const i=await(function(a,l){const u=Xe(a),f=nn.now(),d=l.reduce(((v,x)=>v.add(x.key)),ct());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let x=Qo(),S=ct();return u.Ns.getEntries(v,d).next((T=>{x=T,x.forEach(((_,C)=>{C.isValidDocument()||(S=S.add(_))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,x))).next((T=>{p=T;const _=[];for(const C of l){const D=une(C,p.get(C.key).overlayedDocument);D!=null&&_.push(new qc(C.key,D,xU(D.value.mapValue),ci.exists(!0)))}return u.mutationQueue.addMutationBatch(v,f,_,l)})).next((T=>{g=T;const _=T.applyToLocalDocumentSet(p,S);return u.documentOverlayCache.saveOverlays(v,T.batchId,_)}))})).then((()=>({batchId:g.batchId,changes:MU(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,l,u){let f=a.Vu[a.currentUser.toKey()];f||(f=new gn(lt)),f=f.insert(l,u),a.Vu[a.currentUser.toKey()]=f})(r,i.batchId,n),await Ug(r,i.changes),await m1(r.remoteStore)}catch(i){const s=C2(i,"Failed to persist write");n.reject(s)}}async function fF(t,e){const n=Xe(t);try{const r=await lre(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Au.get(s);a&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Et(a.hu,14607):i.removedDocuments.size>0&&(Et(a.hu,42227),a.hu=!1))})),await Ug(n,r,e)}catch(r){await Ih(r)}}function Gj(t,e,n){const r=Xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,a)=>{const l=a.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(a,l){const u=Xe(a);u.onlineState=l;let f=!1;u.queries.forEach(((d,p)=>{for(const g of p.Sa)g.va(l)&&(f=!0)})),f&&O2(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Zre(t,e,n){const r=Xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new gn(je.comparator);a=a.insert(s,qr.newNoDocument(s,Ge.min()));const l=ct().add(s),u=new d1(Ge.min(),new Map,new gn(lt),a,l);await fF(r,u),r.du=r.du.remove(s),r.Au.delete(e),M2(r)}else await UA(r.localStore,e,!1).then((()=>HA(r,e,n))).catch(Ih)}async function eie(t,e){const n=Xe(t),r=e.batch.batchId;try{const i=await ore(n.localStore,e);hF(n,r,null),dF(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ug(n,i)}catch(i){await Ih(i)}}async function tie(t,e,n){const r=Xe(t);try{const i=await(function(a,l){const u=Xe(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let d;return u.mutationQueue.lookupMutationBatch(f,l).next((p=>(Et(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(f,p)))).next((()=>u.mutationQueue.performConsistencyCheck(f))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(f,d,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d))).next((()=>u.localDocuments.getDocuments(f,d)))}))})(r.localStore,e);hF(r,e,n),dF(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ug(r,i)}catch(i){await Ih(i)}}function dF(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function hF(t,e,n){const r=Xe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function HA(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||pF(t,r)}))}function pF(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(T2(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),M2(t))}function Yj(t,e,n){for(const r of n)r instanceof lF?(t.Ru.addReference(r.key,e),nie(t,r)):r instanceof cF?(ke(N2,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||pF(t,r.key)):He(19791,{wu:r})}function nie(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ke(N2,"New document in limbo: "+n),t.Eu.add(r),M2(t))}function M2(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new je(Gt.fromString(e)),r=t.fu.next();t.Au.set(r,new qre(n)),t.du=t.du.insert(n,r),nF(t.remoteStore,new fc(Ka(p2(n.path)),r,"TargetPurposeLimboResolution",i1.ce))}}async function Ug(t,e,n){const r=Xe(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,u)=>{a.push(r.pu(u,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const d=f?!f.fromCache:n?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(f){i.push(f);const d=w2.As(u.targetId,f);s.push(d)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(u,f){const d=Xe(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>ue.forEach(f,(g=>ue.forEach(g.Es,(v=>d.persistence.referenceDelegate.addReference(p,g.targetId,v))).next((()=>ue.forEach(g.ds,(v=>d.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))))))}catch(p){if(!Ph(p))throw p;ke(S2,"Failed to update sequence numbers: "+p)}for(const p of f){const g=p.targetId;if(!p.fromCache){const v=d.Ms.get(g),x=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(x);d.Ms=d.Ms.insert(g,S)}}})(r.localStore,s))}async function rie(t,e){const n=Xe(t);if(!n.currentUser.isEqual(e)){ke(N2,"User change. New user:",e.toKey());const r=await JU(n.localStore,e);n.currentUser=e,(function(s,a){s.mu.forEach((l=>{l.forEach((u=>{u.reject(new Te(le.CANCELLED,a))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ug(n,r.Ls)}}function iie(t,e){const n=Xe(t),r=n.Au.get(e);if(r&&r.hu)return ct().add(r.key);{let i=ct();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const l=n.Tu.get(a);i=i.unionWith(l.view.nu)}return i}}function mF(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zre.bind(null,e),e.Pu.H_=zre.bind(null,e.eventManager),e.Pu.yu=Ure.bind(null,e.eventManager),e}function sie(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tie.bind(null,e),e}class vb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=h1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return are(this.persistence,new rre,e.initialUser,this.serializer)}Cu(e){return new QU(x2.mi,this.serializer)}Du(e){return new hre}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vb.provider={build:()=>new vb};class aie extends vb{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Et(this.persistence.referenceDelegate instanceof gb,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Fne(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_i.withCacheSize(this.cacheSizeBytes):_i.DEFAULT;return new QU((r=>gb.mi(r,n)),this.serializer)}}class qA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Gj(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rie.bind(null,this.syncEngine),await Rre(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Lre})()}createDatastore(e){const n=h1(e.databaseInfo.databaseId),r=(function(s){return new vre(s)})(e.databaseInfo);return(function(s,a,l,u){return new Sre(s,a,l,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,l){return new Ere(r,i,s,a,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>Gj(this.syncEngine,n,0)),(function(){return Fj.v()?new Fj:new pre})())}createSyncEngine(e,n){return(function(i,s,a,l,u,f,d){const p=new Kre(i,s,a,l,u,f);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Xe(n);ke(yf,"RemoteStore shutting down."),r.Ea.add(5),await zg(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qA.provider={build:()=>new qA};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oie{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="FirestoreClient";class lie{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hr.UNAUTHENTICATED,this.clientId=l2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{ke(Dc,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(ke(Dc,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=C2(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function $T(t,e){t.asyncQueue.verifyOperationInProgress(),ke(Dc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await JU(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Xj(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cie(t);ke(Dc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Hj(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>Hj(e.remoteStore,i))),t._onlineComponents=e}async function cie(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke(Dc,"Using user provided OfflineComponentProvider");try{await $T(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===le.FAILED_PRECONDITION||i.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ah("Error using user provided cache. Falling back to memory cache: "+n),await $T(t,new vb)}}else ke(Dc,"Using default OfflineComponentProvider"),await $T(t,new aie(void 0));return t._offlineComponents}async function gF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke(Dc,"Using user provided OnlineComponentProvider"),await Xj(t,t._uninitializedComponentsProvider._online)):(ke(Dc,"Using default OnlineComponentProvider"),await Xj(t,new qA))),t._onlineComponents}function uie(t){return gF(t).then((e=>e.syncEngine))}async function Qj(t){const e=await gF(t),n=e.eventManager;return n.onListen=Wre.bind(null,e.syncEngine),n.onUnlisten=Xre.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Gre.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Qre.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF="firestore.googleapis.com",Zj=!0;class e5{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vF,this.ssl=Zj}else this.host=e.host,this.ssl=e.ssl??Zj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zne)throw new Te(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tte("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yF(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Te(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Te(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Te(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class g1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e5(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new hte;switch(r.type){case"firstParty":return new yte(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Jj.get(n);r&&(ke("ComponentProvider","Removing Datastore"),Jj.delete(n),r.terminate())})(this),Promise.resolve()}}function fie(t,e,n,r={}){t=ga(t,g1);const i=Oh(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(hz(`https://${l}`),pz("Firestore",!0)),s.host!==vF&&s.host!==l&&ah("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:i,emulatorOptions:r};if(!df(u,a)&&(t._setSettings(u),r.mockUserToken)){let f,d;if(typeof r.mockUserToken=="string")f=r.mockUserToken,d=Hr.MOCK_USER;else{f=xQ(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Te(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Hr(p)}t._authCredentials=new pte(new lU(f,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pf(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}toJSON(){return{type:Pn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Lg(n,Pn._jsonSchema))return new Pn(e,r||null,new je(Gt.fromString(n.referencePath)))}}Pn._jsonSchemaVersion="firestore/documentReference/1.0",Pn._jsonSchema={type:Kn("string",Pn._jsonSchemaVersion),referencePath:Kn("string")};class xc extends Pf{constructor(e,n,r){super(e,n,p2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new je(e))}withConverter(e){return new xc(this.firestore,e,this._path)}}function HT(t,e,...n){if(t=Rn(t),cU("collection","path",e),t instanceof g1){const r=Gt.fromString(e,...n);return dj(r),new xc(t,null,r)}{if(!(t instanceof Pn||t instanceof xc))throw new Te(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return dj(r),new xc(t.firestore,null,r)}}function Io(t,e,...n){if(t=Rn(t),arguments.length===1&&(e=l2.newId()),cU("doc","path",e),t instanceof g1){const r=Gt.fromString(e,...n);return fj(r),new Pn(t,null,new je(r))}{if(!(t instanceof Pn||t instanceof xc))throw new Te(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return fj(r),new Pn(t.firestore,t instanceof xc?t.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="AsyncQueue";class n5{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eF(this,"async_queue_retry"),this._c=()=>{const r=FT();r&&ke(t5,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=FT();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=FT();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ph(e))throw e;ke(t5,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Xo("INTERNAL UNHANDLED ERROR: ",r5(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=k2.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&He(47125,{Pc:r5(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function r5(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Ic extends g1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new n5,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new n5(e),this._firestoreClient=void 0,await e}}}function die(t,e){const n=typeof t=="object"?t:vz(),r=typeof t=="string"?t:fb,i=JC(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=vQ("firestore");s&&fie(i,...s)}return i}function D2(t){if(t._terminated)throw new Te(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hie(t),t._firestoreClient}function hie(t){const e=t._freezeSettings(),n=(function(i,s,a,l){return new Pte(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,yF(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new lie(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bs(Br.fromBase64String(e))}catch(n){throw new Te(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bs(Br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lg(e,Bs._jsonSchema))return Bs.fromBase64String(e.bytes)}}Bs._jsonSchemaVersion="firestore/bytes/1.0",Bs._jsonSchema={type:Kn("string",Bs._jsonSchemaVersion),bytes:Kn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ga._jsonSchemaVersion}}static fromJSON(e){if(Lg(e,Ga._jsonSchema))return new Ga(e.latitude,e.longitude)}}Ga._jsonSchemaVersion="firestore/geoPoint/1.0",Ga._jsonSchema={type:Kn("string",Ga._jsonSchemaVersion),latitude:Kn("number"),longitude:Kn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ya._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lg(e,Ya._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ya(e.vectorValues);throw new Te(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ya._jsonSchemaVersion="firestore/vectorValue/1.0",Ya._jsonSchema={type:Kn("string",Ya._jsonSchemaVersion),vectorValues:Kn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pie=/^__.*__$/;class mie{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vg(e,this.data,n,this.fieldTransforms)}}class bF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{Ac:t})}}class I2{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new I2({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xF(this.Ac)&&pie.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gie{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||h1(e)}Cc(e,n,r,i=!1){return new I2({Ac:e,methodName:n,Dc:r,path:Rr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $g(t){const e=t._freezeSettings(),n=h1(t._databaseId);return new gie(t._databaseId,!!e.ignoreUndefinedProperties,n)}function P2(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);j2("Data must be an object, but it was:",a,r);const l=TF(r,a);let u,f;if(s.merge)u=new es(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const g=KA(e,p,n);if(!a.contains(g))throw new Te(le.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);_F(d,g)||d.push(g)}u=new es(d),f=a.fieldTransforms.filter((p=>u.covers(p.field)))}else u=null,f=a.fieldTransforms;return new mie(new ki(l),u,f)}class v1 extends y1{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof v1}}class R2 extends y1{_toFieldTransform(e){return new ane(e.path,new Xm)}isEqual(e){return e instanceof R2}}function wF(t,e,n,r){const i=t.Cc(1,e,n);j2("Data must be an object, but it was:",i,r);const s=[],a=ki.empty();Hc(r,((u,f)=>{const d=L2(e,u,n);f=Rn(f);const p=i.yc(d);if(f instanceof v1)s.push(d);else{const g=Hg(f,p);g!=null&&(s.push(d),a.set(d,g))}}));const l=new es(s);return new bF(a,l,i.fieldTransforms)}function SF(t,e,n,r,i,s){const a=t.Cc(1,e,n),l=[KA(e,r,n)],u=[i];if(s.length%2!=0)throw new Te(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(KA(e,s[g])),u.push(s[g+1]);const f=[],d=ki.empty();for(let g=l.length-1;g>=0;--g)if(!_F(f,l[g])){const v=l[g];let x=u[g];x=Rn(x);const S=a.yc(v);if(x instanceof v1)f.push(v);else{const T=Hg(x,S);T!=null&&(f.push(v),d.set(v,T))}}const p=new es(f);return new bF(d,p,a.fieldTransforms)}function yie(t,e,n,r=!1){return Hg(n,t.Cc(r?4:3,e))}function Hg(t,e){if(EF(t=Rn(t)))return j2("Unsupported field value:",e,t),TF(t,e);if(t instanceof y1)return(function(r,i){if(!xF(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const l of r){let u=Hg(l,i.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rne(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=nn.fromDate(r);return{timestampValue:mb(i.serializer,s)}}if(r instanceof nn){const s=new nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mb(i.serializer,s)}}if(r instanceof Ga)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bs)return{bytesValue:$U(i.serializer,r._byteString)};if(r instanceof Pn){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:v2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ya)return(function(a,l){return{mapValue:{fields:{[vU]:{stringValue:bU},[db]:{arrayValue:{values:a.toArray().map((f=>{if(typeof f!="number")throw l.Sc("VectorValues must only contain numeric values.");return m2(l.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${r1(r)}`)})(t,e)}function TF(t,e){const n={};return dU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hc(t,((r,i)=>{const s=Hg(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function EF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nn||t instanceof Ga||t instanceof Bs||t instanceof Pn||t instanceof y1||t instanceof Ya)}function j2(t,e,n){if(!EF(n)||!uU(n)){const r=r1(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function KA(t,e,n){if((e=Rn(e))instanceof Fg)return e._internalPath;if(typeof e=="string")return L2(t,e);throw bb("Field path arguments must be of type string or ",t,!1,void 0,n)}const vie=new RegExp("[~\\*/\\[\\]]");function L2(t,e,n){if(e.search(vie)>=0)throw bb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fg(...e.split("."))._internalPath}catch{throw bb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bb(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new Te(le.INVALID_ARGUMENT,l+t+u)}function _F(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(V2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bie extends AF{data(){return super.data()}}function V2(t,e){return typeof e=="string"?L2(t,e):e instanceof Fg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xie(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B2{}class kF extends B2{}function s5(t,e,...n){let r=[];e instanceof B2&&r.push(e),r=r.concat(n),(function(s){const a=s.filter((u=>u instanceof U2)).length,l=s.filter((u=>u instanceof z2)).length;if(a>1||a>0&&l>0)throw new Te(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class z2 extends kF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new z2(e,n,r)}_apply(e){const n=this._parse(e);return CF(e._query,n),new Pf(e.firestore,e.converter,RA(e._query,n))}_parse(e){const n=$g(e.firestore);return(function(s,a,l,u,f,d,p){let g;if(f.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Te(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){o5(p,d);const x=[];for(const S of p)x.push(a5(u,s,S));g={arrayValue:{values:x}}}else g=a5(u,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||o5(p,d),g=yie(l,a,p,d==="in"||d==="not-in");return qn.create(f,d,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class U2 extends B2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new U2(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:xa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let a=i;const l=s.getFlattenedFilters();for(const u of l)CF(a,u),a=RA(a,u)})(e._query,n),new Pf(e.firestore,e.converter,RA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class F2 extends kF{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new F2(e,n)}_apply(e){const n=(function(i,s,a){if(i.startAt!==null)throw new Te(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Te(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ym(s,a)})(e._query,this._field,this._direction);return new Pf(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new Rh(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function wie(t,e="asc"){const n=e,r=V2("orderBy",t);return F2._create(r,n)}function a5(t,e,n){if(typeof(n=Rn(n))=="string"){if(n==="")throw new Te(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kU(e)&&n.indexOf("/")!==-1)throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Gt.fromString(n));if(!je.isDocumentKey(r))throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xj(t,new je(r))}if(n instanceof Pn)return xj(t,n._key);throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${r1(n)}.`)}function o5(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CF(t,e){const n=(function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Te(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Sie{convertValue(e,n="none"){switch(Nc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return In(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hc(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[db].arrayValue?.values?.map((r=>In(r.doubleValue)));return new Ya(n)}convertGeoPoint(e){return new Ga(In(e.latitude),In(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=a1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Km(e));default:return null}}convertTimestamp(e){const n=Cc(e);return new nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Gt.fromString(e);Et(YU(r),9688,{name:e});const i=new Wm(r.get(1),r.get(3)),s=new je(r.popFirst(5));return i.isEqual(n)||Xo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class om{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ju extends AF{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(V2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ju._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ju._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ju._jsonSchema={type:Kn("string",Ju._jsonSchemaVersion),bundleSource:Kn("string","DocumentSnapshot"),bundleName:Kn("string"),bundle:Kn("string")};class jv extends Ju{data(e={}){return super.data(e)}}class Jd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new om(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new jv(this._firestore,this._userDataWriter,r.key,r,new om(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((l=>{const u=new jv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new om(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const u=new jv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new om(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,d=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:Tie(l.type),doc:u,oldIndex:f,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=l2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Tie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}Jd._jsonSchemaVersion="firestore/querySnapshot/1.0",Jd._jsonSchema={type:Kn("string",Jd._jsonSchemaVersion),bundleSource:Kn("string","QuerySnapshot"),bundleName:Kn("string"),bundle:Kn("string")};class OF extends Sie{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function l5(t,e,n){t=ga(t,Pn);const r=ga(t.firestore,Ic),i=$2(t.converter,e,n);return qg(r,[P2($g(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ci.none())])}function Eie(t,e,n,...r){t=ga(t,Pn);const i=ga(t.firestore,Ic),s=$g(i);let a;return a=typeof(e=Rn(e))=="string"||e instanceof Fg?SF(s,"updateDoc",t._key,e,n,r):wF(s,"updateDoc",t._key,e),qg(i,[a.toMutation(t._key,ci.exists(!0))])}function c5(t){return qg(ga(t.firestore,Ic),[new f1(t._key,ci.none())])}function _ie(t,e){const n=ga(t.firestore,Ic),r=Io(t),i=$2(t.converter,e);return qg(n,[P2($g(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ci.exists(!1))]).then((()=>r))}function qT(t,...e){t=Rn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||i5(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(i5(e[r])){const u=e[r];e[r]=u.next?.bind(u),e[r+1]=u.error?.bind(u),e[r+2]=u.complete?.bind(u)}let s,a,l;if(t instanceof Pn)a=ga(t.firestore,Ic),l=p2(t._key.path),s={next:u=>{e[r]&&e[r](Aie(a,t,u))},error:e[r+1],complete:e[r+2]};else{const u=ga(t,Pf);a=ga(u.firestore,Ic),l=u._query;const f=new OF(a);s={next:d=>{e[r]&&e[r](new Jd(a,f,u,d))},error:e[r+1],complete:e[r+2]},xie(t._query)}return(function(f,d,p,g){const v=new oie(g),x=new Fre(d,v,p);return f.asyncQueue.enqueueAndForget((async()=>Vre(await Qj(f),x))),()=>{v.Nu(),f.asyncQueue.enqueueAndForget((async()=>Bre(await Qj(f),x)))}})(D2(a),l,i,s)}function qg(t,e){return(function(r,i){const s=new Qu;return r.asyncQueue.enqueueAndForget((async()=>Jre(await uie(r),i,s))),s.promise})(D2(t),e)}function Aie(t,e,n){const r=n.docs.get(e._key),i=new OF(t);return new Ju(t,i,e._key,r,new om(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kie{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=$g(e)}set(e,n,r){this._verifyNotCommitted();const i=KT(e,this._firestore),s=$2(i.converter,n,r),a=P2(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,ci.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=KT(e,this._firestore);let a;return a=typeof(n=Rn(n))=="string"||n instanceof Fg?SF(this._dataReader,"WriteBatch.update",s._key,n,r,i):wF(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,ci.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=KT(e,this._firestore);return this._mutations=this._mutations.concat(new f1(n._key,ci.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function KT(t,e){if((t=Rn(t)).firestore!==e)throw new Te(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function zu(){return new R2("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cie(t){return D2(t=ga(t,Ic)),new kie(t,(e=>qg(t,e)))}(function(e,n=!0){(function(i){Dh=i})(Nh),sh(new hf("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new Ic(new mte(r.getProvider("auth-internal")),new vte(a,r.getProvider("app-check-internal")),(function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Te(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wm(f.options.projectId,d)})(a,i),a);return s={useFetchStreams:n,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),vc(oj,lj,e),vc(oj,lj,"esm2020")})();const H2=A.createContext({});function Kg(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const q2=typeof window<"u",K2=q2?A.useLayoutEffect:A.useEffect,b1=A.createContext(null);function W2(t,e){t.indexOf(e)===-1&&t.push(e)}function x1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Jo=(t,e,n)=>n>e?e:n<t?t:n;let G2=()=>{};const Zo={},NF=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function MF(t){return typeof t=="object"&&t!==null}const DF=t=>/^0[^.\s]+$/u.test(t);function Y2(t){let e;return()=>(e===void 0&&(e=t()),e)}const $s=t=>t,Oie=(t,e)=>n=>e(t(n)),Wg=(...t)=>t.reduce(Oie),dh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class X2{constructor(){this.subscriptions=[]}add(e){return W2(this.subscriptions,e),()=>x1(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ya=t=>t*1e3,Us=t=>t/1e3;function IF(t,e){return e?t*(1e3/e):0}const Nie=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t},PF=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Mie=1e-7,Die=12;function Iie(t,e,n,r,i){let s,a,l=0;do a=e+(n-e)/2,s=PF(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>Mie&&++l<Die);return a}function Gg(t,e,n,r){if(t===e&&n===r)return $s;const i=s=>Iie(s,0,1,t,n);return s=>s===0||s===1?s:PF(i(s),e,r)}const RF=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,jF=t=>e=>1-t(1-e),LF=Gg(.33,1.53,.69,.99),Q2=jF(LF),VF=RF(Q2),BF=t=>(t*=2)<1?.5*Q2(t):.5*(2-Math.pow(2,-10*(t-1))),J2=t=>1-Math.sin(Math.acos(t)),zF=jF(J2),UF=RF(J2),Pie=Gg(.42,0,1,1),Rie=Gg(0,0,.58,1),FF=Gg(.42,0,.58,1),$F=t=>Array.isArray(t)&&typeof t[0]!="number";function HF(t,e){return $F(t)?t[Nie(0,t.length,e)]:t}const qF=t=>Array.isArray(t)&&typeof t[0]=="number",jie={linear:$s,easeIn:Pie,easeInOut:FF,easeOut:Rie,circIn:J2,circInOut:UF,circOut:zF,backIn:Q2,backInOut:VF,backOut:LF,anticipate:BF},Lie=t=>typeof t=="string",u5=t=>{if(qF(t)){G2(t.length===4);const[e,n,r,i]=t;return Gg(e,n,r,i)}else if(Lie(t))return jie[t];return t},W0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Vie(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(d){a.has(d)&&(f.schedule(d),t()),d(l)}const f={schedule:(d,p=!1,g=!1)=>{const x=g&&i?n:r;return p&&a.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(l=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,s&&(s=!1,f.process(d))}};return f}const Bie=40;function KF(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=W0.reduce((D,L)=>(D[L]=Vie(s),D),{}),{setup:l,read:u,resolveKeyframes:f,preUpdate:d,update:p,preRender:g,render:v,postRender:x}=a,S=()=>{const D=Zo.useManualTiming?i.timestamp:performance.now();n=!1,Zo.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(D-i.timestamp,Bie),1)),i.timestamp=D,i.isProcessing=!0,l.process(i),u.process(i),f.process(i),d.process(i),p.process(i),g.process(i),v.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},T=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:W0.reduce((D,L)=>{const R=a[L];return D[L]=(B,N=!1,M=!1)=>(n||T(),R.schedule(B,N,M)),D},{}),cancel:D=>{for(let L=0;L<W0.length;L++)a[W0[L]].cancel(D)},state:i,steps:a}}const{schedule:rn,cancel:el,state:Nr,steps:WT}=KF(typeof requestAnimationFrame<"u"?requestAnimationFrame:$s,!0);let Lv;function zie(){Lv=void 0}const Ci={now:()=>(Lv===void 0&&Ci.set(Nr.isProcessing||Zo.useManualTiming?Nr.timestamp:performance.now()),Lv),set:t=>{Lv=t,queueMicrotask(zie)}},WF=t=>e=>typeof e=="string"&&e.startsWith(t),Z2=WF("--"),Uie=WF("var(--"),eO=t=>Uie(t)?Fie.test(t.split("/*")[0].trim()):!1,Fie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Lh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zm={...Lh,transform:t=>Jo(0,1,t)},G0={...Lh,default:1},Tm=t=>Math.round(t*1e5)/1e5,tO=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $ie(t){return t==null}const Hie=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nO=(t,e)=>n=>!!(typeof n=="string"&&Hie.test(n)&&n.startsWith(t)||e&&!$ie(n)&&Object.prototype.hasOwnProperty.call(n,e)),GF=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,l]=r.match(tO);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},qie=t=>Jo(0,255,t),GT={...Lh,transform:t=>Math.round(qie(t))},Uu={test:nO("rgb","red"),parse:GF("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+GT.transform(t)+", "+GT.transform(e)+", "+GT.transform(n)+", "+Tm(Zm.transform(r))+")"};function Kie(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const WA={test:nO("#"),parse:Kie,transform:Uu.transform},Yg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ql=Yg("deg"),Xa=Yg("%"),qe=Yg("px"),Wie=Yg("vh"),Gie=Yg("vw"),f5={...Xa,parse:t=>Xa.parse(t)/100,transform:t=>Xa.transform(t*100)},Vd={test:nO("hsl","hue"),parse:GF("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Xa.transform(Tm(e))+", "+Xa.transform(Tm(n))+", "+Tm(Zm.transform(r))+")"},$n={test:t=>Uu.test(t)||WA.test(t)||Vd.test(t),parse:t=>Uu.test(t)?Uu.parse(t):Vd.test(t)?Vd.parse(t):WA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Uu.transform(t):Vd.transform(t),getAnimatableNone:t=>{const e=$n.parse(t);return e.alpha=0,$n.transform(e)}},Yie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Xie(t){return isNaN(t)&&typeof t=="string"&&(t.match(tO)?.length||0)+(t.match(Yie)?.length||0)>0}const YF="number",XF="color",Qie="var",Jie="var(",d5="${}",Zie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eg(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(Zie,u=>($n.test(u)?(r.color.push(s),i.push(XF),n.push($n.parse(u))):u.startsWith(Jie)?(r.var.push(s),i.push(Qie),n.push(u)):(r.number.push(s),i.push(YF),n.push(parseFloat(u))),++s,d5)).split(d5);return{values:n,split:l,indexes:r,types:i}}function QF(t){return eg(t).values}function JF(t){const{split:e,types:n}=eg(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const l=n[a];l===YF?s+=Tm(i[a]):l===XF?s+=$n.transform(i[a]):s+=i[a]}return s}}const ese=t=>typeof t=="number"?0:$n.test(t)?$n.getAnimatableNone(t):t;function tse(t){const e=QF(t);return JF(t)(e.map(ese))}const Pc={test:Xie,parse:QF,createTransformer:JF,getAnimatableNone:tse};function YT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function nse({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;i=YT(u,l,t+1/3),s=YT(u,l,t),a=YT(u,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function xb(t,e){return n=>n>0?e:t}const fn=(t,e,n)=>t+(e-t)*n,XT=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},rse=[WA,Uu,Vd],ise=t=>rse.find(e=>e.test(t));function h5(t){const e=ise(t);if(!e)return!1;let n=e.parse(t);return e===Vd&&(n=nse(n)),n}const p5=(t,e)=>{const n=h5(t),r=h5(e);if(!n||!r)return xb(t,e);const i={...n};return s=>(i.red=XT(n.red,r.red,s),i.green=XT(n.green,r.green,s),i.blue=XT(n.blue,r.blue,s),i.alpha=fn(n.alpha,r.alpha,s),Uu.transform(i))},GA=new Set(["none","hidden"]);function sse(t,e){return GA.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function ase(t,e){return n=>fn(t,e,n)}function rO(t){return typeof t=="number"?ase:typeof t=="string"?eO(t)?xb:$n.test(t)?p5:cse:Array.isArray(t)?ZF:typeof t=="object"?$n.test(t)?p5:ose:xb}function ZF(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>rO(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function ose(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=rO(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function lse(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],l=t.values[a]??0;n[i]=l,r[s]++}return n}const cse=(t,e)=>{const n=Pc.createTransformer(e),r=eg(t),i=eg(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?GA.has(t)&&!i.values.length||GA.has(e)&&!r.values.length?sse(t,e):Wg(ZF(lse(r,i),i.values),n):xb(t,e)};function e9(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?fn(t,e,n):rO(t)(t,e)}const use=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>rn.update(e,n),stop:()=>el(e),now:()=>Nr.isProcessing?Nr.timestamp:Ci.now()}},t9=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},wb=2e4;function iO(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<wb;)e+=n,r=t.next(e);return e>=wb?1/0:e}function n9(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(iO(r),wb);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Us(i)}}const fse=5;function r9(t,e,n){const r=Math.max(e-fse,0);return IF(n-t(r),e-r)}const _n={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},QT=.001;function dse({duration:t=_n.duration,bounce:e=_n.bounce,velocity:n=_n.velocity,mass:r=_n.mass}){let i,s,a=1-e;a=Jo(_n.minDamping,_n.maxDamping,a),t=Jo(_n.minDuration,_n.maxDuration,Us(t)),a<1?(i=f=>{const d=f*a,p=d*t,g=d-n,v=YA(f,a),x=Math.exp(-p);return QT-g/v*x},s=f=>{const p=f*a*t,g=p*n+n,v=Math.pow(a,2)*Math.pow(f,2)*t,x=Math.exp(-p),S=YA(Math.pow(f,2),a);return(-i(f)+QT>0?-1:1)*((g-v)*x)/S}):(i=f=>{const d=Math.exp(-f*t),p=(f-n)*t+1;return-QT+d*p},s=f=>{const d=Math.exp(-f*t),p=(n-f)*(t*t);return d*p});const l=5/t,u=pse(i,s,l);if(t=ya(t),isNaN(u))return{stiffness:_n.stiffness,damping:_n.damping,duration:t};{const f=Math.pow(u,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const hse=12;function pse(t,e,n){let r=n;for(let i=1;i<hse;i++)r=r-t(r)/e(r);return r}function YA(t,e){return t*Math.sqrt(1-e*e)}const mse=["duration","bounce"],gse=["stiffness","damping","mass"];function m5(t,e){return e.some(n=>t[n]!==void 0)}function yse(t){let e={velocity:_n.velocity,stiffness:_n.stiffness,damping:_n.damping,mass:_n.mass,isResolvedFromDuration:!1,...t};if(!m5(t,gse)&&m5(t,mse))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Jo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:_n.mass,stiffness:i,damping:s}}else{const n=dse(t);e={...e,...n,mass:_n.mass},e.isResolvedFromDuration=!0}return e}function tg(t=_n.visualDuration,e=_n.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:u,damping:f,mass:d,duration:p,velocity:g,isResolvedFromDuration:v}=yse({...n,velocity:-Us(n.velocity||0)}),x=g||0,S=f/(2*Math.sqrt(u*d)),T=a-s,_=Us(Math.sqrt(u/d)),C=Math.abs(T)<5;r||(r=C?_n.restSpeed.granular:_n.restSpeed.default),i||(i=C?_n.restDelta.granular:_n.restDelta.default);let D;if(S<1){const R=YA(_,S);D=B=>{const N=Math.exp(-S*_*B);return a-N*((x+S*_*T)/R*Math.sin(R*B)+T*Math.cos(R*B))}}else if(S===1)D=R=>a-Math.exp(-_*R)*(T+(x+_*T)*R);else{const R=_*Math.sqrt(S*S-1);D=B=>{const N=Math.exp(-S*_*B),M=Math.min(R*B,300);return a-N*((x+S*_*T)*Math.sinh(M)+R*T*Math.cosh(M))/R}}const L={calculatedDuration:v&&p||null,next:R=>{const B=D(R);if(v)l.done=R>=p;else{let N=R===0?x:0;S<1&&(N=R===0?ya(x):r9(D,R,B));const M=Math.abs(N)<=r,P=Math.abs(a-B)<=i;l.done=M&&P}return l.value=l.done?a:B,l},toString:()=>{const R=Math.min(iO(L),wb),B=t9(N=>L.next(R*N).value,R,30);return R+"ms "+B},toTransition:()=>{}};return L}tg.applyToOptions=t=>{const e=n9(t,100,tg);return t.ease=e.ease,t.duration=ya(e.duration),t.type="keyframes",t};function XA({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:u,restDelta:f=.5,restSpeed:d}){const p=t[0],g={done:!1,value:p},v=M=>l!==void 0&&M<l||u!==void 0&&M>u,x=M=>l===void 0?u:u===void 0||Math.abs(l-M)<Math.abs(u-M)?l:u;let S=n*e;const T=p+S,_=a===void 0?T:a(T);_!==T&&(S=_-p);const C=M=>-S*Math.exp(-M/r),D=M=>_+C(M),L=M=>{const P=C(M),F=D(M);g.done=Math.abs(P)<=f,g.value=g.done?_:F};let R,B;const N=M=>{v(g.value)&&(R=M,B=tg({keyframes:[g.value,x(g.value)],velocity:r9(D,M,g.value),damping:i,stiffness:s,restDelta:f,restSpeed:d}))};return N(0),{calculatedDuration:null,next:M=>{let P=!1;return!B&&R===void 0&&(P=!0,L(M),N(M)),R!==void 0&&M>=R?B.next(M-R):(!P&&L(M),g)}}}function vse(t,e,n){const r=[],i=n||Zo.mix||e9,s=t.length-1;for(let a=0;a<s;a++){let l=i(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||$s:e;l=Wg(u,l)}r.push(l)}return r}function i9(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(G2(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=vse(e,r,i),u=l.length,f=d=>{if(a&&d<t[0])return e[0];let p=0;if(u>1)for(;p<t.length-2&&!(d<t[p+1]);p++);const g=dh(t[p],t[p+1],d);return l[p](g)};return n?d=>f(Jo(t[0],t[s-1],d)):f}function s9(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=dh(0,e,r);t.push(fn(n,1,i))}}function a9(t){const e=[0];return s9(e,t.length-1),e}function bse(t,e){return t.map(n=>n*e)}function xse(t,e){return t.map(()=>e||FF).splice(0,t.length-1)}function Em({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=$F(r)?r.map(u5):u5(r),s={done:!1,value:e[0]},a=bse(n&&n.length===e.length?n:a9(e),t),l=i9(a,e,{ease:Array.isArray(i)?i:xse(e,i)});return{calculatedDuration:t,next:u=>(s.value=l(u),s.done=u>=t,s)}}const wse=t=>t!==null;function sO(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(wse),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const Sse={decay:XA,inertia:XA,tween:Em,keyframes:Em,spring:tg};function o9(t){typeof t.type=="string"&&(t.type=Sse[t.type])}class aO{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Tse=t=>t/100;class oO extends aO{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ci.now()&&this.tick(Ci.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;o9(e);const{type:n=Em,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:l}=e;const u=n||Em;u!==Em&&typeof l[0]!="number"&&(this.mixKeyframes=Wg(Tse,e9(l[0],l[1])),l=[0,100]);const f=u({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...l].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=iO(f));const{calculatedDuration:d}=f;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:d,repeat:p,repeatType:g,repeatDelay:v,type:x,onUpdate:S,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-f*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let D=this.currentTime,L=r;if(p){const M=Math.min(this.currentTime,i)/l;let P=Math.floor(M),F=M%1;!F&&M>=1&&(F=1),F===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(g==="reverse"?(F=1-F,v&&(F-=v/l)):g==="mirror"&&(L=a)),D=Jo(0,1,F)*l}const R=C?{done:!1,value:d[0]}:L.next(D);s&&(R.value=s(R.value));let{done:B}=R;!C&&u!==null&&(B=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return N&&x!==XA&&(R.value=sO(d,this.options,T,this.speed)),S&&S(R.value),N&&this.finish(),R}then(e,n){return this.finished.then(e,n)}get duration(){return Us(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Us(e)}get time(){return Us(this.currentTime)}set time(e){e=ya(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ci.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Us(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=use,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ci.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Ese(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Fu=t=>t*180/Math.PI,QA=t=>{const e=Fu(Math.atan2(t[1],t[0]));return JA(e)},_se={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:QA,rotateZ:QA,skewX:t=>Fu(Math.atan(t[1])),skewY:t=>Fu(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},JA=t=>(t=t%360,t<0&&(t+=360),t),g5=QA,y5=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),v5=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Ase={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:y5,scaleY:v5,scale:t=>(y5(t)+v5(t))/2,rotateX:t=>JA(Fu(Math.atan2(t[6],t[5]))),rotateY:t=>JA(Fu(Math.atan2(-t[2],t[0]))),rotateZ:g5,rotate:g5,skewX:t=>Fu(Math.atan(t[4])),skewY:t=>Fu(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ZA(t){return t.includes("scale")?1:0}function ek(t,e){if(!t||t==="none")return ZA(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Ase,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=_se,i=l}if(!i)return ZA(e);const s=r[e],a=i[1].split(",").map(Cse);return typeof s=="function"?s(a):a[s]}const kse=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ek(n,e)};function Cse(t){return parseFloat(t.trim())}const Vh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bh=new Set(Vh),b5=t=>t===Lh||t===qe,Ose=new Set(["x","y","z"]),Nse=Vh.filter(t=>!Ose.has(t));function Mse(t){const e=[];return Nse.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Zu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ek(e,"x"),y:(t,{transform:e})=>ek(e,"y")};Zu.translateX=Zu.x;Zu.translateY=Zu.y;const ef=new Set;let tk=!1,nk=!1,rk=!1;function l9(){if(nk){const t=Array.from(ef).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Mse(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}nk=!1,tk=!1,ef.forEach(t=>t.complete(rk)),ef.clear()}function c9(){ef.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(nk=!0)})}function Dse(){rk=!0,c9(),l9(),rk=!1}class lO{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(ef.add(this),tk||(tk=!0,rn.read(c9),rn.resolveKeyframes(l9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}Ese(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ef.delete(this)}cancel(){this.state==="scheduled"&&(ef.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Ise=t=>t.startsWith("--");function Pse(t,e,n){Ise(e)?t.style.setProperty(e,n):t.style[e]=n}const Rse=Y2(()=>window.ScrollTimeline!==void 0),jse={};function Lse(t,e){const n=Y2(t);return()=>jse[e]??n()}const u9=Lse(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,x5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lm([0,.65,.55,1]),circOut:lm([.55,0,1,.45]),backIn:lm([.31,.01,.66,-.59]),backOut:lm([.33,1.53,.69,.99])};function f9(t,e){if(t)return typeof t=="function"?u9()?t9(t,e):"ease-out":qF(t)?lm(t):Array.isArray(t)?t.map(n=>f9(n,e)||x5.easeOut):x5[t]}function Vse(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:u}={},f=void 0){const d={[e]:n};u&&(d.offset=u);const p=f9(l,i);Array.isArray(p)&&(d.easing=p);const g={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),t.animate(d,g)}function cO(t){return typeof t=="function"&&"applyToOptions"in t}function Bse({type:t,...e}){return cO(t)&&u9()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class zse extends aO{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,G2(typeof e.type!="string");const f=Bse(e);this.animation=Vse(n,r,i,f,s),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=sO(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):Pse(n,r,d),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Us(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Us(e)}get time(){return Us(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ya(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Rse()?(this.animation.timeline=e,$s):n(this)}}const d9={anticipate:BF,backInOut:VF,circInOut:UF};function Use(t){return t in d9}function Fse(t){typeof t.ease=="string"&&Use(t.ease)&&(t.ease=d9[t.ease])}const w5=10;class $se extends zse{constructor(e){Fse(e),o9(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new oO({...a,autoplay:!1}),u=ya(this.finishedTime??this.time);n.setWithVelocity(l.sample(u-w5).value,l.sample(u).value,w5),l.stop()}}const S5=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Pc.test(t)||t==="0")&&!t.startsWith("url("));function Hse(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function qse(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=S5(i,e),l=S5(s,e);return!a||!l?!1:Hse(t)||(n==="spring"||cO(n))&&r}function ik(t){t.duration=0,t.type="keyframes"}const Kse=new Set(["opacity","clipPath","filter","transform"]),Wse=Y2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Gse(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=e.owner.getProps();return Wse()&&n&&Kse.has(n)&&(n!=="transform"||!f)&&!u&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const Yse=40;class Xse extends aO{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:u,motionValue:f,element:d,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ci.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:u,motionValue:f,element:d,...p},v=d?.KeyframeResolver||lO;this.keyframeResolver=new v(l,(x,S,T)=>this.onKeyframesResolved(x,S,g,!T),u,f,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:u,isHandoff:f,onUpdate:d}=r;this.resolvedAt=Ci.now(),qse(e,s,a,l)||((Zo.instantAnimations||!u)&&d?.(sO(e,r,n)),e[0]=e[e.length-1],ik(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Yse?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!f&&Gse(g)?new $se({...g,element:g.motionValue.owner.current}):new oO(g);v.finished.then(()=>this.notifyFinished()).catch($s),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Dse()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}class Qse{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>r.attachTimeline(e));return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return T5(this.animations,"duration")}get iterationDuration(){return T5(this.animations,"iterationDuration")}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function T5(t,e){let n=0;for(let r=0;r<t.length;r++){const i=t[r][e];i!==null&&i>n&&(n=i)}return n}class Jse extends Qse{then(e,n){return this.finished.finally(e).then(()=>{})}}const Zse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function eae(t){const e=Zse.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function h9(t,e,n=1){const[r,i]=eae(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return NF(a)?parseFloat(a):a}return eO(i)?h9(i,e,n+1):i}function uO(t,e){return t?.[e]??t?.default??t}const p9=new Set(["width","height","top","left","right","bottom",...Vh]),tae={test:t=>t==="auto",parse:t=>t},m9=t=>e=>e.test(t),g9=[Lh,qe,Xa,Ql,Gie,Wie,tae],E5=t=>g9.find(m9(t));function nae(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||DF(t):!0}const rae=new Set(["brightness","contrast","saturate","opacity"]);function iae(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(tO)||[];if(!r)return t;const i=n.replace(r,"");let s=rae.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const sae=/\b([a-z-]*)\(.*?\)/gu,sk={...Pc,getAnimatableNone:t=>{const e=t.match(sae);return e?e.map(iae).join(" "):t}},_5={...Lh,transform:Math.round},aae={rotate:Ql,rotateX:Ql,rotateY:Ql,rotateZ:Ql,scale:G0,scaleX:G0,scaleY:G0,scaleZ:G0,skew:Ql,skewX:Ql,skewY:Ql,distance:qe,translateX:qe,translateY:qe,translateZ:qe,x:qe,y:qe,z:qe,perspective:qe,transformPerspective:qe,opacity:Zm,originX:f5,originY:f5,originZ:qe},fO={borderWidth:qe,borderTopWidth:qe,borderRightWidth:qe,borderBottomWidth:qe,borderLeftWidth:qe,borderRadius:qe,radius:qe,borderTopLeftRadius:qe,borderTopRightRadius:qe,borderBottomRightRadius:qe,borderBottomLeftRadius:qe,width:qe,maxWidth:qe,height:qe,maxHeight:qe,top:qe,right:qe,bottom:qe,left:qe,padding:qe,paddingTop:qe,paddingRight:qe,paddingBottom:qe,paddingLeft:qe,margin:qe,marginTop:qe,marginRight:qe,marginBottom:qe,marginLeft:qe,backgroundPositionX:qe,backgroundPositionY:qe,...aae,zIndex:_5,fillOpacity:Zm,strokeOpacity:Zm,numOctaves:_5},oae={...fO,color:$n,backgroundColor:$n,outlineColor:$n,fill:$n,stroke:$n,borderColor:$n,borderTopColor:$n,borderRightColor:$n,borderBottomColor:$n,borderLeftColor:$n,filter:sk,WebkitFilter:sk},y9=t=>oae[t];function v9(t,e){let n=y9(t);return n!==sk&&(n=Pc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const lae=new Set(["auto","none","0"]);function cae(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!lae.has(s)&&eg(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=v9(n,i)}class uae extends lO{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let f=e[u];if(typeof f=="string"&&(f=f.trim(),eO(f))){const d=h9(f,n.current);d!==void 0&&(e[u]=d),u===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!p9.has(r)||e.length!==2)return;const[i,s]=e,a=E5(i),l=E5(s);if(a!==l)if(b5(a)&&b5(l))for(let u=0;u<e.length;u++){const f=e[u];typeof f=="string"&&(e[u]=parseFloat(f))}else Zu[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||nae(e[i]))&&r.push(i);r.length&&cae(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Zu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function b9(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const x9=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function w9(t){return MF(t)&&"offsetHeight"in t}const A5=30,fae=t=>!isNaN(parseFloat(t)),_m={current:void 0};class dae{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Ci.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ci.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fae(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new X2);const r=this.events[e].add(n);return e==="change"?()=>{r(),rn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return _m.current&&_m.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ci.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>A5)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,A5);return IF(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vf(t,e){return new dae(t,e)}const{schedule:dO}=KF(queueMicrotask,!1),ua={x:!1,y:!1};function S9(){return ua.x||ua.y}function hae(t){return t==="x"||t==="y"?ua[t]?null:(ua[t]=!0,()=>{ua[t]=!1}):ua.x||ua.y?null:(ua.x=ua.y=!0,()=>{ua.x=ua.y=!1})}function T9(t,e){const n=b9(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function k5(t){return!(t.pointerType==="touch"||S9())}function pae(t,e,n={}){const[r,i,s]=T9(t,n),a=l=>{if(!k5(l))return;const{target:u}=l,f=e(u,l);if(typeof f!="function"||!u)return;const d=p=>{k5(p)&&(f(p),u.removeEventListener("pointerleave",d))};u.addEventListener("pointerleave",d,i)};return r.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const E9=(t,e)=>e?t===e?!0:E9(t,e.parentElement):!1,hO=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,mae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gae(t){return mae.has(t.tagName)||t.tabIndex!==-1}const Vv=new WeakSet;function C5(t){return e=>{e.key==="Enter"&&t(e)}}function JT(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const yae=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=C5(()=>{if(Vv.has(n))return;JT(n,"down");const i=C5(()=>{JT(n,"up")}),s=()=>JT(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function O5(t){return hO(t)&&!S9()}function vae(t,e,n={}){const[r,i,s]=T9(t,n),a=l=>{const u=l.currentTarget;if(!O5(l))return;Vv.add(u);const f=e(u,l),d=(v,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),Vv.has(u)&&Vv.delete(u),O5(v)&&typeof f=="function"&&f(v,{success:x})},p=v=>{d(v,u===window||u===document||n.useGlobalTarget||E9(u,v.target))},g=v=>{d(v,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),w9(l)&&(l.addEventListener("focus",f=>yae(f,i)),!gae(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function pO(t){return MF(t)&&"ownerSVGElement"in t}function _9(t){return pO(t)&&t.tagName==="svg"}function bae(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],s=t[2+n],a=t[3+n],l=i9(i,s,a);return e?l(r):l}const fr=t=>!!(t&&t.getVelocity),xae=[...g9,$n,Pc],wae=t=>xae.find(m9(t)),w1=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function N5(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Sae(...t){return e=>{let n=!1;const r=t.map(i=>{const s=N5(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():N5(t[i],null)}}}}function Tae(...t){return A.useCallback(Sae(...t),t)}class Eae extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=w9(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _ae({children:t,isPresent:e,anchorX:n,root:r}){const i=A.useId(),s=A.useRef(null),a=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=A.useContext(w1),u=Tae(s,t?.ref);return A.useInsertionEffect(()=>{const{width:f,height:d,top:p,left:g,right:v}=a.current;if(e||!s.current||!f||!d)return;const x=n==="left"?`left: ${g}`:`right: ${v}`;s.current.dataset.motionPopId=i;const S=document.createElement("style");l&&(S.nonce=l);const T=r??document.head;return T.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${p}px !important;
          }
        `),()=>{T.contains(S)&&T.removeChild(S)}},[e]),y.jsx(Eae,{isPresent:e,childRef:s,sizeRef:a,children:A.cloneElement(t,{ref:u})})}const Aae=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:l,root:u})=>{const f=Kg(kae),d=A.useId();let p=!0,g=A.useMemo(()=>(p=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:v=>{f.set(v,!0);for(const x of f.values())if(!x)return;r&&r()},register:v=>(f.set(v,!1),()=>f.delete(v))}),[n,f,r]);return s&&p&&(g={...g}),A.useMemo(()=>{f.forEach((v,x)=>f.set(x,!1))},[n]),A.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),a==="popLayout"&&(t=y.jsx(_ae,{isPresent:n,anchorX:l,root:u,children:t})),y.jsx(b1.Provider,{value:g,children:t})};function kae(){return new Map}function A9(t=!0){const e=A.useContext(b1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=A.useId();A.useEffect(()=>{if(t)return i(s)},[t]);const a=A.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const Y0=t=>t.key||"";function M5(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const Ht=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:l="left",root:u})=>{const[f,d]=A9(a),p=A.useMemo(()=>M5(t),[t]),g=a&&!f?[]:p.map(Y0),v=A.useRef(!0),x=A.useRef(p),S=Kg(()=>new Map),[T,_]=A.useState(p),[C,D]=A.useState(p);K2(()=>{v.current=!1,x.current=p;for(let B=0;B<C.length;B++){const N=Y0(C[B]);g.includes(N)?S.delete(N):S.get(N)!==!0&&S.set(N,!1)}},[C,g.length,g.join("-")]);const L=[];if(p!==T){let B=[...p];for(let N=0;N<C.length;N++){const M=C[N],P=Y0(M);g.includes(P)||(B.splice(N,0,M),L.push(M))}return s==="wait"&&L.length&&(B=L),D(M5(B)),_(p),null}const{forceRender:R}=A.useContext(H2);return y.jsx(y.Fragment,{children:C.map(B=>{const N=Y0(B),M=a&&!f?!1:p===C||g.includes(N),P=()=>{if(S.has(N))S.set(N,!0);else return;let F=!0;S.forEach(V=>{V||(F=!1)}),F&&(R?.(),D(x.current),a&&d?.(),r&&r())};return y.jsx(Aae,{isPresent:M,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:u,onExitComplete:M?void 0:P,anchorX:l,children:B},N)})})},k9=A.createContext({strict:!1}),D5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hh={};for(const t in D5)hh[t]={isEnabled:e=>D5[t].some(n=>!!e[n])};function Cae(t){for(const e in t)hh[e]={...hh[e],...t[e]}}const Oae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Oae.has(t)}let C9=t=>!Sb(t);function Nae(t){typeof t=="function"&&(C9=e=>e.startsWith("on")?!Sb(e):t(e))}try{Nae(require("@emotion/is-prop-valid").default)}catch{}function Mae(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(C9(i)||n===!0&&Sb(i)||!e&&!Sb(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const S1=A.createContext({});function T1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ng(t){return typeof t=="string"||Array.isArray(t)}const mO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gO=["initial",...mO];function E1(t){return T1(t.animate)||gO.some(e=>ng(t[e]))}function O9(t){return!!(E1(t)||t.variants)}function Dae(t,e){if(E1(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ng(n)?n:void 0,animate:ng(r)?r:void 0}}return t.inherit!==!1?e:{}}function Iae(t){const{initial:e,animate:n}=Dae(t,A.useContext(S1));return A.useMemo(()=>({initial:e,animate:n}),[I5(e),I5(n)])}function I5(t){return Array.isArray(t)?t.join(" "):t}const rg={};function Pae(t){for(const e in t)rg[e]=t[e],Z2(e)&&(rg[e].isCSSVariable=!0)}function N9(t,{layout:e,layoutId:n}){return Bh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!rg[t]||t==="opacity")}const Rae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jae=Vh.length;function Lae(t,e,n){let r="",i=!0;for(let s=0;s<jae;s++){const a=Vh[s],l=t[a];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(a.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const f=x9(l,fO[a]);if(!u){i=!1;const d=Rae[a]||a;r+=`${d}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function yO(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,l=!1;for(const u in e){const f=e[u];if(Bh.has(u)){a=!0;continue}else if(Z2(u)){i[u]=f;continue}else{const d=x9(f,fO[u]);u.startsWith("origin")?(l=!0,s[u]=d):r[u]=d}}if(e.transform||(a||n?r.transform=Lae(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:f="50%",originZ:d=0}=s;r.transformOrigin=`${u} ${f} ${d}`}}const vO=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function M9(t,e,n){for(const r in e)!fr(e[r])&&!N9(r,n)&&(t[r]=e[r])}function Vae({transformTemplate:t},e){return A.useMemo(()=>{const n=vO();return yO(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Bae(t,e){const n=t.style||{},r={};return M9(r,n,t),Object.assign(r,Vae(t,e)),r}function zae(t,e){const n={},r=Bae(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Uae={offset:"stroke-dashoffset",array:"stroke-dasharray"},Fae={offset:"strokeDashoffset",array:"strokeDasharray"};function $ae(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Uae:Fae;t[s.offset]=qe.transform(-r);const a=qe.transform(e),l=qe.transform(n);t[s.array]=`${a} ${l}`}function D9(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},u,f,d){if(yO(t,l,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=d?.transformBox??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&$ae(p,i,s,a,!1)}const I9=()=>({...vO(),attrs:{}}),P9=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Hae(t,e,n,r){const i=A.useMemo(()=>{const s=I9();return D9(s,e,P9(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};M9(s,t.style,t),i.style={...s,...i.style}}return i}const qae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bO(t){return typeof t!="string"||t.includes("-")?!1:!!(qae.indexOf(t)>-1||/[A-Z]/u.test(t))}function Kae(t,e,n,{latestValues:r},i,s=!1){const l=(bO(t)?Hae:zae)(e,r,i,t),u=Mae(e,typeof t=="string",s),f=t!==A.Fragment?{...u,...l,ref:n}:{},{children:d}=e,p=A.useMemo(()=>fr(d)?d.get():d,[d]);return A.createElement(t,{...f,children:p})}function P5(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function xO(t,e,n,r){if(typeof e=="function"){const[i,s]=P5(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=P5(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Bv(t){return fr(t)?t.get():t}function Wae({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:Gae(n,r,i,t),renderState:e()}}function Gae(t,e,n,r){const i={},s=r(t,{});for(const g in s)i[g]=Bv(s[g]);let{initial:a,animate:l}=t;const u=E1(t),f=O9(t);e&&f&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const p=d?l:a;if(p&&typeof p!="boolean"&&!T1(p)){const g=Array.isArray(p)?p:[p];for(let v=0;v<g.length;v++){const x=xO(t,g[v]);if(x){const{transitionEnd:S,transition:T,..._}=x;for(const C in _){let D=_[C];if(Array.isArray(D)){const L=d?D.length-1:0;D=D[L]}D!==null&&(i[C]=D)}for(const C in S)i[C]=S[C]}}}return i}const R9=t=>(e,n)=>{const r=A.useContext(S1),i=A.useContext(b1),s=()=>Wae(t,e,r,i);return n?s():Kg(s)};function wO(t,e,n){const{style:r}=t,i={};for(const s in r)(fr(r[s])||e.style&&fr(e.style[s])||N9(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const Yae=R9({scrapeMotionValuesFromProps:wO,createRenderState:vO});function j9(t,e,n){const r=wO(t,e,n);for(const i in t)if(fr(t[i])||fr(e[i])){const s=Vh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const Xae=R9({scrapeMotionValuesFromProps:j9,createRenderState:I9}),Qae=Symbol.for("motionComponentSymbol");function Bd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Jae(t,e,n){return A.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Bd(n)&&(n.current=r))},[e])}const SO=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Zae="framerAppearId",L9="data-"+SO(Zae),V9=A.createContext({});function eoe(t,e,n,r,i){const{visualElement:s}=A.useContext(S1),a=A.useContext(k9),l=A.useContext(b1),u=A.useContext(w1).reducedMotion,f=A.useRef(null);r=r||a.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const d=f.current,p=A.useContext(V9);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&toe(f.current,n,i,p);const g=A.useRef(!1);A.useInsertionEffect(()=>{d&&g.current&&d.update(n,l)});const v=n[L9],x=A.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return K2(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),A.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),x.current=!1),d.enteringChildren=void 0)}),d}function toe(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:u,layoutRoot:f,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:B9(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&Bd(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:u,layoutRoot:f})}function B9(t){if(t)return t.options.allowProjection!==!1?t.projection:B9(t.parent)}function ZT(t,{forwardMotionProps:e=!1}={},n,r){n&&Cae(n);const i=bO(t)?Xae:Yae;function s(l,u){let f;const d={...A.useContext(w1),...l,layoutId:noe(l)},{isStatic:p}=d,g=Iae(l),v=i(l,p);if(!p&&q2){roe();const x=ioe(d);f=x.MeasureLayout,g.visualElement=eoe(t,v,d,r,x.ProjectionNode)}return y.jsxs(S1.Provider,{value:g,children:[f&&g.visualElement?y.jsx(f,{visualElement:g.visualElement,...d}):null,Kae(t,l,Jae(v,g.visualElement,u),v,p,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=A.forwardRef(s);return a[Qae]=t,a}function noe({layoutId:t}){const e=A.useContext(H2).id;return e&&t!==void 0?e+"-"+t:t}function roe(t,e){A.useContext(k9).strict}function ioe(t){const{drag:e,layout:n}=hh;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function soe(t,e){if(typeof Proxy>"u")return ZT;const n=new Map,r=(s,a)=>ZT(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,ZT(a,void 0,t,e)),n.get(a))})}function z9({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function aoe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ooe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function eE(t){return t===void 0||t===1}function ak({scale:t,scaleX:e,scaleY:n}){return!eE(t)||!eE(e)||!eE(n)}function Pu(t){return ak(t)||U9(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function U9(t){return R5(t.x)||R5(t.y)}function R5(t){return t&&t!=="0%"}function Tb(t,e,n){const r=t-n,i=e*r;return n+i}function j5(t,e,n,r,i){return i!==void 0&&(t=Tb(t,i,r)),Tb(t,n,r)+e}function ok(t,e=0,n=1,r,i){t.min=j5(t.min,e,n,r,i),t.max=j5(t.max,e,n,r,i)}function F9(t,{x:e,y:n}){ok(t.x,e.translate,e.scale,e.originPoint),ok(t.y,n.translate,n.scale,n.originPoint)}const L5=.999999999999,V5=1.0000000000001;function loe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let l=0;l<i;l++){s=n[l],a=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ud(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,F9(t,a)),r&&Pu(s.latestValues)&&Ud(t,s.latestValues))}e.x<V5&&e.x>L5&&(e.x=1),e.y<V5&&e.y>L5&&(e.y=1)}function zd(t,e){t.min=t.min+e,t.max=t.max+e}function B5(t,e,n,r,i=.5){const s=fn(t.min,t.max,i);ok(t,e,n,s,r)}function Ud(t,e){B5(t.x,e.x,e.scaleX,e.scale,e.originX),B5(t.y,e.y,e.scaleY,e.scale,e.originY)}function $9(t,e){return z9(ooe(t.getBoundingClientRect(),e))}function coe(t,e,n){const r=$9(t,n),{scroll:i}=e;return i&&(zd(r.x,i.offset.x),zd(r.y,i.offset.y)),r}const z5=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fd=()=>({x:z5(),y:z5()}),U5=()=>({min:0,max:0}),En=()=>({x:U5(),y:U5()}),lk={current:null},H9={current:!1};function uoe(){if(H9.current=!0,!!q2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>lk.current=t.matches;t.addEventListener("change",e),e()}else lk.current=!1}const ig=new WeakMap;function foe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(fr(i))t.addValue(r,i);else if(fr(s))t.addValue(r,vf(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,vf(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const F5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class q9{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lO,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Ci.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,rn.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=E1(n),this.isVariantNode=O9(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const v=p[g];u[g]!==void 0&&fr(v)&&v.set(u[g])}}mount(e){this.current=e,ig.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),H9.current||uoe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lk.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),el(this.notifyUpdate),el(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Bh.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&rn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hh){const n=hh[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):En()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<F5.length;r++){const i=F5[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=foe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=vf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(NF(r)||DF(r))?r=parseFloat(r):!wae(r)&&Pc.test(n)&&(r=v9(e,n)),this.setBaseTarget(e,fr(r)?r.get():r)),fr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=xO(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!fr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new X2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){dO.render(this.render)}}class K9 extends q9{constructor(){super(...arguments),this.KeyframeResolver=uae}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;fr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function W9(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function doe(t){return window.getComputedStyle(t)}class G9 extends K9{constructor(){super(...arguments),this.type="html",this.renderInstance=W9}readValueFromInstance(e,n){if(Bh.has(n))return this.projection?.isProjecting?ZA(n):kse(e,n);{const r=doe(e),i=(Z2(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return $9(e,n)}build(e,n,r){yO(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return wO(e,n,r)}}const Y9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hoe(t,e,n,r){W9(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Y9.has(i)?i:SO(i),e.attrs[i])}class X9 extends K9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=En}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Bh.has(n)){const r=y9(n);return r&&r.default||0}return n=Y9.has(n)?n:SO(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return j9(e,n,r)}build(e,n,r){D9(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){hoe(e,n,r,i)}mount(e){this.isSVGTag=P9(e.tagName),super.mount(e)}}const poe=(t,e)=>bO(t)?new X9(e):new G9(e,{allowProjection:t!==A.Fragment});function Zd(t,e,n){const r=t.getProps();return xO(r,e,n!==void 0?n:r.custom,t)}const ck=t=>Array.isArray(t);function moe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vf(n))}function goe(t){return ck(t)?t[t.length-1]||0:t}function yoe(t,e){const n=Zd(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const l=goe(s[a]);moe(t,a,l)}}function voe(t){return!!(fr(t)&&t.add)}function uk(t,e){const n=t.getValue("willChange");if(voe(n))return n.add(e);if(!n&&Zo.WillChange){const r=new Zo.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Q9(t){return t.props[L9]}const boe=t=>t!==null;function xoe(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(boe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const woe={type:"spring",stiffness:500,damping:25,restSpeed:10},Soe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Toe={type:"keyframes",duration:.8},Eoe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_oe=(t,{keyframes:e})=>e.length>2?Toe:Bh.has(t)?t.startsWith("scale")?Soe(e[1]):woe:Eoe;function Aoe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:u,elapsed:f,...d}){return!!Object.keys(d).length}const TO=(t,e,n,r={},i,s)=>a=>{const l=uO(r,t)||{},u=l.delay||r.delay||0;let{elapsed:f=0}=r;f=f-ya(u);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-f,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};Aoe(l)||Object.assign(d,_oe(t,d)),d.duration&&(d.duration=ya(d.duration)),d.repeatDelay&&(d.repeatDelay=ya(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(ik(d),d.delay===0&&(p=!0)),(Zo.instantAnimations||Zo.skipAnimations)&&(p=!0,ik(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,p&&!s&&e.get()!==void 0){const g=xoe(d.keyframes,l);if(g!==void 0){rn.update(()=>{d.onUpdate(g),d.onComplete()});return}}return l.isSync?new oO(d):new Xse(d)};function koe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function EO(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(s=r);const u=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const p=t.getValue(d,t.latestValues[d]??null),g=l[d];if(g===void 0||f&&koe(f,d))continue;const v={delay:n,...uO(s||{},d)},x=p.get();if(x!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===x&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const _=Q9(t);if(_){const C=window.MotionHandoffAnimation(_,d,rn);C!==null&&(v.startTime=C,S=!0)}}uk(t,d),p.start(TO(d,p,g,t.shouldReduceMotion&&p9.has(d)?{type:!1}:v,t,S));const T=p.animation;T&&u.push(T)}return a&&Promise.all(u).then(()=>{rn.update(()=>{a&&yoe(t,a)})}),u}function J9(t,e,n,r=0,i=1){const s=Array.from(t).sort((f,d)=>f.sortNodePosition(d)).indexOf(e),a=t.size,l=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:l-s*r}function fk(t,e,n={}){const r=Zd(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(EO(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:p}=i;return Coe(t,e,u,f,d,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,f]=l==="beforeChildren"?[s,a]:[a,s];return u().then(()=>f())}else return Promise.all([s(),a(n.delay)])}function Coe(t,e,n=0,r=0,i=0,s=1,a){const l=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),l.push(fk(u,e,{...a,delay:n+(typeof r=="function"?0:r)+J9(t.variantChildren,u,r,i,s)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(l)}function Ooe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>fk(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=fk(t,e,n);else{const i=typeof e=="function"?Zd(t,e,n.custom):e;r=Promise.all(EO(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Z9(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Noe=gO.length;function e$(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?e$(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Noe;n++){const r=gO[n],i=t.props[r];(ng(i)||i===!1)&&(e[r]=i)}return e}const Moe=[...mO].reverse(),Doe=mO.length;function Ioe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Ooe(t,n,r)))}function Poe(t){let e=Ioe(t),n=$5(),r=!0;const i=u=>(f,d)=>{const p=Zd(t,d,u==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:g,transitionEnd:v,...x}=p;f={...f,...x,...v}}return f};function s(u){e=u(t)}function a(u){const{props:f}=t,d=e$(t.parent)||{},p=[],g=new Set;let v={},x=1/0;for(let T=0;T<Doe;T++){const _=Moe[T],C=n[_],D=f[_]!==void 0?f[_]:d[_],L=ng(D),R=_===u?C.isActive:null;R===!1&&(x=T);let B=D===d[_]&&D!==f[_]&&L;if(B&&r&&t.manuallyAnimateOnMount&&(B=!1),C.protectedKeys={...v},!C.isActive&&R===null||!D&&!C.prevProp||T1(D)||typeof D=="boolean")continue;const N=Roe(C.prevProp,D);let M=N||_===u&&C.isActive&&!B&&L||T>x&&L,P=!1;const F=Array.isArray(D)?D:[D];let V=F.reduce(i(_),{});R===!1&&(V={});const{prevResolvedValues:$={}}=C,U={...$,...V},me=K=>{M=!0,g.has(K)&&(P=!0,g.delete(K)),C.needsAnimating[K]=!0;const ae=t.getValue(K);ae&&(ae.liveStyle=!1)};for(const K in U){const ae=V[K],pe=$[K];if(v.hasOwnProperty(K))continue;let xe=!1;ck(ae)&&ck(pe)?xe=!Z9(ae,pe):xe=ae!==pe,xe?ae!=null?me(K):g.add(K):ae!==void 0&&g.has(K)?me(K):C.protectedKeys[K]=!0}C.prevProp=D,C.prevResolvedValues=V,C.isActive&&(v={...v,...V}),r&&t.blockInitialAnimation&&(M=!1);const ve=B&&N;M&&(!ve||P)&&p.push(...F.map(K=>{const ae={type:_};if(typeof K=="string"&&r&&!ve&&t.manuallyAnimateOnMount&&t.parent){const{parent:pe}=t,xe=Zd(pe,K);if(pe.enteringChildren&&xe){const{delayChildren:q}=xe.transition||{};ae.delay=J9(pe.enteringChildren,t,q)}}return{animation:K,options:ae}}))}if(g.size){const T={};if(typeof f.initial!="boolean"){const _=Zd(t,Array.isArray(f.initial)?f.initial[0]:f.initial);_&&_.transition&&(T.transition=_.transition)}g.forEach(_=>{const C=t.getBaseTarget(_),D=t.getValue(_);D&&(D.liveStyle=!0),T[_]=C??null}),p.push({animation:T})}let S=!!p.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(p):Promise.resolve()}function l(u,f){if(n[u].isActive===f)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(u,f)),n[u].isActive=f;const d=a(u);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=$5(),r=!0}}}function Roe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Z9(e,t):!1}function Nu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $5(){return{animate:Nu(!0),whileInView:Nu(),whileHover:Nu(),whileTap:Nu(),whileDrag:Nu(),whileFocus:Nu(),exit:Nu()}}class Kc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class joe extends Kc{constructor(e){super(e),e.animationState||(e.animationState=Poe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();T1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Loe=0;class Voe extends Kc{constructor(){super(...arguments),this.id=Loe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Boe={animation:{Feature:joe},exit:{Feature:Voe}};function sg(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Xg(t){return{point:{x:t.pageX,y:t.pageY}}}const zoe=t=>e=>hO(e)&&t(e,Xg(e));function Am(t,e,n,r){return sg(t,e,zoe(n),r)}const t$=1e-4,Uoe=1-t$,Foe=1+t$,n$=.01,$oe=0-n$,Hoe=0+n$;function ai(t){return t.max-t.min}function qoe(t,e,n){return Math.abs(t-e)<=n}function H5(t,e,n,r=.5){t.origin=r,t.originPoint=fn(e.min,e.max,t.origin),t.scale=ai(n)/ai(e),t.translate=fn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Uoe&&t.scale<=Foe||isNaN(t.scale))&&(t.scale=1),(t.translate>=$oe&&t.translate<=Hoe||isNaN(t.translate))&&(t.translate=0)}function km(t,e,n,r){H5(t.x,e.x,n.x,r?r.originX:void 0),H5(t.y,e.y,n.y,r?r.originY:void 0)}function q5(t,e,n){t.min=n.min+e.min,t.max=t.min+ai(e)}function Koe(t,e,n){q5(t.x,e.x,n.x),q5(t.y,e.y,n.y)}function K5(t,e,n){t.min=e.min-n.min,t.max=t.min+ai(e)}function Cm(t,e,n){K5(t.x,e.x,n.x),K5(t.y,e.y,n.y)}function Ps(t){return[t("x"),t("y")]}const r$=({current:t})=>t?t.ownerDocument.defaultView:null,W5=(t,e)=>Math.abs(t-e);function Woe(t,e){const n=W5(t.x,e.x),r=W5(t.y,e.y);return Math.sqrt(n**2+r**2)}class i${constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=nE(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=Woe(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!x)return;const{point:S}=g,{timestamp:T}=Nr;this.history.push({...S,timestamp:T});const{onStart:_,onMove:C}=this.handlers;v||(_&&_(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=tE(v,this.transformPagePoint),rn.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:x,onSessionEnd:S,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=nE(g.type==="pointercancel"?this.lastMoveEventInfo:tE(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,_),S&&S(g,_)},!hO(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const l=Xg(e),u=tE(l,this.transformPagePoint),{point:f}=u,{timestamp:d}=Nr;this.history=[{...f,timestamp:d}];const{onSessionStart:p}=n;p&&p(e,nE(u,this.history)),this.removeListeners=Wg(Am(this.contextWindow,"pointermove",this.handlePointerMove),Am(this.contextWindow,"pointerup",this.handlePointerUp),Am(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),el(this.updatePoint)}}function tE(t,e){return e?{point:e(t.point)}:t}function G5(t,e){return{x:t.x-e.x,y:t.y-e.y}}function nE({point:t},e){return{point:t,delta:G5(t,s$(e)),offset:G5(t,Goe(e)),velocity:Yoe(e,.1)}}function Goe(t){return t[0]}function s$(t){return t[t.length-1]}function Yoe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=s$(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ya(e)));)n--;if(!r)return{x:0,y:0};const s=Us(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Xoe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?fn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?fn(n,t,r.max):Math.min(t,n)),t}function Y5(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Qoe(t,{top:e,left:n,bottom:r,right:i}){return{x:Y5(t.x,n,i),y:Y5(t.y,e,r)}}function X5(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Joe(t,e){return{x:X5(t.x,e.x),y:X5(t.y,e.y)}}function Zoe(t,e){let n=.5;const r=ai(t),i=ai(e);return i>r?n=dh(e.min,e.max-r,t.min):r>i&&(n=dh(t.min,t.max-i,e.min)),Jo(0,1,n)}function ele(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dk=.35;function tle(t=dk){return t===!1?t=0:t===!0&&(t=dk),{x:Q5(t,"left","right"),y:Q5(t,"top","bottom")}}function Q5(t,e,n){return{min:J5(t,e),max:J5(t,n)}}function J5(t,e){return typeof t=="number"?t:t[e]||0}const nle=new WeakMap;class rle{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=En(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xg(p).point)},a=(p,g)=>{const{drag:v,dragPropagation:x,onDragStart:S}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hae(v),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ps(_=>{let C=this.getAxisMotionValue(_).get()||0;if(Xa.test(C)){const{projection:D}=this.visualElement;if(D&&D.layout){const L=D.layout.layoutBox[_];L&&(C=ai(L)*(parseFloat(C)/100))}}this.originPoint[_]=C}),S&&rn.postRender(()=>S(p,g)),uk(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},l=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:S,onDrag:T}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:_}=g;if(x&&this.currentDirection===null){this.currentDirection=ile(_),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,_),this.updateAxis("y",g.point,_),this.visualElement.render(),T&&T(p,g)},u=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Ps(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new i$(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:r$(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&rn.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!X0(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Xoe(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Bd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Qoe(r.layoutBox,e):this.constraints=!1,this.elastic=tle(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ps(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=ele(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Bd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=coe(r,i.root,this.visualElement.getTransformPagePoint());let a=Joe(i.layout.layoutBox,s);if(n){const l=n(aoe(a));this.hasMutatedConstraints=!!l,l&&(a=z9(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},f=Ps(d=>{if(!X0(d,n,this.currentDirection))return;let p=u&&u[d]||{};a&&(p={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(d,x)});return Promise.all(f).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return uk(this.visualElement,e),r.start(TO(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ps(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ps(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ps(n=>{const{drag:r}=this.getProps();if(!X0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[n];s.set(e[n]-fn(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Bd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ps(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const u=l.get();i[a]=Zoe({min:u,max:u},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ps(a=>{if(!X0(a,e,null))return;const l=this.getAxisMotionValue(a),{min:u,max:f}=this.constraints[a];l.set(fn(u,f,i[a]))})}addListeners(){if(!this.visualElement.current)return;nle.set(this.visualElement,this);const e=this.visualElement.current,n=Am(e,"pointerdown",u=>{const{drag:f,dragListener:d=!0}=this.getProps();f&&d&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Bd(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),rn.read(r);const a=sg(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ps(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=u[d].translate,p.set(p.get()+u[d].translate))}),this.visualElement.render())}));return()=>{a(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=dk,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function X0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ile(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class sle extends Kc{constructor(e){super(e),this.removeGroupControls=$s,this.removeListeners=$s,this.controls=new rle(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$s}unmount(){this.removeGroupControls(),this.removeListeners()}}const Z5=t=>(e,n)=>{t&&rn.postRender(()=>t(e,n))};class ale extends Kc{constructor(){super(...arguments),this.removePointerDownListener=$s}onPointerDown(e){this.session=new i$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:r$(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Z5(e),onStart:Z5(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&rn.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Am(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function e4(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Hp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(qe.test(t))t=parseFloat(t);else return t;const n=e4(t,e.target.x),r=e4(t,e.target.y);return`${n}% ${r}%`}},ole={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Pc.parse(t);if(i.length>5)return r;const s=Pc.createTransformer(t),a=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;i[0+a]/=l,i[1+a]/=u;const f=fn(l,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=f),typeof i[3+a]=="number"&&(i[3+a]/=f),s(i)}};let rE=!1;class lle extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Pae(cle),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),rE&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),zv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,rE=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||rn.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),dO.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;rE=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function a$(t){const[e,n]=A9(),r=A.useContext(H2);return y.jsx(lle,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(V9),isPresent:e,safeToRemove:n})}const cle={borderRadius:{...Hp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hp,borderTopRightRadius:Hp,borderBottomLeftRadius:Hp,borderBottomRightRadius:Hp,boxShadow:ole};function o$(t,e,n){const r=fr(t)?t:vf(t);return r.start(TO("",r,e,n)),r.animation}const ule=(t,e)=>t.depth-e.depth;class fle{constructor(){this.children=[],this.isDirty=!1}add(e){W2(this.children,e),this.isDirty=!0}remove(e){x1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ule),this.isDirty=!1,this.children.forEach(e)}}function dle(t,e){const n=Ci.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(el(r),t(s-e))};return rn.setup(r,!0),()=>el(r)}const l$=["TopLeft","TopRight","BottomLeft","BottomRight"],hle=l$.length,t4=t=>typeof t=="string"?parseFloat(t):t,n4=t=>typeof t=="number"||qe.test(t);function ple(t,e,n,r,i,s){i?(t.opacity=fn(0,n.opacity??1,mle(r)),t.opacityExit=fn(e.opacity??1,0,gle(r))):s&&(t.opacity=fn(e.opacity??1,n.opacity??1,r));for(let a=0;a<hle;a++){const l=`border${l$[a]}Radius`;let u=r4(e,l),f=r4(n,l);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||n4(u)===n4(f)?(t[l]=Math.max(fn(t4(u),t4(f),r),0),(Xa.test(f)||Xa.test(u))&&(t[l]+="%")):t[l]=f}(e.rotate||n.rotate)&&(t.rotate=fn(e.rotate||0,n.rotate||0,r))}function r4(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const mle=c$(0,.5,zF),gle=c$(.5,.95,$s);function c$(t,e,n){return r=>r<t?0:r>e?1:n(dh(t,e,r))}function i4(t,e){t.min=e.min,t.max=e.max}function ks(t,e){i4(t.x,e.x),i4(t.y,e.y)}function s4(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function a4(t,e,n,r,i){return t-=e,t=Tb(t,1/n,r),i!==void 0&&(t=Tb(t,1/i,r)),t}function yle(t,e=0,n=1,r=.5,i,s=t,a=t){if(Xa.test(e)&&(e=parseFloat(e),e=fn(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=fn(s.min,s.max,r);t===s&&(l-=e),t.min=a4(t.min,e,n,l,i),t.max=a4(t.max,e,n,l,i)}function o4(t,e,[n,r,i],s,a){yle(t,e[n],e[r],e[i],e.scale,s,a)}const vle=["x","scaleX","originX"],ble=["y","scaleY","originY"];function l4(t,e,n,r){o4(t.x,e,vle,n?n.x:void 0,r?r.x:void 0),o4(t.y,e,ble,n?n.y:void 0,r?r.y:void 0)}function c4(t){return t.translate===0&&t.scale===1}function u$(t){return c4(t.x)&&c4(t.y)}function u4(t,e){return t.min===e.min&&t.max===e.max}function xle(t,e){return u4(t.x,e.x)&&u4(t.y,e.y)}function f4(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function f$(t,e){return f4(t.x,e.x)&&f4(t.y,e.y)}function d4(t){return ai(t.x)/ai(t.y)}function h4(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class wle{constructor(){this.members=[]}add(e){W2(this.members,e),e.scheduleRender()}remove(e){if(x1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Sle(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:d,rotateX:p,rotateY:g,skewX:v,skewY:x}=n;f&&(r=`perspective(${f}px) ${r}`),d&&(r+=`rotate(${d}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),v&&(r+=`skewX(${v}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const iE=["","X","Y","Z"],Tle=1e3;let Ele=0;function sE(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function d$(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Q9(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",rn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&d$(r)}function h$({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},l=e?.()){this.id=Ele++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kle),this.nodes.forEach(Mle),this.nodes.forEach(Dle),this.nodes.forEach(Cle)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new fle)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new X2),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const u=this.eventHandlers.get(a);u&&u.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=pO(a)&&!_9(a),this.instance=a;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),t){let d,p=0;const g=()=>this.root.updateBlockedByResize=!1;rn.read(()=>{p=window.innerWidth}),t(a,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,d&&d(),d=dle(g,250),zv.hasAnimatedSinceResize&&(zv.hasAnimatedSinceResize=!1,this.nodes.forEach(g4)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||f.getDefaultTransition()||Lle,{onLayoutAnimationStart:S,onLayoutAnimationComplete:T}=f.getProps(),_=!this.targetLayout||!f$(this.targetLayout,v),C=!p&&g;if(this.options.layoutRoot||this.resumeFrom||C||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...uO(x,"layout"),onPlay:S,onComplete:T};(f.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(d,C)}else p||g4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),el(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ile),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&d$(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(p4);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(m4);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Nle),this.nodes.forEach(_le),this.nodes.forEach(Ale)):this.nodes.forEach(m4),this.clearAllSnapshots();const l=Ci.now();Nr.delta=Jo(0,1e3/60,l-Nr.timestamp),Nr.timestamp=l,Nr.isProcessing=!0,WT.update.process(Nr),WT.preRender.process(Nr),WT.render.process(Nr),Nr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ole),this.sharedNodes.forEach(Ple)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ai(this.snapshot.measuredBox.x)&&!ai(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=En(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!u$(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,d=f!==this.prevTransformTemplateValue;a&&this.instance&&(l||Pu(this.latestValues)||d)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return a&&(u=this.removeTransform(u)),Vle(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return En();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Ble))){const{scroll:f}=this.root;f&&(zd(l.x,f.offset.x),zd(l.y,f.offset.y))}return l}removeElementScroll(a){const l=En();if(ks(l,a),this.scroll?.wasRoot)return l;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:d,options:p}=f;f!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&ks(l,a),zd(l.x,d.offset.x),zd(l.y,d.offset.y))}return l}applyTransform(a,l=!1){const u=En();ks(u,a);for(let f=0;f<this.path.length;f++){const d=this.path[f];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ud(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Pu(d.latestValues)&&Ud(u,d.latestValues)}return Pu(this.latestValues)&&Ud(u,this.latestValues),u}removeTransform(a){const l=En();ks(l,a);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!Pu(f.latestValues))continue;ak(f.latestValues)&&f.updateSnapshot();const d=En(),p=f.measurePageBox();ks(d,p),l4(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,d)}return Pu(this.latestValues)&&l4(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=Nr.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=En(),this.relativeTargetOrigin=En(),Cm(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),ks(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=En(),this.targetWithTransforms=En()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Koe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ks(this.target,this.layout.layoutBox),F9(this.target,this.targetDelta)):ks(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=En(),this.relativeTargetOrigin=En(),Cm(this.relativeTargetOrigin,this.target,g.target),ks(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ak(this.parent.latestValues)||U9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Nr.timestamp&&(u=!1),u)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;ks(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;loe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=En());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(s4(this.prevProjectionDelta.x,this.projectionDelta.x),s4(this.prevProjectionDelta.y,this.projectionDelta.y)),km(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!h4(this.projectionDelta.x,this.prevProjectionDelta.x)||!h4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fd(),this.projectionDelta=Fd(),this.projectionDeltaWithTransform=Fd()}setAnimationOrigin(a,l=!1){const u=this.snapshot,f=u?u.latestValues:{},d={...this.latestValues},p=Fd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=En(),v=u?u.source:void 0,x=this.layout?this.layout.source:void 0,S=v!==x,T=this.getStack(),_=!T||T.members.length<=1,C=!!(S&&!_&&this.options.crossfade===!0&&!this.path.some(jle));this.animationProgress=0;let D;this.mixTargetDelta=L=>{const R=L/1e3;y4(p.x,a.x,R),y4(p.y,a.y,R),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cm(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Rle(this.relativeTarget,this.relativeTargetOrigin,g,R),D&&xle(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=En()),ks(D,this.relativeTarget)),S&&(this.animationValues=d,ple(d,f,this.latestValues,R,C,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(el(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rn.update(()=>{zv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vf(0)),this.currentAnimation=o$(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tle),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:u,layout:f,latestValues:d}=a;if(!(!l||!u||!f)){if(this!==a&&this.layout&&f&&p$(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||En();const p=ai(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+p;const g=ai(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+g}ks(l,u),Ud(l,d),km(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new wle),this.sharedNodes.get(a).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const f={};u.z&&sE("z",a,f,this.animationValues);for(let d=0;d<iE.length;d++)sE(`rotate${iE[d]}`,a,f,this.animationValues),sE(`skew${iE[d]}`,a,f,this.animationValues);a.render();for(const d in f)a.setStaticValue(d,f[d]),this.animationValues&&(this.animationValues[d]=f[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Bv(l?.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Bv(l?.pointerEvents)||""),this.hasProjected&&!Pu(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=Sle(this.projectionDeltaWithTransform,this.treeScale,d);u&&(p=u(d,p)),a.transform=p;const{x:g,y:v}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,f.animationValues?a.opacity=f===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in rg){if(d[x]===void 0)continue;const{correct:S,applyTo:T,isCSSVariable:_}=rg[x],C=p==="none"?d[x]:S(d[x],f);if(T){const D=T.length;for(let L=0;L<D;L++)a[T[L]]=C}else _?this.options.visualElement.renderState.vars[x]=C:a[x]=C}this.options.layoutId&&(a.pointerEvents=f===this?Bv(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(p4),this.root.sharedNodes.clear()}}}function _le(t){t.updateLayout()}function Ale(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?Ps(d=>{const p=s?e.measuredBox[d]:e.layoutBox[d],g=ai(p);p.min=n[d].min,p.max=p.min+g}):p$(i,e.layoutBox,n)&&Ps(d=>{const p=s?e.measuredBox[d]:e.layoutBox[d],g=ai(n[d]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=Fd();km(a,n,e.layoutBox);const l=Fd();s?km(l,t.applyTransform(r,!0),e.measuredBox):km(l,n,e.layoutBox);const u=!u$(a);let f=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const v=En();Cm(v,e.layoutBox,p.layoutBox);const x=En();Cm(x,n,g.layoutBox),f$(v,x)||(f=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function kle(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Cle(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ole(t){t.clearSnapshot()}function p4(t){t.clearMeasurements()}function m4(t){t.isLayoutDirty=!1}function Nle(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function g4(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Mle(t){t.resolveTargetDelta()}function Dle(t){t.calcProjection()}function Ile(t){t.resetSkewAndRotation()}function Ple(t){t.removeLeadSnapshot()}function y4(t,e,n){t.translate=fn(e.translate,0,n),t.scale=fn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function v4(t,e,n,r){t.min=fn(e.min,n.min,r),t.max=fn(e.max,n.max,r)}function Rle(t,e,n,r){v4(t.x,e.x,n.x,r),v4(t.y,e.y,n.y,r)}function jle(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Lle={duration:.45,ease:[.4,0,.1,1]},b4=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),x4=b4("applewebkit/")&&!b4("chrome/")?Math.round:$s;function w4(t){t.min=x4(t.min),t.max=x4(t.max)}function Vle(t){w4(t.x),w4(t.y)}function p$(t,e,n){return t==="position"||t==="preserve-aspect"&&!qoe(d4(e),d4(n),.2)}function Ble(t){return t!==t.root&&t.scroll?.wasRoot}const zle=h$({attachResizeListener:(t,e)=>sg(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),aE={current:void 0},m$=h$({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!aE.current){const t=new zle({});t.mount(window),t.setOptions({layoutScroll:!0}),aE.current=t}return aE.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ule={pan:{Feature:ale},drag:{Feature:sle,ProjectionNode:m$,MeasureLayout:a$}};function S4(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&rn.postRender(()=>s(e,Xg(e)))}class Fle extends Kc{mount(){const{current:e}=this.node;e&&(this.unmount=pae(e,(n,r)=>(S4(this.node,r,"Start"),i=>S4(this.node,i,"End"))))}unmount(){}}class $le extends Kc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wg(sg(this.node.current,"focus",()=>this.onFocus()),sg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function T4(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&rn.postRender(()=>s(e,Xg(e)))}class Hle extends Kc{mount(){const{current:e}=this.node;e&&(this.unmount=vae(e,(n,r)=>(T4(this.node,r,"Start"),(i,{success:s})=>T4(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hk=new WeakMap,oE=new WeakMap,qle=t=>{const e=hk.get(t.target);e&&e(t)},Kle=t=>{t.forEach(qle)};function Wle({root:t,...e}){const n=t||document;oE.has(n)||oE.set(n,{});const r=oE.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Kle,{root:t,...e})),r[i]}function Gle(t,e,n){const r=Wle(e);return hk.set(t,n),r.observe(t),()=>{hk.delete(t),r.unobserve(t)}}const Yle={some:0,all:1};class Xle extends Kc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Yle[i]},l=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),g=f?d:p;g&&g(u)};return Gle(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Qle(e,n))&&this.startObserver()}unmount(){}}function Qle({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Jle={inView:{Feature:Xle},tap:{Feature:Hle},focus:{Feature:$le},hover:{Feature:Fle}},Zle={layout:{ProjectionNode:m$,MeasureLayout:a$}},ece={...Boe,...Jle,...Ule,...Zle},Ae=soe(ece,poe);function _O(t){const e=Kg(()=>vf(t)),{isStatic:n}=A.useContext(w1);if(n){const[,r]=A.useState(t);A.useEffect(()=>e.on("change",r),[])}return e}function g$(t,e){const n=_O(e()),r=()=>n.set(e());return r(),K2(()=>{const i=()=>rn.preRender(r,!1,!0),s=t.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),el(r)}}),n}function tce(t){_m.current=[],t();const e=g$(_m.current,t);return _m.current=void 0,e}function pk(t,e,n,r){if(typeof t=="function")return tce(t);const i=typeof e=="function"?e:bae(e,n,r);return Array.isArray(t)?E4(t,i):E4([t],([s])=>i(s))}function E4(t,e){const n=Kg(()=>[]);return g$(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function AO(t){return typeof t=="object"&&!Array.isArray(t)}function y$(t,e,n,r){return typeof t=="string"&&AO(e)?b9(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function nce(t,e,n){return t*(e+1)}function _4(t,e,n,r){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:e.startsWith("<")?Math.max(0,n+parseFloat(e.slice(1))):r.get(e)??t}function rce(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(x1(t,i),r--)}}function ice(t,e,n,r,i,s){rce(t,i,s);for(let a=0;a<e.length;a++)t.push({value:e[a],at:fn(i,s,r[a]),easing:HF(n,a)})}function sce(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function ace(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const oce="easeInOut";function lce(t,{defaultTransition:e={},...n}={},r,i){const s=e.duration||.3,a=new Map,l=new Map,u={},f=new Map;let d=0,p=0,g=0;for(let v=0;v<t.length;v++){const x=t[v];if(typeof x=="string"){f.set(x,p);continue}else if(!Array.isArray(x)){f.set(x.name,_4(p,x.at,d,f));continue}let[S,T,_={}]=x;_.at!==void 0&&(p=_4(p,_.at,d,f));let C=0;const D=(L,R,B,N=0,M=0)=>{const P=cce(L),{delay:F=0,times:V=a9(P),type:$="keyframes",repeat:U,repeatType:me,repeatDelay:ve=0,...G}=R;let{ease:K=e.ease||"easeOut",duration:ae}=R;const pe=typeof F=="function"?F(N,M):F,xe=P.length,q=cO($)?$:i?.[$||"keyframes"];if(xe<=2&&q){let Se=100;if(xe===2&&dce(P)){const ut=P[1]-P[0];Se=Math.abs(ut)}const Ie={...G};ae!==void 0&&(Ie.duration=ya(ae));const Ve=n9(Ie,Se,q);K=Ve.ease,ae=Ve.duration}ae??(ae=s);const X=p+pe;V.length===1&&V[0]===0&&(V[1]=1);const ye=V.length-P.length;if(ye>0&&s9(V,ye),P.length===1&&P.unshift(null),U){ae=nce(ae,U);const Se=[...P],Ie=[...V];K=Array.isArray(K)?[...K]:[K];const Ve=[...K];for(let ut=0;ut<U;ut++){P.push(...Se);for(let fe=0;fe<Se.length;fe++)V.push(Ie[fe]+(ut+1)),K.push(fe===0?"linear":HF(Ve,fe-1))}sce(V,U)}const we=X+ae;ice(B,P,K,V,X,we),C=Math.max(pe+ae,C),g=Math.max(we,g)};if(fr(S)){const L=A4(S,l);D(T,_,k4("default",L))}else{const L=y$(S,T,r,u),R=L.length;for(let B=0;B<R;B++){T=T,_=_;const N=L[B],M=A4(N,l);for(const P in T)D(T[P],uce(_,P),k4(P,M),B,R)}}d=p,p+=C}return l.forEach((v,x)=>{for(const S in v){const T=v[S];T.sort(ace);const _=[],C=[],D=[];for(let R=0;R<T.length;R++){const{at:B,value:N,easing:M}=T[R];_.push(N),C.push(dh(0,g,B)),D.push(M||"easeOut")}C[0]!==0&&(C.unshift(0),_.unshift(_[0]),D.unshift(oce)),C[C.length-1]!==1&&(C.push(1),_.push(null)),a.has(x)||a.set(x,{keyframes:{},transition:{}});const L=a.get(x);L.keyframes[S]=_,L.transition[S]={...e,duration:g,ease:D,times:C,...n}}}),a}function A4(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function k4(t,e){return e[t]||(e[t]=[]),e[t]}function cce(t){return Array.isArray(t)?t:[t]}function uce(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const fce=t=>typeof t=="number",dce=t=>t.every(fce);function hce(t,e){return t in e}class pce extends q9{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(hce(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return En()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function mce(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=pO(t)&&!_9(t)?new X9(e):new G9(e);n.mount(t),ig.set(t,n)}function gce(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new pce(e);n.mount(t),ig.set(t,n)}function yce(t,e){return fr(t)||typeof t=="number"||typeof t=="string"&&!AO(e)}function v$(t,e,n,r){const i=[];if(yce(t,e))i.push(o$(t,AO(e)&&e.default||e,n&&(n.default||n)));else{const s=y$(t,e,r),a=s.length;for(let l=0;l<a;l++){const u=s[l],f=u instanceof Element?mce:gce;ig.has(u)||f(u);const d=ig.get(u),p={...n};"delay"in p&&typeof p.delay=="function"&&(p.delay=p.delay(l,a)),i.push(...EO(d,{...e,transition:p},{}))}}return i}function vce(t,e,n){const r=[];return lce(t,e,n,{spring:tg}).forEach(({keyframes:s,transition:a},l)=>{r.push(...v$(l,s,a))}),r}function bce(t){return Array.isArray(t)&&t.some(Array.isArray)}function xce(t){function e(n,r,i){let s=[],a;if(bce(n))s=vce(n,r,t);else{const{onComplete:u,...f}=i||{};typeof u=="function"&&(a=u),s=v$(n,r,f,t)}const l=new Jse(s);return a&&l.finished.then(a),l}return e}const b$=xce();function x$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=x$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=x$(t))&&(r&&(r+=" "),r+=e);return r}var lE={},cE={},C4;function wce(){return C4||(C4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(cE)),cE}var uE={},O4;function w$(){return O4||(O4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(uE)),uE}var fE={},N4;function S$(){return N4||(N4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(fE)),fE}var dE={},M4;function kO(){return M4||(M4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let s=0,a="",l="",u=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const f=n[s];l?f==="\\"&&s+1<i?(s++,a+=n[s]):f===l?l="":a+=f:u?f==='"'||f==="'"?l=f:f==="]"?(u=!1,r.push(a),a=""):a+=f:f==="["?(u=!0,a&&(r.push(a),a="")):f==="."?a&&(r.push(a),a=""):a+=f,s++}return a&&r.push(a),r}t.toPath=e})(dE)),dE}var D4;function CO(){return D4||(D4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wce(),n=w$(),r=S$(),i=kO();function s(l,u,f){if(l==null)return f;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return f;const d=l[u];return d===void 0?n.isDeepKey(u)?s(l,i.toPath(u),f):f:d}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const d=l[u];return d===void 0?f:d}default:{if(Array.isArray(u))return a(l,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return f;const d=l[u];return d===void 0?f:d}}}function a(l,u,f){if(u.length===0)return f;let d=l;for(let p=0;p<u.length;p++){if(d==null||e.isUnsafeProperty(u[p]))return f;d=d[u[p]]}return d===void 0?f:d}t.get=s})(lE)),lE}var hE,I4;function Sce(){return I4||(I4=1,hE=CO().get),hE}var Tce=Sce();const ph=Ta(Tce);var pE={exports:{}},jt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P4;function Ece(){if(P4)return jt;P4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function x(S){if(typeof S=="object"&&S!==null){var T=S.$$typeof;switch(T){case t:switch(S=S.type,S){case n:case i:case r:case u:case f:case g:return S;default:switch(S=S&&S.$$typeof,S){case a:case l:case p:case d:return S;case s:return S;default:return T}}case e:return T}}}return jt.ContextConsumer=s,jt.ContextProvider=a,jt.Element=t,jt.ForwardRef=l,jt.Fragment=n,jt.Lazy=p,jt.Memo=d,jt.Portal=e,jt.Profiler=i,jt.StrictMode=r,jt.Suspense=u,jt.SuspenseList=f,jt.isContextConsumer=function(S){return x(S)===s},jt.isContextProvider=function(S){return x(S)===a},jt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},jt.isForwardRef=function(S){return x(S)===l},jt.isFragment=function(S){return x(S)===n},jt.isLazy=function(S){return x(S)===p},jt.isMemo=function(S){return x(S)===d},jt.isPortal=function(S){return x(S)===e},jt.isProfiler=function(S){return x(S)===i},jt.isStrictMode=function(S){return x(S)===r},jt.isSuspense=function(S){return x(S)===u},jt.isSuspenseList=function(S){return x(S)===f},jt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===u||S===f||typeof S=="object"&&S!==null&&(S.$$typeof===p||S.$$typeof===d||S.$$typeof===a||S.$$typeof===s||S.$$typeof===l||S.$$typeof===v||S.getModuleId!==void 0)},jt.typeOf=x,jt}var R4;function _ce(){return R4||(R4=1,pE.exports=Ece()),pE.exports}var Ace=_ce(),Oi=t=>t===0?0:t>0?1:-1,rs=t=>typeof t=="number"&&t!=+t,$u=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Be=t=>(typeof t=="number"||t instanceof Number)&&!rs(t),Za=t=>Be(t)||typeof t=="string",kce=0,ag=t=>{var e=++kce;return"".concat(t||"").concat(e)},wa=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Be(e)&&typeof e!="string")return r;var s;if($u(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return rs(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},T$=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Hn(t,e,n){return Be(t)&&Be(e)?t+n*(e-t):e}function E$(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):ph(r,e))===n)}var hn=t=>t===null||typeof t>"u",Qg=t=>hn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Cce=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function OO(t){if(typeof t!="string")return!1;var e=Cce;return e.includes(t)}var Oce=["viewBox","children"],j4=["points","pathLength"],mE={svg:Oce,polygon:j4,polyline:j4},NO=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{OO(i)&&(r[i]=(s=>n[i](n,s)))}),r},Nce=(t,e,n)=>r=>(t(e,n,r),null),MO=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];OO(i)&&typeof s=="function"&&(r||(r={}),r[i]=Nce(s,e,n))}),r},Mce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function _$(t){if(typeof t!="string")return!1;var e=Mce;return e.includes(t)}function Wc(t){var e=Object.entries(t).filter(n=>{var[r]=n;return _$(r)});return Object.fromEntries(e)}var L4=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",V4=null,gE=null,A$=t=>{if(t===V4&&Array.isArray(gE))return gE;var e=[];return A.Children.forEach(t,n=>{hn(n)||(Ace.isFragment(n)?e=e.concat(A$(n.props.children)):e.push(n))}),gE=e,V4=t,e};function Dce(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>L4(i)):r=[L4(e)],A$(t).forEach(i=>{var s=ph(i,"type.displayName")||ph(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var k$=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Ice=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(i=r&&mE?.[r])!==null&&i!==void 0?i:[],a=e.startsWith("data-"),l=typeof t!="function"&&(!!r&&s.includes(e)||_$(e)),u=!!n&&OO(e);return a||l||u},jn=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(A.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(s=>{var a;Ice((a=r)===null||a===void 0?void 0:a[s],s,e,n)&&(i[s]=r[s])}),i},Pce=["children","width","height","viewBox","className","style","title","desc"];function mk(){return mk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mk.apply(null,arguments)}function Rce(t,e){if(t==null)return{};var n,r,i=jce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var C$=A.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:l,title:u,desc:f}=t,d=Rce(t,Pce),p=s||{width:r,height:i,x:0,y:0},g=gt("recharts-surface",a);return A.createElement("svg",mk({},jn(d,!0,"svg"),{className:g,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),A.createElement("title",null,u),A.createElement("desc",null,f),n)}),Lce=["children","className"];function gk(){return gk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gk.apply(null,arguments)}function Vce(t,e){if(t==null)return{};var n,r,i=Bce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Sa=A.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Vce(t,Lce),s=gt("recharts-layer",r);return A.createElement("g",gk({className:s},jn(i,!0),{ref:e}),n)}),O$=az();const zce=Ta(O$);var Uce=A.createContext(null);function Wt(t){return function(){return t}}const N$=Math.cos,Eb=Math.sin,Ea=Math.sqrt,_b=Math.PI,_1=2*_b,yk=Math.PI,vk=2*yk,Ru=1e-6,Fce=vk-Ru;function M$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function $ce(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return M$;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Hce=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?M$:$ce(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,u=r-e,f=i-n,d=a-e,p=l-n,g=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>Ru)if(!(Math.abs(p*u-f*d)>Ru)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-a,x=i-l,S=u*u+f*f,T=v*v+x*x,_=Math.sqrt(S),C=Math.sqrt(g),D=s*Math.tan((yk-Math.acos((S+g-T)/(2*_*C)))/2),L=D/C,R=D/_;Math.abs(L-1)>Ru&&this._append`L${e+L*d},${n+L*p}`,this._append`A${s},${s},0,0,${+(p*v>d*x)},${this._x1=e+R*u},${this._y1=n+R*f}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),f=e+l,d=n+u,p=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>Ru||Math.abs(this._y1-d)>Ru)&&this._append`L${f},${d}`,r&&(g<0&&(g=g%vk+vk),g>Fce?this._append`A${r},${r},0,1,${p},${e-l},${n-u}A${r},${r},0,1,${p},${this._x1=f},${this._y1=d}`:g>Ru&&this._append`A${r},${r},0,${+(g>=yk)},${p},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function DO(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Hce(e)}function IO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function D$(t){this._context=t}D$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function A1(t){return new D$(t)}function I$(t){return t[0]}function P$(t){return t[1]}function R$(t,e){var n=Wt(!0),r=null,i=A1,s=null,a=DO(l);t=typeof t=="function"?t:t===void 0?I$:Wt(t),e=typeof e=="function"?e:e===void 0?P$:Wt(e);function l(u){var f,d=(u=IO(u)).length,p,g=!1,v;for(r==null&&(s=i(v=a())),f=0;f<=d;++f)!(f<d&&n(p=u[f],f,u))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(p,f,u),+e(p,f,u));if(v)return s=null,v+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:Wt(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:Wt(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Wt(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),l):r},l}function Q0(t,e,n){var r=null,i=Wt(!0),s=null,a=A1,l=null,u=DO(f);t=typeof t=="function"?t:t===void 0?I$:Wt(+t),e=typeof e=="function"?e:Wt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?P$:Wt(+n);function f(p){var g,v,x,S=(p=IO(p)).length,T,_=!1,C,D=new Array(S),L=new Array(S);for(s==null&&(l=a(C=u())),g=0;g<=S;++g){if(!(g<S&&i(T=p[g],g,p))===_)if(_=!_)v=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=g-1;x>=v;--x)l.point(D[x],L[x]);l.lineEnd(),l.areaEnd()}_&&(D[g]=+t(T,g,p),L[g]=+e(T,g,p),l.point(r?+r(T,g,p):D[g],n?+n(T,g,p):L[g]))}if(C)return l=null,C+""||null}function d(){return R$().defined(i).curve(a).context(s)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Wt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Wt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Wt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Wt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Wt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Wt(+p),f):n},f.lineX0=f.lineY0=function(){return d().x(t).y(e)},f.lineY1=function(){return d().x(t).y(n)},f.lineX1=function(){return d().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Wt(!!p),f):i},f.curve=function(p){return arguments.length?(a=p,s!=null&&(l=a(s)),f):a},f.context=function(p){return arguments.length?(p==null?s=l=null:l=a(s=p),f):s},f}class j${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function qce(t){return new j$(t,!0)}function Kce(t){return new j$(t,!1)}const PO={draw(t,e){const n=Ea(e/_b);t.moveTo(n,0),t.arc(0,0,n,0,_1)}},Wce={draw(t,e){const n=Ea(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},L$=Ea(1/3),Gce=L$*2,Yce={draw(t,e){const n=Ea(e/Gce),r=n*L$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Xce={draw(t,e){const n=Ea(e),r=-n/2;t.rect(r,r,n,n)}},Qce=.8908130915292852,V$=Eb(_b/10)/Eb(7*_b/10),Jce=Eb(_1/10)*V$,Zce=-N$(_1/10)*V$,eue={draw(t,e){const n=Ea(e*Qce),r=Jce*n,i=Zce*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=_1*s/5,l=N$(a),u=Eb(a);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*i,u*r+l*i)}t.closePath()}},yE=Ea(3),tue={draw(t,e){const n=-Ea(e/(yE*3));t.moveTo(0,n*2),t.lineTo(-yE*n,-n),t.lineTo(yE*n,-n),t.closePath()}},Cs=-.5,Os=Ea(3)/2,bk=1/Ea(12),nue=(bk/2+1)*3,rue={draw(t,e){const n=Ea(e/nue),r=n/2,i=n*bk,s=r,a=n*bk+n,l=-s,u=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,u),t.lineTo(Cs*r-Os*i,Os*r+Cs*i),t.lineTo(Cs*s-Os*a,Os*s+Cs*a),t.lineTo(Cs*l-Os*u,Os*l+Cs*u),t.lineTo(Cs*r+Os*i,Cs*i-Os*r),t.lineTo(Cs*s+Os*a,Cs*a-Os*s),t.lineTo(Cs*l+Os*u,Cs*u-Os*l),t.closePath()}};function iue(t,e){let n=null,r=DO(i);t=typeof t=="function"?t:Wt(t||PO),e=typeof e=="function"?e:Wt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Wt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Wt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Ab(){}function kb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function B$(t){this._context=t}B$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sue(t){return new B$(t)}function z$(t){this._context=t}z$.prototype={areaStart:Ab,areaEnd:Ab,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:kb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function aue(t){return new z$(t)}function U$(t){this._context=t}U$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:kb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oue(t){return new U$(t)}function F$(t){this._context=t}F$.prototype={areaStart:Ab,areaEnd:Ab,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function lue(t){return new F$(t)}function B4(t){return t<0?-1:1}function z4(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(B4(s)+B4(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function U4(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function vE(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function Cb(t){this._context=t}Cb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vE(this,this._t0,U4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,vE(this,U4(this,n=z4(this,t,e)),n);break;default:vE(this,this._t0,n=z4(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function $$(t){this._context=new H$(t)}($$.prototype=Object.create(Cb.prototype)).point=function(t,e){Cb.prototype.point.call(this,e,t)};function H$(t){this._context=t}H$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function cue(t){return new Cb(t)}function uue(t){return new $$(t)}function q$(t){this._context=t}q$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=F4(t),i=F4(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function F4(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function fue(t){return new q$(t)}function k1(t,e){this._context=t,this._t=e}k1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function due(t){return new k1(t,.5)}function hue(t){return new k1(t,0)}function pue(t){return new k1(t,1)}function mh(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,l=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function xk(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function mue(t,e){return t[e]}function gue(t){const e=[];return e.key=t,e}function yue(){var t=Wt([]),e=xk,n=mh,r=mue;function i(s){var a=Array.from(t.apply(this,arguments),gue),l,u=a.length,f=-1,d;for(const p of s)for(l=0,++f;l<u;++l)(a[l][f]=[0,+r(p,a[l].key,f,s)]).data=p;for(l=0,d=IO(e(a));l<u;++l)a[d[l]].index=l;return n(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Wt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Wt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?xk:typeof s=="function"?s:Wt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??mh,i):n},i}function vue(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}mh(t,e)}}function bue(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}mh(t,e)}}function xue(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var l=0,u=0,f=0;l<a;++l){for(var d=t[e[l]],p=d[r][1]||0,g=d[r-1][1]||0,v=(p-g)/2,x=0;x<l;++x){var S=t[e[x]],T=S[r][1]||0,_=S[r-1][1]||0;v+=T-_}u+=p,f+=v*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=f/u)}i[r-1][1]+=i[r-1][0]=n,mh(t,e)}}var wue=["type","size","sizeType"];function wk(){return wk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wk.apply(null,arguments)}function $4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(n),!0).forEach(function(r){Sue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sue(t,e,n){return(e=Tue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tue(t){var e=Eue(t,"string");return typeof e=="symbol"?e:e+""}function Eue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ue(t,e){if(t==null)return{};var n,r,i=Aue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Aue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var K$={symbolCircle:PO,symbolCross:Wce,symbolDiamond:Yce,symbolSquare:Xce,symbolStar:eue,symbolTriangle:tue,symbolWye:rue},kue=Math.PI/180,Cue=t=>{var e="symbol".concat(Qg(t));return K$[e]||PO},Oue=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*kue;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Nue=(t,e)=>{K$["symbol".concat(Qg(t))]=e},W$=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=_ue(t,wue),s=H4(H4({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var l=()=>{var g=Cue(a),v=iue().type(g).size(Oue(n,r,a));return v()},{className:u,cx:f,cy:d}=s,p=jn(s,!0);return f===+f&&d===+d&&n===+n?A.createElement("path",wk({},p,{className:gt("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(d,")"),d:l()})):null};W$.registerSymbol=Nue;var bE={},xE={},q4;function Mue(){return q4||(q4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],l=r(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}t.uniqBy=e})(xE)),xE}var wE={},K4;function G$(){return K4||(K4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(wE)),wE}var SE={},TE={},EE={},W4;function Due(){return W4||(W4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(EE)),EE}var G4;function RO(){return G4||(G4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Due();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(TE)),TE}var _E={},Y4;function Iue(){return Y4||(Y4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(_E)),_E}var X4;function Pue(){return X4||(X4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RO(),n=Iue();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(SE)),SE}var AE={},kE={},Q4;function Rue(){return Q4||(Q4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CO();function n(r){return function(i){return e.get(i,r)}}t.property=n})(kE)),kE}var CE={},OE={},NE={},ME={},J4;function Y$(){return J4||(J4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(ME)),ME}var DE={},Z4;function X$(){return Z4||(Z4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(DE)),DE}var IE={},eL;function Q$(){return eL||(eL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(IE)),IE}var tL;function jue(){return tL||(tL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jO(),n=Y$(),r=X$(),i=Q$();function s(p,g,v){return typeof v!="function"?e.isMatch(p,g):a(p,g,function x(S,T,_,C,D,L){const R=v(S,T,_,C,D,L);return R!==void 0?!!R:a(S,T,x,L)},new Map)}function a(p,g,v,x){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,v,x);case"function":return Object.keys(g).length>0?a(p,{...g},v,x):i.eq(p,g);default:return n.isObject(p)?typeof g=="string"?g==="":!0:i.eq(p,g)}}function l(p,g,v,x){if(g==null)return!0;if(Array.isArray(g))return f(p,g,v,x);if(g instanceof Map)return u(p,g,v,x);if(g instanceof Set)return d(p,g,v,x);const S=Object.keys(g);if(p==null)return S.length===0;if(S.length===0)return!0;if(x&&x.has(g))return x.get(g)===p;x&&x.set(g,p);try{for(let T=0;T<S.length;T++){const _=S[T];if(!r.isPrimitive(p)&&!(_ in p)||g[_]===void 0&&p[_]!==void 0||g[_]===null&&p[_]!==null||!v(p[_],g[_],_,p,g,x))return!1}return!0}finally{x&&x.delete(g)}}function u(p,g,v,x){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[S,T]of g.entries()){const _=p.get(S);if(v(_,T,S,p,g,x)===!1)return!1}return!0}function f(p,g,v,x){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const S=new Set;for(let T=0;T<g.length;T++){const _=g[T];let C=!1;for(let D=0;D<p.length;D++){if(S.has(D))continue;const L=p[D];let R=!1;if(v(L,_,T,p,g,x)&&(R=!0),R){S.add(D),C=!0;break}}if(!C)return!1}return!0}function d(p,g,v,x){return g.size===0?!0:p instanceof Set?f([...p],[...g],v,x):!1}t.isMatchWith=s,t.isSetMatch=d})(NE)),NE}var nL;function jO(){return nL||(nL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jue();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(OE)),OE}var PE={},RE={},jE={},rL;function Lue(){return rL||(rL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(jE)),jE}var LE={},iL;function J$(){return iL||(iL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(LE)),LE}var VE={},sL;function Z$(){return sL||(sL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",u="[object Map]",f="[object Set]",d="[object Array]",p="[object Function]",g="[object ArrayBuffer]",v="[object Object]",x="[object Error]",S="[object DataView]",T="[object Uint8Array]",_="[object Uint8ClampedArray]",C="[object Uint16Array]",D="[object Uint32Array]",L="[object BigUint64Array]",R="[object Int8Array]",B="[object Int16Array]",N="[object Int32Array]",M="[object BigInt64Array]",P="[object Float32Array]",F="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=g,t.arrayTag=d,t.bigInt64ArrayTag=M,t.bigUint64ArrayTag=L,t.booleanTag=i,t.dataViewTag=S,t.dateTag=l,t.errorTag=x,t.float32ArrayTag=P,t.float64ArrayTag=F,t.functionTag=p,t.int16ArrayTag=B,t.int32ArrayTag=N,t.int8ArrayTag=R,t.mapTag=u,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=C,t.uint32ArrayTag=D,t.uint8ArrayTag=T,t.uint8ClampedArrayTag=_})(VE)),VE}var BE={},aL;function Vue(){return aL||(aL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(BE)),BE}var oL;function e8(){return oL||(oL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lue(),n=J$(),r=Z$(),i=X$(),s=Vue();function a(d,p){return l(d,void 0,d,new Map,p)}function l(d,p,g,v=new Map,x=void 0){const S=x?.(d,p,g,v);if(S!==void 0)return S;if(i.isPrimitive(d))return d;if(v.has(d))return v.get(d);if(Array.isArray(d)){const T=new Array(d.length);v.set(d,T);for(let _=0;_<d.length;_++)T[_]=l(d[_],_,g,v,x);return Object.hasOwn(d,"index")&&(T.index=d.index),Object.hasOwn(d,"input")&&(T.input=d.input),T}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const T=new RegExp(d.source,d.flags);return T.lastIndex=d.lastIndex,T}if(d instanceof Map){const T=new Map;v.set(d,T);for(const[_,C]of d)T.set(_,l(C,_,g,v,x));return T}if(d instanceof Set){const T=new Set;v.set(d,T);for(const _ of d)T.add(l(_,void 0,g,v,x));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const T=new(Object.getPrototypeOf(d)).constructor(d.length);v.set(d,T);for(let _=0;_<d.length;_++)T[_]=l(d[_],_,g,v,x);return T}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const T=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return v.set(d,T),u(T,d,g,v,x),T}if(typeof File<"u"&&d instanceof File){const T=new File([d],d.name,{type:d.type});return v.set(d,T),u(T,d,g,v,x),T}if(d instanceof Blob){const T=new Blob([d],{type:d.type});return v.set(d,T),u(T,d,g,v,x),T}if(d instanceof Error){const T=new d.constructor;return v.set(d,T),T.message=d.message,T.name=d.name,T.stack=d.stack,T.cause=d.cause,u(T,d,g,v,x),T}if(typeof d=="object"&&f(d)){const T=Object.create(Object.getPrototypeOf(d));return v.set(d,T),u(T,d,g,v,x),T}return d}function u(d,p,g=d,v,x){const S=[...Object.keys(p),...e.getSymbols(p)];for(let T=0;T<S.length;T++){const _=S[T],C=Object.getOwnPropertyDescriptor(d,_);(C==null||C.writable)&&(d[_]=l(p[_],_,g,v,x))}}function f(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=l,t.copyProperties=u})(RE)),RE}var lL;function Bue(){return lL||(lL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e8();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(PE)),PE}var cL;function zue(){return cL||(cL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jO(),n=Bue();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(CE)),CE}var zE={},UE={},FE={},uL;function Uue(){return uL||(uL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e8(),n=Z$();function r(i,s){return e.cloneDeepWith(i,(a,l,u,f)=>{const d=s?.(a,l,u,f);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(FE)),FE}var fL;function Fue(){return fL||(fL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uue();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(UE)),UE}var $E={},HE={},dL;function t8(){return dL||(dL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(HE)),HE}var qE={},hL;function $ue(){return hL||(hL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J$();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(qE)),qE}var pL;function Hue(){return pL||(pL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w$(),n=t8(),r=$ue(),i=kO();function s(a,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&e.isDeepKey(l)&&a?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let f=a;for(let d=0;d<u.length;d++){const p=u[d];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=s})($E)),$E}var mL;function que(){return mL||(mL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jO(),n=S$(),r=Fue(),i=CO(),s=Hue();function a(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(f){const d=i.get(f,l);return d===void 0?s.has(f,l):u===void 0?d===void 0:e.isMatch(d,u)}}t.matchesProperty=a})(zE)),zE}var gL;function Kue(){return gL||(gL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G$(),n=Rue(),r=zue(),i=que();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(AE)),AE}var yL;function Wue(){return yL||(yL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mue(),n=G$(),r=Pue(),i=Kue();function s(a,l=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(l)):[]}t.uniqBy=s})(bE)),bE}var KE,vL;function Gue(){return vL||(vL=1,KE=Wue().uniqBy),KE}var Yue=Gue();const bL=Ta(Yue);function Xue(t,e,n){return e===!0?bL(t,n):typeof e=="function"?bL(t,e):t}var WE={exports:{}},GE={},YE={exports:{}},XE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xL;function Que(){if(xL)return XE;xL=1;var t=Ch();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function l(p,g){var v=g(),x=r({inst:{value:v,getSnapshot:g}}),S=x[0].inst,T=x[1];return s(function(){S.value=v,S.getSnapshot=g,u(S)&&T({inst:S})},[p,v,g]),i(function(){return u(S)&&T({inst:S}),p(function(){u(S)&&T({inst:S})})},[p]),a(v),v}function u(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!n(p,v)}catch{return!0}}function f(p,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return XE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,XE}var wL;function n8(){return wL||(wL=1,YE.exports=Que()),YE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SL;function Jue(){if(SL)return GE;SL=1;var t=Ch(),e=n8();function n(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return GE.useSyncExternalStoreWithSelector=function(f,d,p,g,v){var x=s(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=l(function(){function _(B){if(!C){if(C=!0,D=B,B=g(B),v!==void 0&&S.hasValue){var N=S.value;if(v(N,B))return L=N}return L=B}if(N=L,r(D,B))return N;var M=g(B);return v!==void 0&&v(N,M)?(D=B,N):(D=B,L=M)}var C=!1,D,L,R=p===void 0?null:p;return[function(){return _(d())},R===null?void 0:function(){return _(R())}]},[d,p,g,v]);var T=i(f,x[0],x[1]);return a(function(){S.hasValue=!0,S.value=T},[T]),u(T),T},GE}var TL;function Zue(){return TL||(TL=1,WE.exports=Jue()),WE.exports}var r8=Zue(),LO=A.createContext(null),efe=t=>t,mr=()=>{var t=A.useContext(LO);return t?t.store.dispatch:efe},Uv=()=>{},tfe=()=>Uv,nfe=(t,e)=>t===e;function De(t){var e=A.useContext(LO);return r8.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:tfe,e?e.store.getState:Uv,e?e.store.getState:Uv,e?t:Uv,nfe)}function rfe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function ife(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function sfe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var EL=t=>Array.isArray(t)?t:[t];function afe(t){const e=Array.isArray(t[0])?t[0]:t;return sfe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function ofe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var lfe=class{constructor(t){this.value=t}deref(){return this.value}},cfe=typeof WeakRef<"u"?WeakRef:lfe,ufe=0,_L=1;function J0(){return{s:ufe,v:void 0,o:null,p:null}}function i8(t,e={}){let n=J0();const{resultEqualityCheck:r}=e;let i,s=0;function a(){let l=n;const{length:u}=arguments;for(let p=0,g=u;p<g;p++){const v=arguments[p];if(typeof v=="function"||typeof v=="object"&&v!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const S=x.get(v);S===void 0?(l=J0(),x.set(v,l)):l=S}else{let x=l.p;x===null&&(l.p=x=new Map);const S=x.get(v);S===void 0?(l=J0(),x.set(v,l)):l=S}}const f=l;let d;if(l.s===_L)d=l.v;else if(d=t.apply(null,arguments),s++,r){const p=i?.deref?.()??i;p!=null&&r(p,d)&&(d=p,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new cfe(d):d}return f.s=_L,f.v=d,d}return a.clearCache=()=>{n=J0(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function ffe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,l,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),rfe(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const d={...n,...u},{memoize:p,memoizeOptions:g=[],argsMemoize:v=i8,argsMemoizeOptions:x=[]}=d,S=EL(g),T=EL(x),_=afe(i),C=p(function(){return s++,f.apply(null,arguments)},...S),D=v(function(){a++;const R=ofe(_,arguments);return l=C.apply(null,R),l},...T);return Object.assign(D,{resultFunc:f,memoizedResultFunc:C,dependencies:_,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var ie=ffe(i8),dfe=Object.assign((t,e=ie)=>{ife(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,l,u)=>(a[n[u]]=l,a),{}))},{withTypes:()=>dfe}),QE={},JE={},ZE={},AL;function hfe(){return AL||(AL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),l=e(i);if(a===l&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};t.compareValues=n})(ZE)),ZE}var e_={},t_={},kL;function s8(){return kL||(kL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(t_)),t_}var CL;function pfe(){return CL||(CL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s8(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(e_)),e_}var OL;function mfe(){return OL||(OL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hfe(),n=pfe(),r=kO();function i(s,a,l,u){if(s==null)return[];l=u?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const f=(v,x)=>{let S=v;for(let T=0;T<x.length&&S!=null;++T)S=S[x[T]];return S},d=(v,x)=>x==null||v==null?x:typeof v=="object"&&"key"in v?Object.hasOwn(x,v.key)?x[v.key]:f(x,v.path):typeof v=="function"?v(x):Array.isArray(v)?f(x,v):typeof x=="object"?x[v]:x,p=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return s.map(v=>({original:v,criteria:p.map(x=>d(x,v))})).slice().sort((v,x)=>{for(let S=0;S<p.length;S++){const T=e.compareValues(v.criteria[S],x.criteria[S],l[S]);if(T!==0)return T}return 0}).map(v=>v.original)}t.orderBy=i})(JE)),JE}var n_={},NL;function gfe(){return NL||(NL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(l,u)=>{for(let f=0;f<l.length;f++){const d=l[f];Array.isArray(d)&&u<s?a(d,u+1):i.push(d)}};return a(n,0),i}t.flatten=e})(n_)),n_}var r_={},ML;function a8(){return ML||(ML=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t8(),n=RO(),r=Y$(),i=Q$();function s(a,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&e.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],a):!1}t.isIterateeCall=s})(r_)),r_}var DL;function yfe(){return DL||(DL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mfe(),n=gfe(),r=a8();function i(s,...a){const l=a.length;return l>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(QE)),QE}var i_,IL;function vfe(){return IL||(IL=1,i_=yfe().sortBy),i_}var bfe=vfe();const C1=Ta(bfe);var o8=t=>t.legend.settings,xfe=t=>t.legend.size,wfe=t=>t.legend.payload;ie([wfe,o8],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?C1(r,n):r});var Z0=1;function Sfe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>Z0||Math.abs(a.left-e.left)>Z0||Math.abs(a.top-e.top)>Z0||Math.abs(a.width-e.width)>Z0)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Cr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Tfe=typeof Symbol=="function"&&Symbol.observable||"@@observable",PL=Tfe,s_=()=>Math.random().toString(36).substring(7).split("").join("."),Efe={INIT:`@@redux/INIT${s_()}`,REPLACE:`@@redux/REPLACE${s_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${s_()}`},Ob=Efe;function VO(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function l8(t,e,n){if(typeof t!="function")throw new Error(Cr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Cr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Cr(1));return n(l8)(t,e)}let r=t,i=e,s=new Map,a=s,l=0,u=!1;function f(){a===s&&(a=new Map,s.forEach((T,_)=>{a.set(_,T)}))}function d(){if(u)throw new Error(Cr(3));return i}function p(T){if(typeof T!="function")throw new Error(Cr(4));if(u)throw new Error(Cr(5));let _=!0;f();const C=l++;return a.set(C,T),function(){if(_){if(u)throw new Error(Cr(6));_=!1,f(),a.delete(C),s=null}}}function g(T){if(!VO(T))throw new Error(Cr(7));if(typeof T.type>"u")throw new Error(Cr(8));if(typeof T.type!="string")throw new Error(Cr(17));if(u)throw new Error(Cr(9));try{u=!0,i=r(i,T)}finally{u=!1}return(s=a).forEach(C=>{C()}),T}function v(T){if(typeof T!="function")throw new Error(Cr(10));r=T,g({type:Ob.REPLACE})}function x(){const T=p;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Cr(11));function C(){const L=_;L.next&&L.next(d())}return C(),{unsubscribe:T(C)}},[PL](){return this}}}return g({type:Ob.INIT}),{dispatch:g,subscribe:p,getState:d,replaceReducer:v,[PL]:x}}function _fe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Ob.INIT})>"u")throw new Error(Cr(12));if(typeof n(void 0,{type:Ob.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Cr(13))})}function c8(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{_fe(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let u=!1;const f={};for(let d=0;d<r.length;d++){const p=r[d],g=n[p],v=a[p],x=g(v,l);if(typeof x>"u")throw l&&l.type,new Error(Cr(14));f[p]=x,u=u||x!==v}return u=u||r.length!==Object.keys(a).length,u?f:a}}function Nb(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Afe(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Cr(15))};const a={getState:i.getState,dispatch:(u,...f)=>s(u,...f)},l=t.map(u=>u(a));return s=Nb(...l)(i.dispatch),{...i,dispatch:s}}}function u8(t){return VO(t)&&"type"in t&&typeof t.type=="string"}var f8=Symbol.for("immer-nothing"),RL=Symbol.for("immer-draftable"),is=Symbol.for("immer-state");function fa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var gh=Object.getPrototypeOf;function bf(t){return!!t&&!!t[is]}function tl(t){return t?d8(t)||Array.isArray(t)||!!t[RL]||!!t.constructor?.[RL]||Jg(t)||N1(t):!1}var kfe=Object.prototype.constructor.toString();function d8(t){if(!t||typeof t!="object")return!1;const e=gh(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===kfe}function Mb(t,e){O1(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function O1(t){const e=t[is];return e?e.type_:Array.isArray(t)?1:Jg(t)?2:N1(t)?3:0}function Sk(t,e){return O1(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function h8(t,e,n){const r=O1(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Cfe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Jg(t){return t instanceof Map}function N1(t){return t instanceof Set}function ju(t){return t.copy_||t.base_}function Tk(t,e){if(Jg(t))return new Map(t);if(N1(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=d8(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[is];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(gh(t),r)}else{const r=gh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function BO(t,e=!1){return M1(t)||bf(t)||!tl(t)||(O1(t)>1&&Object.defineProperties(t,{set:{value:ev},add:{value:ev},clear:{value:ev},delete:{value:ev}}),Object.freeze(t),e&&Object.values(t).forEach(n=>BO(n,!0))),t}function ev(){fa(2)}function M1(t){return Object.isFrozen(t)}var Ofe={};function xf(t){const e=Ofe[t];return e||fa(0,t),e}var og;function p8(){return og}function Nfe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jL(t,e){e&&(xf("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ek(t){_k(t),t.drafts_.forEach(Mfe),t.drafts_=null}function _k(t){t===og&&(og=t.parent_)}function LL(t){return og=Nfe(og,t)}function Mfe(t){const e=t[is];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function VL(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[is].modified_&&(Ek(e),fa(4)),tl(t)&&(t=Db(e,t),e.parent_||Ib(e,t)),e.patches_&&xf("Patches").generateReplacementPatches_(n[is].base_,t,e.patches_,e.inversePatches_)):t=Db(e,n,[]),Ek(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==f8?t:void 0}function Db(t,e,n){if(M1(e))return e;const r=e[is];if(!r)return Mb(e,(i,s)=>BL(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Ib(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),Mb(s,(l,u)=>BL(t,r,i,l,u,n,a)),Ib(t,i,!1),n&&t.patches_&&xf("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function BL(t,e,n,r,i,s,a){if(bf(i)){const l=s&&e&&e.type_!==3&&!Sk(e.assigned_,r)?s.concat(r):void 0,u=Db(t,i,l);if(h8(n,r,u),bf(u))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(tl(i)&&!M1(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Db(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Jg(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Ib(t,i)}}function Ib(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&BO(e,n)}function Dfe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:p8(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=zO;n&&(i=[r],s=lg);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,l}var zO={get(t,e){if(e===is)return t;const n=ju(t);if(!Sk(n,e))return Ife(t,n,e);const r=n[e];return t.finalized_||!tl(r)?r:r===a_(t.base_,e)?(o_(t),t.copy_[e]=kk(r,t)):r},has(t,e){return e in ju(t)},ownKeys(t){return Reflect.ownKeys(ju(t))},set(t,e,n){const r=m8(ju(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=a_(ju(t),e),s=i?.[is];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Cfe(n,i)&&(n!==void 0||Sk(t.base_,e)))return!0;o_(t),Ak(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return a_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,o_(t),Ak(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ju(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){fa(11)},getPrototypeOf(t){return gh(t.base_)},setPrototypeOf(){fa(12)}},lg={};Mb(zO,(t,e)=>{lg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});lg.deleteProperty=function(t,e){return lg.set.call(this,t,e,void 0)};lg.set=function(t,e,n){return zO.set.call(this,t[0],e,n,t[0])};function a_(t,e){const n=t[is];return(n?ju(n):t)[e]}function Ife(t,e,n){const r=m8(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function m8(t,e){if(!(e in t))return;let n=gh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=gh(n)}}function Ak(t){t.modified_||(t.modified_=!0,t.parent_&&Ak(t.parent_))}function o_(t){t.copy_||(t.copy_=Tk(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Pfe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(u=s,...f){return a.produce(u,d=>n.call(this,d,...f))}}typeof n!="function"&&fa(6),r!==void 0&&typeof r!="function"&&fa(7);let i;if(tl(e)){const s=LL(this),a=kk(e,void 0);let l=!0;try{i=n(a),l=!1}finally{l?Ek(s):_k(s)}return jL(s,r),VL(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===f8&&(i=void 0),this.autoFreeze_&&BO(i,!0),r){const s=[],a=[];xf("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else fa(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,u=>e(u,...l));let r,i;return[this.produce(e,n,(a,l)=>{r=a,i=l}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){tl(t)||fa(8),bf(t)&&(t=Ho(t));const e=LL(this),n=kk(t,void 0);return n[is].isManual_=!0,_k(e),n}finishDraft(t,e){const n=t&&t[is];(!n||!n.isManual_)&&fa(9);const{scope_:r}=n;return jL(r,e),VL(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=xf("Patches").applyPatches_;return bf(t)?r(t,e):this.produce(t,i=>r(i,e))}};function kk(t,e){const n=Jg(t)?xf("MapSet").proxyMap_(t,e):N1(t)?xf("MapSet").proxySet_(t,e):Dfe(t,e);return(e?e.scope_:p8()).drafts_.push(n),n}function Ho(t){return bf(t)||fa(10,t),g8(t)}function g8(t){if(!tl(t)||M1(t))return t;const e=t[is];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Tk(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Tk(t,!0);return Mb(n,(r,i)=>{h8(n,r,g8(i))}),e&&(e.finalized_=!1),n}var Rfe=new Pfe,y8=Rfe.produce;function v8(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var jfe=v8(),Lfe=v8,Vfe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Nb:Nb.apply(null,arguments)};function Ks(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ts(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>u8(r)&&r.type===t,n}var b8=class cm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,cm.prototype)}static get[Symbol.species](){return cm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new cm(...e[0].concat(this)):new cm(...e.concat(this))}};function zL(t){return tl(t)?y8(t,()=>{}):t}function tv(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Bfe(t){return typeof t=="boolean"}var zfe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new b8;return n&&(Bfe(n)?a.push(jfe):a.push(Lfe(n.extraArgument))),a},Ufe="RTK_autoBatch",UL=t=>e=>{setTimeout(e,t)},Ffe=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:UL(10):t.type==="callback"?t.queueNotification:UL(t.timeout),f=()=>{a=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const p=()=>i&&d(),g=r.subscribe(p);return l.add(d),()=>{g(),l.delete(d)}},dispatch(d){try{return i=!d?.meta?.[Ufe],s=!i,s&&(a||(a=!0,u(f))),r.dispatch(d)}finally{i=!0}}})},$fe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new b8(t);return r&&i.push(Ffe(typeof r=="object"?r:void 0)),i};function Hfe(t){const e=zfe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(VO(n))l=c8(n);else throw new Error(ts(1));let u;typeof r=="function"?u=r(e):u=e();let f=Nb;i&&(f=Vfe({trace:!1,...typeof i=="object"&&i}));const d=Afe(...u),p=$fe(d);let g=typeof a=="function"?a(p):p();const v=f(...g);return l8(l,s,v)}function x8(t){const e={},n=[];let r;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(ts(28));if(l in e)throw new Error(ts(29));return e[l]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function qfe(t){return typeof t=="function"}function Kfe(t,e){let[n,r,i]=x8(e),s;if(qfe(t))s=()=>zL(t());else{const l=zL(t);s=()=>l}function a(l=s(),u){let f=[n[u.type],...r.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return f.filter(d=>!!d).length===0&&(f=[i]),f.reduce((d,p)=>{if(p)if(bf(d)){const v=p(d,u);return v===void 0?d:v}else{if(tl(d))return y8(d,g=>p(g,u));{const g=p(d,u);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},l)}return a.getInitialState=s,a}var Wfe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Gfe=(t=21)=>{let e="",n=t;for(;n--;)e+=Wfe[Math.random()*64|0];return e},Yfe=Symbol.for("rtk-slice-createasyncthunk");function Xfe(t,e){return`${t}/${e}`}function Qfe({creators:t}={}){const e=t?.asyncThunk?.[Yfe];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(ts(11));const a=(typeof r.reducers=="function"?r.reducers(Zfe()):r.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(D,L){const R=typeof D=="string"?D:D.type;if(!R)throw new Error(ts(12));if(R in u.sliceCaseReducersByType)throw new Error(ts(13));return u.sliceCaseReducersByType[R]=L,f},addMatcher(D,L){return u.sliceMatchers.push({matcher:D,reducer:L}),f},exposeAction(D,L){return u.actionCreators[D]=L,f},exposeCaseReducer(D,L){return u.sliceCaseReducersByName[D]=L,f}};l.forEach(D=>{const L=a[D],R={reducerName:D,type:Xfe(i,D),createNotation:typeof r.reducers=="function"};tde(L)?rde(R,L,f,e):ede(R,L,f)});function d(){const[D={},L=[],R=void 0]=typeof r.extraReducers=="function"?x8(r.extraReducers):[r.extraReducers],B={...D,...u.sliceCaseReducersByType};return Kfe(r.initialState,N=>{for(let M in B)N.addCase(M,B[M]);for(let M of u.sliceMatchers)N.addMatcher(M.matcher,M.reducer);for(let M of L)N.addMatcher(M.matcher,M.reducer);R&&N.addDefaultCase(R)})}const p=D=>D,g=new Map,v=new WeakMap;let x;function S(D,L){return x||(x=d()),x(D,L)}function T(){return x||(x=d()),x.getInitialState()}function _(D,L=!1){function R(N){let M=N[D];return typeof M>"u"&&L&&(M=tv(v,R,T)),M}function B(N=p){const M=tv(g,L,()=>new WeakMap);return tv(M,N,()=>{const P={};for(const[F,V]of Object.entries(r.selectors??{}))P[F]=Jfe(V,N,()=>tv(v,N,T),L);return P})}return{reducerPath:D,getSelectors:B,get selectors(){return B(R)},selectSlice:R}}const C={name:i,reducer:S,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:T,..._(s),injectInto(D,{reducerPath:L,...R}={}){const B=L??s;return D.inject({reducerPath:B,reducer:S},R),{...C,..._(B,!0)}}};return C}}function Jfe(t,e,n,r){function i(s,...a){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...a)}return i.unwrapped=t,i}var ls=Qfe();function Zfe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function ede({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!nde(r))throw new Error(ts(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Ks(t,a):Ks(t))}function tde(t){return t._reducerDefinitionType==="asyncThunk"}function nde(t){return t._reducerDefinitionType==="reducerWithPrepare"}function rde({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ts(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:u,settled:f,options:d}=n,p=i(t,s,d);r.exposeAction(e,p),a&&r.addCase(p.fulfilled,a),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:a||nv,pending:l||nv,rejected:u||nv,settled:f||nv})}function nv(){}var ide="task",w8="listener",S8="completed",UO="cancelled",sde=`task-${UO}`,ade=`task-${S8}`,Ck=`${w8}-${UO}`,ode=`${w8}-${S8}`,D1=class{constructor(t){this.code=t,this.message=`${ide} ${UO} (reason: ${t})`}name="TaskAbortError";message},FO=(t,e)=>{if(typeof t!="function")throw new TypeError(ts(32))},Pb=()=>{},T8=(t,e=Pb)=>(t.catch(e),t),E8=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),tf=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},nf=t=>{if(t.aborted){const{reason:e}=t;throw new D1(e)}};function _8(t,e){let n=Pb;return new Promise((r,i)=>{const s=()=>i(new D1(t.reason));if(t.aborted){s();return}n=E8(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Pb})}var lde=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof D1?"cancelled":"rejected",error:n}}finally{e?.()}},Rb=t=>e=>T8(_8(t,e).then(n=>(nf(t),n))),A8=t=>{const e=Rb(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:eh}=Object,FL={},I1="listenerMiddleware",cde=(t,e)=>{const n=r=>E8(t,()=>tf(r,t.reason));return(r,i)=>{FO(r);const s=new AbortController;n(s);const a=lde(async()=>{nf(t),nf(s.signal);const l=await r({pause:Rb(s.signal),delay:A8(s.signal),signal:s.signal});return nf(s.signal),l},()=>tf(s,ade));return i?.autoJoin&&e.push(a.catch(Pb)),{result:Rb(t)(a),cancel(){tf(s,sde)}}}},ude=(t,e)=>{const n=async(r,i)=>{nf(e);let s=()=>{};const l=[new Promise((u,f)=>{let d=t({predicate:r,effect:(p,g)=>{g.unsubscribe(),u([p,g.getState(),g.getOriginalState()])}});s=()=>{d(),f()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await _8(e,Promise.race(l));return nf(e),u}finally{s()}};return(r,i)=>T8(n(r,i))},k8=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Ks(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ts(21));return FO(s),{predicate:i,type:e,effect:s}},C8=eh(t=>{const{type:e,predicate:n,effect:r}=k8(t);return{id:Gfe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ts(22))}}},{withTypes:()=>C8}),$L=(t,e)=>{const{type:n,effect:r,predicate:i}=k8(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},Ok=t=>{t.pending.forEach(e=>{tf(e,Ck)})},fde=t=>()=>{t.forEach(Ok),t.clear()},HL=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},O8=eh(Ks(`${I1}/add`),{withTypes:()=>O8}),dde=Ks(`${I1}/removeAll`),N8=eh(Ks(`${I1}/remove`),{withTypes:()=>N8}),hde=(...t)=>{console.error(`${I1}/error`,...t)},Zg=(t={})=>{const e=new Map,{extra:n,onError:r=hde}=t;FO(r);const i=d=>(d.unsubscribe=()=>e.delete(d.id),e.set(d.id,d),p=>{d.unsubscribe(),p?.cancelActive&&Ok(d)}),s=d=>{const p=$L(e,d)??C8(d);return i(p)};eh(s,{withTypes:()=>s});const a=d=>{const p=$L(e,d);return p&&(p.unsubscribe(),d.cancelActive&&Ok(p)),!!p};eh(a,{withTypes:()=>a});const l=async(d,p,g,v)=>{const x=new AbortController,S=ude(s,x.signal),T=[];try{d.pending.add(x),await Promise.resolve(d.effect(p,eh({},g,{getOriginalState:v,condition:(_,C)=>S(_,C).then(Boolean),take:S,delay:A8(x.signal),pause:Rb(x.signal),extra:n,signal:x.signal,fork:cde(x.signal,T),unsubscribe:d.unsubscribe,subscribe:()=>{e.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((_,C,D)=>{_!==x&&(tf(_,Ck),D.delete(_))})},cancel:()=>{tf(x,Ck),d.pending.delete(x)},throwIfCancelled:()=>{nf(x.signal)}})))}catch(_){_ instanceof D1||HL(r,_,{raisedBy:"effect"})}finally{await Promise.all(T),tf(x,ode),d.pending.delete(x)}},u=fde(e);return{middleware:d=>p=>g=>{if(!u8(g))return p(g);if(O8.match(g))return s(g.payload);if(dde.match(g)){u();return}if(N8.match(g))return a(g.payload);let v=d.getState();const x=()=>{if(v===FL)throw new Error(ts(23));return v};let S;try{if(S=p(g),e.size>0){const T=d.getState(),_=Array.from(e.values());for(const C of _){let D=!1;try{D=C.predicate(g,T,v)}catch(L){D=!1,HL(r,L,{raisedBy:"predicate"})}D&&l(C,g,d,x)}}}finally{v=FL}return S},startListening:s,stopListening:a,clearListeners:u}};function ts(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pde={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},M8=ls({name:"chartLayout",initialState:pde,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:mde,setLayout:gde,setChartSize:yde,setScale:vde}=M8.actions,bde=M8.reducer;function qL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(n),!0).forEach(function(r){xde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xde(t,e,n){return(e=wde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wde(t){var e=Sde(t,"string");return typeof e=="symbol"?e:e+""}function Sde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jb=Math.PI/180,Tde=t=>t*180/Math.PI,Lr=(t,e,n,r)=>({x:t+Math.cos(-jb*r)*n,y:e+Math.sin(-jb*r)*n}),Ede=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},_de=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},Ade=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=_de({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(n-i)/a,u=Math.acos(l);return r>s&&(u=2*Math.PI-u),{radius:a,angle:Tde(u),angleInRadian:u}},kde=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},Cde=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},Ode=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:s}=Ade({x:n,y:r},e),{innerRadius:a,outerRadius:l}=e;if(i<a||i>l||i===0)return null;var{startAngle:u,endAngle:f}=kde(e),d=s,p;if(u<=f){for(;d>f;)d-=360;for(;d<u;)d+=360;p=d>=u&&d<=f}else{for(;d>u;)d-=360;for(;d<f;)d+=360;p=d>=f&&d<=u}return p?KL(KL({},e),{},{radius:i,angle:Cde(d,e)}):null};function D8(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function WL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ls(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(n),!0).forEach(function(r){Nde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nde(t,e,n){return(e=Mde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mde(t){var e=Dde(t,"string");return typeof e=="symbol"?e:e+""}function Dde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dr(t,e,n){return hn(t)||hn(e)?n:Za(e)?ph(t,e,n):typeof e=="function"?e(t):n}var Ide=(t,e,n,r,i)=>{var s,a=-1,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var f=u>0?n[u-1].coordinate:n[l-1].coordinate,d=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,g=void 0;if(Oi(d-f)!==Oi(p-d)){var v=[];if(Oi(p-d)===Oi(i[1]-i[0])){g=p;var x=d+i[1]-i[0];v[0]=Math.min(x,(x+f)/2),v[1]=Math.max(x,(x+f)/2)}else{g=f;var S=p+i[1]-i[0];v[0]=Math.min(d,(S+d)/2),v[1]=Math.max(d,(S+d)/2)}var T=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(t>T[0]&&t<=T[1]||t>=v[0]&&t<=v[1]){({index:a}=n[u]);break}}else{var _=Math.min(f,p),C=Math.max(f,p);if(t>(_+d)/2&&t<=(C+d)/2){({index:a}=n[u]);break}}}else if(e){for(var D=0;D<l;D++)if(D===0&&t<=(e[D].coordinate+e[D+1].coordinate)/2||D>0&&D<l-1&&t>(e[D].coordinate+e[D-1].coordinate)/2&&t<=(e[D].coordinate+e[D+1].coordinate)/2||D===l-1&&t>(e[D].coordinate+e[D-1].coordinate)/2){({index:a}=e[D]);break}}return a},Pde=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:l}=e;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&Be(t[s]))return Ls(Ls({},t),{},{[s]:t[s]+(r||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&Be(t[a]))return Ls(Ls({},t),{},{[a]:t[a]+(i||0)})}return t},Gc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",I8=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,s,a=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate));return i||a.push(e),s||a.push(n),a},P8=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:l,isCategorical:u,categoricalDomain:f,tickCount:d,ticks:p,niceTicks:g,axisType:v}=t;if(!a)return null;var x=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,S=i==="category"&&a.bandwidth?a.bandwidth()/x:0;if(S=v==="angleAxis"&&s&&s.length>=2?Oi(s[0]-s[1])*2*S:S,p||g){var T=(p||g||[]).map((_,C)=>{var D=r?r.indexOf(_):_;return{coordinate:a(D)+S,value:_,offset:S,index:C}});return T.filter(_=>!rs(_.coordinate))}return u&&f?f.map((_,C)=>({coordinate:a(_)+S,value:_,index:C,offset:S})):a.ticks&&d!=null?a.ticks(d).map((_,C)=>({coordinate:a(_)+S,value:_,offset:S,index:C})):a.domain().map((_,C)=>({coordinate:a(_)+S,value:r?r[_]:_,index:C,offset:S}))},GL=1e-4,Rde=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-GL,s=Math.max(r[0],r[1])+GL,a=t(e[0]),l=t(e[n-1]);(a<i||a>s||l<i||l>s)&&t.domain([e[0],e[n-1]])}},jde=(t,e)=>{if(!e||e.length!==2||!Be(e[0])||!Be(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Be(t[0])||t[0]<n)&&(i[0]=n),(!Be(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Lde=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,a=0;a<e;++a){var l=rs(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=i,t[a][n][1]=i+l,i=t[a][n][1]):(t[a][n][0]=s,t[a][n][1]=s+l,s=t[a][n][1])}},Vde=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var a=rs(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=i,t[s][n][1]=i+a,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},Bde={sign:Lde,expand:vue,none:mh,silhouette:bue,wiggle:xue,positive:Vde},zde=(t,e,n)=>{var r=Bde[n],i=yue().keys(e).value((s,a)=>+dr(s,a,0)).order(xk).offset(r);return i(t)};function Ude(t){return t==null?void 0:String(t)}function YL(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!hn(i[e.dataKey])){var l=E$(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var u=dr(i,hn(a)?e.dataKey:a);return hn(u)?null:e.scale(u)}var XL=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var l=dr(s,e.dataKey,e.scale.domain()[a]);return hn(l)?null:e.scale(l)-i/2+r},Fde=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},$de=t=>{var e=t.flat(2).filter(Be);return[Math.min(...e),Math.max(...e)]},Hde=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],qde=(t,e,n)=>{if(t!=null)return Hde(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:a}=s,l=a.reduce((u,f)=>{var d=D8(f,e,n),p=$de(d);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},QL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cg=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=C1(e,d=>d.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var u=i[a],f=i[a-1];s=Math.min((u.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function ZL(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Ls(Ls({},e),{},{dataKey:n,payload:r,value:i,name:s})}function P1(t,e){if(t)return String(t);if(typeof e=="string")return e}function Kde(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return r?Ode({x:t,y:e},r):null}var Wde=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:a}=r;return Ls(Ls(Ls({},r),Lr(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:u}=r;return Ls(Ls(Ls({},r),Lr(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{x:0,y:0}},Gde=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,ll=t=>t.layout.width,cl=t=>t.layout.height,Yde=t=>t.layout.scale,R8=t=>t.layout.margin,R1=ie(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),j1=ie(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Xde="data-recharts-item-index",Qde="data-recharts-item-data-key",ey=60;function e3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e3(Object(n),!0).forEach(function(r){Jde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jde(t,e,n){return(e=Zde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zde(t){var e=ehe(t,"string");return typeof e=="symbol"?e:e+""}function ehe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var the=t=>t.brush.height;function nhe(t){var e=j1(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ey;return n+i}return n},0)}function rhe(t){var e=j1(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ey;return n+i}return n},0)}function ihe(t){var e=R1(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function she(t){var e=R1(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var gr=ie([ll,cl,R8,the,nhe,rhe,ihe,she,o8,xfe],(t,e,n,r,i,s,a,l,u,f)=>{var d={left:(n.left||0)+i,right:(n.right||0)+s},p={top:(n.top||0)+a,bottom:(n.bottom||0)+l},g=rv(rv({},p),d),v=g.bottom;g.bottom+=r,g=Pde(g,u,f);var x=t-g.left-g.right,S=e-g.top-g.bottom;return rv(rv({brushBottom:v},g),{},{width:Math.max(x,0),height:Math.max(S,0)})}),ahe=ie(gr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),$O=ie(ll,cl,(t,e)=>({x:0,y:0,width:t,height:e})),ohe=A.createContext(null),Ii=()=>A.useContext(ohe)!=null,L1=t=>t.brush,V1=ie([L1,gr,R8],(t,e,n)=>({height:t.height,x:Be(t.x)?t.x:e.left,y:Be(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Be(t.width)?t.width:e.width})),HO=()=>{var t,e=Ii(),n=De(ahe),r=De(V1),i=(t=De(L1))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},lhe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},j8=()=>{var t;return(t=De(gr))!==null&&t!==void 0?t:lhe},L8=()=>De(ll),V8=()=>De(cl),St=t=>t.layout.layoutType,B1=()=>De(St),che={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},B8=ls({name:"legend",initialState:che,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Ho(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:mIe,setLegendSettings:gIe,addLegendPayload:uhe,removeLegendPayload:fhe}=B8.actions,dhe=B8.reducer;function Nk(){return Nk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nk.apply(null,arguments)}function t3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t3(Object(n),!0).forEach(function(r){hhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hhe(t,e,n){return(e=phe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function phe(t){var e=mhe(t,"string");return typeof e=="symbol"?e:e+""}function mhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ghe(t){return Array.isArray(t)&&Za(t[0])&&Za(t[1])?t.join(" ~ "):t}var yhe=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:u,labelClassName:f,label:d,labelFormatter:p,accessibilityLayer:g=!1}=t,v=()=>{if(s&&s.length){var R={padding:0,margin:0},B=(l?C1(s,l):s).map((N,M)=>{if(N.type==="none")return null;var P=N.formatter||a||ghe,{value:F,name:V}=N,$=F,U=V;if(P){var me=P(F,V,N,M,s);if(Array.isArray(me))[$,U]=me;else if(me!=null)$=me;else return null}var ve=l_({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:ve},Za(U)?A.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Za(U)?A.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,A.createElement("span",{className:"recharts-tooltip-item-value"},$),A.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:R},B)}return null},x=l_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=l_({margin:0},i),T=!hn(d),_=T?d:"",C=gt("recharts-default-tooltip",u),D=gt("recharts-tooltip-label",f);T&&p&&s!==void 0&&s!==null&&(_=p(d,s));var L=g?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",Nk({className:C,style:x},L),A.createElement("p",{className:D,style:S},A.isValidElement(_)?_:"".concat(_)),v())},qp="recharts-tooltip-wrapper",vhe={visibility:"hidden"};function bhe(t){var{coordinate:e,translateX:n,translateY:r}=t;return gt(qp,{["".concat(qp,"-right")]:Be(n)&&e&&Be(e.x)&&n>=e.x,["".concat(qp,"-left")]:Be(n)&&e&&Be(e.x)&&n<e.x,["".concat(qp,"-bottom")]:Be(r)&&e&&Be(e.y)&&r>=e.y,["".concat(qp,"-top")]:Be(r)&&e&&Be(e.y)&&r<e.y})}function n3(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:u,viewBoxDimension:f}=t;if(s&&Be(s[r]))return s[r];var d=n[r]-l-(i>0?i:0),p=n[r]+i;if(e[r])return a[r]?d:p;var g=u[r];if(g==null)return 0;if(a[r]){var v=d,x=g;return v<x?Math.max(p,g):Math.max(d,g)}if(f==null)return 0;var S=p+l,T=g+f;return S>T?Math.max(d,g):Math.max(p,g)}function xhe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function whe(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:u}=t,f,d,p;return a.height>0&&a.width>0&&n?(d=n3({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:u,viewBoxDimension:u.width}),p=n3({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:u,viewBoxDimension:u.height}),f=xhe({translateX:d,translateY:p,useTranslate3d:l})):f=vhe,{cssProperties:f,cssClasses:bhe({translateX:d,translateY:p,coordinate:n})}}function r3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r3(Object(n),!0).forEach(function(r){Mk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mk(t,e,n){return(e=She(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function She(t){var e=The(t,"string");return typeof e=="symbol"?e:e+""}function The(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ehe extends A.PureComponent{constructor(){super(...arguments),Mk(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Mk(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:u,offset:f,position:d,reverseDirection:p,useTranslate3d:g,viewBox:v,wrapperStyle:x,lastBoundingBox:S,innerRef:T,hasPortalFromProps:_}=this.props,{cssClasses:C,cssProperties:D}=whe({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:f,position:d,reverseDirection:p,tooltipBox:{height:S.height,width:S.width},useTranslate3d:g,viewBox:v}),L=_?{}:iv(iv({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),R=iv(iv({},L),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},x);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:R,ref:T},s)}}var _he=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Rf={devToolsEnabled:!1,isSsr:_he()},z8=()=>De(t=>t.rootProps.accessibilityLayer);function ss(t){return Number.isFinite(t)}function Lb(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Dk(){return Dk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dk.apply(null,arguments)}function i3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i3(Object(n),!0).forEach(function(r){Ahe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ahe(t,e,n){return(e=khe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function khe(t){var e=Che(t,"string");return typeof e=="symbol"?e:e+""}function Che(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a3={curveBasisClosed:aue,curveBasisOpen:oue,curveBasis:sue,curveBumpX:qce,curveBumpY:Kce,curveLinearClosed:lue,curveLinear:A1,curveMonotoneX:cue,curveMonotoneY:uue,curveNatural:fue,curveStep:due,curveStepAfter:pue,curveStepBefore:hue},sv=t=>ss(t.x)&&ss(t.y),Kp=t=>t.x,Wp=t=>t.y,Ohe=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Qg(t));return(n==="curveMonotone"||n==="curveBump")&&e?a3["".concat(n).concat(e==="vertical"?"Y":"X")]:a3[n]||A1},Nhe=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,a=Ohe(e,i),l=s?n.filter(sv):n,u;if(Array.isArray(r)){var f=s?r.filter(p=>sv(p)):r,d=l.map((p,g)=>s3(s3({},p),{},{base:f[g]}));return i==="vertical"?u=Q0().y(Wp).x1(Kp).x0(p=>p.base.x):u=Q0().x(Kp).y1(Wp).y0(p=>p.base.y),u.defined(sv).curve(a),u(d)}return i==="vertical"&&Be(r)?u=Q0().y(Wp).x1(Kp).x0(r):Be(r)?u=Q0().x(Kp).y1(Wp).y0(r):u=R$().x(Kp).y(Wp),u.defined(sv).curve(a),u(l)},U8=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?Nhe(t):r;return A.createElement("path",Dk({},Wc(t),NO(t),{className:gt("recharts-curve",e),d:s===null?void 0:s,ref:i}))},Mhe=["x","y","top","left","width","height","className"];function Ik(){return Ik=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ik.apply(null,arguments)}function o3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dhe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o3(Object(n),!0).forEach(function(r){Ihe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ihe(t,e,n){return(e=Phe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Phe(t){var e=Rhe(t,"string");return typeof e=="symbol"?e:e+""}function Rhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jhe(t,e){if(t==null)return{};var n,r,i=Lhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vhe=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),Bhe=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:l}=t,u=jhe(t,Mhe),f=Dhe({x:e,y:n,top:r,left:i,width:s,height:a},u);return!Be(e)||!Be(n)||!Be(s)||!Be(a)||!Be(r)||!Be(i)?null:A.createElement("path",Ik({},jn(f,!0),{className:gt("recharts-cross",l),d:Vhe(e,n,s,a,r,i)}))};function zhe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function l3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uhe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l3(Object(n),!0).forEach(function(r){Fhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fhe(t,e,n){return(e=$he(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $he(t){var e=Hhe(t,"string");return typeof e=="symbol"?e:e+""}function Hhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pi(t,e){var n=Uhe({},t),r=e,i=Object.keys(e),s=i.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return s}function qhe(){}function c3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c3(Object(n),!0).forEach(function(r){Khe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Khe(t,e,n){return(e=Whe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Whe(t){var e=Ghe(t,"string");return typeof e=="symbol"?e:e+""}function Ghe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yhe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),F8=(t,e,n)=>t.map(r=>"".concat(Yhe(r)," ").concat(e,"ms ").concat(n)).join(","),Xhe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),ug=(t,e)=>Object.keys(e).reduce((n,r)=>u3(u3({},n),{},{[r]:t(r,e[r])}),{});function f3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f3(Object(n),!0).forEach(function(r){Qhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qhe(t,e,n){return(e=Jhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jhe(t){var e=Zhe(t,"string");return typeof e=="symbol"?e:e+""}function Zhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vb=(t,e,n)=>t+(e-t)*n,Pk=t=>{var{from:e,to:n}=t;return e!==n},$8=(t,e,n)=>{var r=ug((i,s)=>{if(Pk(s)){var[a,l]=t(s.from,s.to,s.velocity);return Dr(Dr({},s),{},{from:a,velocity:l})}return s},e);return n<1?ug((i,s)=>Pk(s)?Dr(Dr({},s),{},{velocity:Vb(s.velocity,r[i].velocity,n),from:Vb(s.from,r[i].from,n)}):s,e):$8(t,r,n-1)};function epe(t,e,n,r,i,s){var a,l=r.reduce((g,v)=>Dr(Dr({},g),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),u=()=>ug((g,v)=>v.from,l),f=()=>!Object.values(l).filter(Pk).length,d=null,p=g=>{a||(a=g);var v=g-a,x=v/n.dt;l=$8(n,l,x),i(Dr(Dr(Dr({},t),e),u())),a=g,f()||(d=s.setTimeout(p))};return()=>(d=s.setTimeout(p),()=>{d()})}function tpe(t,e,n,r,i,s,a){var l=null,u=i.reduce((p,g)=>Dr(Dr({},p),{},{[g]:[t[g],e[g]]}),{}),f,d=p=>{f||(f=p);var g=(p-f)/r,v=ug((S,T)=>Vb(...T,n(g)),u);if(s(Dr(Dr(Dr({},t),e),v)),g<1)l=a.setTimeout(d);else{var x=ug((S,T)=>Vb(...T,n(1)),u);s(Dr(Dr(Dr({},t),e),x))}};return()=>(l=a.setTimeout(d),()=>{l()})}const npe=(t,e,n,r,i,s)=>{var a=Xhe(t,e);return n.isStepper===!0?epe(t,e,n,a,i,s):tpe(t,e,n,r,a,i,s)};var Bb=1e-4,H8=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],q8=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),d3=(t,e)=>n=>{var r=H8(t,e);return q8(r,n)},rpe=(t,e)=>n=>{var r=H8(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return q8(i,n)},h3=function(){for(var e,n,r,i,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];if(a.length===1)switch(a[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var u=a[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([e,r,n,i]=u[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else a.length===4&&([e,r,n,i]=a);var f=d3(e,n),d=d3(r,i),p=rpe(e,n),g=x=>x>1?1:x<0?0:x,v=x=>{for(var S=x>1?1:x,T=S,_=0;_<8;++_){var C=f(T)-S,D=p(T);if(Math.abs(C-S)<Bb||D<Bb)return d(T);T=g(T-C/D)}return d(T)};return v.isStepper=!1,v},ipe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,l,u)=>{var f=-(a-l)*n,d=u*r,p=u+(f-d)*i/1e3,g=u*i/1e3+a;return Math.abs(g-l)<Bb&&Math.abs(p)<Bb?[l,0]:[g,p]};return s.isStepper=!0,s.dt=i,s},spe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return h3(t);case"spring":return ipe();default:if(t.split("(")[0]==="cubic-bezier")return h3(t)}return typeof t=="function"?t:null};function ape(t){var e,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[u,...f]=l;if(typeof u=="number"){i=t.setTimeout(s.bind(null,f),u);return}s(u),i=t.setTimeout(s.bind(null,f));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class ope{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function lpe(){return ape(new ope)}var cpe=A.createContext(lpe);function upe(t,e){var n=A.useContext(cpe);return A.useMemo(()=>e??n(t),[t,e,n])}var fpe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},p3={t:0},c_={t:1};function z1(t){var e=Pi(t,fpe),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:u,children:f}=e,d=upe(e.animationId,e.animationManager),[p,g]=A.useState(n?p3:c_),v=A.useRef(null);return A.useEffect(()=>{n||g(c_)},[n]),A.useEffect(()=>{if(!n||!r)return qhe;var x=npe(p3,c_,spe(s),i,g,d.getTimeoutController()),S=()=>{v.current=x()};return d.start([u,a,S,i,l]),()=>{d.stop(),v.current&&v.current(),l()}},[n,r,i,s,a,u,l,d]),f(p.t)}function U1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(ag(e)),r=A.useRef(t);return r.current!==t&&(n.current=ag(e),r.current=t),n.current}function m3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m3(Object(n),!0).forEach(function(r){dpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dpe(t,e,n){return(e=hpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hpe(t){var e=ppe(t,"string");return typeof e=="symbol"?e:e+""}function ppe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zb.apply(null,arguments)}var y3=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,f;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],p=0,g=4;p<g;p++)d[p]=i[p]>s?s:i[p];f="M".concat(t,",").concat(e+a*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+l*d[0],",").concat(e)),f+="L ".concat(t+n-l*d[1],",").concat(e),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(e+a*d[1])),f+="L ".concat(t+n,",").concat(e+r-a*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-l*d[2],",").concat(e+r)),f+="L ".concat(t+l*d[3],",").concat(e+r),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+r-a*d[3])),f+="Z"}else if(s>0&&i===+i&&i>0){var v=Math.min(s,i);f="M ".concat(t,",").concat(e+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+l*v,",").concat(e,`
            L `).concat(t+n-l*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(e+a*v,`
            L `).concat(t+n,",").concat(e+r-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-l*v,",").concat(e+r,`
            L `).concat(t+l*v,",").concat(e+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(e+r-a*v," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},mpe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},K8=t=>{var e=Pi(t,mpe),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var me=n.current.getTotalLength();me&&i(me)}catch{}},[]);var{x:s,y:a,width:l,height:u,radius:f,className:d}=e,{animationEasing:p,animationDuration:g,animationBegin:v,isAnimationActive:x,isUpdateAnimationActive:S}=e,T=A.useRef(l),_=A.useRef(u),C=A.useRef(s),D=A.useRef(a),L=A.useMemo(()=>({x:s,y:a,width:l,height:u,radius:f}),[s,a,l,u,f]),R=U1(L,"rectangle-");if(s!==+s||a!==+a||l!==+l||u!==+u||l===0||u===0)return null;var B=gt("recharts-rectangle",d);if(!S)return A.createElement("path",zb({},jn(e,!0),{className:B,d:y3(s,a,l,u,f)}));var N=T.current,M=_.current,P=C.current,F=D.current,V="0px ".concat(r===-1?1:r,"px"),$="".concat(r,"px 0px"),U=F8(["strokeDasharray"],g,typeof p=="string"?p:void 0);return A.createElement(z1,{animationId:R,key:R,canBegin:r>0,duration:g,easing:p,isActive:S,begin:v},me=>{var ve=Hn(N,l,me),G=Hn(M,u,me),K=Hn(P,s,me),ae=Hn(F,a,me);n.current&&(T.current=ve,_.current=G,C.current=K,D.current=ae);var pe;return x?me>0?pe={transition:U,strokeDasharray:$}:pe={strokeDasharray:V}:pe={strokeDasharray:$},A.createElement("path",zb({},jn(e,!0),{className:B,d:y3(K,ae,ve,G,f),ref:n,style:g3(g3({},pe),e.style)}))})};function W8(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=Lr(e,n,r,i),l=Lr(e,n,r,s);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function Rk(){return Rk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rk.apply(null,arguments)}var gpe=(t,e)=>{var n=Oi(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},av=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:u}=t,f=l*(a?1:-1)+r,d=Math.asin(l/f)/jb,p=u?i:i+s*d,g=Lr(e,n,f,p),v=Lr(e,n,r,p),x=u?i-s*d:i,S=Lr(e,n,f*Math.cos(d*jb),x);return{center:g,circleTangency:v,lineTangency:S,theta:d}},G8=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,l=gpe(s,a),u=s+l,f=Lr(e,n,i,s),d=Lr(e,n,i,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var g=Lr(e,n,r,s),v=Lr(e,n,r,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},ype=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:f}=t,d=Oi(f-u),{circleTangency:p,lineTangency:g,theta:v}=av({cx:e,cy:n,radius:i,angle:u,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:x,lineTangency:S,theta:T}=av({cx:e,cy:n,radius:i,angle:f,sign:-d,cornerRadius:s,cornerIsExternal:l}),_=l?Math.abs(u-f):Math.abs(u-f)-v-T;if(_<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):G8({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:f});var C="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:D,lineTangency:L,theta:R}=av({cx:e,cy:n,radius:r,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:B,lineTangency:N,theta:M}=av({cx:e,cy:n,radius:r,angle:f,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),P=l?Math.abs(u-f):Math.abs(u-f)-R-M;if(P<0&&s===0)return"".concat(C,"L").concat(e,",").concat(n,"Z");C+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(P>180),",").concat(+(d>0),",").concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(L.x,",").concat(L.y,"Z")}else C+="L".concat(e,",").concat(n,"Z");return C},vpe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Y8=t=>{var e=Pi(t,vpe),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d,className:p}=e;if(s<i||f===d)return null;var g=gt("recharts-sector",p),v=s-i,x=wa(a,v,0,!0),S;return x>0&&Math.abs(f-d)<360?S=ype({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(x,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}):S=G8({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:f,endAngle:d}),A.createElement("path",Rk({},jn(e,!0),{className:g,d:S}))};function bpe(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:l,cy:u,innerRadius:f,outerRadius:d,angle:p}=e,g=Lr(l,u,f,p),v=Lr(l,u,d,p);r=g.x,i=g.y,s=v.x,a=v.y}else return W8(e);return[{x:r,y:i},{x:s,y:a}]}var u_={},f_={},d_={},v3;function xpe(){return v3||(v3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s8();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(d_)),d_}var b3;function wpe(){return b3||(b3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xpe();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(f_)),f_}var x3;function Spe(){return x3||(x3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a8(),n=wpe();function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),u=new Array(l);for(let f=0;f<l;f++)u[f]=i,i+=a;return u}t.range=r})(u_)),u_}var h_,w3;function Tpe(){return w3||(w3=1,h_=Spe().range),h_}var Epe=Tpe();const X8=Ta(Epe);function wc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _pe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qO(t){let e,n,r;t.length!==2?(e=wc,n=(l,u)=>wc(t(l),u),r=(l,u)=>t(l)-u):(e=t===wc||t===_pe?t:Ape,n=t,r=t);function i(l,u,f=0,d=l.length){if(f<d){if(e(u,u)!==0)return d;do{const p=f+d>>>1;n(l[p],u)<0?f=p+1:d=p}while(f<d)}return f}function s(l,u,f=0,d=l.length){if(f<d){if(e(u,u)!==0)return d;do{const p=f+d>>>1;n(l[p],u)<=0?f=p+1:d=p}while(f<d)}return f}function a(l,u,f=0,d=l.length){const p=i(l,u,f,d-1);return p>f&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:a,right:s}}function Ape(){return 0}function Q8(t){return t===null?NaN:+t}function*kpe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Cpe=qO(wc),ty=Cpe.right;qO(Q8).center;class S3 extends Map{constructor(e,n=Mpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(T3(this,e))}has(e){return super.has(T3(this,e))}set(e,n){return super.set(Ope(this,e),n)}delete(e){return super.delete(Npe(this,e))}}function T3({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ope({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Npe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Mpe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Dpe(t=wc){if(t===wc)return J8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function J8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Ipe=Math.sqrt(50),Ppe=Math.sqrt(10),Rpe=Math.sqrt(2);function Ub(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=Ipe?10:s>=Ppe?5:s>=Rpe?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/a,l=Math.round(t*f),u=Math.round(e*f),l/f<t&&++l,u/f>e&&--u,f=-f):(f=Math.pow(10,i)*a,l=Math.round(t/f),u=Math.round(e/f),l*f<t&&++l,u*f>e&&--u),u<l&&.5<=n&&n<2?Ub(t,e,n*2):[l,u,f]}function jk(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?Ub(e,t,n):Ub(t,e,n);if(!(s>=i))return[];const l=s-i+1,u=new Array(l);if(r)if(a<0)for(let f=0;f<l;++f)u[f]=(s-f)/-a;else for(let f=0;f<l;++f)u[f]=(s-f)*a;else if(a<0)for(let f=0;f<l;++f)u[f]=(i+f)/-a;else for(let f=0;f<l;++f)u[f]=(i+f)*a;return u}function Lk(t,e,n){return e=+e,t=+t,n=+n,Ub(t,e,n)[2]}function Vk(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Lk(e,t,n):Lk(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function E3(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function _3(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Z8(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?J8:Dpe(i);r>n;){if(r-n>600){const u=r-n+1,f=e-n+1,d=Math.log(u),p=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*p*(u-p)/u)*(f-u/2<0?-1:1),v=Math.max(n,Math.floor(e-f*p/u+g)),x=Math.min(r,Math.floor(e+(u-f)*p/u+g));Z8(t,e,v,x,i)}const s=t[e];let a=n,l=r;for(Gp(t,n,e),i(t[r],s)>0&&Gp(t,n,r);a<l;){for(Gp(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?Gp(t,n,l):(++l,Gp(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Gp(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function jpe(t,e,n){if(t=Float64Array.from(kpe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return _3(t);if(e>=1)return E3(t);var r,i=(r-1)*e,s=Math.floor(i),a=E3(Z8(t,s).subarray(0,s+1)),l=_3(t.subarray(s+1));return a+(l-a)*(i-s)}}function Lpe(t,e,n=Q8){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function Vpe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ys(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ul(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Bk=Symbol("implicit");function KO(){var t=new S3,e=[],n=[],r=Bk;function i(s){let a=t.get(s);if(a===void 0){if(r!==Bk)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new S3;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return KO(e,n).unknown(r)},Ys.apply(i,arguments),i}function WO(){var t=KO().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,u=0,f=0,d=.5;delete t.unknown;function p(){var g=e().length,v=i<r,x=v?i:r,S=v?r:i;s=(S-x)/Math.max(1,g-u+f*2),l&&(s=Math.floor(s)),x+=(S-x-s*(g-u))*d,a=s*(1-u),l&&(x=Math.round(x),a=Math.round(a));var T=Vpe(g).map(function(_){return x+s*_});return n(v?T.reverse():T)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(g){return arguments.length?(l=!!g,p()):l},t.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),p()):u},t.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},t.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},t.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),p()):d},t.copy=function(){return WO(e(),[r,i]).round(l).paddingInner(u).paddingOuter(f).align(d)},Ys.apply(p(),arguments)}function eH(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return eH(e())},t}function Bpe(){return eH(WO.apply(null,arguments).paddingInner(1))}function GO(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function tH(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ny(){}var fg=.7,Fb=1/fg,th="\\s*([+-]?\\d+)\\s*",dg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zpe=/^#([0-9a-f]{3,8})$/,Upe=new RegExp(`^rgb\\(${th},${th},${th}\\)$`),Fpe=new RegExp(`^rgb\\(${Qa},${Qa},${Qa}\\)$`),$pe=new RegExp(`^rgba\\(${th},${th},${th},${dg}\\)$`),Hpe=new RegExp(`^rgba\\(${Qa},${Qa},${Qa},${dg}\\)$`),qpe=new RegExp(`^hsl\\(${dg},${Qa},${Qa}\\)$`),Kpe=new RegExp(`^hsla\\(${dg},${Qa},${Qa},${dg}\\)$`),A3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};GO(ny,hg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:k3,formatHex:k3,formatHex8:Wpe,formatHsl:Gpe,formatRgb:C3,toString:C3});function k3(){return this.rgb().formatHex()}function Wpe(){return this.rgb().formatHex8()}function Gpe(){return nH(this).formatHsl()}function C3(){return this.rgb().formatRgb()}function hg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=zpe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?O3(e):n===3?new Ni(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ov(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ov(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Upe.exec(t))?new Ni(e[1],e[2],e[3],1):(e=Fpe.exec(t))?new Ni(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$pe.exec(t))?ov(e[1],e[2],e[3],e[4]):(e=Hpe.exec(t))?ov(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qpe.exec(t))?D3(e[1],e[2]/100,e[3]/100,1):(e=Kpe.exec(t))?D3(e[1],e[2]/100,e[3]/100,e[4]):A3.hasOwnProperty(t)?O3(A3[t]):t==="transparent"?new Ni(NaN,NaN,NaN,0):null}function O3(t){return new Ni(t>>16&255,t>>8&255,t&255,1)}function ov(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ni(t,e,n,r)}function Ype(t){return t instanceof ny||(t=hg(t)),t?(t=t.rgb(),new Ni(t.r,t.g,t.b,t.opacity)):new Ni}function zk(t,e,n,r){return arguments.length===1?Ype(t):new Ni(t,e,n,r??1)}function Ni(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}GO(Ni,zk,tH(ny,{brighter(t){return t=t==null?Fb:Math.pow(Fb,t),new Ni(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?fg:Math.pow(fg,t),new Ni(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ni(rf(this.r),rf(this.g),rf(this.b),$b(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:N3,formatHex:N3,formatHex8:Xpe,formatRgb:M3,toString:M3}));function N3(){return`#${Hu(this.r)}${Hu(this.g)}${Hu(this.b)}`}function Xpe(){return`#${Hu(this.r)}${Hu(this.g)}${Hu(this.b)}${Hu((isNaN(this.opacity)?1:this.opacity)*255)}`}function M3(){const t=$b(this.opacity);return`${t===1?"rgb(":"rgba("}${rf(this.r)}, ${rf(this.g)}, ${rf(this.b)}${t===1?")":`, ${t})`}`}function $b(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Hu(t){return t=rf(t),(t<16?"0":"")+t.toString(16)}function D3(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new da(t,e,n,r)}function nH(t){if(t instanceof da)return new da(t.h,t.s,t.l,t.opacity);if(t instanceof ny||(t=hg(t)),!t)return new da;if(t instanceof da)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,u=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=u<.5?s+i:2-s-i,a*=60):l=u>0&&u<1?0:a,new da(a,l,u,t.opacity)}function Qpe(t,e,n,r){return arguments.length===1?nH(t):new da(t,e,n,r??1)}function da(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}GO(da,Qpe,tH(ny,{brighter(t){return t=t==null?Fb:Math.pow(Fb,t),new da(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?fg:Math.pow(fg,t),new da(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ni(p_(t>=240?t-240:t+120,i,r),p_(t,i,r),p_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new da(I3(this.h),lv(this.s),lv(this.l),$b(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$b(this.opacity);return`${t===1?"hsl(":"hsla("}${I3(this.h)}, ${lv(this.s)*100}%, ${lv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function I3(t){return t=(t||0)%360,t<0?t+360:t}function lv(t){return Math.max(0,Math.min(1,t||0))}function p_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const YO=t=>()=>t;function Jpe(t,e){return function(n){return t+n*e}}function Zpe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function eme(t){return(t=+t)==1?rH:function(e,n){return n-e?Zpe(e,n,t):YO(isNaN(e)?n:e)}}function rH(t,e){var n=e-t;return n?Jpe(t,n):YO(isNaN(t)?e:t)}const P3=(function t(e){var n=eme(e);function r(i,s){var a=n((i=zk(i)).r,(s=zk(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),f=rH(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=u(d),i.opacity=f(d),i+""}}return r.gamma=t,r})(1);function tme(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function nme(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function rme(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=zh(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function ime(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Hb(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function sme(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=zh(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Uk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,m_=new RegExp(Uk.source,"g");function ame(t){return function(){return t}}function ome(t){return function(e){return t(e)+""}}function lme(t,e){var n=Uk.lastIndex=m_.lastIndex=0,r,i,s,a=-1,l=[],u=[];for(t=t+"",e=e+"";(r=Uk.exec(t))&&(i=m_.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,u.push({i:a,x:Hb(r,i)})),n=m_.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?u[0]?ome(u[0].x):ame(e):(e=u.length,function(f){for(var d=0,p;d<e;++d)l[(p=u[d]).i]=p.x(f);return l.join("")})}function zh(t,e){var n=typeof e,r;return e==null||n==="boolean"?YO(e):(n==="number"?Hb:n==="string"?(r=hg(e))?(e=r,P3):lme:e instanceof hg?P3:e instanceof Date?ime:nme(e)?tme:Array.isArray(e)?rme:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?sme:Hb)(t,e)}function XO(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function cme(t,e){e===void 0&&(e=t,t=zh);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function ume(t){return function(){return t}}function qb(t){return+t}var R3=[0,1];function oi(t){return t}function Fk(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ume(isNaN(e)?NaN:.5)}function fme(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function dme(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=Fk(i,r),s=n(a,s)):(r=Fk(r,i),s=n(s,a)),function(l){return s(r(l))}}function hme(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Fk(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var u=ty(t,l,1,r)-1;return s[u](i[u](l))}}function ry(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function F1(){var t=R3,e=R3,n=zh,r,i,s,a=oi,l,u,f;function d(){var g=Math.min(t.length,e.length);return a!==oi&&(a=fme(t[0],t[g-1])),l=g>2?hme:dme,u=f=null,p}function p(g){return g==null||isNaN(g=+g)?s:(u||(u=l(t.map(r),e,n)))(r(a(g)))}return p.invert=function(g){return a(i((f||(f=l(e,t.map(r),Hb)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,qb),d()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=XO,d()},p.clamp=function(g){return arguments.length?(a=g?!0:oi,d()):a!==oi},p.interpolate=function(g){return arguments.length?(n=g,d()):n},p.unknown=function(g){return arguments.length?(s=g,p):s},function(g,v){return r=g,i=v,d()}}function QO(){return F1()(oi,oi)}function pme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Kb(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function yh(t){return t=Kb(Math.abs(t)),t?t[1]:NaN}function mme(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function gme(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var yme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pg(t){if(!(e=yme.exec(t)))throw new Error("invalid format: "+t);var e;return new JO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}pg.prototype=JO.prototype;function JO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}JO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vme(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var iH;function bme(t,e){var n=Kb(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(iH=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Kb(t,Math.max(0,e+s-1))[0]}function j3(t,e){var n=Kb(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const L3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:pme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>j3(t*100,e),r:j3,s:bme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function V3(t){return t}var B3=Array.prototype.map,z3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xme(t){var e=t.grouping===void 0||t.thousands===void 0?V3:mme(B3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?V3:gme(B3.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(p){p=pg(p);var g=p.fill,v=p.align,x=p.sign,S=p.symbol,T=p.zero,_=p.width,C=p.comma,D=p.precision,L=p.trim,R=p.type;R==="n"?(C=!0,R="g"):L3[R]||(D===void 0&&(D=12),L=!0,R="g"),(T||g==="0"&&v==="=")&&(T=!0,g="0",v="=");var B=S==="$"?n:S==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",N=S==="$"?r:/[%p]/.test(R)?a:"",M=L3[R],P=/[defgprs%]/.test(R);D=D===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function F(V){var $=B,U=N,me,ve,G;if(R==="c")U=M(V)+U,V="";else{V=+V;var K=V<0||1/V<0;if(V=isNaN(V)?u:M(Math.abs(V),D),L&&(V=vme(V)),K&&+V==0&&x!=="+"&&(K=!1),$=(K?x==="("?x:l:x==="-"||x==="("?"":x)+$,U=(R==="s"?z3[8+iH/3]:"")+U+(K&&x==="("?")":""),P){for(me=-1,ve=V.length;++me<ve;)if(G=V.charCodeAt(me),48>G||G>57){U=(G===46?i+V.slice(me+1):V.slice(me))+U,V=V.slice(0,me);break}}}C&&!T&&(V=e(V,1/0));var ae=$.length+V.length+U.length,pe=ae<_?new Array(_-ae+1).join(g):"";switch(C&&T&&(V=e(pe+V,pe.length?_-U.length:1/0),pe=""),v){case"<":V=$+V+U+pe;break;case"=":V=$+pe+V+U;break;case"^":V=pe.slice(0,ae=pe.length>>1)+$+V+U+pe.slice(ae);break;default:V=pe+$+V+U;break}return s(V)}return F.toString=function(){return p+""},F}function d(p,g){var v=f((p=pg(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(yh(g)/3)))*3,S=Math.pow(10,-x),T=z3[8+x/3];return function(_){return v(S*_)+T}}return{format:f,formatPrefix:d}}var cv,ZO,sH;wme({thousands:",",grouping:[3],currency:["$",""]});function wme(t){return cv=xme(t),ZO=cv.format,sH=cv.formatPrefix,cv}function Sme(t){return Math.max(0,-yh(Math.abs(t)))}function Tme(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yh(e)/3)))*3-yh(Math.abs(t)))}function Eme(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,yh(e)-yh(t))+1}function aH(t,e,n,r){var i=Vk(t,e,n),s;switch(r=pg(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Tme(i,a))&&(r.precision=s),sH(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Eme(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Sme(i))&&(r.precision=s-(r.type==="%")*2);break}}return ZO(r)}function Yc(t){var e=t.domain;return t.ticks=function(n){var r=e();return jk(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return aH(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],u,f,d=10;for(l<a&&(f=a,a=l,l=f,f=i,i=s,s=f);d-- >0;){if(f=Lk(a,l,n),f===u)return r[i]=a,r[s]=l,e(r);if(f>0)a=Math.floor(a/f)*f,l=Math.ceil(l/f)*f;else if(f<0)a=Math.ceil(a*f)/f,l=Math.floor(l*f)/f;else break;u=f}return t},t}function oH(){var t=QO();return t.copy=function(){return ry(t,oH())},Ys.apply(t,arguments),Yc(t)}function lH(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,qb),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return lH(t).unknown(e)},t=arguments.length?Array.from(t,qb):[0,1],Yc(n)}function cH(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function U3(t){return Math.log(t)}function F3(t){return Math.exp(t)}function _me(t){return-Math.log(-t)}function Ame(t){return-Math.exp(-t)}function kme(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Cme(t){return t===10?kme:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ome(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function $3(t){return(e,n)=>-t(-e,n)}function eN(t){const e=t(U3,F3),n=e.domain;let r=10,i,s;function a(){return i=Ome(r),s=Cme(r),n()[0]<0?(i=$3(i),s=$3(s),t(_me,Ame)):t(U3,F3),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const u=n();let f=u[0],d=u[u.length-1];const p=d<f;p&&([f,d]=[d,f]);let g=i(f),v=i(d),x,S;const T=l==null?10:+l;let _=[];if(!(r%1)&&v-g<T){if(g=Math.floor(g),v=Math.ceil(v),f>0){for(;g<=v;++g)for(x=1;x<r;++x)if(S=g<0?x/s(-g):x*s(g),!(S<f)){if(S>d)break;_.push(S)}}else for(;g<=v;++g)for(x=r-1;x>=1;--x)if(S=g>0?x/s(-g):x*s(g),!(S<f)){if(S>d)break;_.push(S)}_.length*2<T&&(_=jk(f,d,T))}else _=jk(g,v,Math.min(v-g,T)).map(s);return p?_.reverse():_},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=pg(u)).precision==null&&(u.trim=!0),u=ZO(u)),l===1/0)return u;const f=Math.max(1,r*l/e.ticks().length);return d=>{let p=d/s(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=f?u(d):""}},e.nice=()=>n(cH(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function uH(){const t=eN(F1()).domain([1,10]);return t.copy=()=>ry(t,uH()).base(t.base()),Ys.apply(t,arguments),t}function H3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function q3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function tN(t){var e=1,n=t(H3(e),q3(e));return n.constant=function(r){return arguments.length?t(H3(e=+r),q3(e)):e},Yc(n)}function fH(){var t=tN(F1());return t.copy=function(){return ry(t,fH()).constant(t.constant())},Ys.apply(t,arguments)}function K3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Nme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Mme(t){return t<0?-t*t:t*t}function nN(t){var e=t(oi,oi),n=1;function r(){return n===1?t(oi,oi):n===.5?t(Nme,Mme):t(K3(n),K3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Yc(e)}function rN(){var t=nN(F1());return t.copy=function(){return ry(t,rN()).exponent(t.exponent())},Ys.apply(t,arguments),t}function Dme(){return rN.apply(null,arguments).exponent(.5)}function W3(t){return Math.sign(t)*t*t}function Ime(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function dH(){var t=QO(),e=[0,1],n=!1,r;function i(s){var a=Ime(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(W3(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,qb)).map(W3)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return dH(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ys.apply(i,arguments),Yc(i)}function hH(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=Lpe(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[ty(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(wc),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return hH().domain(t).range(e).unknown(r)},Ys.apply(s,arguments)}function pH(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(u){return u!=null&&u<=u?i[ty(r,u,0,n)]:s}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return a}return a.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},a.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},a.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},a.unknown=function(u){return arguments.length&&(s=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return pH().domain([t,e]).range(i).unknown(s)},Ys.apply(Yc(a),arguments)}function mH(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[ty(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return mH().domain(t).range(e).unknown(n)},Ys.apply(i,arguments)}const g_=new Date,y_=new Date;function rr(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const u=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return u;let f;do u.push(f=new Date(+s)),e(s,l),t(s);while(f<s&&s<a);return u},i.filter=s=>rr(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(g_.setTime(+s),y_.setTime(+a),t(g_),t(y_),Math.floor(n(g_,y_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Wb=rr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Wb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?rr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Wb);Wb.range;const zo=1e3,Fs=zo*60,Uo=Fs*60,nl=Uo*24,iN=nl*7,G3=nl*30,v_=nl*365,qu=rr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getUTCSeconds());qu.range;const sN=rr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zo)},(t,e)=>{t.setTime(+t+e*Fs)},(t,e)=>(e-t)/Fs,t=>t.getMinutes());sN.range;const aN=rr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Fs)},(t,e)=>(e-t)/Fs,t=>t.getUTCMinutes());aN.range;const oN=rr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zo-t.getMinutes()*Fs)},(t,e)=>{t.setTime(+t+e*Uo)},(t,e)=>(e-t)/Uo,t=>t.getHours());oN.range;const lN=rr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Uo)},(t,e)=>(e-t)/Uo,t=>t.getUTCHours());lN.range;const iy=rr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Fs)/nl,t=>t.getDate()-1);iy.range;const $1=rr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/nl,t=>t.getUTCDate()-1);$1.range;const gH=rr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/nl,t=>Math.floor(t/nl));gH.range;function jf(t){return rr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Fs)/iN)}const H1=jf(0),Gb=jf(1),Pme=jf(2),Rme=jf(3),vh=jf(4),jme=jf(5),Lme=jf(6);H1.range;Gb.range;Pme.range;Rme.range;vh.range;jme.range;Lme.range;function Lf(t){return rr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/iN)}const q1=Lf(0),Yb=Lf(1),Vme=Lf(2),Bme=Lf(3),bh=Lf(4),zme=Lf(5),Ume=Lf(6);q1.range;Yb.range;Vme.range;Bme.range;bh.range;zme.range;Ume.range;const cN=rr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());cN.range;const uN=rr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());uN.range;const rl=rr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());rl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:rr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});rl.range;const il=rr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());il.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:rr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});il.range;function yH(t,e,n,r,i,s){const a=[[qu,1,zo],[qu,5,5*zo],[qu,15,15*zo],[qu,30,30*zo],[s,1,Fs],[s,5,5*Fs],[s,15,15*Fs],[s,30,30*Fs],[i,1,Uo],[i,3,3*Uo],[i,6,6*Uo],[i,12,12*Uo],[r,1,nl],[r,2,2*nl],[n,1,iN],[e,1,G3],[e,3,3*G3],[t,1,v_]];function l(f,d,p){const g=d<f;g&&([f,d]=[d,f]);const v=p&&typeof p.range=="function"?p:u(f,d,p),x=v?v.range(f,+d+1):[];return g?x.reverse():x}function u(f,d,p){const g=Math.abs(d-f)/p,v=qO(([,,T])=>T).right(a,g);if(v===a.length)return t.every(Vk(f/v_,d/v_,p));if(v===0)return Wb.every(Math.max(Vk(f,d,p),1));const[x,S]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return x.every(S)}return[l,u]}const[Fme,$me]=yH(il,uN,q1,gH,lN,aN),[Hme,qme]=yH(rl,cN,H1,iy,oN,sN);function b_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function x_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yp(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Kme(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,u=t.shortMonths,f=Xp(i),d=Qp(i),p=Xp(s),g=Qp(s),v=Xp(a),x=Qp(a),S=Xp(l),T=Qp(l),_=Xp(u),C=Qp(u),D={a:K,A:ae,b:pe,B:xe,c:null,d:eV,e:eV,f:mge,g:_ge,G:kge,H:dge,I:hge,j:pge,L:vH,m:gge,M:yge,p:q,q:X,Q:rV,s:iV,S:vge,u:bge,U:xge,V:wge,w:Sge,W:Tge,x:null,X:null,y:Ege,Y:Age,Z:Cge,"%":nV},L={a:ye,A:we,b:Se,B:Ie,c:null,d:tV,e:tV,f:Dge,g:Fge,G:Hge,H:Oge,I:Nge,j:Mge,L:xH,m:Ige,M:Pge,p:Ve,q:ut,Q:rV,s:iV,S:Rge,u:jge,U:Lge,V:Vge,w:Bge,W:zge,x:null,X:null,y:Uge,Y:$ge,Z:qge,"%":nV},R={a:F,A:V,b:$,B:U,c:me,d:J3,e:J3,f:lge,g:Q3,G:X3,H:Z3,I:Z3,j:ige,L:oge,m:rge,M:sge,p:P,q:nge,Q:uge,s:fge,S:age,u:Qme,U:Jme,V:Zme,w:Xme,W:ege,x:ve,X:G,y:Q3,Y:X3,Z:tge,"%":cge};D.x=B(n,D),D.X=B(r,D),D.c=B(e,D),L.x=B(n,L),L.X=B(r,L),L.c=B(e,L);function B(fe,ze){return function(Fe){var de=[],Lt=-1,Me=0,_t=fe.length,nt,sn,ji;for(Fe instanceof Date||(Fe=new Date(+Fe));++Lt<_t;)fe.charCodeAt(Lt)===37&&(de.push(fe.slice(Me,Lt)),(sn=Y3[nt=fe.charAt(++Lt)])!=null?nt=fe.charAt(++Lt):sn=nt==="e"?" ":"0",(ji=ze[nt])&&(nt=ji(Fe,sn)),de.push(nt),Me=Lt+1);return de.push(fe.slice(Me,Lt)),de.join("")}}function N(fe,ze){return function(Fe){var de=Yp(1900,void 0,1),Lt=M(de,fe,Fe+="",0),Me,_t;if(Lt!=Fe.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(ze&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Me=x_(Yp(de.y,0,1)),_t=Me.getUTCDay(),Me=_t>4||_t===0?Yb.ceil(Me):Yb(Me),Me=$1.offset(Me,(de.V-1)*7),de.y=Me.getUTCFullYear(),de.m=Me.getUTCMonth(),de.d=Me.getUTCDate()+(de.w+6)%7):(Me=b_(Yp(de.y,0,1)),_t=Me.getDay(),Me=_t>4||_t===0?Gb.ceil(Me):Gb(Me),Me=iy.offset(Me,(de.V-1)*7),de.y=Me.getFullYear(),de.m=Me.getMonth(),de.d=Me.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),_t="Z"in de?x_(Yp(de.y,0,1)).getUTCDay():b_(Yp(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(_t+5)%7:de.w+de.U*7-(_t+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,x_(de)):b_(de)}}function M(fe,ze,Fe,de){for(var Lt=0,Me=ze.length,_t=Fe.length,nt,sn;Lt<Me;){if(de>=_t)return-1;if(nt=ze.charCodeAt(Lt++),nt===37){if(nt=ze.charAt(Lt++),sn=R[nt in Y3?ze.charAt(Lt++):nt],!sn||(de=sn(fe,Fe,de))<0)return-1}else if(nt!=Fe.charCodeAt(de++))return-1}return de}function P(fe,ze,Fe){var de=f.exec(ze.slice(Fe));return de?(fe.p=d.get(de[0].toLowerCase()),Fe+de[0].length):-1}function F(fe,ze,Fe){var de=v.exec(ze.slice(Fe));return de?(fe.w=x.get(de[0].toLowerCase()),Fe+de[0].length):-1}function V(fe,ze,Fe){var de=p.exec(ze.slice(Fe));return de?(fe.w=g.get(de[0].toLowerCase()),Fe+de[0].length):-1}function $(fe,ze,Fe){var de=_.exec(ze.slice(Fe));return de?(fe.m=C.get(de[0].toLowerCase()),Fe+de[0].length):-1}function U(fe,ze,Fe){var de=S.exec(ze.slice(Fe));return de?(fe.m=T.get(de[0].toLowerCase()),Fe+de[0].length):-1}function me(fe,ze,Fe){return M(fe,e,ze,Fe)}function ve(fe,ze,Fe){return M(fe,n,ze,Fe)}function G(fe,ze,Fe){return M(fe,r,ze,Fe)}function K(fe){return a[fe.getDay()]}function ae(fe){return s[fe.getDay()]}function pe(fe){return u[fe.getMonth()]}function xe(fe){return l[fe.getMonth()]}function q(fe){return i[+(fe.getHours()>=12)]}function X(fe){return 1+~~(fe.getMonth()/3)}function ye(fe){return a[fe.getUTCDay()]}function we(fe){return s[fe.getUTCDay()]}function Se(fe){return u[fe.getUTCMonth()]}function Ie(fe){return l[fe.getUTCMonth()]}function Ve(fe){return i[+(fe.getUTCHours()>=12)]}function ut(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var ze=B(fe+="",D);return ze.toString=function(){return fe},ze},parse:function(fe){var ze=N(fe+="",!1);return ze.toString=function(){return fe},ze},utcFormat:function(fe){var ze=B(fe+="",L);return ze.toString=function(){return fe},ze},utcParse:function(fe){var ze=N(fe+="",!0);return ze.toString=function(){return fe},ze}}}var Y3={"-":"",_:" ",0:"0"},yr=/^\s*\d+/,Wme=/^%/,Gme=/[\\^$*+?|[\]().{}]/g;function yt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Yme(t){return t.replace(Gme,"\\$&")}function Xp(t){return new RegExp("^(?:"+t.map(Yme).join("|")+")","i")}function Qp(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Xme(t,e,n){var r=yr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Qme(t,e,n){var r=yr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Jme(t,e,n){var r=yr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Zme(t,e,n){var r=yr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ege(t,e,n){var r=yr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function X3(t,e,n){var r=yr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Q3(t,e,n){var r=yr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function tge(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nge(t,e,n){var r=yr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function rge(t,e,n){var r=yr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function J3(t,e,n){var r=yr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ige(t,e,n){var r=yr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Z3(t,e,n){var r=yr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function sge(t,e,n){var r=yr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function age(t,e,n){var r=yr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function oge(t,e,n){var r=yr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function lge(t,e,n){var r=yr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function cge(t,e,n){var r=Wme.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function uge(t,e,n){var r=yr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function fge(t,e,n){var r=yr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function eV(t,e){return yt(t.getDate(),e,2)}function dge(t,e){return yt(t.getHours(),e,2)}function hge(t,e){return yt(t.getHours()%12||12,e,2)}function pge(t,e){return yt(1+iy.count(rl(t),t),e,3)}function vH(t,e){return yt(t.getMilliseconds(),e,3)}function mge(t,e){return vH(t,e)+"000"}function gge(t,e){return yt(t.getMonth()+1,e,2)}function yge(t,e){return yt(t.getMinutes(),e,2)}function vge(t,e){return yt(t.getSeconds(),e,2)}function bge(t){var e=t.getDay();return e===0?7:e}function xge(t,e){return yt(H1.count(rl(t)-1,t),e,2)}function bH(t){var e=t.getDay();return e>=4||e===0?vh(t):vh.ceil(t)}function wge(t,e){return t=bH(t),yt(vh.count(rl(t),t)+(rl(t).getDay()===4),e,2)}function Sge(t){return t.getDay()}function Tge(t,e){return yt(Gb.count(rl(t)-1,t),e,2)}function Ege(t,e){return yt(t.getFullYear()%100,e,2)}function _ge(t,e){return t=bH(t),yt(t.getFullYear()%100,e,2)}function Age(t,e){return yt(t.getFullYear()%1e4,e,4)}function kge(t,e){var n=t.getDay();return t=n>=4||n===0?vh(t):vh.ceil(t),yt(t.getFullYear()%1e4,e,4)}function Cge(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yt(e/60|0,"0",2)+yt(e%60,"0",2)}function tV(t,e){return yt(t.getUTCDate(),e,2)}function Oge(t,e){return yt(t.getUTCHours(),e,2)}function Nge(t,e){return yt(t.getUTCHours()%12||12,e,2)}function Mge(t,e){return yt(1+$1.count(il(t),t),e,3)}function xH(t,e){return yt(t.getUTCMilliseconds(),e,3)}function Dge(t,e){return xH(t,e)+"000"}function Ige(t,e){return yt(t.getUTCMonth()+1,e,2)}function Pge(t,e){return yt(t.getUTCMinutes(),e,2)}function Rge(t,e){return yt(t.getUTCSeconds(),e,2)}function jge(t){var e=t.getUTCDay();return e===0?7:e}function Lge(t,e){return yt(q1.count(il(t)-1,t),e,2)}function wH(t){var e=t.getUTCDay();return e>=4||e===0?bh(t):bh.ceil(t)}function Vge(t,e){return t=wH(t),yt(bh.count(il(t),t)+(il(t).getUTCDay()===4),e,2)}function Bge(t){return t.getUTCDay()}function zge(t,e){return yt(Yb.count(il(t)-1,t),e,2)}function Uge(t,e){return yt(t.getUTCFullYear()%100,e,2)}function Fge(t,e){return t=wH(t),yt(t.getUTCFullYear()%100,e,2)}function $ge(t,e){return yt(t.getUTCFullYear()%1e4,e,4)}function Hge(t,e){var n=t.getUTCDay();return t=n>=4||n===0?bh(t):bh.ceil(t),yt(t.getUTCFullYear()%1e4,e,4)}function qge(){return"+0000"}function nV(){return"%"}function rV(t){return+t}function iV(t){return Math.floor(+t/1e3)}var _d,SH,TH;Kge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Kge(t){return _d=Kme(t),SH=_d.format,_d.parse,TH=_d.utcFormat,_d.utcParse,_d}function Wge(t){return new Date(t)}function Gge(t){return t instanceof Date?+t:+new Date(+t)}function fN(t,e,n,r,i,s,a,l,u,f){var d=QO(),p=d.invert,g=d.domain,v=f(".%L"),x=f(":%S"),S=f("%I:%M"),T=f("%I %p"),_=f("%a %d"),C=f("%b %d"),D=f("%B"),L=f("%Y");function R(B){return(u(B)<B?v:l(B)<B?x:a(B)<B?S:s(B)<B?T:r(B)<B?i(B)<B?_:C:n(B)<B?D:L)(B)}return d.invert=function(B){return new Date(p(B))},d.domain=function(B){return arguments.length?g(Array.from(B,Gge)):g().map(Wge)},d.ticks=function(B){var N=g();return t(N[0],N[N.length-1],B??10)},d.tickFormat=function(B,N){return N==null?R:f(N)},d.nice=function(B){var N=g();return(!B||typeof B.range!="function")&&(B=e(N[0],N[N.length-1],B??10)),B?g(cH(N,B)):d},d.copy=function(){return ry(d,fN(t,e,n,r,i,s,a,l,u,f))},d}function Yge(){return Ys.apply(fN(Hme,qme,rl,cN,H1,iy,oN,sN,qu,SH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xge(){return Ys.apply(fN(Fme,$me,il,uN,q1,$1,lN,aN,qu,TH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function K1(){var t=0,e=1,n,r,i,s,a=oi,l=!1,u;function f(p){return p==null||isNaN(p=+p)?u:a(i===0?.5:(p=(s(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(a=p,f):a};function d(p){return function(g){var v,x;return arguments.length?([v,x]=g,a=p(v,x),f):[a(0),a(1)]}}return f.range=d(zh),f.rangeRound=d(XO),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return s=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function Xc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function EH(){var t=Yc(K1()(oi));return t.copy=function(){return Xc(t,EH())},ul.apply(t,arguments)}function _H(){var t=eN(K1()).domain([1,10]);return t.copy=function(){return Xc(t,_H()).base(t.base())},ul.apply(t,arguments)}function AH(){var t=tN(K1());return t.copy=function(){return Xc(t,AH()).constant(t.constant())},ul.apply(t,arguments)}function dN(){var t=nN(K1());return t.copy=function(){return Xc(t,dN()).exponent(t.exponent())},ul.apply(t,arguments)}function Qge(){return dN.apply(null,arguments).exponent(.5)}function kH(){var t=[],e=oi;function n(r){if(r!=null&&!isNaN(r=+r))return e((ty(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(wc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>jpe(t,s/r))},n.copy=function(){return kH(e).domain(t)},ul.apply(n,arguments)}function W1(){var t=0,e=.5,n=1,r=1,i,s,a,l,u,f=oi,d,p=!1,g;function v(S){return isNaN(S=+S)?g:(S=.5+((S=+d(S))-s)*(r*S<r*s?l:u),f(p?Math.max(0,Math.min(1,S)):S))}v.domain=function(S){return arguments.length?([t,e,n]=S,i=d(t=+t),s=d(e=+e),a=d(n=+n),l=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),r=s<i?-1:1,v):[t,e,n]},v.clamp=function(S){return arguments.length?(p=!!S,v):p},v.interpolator=function(S){return arguments.length?(f=S,v):f};function x(S){return function(T){var _,C,D;return arguments.length?([_,C,D]=T,f=cme(S,[_,C,D]),v):[f(0),f(.5),f(1)]}}return v.range=x(zh),v.rangeRound=x(XO),v.unknown=function(S){return arguments.length?(g=S,v):g},function(S){return d=S,i=S(t),s=S(e),a=S(n),l=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),r=s<i?-1:1,v}}function CH(){var t=Yc(W1()(oi));return t.copy=function(){return Xc(t,CH())},ul.apply(t,arguments)}function OH(){var t=eN(W1()).domain([.1,1,10]);return t.copy=function(){return Xc(t,OH()).base(t.base())},ul.apply(t,arguments)}function NH(){var t=tN(W1());return t.copy=function(){return Xc(t,NH()).constant(t.constant())},ul.apply(t,arguments)}function hN(){var t=nN(W1());return t.copy=function(){return Xc(t,hN()).exponent(t.exponent())},ul.apply(t,arguments)}function Jge(){return hN.apply(null,arguments).exponent(.5)}const um=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:WO,scaleDiverging:CH,scaleDivergingLog:OH,scaleDivergingPow:hN,scaleDivergingSqrt:Jge,scaleDivergingSymlog:NH,scaleIdentity:lH,scaleImplicit:Bk,scaleLinear:oH,scaleLog:uH,scaleOrdinal:KO,scalePoint:Bpe,scalePow:rN,scaleQuantile:hH,scaleQuantize:pH,scaleRadial:dH,scaleSequential:EH,scaleSequentialLog:_H,scaleSequentialPow:dN,scaleSequentialQuantile:kH,scaleSequentialSqrt:Qge,scaleSequentialSymlog:AH,scaleSqrt:Dme,scaleSymlog:fH,scaleThreshold:mH,scaleTime:Yge,scaleUtc:Xge,tickFormat:aH},Symbol.toStringTag,{value:"Module"}));var Qc=t=>t.chartData,Zge=ie([Qc],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),G1=(t,e,n,r)=>r?Zge(t):Qc(t);function xh(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(ss(e)&&ss(n))return!0}return!1}function sV(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function eye(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(ss(n))i=n;else if(typeof n=="function")return;if(ss(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(xh(a))return a}}function tye(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(xh(r))return sV(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,l;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Be(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e?.[0]))}catch{}else if(typeof i=="string"&&QL.test(i)){var u=QL.exec(i);if(u==null||e==null)a=void 0;else{var f=+u[1];a=e[0]-f}}else a=e?.[0];if(s==="auto")e!=null&&(l=Math.max(...e));else if(Be(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e?.[1]))}catch{}else if(typeof s=="string"&&JL.test(s)){var d=JL.exec(s);if(d==null||e==null)l=void 0;else{var p=+d[1];l=e[1]+p}}else l=e?.[1];var g=[a,l];if(xh(g))return e==null?g:sV(g,e,n)}}}var Uh=1e9,nye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mN,dn=!0,Ws="[DecimalError] ",sf=Ws+"Invalid argument: ",pN=Ws+"Exponent out of range: ",Fh=Math.floor,Lu=Math.pow,rye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ji,cr=1e7,tn=7,MH=9007199254740991,Xb=Fh(MH/tn),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*tn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ce.dividedBy=Ce.div=function(t){return qo(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,n=e.constructor;return $t(qo(e,new n(t),0,1),n.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return Gn(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ji))throw Error(Ws+"NaN");if(n.s<1)throw Error(Ws+(n.s?"NaN":"-Infinity"));return n.eq(Ji)?new r(0):(dn=!1,e=qo(mg(n,s),mg(t,s),s),dn=!0,$t(e,i))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PH(e,t):DH(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ws+"NaN");return n.s?(dn=!1,e=qo(n,t,0,1).times(t),dn=!0,n.minus(e)):$t(new r(n),i)};Ce.naturalExponential=Ce.exp=function(){return IH(this)};Ce.naturalLogarithm=Ce.ln=function(){return mg(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?DH(e,t):PH(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(sf+t);if(e=Gn(i)+1,r=i.d.length-1,n=r*tn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ce.squareRoot=Ce.sqrt=function(){var t,e,n,r,i,s,a,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Ws+"NaN")}for(t=Gn(l),dn=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=$a(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Fh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=a=n+3;;)if(s=r,r=s.plus(qo(l,s,a+2)).times(.5),$a(s.d).slice(0,a)===(e=$a(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if($t(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;a+=4}return dn=!0,$t(r,n)};Ce.times=Ce.mul=function(t){var e,n,r,i,s,a,l,u,f,d=this,p=d.constructor,g=d.d,v=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,n=d.e+t.e,u=g.length,f=v.length,u<f&&(s=g,g=v,v=s,a=u,u=f,f=a),s=[],a=u+f,r=a;r--;)s.push(0);for(r=f;--r>=0;){for(e=0,i=u+r;i>r;)l=s[i]+v[r]*g[i-r-1]+e,s[i--]=l%cr|0,e=l/cr|0;s[i]=(s[i]+e)%cr|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,dn?$t(t,p.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(eo(t,0,Uh),e===void 0?e=r.rounding:eo(e,0,8),$t(n,t+Gn(n)+1,e))};Ce.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=wf(r,!0):(eo(t,0,Uh),e===void 0?e=i.rounding:eo(e,0,8),r=$t(new i(r),t+1,e),n=wf(r,!0,t+1)),n};Ce.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?wf(i):(eo(t,0,Uh),e===void 0?e=s.rounding:eo(e,0,8),r=$t(new s(i),t+Gn(i)+1,e),n=wf(r.abs(),!1,t+Gn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return $t(new e(t),Gn(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,n,r,i,s,a,l=this,u=l.constructor,f=12,d=+(t=new u(t));if(!t.s)return new u(Ji);if(l=new u(l),!l.s){if(t.s<1)throw Error(Ws+"Infinity");return l}if(l.eq(Ji))return l;if(r=u.precision,t.eq(Ji))return $t(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=l.s,a){if((n=d<0?-d:d)<=MH){for(i=new u(Ji),e=Math.ceil(r/tn+4),dn=!1;n%2&&(i=i.times(l),oV(i.d,e)),n=Fh(n/2),n!==0;)l=l.times(l),oV(l.d,e);return dn=!0,t.s<0?new u(Ji).div(i):$t(i,r)}}else if(s<0)throw Error(Ws+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,dn=!1,i=t.times(mg(l,r+f)),dn=!0,i=IH(i),i.s=s,i};Ce.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Gn(i),r=wf(i,n<=s.toExpNeg||n>=s.toExpPos)):(eo(t,1,Uh),e===void 0?e=s.rounding:eo(e,0,8),i=$t(new s(i),t,e),n=Gn(i),r=wf(i,t<=n||n<=s.toExpNeg,t)),r};Ce.toSignificantDigits=Ce.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(eo(t,1,Uh),e===void 0?e=r.rounding:eo(e,0,8)),$t(new r(n),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Gn(t),n=t.constructor;return wf(t,e<=n.toExpNeg||e>=n.toExpPos)};function DH(t,e){var n,r,i,s,a,l,u,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),dn?$t(e,p):e;if(u=t.d,f=e.d,a=t.e,i=e.e,u=u.slice(),s=a-i,s){for(s<0?(r=u,s=-s,l=f.length):(r=f,i=a,l=u.length),a=Math.ceil(p/tn),l=a>l?a+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=u.length,s=f.length,l-s<0&&(s=l,r=f,f=u,u=r),n=0;s;)n=(u[--s]=u[s]+f[s]+n)/cr|0,u[s]%=cr;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,dn?$t(e,p):e}function eo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(sf+t)}function $a(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=tn-r.length,n&&(s+=Zl(n)),s+=r;a=t[e],r=a+"",n=tn-r.length,n&&(s+=Zl(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var qo=(function(){function t(r,i){var s,a=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+a,r[l]=s%cr|0,a=s/cr|0;return a&&r.unshift(a),r}function e(r,i,s,a){var l,u;if(s!=a)u=s>a?1:-1;else for(l=u=0;l<s;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*cr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var l,u,f,d,p,g,v,x,S,T,_,C,D,L,R,B,N,M,P=r.constructor,F=r.s==i.s?1:-1,V=r.d,$=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Ws+"Division by zero");for(u=r.e-i.e,N=$.length,R=V.length,v=new P(F),x=v.d=[],f=0;$[f]==(V[f]||0);)++f;if($[f]>(V[f]||0)&&--u,s==null?C=s=P.precision:a?C=s+(Gn(r)-Gn(i))+1:C=s,C<0)return new P(0);if(C=C/tn+2|0,f=0,N==1)for(d=0,$=$[0],C++;(f<R||d)&&C--;f++)D=d*cr+(V[f]||0),x[f]=D/$|0,d=D%$|0;else{for(d=cr/($[0]+1)|0,d>1&&($=t($,d),V=t(V,d),N=$.length,R=V.length),L=N,S=V.slice(0,N),T=S.length;T<N;)S[T++]=0;M=$.slice(),M.unshift(0),B=$[0],$[1]>=cr/2&&++B;do d=0,l=e($,S,N,T),l<0?(_=S[0],N!=T&&(_=_*cr+(S[1]||0)),d=_/B|0,d>1?(d>=cr&&(d=cr-1),p=t($,d),g=p.length,T=S.length,l=e(p,S,g,T),l==1&&(d--,n(p,N<g?M:$,g))):(d==0&&(l=d=1),p=$.slice()),g=p.length,g<T&&p.unshift(0),n(S,p,T),l==-1&&(T=S.length,l=e($,S,N,T),l<1&&(d++,n(S,N<T?M:$,T))),T=S.length):l===0&&(d++,S=[0]),x[f++]=d,l&&S[0]?S[T++]=V[L]||0:(S=[V[L]],T=1);while((L++<R||S[0]!==void 0)&&C--)}return x[0]||x.shift(),v.e=u,$t(v,a?s+Gn(v)+1:s)}})();function IH(t,e){var n,r,i,s,a,l,u=0,f=0,d=t.constructor,p=d.precision;if(Gn(t)>16)throw Error(pN+Gn(t));if(!t.s)return new d(Ji);for(dn=!1,l=p,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),f+=5;for(r=Math.log(Lu(2,f))/Math.LN10*2+5|0,l+=r,n=i=s=new d(Ji),d.precision=l;;){if(i=$t(i.times(t),l),n=n.times(++u),a=s.plus(qo(i,n,l)),$a(a.d).slice(0,l)===$a(s.d).slice(0,l)){for(;f--;)s=$t(s.times(s),l);return d.precision=p,e==null?(dn=!0,$t(s,p)):s}s=a}}function Gn(t){for(var e=t.e*tn,n=t.d[0];n>=10;n/=10)e++;return e}function w_(t,e,n){if(e>t.LN10.sd())throw dn=!0,n&&(t.precision=n),Error(Ws+"LN10 precision limit exceeded");return $t(new t(t.LN10),e)}function Zl(t){for(var e="";t--;)e+="0";return e}function mg(t,e){var n,r,i,s,a,l,u,f,d,p=1,g=10,v=t,x=v.d,S=v.constructor,T=S.precision;if(v.s<1)throw Error(Ws+(v.s?"NaN":"-Infinity"));if(v.eq(Ji))return new S(0);if(e==null?(dn=!1,f=T):f=e,v.eq(10))return e==null&&(dn=!0),w_(S,f);if(f+=g,S.precision=f,n=$a(x),r=n.charAt(0),s=Gn(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=$a(v.d),r=n.charAt(0),p++;s=Gn(v),r>1?(v=new S("0."+n),s++):v=new S(r+"."+n.slice(1))}else return u=w_(S,f+2,T).times(s+""),v=mg(new S(r+"."+n.slice(1)),f-g).plus(u),S.precision=T,e==null?(dn=!0,$t(v,T)):v;for(l=a=v=qo(v.minus(Ji),v.plus(Ji),f),d=$t(v.times(v),f),i=3;;){if(a=$t(a.times(d),f),u=l.plus(qo(a,new S(i),f)),$a(u.d).slice(0,f)===$a(l.d).slice(0,f))return l=l.times(2),s!==0&&(l=l.plus(w_(S,f+2,T).times(s+""))),l=qo(l,new S(p),f),S.precision=T,e==null?(dn=!0,$t(l,T)):l;l=u,i+=2}}function aV(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Fh(n/tn),t.d=[],r=(n+1)%tn,n<0&&(r+=tn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=tn;r<i;)t.d.push(+e.slice(r,r+=tn));e=e.slice(r),r=tn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),dn&&(t.e>Xb||t.e<-Xb))throw Error(pN+n)}else t.s=0,t.e=0,t.d=[0];return t}function $t(t,e,n){var r,i,s,a,l,u,f,d,p=t.d;for(a=1,s=p[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=tn,i=e,f=p[d=0];else{if(d=Math.ceil((r+1)/tn),s=p.length,d>=s)return t;for(f=s=p[d],a=1;s>=10;s/=10)a++;r%=tn,i=r-tn+a}if(n!==void 0&&(s=Lu(10,a-i-1),l=f/s%10|0,u=e<0||p[d+1]!==void 0||f%s,u=n<4?(l||u)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?f/Lu(10,a-i):0:p[d-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return u?(s=Gn(t),p.length=1,e=e-s-1,p[0]=Lu(10,(tn-e%tn)%tn),t.e=Fh(-e/tn)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=d,s=1,d--):(p.length=d+1,s=Lu(10,tn-r),p[d]=i>0?(f/Lu(10,a-i)%Lu(10,i)|0)*s:0),u)for(;;)if(d==0){(p[0]+=s)==cr&&(p[0]=1,++t.e);break}else{if(p[d]+=s,p[d]!=cr)break;p[d--]=0,s=1}for(r=p.length;p[--r]===0;)p.pop();if(dn&&(t.e>Xb||t.e<-Xb))throw Error(pN+Gn(t));return t}function PH(t,e){var n,r,i,s,a,l,u,f,d,p,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),dn?$t(e,v):e;if(u=t.d,p=e.d,r=e.e,f=t.e,u=u.slice(),a=f-r,a){for(d=a<0,d?(n=u,a=-a,l=p.length):(n=p,r=f,l=u.length),i=Math.max(Math.ceil(v/tn),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){d=u[i]<p[i];break}a=0}for(d&&(n=u,u=p,p=n,e.s=-e.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>a;){if(u[--i]<p[i]){for(s=i;s&&u[--s]===0;)u[s]=cr-1;--u[s],u[i]+=cr}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,dn?$t(e,v):e):new g(0)}function wf(t,e,n){var r,i=Gn(t),s=$a(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Zl(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Zl(-i-1)+s,n&&(r=n-a)>0&&(s+=Zl(r))):i>=a?(s+=Zl(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Zl(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Zl(r))),t.s<0?"-"+s:s}function oV(t,e){if(t.length>e)return t.length=e,!0}function RH(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(sf+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return aV(a,s.toString())}else if(typeof s!="string")throw Error(sf+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,rye.test(s))aV(a,s);else throw Error(sf+s)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=RH,i.config=i.set=iye,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function iye(t){if(!t||typeof t!="object")throw Error(Ws+"Object expected");var e,n,r,i=["precision",1,Uh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Fh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(sf+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(sf+n+": "+r);return this}var mN=RH(nye);Ji=new mN(1);const Nt=mN;var sye=t=>t,jH={},LH=t=>t===jH,lV=t=>function e(){return arguments.length===0||arguments.length===1&&LH(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},VH=(t,e)=>t===1?e:lV(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==jH).length;return s>=t?e(...r):VH(t-s,lV(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var f=r.map(d=>LH(d)?l.shift():d);return e(...f,...l)}))}),Y1=t=>VH(t.length,t),$k=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},aye=Y1((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),oye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return sye;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,u)=>u(l),s(...arguments))}},Hk=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),BH=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((a,l)=>{var u;return a===((u=e)===null||u===void 0?void 0:u[l])})||(e=i,n=t(...i)),n}};function zH(t){var e;return t===0?e=1:e=Math.floor(new Nt(t).abs().log(10).toNumber())+1,e}function UH(t,e,n){for(var r=new Nt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}Y1((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Y1((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Y1((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var FH=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},$H=(t,e,n)=>{if(t.lte(0))return new Nt(0);var r=zH(t.toNumber()),i=new Nt(10).pow(r),s=t.div(i),a=r!==1?.05:.1,l=new Nt(Math.ceil(s.div(a).toNumber())).add(n).mul(a),u=l.mul(i);return e?new Nt(u.toNumber()):new Nt(Math.ceil(u.toNumber()))},lye=(t,e,n)=>{var r=new Nt(1),i=new Nt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Nt(10).pow(zH(t)-1),i=new Nt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Nt(Math.floor(t)))}else t===0?i=new Nt(Math.floor((e-1)/2)):n||(i=new Nt(Math.floor(t)));var a=Math.floor((e-1)/2),l=oye(aye(u=>i.add(new Nt(u-a).mul(r)).toNumber()),$k);return l(0,e)},HH=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Nt(0),tickMin:new Nt(0),tickMax:new Nt(0)};var a=$H(new Nt(n).sub(e).div(r-1),i,s),l;e<=0&&n>=0?l=new Nt(0):(l=new Nt(e).add(n).div(2),l=l.sub(new Nt(l).mod(a)));var u=Math.ceil(l.sub(e).div(a).toNumber()),f=Math.ceil(new Nt(n).sub(l).div(a).toNumber()),d=u+f+1;return d>r?HH(e,n,r,i,s+1):(d<r&&(f=n>0?f+(r-d):f,u=n>0?u:u+(r-d)),{step:a,tickMin:l.sub(new Nt(u).mul(a)),tickMax:l.add(new Nt(f).mul(a))})};function cye(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[a,l]=FH([e,n]);if(a===-1/0||l===1/0){var u=l===1/0?[a,...$k(0,r-1).map(()=>1/0)]:[...$k(0,r-1).map(()=>-1/0),l];return e>n?Hk(u):u}if(a===l)return lye(a,r,i);var{step:f,tickMin:d,tickMax:p}=HH(a,l,s,i,0),g=UH(d,p.add(new Nt(.1).mul(f)),f);return e>n?Hk(g):g}function uye(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=FH([n,r]);if(s===-1/0||a===1/0)return[n,r];if(s===a)return[s];var l=Math.max(e,2),u=$H(new Nt(a).sub(s).div(l-1),i,0),f=[...UH(new Nt(s),new Nt(a),u),a];return i===!1&&(f=f.map(d=>Math.round(d))),n>r?Hk(f):f}var fye=BH(cye),dye=BH(uye),qH=t=>t.rootProps.maxBarSize,hye=t=>t.rootProps.barGap,KH=t=>t.rootProps.barCategoryGap,pye=t=>t.rootProps.barSize,X1=t=>t.rootProps.stackOffset,gN=t=>t.options.chartName,yN=t=>t.rootProps.syncId,WH=t=>t.rootProps.syncMethod,vN=t=>t.options.eventEmitter,jo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Xi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Q1=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},mye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:jo.angleAxisId,includeHidden:!1,name:void 0,reversed:jo.reversed,scale:jo.scale,tick:jo.tick,tickCount:void 0,ticks:void 0,type:jo.type,unit:void 0},gye={allowDataOverflow:Xi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xi.scale,tick:Xi.tick,tickCount:Xi.tickCount,ticks:void 0,type:Xi.type,unit:void 0},yye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:jo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jo.scale,tick:jo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},vye={allowDataOverflow:Xi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xi.scale,tick:Xi.tick,tickCount:Xi.tickCount,ticks:void 0,type:"category",unit:void 0},bN=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?yye:mye,xN=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?vye:gye,J1=t=>t.polarOptions,wN=ie([ll,cl,gr],Ede),GH=ie([J1,wN],(t,e)=>{if(t!=null)return wa(t.innerRadius,e,0)}),YH=ie([J1,wN],(t,e)=>{if(t!=null)return wa(t.outerRadius,e,e*.8)}),bye=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},XH=ie([J1],bye);ie([bN,XH],Q1);var QH=ie([wN,GH,YH],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ie([xN,QH],Q1);var JH=ie([St,J1,GH,YH,ll,cl],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:l,startAngle:u,endAngle:f}=e;return{cx:wa(a,i,i/2),cy:wa(l,s,s/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:f,clockWise:!1}}}),Xn=(t,e)=>e,Z1=(t,e,n)=>n;function SN(t){return t?.id}var ir=t=>{var e=St(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},$h=t=>t.tooltip.settings.axisId,vr=t=>{var e=ir(t),n=$h(t);return sy(t,e,n)},ZH=ie([vr],t=>t?.dataKey);function e7(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return t.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var d=SN(l);f.forEach((p,g)=>{var v=s==null||i?g:String(dr(p,s,null)),x=dr(p,l.dataKey,0),S;a.has(v)?S=a.get(v):S={},Object.assign(S,{[d]:x}),a.set(v,S)})}}),Array.from(a.values())}function ew(t){return t.stackId!=null&&t.dataKey!=null}function cV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cV(Object(n),!0).forEach(function(r){xye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xye(t,e,n){return(e=wye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wye(t){var e=Sye(t,"string");return typeof e=="symbol"?e:e+""}function Sye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qk=[0,"auto"],Gi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},t7=(t,e)=>t.cartesianAxis.xAxis[e],fl=(t,e)=>{var n=t7(t,e);return n??Gi},Yi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:qk,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ey},n7=(t,e)=>t.cartesianAxis.yAxis[e],dl=(t,e)=>{var n=n7(t,e);return n??Yi},Tye={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},TN=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Tye},Ri=(t,e,n)=>{switch(e){case"xAxis":return fl(t,n);case"yAxis":return dl(t,n);case"zAxis":return TN(t,n);case"angleAxis":return bN(t,n);case"radiusAxis":return xN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Eye=(t,e,n)=>{switch(e){case"xAxis":return fl(t,n);case"yAxis":return dl(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},sy=(t,e,n)=>{switch(e){case"xAxis":return fl(t,n);case"yAxis":return dl(t,n);case"angleAxis":return bN(t,n);case"radiusAxis":return xN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},r7=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function i7(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var tw=t=>t.graphicalItems.cartesianItems,_ye=ie([Xn,Z1],i7),s7=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),ay=ie([tw,Ri,_ye],s7),a7=ie([ay],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(ew)),o7=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),l7=ie([ay],o7),c7=t=>t.map(e=>e.data).filter(Boolean).flat(1),Aye=ie([ay],c7),u7=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},EN=ie([Aye,G1],u7),f7=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:dr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:dr(i,r)}))):t.map(r=>({value:r})),nw=ie([EN,Ri,ay],f7);function d7(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Vf(t){return t.filter(e=>Za(e)||e instanceof Date).map(Number).filter(e=>rs(e)===!1)}function kye(t,e,n){return!n||typeof e!="number"||rs(e)?[]:n.length?Vf(n.flatMap(r=>{var i=dr(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!ss(s)||!ss(a)))return[e-s,e+a]})):[]}var Cye=ie([a7,G1,vr],e7),h7=(t,e,n)=>{var r={},i=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[a,l]=s,u=l.map(SN);return[a,{stackedData:zde(t,u,n),graphicalItems:l}]}))},Kk=ie([Cye,a7,X1],h7),p7=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var s=qde(t,r,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Oye=ie([Kk,Qc,Xn],p7),m7=(t,e,n,r,i)=>n.length>0?t.flatMap(s=>n.flatMap(a=>{var l,u,f=(l=r[a.id])===null||l===void 0?void 0:l.filter(p=>d7(i,p)),d=dr(s,(u=e.dataKey)!==null&&u!==void 0?u:a.dataKey);return{value:d,errorDomain:kye(s,d,f)}})).filter(Boolean):e?.dataKey!=null?t.map(s=>({value:dr(s,e.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]})),rw=t=>t.errorBars,g7=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>d7(n,r));ie([l7,rw,Xn],g7);var Nye=ie([EN,Ri,l7,rw,Xn],m7);function Mye(t){var{value:e}=t;if(Za(e)||e instanceof Date)return e}var uV=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Vf(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Dye=(t,e,n)=>{var r=t.map(Mye).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&T$(r))?X8(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},_N=t=>{var e;if(t==null||!("domain"in t))return qk;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Vf(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:qk},Jb=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},y7=t=>t.referenceElements.dots,Hh=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Iye=ie([y7,Xn,Z1],Hh),v7=t=>t.referenceElements.areas,Pye=ie([v7,Xn,Z1],Hh),b7=t=>t.referenceElements.lines,Rye=ie([b7,Xn,Z1],Hh),x7=(t,e)=>{var n=Vf(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},jye=ie(Iye,Xn,x7),w7=(t,e)=>{var n=Vf(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Lye=ie([Pye,Xn],w7),S7=(t,e)=>{var n=Vf(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Vye=ie(Rye,Xn,S7),Bye=ie(jye,Vye,Lye,(t,e,n)=>Jb(t,n,e)),zye=ie([Ri],_N),T7=(t,e,n,r,i,s,a)=>{var l=eye(e,t.allowDataOverflow);if(l!=null)return l;var u=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",f=u?Jb(n,i,uV(r)):Jb(i,uV(r));return tye(e,f,t.allowDataOverflow)},Uye=ie([Ri,zye,Oye,Nye,Bye,St,Xn],T7),Fye=[0,1],E7=(t,e,n,r,i,s,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:l,type:u}=t,f=Gc(e,s);return f&&l==null?X8(0,n.length):u==="category"?Dye(r,t,f):i==="expand"?Fye:a}},AN=ie([Ri,St,EN,nw,X1,Xn,Uye],E7),_7=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(Qg(s));return l in um?l:"point"}}},oy=ie([Ri,St,r7,gN,Xn],_7);function $ye(t){if(t!=null){if(t in um)return um[t]();var e="scale".concat(Qg(t));if(e in um)return um[e]()}}function kN(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=$ye(e);if(i!=null){var s=i.domain(n).range(r);return Rde(s),s}}}var A7=(t,e,n)=>{var r=_N(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&xh(t))return fye(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&xh(t))return dye(t,e.tickCount,e.allowDecimals)}},CN=ie([AN,sy,oy],A7),k7=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&xh(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],a=e[1],l=n[n.length-1];return[Math.min(i,s),Math.max(a,l)]}return e},Hye=ie([Ri,AN,CN,Xn],k7),qye=ie(nw,Ri,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Vf(t.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];n=Math.min(n,a)}return n/i}}),C7=ie(qye,St,KH,gr,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!ss(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=wa(n,t*s),l=t*s/2;return l-a-(l-a)/s*a}return 0}),Kye=(t,e)=>{var n=fl(t,e);return n==null||typeof n.padding!="string"?0:C7(t,"xAxis",e,n.padding)},Wye=(t,e)=>{var n=dl(t,e);return n==null||typeof n.padding!="string"?0:C7(t,"yAxis",e,n.padding)},Gye=ie(fl,Kye,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Yye=ie(dl,Wye,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Xye=ie([gr,Gye,V1,L1,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),Qye=ie([gr,St,Yye,V1,L1,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),ly=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Xye(t,n,r);case"yAxis":return Qye(t,n,r);case"zAxis":return(i=TN(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return XH(t);case"radiusAxis":return QH(t,n);default:return}},O7=ie([Ri,ly],Q1),qh=ie([Ri,oy,Hye,O7],kN);ie([ay,rw,Xn],g7);function N7(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var iw=(t,e)=>e,sw=(t,e,n)=>n,Jye=ie(R1,iw,sw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(N7)),Zye=ie(j1,iw,sw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(N7)),M7=(t,e)=>({width:t.width,height:e.height}),e0e=(t,e)=>{var n=typeof e.width=="number"?e.width:ey;return{width:n,height:t.height}},D7=ie(gr,fl,M7),t0e=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},n0e=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},r0e=ie(cl,gr,Jye,iw,sw,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var u=M7(e,l);a==null&&(a=t0e(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;s[l.id]=a-Number(f)*u.height,a+=(f?-1:1)*u.height}),s}),i0e=ie(ll,gr,Zye,iw,sw,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var u=e0e(e,l);a==null&&(a=n0e(e,r,t));var f=r==="left"&&!i||r==="right"&&i;s[l.id]=a-Number(f)*u.width,a+=(f?-1:1)*u.width}),s}),s0e=(t,e)=>{var n=fl(t,e);if(n!=null)return r0e(t,n.orientation,n.mirror)},a0e=ie([gr,fl,s0e,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),o0e=(t,e)=>{var n=dl(t,e);if(n!=null)return i0e(t,n.orientation,n.mirror)},l0e=ie([gr,dl,o0e,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),I7=ie(gr,dl,(t,e)=>{var n=typeof e.width=="number"?e.width:ey;return{width:n,height:t.height}}),fV=(t,e,n)=>{switch(e){case"xAxis":return D7(t,n).width;case"yAxis":return I7(t,n).height;default:return}},P7=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,l=Gc(t,r),u=e.map(f=>f.value);if(a&&l&&s==="category"&&i&&T$(u))return u}},ON=ie([St,nw,Ri,Xn],P7),R7=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=Gc(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(l=>l.value)}},NN=ie([St,nw,sy,Xn],R7),dV=ie([St,Eye,oy,qh,ON,NN,ly,CN,Xn],(t,e,n,r,i,s,a,l,u)=>{if(e==null)return null;var f=Gc(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:s,duplicateDomain:i,isCategorical:f,niceTicks:l,range:a,realScaleType:n,scale:r}}),c0e=(t,e,n,r,i,s,a,l,u)=>{if(!(e==null||r==null)){var f=Gc(t,u),{type:d,ticks:p,tickCount:g}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=d==="category"&&r.bandwidth?r.bandwidth()/v:0;x=u==="angleAxis"&&s!=null&&s.length>=2?Oi(s[0]-s[1])*2*x:x;var S=p||i;if(S){var T=S.map((_,C)=>{var D=a?a.indexOf(_):_;return{index:C,coordinate:r(D)+x,value:_,offset:x}});return T.filter(_=>!rs(_.coordinate))}return f&&l?l.map((_,C)=>({coordinate:r(_)+x,value:_,index:C,offset:x})):r.ticks?r.ticks(g).map(_=>({coordinate:r(_)+x,value:_,offset:x})):r.domain().map((_,C)=>({coordinate:r(_)+x,value:a?a[_]:_,index:C,offset:x}))}},j7=ie([St,sy,oy,qh,CN,ly,ON,NN,Xn],c0e),u0e=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=Gc(t,a),{tickCount:u}=e,f=0;return f=a==="angleAxis"&&r?.length>=2?Oi(r[0]-r[1])*2*f:f,l&&s?s.map((d,p)=>({coordinate:n(d)+f,value:d,index:p,offset:f})):n.ticks?n.ticks(u).map(d=>({coordinate:n(d)+f,value:d,offset:f})):n.domain().map((d,p)=>({coordinate:n(d)+f,value:i?i[d]:d,index:p,offset:f}))}},Rc=ie([St,sy,qh,ly,ON,NN,Xn],u0e),jc=ie(Ri,qh,(t,e)=>{if(!(t==null||e==null))return Qb(Qb({},t),{},{scale:e})}),f0e=ie([Ri,oy,AN,O7],kN);ie((t,e,n)=>TN(t,n),f0e,(t,e)=>{if(!(t==null||e==null))return Qb(Qb({},t),{},{scale:e})});var d0e=ie([St,R1,j1],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),L7=t=>t.options.defaultTooltipEventType,V7=t=>t.options.validateTooltipEventTypes;function B7(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function MN(t,e){var n=L7(t),r=V7(t);return B7(e,n,r)}function h0e(t){return De(e=>MN(e,t))}var z7=(t,e)=>{var n,r=Number(e);if(!(rs(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},p0e=t=>t.tooltip.settings,lc={active:!1,index:null,dataKey:void 0,coordinate:void 0},m0e={itemInteraction:{click:lc,hover:lc},axisInteraction:{click:lc,hover:lc},keyboardInteraction:lc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},U7=ls({name:"tooltip",initialState:m0e,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Ho(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:g0e,removeTooltipEntrySettings:y0e,setTooltipSettingsState:v0e,setActiveMouseOverItemIndex:F7,mouseLeaveItem:b0e,mouseLeaveChart:$7,setActiveClickItemIndex:x0e,setMouseOverAxisIndex:H7,setMouseClickAxisIndex:w0e,setSyncInteraction:Wk,setKeyboardInteraction:Gk}=U7.actions,S0e=U7.reducer;function hV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hV(Object(n),!0).forEach(function(r){T0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T0e(t,e,n){return(e=E0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E0e(t){var e=_0e(t,"string");return typeof e=="symbol"?e:e+""}function _0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A0e(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function k0e(t){return t.index!=null}var q7=(t,e,n,r)=>{if(e==null)return lc;var i=A0e(t,e,n);if(i==null)return lc;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(k0e(i)){if(s)return uv(uv({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return uv(uv({},lc),{},{coordinate:i.coordinate})},DN=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!ss(r))return n;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},K7=(t,e,n,r,i,s,a,l)=>{if(!(s==null||l==null)){var u=a[0],f=u==null?void 0:l(u.positions,s);if(f!=null)return f;var d=i?.[Number(s)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:d.coordinate}}}},W7=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},cy=t=>t.options.tooltipPayloadSearcher,Kh=t=>t.tooltip;function pV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pV(Object(n),!0).forEach(function(r){C0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C0e(t,e,n){return(e=O0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O0e(t){var e=N0e(t,"string");return typeof e=="symbol"?e:e+""}function N0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M0e(t,e){return t??e}var G7=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:l,computedData:u,dataStartIndex:f,dataEndIndex:d}=n,p=[];return t.reduce((g,v)=>{var x,{dataDefinedOnItem:S,settings:T}=v,_=M0e(S,l),C=Array.isArray(_)?D8(_,f,d):_,D=(x=T?.dataKey)!==null&&x!==void 0?x:r,L=T?.nameKey,R;if(r&&Array.isArray(C)&&!Array.isArray(C[0])&&a==="axis"?R=E$(C,r,i):R=s(C,e,u,L),Array.isArray(R))R.forEach(N=>{var M=mV(mV({},T),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});g.push(ZL({tooltipEntrySettings:M,dataKey:N.dataKey,payload:N.payload,value:dr(N.payload,N.dataKey),name:N.name}))});else{var B;g.push(ZL({tooltipEntrySettings:T,dataKey:D,payload:R,value:dr(R,D),name:(B=dr(R,L))!==null&&B!==void 0?B:T?.name}))}return g},p)}},IN=ie([vr,St,r7,gN,ir],_7),D0e=ie([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),I0e=ie([ir,$h],i7),uy=ie([D0e,vr,I0e],s7),P0e=ie([uy],t=>t.filter(ew)),R0e=ie([uy],c7),Wh=ie([R0e,Qc],u7),j0e=ie([P0e,Qc,vr],e7),PN=ie([Wh,vr,uy],f7),L0e=ie([vr],_N),V0e=ie([uy],t=>t.filter(ew)),B0e=ie([j0e,V0e,X1],h7),z0e=ie([B0e,Qc,ir],p7),U0e=ie([uy],o7),F0e=ie([Wh,vr,U0e,rw,ir],m7),$0e=ie([y7,ir,$h],Hh),H0e=ie([$0e,ir],x7),q0e=ie([v7,ir,$h],Hh),K0e=ie([q0e,ir],w7),W0e=ie([b7,ir,$h],Hh),G0e=ie([W0e,ir],S7),Y0e=ie([H0e,G0e,K0e],Jb),X0e=ie([vr,L0e,z0e,F0e,Y0e,St,ir],T7),Y7=ie([vr,St,Wh,PN,X1,ir,X0e],E7),Q0e=ie([Y7,vr,IN],A7),J0e=ie([vr,Y7,Q0e,ir],k7),X7=t=>{var e=ir(t),n=$h(t),r=!1;return ly(t,e,n,r)},Q7=ie([vr,X7],Q1),J7=ie([vr,IN,J0e,Q7],kN),Z0e=ie([St,PN,vr,ir],P7),eve=ie([St,PN,vr,ir],R7),tve=(t,e,n,r,i,s,a,l)=>{if(e){var{type:u}=e,f=Gc(t,l);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/d:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?Oi(i[0]-i[1])*2*p:p,f&&a?a.map((g,v)=>({coordinate:r(g)+p,value:g,index:v,offset:p})):r.domain().map((g,v)=>({coordinate:r(g)+p,value:s?s[g]:g,index:v,offset:p}))}}},hl=ie([St,vr,IN,J7,X7,Z0e,eve,ir],tve),RN=ie([L7,V7,p0e],(t,e,n)=>B7(n.shared,t,e)),Z7=t=>t.tooltip.settings.trigger,jN=t=>t.tooltip.settings.defaultIndex,aw=ie([Kh,RN,Z7,jN],q7),Sf=ie([aw,Wh],DN),eq=ie([hl,Sf],z7),tq=ie([aw],t=>{if(t)return t.dataKey}),nq=ie([Kh,RN,Z7,jN],W7),nve=ie([ll,cl,St,gr,hl,jN,nq,cy],K7),rve=ie([aw,nve],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),ive=ie([aw],t=>t.active),sve=ie([nq,Sf,Qc,ZH,eq,cy,RN],G7),ave=ie([sve],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function gV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gV(Object(n),!0).forEach(function(r){ove(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ove(t,e,n){return(e=lve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lve(t){var e=cve(t,"string");return typeof e=="symbol"?e:e+""}function cve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uve=()=>De(vr),fve=()=>{var t=uve(),e=De(hl),n=De(J7);return cg(yV(yV({},t),{},{scale:n}),e)},dve=()=>De(gN),LN=(t,e)=>e,rq=(t,e,n)=>n,VN=(t,e,n,r)=>r,hve=ie(hl,t=>C1(t,e=>e.coordinate)),BN=ie([Kh,LN,rq,VN],q7),iq=ie([BN,Wh],DN),pve=(t,e,n)=>{if(e!=null){var r=Kh(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},sq=ie([Kh,LN,rq,VN],W7),Zb=ie([ll,cl,St,gr,hl,VN,sq,cy],K7),mve=ie([BN,Zb],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),aq=ie(hl,iq,z7),gve=ie([sq,iq,Qc,ZH,aq,cy,LN],G7),yve=ie([BN],t=>({isActive:t.active,activeIndex:t.index})),vve=(t,e,n,r,i,s,a,l)=>{if(!(!t||!e||!r||!i||!s)){var u=Kde(t.chartX,t.chartY,e,n,l);if(u){var f=Gde(u,e),d=Ide(f,a,s,r,i),p=Wde(e,s,d,u);return{activeIndex:String(d),activeCoordinate:p}}}};function Yk(){return Yk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yk.apply(null,arguments)}function vV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vV(Object(n),!0).forEach(function(r){bve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bve(t,e,n){return(e=xve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xve(t){var e=wve(t,"string");return typeof e=="symbol"?e:e+""}function wve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sve(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:a,cursor:l,tooltipEventType:u,chartName:f}=t,d=e,p=n,g=r;if(!l||!d||f!=="ScatterChart"&&u!=="axis")return null;var v,x;if(f==="ScatterChart")v=d,x=Bhe;else if(f==="BarChart")v=zhe(a,d,i,s),x=K8;else if(a==="radial"){var{cx:S,cy:T,radius:_,startAngle:C,endAngle:D}=W8(d);v={cx:S,cy:T,startAngle:C,endAngle:D,innerRadius:_,outerRadius:_},x=Y8}else v={points:bpe(a,d,i)},x=U8;var L=typeof l=="object"&&"className"in l?l.className:void 0,R=fv(fv(fv(fv({stroke:"#ccc",pointerEvents:"none"},i),v),jn(l,!1)),{},{payload:p,payloadIndex:g,className:gt("recharts-tooltip-cursor",L)});return A.isValidElement(l)?A.cloneElement(l,R):A.createElement(x,R)}function Tve(t){var e=fve(),n=j8(),r=B1(),i=dve();return A.createElement(Sve,Yk({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var oq=A.createContext(null),Eve=()=>A.useContext(oq),S_={exports:{}},bV;function _ve(){return bV||(bV=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,f,d){this.fn=u,this.context=f,this.once=d||!1}function s(u,f,d,p,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new i(d,p||u,g),x=n?n+f:f;return u._events[x]?u._events[x].fn?u._events[x]=[u._events[x],v]:u._events[x].push(v):(u._events[x]=v,u._eventsCount++),u}function a(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],d,p;if(this._eventsCount===0)return f;for(p in d=this._events)e.call(d,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},l.prototype.listeners=function(f){var d=n?n+f:f,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,x=new Array(v);g<v;g++)x[g]=p[g].fn;return x},l.prototype.listenerCount=function(f){var d=n?n+f:f,p=this._events[d];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,d,p,g,v,x){var S=n?n+f:f;if(!this._events[S])return!1;var T=this._events[S],_=arguments.length,C,D;if(T.fn){switch(T.once&&this.removeListener(f,T.fn,void 0,!0),_){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,d),!0;case 3:return T.fn.call(T.context,d,p),!0;case 4:return T.fn.call(T.context,d,p,g),!0;case 5:return T.fn.call(T.context,d,p,g,v),!0;case 6:return T.fn.call(T.context,d,p,g,v,x),!0}for(D=1,C=new Array(_-1);D<_;D++)C[D-1]=arguments[D];T.fn.apply(T.context,C)}else{var L=T.length,R;for(D=0;D<L;D++)switch(T[D].once&&this.removeListener(f,T[D].fn,void 0,!0),_){case 1:T[D].fn.call(T[D].context);break;case 2:T[D].fn.call(T[D].context,d);break;case 3:T[D].fn.call(T[D].context,d,p);break;case 4:T[D].fn.call(T[D].context,d,p,g);break;default:if(!C)for(R=1,C=new Array(_-1);R<_;R++)C[R-1]=arguments[R];T[D].fn.apply(T[D].context,C)}}return!0},l.prototype.on=function(f,d,p){return s(this,f,d,p,!1)},l.prototype.once=function(f,d,p){return s(this,f,d,p,!0)},l.prototype.removeListener=function(f,d,p,g){var v=n?n+f:f;if(!this._events[v])return this;if(!d)return a(this,v),this;var x=this._events[v];if(x.fn)x.fn===d&&(!g||x.once)&&(!p||x.context===p)&&a(this,v);else{for(var S=0,T=[],_=x.length;S<_;S++)(x[S].fn!==d||g&&!x[S].once||p&&x[S].context!==p)&&T.push(x[S]);T.length?this._events[v]=T.length===1?T[0]:T:a(this,v)}return this},l.prototype.removeAllListeners=function(f){var d;return f?(d=n?n+f:f,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(S_)),S_.exports}var Ave=_ve();const kve=Ta(Ave);var gg=new kve,Xk="recharts.syncEvent.tooltip",xV="recharts.syncEvent.brush";function lq(t,e){if(e){var n=Number.parseInt(e,10);if(!rs(n))return t?.[n]}}var Cve={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},cq=ls({name:"options",initialState:Cve,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ove=cq.reducer,{createEventEmitter:Nve}=cq.actions;function Mve(t){return t.tooltip.syncInteraction}var Dve={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},uq=ls({name:"chartData",initialState:Dve,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:wV,setDataStartEndIndexes:Ive,setComputedData:yIe}=uq.actions,Pve=uq.reducer,Rve=["x","y"];function SV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SV(Object(n),!0).forEach(function(r){jve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jve(t,e,n){return(e=Lve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lve(t){var e=Vve(t,"string");return typeof e=="symbol"?e:e+""}function Vve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bve(t,e){if(t==null)return{};var n,r,i=zve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fq=()=>{};function Uve(){var t=De(yN),e=De(vN),n=mr(),r=De(WH),i=De(hl),s=B1(),a=HO(),l=De(u=>u.rootProps.className);A.useEffect(()=>{if(t==null)return fq;var u=(f,d,p)=>{if(e!==p&&t===f){if(r==="index"){var g;if(a&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate){var v=d.payload.coordinate,{x,y:S}=v,T=Bve(v,Rve),_=Mu(Mu(Mu({},T),typeof x=="number"&&{x:Math.max(a.x,Math.min(x,a.x+a.width))}),typeof S=="number"&&{y:Math.max(a.y,Math.min(S,a.y+a.height))}),C=Mu(Mu({},d),{},{payload:Mu(Mu({},d.payload),{},{coordinate:_})});n(C)}else n(d);return}if(i!=null){var D;if(typeof r=="function"){var L={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},R=r(i,L);D=i[R]}else r==="value"&&(D=i.find(U=>String(U.value)===d.payload.label));var{coordinate:B}=d.payload;if(D==null||d.payload.active===!1||B==null||a==null){n(Wk({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:N,y:M}=B,P=Math.min(N,a.x+a.width),F=Math.min(M,a.y+a.height),V={x:s==="horizontal"?D.coordinate:P,y:s==="horizontal"?F:D.coordinate},$=Wk({active:d.payload.active,coordinate:V,dataKey:d.payload.dataKey,index:String(D.index),label:d.payload.label});n($)}}};return gg.on(Xk,u),()=>{gg.off(Xk,u)}},[l,n,e,t,r,i,s,a])}function Fve(){var t=De(yN),e=De(vN),n=mr();A.useEffect(()=>{if(t==null)return fq;var r=(i,s,a)=>{e!==a&&t===i&&n(Ive(s))};return gg.on(xV,r),()=>{gg.off(xV,r)}},[n,e,t])}function $ve(){var t=mr();A.useEffect(()=>{t(Nve())},[t]),Uve(),Fve()}function Hve(t,e,n,r,i,s){var a=De(g=>pve(g,t,e)),l=De(vN),u=De(yN),f=De(WH),d=De(Mve),p=d?.active;A.useEffect(()=>{if(!p&&u!=null&&l!=null){var g=Wk({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r});gg.emit(Xk,u,g,l)}},[p,n,a,i,r,l,u,f,s])}function TV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TV(Object(n),!0).forEach(function(r){qve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qve(t,e,n){return(e=Kve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kve(t){var e=Wve(t,"string");return typeof e=="symbol"?e:e+""}function Wve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gve(t){return t.dataKey}function Yve(t,e){return A.isValidElement(t)?A.cloneElement(t,e):typeof t=="function"?A.createElement(t,e):A.createElement(yhe,e)}var _V=[],Xve={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Rf.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function T_(t){var e=Pi(t,Xve),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:a,filterNull:l,isAnimationActive:u,offset:f,payloadUniqBy:d,position:p,reverseDirection:g,useTranslate3d:v,wrapperStyle:x,cursor:S,shared:T,trigger:_,defaultIndex:C,portal:D,axisId:L}=e,R=mr(),B=typeof C=="number"?String(C):C;A.useEffect(()=>{R(v0e({shared:T,trigger:_,axisId:L,active:n,defaultIndex:B}))},[R,T,_,L,n,B]);var N=HO(),M=z8(),P=h0e(T),{activeIndex:F,isActive:V}=De(Se=>yve(Se,P,_,B)),$=De(Se=>gve(Se,P,_,B)),U=De(Se=>aq(Se,P,_,B)),me=De(Se=>mve(Se,P,_,B)),ve=$,G=Eve(),K=n??V,[ae,pe]=Sfe([ve,K]),xe=P==="axis"?U:void 0;Hve(P,_,me,xe,F,K);var q=D??G;if(q==null)return null;var X=ve??_V;K||(X=_V),l&&X.length&&(X=Xue(ve.filter(Se=>Se.value!=null&&(Se.hide!==!0||e.includeHidden)),d,Gve));var ye=X.length>0,we=A.createElement(Ehe,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:u,active:K,coordinate:me,hasPayload:ye,offset:f,position:p,reverseDirection:g,useTranslate3d:v,viewBox:N,wrapperStyle:x,lastBoundingBox:ae,innerRef:pe,hasPortalFromProps:!!D},Yve(a,EV(EV({},e),{},{payload:X,label:xe,active:K,coordinate:me,accessibilityLayer:M})));return A.createElement(A.Fragment,null,O$.createPortal(we,q),K&&A.createElement(Tve,{cursor:S,tooltipEventType:P,coordinate:me,payload:ve,index:F}))}var E_={},__={},A_={},AV;function Qve(){return AV||(AV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let a,l=null;const u=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),d=()=>{l!==null&&(n.apply(a,l),a=void 0,l=null)},p=()=>{f&&d(),S()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},x=()=>{g!==null&&(clearTimeout(g),g=null)},S=()=>{x(),a=void 0,l=null},T=()=>{d()},_=function(...C){if(i?.aborted)return;a=this,l=C;const D=g==null;v(),u&&D&&d()};return _.schedule=v,_.cancel=S,_.flush=T,i?.addEventListener("abort",S,{once:!0}),_}t.debounce=e})(A_)),A_}var kV;function Jve(){return kV||(kV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qve();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:u}=s,f=Array(2);a&&(f[0]="leading"),l&&(f[1]="trailing");let d,p=null;const g=e.debounce(function(...S){d=r.apply(this,S),p=null},i,{edges:f}),v=function(...S){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(d=r.apply(this,S),p=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,S),d)},x=()=>(g.flush(),d);return v.cancel=g.cancel,v.flush=x,v}t.debounce=n})(__)),__}var CV;function Zve(){return CV||(CV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jve();function n(r,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:l})}t.throttle=n})(E_)),E_}var k_,OV;function ebe(){return OV||(OV=1,k_=Zve().throttle),k_}var tbe=ebe();const nbe=Ta(tbe);var Om=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function NV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NV(Object(n),!0).forEach(function(r){rbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rbe(t,e,n){return(e=ibe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ibe(t){var e=sbe(t,"string");return typeof e=="symbol"?e:e+""}function sbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O_=A.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:l,maxHeight:u,children:f,debounce:d=0,id:p,className:g,onResize:v,style:x={}}=t,S=A.useRef(null),T=A.useRef();T.current=v,A.useImperativeHandle(e,()=>S.current);var[_,C]=A.useState({containerWidth:r.width,containerHeight:r.height}),D=A.useCallback((R,B)=>{C(N=>{var M=Math.round(R),P=Math.round(B);return N.containerWidth===M&&N.containerHeight===P?N:{containerWidth:M,containerHeight:P}})},[]);A.useEffect(()=>{var R=P=>{var F,{width:V,height:$}=P[0].contentRect;D(V,$),(F=T.current)===null||F===void 0||F.call(T,V,$)};d>0&&(R=nbe(R,d,{trailing:!0,leading:!1}));var B=new ResizeObserver(R),{width:N,height:M}=S.current.getBoundingClientRect();return D(N,M),B.observe(S.current),()=>{B.disconnect()}},[D,d]);var L=A.useMemo(()=>{var{containerWidth:R,containerHeight:B}=_;if(R<0||B<0)return null;Om($u(i)||$u(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),Om(!n||n>0,"The aspect(%s) must be greater than zero.",n);var N=$u(i)?R:i,M=$u(s)?B:s;return n&&n>0&&(N?M=N/n:M&&(N=M*n),u&&M>u&&(M=u)),Om(N>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,M,i,s,a,l,n),A.Children.map(f,P=>A.cloneElement(P,{width:N,height:M,style:C_({width:N,height:M},P.props.style)}))},[n,f,s,u,l,a,_,i]);return A.createElement("div",{id:p?"".concat(p):void 0,className:gt("recharts-responsive-container",g),style:C_(C_({},x),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:u}),ref:S},A.createElement("div",{style:{width:0,height:0,overflow:"visible"}},L))}),dq=t=>null;dq.displayName="Cell";function abe(t,e,n){return(e=obe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function obe(t){var e=lbe(t,"string");return typeof e=="symbol"?e:e+""}function lbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class cbe{constructor(e){abe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function MV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ube(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MV(Object(n),!0).forEach(function(r){fbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fbe(t,e,n){return(e=dbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dbe(t){var e=hbe(t,"string");return typeof e=="symbol"?e:e+""}function hbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pbe={cacheSize:2e3,enableCache:!0},hq=ube({},pbe),DV=new cbe(hq.cacheSize),mbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},IV="recharts_measurement_span";function gbe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var PV=(t,e)=>{try{var n=document.getElementById(IV);n||(n=document.createElement("span"),n.setAttribute("id",IV),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,mbe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Nm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Rf.isSsr)return{width:0,height:0};if(!hq.enableCache)return PV(e,n);var r=gbe(e,n),i=DV.get(r);if(i)return i;var s=PV(e,n);return DV.set(r,s),s},RV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ybe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,pq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bbe=Object.keys(pq),$d="NaN";function xbe(t,e){return t*pq[e]}class Ei{static parse(e){var n,[,r,i]=(n=vbe.exec(e))!==null&&n!==void 0?n:[];return new Ei(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,rs(e)&&(this.unit=""),n!==""&&!ybe.test(n)&&(this.num=NaN,this.unit=""),bbe.includes(n)&&(this.num=xbe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Ei(NaN,""):new Ei(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ei(NaN,""):new Ei(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ei(NaN,""):new Ei(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ei(NaN,""):new Ei(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return rs(this.num)}}function mq(t){if(t.includes($d))return $d;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=RV.exec(e))!==null&&n!==void 0?n:[],a=Ei.parse(r??""),l=Ei.parse(s??""),u=i==="*"?a.multiply(l):a.divide(l);if(u.isNaN())return $d;e=e.replace(RV,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,d,p,g]=(f=jV.exec(e))!==null&&f!==void 0?f:[],v=Ei.parse(d??""),x=Ei.parse(g??""),S=p==="+"?v.add(x):v.subtract(x);if(S.isNaN())return $d;e=e.replace(jV,S.toString())}return e}var LV=/\(([^()]*)\)/;function wbe(t){for(var e=t,n;(n=LV.exec(e))!=null;){var[,r]=n;e=e.replace(LV,mq(r))}return e}function Sbe(t){var e=t.replace(/\s+/g,"");return e=wbe(e),e=mq(e),e}function Tbe(t){try{return Sbe(t)}catch{return $d}}function N_(t){var e=Tbe(t.slice(5,-1));return e===$d?"":e}var Ebe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_be=["dx","dy","angle","className","breakAll"];function Qk(){return Qk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qk.apply(null,arguments)}function VV(t,e){if(t==null)return{};var n,r,i=Abe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Abe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gq=/[ \f\n\r\t\v\u2028\u2029]+/,yq=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];hn(e)||(n?i=e.toString().split(""):i=e.toString().split(gq));var s=i.map(l=>({word:l,width:Nm(l,r).width})),a=n?0:Nm("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},kbe=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:l,breakAll:u}=t,f=Be(s),d=a,p=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(($,U)=>{var{word:me,width:ve}=U,G=$[$.length-1];if(G&&(r==null||i||G.width+ve+n<Number(r)))G.words.push(me),G.width+=ve+n;else{var K={words:[me],width:ve};$.push(K)}return $},[])},g=p(e),v=F=>F.reduce((V,$)=>V.width>$.width?V:$);if(!f||i)return g;var x=g.length>s||v(g).width>Number(r);if(!x)return g;for(var S="",T=F=>{var V=d.slice(0,F),$=yq({breakAll:u,style:l,children:V+S}).wordsWithComputedWidth,U=p($),me=U.length>s||v(U).width>Number(r);return[me,U]},_=0,C=d.length-1,D=0,L;_<=C&&D<=d.length-1;){var R=Math.floor((_+C)/2),B=R-1,[N,M]=T(B),[P]=T(R);if(!N&&!P&&(_=R+1),N&&P&&(C=R-1),!N&&P){L=M;break}D++}return L||g},BV=t=>{var e=hn(t)?[]:t.toString().split(gq);return[{words:e}]},Cbe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!Rf.isSsr){var l,u,f=yq({breakAll:s,children:r,style:i});if(f){var{wordsWithComputedWidth:d,spaceWidth:p}=f;l=d,u=p}else return BV(r);return kbe({breakAll:s,children:r,maxLines:a,style:i},l,u,e,n)}return BV(r)},zV="#808080",zN=A.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:l="start",verticalAnchor:u="end",fill:f=zV}=t,d=VV(t,Ebe),p=A.useMemo(()=>Cbe({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:g,dy:v,angle:x,className:S,breakAll:T}=d,_=VV(d,_be);if(!Za(n)||!Za(r)||p.length===0)return null;var C=n+(Be(g)?g:0),D=r+(Be(v)?v:0),L;switch(u){case"start":L=N_("calc(".concat(s,")"));break;case"middle":L=N_("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:L=N_("calc(".concat(p.length-1," * -").concat(i,")"));break}var R=[];if(a){var B=p[0].width,{width:N}=d;R.push("scale(".concat(Be(N)?N/B:1,")"))}return x&&R.push("rotate(".concat(x,", ").concat(C,", ").concat(D,")")),R.length&&(_.transform=R.join(" ")),A.createElement("text",Qk({},jn(_,!0),{ref:e,x:C,y:D,className:gt("recharts-text",S),textAnchor:l,fill:f.includes("url")?zV:f}),p.map((M,P)=>{var F=M.words.join(T?"":" ");return A.createElement("tspan",{x:C,dy:P===0?L:i,key:"".concat(F,"-").concat(P)},F)}))});zN.displayName="Text";var Obe=["labelRef"];function Nbe(t,e){if(t==null)return{};var n,r,i=Mbe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function UV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UV(Object(n),!0).forEach(function(r){Dbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dbe(t,e,n){return(e=Ibe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ibe(t){var e=Pbe(t,"string");return typeof e=="symbol"?e:e+""}function Pbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lo(){return Lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lo.apply(null,arguments)}var vq=A.createContext(null),Rbe=t=>{var{x:e,y:n,width:r,height:i,children:s}=t,a=A.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return A.createElement(vq.Provider,{value:a},s)},bq=()=>{var t=A.useContext(vq),e=HO();return t||e},jbe=A.createContext(null),Lbe=()=>{var t=A.useContext(jbe),e=De(JH);return t||e},Vbe=t=>{var{value:e,formatter:n}=t,r=hn(t.children)?e:t.children;return typeof n=="function"?n(r):r},UN=t=>t!=null&&typeof t=="function",Bbe=(t,e)=>{var n=Oi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},zbe=(t,e,n,r,i)=>{var{offset:s,className:a}=t,{cx:l,cy:u,innerRadius:f,outerRadius:d,startAngle:p,endAngle:g,clockWise:v}=i,x=(f+d)/2,S=Bbe(p,g),T=S>=0?1:-1,_,C;switch(e){case"insideStart":_=p+T*s,C=v;break;case"insideEnd":_=g-T*s,C=!v;break;case"end":_=g+T*s,C=v;break;default:throw new Error("Unsupported position ".concat(e))}C=S<=0?C:!C;var D=Lr(l,u,x,_),L=Lr(l,u,x,_+(C?1:-1)*359),R="M".concat(D.x,",").concat(D.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(C?0:1,`,
    `).concat(L.x,",").concat(L.y),B=hn(t.id)?ag("recharts-radial-line-"):t.id;return A.createElement("text",Lo({},r,{dominantBaseline:"central",className:gt("recharts-radial-bar-label",a)}),A.createElement("defs",null,A.createElement("path",{id:B,d:R})),A.createElement("textPath",{xlinkHref:"#".concat(B)},n))},Ube=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:u}=t,f=(l+u)/2;if(n==="outside"){var{x:d,y:p}=Lr(r,i,a+e,f);return{x:d,y:p,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:v,y:x}=Lr(r,i,g,f);return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},xq=t=>"cx"in t&&Be(t.cx),Fbe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!xq(n)&&(s=n);var{x:a,y:l,width:u,height:f}=e,d=f>=0?1:-1,p=d*r,g=d>0?"end":"start",v=d>0?"start":"end",x=u>=0?1:-1,S=x*r,T=x>0?"end":"start",_=x>0?"start":"end";if(i==="top"){var C={x:a+u/2,y:l-d*r,textAnchor:"middle",verticalAnchor:g};return Dn(Dn({},C),s?{height:Math.max(l-s.y,0),width:u}:{})}if(i==="bottom"){var D={x:a+u/2,y:l+f+p,textAnchor:"middle",verticalAnchor:v};return Dn(Dn({},D),s?{height:Math.max(s.y+s.height-(l+f),0),width:u}:{})}if(i==="left"){var L={x:a-S,y:l+f/2,textAnchor:T,verticalAnchor:"middle"};return Dn(Dn({},L),s?{width:Math.max(L.x-s.x,0),height:f}:{})}if(i==="right"){var R={x:a+u+S,y:l+f/2,textAnchor:_,verticalAnchor:"middle"};return Dn(Dn({},R),s?{width:Math.max(s.x+s.width-R.x,0),height:f}:{})}var B=s?{width:u,height:f}:{};return i==="insideLeft"?Dn({x:a+S,y:l+f/2,textAnchor:_,verticalAnchor:"middle"},B):i==="insideRight"?Dn({x:a+u-S,y:l+f/2,textAnchor:T,verticalAnchor:"middle"},B):i==="insideTop"?Dn({x:a+u/2,y:l+p,textAnchor:"middle",verticalAnchor:v},B):i==="insideBottom"?Dn({x:a+u/2,y:l+f-p,textAnchor:"middle",verticalAnchor:g},B):i==="insideTopLeft"?Dn({x:a+S,y:l+p,textAnchor:_,verticalAnchor:v},B):i==="insideTopRight"?Dn({x:a+u-S,y:l+p,textAnchor:T,verticalAnchor:v},B):i==="insideBottomLeft"?Dn({x:a+S,y:l+f-p,textAnchor:_,verticalAnchor:g},B):i==="insideBottomRight"?Dn({x:a+u-S,y:l+f-p,textAnchor:T,verticalAnchor:g},B):i&&typeof i=="object"&&(Be(i.x)||$u(i.x))&&(Be(i.y)||$u(i.y))?Dn({x:a+wa(i.x,u),y:l+wa(i.y,f),textAnchor:"end",verticalAnchor:"end"},B):Dn({x:a+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},B)},$be={offset:5};function ec(t){var e=Pi(t,$be),{viewBox:n,position:r,value:i,children:s,content:a,className:l="",textBreakAll:u,labelRef:f}=e,d=Lbe(),p=bq(),g=r==="center"?p:d??p,v=n||g;if(!v||hn(i)&&hn(s)&&!A.isValidElement(a)&&typeof a!="function")return null;var x=Dn(Dn({},e),{},{viewBox:v});if(A.isValidElement(a)){var{labelRef:S}=x,T=Nbe(x,Obe);return A.cloneElement(a,T)}var _;if(typeof a=="function"){if(_=A.createElement(a,x),A.isValidElement(_))return _}else _=Vbe(e);var C=xq(v),D=jn(e,!0);if(C&&(r==="insideStart"||r==="insideEnd"||r==="end"))return zbe(e,r,_,D,v);var L=C?Ube(v,e.offset,e.position):Fbe(e,v);return A.createElement(zN,Lo({ref:f,className:gt("recharts-label",l)},D,L,{breakAll:u}),_)}ec.displayName="Label";var Hbe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?A.createElement(ec,Lo({key:"label-implicit"},r)):Za(t)?A.createElement(ec,Lo({key:"label-implicit",value:t},r)):A.isValidElement(t)?t.type===ec?A.cloneElement(t,Dn({key:"label-implicit"},r)):A.createElement(ec,Lo({key:"label-implicit",content:t},r)):UN(t)?A.createElement(ec,Lo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?A.createElement(ec,Lo({},t,{key:"label-implicit"},r)):null};function qbe(t){var{label:e}=t,n=bq();return Hbe(e,n)||null}var M_={},D_={},FV;function Kbe(){return FV||(FV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(D_)),D_}var I_={},$V;function Wbe(){return $V||($V=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(I_)),I_}var HV;function Gbe(){return HV||(HV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kbe(),n=Wbe(),r=RO();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(M_)),M_}var P_,qV;function Ybe(){return qV||(qV=1,P_=Gbe().last),P_}var Xbe=Ybe();const Qbe=Ta(Xbe);var Jbe=["valueAccessor"],Zbe=["dataKey","clockWise","id","textBreakAll"];function ex(){return ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ex.apply(null,arguments)}function KV(t,e){if(t==null)return{};var n,r,i=exe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function exe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var txe=t=>Array.isArray(t.value)?Qbe(t.value):t.value,wq=A.createContext(void 0),Sq=wq.Provider,Tq=A.createContext(void 0);Tq.Provider;function nxe(){return A.useContext(wq)}function rxe(){return A.useContext(Tq)}function Fv(t){var{valueAccessor:e=txe}=t,n=KV(t,Jbe),{dataKey:r,clockWise:i,id:s,textBreakAll:a}=n,l=KV(n,Zbe),u=nxe(),f=rxe(),d=u||f;return!d||!d.length?null:A.createElement(Sa,{className:"recharts-label-list"},d.map((p,g)=>{var v,x=hn(r)?e(p,g):dr(p&&p.payload,r),S=hn(s)?{}:{id:"".concat(s,"-").concat(g)};return A.createElement(ec,ex({},jn(p,!0),l,S,{fill:(v=n.fill)!==null&&v!==void 0?v:p.fill,parentViewBox:p.parentViewBox,value:x,textBreakAll:a,viewBox:p.viewBox,key:"label-".concat(g),index:g}))}))}Fv.displayName="LabelList";function Eq(t){var{label:e}=t;return e?e===!0?A.createElement(Fv,{key:"labelList-implicit"}):A.isValidElement(e)||UN(e)?A.createElement(Fv,{key:"labelList-implicit",content:e}):typeof e=="object"?A.createElement(Fv,ex({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Jk(){return Jk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jk.apply(null,arguments)}var _q=t=>{var{cx:e,cy:n,r,className:i}=t,s=gt("recharts-dot",i);return e===+e&&n===+n&&r===+r?A.createElement("circle",Jk({},Wc(t),NO(t),{className:s,cx:e,cy:n,r})):null},ixe={radiusAxis:{},angleAxis:{}},Aq=ls({name:"polarAxis",initialState:ixe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:vIe,removeRadiusAxis:bIe,addAngleAxis:xIe,removeAngleAxis:wIe}=Aq.actions,sxe=Aq.reducer,R_={},WV;function axe(){return WV||(WV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(R_)),R_}var j_,GV;function oxe(){return GV||(GV=1,j_=axe().isPlainObject),j_}var lxe=oxe();const cxe=Ta(lxe);function YV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YV(Object(n),!0).forEach(function(r){uxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uxe(t,e,n){return(e=fxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fxe(t){var e=dxe(t,"string");return typeof e=="symbol"?e:e+""}function dxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tx.apply(null,arguments)}var QV=(t,e,n,r,i)=>{var s=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-s/2,",").concat(e+i),a+="L ".concat(t+n-s/2-r,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},hxe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pxe=t=>{var e=Pi(t,hxe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:l}=e,{animationEasing:u,animationDuration:f,animationBegin:d,isUpdateAnimationActive:p}=e,g=A.useRef(),[v,x]=A.useState(-1),S=A.useRef(i),T=A.useRef(s),_=A.useRef(a),C=A.useRef(n),D=A.useRef(r),L=U1(t,"trapezoid-");if(A.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var me=g.current.getTotalLength();me&&x(me)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var R=gt("recharts-trapezoid",l);if(!p)return A.createElement("g",null,A.createElement("path",tx({},jn(e,!0),{className:R,d:QV(n,r,i,s,a)})));var B=S.current,N=T.current,M=_.current,P=C.current,F=D.current,V="0px ".concat(v===-1?1:v,"px"),$="".concat(v,"px 0px"),U=F8(["strokeDasharray"],f,u);return A.createElement(z1,{animationId:L,key:L,canBegin:v>0,duration:f,easing:u,isActive:p,begin:d},me=>{var ve=Hn(B,i,me),G=Hn(N,s,me),K=Hn(M,a,me),ae=Hn(P,n,me),pe=Hn(F,r,me);g.current&&(S.current=ve,T.current=G,_.current=K,C.current=ae,D.current=pe);var xe=me>0?{transition:U,strokeDasharray:$}:{strokeDasharray:V};return A.createElement("path",tx({},jn(e,!0),{className:R,d:QV(ae,pe,ve,G,K),ref:g,style:XV(XV({},xe),e.style)}))})},mxe=["option","shapeType","propTransformer","activeClassName","isActive"];function gxe(t,e){if(t==null)return{};var n,r,i=yxe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function JV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JV(Object(n),!0).forEach(function(r){vxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vxe(t,e,n){return(e=bxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bxe(t){var e=xxe(t,"string");return typeof e=="symbol"?e:e+""}function xxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wxe(t,e){return nx(nx({},e),t)}function Sxe(t,e){return t==="symbols"}function ZV(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return A.createElement(K8,n);case"trapezoid":return A.createElement(pxe,n);case"sector":return A.createElement(Y8,n);case"symbols":if(Sxe(e))return A.createElement(W$,n);break;default:return null}}function Txe(t){return A.isValidElement(t)?t.props:t}function Exe(t){var{option:e,shapeType:n,propTransformer:r=wxe,activeClassName:i="recharts-active-shape",isActive:s}=t,a=gxe(t,mxe),l;if(A.isValidElement(e))l=A.cloneElement(e,nx(nx({},a),Txe(e)));else if(typeof e=="function")l=e(a);else if(cxe(e)&&typeof e!="boolean"){var u=r(e,a);l=A.createElement(ZV,{shapeType:n,elementProps:u})}else{var f=a;l=A.createElement(ZV,{shapeType:n,elementProps:f})}return s?A.createElement(Sa,{className:i},l):l}var kq=(t,e)=>{var n=mr();return(r,i)=>s=>{t?.(r,i,s),n(F7({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},Cq=t=>{var e=mr();return(n,r)=>i=>{t?.(n,r,i),e(b0e())}},Oq=(t,e)=>{var n=mr();return(r,i)=>s=>{t?.(r,i,s),n(x0e({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function Nq(t){var{fn:e,args:n}=t,r=mr(),i=Ii();return A.useEffect(()=>{if(!i){var s=e(n);return r(g0e(s)),()=>{r(y0e(s))}}},[e,n,r,i]),null}var _xe=()=>{};function Mq(t){var{legendPayload:e}=t,n=mr(),r=Ii();return A.useEffect(()=>r?_xe:(n(uhe(e)),()=>{n(fhe(e))}),[n,r,e]),null}var L_,Axe=()=>{var[t]=A.useState(()=>ag("uid-"));return t},kxe=(L_=rQ.useId)!==null&&L_!==void 0?L_:Axe;function Cxe(t,e){var n=kxe();return e||(t?"".concat(t,"-").concat(n):n)}var Oxe=A.createContext(void 0),Dq=t=>{var{id:e,type:n,children:r}=t,i=Cxe("recharts-".concat(n),e);return A.createElement(Oxe.Provider,{value:i},r(i))},Nxe={cartesianItems:[],polarItems:[]},Iq=ls({name:"graphicalItems",initialState:Nxe,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Ho(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Ho(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Ho(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Mxe,replaceCartesianGraphicalItem:Dxe,removeCartesianGraphicalItem:Ixe,addPolarGraphicalItem:SIe,removePolarGraphicalItem:TIe}=Iq.actions,Pxe=Iq.reducer;function Pq(t){var e=mr(),n=A.useRef(null);return A.useEffect(()=>{n.current===null?e(Mxe(t)):n.current!==t&&e(Dxe({prev:n.current,next:t})),n.current=t},[e,t]),A.useEffect(()=>()=>{n.current&&(e(Ixe(n.current)),n.current=null)},[e]),null}function eB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eB(Object(n),!0).forEach(function(r){Rxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rxe(t,e,n){return(e=jxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jxe(t){var e=Lxe(t,"string");return typeof e=="symbol"?e:e+""}function Lxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vxe={xAxis:{},yAxis:{},zAxis:{}},Rq=ls({name:"cartesianAxis",initialState:Vxe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=tB(tB({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:Bxe,removeXAxis:zxe,addYAxis:Uxe,removeYAxis:Fxe,addZAxis:EIe,removeZAxis:_Ie,updateYAxisWidth:$xe}=Rq.actions,Hxe=Rq.reducer,qxe=ie([gr],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Kxe=ie([qxe,ll,cl],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),FN=()=>De(Kxe),Wxe=()=>De(ave);function nB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nB(Object(n),!0).forEach(function(r){Gxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gxe(t,e,n){return(e=Yxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yxe(t){var e=Xxe(t,"string");return typeof e=="symbol"?e:e+""}function Xxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qxe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var a=rB(rB({index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},jn(i,!1)),NO(i)),l;return A.isValidElement(i)?l=A.cloneElement(i,a):typeof i=="function"?l=i(a):l=A.createElement(_q,a),A.createElement(Sa,{className:"recharts-active-dot"},l)};function Jxe(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,s=De(Sf),a=Wxe();if(e==null||a==null)return null;var l=e.find(u=>a.includes(u.payload));return hn(l)?null:Qxe({point:l,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r})}var Zxe="Invariant failed";function e1e(t,e){throw new Error(Zxe)}var t1e=["x","y"];function Zk(){return Zk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zk.apply(null,arguments)}function iB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iB(Object(n),!0).forEach(function(r){n1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n1e(t,e,n){return(e=r1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r1e(t){var e=i1e(t,"string");return typeof e=="symbol"?e:e+""}function i1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s1e(t,e){if(t==null)return{};var n,r,i=a1e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function a1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function o1e(t,e){var{x:n,y:r}=t,i=s1e(t,t1e),s="".concat(n),a=parseInt(s,10),l="".concat(r),u=parseInt(l,10),f="".concat(e.height||i.height),d=parseInt(f,10),p="".concat(e.width||i.width),g=parseInt(p,10);return Jp(Jp(Jp(Jp(Jp({},e),i),a?{x:a}:{}),u?{y:u}:{}),{},{height:d,width:g,name:e.name,radius:e.radius})}function $N(t){return A.createElement(Exe,Zk({shapeType:"rectangle",propTransformer:o1e,activeClassName:"recharts-active-bar"},t))}var l1e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Be(e))return e;var s=Be(r)||hn(r);return s?e(r,i):(s||e1e(),n)}},c1e={},jq=ls({name:"errorBars",initialState:c1e,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:AIe,replaceErrorBar:kIe,removeErrorBar:CIe}=jq.actions,u1e=jq.reducer,f1e=["children"];function d1e(t,e){if(t==null)return{};var n,r,i=h1e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function h1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var p1e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},m1e=A.createContext(p1e);function Lq(t){var{children:e}=t,n=d1e(t,f1e);return A.createElement(m1e.Provider,{value:n},e)}function HN(t,e){var n,r,i=De(f=>fl(f,t)),s=De(f=>dl(f,e)),a=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Gi.allowDataOverflow,l=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Yi.allowDataOverflow,u=a||l;return{needClip:u,needClipX:a,needClipY:l}}function Vq(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=FN(),{needClipX:s,needClipY:a,needClip:l}=HN(e,n);if(!l)return null;var{x:u,y:f,width:d,height:p}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:s?u:u-d/2,y:a?f:f-p/2,width:s?d:d*2,height:a?p:p*2}))}var g1e=["onMouseEnter","onMouseLeave","onClick"],y1e=["value","background","tooltipPosition"],v1e=["id"],b1e=["onMouseEnter","onClick","onMouseLeave"];function Lc(){return Lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lc.apply(null,arguments)}function sB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sB(Object(n),!0).forEach(function(r){x1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x1e(t,e,n){return(e=w1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w1e(t){var e=S1e(t,"string");return typeof e=="symbol"?e:e+""}function S1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rx(t,e){if(t==null)return{};var n,r,i=T1e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function T1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var E1e=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:P1(n,e),payload:t}]};function _1e(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:a,unit:l}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:P1(s,e),hide:a,type:t.tooltipType,color:t.fill,unit:l}}}function A1e(t){var e=De(Sf),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:l,onClick:u}=s,f=rx(s,g1e),d=kq(a,r),p=Cq(l),g=Oq(u,r);if(!i||n==null)return null;var v=jn(i,!1);return A.createElement(A.Fragment,null,n.map((x,S)=>{var{value:T,background:_,tooltipPosition:C}=x,D=rx(x,y1e);if(!_)return null;var L=d(x,S),R=p(x,S),B=g(x,S),N=si(si(si(si(si({option:i,isActive:String(S)===e},D),{},{fill:"#eee"},_),v),MO(f,x,S)),{},{onMouseEnter:L,onMouseLeave:R,onClick:B,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return A.createElement($N,Lc({key:"background-bar-".concat(N.index)},N))}))}function k1e(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var a={x:s.x,y:s.y,width:s.width,height:s.height};return si(si({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return A.createElement(Sq,{value:e?i:void 0},n)}function C1e(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:a}=t,l=De(Sf),u=De(tq),f=n&&String(s)===l&&(u==null||a===u),d=f?n:e;return A.createElement($N,Lc({},r,i,{isActive:f,option:d,index:s,dataKey:a}))}function O1e(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return A.createElement($N,Lc({},n,r,{isActive:!1,option:e,index:i,dataKey:s}))}function N1e(t){var{data:e,props:n}=t,r=Wc(n),{id:i}=r,s=rx(r,v1e),{shape:a,dataKey:l,activeBar:u}=n,{onMouseEnter:f,onClick:d,onMouseLeave:p}=n,g=rx(n,b1e),v=kq(f,l),x=Cq(p),S=Oq(d,l);return e?A.createElement(A.Fragment,null,e.map((T,_)=>A.createElement(Sa,Lc({className:"recharts-bar-rectangle"},MO(g,T,_),{onMouseEnter:v(T,_),onMouseLeave:x(T,_),onClick:S(T,_),key:"rectangle-".concat(T?.x,"-").concat(T?.y,"-").concat(T?.value,"-").concat(_)}),u?A.createElement(C1e,{shape:a,activeBar:u,baseProps:s,entry:T,index:_,dataKey:l}):A.createElement(O1e,{shape:a,baseProps:s,entry:T,index:_,dataKey:l})))):null}function M1e(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:u,onAnimationEnd:f,onAnimationStart:d}=e,p=n.current,g=U1(e,"recharts-bar-"),[v,x]=A.useState(!1),S=!v,T=A.useCallback(()=>{typeof f=="function"&&f(),x(!1)},[f]),_=A.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return A.createElement(k1e,{showLabels:S,rects:r},A.createElement(z1,{animationId:g,begin:a,duration:l,isActive:s,easing:u,onAnimationEnd:T,onAnimationStart:_,key:g},C=>{var D=C===1?r:r?.map((L,R)=>{var B=p&&p[R];if(B)return si(si({},L),{},{x:Hn(B.x,L.x,C),y:Hn(B.y,L.y,C),width:Hn(B.width,L.width,C),height:Hn(B.height,L.height,C)});if(i==="horizontal"){var N=Hn(0,L.height,C);return si(si({},L),{},{y:L.y+L.height-N,height:N})}var M=Hn(0,L.width,C);return si(si({},L),{},{width:M})});return C>0&&(n.current=D??null),D==null?null:A.createElement(Sa,null,A.createElement(N1e,{props:e,data:D}))}),A.createElement(Eq,{label:e.label}),e.children)}function D1e(t){var e=A.useRef(null);return A.createElement(M1e,{previousRectanglesRef:e,props:t})}var Bq=0,I1e=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:dr(t,e)}};class P1e extends A.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:a,needClip:l,background:u,id:f}=this.props;if(e||n==null)return null;var d=gt("recharts-bar",i),p=f;return A.createElement(Sa,{className:d,id:f},l&&A.createElement("defs",null,A.createElement(Vq,{clipPathId:p,xAxisId:s,yAxisId:a})),A.createElement(Sa,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(p,")"):void 0},A.createElement(A1e,{data:n,dataKey:r,background:u,allOtherBarProps:this.props}),A.createElement(D1e,this.props)))}}var R1e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Rf.isSsr,legendType:"rect",minPointSize:Bq,xAxisId:0,yAxisId:0};function j1e(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:d}=t,{needClip:p}=HN(e,n),g=B1(),v=Ii(),x=Dce(t.children,dq),S=De(C=>uwe(C,e,n,v,t.id,x));if(g!=="vertical"&&g!=="horizontal")return null;var T,_=S?.[0];return _==null||_.height==null||_.width==null?T=0:T=g==="vertical"?_.height/2:_.width/2,A.createElement(Lq,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:I1e,errorBarOffset:T},A.createElement(P1e,Lc({},t,{layout:g,needClip:p,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:d})))}function L1e(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:u,yAxisTicks:f,stackedData:d,displayedData:p,offset:g,cells:v,parentViewBox:x}=t,S=e==="horizontal"?l:a,T=d?S.scale.domain():null,_=Fde({numericAxis:S});return p.map((C,D)=>{var L,R,B,N,M,P;d?L=jde(d[D],T):(L=dr(C,n),Array.isArray(L)||(L=[_,L]));var F=l1e(r,Bq)(L[1],D);if(e==="horizontal"){var V,[$,U]=[l.scale(L[0]),l.scale(L[1])];R=XL({axis:a,ticks:u,bandSize:s,offset:i.offset,entry:C,index:D}),B=(V=U??$)!==null&&V!==void 0?V:void 0,N=i.size;var me=$-U;if(M=rs(me)?0:me,P={x:R,y:g.top,width:N,height:g.height},Math.abs(F)>0&&Math.abs(M)<Math.abs(F)){var ve=Oi(M||F)*(Math.abs(F)-Math.abs(M));B-=ve,M+=ve}}else{var[G,K]=[a.scale(L[0]),a.scale(L[1])];if(R=G,B=XL({axis:l,ticks:f,bandSize:s,offset:i.offset,entry:C,index:D}),N=K-G,M=i.size,P={x:g.left,y:B,width:g.width,height:M},Math.abs(F)>0&&Math.abs(N)<Math.abs(F)){var ae=Oi(N||F)*(Math.abs(F)-Math.abs(N));N+=ae}}if(R==null||B==null||N==null||M==null)return null;var pe=si(si({},C),{},{x:R,y:B,width:N,height:M,value:d?L:L[1],payload:C,background:P,tooltipPosition:{x:R+N/2,y:B+M/2},parentViewBox:x},v&&v[D]&&v[D].props);return pe}).filter(Boolean)}function V1e(t){var e=Pi(t,R1e),n=Ii();return A.createElement(Dq,{id:e.id,type:"bar"},r=>A.createElement(A.Fragment,null,A.createElement(Mq,{legendPayload:E1e(e)}),A.createElement(Nq,{fn:_1e,args:e}),A.createElement(Pq,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:Ude(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),A.createElement(j1e,Lc({},e,{id:r}))))}var $v=A.memo(V1e);$v.displayName="Bar";function aB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aB(Object(n),!0).forEach(function(r){B1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B1e(t,e,n){return(e=z1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z1e(t){var e=U1e(t,"string");return typeof e=="symbol"?e:e+""}function U1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F1e=(t,e)=>e,$1e=(t,e,n)=>n,H1e=(t,e,n,r)=>r,q1e=(t,e,n,r,i)=>i,fy=ie([tw,q1e],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),K1e=ie([fy],t=>t?.maxBarSize),W1e=(t,e,n,r,i,s)=>s,oB=(t,e,n)=>{var r=n??t;if(!hn(r))return wa(r,e,0)},G1e=ie([St,tw,F1e,$1e,H1e],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Y1e=(t,e,n,r)=>{var i=St(t);return i==="horizontal"?Kk(t,"yAxis",n,r):Kk(t,"xAxis",e,r)},X1e=(t,e,n)=>{var r=St(t);return r==="horizontal"?fV(t,"xAxis",e):fV(t,"yAxis",n)},Q1e=(t,e,n)=>{var r={},i=t.filter(ew),s=t.filter(f=>f.stackId==null),a=i.reduce((f,d)=>(f[d.stackId]||(f[d.stackId]=[]),f[d.stackId].push(d),f),r),l=Object.entries(a).map(f=>{var[d,p]=f,g=p.map(x=>x.dataKey),v=oB(e,n,p[0].barSize);return{stackId:d,dataKeys:g,barSize:v}}),u=s.map(f=>{var d=[f.dataKey].filter(g=>g!=null),p=oB(e,n,f.barSize);return{stackId:void 0,dataKeys:d,barSize:p}});return[...l,...u]},J1e=ie([G1e,pye,X1e],Q1e),Z1e=(t,e,n,r,i)=>{var s,a,l=fy(t,e,n,r,i);if(l!=null){var u=St(t),f=qH(t),{maxBarSize:d}=l,p=hn(d)?f:d,g,v;return u==="horizontal"?(g=jc(t,"xAxis",e,r),v=Rc(t,"xAxis",e,r)):(g=jc(t,"yAxis",n,r),v=Rc(t,"yAxis",n,r)),(s=(a=cg(g,v,!0))!==null&&a!==void 0?a:p)!==null&&s!==void 0?s:0}},zq=(t,e,n,r)=>{var i=St(t),s,a;return i==="horizontal"?(s=jc(t,"xAxis",e,r),a=Rc(t,"xAxis",e,r)):(s=jc(t,"yAxis",n,r),a=Rc(t,"yAxis",n,r)),cg(s,a)};function ewe(t,e,n,r,i){var s=r.length;if(!(s<1)){var a=wa(t,n,0,!0),l,u=[];if(ss(r[0].barSize)){var f=!1,d=n/s,p=r.reduce((_,C)=>_+(C.barSize||0),0);p+=(s-1)*a,p>=n&&(p-=(s-1)*a,a=0),p>=n&&d>0&&(f=!0,d*=.9,p=s*d);var g=(n-p)/2>>0,v={offset:g-a,size:0};l=r.reduce((_,C)=>{var D,L={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:v.offset+v.size+a,size:f?d:(D=C.barSize)!==null&&D!==void 0?D:0}},R=[..._,L];return v=R[R.length-1].position,R},u)}else{var x=wa(e,n,0,!0);n-2*x-(s-1)*a<=0&&(a=0);var S=(n-2*x-(s-1)*a)/s;S>1&&(S>>=0);var T=ss(i)?Math.min(S,i):S;l=r.reduce((_,C,D)=>[..._,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:x+(S+a)*D+(S-T)/2,size:T}}],u)}return l}}var twe=(t,e,n,r,i,s,a)=>{var l=hn(a)?e:a,u=ewe(n,r,i!==s?i:s,t,l);return i!==s&&u!=null&&(u=u.map(f=>dv(dv({},f),{},{position:dv(dv({},f.position),{},{offset:f.position.offset-i/2})}))),u},nwe=ie([J1e,qH,hye,KH,Z1e,zq,K1e],twe),rwe=(t,e,n,r)=>jc(t,"xAxis",e,r),iwe=(t,e,n,r)=>jc(t,"yAxis",n,r),swe=(t,e,n,r)=>Rc(t,"xAxis",e,r),awe=(t,e,n,r)=>Rc(t,"yAxis",n,r),owe=ie([nwe,fy],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),lwe=(t,e)=>{var n=SN(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===n)}}}},cwe=ie([Y1e,fy],lwe),uwe=ie([gr,$O,rwe,iwe,swe,awe,owe,St,G1,zq,cwe,fy,W1e],(t,e,n,r,i,s,a,l,u,f,d,p,g)=>{var{chartData:v,dataStartIndex:x,dataEndIndex:S}=u;if(!(p==null||a==null||e==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||s==null||f==null)){var{data:T}=p,_;if(T!=null&&T.length>0?_=T:_=v?.slice(x,S+1),_!=null)return L1e({layout:l,barSettings:p,pos:a,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:d,displayedData:_,offset:t,cells:g})}}),fwe=t=>{var{chartData:e}=t,n=mr(),r=Ii();return A.useEffect(()=>r?()=>{}:(n(wV(e)),()=>{n(wV(void 0))}),[e,n,r]),null},lB={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Uq=ls({name:"brush",initialState:lB,reducers:{setBrushSettings(t,e){return e.payload==null?lB:e.payload}}}),{setBrushSettings:OIe}=Uq.actions,dwe=Uq.reducer;function hwe(t,e,n){return(e=pwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pwe(t){var e=mwe(t,"string");return typeof e=="symbol"?e:e+""}function mwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qN{static create(e){return new qN(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}hwe(qN,"EPS",1e-4);function gwe(t){return(t%180+180)%180}var ywe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=gwe(i),a=s*Math.PI/180,l=Math.atan(r/n),u=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(u)},vwe={dots:[],areas:[],lines:[]},Fq=ls({name:"referenceElements",initialState:vwe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ho(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ho(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ho(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:NIe,removeDot:MIe,addArea:DIe,removeArea:IIe,addLine:PIe,removeLine:RIe}=Fq.actions,bwe=Fq.reducer,xwe=A.createContext(void 0),wwe=t=>{var{children:e}=t,[n]=A.useState("".concat(ag("recharts"),"-clip")),r=FN();if(r==null)return null;var{x:i,y:s,width:a,height:l}=r;return A.createElement(xwe.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:s,height:l,width:a}))),e)};function wh(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function $q(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Swe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ywe(r,n)}function Twe(t,e,n){var r=n==="width",{x:i,y:s,width:a,height:l}=t;return e===1?{start:r?i:s,end:r?i+a:s+l}:{start:r?i+a:s+l,end:r?i:s}}function ix(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Ewe(t,e){return $q(t,e+1)}function _we(t,e,n,r,i){for(var s=(r||[]).slice(),{start:a,end:l}=e,u=0,f=1,d=a,p=function(){var x=r?.[u];if(x===void 0)return{v:$q(r,f)};var S=u,T,_=()=>(T===void 0&&(T=n(x,S)),T),C=x.coordinate,D=u===0||ix(t,C,_,d,l);D||(u=0,d=a,f+=1),D&&(d=C+t*(_()/2+i),u+=f)},g;f<=s.length;)if(g=p(),g)return g.v;return[]}function cB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cB(Object(n),!0).forEach(function(r){Awe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Awe(t,e,n){return(e=kwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kwe(t){var e=Cwe(t,"string");return typeof e=="symbol"?e:e+""}function Cwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Owe(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:l}=e,{end:u}=e,f=function(g){var v=s[g],x,S=()=>(x===void 0&&(x=n(v,g)),x);if(g===a-1){var T=t*(v.coordinate+t*S()/2-u);s[g]=v=Fr(Fr({},v),{},{tickCoord:T>0?v.coordinate-T*t:v.coordinate})}else s[g]=v=Fr(Fr({},v),{},{tickCoord:v.coordinate});var _=ix(t,v.tickCoord,S,l,u);_&&(u=v.tickCoord-t*(S()/2+i),s[g]=Fr(Fr({},v),{},{isShow:!0}))},d=a-1;d>=0;d--)f(d);return s}function Nwe(t,e,n,r,i,s){var a=(r||[]).slice(),l=a.length,{start:u,end:f}=e;if(s){var d=r[l-1],p=n(d,l-1),g=t*(d.coordinate+t*p/2-f);a[l-1]=d=Fr(Fr({},d),{},{tickCoord:g>0?d.coordinate-g*t:d.coordinate});var v=ix(t,d.tickCoord,()=>p,u,f);v&&(f=d.tickCoord-t*(p/2+i),a[l-1]=Fr(Fr({},d),{},{isShow:!0}))}for(var x=s?l-1:l,S=function(C){var D=a[C],L,R=()=>(L===void 0&&(L=n(D,C)),L);if(C===0){var B=t*(D.coordinate-t*R()/2-u);a[C]=D=Fr(Fr({},D),{},{tickCoord:B<0?D.coordinate-B*t:D.coordinate})}else a[C]=D=Fr(Fr({},D),{},{tickCoord:D.coordinate});var N=ix(t,D.tickCoord,R,u,f);N&&(u=D.tickCoord+t*(R()/2+i),a[C]=Fr(Fr({},D),{},{isShow:!0}))},T=0;T<x;T++)S(T);return a}function KN(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:u,tickFormatter:f,unit:d,angle:p}=t;if(!i||!i.length||!r)return[];if(Be(u)||Rf.isSsr){var g;return(g=Ewe(i,Be(u)?u:0))!==null&&g!==void 0?g:[]}var v=[],x=l==="top"||l==="bottom"?"width":"height",S=d&&x==="width"?Nm(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},T=(D,L)=>{var R=typeof f=="function"?f(D.value,L):D.value;return x==="width"?Swe(Nm(R,{fontSize:e,letterSpacing:n}),S,p):Nm(R,{fontSize:e,letterSpacing:n})[x]},_=i.length>=2?Oi(i[1].coordinate-i[0].coordinate):1,C=Twe(s,_,x);return u==="equidistantPreserveStart"?_we(_,C,T,i,a):(u==="preserveStart"||u==="preserveStartEnd"?v=Nwe(_,C,T,i,a,u==="preserveStartEnd"):v=Owe(_,C,T,i,a),v.filter(D=>D.isShow))}var Mwe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){e.forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>a&&(a=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+s,f=a+u+l+(n?r:0);return Math.round(f)}return 0},Dwe=["axisLine","width","height","className","hide","ticks"],Iwe=["viewBox"],Pwe=["viewBox"];function eC(t,e){if(t==null)return{};var n,r,i=Rwe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tf(){return Tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tf.apply(null,arguments)}function uB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uB(Object(n),!0).forEach(function(r){jwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jwe(t,e,n){return(e=Lwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lwe(t){var e=Vwe(t,"string");return typeof e=="symbol"?e:e+""}function Vwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WN={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Bwe(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:l,otherSvgProps:u}=t;if(!l)return null;var f=tr(tr(tr({},u),jn(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);f=tr(tr({},f),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var p=+(s==="left"&&!a||s==="right"&&a);f=tr(tr({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return A.createElement("line",Tf({},f,{className:gt("recharts-cartesian-axis-line",ph(l,"className"))}))}function zwe(t,e,n,r,i,s,a,l,u){var f,d,p,g,v,x,S=l?-1:1,T=t.tickSize||a,_=Be(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":f=d=t.coordinate,g=n+ +!l*i,p=g-S*T,x=p-S*u,v=_;break;case"left":p=g=t.coordinate,d=e+ +!l*r,f=d-S*T,v=f-S*u,x=_;break;case"right":p=g=t.coordinate,d=e+ +l*r,f=d+S*T,v=f+S*u,x=_;break;default:f=d=t.coordinate,g=n+ +l*i,p=g+S*T,x=p+S*u,v=_;break}return{line:{x1:f,y1:p,x2:d,y2:g},tick:{x:v,y:x}}}function Uwe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Fwe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function $we(t){var{option:e,tickProps:n,value:r}=t,i,s=gt(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(e))i=A.cloneElement(e,tr(tr({},n),{},{className:s}));else if(typeof e=="function")i=e(tr(tr({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=gt(a,e?.className)),i=A.createElement(zN,Tf({},n,{className:a}),r)}return i}function Hwe(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:s,unit:a,padding:l,tickTextProps:u,orientation:f,mirror:d,x:p,y:g,width:v,height:x,tickSize:S,tickMargin:T,fontSize:_,letterSpacing:C,getTicksConfig:D,events:L}=t,R=KN(tr(tr({},D),{},{ticks:e}),_,C),B=Uwe(f,d),N=Fwe(f,d),M=Wc(D),P=jn(n,!1),F=tr(tr({},M),{},{fill:"none"},jn(r,!1)),V=R.map(($,U)=>{var{line:me,tick:ve}=zwe($,p,g,v,x,f,S,d,T),G=tr(tr(tr(tr({textAnchor:B,verticalAnchor:N},M),{},{stroke:"none",fill:i},P),ve),{},{index:U,payload:$,visibleTicksCount:R.length,tickFormatter:s,padding:l},u);return A.createElement(Sa,Tf({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},MO(L,$,U)),r&&A.createElement("line",Tf({},F,me,{className:gt("recharts-cartesian-axis-tick-line",ph(r,"className"))})),n&&A.createElement($we,{option:n,tickProps:G,value:"".concat(typeof s=="function"?s($.value,U):$.value).concat(a||"")}))});return V.length>0?A.createElement("g",{className:"recharts-cartesian-axis-ticks"},V):null}var qwe=A.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:l}=t,u=eC(t,Dwe),[f,d]=A.useState(""),[p,g]=A.useState(""),v=A.useRef([]);A.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return Mwe({ticks:v.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var x=A.useCallback(S=>{if(S){var T=S.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=Array.from(T);var _=T[0];if(_){var C=window.getComputedStyle(_),D=C.fontSize,L=C.letterSpacing;(D!==f||L!==p)&&(d(D),g(L))}}},[f,p]);return a||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(Sa,{className:gt("recharts-cartesian-axis",s),ref:x},A.createElement(Bwe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Wc(t)}),A.createElement(Hwe,{ticks:l,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:f,letterSpacing:p,getTicksConfig:t,events:u}),A.createElement(Rbe,{x:t.x,y:t.y,width:t.width,height:t.height},A.createElement(qbe,{label:t.label}),t.children))}),Kwe=A.memo(qwe,(t,e)=>{var{viewBox:n}=t,r=eC(t,Iwe),{viewBox:i}=e,s=eC(e,Pwe);return wh(n,i)&&wh(r,s)}),GN=A.forwardRef((t,e)=>{var n=Pi(t,WN);return A.createElement(Kwe,Tf({},n,{ref:e}))});GN.displayName="CartesianAxis";var Wwe=["x1","y1","x2","y2","key"],Gwe=["offset"],Ywe=["xAxisId","yAxisId"],Xwe=["xAxisId","yAxisId"];function fB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fB(Object(n),!0).forEach(function(r){Qwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qwe(t,e,n){return(e=Jwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jwe(t){var e=Zwe(t,"string");return typeof e=="symbol"?e:e+""}function Zwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ku(){return Ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ku.apply(null,arguments)}function sx(t,e){if(t==null)return{};var n,r,i=eSe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tSe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:a,ry:l}=t;return A.createElement("rect",{x:r,y:i,ry:l,width:s,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Hq(t,e){var n;if(A.isValidElement(t))n=A.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:s,y2:a,key:l}=e,u=sx(e,Wwe),f=Wc(u),{offset:d}=f,p=sx(f,Gwe);n=A.createElement("line",Ku({},p,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:l}))}return n}function nSe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=sx(t,Ywe),u=i.map((f,d)=>{var p=Kr(Kr({},l),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(d),index:d});return Hq(r,p)});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function rSe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=sx(t,Xwe),u=i.map((f,d)=>{var p=Kr(Kr({},l),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(d),index:d});return Hq(r,p)});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function iSe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:a,horizontalPoints:l,horizontal:u=!0}=t;if(!u||!e||!e.length)return null;var f=l.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var d=f.map((p,g)=>{var v=!f[g+1],x=v?i+a-p:f[g+1]-p;if(x<=0)return null;var S=g%e.length;return A.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:x,width:s,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function sSe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:a,height:l,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var d=f.map((p,g)=>{var v=!f[g+1],x=v?i+a-p:f[g+1]-p;if(x<=0)return null;var S=g%n.length;return A.createElement("rect",{key:"react-".concat(g),x:p,y:s,width:x,height:l,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var aSe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return I8(KN(Kr(Kr(Kr({},WN),n),{},{ticks:P8(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},oSe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return I8(KN(Kr(Kr(Kr({},WN),n),{},{ticks:P8(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},lSe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Hv(t){var e=L8(),n=V8(),r=j8(),i=Kr(Kr({},Pi(t,lSe)),{},{x:Be(t.x)?t.x:r.left,y:Be(t.y)?t.y:r.top,width:Be(t.width)?t.width:r.width,height:Be(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:a,x:l,y:u,width:f,height:d,syncWithTicks:p,horizontalValues:g,verticalValues:v}=i,x=Ii(),S=De(P=>dV(P,"xAxis",s,x)),T=De(P=>dV(P,"yAxis",a,x));if(!Be(f)||f<=0||!Be(d)||d<=0||!Be(l)||l!==+l||!Be(u)||u!==+u)return null;var _=i.verticalCoordinatesGenerator||aSe,C=i.horizontalCoordinatesGenerator||oSe,{horizontalPoints:D,verticalPoints:L}=i;if((!D||!D.length)&&typeof C=="function"){var R=g&&g.length,B=C({yAxis:T?Kr(Kr({},T),{},{ticks:R?g:T.ticks}):void 0,width:e,height:n,offset:r},R?!0:p);Om(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(D=B)}if((!L||!L.length)&&typeof _=="function"){var N=v&&v.length,M=_({xAxis:S?Kr(Kr({},S),{},{ticks:N?v:S.ticks}):void 0,width:e,height:n,offset:r},N?!0:p);Om(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(L=M)}return A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(tSe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(iSe,Ku({},i,{horizontalPoints:D})),A.createElement(sSe,Ku({},i,{verticalPoints:L})),A.createElement(nSe,Ku({},i,{offset:r,horizontalPoints:D,xAxis:S,yAxis:T})),A.createElement(rSe,Ku({},i,{offset:r,verticalPoints:L,xAxis:S,yAxis:T})))}Hv.displayName="CartesianGrid";var qq=(t,e,n,r)=>jc(t,"xAxis",e,r),Kq=(t,e,n,r)=>Rc(t,"xAxis",e,r),Wq=(t,e,n,r)=>jc(t,"yAxis",n,r),Gq=(t,e,n,r)=>Rc(t,"yAxis",n,r),cSe=ie([St,qq,Wq,Kq,Gq],(t,e,n,r,i)=>Gc(t,"xAxis")?cg(e,r,!1):cg(n,i,!1)),uSe=(t,e,n,r,i)=>i;function fSe(t){return t.type==="line"}var dSe=ie([tw,uSe],(t,e)=>t.filter(fSe).find(n=>n.id===e)),hSe=ie([St,qq,Wq,Kq,Gq,dSe,cSe,G1],(t,e,n,r,i,s,a,l)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:d}=l;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null)){var{dataKey:p,data:g}=s,v;if(g!=null&&g.length>0?v=g:v=u?.slice(f,d+1),v!=null)return RSe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:a,displayedData:v})}}),pSe=["id"],mSe=["type","layout","connectNulls","needClip"],gSe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function dB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(n),!0).forEach(function(r){ySe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ySe(t,e,n){return(e=vSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vSe(t){var e=bSe(t,"string");return typeof e=="symbol"?e:e+""}function bSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YN(t,e){if(t==null)return{};var n,r,i=xSe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ef.apply(null,arguments)}var wSe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:P1(n,e),payload:t}]};function SSe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:l,unit:u}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:P1(a,e),hide:l,type:t.tooltipType,color:t.stroke,unit:u}}}var Yq=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function TSe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var ESe=(t,e,n)=>{var r=n.reduce((p,g)=>p+g);if(!r)return Yq(e,t);for(var i=Math.floor(t/r),s=t%r,a=e-t,l=[],u=0,f=0;u<n.length;f+=n[u],++u)if(f+n[u]>s){l=[...n.slice(0,u),s-f];break}var d=l.length%2===0?[0,a]:[a];return[...TSe(n,i),...l,...d].map(p=>"".concat(p,"px")).join(", ")};function _Se(t,e){var n;if(A.isValidElement(t))n=A.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=gt("recharts-line-dot",typeof t!="boolean"?t.className:"");n=A.createElement(_q,Ef({},e,{className:r}))}return n}function ASe(t,e){return t==null?!1:e?!0:t.length===1}function kSe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:a}=r;if(!ASe(n,i))return null;var{id:l}=r,u=YN(r,pSe),f=k$(i),d=Wc(u),p=jn(i,!0),g=n.map((x,S)=>{var T=Qi(Qi(Qi({key:"dot-".concat(S),r:3},d),p),{},{index:S,cx:x.x,cy:x.y,dataKey:s,value:x.value,payload:x.payload,points:n});return _Se(i,T)}),v={clipPath:a?"url(#clipPath-".concat(f?"":"dots-").concat(e,")"):void 0};return A.createElement(Sa,Ef({className:"recharts-line-dots",key:"dots"},v),g)}function CSe(t){var{showLabels:e,children:n,points:r}=t,i=A.useMemo(()=>r?.map(s=>{var a={x:s.x,y:s.y,width:0,height:0};return Qi(Qi({},a),{},{value:s.value,payload:s.payload,viewBox:a,parentViewBox:void 0,fill:void 0})}),[r]);return A.createElement(Sq,{value:e?i:null},n)}function hB(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:a,layout:l,connectNulls:u,needClip:f}=s,d=YN(s,mSe),p=Qi(Qi({},jn(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:a,layout:l,connectNulls:u,strokeDasharray:i??s.strokeDasharray});return A.createElement(A.Fragment,null,r?.length>1&&A.createElement(U8,Ef({},p,{pathRef:n})),A.createElement(kSe,{points:r,clipPathId:e,props:s}))}function OSe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function NSe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:l,isAnimationActive:u,animationBegin:f,animationDuration:d,animationEasing:p,animateNewValues:g,width:v,height:x,onAnimationEnd:S,onAnimationStart:T}=n,_=i.current,C=U1(n,"recharts-line-"),[D,L]=A.useState(!1),R=!D,B=A.useCallback(()=>{typeof S=="function"&&S(),L(!1)},[S]),N=A.useCallback(()=>{typeof T=="function"&&T(),L(!0)},[T]),M=OSe(r.current),P=s.current;return A.createElement(CSe,{points:a,showLabels:R},n.children,A.createElement(z1,{animationId:C,begin:f,duration:d,isActive:u,easing:p,onAnimationEnd:B,onAnimationStart:N,key:C},F=>{var V=Hn(P,M+P,F),$=Math.min(V,M),U;if(u)if(l){var me="".concat(l).split(/[,\s]+/gim).map(K=>parseFloat(K));U=ESe($,M,me)}else U=Yq(M,$);else U=l==null?void 0:String(l);if(_){var ve=_.length/a.length,G=F===1?a:a.map((K,ae)=>{var pe=Math.floor(ae*ve);if(_[pe]){var xe=_[pe];return Qi(Qi({},K),{},{x:Hn(xe.x,K.x,F),y:Hn(xe.y,K.y,F)})}return g?Qi(Qi({},K),{},{x:Hn(v*2,K.x,F),y:Hn(x/2,K.y,F)}):Qi(Qi({},K),{},{x:K.x,y:K.y})});return i.current=G,A.createElement(hB,{props:n,points:G,clipPathId:e,pathRef:r,strokeDasharray:U})}return F>0&&M>0&&(i.current=a,s.current=$),A.createElement(hB,{props:n,points:a,clipPathId:e,pathRef:r,strokeDasharray:U})}),A.createElement(Eq,{label:n.label}))}function MSe(t){var{clipPathId:e,props:n}=t,r=A.useRef(null),i=A.useRef(0),s=A.useRef(null);return A.createElement(NSe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var DSe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:dr(t.payload,e)});class ISe extends A.Component{render(){var e,{hide:n,dot:r,points:i,className:s,xAxisId:a,yAxisId:l,top:u,left:f,width:d,height:p,id:g,needClip:v}=this.props;if(n)return null;var x=gt("recharts-line",s),S=g,{r:T=3,strokeWidth:_=2}=(e=jn(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},C=k$(r),D=T*2+_;return A.createElement(A.Fragment,null,A.createElement(Sa,{className:x},v&&A.createElement("defs",null,A.createElement(Vq,{clipPathId:S,xAxisId:a,yAxisId:l}),!C&&A.createElement("clipPath",{id:"clipPath-dots-".concat(S)},A.createElement("rect",{x:f-D/2,y:u-D/2,width:d+D,height:p+D}))),A.createElement(Lq,{xAxisId:a,yAxisId:l,data:i,dataPointFormatter:DSe,errorBarOffset:0},A.createElement(MSe,{props:this.props,clipPathId:S}))),A.createElement(Jxe,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Xq={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Rf.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function PSe(t){var e=Pi(t,Xq),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:u,hide:f,isAnimationActive:d,label:p,legendType:g,xAxisId:v,yAxisId:x,id:S}=e,T=YN(e,gSe),{needClip:_}=HN(v,x),C=FN(),D=B1(),L=Ii(),R=De(F=>hSe(F,v,x,L,S));if(D!=="horizontal"&&D!=="vertical"||R==null||C==null)return null;var{height:B,width:N,x:M,y:P}=C;return A.createElement(ISe,Ef({},T,{id:S,connectNulls:l,dot:u,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:d,hide:f,label:p,legendType:g,xAxisId:v,yAxisId:x,points:R,layout:D,height:B,width:N,left:M,top:P,needClip:_}))}function RSe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:l,displayedData:u}=t;return u.map((f,d)=>{var p=dr(f,a);if(e==="horizontal"){var g=YL({axis:n,ticks:i,bandSize:l,entry:f,index:d}),v=hn(p)?null:r.scale(p);return{x:g,y:v,value:p,payload:f}}var x=hn(p)?null:n.scale(p),S=YL({axis:r,ticks:s,bandSize:l,entry:f,index:d});return x==null||S==null?null:{x,y:S,value:p,payload:f}}).filter(Boolean)}function jSe(t){var e=Pi(t,Xq),n=Ii();return A.createElement(Dq,{id:e.id,type:"line"},r=>A.createElement(A.Fragment,null,A.createElement(Mq,{legendPayload:wSe(e)}),A.createElement(Nq,{fn:SSe,args:e}),A.createElement(Pq,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),A.createElement(PSe,Ef({},e,{id:r}))))}var qv=A.memo(jSe);qv.displayName="Line";var LSe=["dangerouslySetInnerHTML","ticks"],VSe=["id"],BSe=["domain"],zSe=["domain"];function tC(){return tC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tC.apply(null,arguments)}function ax(t,e){if(t==null)return{};var n,r,i=USe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function USe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function FSe(t){var e=mr();return A.useEffect(()=>(e(Bxe(t)),()=>{e(zxe(t))}),[t,e]),null}var $Se=t=>{var{xAxisId:e,className:n}=t,r=De($O),i=Ii(),s="xAxis",a=De(T=>qh(T,s,e,i)),l=De(T=>j7(T,s,e,i)),u=De(T=>D7(T,e)),f=De(T=>a0e(T,e)),d=De(T=>t7(T,e));if(u==null||f==null||d==null)return null;var{dangerouslySetInnerHTML:p,ticks:g}=t,v=ax(t,LSe),{id:x}=d,S=ax(d,VSe);return A.createElement(GN,tC({},v,S,{scale:a,x:f.x,y:f.y,width:u.width,height:u.height,className:gt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l}))},HSe={allowDataOverflow:Gi.allowDataOverflow,allowDecimals:Gi.allowDecimals,allowDuplicatedCategory:Gi.allowDuplicatedCategory,height:Gi.height,hide:!1,mirror:Gi.mirror,orientation:Gi.orientation,padding:Gi.padding,reversed:Gi.reversed,scale:Gi.scale,tickCount:Gi.tickCount,type:Gi.type,xAxisId:0},qSe=t=>{var e,n,r,i,s,a=Pi(t,HSe);return A.createElement(A.Fragment,null,A.createElement(FSe,{interval:(e=a.interval)!==null&&e!==void 0?e:"preserveEnd",id:a.xAxisId,scale:a.scale,type:a.type,padding:a.padding,allowDataOverflow:a.allowDataOverflow,domain:a.domain,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,includeHidden:(n=a.includeHidden)!==null&&n!==void 0?n:!1,reversed:a.reversed,ticks:a.ticks,height:a.height,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(r=a.angle)!==null&&r!==void 0?r:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),A.createElement($Se,a))},KSe=(t,e)=>{var{domain:n}=t,r=ax(t,BSe),{domain:i}=e,s=ax(e,zSe);return wh(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:wh({domain:n},{domain:i}):!1},Kv=A.memo(qSe,KSe);Kv.displayName="XAxis";var WSe=["dangerouslySetInnerHTML","ticks"],GSe=["id"],YSe=["domain"],XSe=["domain"];function nC(){return nC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nC.apply(null,arguments)}function ox(t,e){if(t==null)return{};var n,r,i=QSe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function QSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function JSe(t){var e=mr();return A.useEffect(()=>(e(Uxe(t)),()=>{e(Fxe(t))}),[t,e]),null}var ZSe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=A.useRef(null),a=A.useRef(null),l=De($O),u=Ii(),f=mr(),d="yAxis",p=De(R=>qh(R,d,e,u)),g=De(R=>I7(R,e)),v=De(R=>l0e(R,e)),x=De(R=>j7(R,d,e,u)),S=De(R=>n7(R,e));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!g||UN(i)||A.isValidElement(i)||S==null)){var R=s.current;if(R){var B=R.getCalculatedWidth();Math.round(g.width)!==Math.round(B)&&f($xe({id:e,width:B}))}}},[x,g,f,i,e,r,S]),g==null||v==null||S==null)return null;var{dangerouslySetInnerHTML:T,ticks:_}=t,C=ox(t,WSe),{id:D}=S,L=ox(S,GSe);return A.createElement(GN,nC({},C,L,{ref:s,labelRef:a,scale:p,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:gt("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:x}))},eTe={allowDataOverflow:Yi.allowDataOverflow,allowDecimals:Yi.allowDecimals,allowDuplicatedCategory:Yi.allowDuplicatedCategory,hide:!1,mirror:Yi.mirror,orientation:Yi.orientation,padding:Yi.padding,reversed:Yi.reversed,scale:Yi.scale,tickCount:Yi.tickCount,type:Yi.type,width:Yi.width,yAxisId:0},tTe=t=>{var e,n,r,i,s,a=Pi(t,eTe);return A.createElement(A.Fragment,null,A.createElement(JSe,{interval:(e=a.interval)!==null&&e!==void 0?e:"preserveEnd",id:a.yAxisId,scale:a.scale,type:a.type,domain:a.domain,allowDataOverflow:a.allowDataOverflow,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,padding:a.padding,includeHidden:(n=a.includeHidden)!==null&&n!==void 0?n:!1,reversed:a.reversed,ticks:a.ticks,width:a.width,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(r=a.angle)!==null&&r!==void 0?r:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),A.createElement(ZSe,a))},nTe=(t,e)=>{var{domain:n}=t,r=ox(t,YSe),{domain:i}=e,s=ox(e,XSe);return wh(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:wh({domain:n},{domain:i}):!1},Wv=A.memo(tTe,nTe);Wv.displayName="YAxis";var V_={exports:{}},B_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pB;function rTe(){if(pB)return B_;pB=1;var t=Ch();function e(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return B_.useSyncExternalStoreWithSelector=function(u,f,d,p,g){var v=i(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=a(function(){function T(R){if(!_){if(_=!0,C=R,R=p(R),g!==void 0&&x.hasValue){var B=x.value;if(g(B,R))return D=B}return D=R}if(B=D,n(C,R))return B;var N=p(R);return g!==void 0&&g(B,N)?(C=R,B):(C=R,D=N)}var _=!1,C,D,L=d===void 0?null:d;return[function(){return T(f())},L===null?void 0:function(){return T(L())}]},[f,d,p,g]);var S=r(u,v[0],v[1]);return s(function(){x.hasValue=!0,x.value=S},[S]),l(S),S},B_}var mB;function iTe(){return mB||(mB=1,V_.exports=rTe()),V_.exports}iTe();function sTe(t){t()}function aTe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){sTe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var gB={notify(){},get:()=>[]};function oTe(t,e){let n,r=gB,i=0,s=!1;function a(S){d();const T=r.subscribe(S);let _=!1;return()=>{_||(_=!0,T(),p())}}function l(){r.notify()}function u(){x.onStateChange&&x.onStateChange()}function f(){return s}function d(){i++,n||(n=t.subscribe(u),r=aTe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=gB)}function g(){s||(s=!0,d())}function v(){s&&(s=!1,p())}const x={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:f,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return x}var lTe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cTe=lTe(),uTe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fTe=uTe(),dTe=()=>cTe||fTe?A.useLayoutEffect:A.useEffect,hTe=dTe(),pTe=Symbol.for("react-redux-context"),mTe=typeof globalThis<"u"?globalThis:{};function gTe(){if(!A.createContext)return{};const t=mTe[pTe]??=new Map;let e=t.get(A.createContext);return e||(e=A.createContext(null),t.set(A.createContext,e)),e}var yTe=gTe();function vTe(t){const{children:e,context:n,serverState:r,store:i}=t,s=A.useMemo(()=>{const u=oTe(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),a=A.useMemo(()=>i.getState(),[i]);hTe(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,a]);const l=n||yTe;return A.createElement(l.Provider,{value:s},e)}var bTe=vTe,xTe=(t,e)=>e,XN=ie([xTe,St,JH,ir,Q7,hl,hve,gr],vve),QN=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},Qq=Ks("mouseClick"),Jq=Zg();Jq.startListening({actionCreator:Qq,effect:(t,e)=>{var n=t.payload,r=XN(e.getState(),QN(n));r?.activeIndex!=null&&e.dispatch(w0e({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var rC=Ks("mouseMove"),Zq=Zg();Zq.startListening({actionCreator:rC,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=MN(r,r.tooltip.settings.shared),s=XN(r,QN(n));i==="axis"&&(s?.activeIndex!=null?e.dispatch(H7({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch($7()))}});var yB={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},eK=ls({name:"rootProps",initialState:yB,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:yB.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),wTe=eK.reducer,{updateOptions:STe}=eK.actions,tK=ls({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:jIe}=tK.actions,TTe=tK.reducer,nK=Ks("keyDown"),rK=Ks("focus"),JN=Zg();JN.startListening({actionCreator:nK,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(DN(i,Wh(n))),l=hl(n);if(s==="Enter"){var u=Zb(n,"axis","hover",String(i.index));e.dispatch(Gk({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var f=d0e(n),d=f==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,g=a+p*d;if(!(l==null||g>=l.length||g<0)){var v=Zb(n,"axis","hover",String(g));e.dispatch(Gk({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}});JN.startListening({actionCreator:rK,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=Zb(n,"axis","hover",String(s));e.dispatch(Gk({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Is=Ks("externalEvent"),iK=Zg();iK.startListening({actionCreator:Is,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:rve(n),activeDataKey:tq(n),activeIndex:Sf(n),activeLabel:eq(n),activeTooltipIndex:Sf(n),isTooltipActive:ive(n)};t.payload.handler(r,t.payload.reactEvent)}}});var ETe=ie([Kh],t=>t.tooltipItemPayloads),_Te=ie([ETe,cy,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,n);return a}}}),sK=Ks("touchMove"),aK=Zg();aK.startListening({actionCreator:sK,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=MN(r,r.tooltip.settings.shared);if(i==="axis"){var s=XN(r,QN({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&e.dispatch(H7({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,l=n.touches[0],u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(Xde),d=(a=u.getAttribute(Qde))!==null&&a!==void 0?a:void 0,p=_Te(e.getState(),f,d);e.dispatch(F7({activeDataKey:d,activeIndex:f,activeCoordinate:p}))}}});var ATe=c8({brush:dwe,cartesianAxis:Hxe,chartData:Pve,errorBars:u1e,graphicalItems:Pxe,layout:bde,legend:dhe,options:Ove,polarAxis:sxe,polarOptions:TTe,referenceElements:bwe,rootProps:wTe,tooltip:S0e}),kTe=function(e){return Hfe({reducer:ATe,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([Jq.middleware,Zq.middleware,JN.middleware,iK.middleware,aK.middleware]),devTools:Rf.devToolsEnabled})};function CTe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Ii(),s=A.useRef(null);if(i)return n;s.current==null&&(s.current=kTe(e));var a=LO;return A.createElement(bTe,{context:a,store:s.current},n)}function OTe(t){var{layout:e,width:n,height:r,margin:i}=t,s=mr(),a=Ii();return A.useEffect(()=>{a||(s(gde(e)),s(yde({width:n,height:r})),s(mde(i)))},[s,a,e,n,r,i]),null}function NTe(t){var e=mr();return A.useEffect(()=>{e(STe(t))},[e,t]),null}var MTe=["children"];function DTe(t,e){if(t==null)return{};var n,r,i=ITe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ITe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lx.apply(null,arguments)}var PTe={width:"100%",height:"100%"},RTe=A.forwardRef((t,e)=>{var n=L8(),r=V8(),i=z8();if(!Lb(n)||!Lb(r))return null;var{children:s,otherAttributes:a,title:l,desc:u}=t,f,d;return typeof a.tabIndex=="number"?f=a.tabIndex:f=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0,A.createElement(C$,lx({},a,{title:l,desc:u,role:d,tabIndex:f,width:n,height:r,style:PTe,ref:e}),s)}),jTe=t=>{var{children:e}=t,n=De(V1);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return A.createElement(C$,{width:r,height:i,x:a,y:s},e)},vB=A.forwardRef((t,e)=>{var{children:n}=t,r=DTe(t,MTe),i=Ii();return i?A.createElement(jTe,null,n):A.createElement(RTe,lx({ref:e},r),n)});function LTe(){var t=mr(),[e,n]=A.useState(null),r=De(Yde);return A.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;ss(s)&&s!==r&&t(vde(s))}},[e,t,r]),n}function bB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VTe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bB(Object(n),!0).forEach(function(r){BTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BTe(t,e,n){return(e=zTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zTe(t){var e=UTe(t,"string");return typeof e=="symbol"?e:e+""}function UTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FTe=A.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:u,onMouseEnter:f,onMouseLeave:d,onMouseMove:p,onMouseUp:g,onTouchEnd:v,onTouchMove:x,onTouchStart:S,style:T,width:_}=t,C=mr(),[D,L]=A.useState(null),[R,B]=A.useState(null);$ve();var N=LTe(),M=A.useCallback(X=>{N(X),typeof e=="function"&&e(X),L(X),B(X)},[N,e,L,B]),P=A.useCallback(X=>{C(Qq(X)),C(Is({handler:s,reactEvent:X}))},[C,s]),F=A.useCallback(X=>{C(rC(X)),C(Is({handler:f,reactEvent:X}))},[C,f]),V=A.useCallback(X=>{C($7()),C(Is({handler:d,reactEvent:X}))},[C,d]),$=A.useCallback(X=>{C(rC(X)),C(Is({handler:p,reactEvent:X}))},[C,p]),U=A.useCallback(()=>{C(rK())},[C]),me=A.useCallback(X=>{C(nK(X.key))},[C]),ve=A.useCallback(X=>{C(Is({handler:a,reactEvent:X}))},[C,a]),G=A.useCallback(X=>{C(Is({handler:l,reactEvent:X}))},[C,l]),K=A.useCallback(X=>{C(Is({handler:u,reactEvent:X}))},[C,u]),ae=A.useCallback(X=>{C(Is({handler:g,reactEvent:X}))},[C,g]),pe=A.useCallback(X=>{C(Is({handler:S,reactEvent:X}))},[C,S]),xe=A.useCallback(X=>{C(sK(X)),C(Is({handler:x,reactEvent:X}))},[C,x]),q=A.useCallback(X=>{C(Is({handler:v,reactEvent:X}))},[C,v]);return A.createElement(oq.Provider,{value:D},A.createElement(Uce.Provider,{value:R},A.createElement("div",{className:gt("recharts-wrapper",r),style:VTe({position:"relative",cursor:"default",width:_,height:i},T),onClick:P,onContextMenu:ve,onDoubleClick:G,onFocus:U,onKeyDown:me,onMouseDown:K,onMouseEnter:F,onMouseLeave:V,onMouseMove:$,onMouseUp:ae,onTouchEnd:q,onTouchMove:xe,onTouchStart:pe,ref:M},n)))}),$Te=["children","className","width","height","style","compact","title","desc"];function HTe(t,e){if(t==null)return{};var n,r,i=qTe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var KTe=A.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:s,style:a,compact:l,title:u,desc:f}=t,d=HTe(t,$Te),p=Wc(d);return l?A.createElement(vB,{otherAttributes:p,title:u,desc:f},n):A.createElement(FTe,{className:r,style:a,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},A.createElement(vB,{otherAttributes:p,title:u,desc:f,ref:e},A.createElement(wwe,null,n)))}),WTe=["width","height"];function iC(){return iC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iC.apply(null,arguments)}function GTe(t,e){if(t==null)return{};var n,r,i=YTe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function YTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var XTe={top:5,right:5,bottom:5,left:5},QTe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:XTe,reverseStackOrder:!1,syncMethod:"index"},oK=A.forwardRef(function(e,n){var r,i=Pi(e.categoricalChartProps,QTe),{width:s,height:a}=i,l=GTe(i,WTe);if(!Lb(s)||!Lb(a))return null;var{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,categoricalChartProps:g}=e,v={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,eventEmitter:void 0};return A.createElement(CTe,{preloadedState:{options:v},reduxStoreName:(r=g.id)!==null&&r!==void 0?r:u},A.createElement(fwe,{chartData:g.data}),A.createElement(OTe,{width:s,height:a,layout:i.layout,margin:i.margin}),A.createElement(NTe,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),A.createElement(KTe,iC({},l,{width:s,height:a,ref:n})))}),JTe=["axis"],xB=A.forwardRef((t,e)=>A.createElement(oK,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:JTe,tooltipPayloadSearcher:lq,categoricalChartProps:t,ref:e})),ZTe=["axis","item"],eEe=A.forwardRef((t,e)=>A.createElement(oK,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ZTe,tooltipPayloadSearcher:lq,categoricalChartProps:t,ref:e}));const tEe=(t,e,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const i=Object.getOwnPropertyDescriptor(t,n),s=Object.getOwnPropertyDescriptor(e,n);!nEe(i,s)&&r||Object.defineProperty(t,n,s)},nEe=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},rEe=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},iEe=(t,e)=>`/* Wrapped ${t}*/
${e}`,sEe=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),aEe=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),oEe=(t,e,n)=>{const r=n===""?"":`with ${n.trim()}() `,i=iEe.bind(null,r,e.toString());Object.defineProperty(i,"name",aEe);const{writable:s,enumerable:a,configurable:l}=sEe;Object.defineProperty(t,"toString",{value:i,writable:s,enumerable:a,configurable:l})};function lEe(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:r}=t;for(const i of Reflect.ownKeys(e))tEe(t,e,i,n);return rEe(t,e),oEe(t,e,r),t}const cEe=new WeakMap,wB=new WeakMap;function lK(t,{cacheKey:e,cache:n=new Map,maxAge:r}={}){if(r===0)return t;if(typeof r=="number"){if(r>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(r<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const i=function(...s){const a=e?e(s):s[0],l=n.get(a);if(l)return l.data;const u=t.apply(this,s),f=typeof r=="function"?r(...s):r;if(n.set(a,{data:u,maxAge:f?Date.now()+f:Number.POSITIVE_INFINITY}),f&&f>0&&f!==Number.POSITIVE_INFINITY){const d=setTimeout(()=>{n.delete(a)},f);d.unref?.();const p=wB.get(t)??new Set;p.add(d),wB.set(t,p)}return u};return lEe(i,t,{ignoreNonConfigurable:!0}),cEe.set(i,n),i}function uEe(t){return typeof t=="string"}function fEe(t,e,n){return n.indexOf(t)===e}function dEe(t){return t.toLowerCase()===t}function SB(t){return t.indexOf(",")===-1?t:t.split(",")}function sC(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return sC(n)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],n=r===void 0?"":r;return sC(n)}if(t.indexOf("-")===-1||!dEe(t))return t;var i=t.split("-"),s=i[0],a=i[1],l=a===void 0?"":a;return"".concat(s,"-").concat(l.toUpperCase())}function hEe(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,r=n===void 0?!0:n,i=e.fallbackLocale,s=i===void 0?"en-US":i,a=[];if(typeof navigator<"u"){for(var l=navigator.languages||[],u=[],f=0,d=l;f<d.length;f++){var p=d[f];u=u.concat(SB(p))}var g=navigator.language,v=g&&SB(g);a=a.concat(u,v)}return r&&a.push(s),a.filter(uEe).map(sC).filter(fEe)}var pEe=lK(hEe,{cacheKey:JSON.stringify});function mEe(t){return pEe(t)[0]||null}var cK=lK(mEe,{cacheKey:JSON.stringify});function pl(t,e,n){return function(i,s=n){const a=t(i)+s;return e(a)}}function dy(t){return function(n){return new Date(t(n).getTime()-1)}}function hy(t,e){return function(r){return[t(r),e(r)]}}function pn(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function Jc(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function ow(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function Gh(t){const e=pn(t),n=e+(-e+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const gEe=pl(pn,Gh,-100),uK=pl(pn,Gh,100),ZN=dy(uK),yEe=pl(pn,ZN,-100),fK=hy(Gh,ZN);function Zc(t){const e=pn(t),n=e+(-e+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const dK=pl(pn,Zc,-10),eM=pl(pn,Zc,10),lw=dy(eM),hK=pl(pn,lw,-10),pK=hy(Zc,lw);function Yh(t){const e=pn(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const mK=pl(pn,Yh,-1),tM=pl(pn,Yh,1),cw=dy(tM),gK=pl(pn,cw,-1),vEe=hy(Yh,cw);function nM(t,e){return function(r,i=e){const s=pn(r),a=Jc(r)+i,l=new Date;return l.setFullYear(s,a,1),l.setHours(0,0,0,0),t(l)}}function Bf(t){const e=pn(t),n=Jc(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}const yK=nM(Bf,-1),rM=nM(Bf,1),py=dy(rM),vK=nM(py,-1),bEe=hy(Bf,py);function xEe(t,e){return function(r,i=e){const s=pn(r),a=Jc(r),l=ow(r)+i,u=new Date;return u.setFullYear(s,a,l),u.setHours(0,0,0,0),t(u)}}function my(t){const e=pn(t),n=Jc(t),r=ow(t),i=new Date;return i.setFullYear(e,n,r),i.setHours(0,0,0,0),i}const wEe=xEe(my,1),iM=dy(wEe),SEe=hy(my,iM);function bK(t){return ow(py(t))}var jr={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},TEe={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},sM=[0,1,2,3,4,5,6],z_=new Map;function EEe(t){return function(n,r){var i=n||cK();z_.has(i)||z_.set(i,new Map);var s=z_.get(i);return s.has(t)||s.set(t,new Intl.DateTimeFormat(i||void 0,t).format),s.get(t)(r)}}function _Ee(t){var e=new Date(t);return new Date(e.setHours(12))}function zf(t){return function(e,n){return EEe(t)(e,_Ee(n))}}var AEe={day:"numeric"},kEe={day:"numeric",month:"long",year:"numeric"},CEe={month:"long"},OEe={month:"long",year:"numeric"},NEe={weekday:"short"},MEe={weekday:"long"},DEe={year:"numeric"},IEe=zf(AEe),PEe=zf(kEe),REe=zf(CEe),xK=zf(OEe),jEe=zf(NEe),LEe=zf(MEe),uw=zf(DEe),VEe=sM[0],BEe=sM[5],TB=sM[6];function yg(t,e){e===void 0&&(e=jr.ISO_8601);var n=t.getDay();switch(e){case jr.ISO_8601:return(n+6)%7;case jr.ISLAMIC:return(n+1)%7;case jr.HEBREW:case jr.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function zEe(t){var e=Gh(t);return pn(e)}function UEe(t){var e=Zc(t);return pn(e)}function aC(t,e){e===void 0&&(e=jr.ISO_8601);var n=pn(t),r=Jc(t),i=t.getDate()-yg(t,e);return new Date(n,r,i)}function FEe(t,e){e===void 0&&(e=jr.ISO_8601);var n=e===jr.GREGORY?jr.GREGORY:jr.ISO_8601,r=aC(t,e),i=pn(t)+1,s,a;do s=new Date(i,0,n===jr.ISO_8601?4:1),a=aC(s,e),i-=1;while(t<a);return Math.round((r.getTime()-a.getTime())/(864e5*7))+1}function af(t,e){switch(t){case"century":return Gh(e);case"decade":return Zc(e);case"year":return Yh(e);case"month":return Bf(e);case"day":return my(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function $Ee(t,e){switch(t){case"century":return gEe(e);case"decade":return dK(e);case"year":return mK(e);case"month":return yK(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function wK(t,e){switch(t){case"century":return uK(e);case"decade":return eM(e);case"year":return tM(e);case"month":return rM(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function HEe(t,e){switch(t){case"decade":return dK(e,-100);case"year":return mK(e,-10);case"month":return yK(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function qEe(t,e){switch(t){case"decade":return eM(e,100);case"year":return tM(e,10);case"month":return rM(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function SK(t,e){switch(t){case"century":return ZN(e);case"decade":return lw(e);case"year":return cw(e);case"month":return py(e);case"day":return iM(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function KEe(t,e){switch(t){case"century":return yEe(e);case"decade":return hK(e);case"year":return gK(e);case"month":return vK(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function WEe(t,e){switch(t){case"decade":return hK(e,-100);case"year":return gK(e,-10);case"month":return vK(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function EB(t,e){switch(t){case"century":return fK(e);case"decade":return pK(e);case"year":return vEe(e);case"month":return bEe(e);case"day":return SEe(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function GEe(t,e,n){var r=[e,n].sort(function(i,s){return i.getTime()-s.getTime()});return[af(t,r[0]),SK(t,r[1])]}function TK(t,e,n){return n.map(function(r){return(e||uw)(t,r)}).join("  ")}function YEe(t,e,n){return TK(t,e,fK(n))}function EK(t,e,n){return TK(t,e,pK(n))}function XEe(t){return t.getDay()===new Date().getDay()}function _K(t,e){e===void 0&&(e=jr.ISO_8601);var n=t.getDay();switch(e){case jr.ISLAMIC:case jr.HEBREW:return n===BEe||n===TB;case jr.ISO_8601:case jr.GREGORY:return n===TB||n===VEe;default:throw new Error("Unsupported calendar type.")}}var Va="react-calendar__navigation";function QEe(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,i=r===void 0?xK:r,s=t.formatYear,a=s===void 0?uw:s,l=t.locale,u=t.maxDate,f=t.minDate,d=t.navigationAriaLabel,p=d===void 0?"":d,g=t.navigationAriaLive,v=t.navigationLabel,x=t.next2AriaLabel,S=x===void 0?"":x,T=t.next2Label,_=T===void 0?"":T,C=t.nextAriaLabel,D=C===void 0?"":C,L=t.nextLabel,R=L===void 0?"":L,B=t.prev2AriaLabel,N=B===void 0?"":B,M=t.prev2Label,P=M===void 0?"":M,F=t.prevAriaLabel,V=F===void 0?"":F,$=t.prevLabel,U=$===void 0?"":$,me=t.setActiveStartDate,ve=t.showDoubleView,G=t.view,K=t.views,ae=K.indexOf(G)>0,pe=G!=="century",xe=$Ee(G,e),q=pe?HEe(G,e):void 0,X=wK(G,e),ye=pe?qEe(G,e):void 0,we=(function(){if(xe.getFullYear()<0)return!0;var Me=KEe(G,e);return f&&f>=Me})(),Se=pe&&(function(){if(q.getFullYear()<0)return!0;var Me=WEe(G,e);return f&&f>=Me})(),Ie=u&&u<X,Ve=pe&&u&&u<ye;function ut(){me(xe,"prev")}function fe(){me(q,"prev2")}function ze(){me(X,"next")}function Fe(){me(ye,"next2")}function de(Me){var _t=(function(){switch(G){case"century":return YEe(l,a,Me);case"decade":return EK(l,a,Me);case"year":return a(l,Me);case"month":return i(l,Me);default:throw new Error("Invalid view: ".concat(G,"."))}})();return v?v({date:Me,label:_t,locale:l||cK()||void 0,view:G}):_t}function Lt(){var Me="".concat(Va,"__label");return y.jsxs("button",{"aria-label":p,"aria-live":g,className:Me,disabled:!ae,onClick:n,style:{flexGrow:1},type:"button",children:[y.jsx("span",{className:"".concat(Me,"__labelText ").concat(Me,"__labelText--from"),children:de(e)}),ve?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"".concat(Me,"__divider"),children:"  "}),y.jsx("span",{className:"".concat(Me,"__labelText ").concat(Me,"__labelText--to"),children:de(X)})]}):null]})}return y.jsxs("div",{className:Va,children:[P!==null&&pe?y.jsx("button",{"aria-label":N,className:"".concat(Va,"__arrow ").concat(Va,"__prev2-button"),disabled:Se,onClick:fe,type:"button",children:P}):null,U!==null&&y.jsx("button",{"aria-label":V,className:"".concat(Va,"__arrow ").concat(Va,"__prev-button"),disabled:we,onClick:ut,type:"button",children:U}),Lt(),R!==null&&y.jsx("button",{"aria-label":D,className:"".concat(Va,"__arrow ").concat(Va,"__next-button"),disabled:Ie,onClick:ze,type:"button",children:R}),_!==null&&pe?y.jsx("button",{"aria-label":S,className:"".concat(Va,"__arrow ").concat(Va,"__next2-button"),disabled:Ve,onClick:Fe,type:"button",children:_}):null]})}var Hd=function(){return Hd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Hd.apply(this,arguments)},JEe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function _B(t){return"".concat(t,"%")}function aM(t){var e=t.children,n=t.className,r=t.count,i=t.direction,s=t.offset,a=t.style,l=t.wrap,u=JEe(t,["children","className","count","direction","offset","style","wrap"]);return y.jsx("div",Hd({className:n,style:Hd({display:"flex",flexDirection:i,flexWrap:l?"wrap":"nowrap"},a)},u,{children:A.Children.map(e,function(f,d){var p=s&&d===0?_B(100*s/r):null;return A.cloneElement(f,Hd(Hd({},f.props),{style:{flexBasis:_B(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:p,marginInlineStart:p,marginInlineEnd:0}}))})}))}function ZEe(t,e,n){return e&&e>t?e:n&&n<t?n:t}function vg(t,e){return e[0]<=t&&e[1]>=t}function e_e(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function AK(t,e){return vg(t[0],e)||vg(t[1],e)}function AB(t,e,n){var r=AK(e,t),i=[];if(r){i.push(n);var s=vg(t[0],e),a=vg(t[1],e);s&&i.push("".concat(n,"Start")),a&&i.push("".concat(n,"End")),s&&a&&i.push("".concat(n,"BothEnds"))}return i}function t_e(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function n_e(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,i="react-calendar__tile",s=[i];if(!n)return s;var a=new Date,l=(function(){if(Array.isArray(n))return n;var v=t.dateType;if(!v)throw new Error("dateType is required when date is not an array of two dates");return EB(v,n)})();if(vg(a,l)&&s.push("".concat(i,"--now")),!e||!t_e(e))return s;var u=(function(){if(Array.isArray(e))return e;var v=t.valueType;if(!v)throw new Error("valueType is required when value is not an array of two dates");return EB(v,e)})();e_e(u,l)?s.push("".concat(i,"--active")):AK(u,l)&&s.push("".concat(i,"--hasActive"));var f=AB(u,l,"".concat(i,"--range"));s.push.apply(s,f);var d=Array.isArray(e)?e:[e];if(r&&d.length===1){var p=r>u[0]?[u[0],r]:[r,u[0]],g=AB(p,l,"".concat(i,"--hover"));s.push.apply(s,g)}return s}function fw(t){for(var e=t.className,n=t.count,r=n===void 0?3:n,i=t.dateTransform,s=t.dateType,a=t.end,l=t.hover,u=t.offset,f=t.renderTile,d=t.start,p=t.step,g=p===void 0?1:p,v=t.value,x=t.valueType,S=[],T=d;T<=a;T+=g){var _=i(T);S.push(f({classes:n_e({date:_,dateType:s,hover:l,value:v,valueType:x}),date:_}))}return y.jsx(aM,{className:e,count:r,offset:u,wrap:!0,children:S})}function dw(t){var e=t.activeStartDate,n=t.children,r=t.classes,i=t.date,s=t.formatAbbr,a=t.locale,l=t.maxDate,u=t.maxDateTransform,f=t.minDate,d=t.minDateTransform,p=t.onClick,g=t.onMouseOver,v=t.style,x=t.tileClassName,S=t.tileContent,T=t.tileDisabled,_=t.view,C=A.useMemo(function(){var L={activeStartDate:e,date:i,view:_};return typeof x=="function"?x(L):x},[e,i,x,_]),D=A.useMemo(function(){var L={activeStartDate:e,date:i,view:_};return typeof S=="function"?S(L):S},[e,i,S,_]);return y.jsxs("button",{className:gt(r,C),disabled:f&&d(f)>i||l&&u(l)<i||T?.({activeStartDate:e,date:i,view:_}),onClick:p?function(L){return p(i,L)}:void 0,onFocus:g?function(){return g(i)}:void 0,onMouseOver:g?function(){return g(i)}:void 0,style:v,type:"button",children:[s?y.jsx("abbr",{"aria-label":s(a,i),children:n}):n,D]})}var oC=function(){return oC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},oC.apply(this,arguments)},r_e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},kB="react-calendar__century-view__decades__decade";function i_e(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentCentury,i=t.formatYear,s=i===void 0?uw:i,a=r_e(t,["classes","currentCentury","formatYear"]),l=a.date,u=a.locale,f=[];return n&&f.push.apply(f,n),f.push(kB),Gh(l).getFullYear()!==r&&f.push("".concat(kB,"--neighboringCentury")),y.jsx(dw,oC({},a,{classes:f,maxDateTransform:lw,minDateTransform:Zc,view:"century",children:EK(u,s,l)}))}var lC=function(){return lC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},lC.apply(this,arguments)},CB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function s_e(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,i=t.value,s=t.valueType,a=CB(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),l=zEe(e),u=l+(r?119:99);return y.jsx(fw,{className:"react-calendar__century-view__decades",dateTransform:Zc,dateType:"decade",end:u,hover:n,renderTile:function(f){var d=f.date,p=CB(f,["date"]);return y.jsx(i_e,lC({},a,p,{activeStartDate:e,currentCentury:l,date:d}),d.getTime())},start:l,step:10,value:i,valueType:s})}var cC=function(){return cC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},cC.apply(this,arguments)};function a_e(t){function e(){return y.jsx(s_e,cC({},t))}return y.jsx("div",{className:"react-calendar__century-view",children:e()})}var uC=function(){return uC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},uC.apply(this,arguments)},o_e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},OB="react-calendar__decade-view__years__year";function l_e(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentDecade,i=t.formatYear,s=i===void 0?uw:i,a=o_e(t,["classes","currentDecade","formatYear"]),l=a.date,u=a.locale,f=[];return n&&f.push.apply(f,n),f.push(OB),Zc(l).getFullYear()!==r&&f.push("".concat(OB,"--neighboringDecade")),y.jsx(dw,uC({},a,{classes:f,maxDateTransform:cw,minDateTransform:Yh,view:"decade",children:s(u,l)}))}var fC=function(){return fC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},fC.apply(this,arguments)},NB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function c_e(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,i=t.value,s=t.valueType,a=NB(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),l=UEe(e),u=l+(r?11:9);return y.jsx(fw,{className:"react-calendar__decade-view__years",dateTransform:Yh,dateType:"year",end:u,hover:n,renderTile:function(f){var d=f.date,p=NB(f,["date"]);return y.jsx(l_e,fC({},a,p,{activeStartDate:e,currentDecade:l,date:d}),d.getTime())},start:l,value:i,valueType:s})}var dC=function(){return dC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},dC.apply(this,arguments)};function u_e(t){function e(){return y.jsx(c_e,dC({},t))}return y.jsx("div",{className:"react-calendar__decade-view",children:e()})}var hC=function(){return hC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},hC.apply(this,arguments)},f_e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},MB=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},d_e="react-calendar__year-view__months__month";function h_e(t){var e=t.classes,n=e===void 0?[]:e,r=t.formatMonth,i=r===void 0?REe:r,s=t.formatMonthYear,a=s===void 0?xK:s,l=f_e(t,["classes","formatMonth","formatMonthYear"]),u=l.date,f=l.locale;return y.jsx(dw,hC({},l,{classes:MB(MB([],n,!0),[d_e],!1),formatAbbr:a,maxDateTransform:py,minDateTransform:Bf,view:"year",children:i(f,u)}))}var pC=function(){return pC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pC.apply(this,arguments)},DB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function p_e(t){var e=t.activeStartDate,n=t.hover,r=t.value,i=t.valueType,s=DB(t,["activeStartDate","hover","value","valueType"]),a=0,l=11,u=pn(e);return y.jsx(fw,{className:"react-calendar__year-view__months",dateTransform:function(f){var d=new Date;return d.setFullYear(u,f,1),Bf(d)},dateType:"month",end:l,hover:n,renderTile:function(f){var d=f.date,p=DB(f,["date"]);return y.jsx(h_e,pC({},s,p,{activeStartDate:e,date:d}),d.getTime())},start:a,value:r,valueType:i})}var mC=function(){return mC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mC.apply(this,arguments)};function m_e(t){function e(){return y.jsx(p_e,mC({},t))}return y.jsx("div",{className:"react-calendar__year-view",children:e()})}var gC=function(){return gC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},gC.apply(this,arguments)},g_e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},U_="react-calendar__month-view__days__day";function y_e(t){var e=t.calendarType,n=t.classes,r=n===void 0?[]:n,i=t.currentMonthIndex,s=t.formatDay,a=s===void 0?IEe:s,l=t.formatLongDate,u=l===void 0?PEe:l,f=g_e(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=f.date,p=f.locale,g=[];return r&&g.push.apply(g,r),g.push(U_),_K(d,e)&&g.push("".concat(U_,"--weekend")),d.getMonth()!==i&&g.push("".concat(U_,"--neighboringMonth")),y.jsx(dw,gC({},f,{classes:g,formatAbbr:u,maxDateTransform:iM,minDateTransform:my,view:"month",children:a(p,d)}))}var yC=function(){return yC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},yC.apply(this,arguments)},IB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function v_e(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,i=t.showFixedNumberOfWeeks,s=t.showNeighboringMonth,a=t.value,l=t.valueType,u=IB(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),f=pn(e),d=Jc(e),p=i||s,g=yg(e,n),v=p?0:g,x=(p?-g:0)+1,S=(function(){if(i)return x+42-1;var T=bK(e);if(s){var _=new Date;_.setFullYear(f,d,T),_.setHours(0,0,0,0);var C=7-yg(_,n)-1;return T+C}return T})();return y.jsx(fw,{className:"react-calendar__month-view__days",count:7,dateTransform:function(T){var _=new Date;return _.setFullYear(f,d,T),my(_)},dateType:"day",hover:r,end:S,renderTile:function(T){var _=T.date,C=IB(T,["date"]);return y.jsx(y_e,yC({},u,C,{activeStartDate:e,calendarType:n,currentMonthIndex:d,date:_}),_.getTime())},offset:v,start:x,value:a,valueType:l})}var kK="react-calendar__month-view__weekdays",F_="".concat(kK,"__weekday");function b_e(t){for(var e=t.calendarType,n=t.formatShortWeekday,r=n===void 0?jEe:n,i=t.formatWeekday,s=i===void 0?LEe:i,a=t.locale,l=t.onMouseLeave,u=new Date,f=Bf(u),d=pn(f),p=Jc(f),g=[],v=1;v<=7;v+=1){var x=new Date(d,p,v-yg(f,e)),S=s(a,x);g.push(y.jsx("div",{className:gt(F_,XEe(x)&&"".concat(F_,"--current"),_K(x,e)&&"".concat(F_,"--weekend")),children:y.jsx("abbr",{"aria-label":S,title:S,children:r(a,x).replace(".","")})},v))}return y.jsx(aM,{className:kK,count:7,onFocus:l,onMouseOver:l,children:g})}var cx=function(){return cx=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},cx.apply(this,arguments)},PB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},RB="react-calendar__tile";function x_e(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=y.jsx("span",{children:n});if(e){var i=t.date,s=t.onClickWeekNumber,a=t.weekNumber,l=PB(t,["date","onClickWeekNumber","weekNumber"]);return y.jsx("button",cx({},l,{className:RB,onClick:function(u){return s(a,i,u)},type:"button",children:r}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var l=PB(t,["date","onClickWeekNumber","weekNumber"]);return y.jsx("div",cx({},l,{className:RB,children:r}))}}function w_e(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,i=t.onMouseLeave,s=t.showFixedNumberOfWeeks,a=(function(){if(s)return 6;var f=bK(e),d=yg(e,n),p=f-(7-d);return 1+Math.ceil(p/7)})(),l=(function(){for(var f=pn(e),d=Jc(e),p=ow(e),g=[],v=0;v<a;v+=1)g.push(aC(new Date(f,d,p+v*7),n));return g})(),u=l.map(function(f){return FEe(f,n)});return y.jsx(aM,{className:"react-calendar__month-view__weekNumbers",count:a,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:u.map(function(f,d){var p=l[d];if(!p)throw new Error("date is not defined");return y.jsx(x_e,{date:p,onClickWeekNumber:r,weekNumber:f},f)})})}var vC=function(){return vC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},vC.apply(this,arguments)},S_e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function T_e(t){if(t)for(var e=0,n=Object.entries(TEe);e<n.length;e++){var r=n[e],i=r[0],s=r[1];if(s.includes(t))return i}return jr.ISO_8601}function E_e(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,i=t.showFixedNumberOfWeeks,s=t.calendarType,a=s===void 0?T_e(n):s,l=t.formatShortWeekday,u=t.formatWeekday,f=t.onClickWeekNumber,d=t.showWeekNumbers,p=S_e(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function g(){return y.jsx(b_e,{calendarType:a,formatShortWeekday:l,formatWeekday:u,locale:n,onMouseLeave:r})}function v(){return d?y.jsx(w_e,{activeStartDate:e,calendarType:a,onClickWeekNumber:f,onMouseLeave:r,showFixedNumberOfWeeks:i}):null}function x(){return y.jsx(v_e,vC({calendarType:a},p))}var S="react-calendar__month-view";return y.jsx("div",{className:gt(S,d?"".concat(S,"--weekNumbers"):""),children:y.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[v(),y.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[g(),x()]})]})})}var qd=function(){return qd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qd.apply(this,arguments)},hv="react-calendar",Gv=["century","decade","year","month"],__e=["decade","year","month","day"],oM=new Date;oM.setFullYear(1,0,1);oM.setHours(0,0,0,0);var A_e=new Date(864e13);function fm(t){return t instanceof Date?t:new Date(t)}function CK(t,e){return Gv.slice(Gv.indexOf(t),Gv.indexOf(e)+1)}function k_e(t,e,n){var r=CK(e,n);return r.indexOf(t)!==-1}function lM(t,e,n){return t&&k_e(t,e,n)?t:n}function OK(t){var e=Gv.indexOf(t);return __e[e]}function C_e(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=fm(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function NK(t,e){var n=t.value,r=t.minDate,i=t.maxDate,s=t.maxDetail,a=C_e(n,e);if(!a)return null;var l=OK(s),u=(function(){switch(e){case 0:return af(l,a);case 1:return SK(l,a);default:throw new Error("Invalid index value: ".concat(e))}})();return ZEe(u,r,i)}var cM=function(t){return NK(t,0)},MK=function(t){return NK(t,1)},O_e=function(t){return[cM,MK].map(function(e){return e(t)})};function DK(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,i=t.minDetail,s=t.value,a=t.view,l=lM(a,i,n),u=cM({value:s,minDate:r,maxDate:e,maxDetail:n})||new Date;return af(l,u)}function N_e(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,i=t.defaultView,s=t.maxDate,a=t.maxDetail,l=t.minDate,u=t.minDetail,f=t.value,d=t.view,p=lM(d,u,a),g=e||n;return g?af(p,g):DK({maxDate:s,maxDetail:a,minDate:l,minDetail:u,value:f||r,view:d||i})}function $_(t){return t&&(!Array.isArray(t)||t.length===1)}function pv(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var M_e=A.forwardRef(function(e,n){var r=e.activeStartDate,i=e.allowPartialRange,s=e.calendarType,a=e.className,l=e.defaultActiveStartDate,u=e.defaultValue,f=e.defaultView,d=e.formatDay,p=e.formatLongDate,g=e.formatMonth,v=e.formatMonthYear,x=e.formatShortWeekday,S=e.formatWeekday,T=e.formatYear,_=e.goToRangeStartOnSelect,C=_===void 0?!0:_,D=e.inputRef,L=e.locale,R=e.maxDate,B=R===void 0?A_e:R,N=e.maxDetail,M=N===void 0?"month":N,P=e.minDate,F=P===void 0?oM:P,V=e.minDetail,$=V===void 0?"century":V,U=e.navigationAriaLabel,me=e.navigationAriaLive,ve=e.navigationLabel,G=e.next2AriaLabel,K=e.next2Label,ae=e.nextAriaLabel,pe=e.nextLabel,xe=e.onActiveStartDateChange,q=e.onChange,X=e.onClickDay,ye=e.onClickDecade,we=e.onClickMonth,Se=e.onClickWeekNumber,Ie=e.onClickYear,Ve=e.onDrillDown,ut=e.onDrillUp,fe=e.onViewChange,ze=e.prev2AriaLabel,Fe=e.prev2Label,de=e.prevAriaLabel,Lt=e.prevLabel,Me=e.returnValue,_t=Me===void 0?"start":Me,nt=e.selectRange,sn=e.showDoubleView,ji=e.showFixedNumberOfWeeks,vt=e.showNavigation,an=vt===void 0?!0:vt,Xr=e.showNeighboringCentury,ru=e.showNeighboringDecade,ro=e.showNeighboringMonth,Tt=ro===void 0?!0:ro,yn=e.showWeekNumbers,Ln=e.tileClassName,io=e.tileContent,pi=e.tileDisabled,so=e.value,_a=e.view,Xs=A.useState(l),ao=Xs[0],Qn=Xs[1],on=A.useState(null),xr=on[0],qt=on[1],oo=A.useState(Array.isArray(u)?u.map(function(Ke){return Ke!==null?fm(Ke):null}):u!=null?fm(u):null),us=oo[0],yl=oo[1],Qr=A.useState(f),Qs=Qr[0],Xt=Qr[1],Vt=r||ao||N_e({activeStartDate:r,defaultActiveStartDate:l,defaultValue:u,defaultView:f,maxDate:B,maxDetail:M,minDate:F,minDetail:$,value:so,view:_a}),Bt=(function(){var Ke=(function(){return nt&&$_(us)?us:so!==void 0?so:us})();return Ke?Array.isArray(Ke)?Ke.map(function(Mt){return Mt!==null?fm(Mt):null}):Ke!==null?fm(Ke):null:null})(),Jn=OK(M),At=lM(_a||Qs,$,M),wr=CK($,M),Jr=nt?xr:null,Li=wr.indexOf(At)<wr.length-1,vl=wr.indexOf(At)>0,Vi=A.useCallback(function(Ke){var Mt=(function(){switch(_t){case"start":return cM;case"end":return MK;case"range":return O_e;default:throw new Error("Invalid returnValue.")}})();return Mt({maxDate:B,maxDetail:M,minDate:F,value:Ke})},[B,M,F,_t]),Js=A.useCallback(function(Ke,Mt){Qn(Ke);var zt={action:Mt,activeStartDate:Ke,value:Bt,view:At};xe&&!pv(Vt,Ke)&&xe(zt)},[Vt,xe,Bt,At]),fs=A.useCallback(function(Ke,Mt){var zt=(function(){switch(At){case"century":return ye;case"decade":return Ie;case"year":return we;case"month":return X;default:throw new Error("Invalid view: ".concat(At,"."))}})();zt&&zt(Ke,Mt)},[X,ye,we,Ie,At]),mi=A.useCallback(function(Ke,Mt){if(Li){fs(Ke,Mt);var zt=wr[wr.indexOf(At)+1];if(!zt)throw new Error("Attempted to drill down from the lowest view.");Qn(Ke),Xt(zt);var sr={action:"drillDown",activeStartDate:Ke,value:Bt,view:zt};xe&&!pv(Vt,Ke)&&xe(sr),fe&&At!==zt&&fe(sr),Ve&&Ve(sr)}},[Vt,Li,xe,fs,Ve,fe,Bt,At,wr]),Zr=A.useCallback(function(){if(vl){var Ke=wr[wr.indexOf(At)-1];if(!Ke)throw new Error("Attempted to drill up from the highest view.");var Mt=af(Ke,Vt);Qn(Mt),Xt(Ke);var zt={action:"drillUp",activeStartDate:Mt,value:Bt,view:Ke};xe&&!pv(Vt,Mt)&&xe(zt),fe&&At!==Ke&&fe(zt),ut&&ut(zt)}},[Vt,vl,xe,ut,fe,Bt,At,wr]),Aa=A.useCallback(function(Ke,Mt){var zt=Bt;fs(Ke,Mt);var sr=nt&&!$_(zt),ln;if(nt)if(sr)ln=af(Jn,Ke);else{if(!zt)throw new Error("previousValue is required");if(Array.isArray(zt))throw new Error("previousValue must not be an array");ln=GEe(Jn,zt,Ke)}else ln=Vi(Ke);var ds=!nt||sr||C?DK({maxDate:B,maxDetail:M,minDate:F,minDetail:$,value:ln,view:At}):null;Mt.persist(),Qn(ds),yl(ln);var yi={action:"onChange",activeStartDate:ds,value:ln,view:At};if(xe&&!pv(Vt,ds)&&xe(yi),q)if(nt){var Zn=$_(ln);if(!Zn)q(ln||null,Mt);else if(i){if(Array.isArray(ln))throw new Error("value must not be an array");q([ln||null,null],Mt)}}else q(ln||null,Mt)},[Vt,i,Vi,C,B,M,F,$,xe,q,fs,nt,Bt,Jn,At]);function ei(Ke){qt(Ke)}function Sr(){qt(null)}A.useImperativeHandle(n,function(){return{activeStartDate:Vt,drillDown:mi,drillUp:Zr,onChange:Aa,setActiveStartDate:Js,value:Bt,view:At}},[Vt,mi,Zr,Aa,Js,Bt,At]);function Qt(Ke){var Mt=Ke?wK(At,Vt):af(At,Vt),zt=Li?mi:Aa,sr={activeStartDate:Mt,hover:Jr,locale:L,maxDate:B,minDate:F,onClick:zt,onMouseOver:nt?ei:void 0,tileClassName:Ln,tileContent:io,tileDisabled:pi,value:Bt,valueType:Jn};switch(At){case"century":return y.jsx(a_e,qd({formatYear:T,showNeighboringCentury:Xr},sr));case"decade":return y.jsx(u_e,qd({formatYear:T,showNeighboringDecade:ru},sr));case"year":return y.jsx(m_e,qd({formatMonth:g,formatMonthYear:v},sr));case"month":return y.jsx(E_e,qd({calendarType:s,formatDay:d,formatLongDate:p,formatShortWeekday:x,formatWeekday:S,onClickWeekNumber:Se,onMouseLeave:nt?Sr:void 0,showFixedNumberOfWeeks:typeof ji<"u"?ji:sn,showNeighboringMonth:Tt,showWeekNumbers:yn},sr));default:throw new Error("Invalid view: ".concat(At,"."))}}function vn(){return an?y.jsx(QEe,{activeStartDate:Vt,drillUp:Zr,formatMonthYear:v,formatYear:T,locale:L,maxDate:B,minDate:F,navigationAriaLabel:U,navigationAriaLive:me,navigationLabel:ve,next2AriaLabel:G,next2Label:K,nextAriaLabel:ae,nextLabel:pe,prev2AriaLabel:ze,prev2Label:Fe,prevAriaLabel:de,prevLabel:Lt,setActiveStartDate:Js,showDoubleView:sn,view:At,views:wr}):null}var gi=Array.isArray(Bt)?Bt:[Bt];return y.jsxs("div",{className:gt(hv,nt&&gi.length===1&&"".concat(hv,"--selectRange"),sn&&"".concat(hv,"--doubleView"),a),ref:D,children:[vn(),y.jsxs("div",{className:"".concat(hv,"__viewContainer"),onBlur:nt?Sr:void 0,onMouseLeave:nt?Sr:void 0,children:[Qt(),sn?Qt(!0):null]})]})}),IK=n8();function Or(t){this.content=t}Or.prototype={constructor:Or,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Or(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Or(n)},addToStart:function(t,e){return new Or([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Or(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Or(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Or.from(t),t.size?new Or(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Or.from(t),t.size?new Or(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Or.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Or.from=function(t){if(t instanceof Or)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Or(e)};function PK(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){let a=PK(i.content,s.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function RK(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let a=t.child(--i),l=e.child(--s),u=a.nodeSize;if(a==l){n-=u,r-=u;continue}if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let f=0,d=Math.min(a.text.length,l.text.length);for(;f<d&&a.text[a.text.length-f-1]==l.text[l.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let f=RK(a.content,l.content,n-1,r-1);if(f)return f}n-=u,r-=u}}class he{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let a=0,l=0;l<n;a++){let u=this.content[a],f=l+u.nodeSize;if(f>e&&r(u,i+l,s||null,a)!==!1&&u.content.size){let d=l+1;u.nodesBetween(Math.max(0,e-d),Math.min(u.content.size,n-d),r,i+d)}l=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",a=!0;return this.nodesBetween(e,n,(l,u)=>{let f=l.isText?l.text.slice(Math.max(e,u)-u,n-u):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&f||l.isTextblock)&&r&&(a?a=!1:s+=r),s+=f},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new he(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,a=0;a<n;s++){let l=this.content[s],u=a+l.nodeSize;u>e&&((a<e||u>n)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,n-a-1))),r.push(l),i+=l.nodeSize),a=u}return new he(r,i)}cutByIndex(e,n){return e==n?he.empty:e==0&&n==this.content.length?this:new he(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new he(i,s)}addToStart(e){return new he([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new he(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return PK(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return RK(this,e,n,r)}findIndex(e){if(e==0)return mv(0,e);if(e==this.size)return mv(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?mv(n+1,s):mv(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return he.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new he(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return he.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new he(n||e,r)}static from(e){if(!e)return he.empty;if(e instanceof he)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new he([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}he.empty=new he([],0);const H_={index:0,offset:0};function mv(t,e){return H_.index=t,H_.offset=e,H_}function ux(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!ux(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!ux(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Ft=class bC{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ux(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return bC.none;if(e instanceof bC)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Ft.none=[];class fx extends Error{}class _e{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=LK(this.content,e+this.openStart,n);return r&&new _e(r,this.openStart,this.openEnd)}removeBetween(e,n){return new _e(jK(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return _e.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new _e(he.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new _e(e,r,i)}}_e.empty=new _e(he.empty,0,0);function jK(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:a,offset:l}=t.findIndex(n);if(i==e||s.isText){if(l!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(jK(s.content,e-i-1,n-i-1)))}function LK(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=LK(a.content,e-s-1,n,a);return l&&t.replaceChild(i,a.copy(l))}function D_e(t,e,n){if(n.openStart>t.depth)throw new fx("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new fx("Inconsistent open depths");return VK(t,e,n,0)}function VK(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let a=VK(t,e,n,r+1);return s.copy(s.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,l=a.content;return lf(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:a,end:l}=I_e(n,t);return lf(s,zK(t,a,l,e,r))}else return lf(s,dx(t,e,r))}function BK(t,e){if(!e.type.compatibleContent(t.type))throw new fx("Cannot join "+e.type.name+" onto "+t.type.name)}function xC(t,e,n){let r=t.node(n);return BK(r,e.node(n)),r}function of(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Mm(t,e,n,r){let i=(e||t).node(n),s=0,a=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(of(t.nodeAfter,r),s++));for(let l=s;l<a;l++)of(i.child(l),r);e&&e.depth==n&&e.textOffset&&of(e.nodeBefore,r)}function lf(t,e){return t.type.checkContent(e),t.copy(e)}function zK(t,e,n,r,i){let s=t.depth>i&&xC(t,e,i+1),a=r.depth>i&&xC(n,r,i+1),l=[];return Mm(null,t,i,l),s&&a&&e.index(i)==n.index(i)?(BK(s,a),of(lf(s,zK(t,e,n,r,i+1)),l)):(s&&of(lf(s,dx(t,e,i+1)),l),Mm(e,n,i,l),a&&of(lf(a,dx(n,r,i+1)),l)),Mm(r,null,i,l),new he(l)}function dx(t,e,n){let r=[];if(Mm(null,t,n,r),t.depth>n){let i=xC(t,e,n+1);of(lf(i,dx(t,e,n+1)),r)}return Mm(e,null,n,r),new he(r)}function I_e(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(he.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class bg{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Ft.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new hx(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let a=e;;){let{index:l,offset:u}=a.content.findIndex(s),f=s-u;if(r.push(a,l,i+u),!f||(a=a.child(l),a.isText))break;s=f-1,i+=u+1}return new bg(n,r,s)}static resolveCached(e,n){let r=jB.get(e);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else jB.set(e,r=new P_e);let i=r.elts[r.i]=bg.resolve(e,n);return r.i=(r.i+1)%R_e,i}}class P_e{constructor(){this.elts=[],this.i=0}}const R_e=12,jB=new WeakMap;class hx{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const j_e=Object.create(null);class va{constructor(e,n,r,i=Ft.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||he.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&ux(this.attrs,n||e.defaultAttrs||j_e)&&Ft.sameSet(this.marks,r||Ft.none)}copy(e=null){return e==this.content?this:new va(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new va(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return _e.empty;let i=this.resolve(e),s=this.resolve(n),a=r?0:i.sharedDepth(n),l=i.start(a),f=i.node(a).content.cut(i.pos-l,s.pos-l);return new _e(f,i.depth-a,s.depth-a)}replace(e,n,r){return D_e(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return bg.resolveCached(this,e)}resolveNoCache(e){return bg.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),UK(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=he.empty,i=0,s=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,s),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let u=i;u<s;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ft.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Ft.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=he.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}}va.prototype.text=void 0;class px extends va{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):UK(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new px(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new px(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function UK(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class _f{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new L_e(e,n);if(r.next==null)return _f.empty;let i=FK(r);r.next&&r.err("Unexpected trailing text");let s=H_e($_e(i));return q_e(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(a,l){let u=a.matchFragment(e,r);if(u&&(!n||u.validEnd))return he.from(l.map(f=>f.createAndFill()));for(let f=0;f<a.next.length;f++){let{type:d,next:p}=a.next[f];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(p)==-1){i.push(p);let g=s(p,l.concat(d));if(g)return g}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let a=[];for(let l=i;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:l,next:u}=s.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||u.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return s}).join(`
`)}}_f.empty=new _f(!0);class L_e{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function FK(t){let e=[];do e.push(V_e(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function V_e(t){let e=[];do e.push(B_e(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function B_e(t){let e=F_e(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=z_e(t,e);else break;return e}function LB(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function z_e(t,e){let n=LB(t),r=n;return t.eat(",")&&(t.next!="}"?r=LB(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function U_e(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let a=n[s];a.isInGroup(e)&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function F_e(t){if(t.eat("(")){let e=FK(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=U_e(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function $_e(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(a,l,u){let f={term:u,to:l};return e[a].push(f),f}function i(a,l){a.forEach(u=>u.to=l)}function s(a,l){if(a.type=="choice")return a.exprs.reduce((u,f)=>u.concat(s(f,l)),[]);if(a.type=="seq")for(let u=0;;u++){let f=s(a.exprs[u],l);if(u==a.exprs.length-1)return f;i(f,l=n())}else if(a.type=="star"){let u=n();return r(l,u),i(s(a.expr,u),u),[r(u)]}else if(a.type=="plus"){let u=n();return i(s(a.expr,l),u),i(s(a.expr,u),u),[r(u)]}else{if(a.type=="opt")return[r(l)].concat(s(a.expr,l));if(a.type=="range"){let u=l;for(let f=0;f<a.min;f++){let d=n();i(s(a.expr,u),d),u=d}if(a.max==-1)i(s(a.expr,u),u);else for(let f=a.min;f<a.max;f++){let d=n();r(u,d),i(s(a.expr,u),d),u=d}return[r(u)]}else{if(a.type=="name")return[r(l,void 0,a.value)];throw new Error("Unknown expr type")}}}}function $K(t,e){return e-t}function VB(t,e){let n=[];return r(e),n.sort($K);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let a=0;a<s.length;a++){let{term:l,to:u}=s[a];!l&&n.indexOf(u)==-1&&r(u)}}}function H_e(t){let e=Object.create(null);return n(VB(t,0));function n(r){let i=[];r.forEach(a=>{t[a].forEach(({term:l,to:u})=>{if(!l)return;let f;for(let d=0;d<i.length;d++)i[d][0]==l&&(f=i[d][1]);VB(t,u).forEach(d=>{f||i.push([l,f=[]]),f.indexOf(d)==-1&&f.push(d)})})});let s=e[r.join(",")]=new _f(r.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let l=i[a][1].sort($K);s.next.push({type:i[a][0],next:e[l.join(",")]||n(l)})}return s}}function q_e(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,a=[];for(let l=0;l<i.next.length;l++){let{type:u,next:f}=i.next[l];a.push(u.name),s&&!(u.isText||u.hasRequiredAttrs())&&(s=!1),r.indexOf(f)==-1&&r.push(f)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function HK(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function qK(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function KK(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function WK(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new W_e(t,r,e[r]);return n}let BB=class GK{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=WK(e,r.attrs),this.defaultAttrs=HK(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==_f.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:qK(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new va(this,this.computeAttrs(e),he.from(n),Ft.setFrom(r))}createChecked(e=null,n,r){return n=he.from(n),this.checkContent(n),new va(this,this.computeAttrs(e),n,Ft.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=he.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(he.empty,!0);return s?new va(this,e,n.append(s),Ft.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){KK(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Ft.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,a)=>r[s]=new GK(s,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function K_e(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class W_e{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?K_e(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class hw{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=WK(e,i.attrs),this.excluded=null;let s=HK(this.attrs);this.instance=s?new Ft(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Ft(this,qK(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,a)=>r[s]=new hw(s,i++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){KK(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class YK{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Or.from(e.nodes),n.marks=Or.from(e.marks||{}),this.nodes=BB.compile(this.spec.nodes,this),this.marks=hw.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=_f.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?zB(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:zB(this,a.split(" "))}this.nodeFromJSON=i=>va.fromJSON(this,i),this.markFromJSON=i=>Ft.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof BB){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new px(r,r.defaultAttrs,e,Ft.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function zB(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],a=s;if(s)n.push(s);else for(let l in t.marks){let u=t.marks[l];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=u)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function G_e(t){return t.tag!=null}function Y_e(t){return t.style!=null}class Sc{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(G_e(i))this.tags.push(i);else if(Y_e(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new FB(this,n,!1);return r.addAll(e,Ft.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new FB(this,n,!0);return r.addAll(e,Ft.none,n.from,n.to),_e.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(J_e(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],l=a.style;if(!(l.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(a.getAttrs){let u=a.getAttrs(n);if(u===!1)continue;a.attrs=u||void 0}return a}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let l=n[a];if((l.priority==null?50:l.priority)<s)break}n.splice(a,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=$B(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=$B(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Sc(e,Sc.schemaRules(e)))}}const XK={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},X_e={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},QK={ol:!0,ul:!0},xg=1,wC=2,Dm=4;function UB(t,e,n){return e!=null?(e?xg:0)|(e==="full"?wC:0):t&&t.whitespace=="pre"?xg|wC:n&~Dm}class gv{constructor(e,n,r,i,s,a){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=Ft.none,this.match=s||(a&Dm?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(he.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&xg)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=he.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(he.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!XK.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class FB{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,a=UB(null,n.preserveWhitespace,0)|(r?Dm:0);i?s=new gv(i.type,i.attrs,Ft.none,!0,n.topMatch||i.type.contentMatch,a):r?s=new gv(null,null,Ft.none,!0,null,a):s=new gv(e.schema.topNodeType,null,Ft.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&wC?"full":this.localPreserveWS||(i.options&xg)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),l;QK.hasOwnProperty(a)&&this.parser.normalizeLists&&Q_e(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(u?u.ignore:X_e.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let f,d=this.needsBlock;if(XK.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),f=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let p=u&&u.skip?n:this.readStyles(e,n);p&&this.addAll(e,p),f&&this.sync(s),this.needsBlock=d}else{let f=this.readStyles(e,n);f&&this.addElementByRule(e,u,f,u.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=r.getPropertyValue(s);if(a)for(let l=void 0;;){let u=this.parser.matchStyle(s,a,this,l);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(f=>!u.clearMark(f)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)l=u;else break}}return n}addElementByRule(e,n,r,i){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let u=this.enter(a,n.attrs||null,r,n.preserveWhitespace);u&&(s=!0,r=u)}else{let u=this.parser.schema.marks[n.mark];r=r.concat(u.create(n.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u,r,!1));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u,r),this.findAround(e,u,!1)}s&&this.sync(l)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let a=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];a!=l;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let a=this.open,l=0;a>=0;a--){let u=this.nodes[a],f=u.findWrapping(e);if(f&&(!i||i.length>f.length+l)&&(i=f,s=u,!f.length))break;if(u.solid){if(r)break;l+=2}}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let a=Ft.none;for(let l of i.concat(e.marks))(s.type?s.type.allowsMarkType(l.type):HB(l.type,e.type))&&(a=l.addToSet(a));return s.content.push(e.mark(a)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let l=UB(e,s,a.options);a.options&Dm&&a.content.length==0&&(l|=Dm);let u=Ft.none;return r=r.filter(f=>(a.type?a.type.allowsMarkType(f.type):HB(f.type,e))?(u=f.addToSet(u),!1):!0),this.nodes.push(new gv(e,n,u,i,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=xg)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=(l,u)=>{for(;l>=0;l--){let f=n[l];if(f==""){if(l==n.length-1||l==0)continue;for(;u>=s;u--)if(a(l-1,u))return!0;return!1}else{let d=u>0||u==0&&i?this.nodes[u].type:r&&u>=s?r.node(u-s).type:null;if(!d||d.name!=f&&!d.isInGroup(f))return!1;u--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Q_e(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&QK.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function J_e(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function $B(t){let e={};for(let n in t)e[n]=t[n];return e}function HB(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],a=l=>{s.push(l);for(let u=0;u<l.edgeCount;u++){let{type:f,next:d}=l.edge(u);if(f==e||s.indexOf(d)<0&&a(d))return!0}};if(a(i.contentMatch))return!0}}class Uf{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=q_(n).createDocumentFragment());let i=r,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let l=0,u=0;for(;l<s.length&&u<a.marks.length;){let f=a.marks[u];if(!this.marks[f.type.name]){u++;continue}if(!f.eq(s[l][0])||f.type.spec.spanning===!1)break;l++,u++}for(;l<s.length;)i=s.pop()[1];for(;u<a.marks.length;){let f=a.marks[u++],d=this.serializeMark(f,a.isInline,n);d&&(s.push([f,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Yv(q_(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Yv(q_(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Yv(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Uf(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=qB(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return qB(e.marks)}}function qB(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function q_(t){return t.document||window.document}const KB=new WeakMap;function Z_e(t){let e=KB.get(t);return e===void 0&&KB.set(t,e=eAe(t)),e}function eAe(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Yv(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=Z_e(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let l,u=n?t.createElementNS(n,i):t.createElement(i),f=e[1],d=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){d=2;for(let p in f)if(f[p]!=null){let g=p.indexOf(" ");g>0?u.setAttributeNS(p.slice(0,g),p.slice(g+1),f[p]):p=="style"&&u.style?u.style.cssText=f[p]:u.setAttribute(p,f[p])}}for(let p=d;p<e.length;p++){let g=e[p];if(g===0){if(p<e.length-1||p>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:v,contentDOM:x}=Yv(t,g,n,r);if(u.appendChild(v),x){if(l)throw new RangeError("Multiple content holes");l=x}}}return{dom:u,contentDOM:l}}const JK=65535,ZK=Math.pow(2,16);function tAe(t,e){return t+e*ZK}function WB(t){return t&JK}function nAe(t){return(t-(t&JK))/ZK}const eW=1,tW=2,Xv=4,nW=8;class SC{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&nW)>0}get deletedBefore(){return(this.delInfo&(eW|Xv))>0}get deletedAfter(){return(this.delInfo&(tW|Xv))>0}get deletedAcross(){return(this.delInfo&Xv)>0}}class Zi{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Zi.empty)return Zi.empty}recover(e){let n=0,r=WB(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+nAe(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?i:0);if(u>e)break;let f=this.ranges[l+s],d=this.ranges[l+a],p=u+f;if(e<=p){let g=f?e==u?-1:e==p?1:n:n,v=u+i+(g<0?0:d);if(r)return v;let x=e==(n<0?u:p)?null:tAe(l/3,e-u),S=e==u?tW:e==p?eW:Xv;return(n<0?e!=u:e!=p)&&(S|=nW),new SC(v,S,x)}i+=d-f}return r?e+i:new SC(e+i,0,null)}touches(e,n){let r=0,i=WB(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?r:0);if(u>e)break;let f=this.ranges[l+s],d=u+f;if(e<=d&&l==i*3)return!0;r+=this.ranges[l+a]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],l=a-(this.inverted?s:0),u=a+(this.inverted?0:s),f=this.ranges[i+n],d=this.ranges[i+r];e(l,l+f,u,u+d),s+=d-f}}invert(){return new Zi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Zi.empty:new Zi(e<0?[0,-e,0]:[0,0,e])}}Zi.empty=new Zi([]);class wg{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new wg(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new wg;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],l=a.mapResult(e,n);if(l.recover!=null){let u=this.getMirror(s);if(u!=null&&u>s&&u<this.to){s=u,e=this._maps[u].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new SC(e,i,null)}}const K_=Object.create(null);class Yr{getMap(){return Zi.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=K_[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in K_)throw new RangeError("Duplicate use of step JSON ID "+e);return K_[e]=n,n.prototype.jsonID=e,n}}class Wn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Wn(e,null)}static fail(e){return new Wn(null,e)}static fromReplace(e,n,r,i){try{return Wn.ok(e.replace(n,r,i))}catch(s){if(s instanceof fx)return Wn.fail(s.message);throw s}}}function uM(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(uM(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return he.fromArray(r)}class dc extends Yr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new _e(uM(n.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return Wn.fromReplace(e,this.from,this.to,s)}invert(){return new ma(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new dc(n.pos,r.pos,this.mark)}merge(e){return e instanceof dc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new dc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new dc(n.from,n.to,e.markFromJSON(n.mark))}}Yr.jsonID("addMark",dc);class ma extends Yr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new _e(uM(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Wn.fromReplace(e,this.from,this.to,r)}invert(){return new dc(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ma(n.pos,r.pos,this.mark)}merge(e){return e instanceof ma&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ma(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ma(n.from,n.to,e.markFromJSON(n.mark))}}Yr.jsonID("removeMark",ma);class hc extends Yr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Wn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Wn.fromReplace(e,this.pos,this.pos+1,new _e(he.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new hc(this.pos,n.marks[i]);return new hc(this.pos,this.mark)}}return new Af(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new hc(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new hc(n.pos,e.markFromJSON(n.mark))}}Yr.jsonID("addNodeMark",hc);class Af extends Yr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Wn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Wn.fromReplace(e,this.pos,this.pos+1,new _e(he.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new hc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Af(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Af(n.pos,e.markFromJSON(n.mark))}}Yr.jsonID("removeNodeMark",Af);class ur extends Yr{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&TC(e,this.from,this.to)?Wn.fail("Structure replace would overwrite content"):Wn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Zi([this.from,this.to-this.from,this.slice.size])}invert(e){return new ur(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ur(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ur)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?_e.empty:new _e(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ur(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?_e.empty:new _e(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ur(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ur(n.from,n.to,_e.fromJSON(e,n.slice),!!n.structure)}}Yr.jsonID("replace",ur);class hr extends Yr{constructor(e,n,r,i,s,a,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=l}apply(e){if(this.structure&&(TC(e,this.from,this.gapFrom)||TC(e,this.gapTo,this.to)))return Wn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Wn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Wn.fromReplace(e,this.from,this.to,r):Wn.fail("Content does not fit in gap")}getMap(){return new Zi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new hr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new hr(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new hr(n.from,n.to,n.gapFrom,n.gapTo,_e.fromJSON(e,n.slice),n.insert,!!n.structure)}}Yr.jsonID("replaceAround",hr);function TC(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function rAe(t,e,n,r){let i=[],s=[],a,l;t.doc.nodesBetween(e,n,(u,f,d)=>{if(!u.isInline)return;let p=u.marks;if(!r.isInSet(p)&&d.type.allowsMarkType(r.type)){let g=Math.max(f,e),v=Math.min(f+u.nodeSize,n),x=r.addToSet(p);for(let S=0;S<p.length;S++)p[S].isInSet(x)||(a&&a.to==g&&a.mark.eq(p[S])?a.to=v:i.push(a=new ma(g,v,p[S])));l&&l.to==g?l.to=v:s.push(l=new dc(g,v,r))}}),i.forEach(u=>t.step(u)),s.forEach(u=>t.step(u))}function iAe(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(a,l)=>{if(!a.isInline)return;s++;let u=null;if(r instanceof hw){let f=a.marks,d;for(;d=r.isInSet(f);)(u||(u=[])).push(d),f=d.removeFromSet(f)}else r?r.isInSet(a.marks)&&(u=[r]):u=a.marks;if(u&&u.length){let f=Math.min(l+a.nodeSize,n);for(let d=0;d<u.length;d++){let p=u[d],g;for(let v=0;v<i.length;v++){let x=i[v];x.step==s-1&&p.eq(i[v].style)&&(g=x)}g?(g.to=f,g.step=s):i.push({style:p,from:Math.max(l,e),to:f,step:s})}}}),i.forEach(a=>t.step(new ma(a.from,a.to,a.style)))}function fM(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),a=[],l=e+1;for(let u=0;u<s.childCount;u++){let f=s.child(u),d=l+f.nodeSize,p=r.matchType(f.type);if(!p)a.push(new ur(l,d,_e.empty));else{r=p;for(let g=0;g<f.marks.length;g++)n.allowsMarkType(f.marks[g].type)||t.step(new ma(l,d,f.marks[g]));if(i&&f.isText&&n.whitespace!="pre"){let g,v=/\r?\n|\r/g,x;for(;g=v.exec(f.text);)x||(x=new _e(he.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),a.push(new ur(l+g.index,l+g.index+g[0].length,x))}}l=d}if(!r.validEnd){let u=r.fillBefore(he.empty,!0);t.replace(l,l,new _e(u,0,0))}for(let u=a.length-1;u>=0;u--)t.step(a[u])}function sAe(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Xh(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,a,n))return r;if(r==0||i.type.spec.isolating||!sAe(i,s,a))break}return null}function aAe(t,e,n){let{$from:r,$to:i,depth:s}=e,a=r.before(s+1),l=i.after(s+1),u=a,f=l,d=he.empty,p=0;for(let x=s,S=!1;x>n;x--)S||r.index(x)>0?(S=!0,d=he.from(r.node(x).copy(d)),p++):u--;let g=he.empty,v=0;for(let x=s,S=!1;x>n;x--)S||i.after(x+1)<i.end(x)?(S=!0,g=he.from(i.node(x).copy(g)),v++):f++;t.step(new hr(u,f,a,l,new _e(d.append(g),p,v),d.size-p,!0))}function dM(t,e,n=null,r=t){let i=oAe(t,e),s=i&&lAe(r,e);return s?i.map(GB).concat({type:e,attrs:n}).concat(s.map(GB)):null}function GB(t){return{type:t,attrs:null}}function oAe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return n.canReplaceWith(r,i,a)?s:null}function lAe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let u=(a.length?a[a.length-1]:e).contentMatch;for(let f=r;u&&f<i;f++)u=u.matchType(n.child(f).type);return!u||!u.validEnd?null:a}function cAe(t,e,n){let r=he.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let l=n[a].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=he.from(n[a].type.create(n[a].attrs,r))}let i=e.start,s=e.end;t.step(new hr(i,s,i,s,new _e(r,0,0),n.length,!0))}function uAe(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(a,l)=>{let u=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,u)&&fAe(t.doc,t.mapping.slice(s).map(l),r)){let f=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!x?f=!1:!v&&x&&(f=!0)}f===!1&&iW(t,a,l,s),fM(t,t.mapping.slice(s).map(l,1),r,void 0,f===null);let d=t.mapping.slice(s),p=d.map(l,1),g=d.map(l+a.nodeSize,1);return t.step(new hr(p,g,p+1,g-1,new _e(he.from(r.create(u,null,a.marks)),0,0),1,!0)),f===!0&&rW(t,a,l,s),!1}})}function rW(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(i.text);){let u=t.mapping.slice(r).map(n+1+s+a.index);t.replaceWith(u,u+1,e.type.schema.linebreakReplacement.create())}}})}function iW(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+s);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function fAe(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function dAe(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new hr(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new _e(he.from(a),0,0),1,!0))}function Ko(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,d=n-2;f>s;f--,d--){let p=i.node(f),g=i.index(f);if(p.type.spec.isolating)return!1;let v=p.content.cutByIndex(g,p.childCount),x=r&&r[d+1];x&&(v=v.replaceChild(0,x.type.create(x.attrs)));let S=r&&r[d]||p;if(!p.canReplace(g+1,p.childCount)||!S.type.validContent(v))return!1}let l=i.indexAfter(s),u=r&&r[0];return i.node(s).canReplaceWith(l,l,u?u.type:i.node(s+1).type)}function hAe(t,e,n=1,r){let i=t.doc.resolve(e),s=he.empty,a=he.empty;for(let l=i.depth,u=i.depth-n,f=n-1;l>u;l--,f--){s=he.from(i.node(l).copy(s));let d=r&&r[f];a=he.from(d?d.type.create(d.attrs,a):i.node(l).copy(a))}t.step(new ur(e,e,new _e(s.append(a),n,n),!0))}function eu(t,e){let n=t.resolve(e),r=n.index();return sW(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function pAe(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),a=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function sW(t,e){return!!(t&&e&&!t.isLeaf&&pAe(t,e))}function pw(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,a,l=r.index(i);if(i==r.depth?(s=r.nodeBefore,a=r.nodeAfter):n>0?(s=r.node(i+1),l++,a=r.node(i).maybeChild(l)):(s=r.node(i).maybeChild(l-1),a=r.node(i+1)),s&&!s.isTextblock&&sW(s,a)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function mAe(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),a=s.node().type;if(i&&a.inlineContent){let d=a.whitespace=="pre",p=!!a.contentMatch.matchType(i);d&&!p?r=!1:!d&&p&&(r=!0)}let l=t.steps.length;if(r===!1){let d=t.doc.resolve(e+n);iW(t,d.node(),d.before(),l)}a.inlineContent&&fM(t,e+n-1,a,s.node().contentMatchAt(s.index()),r==null);let u=t.mapping.slice(l),f=u.map(e-n);if(t.step(new ur(f,u.map(e+n,-1),_e.empty,!0)),r===!0){let d=t.doc.resolve(f);rW(t,d.node(),d.before(),t.steps.length)}return t}function gAe(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function aW(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,u=r.index(a)+(l>0?1:0),f=r.node(a),d=!1;if(s==1)d=f.canReplace(u,u,i);else{let p=f.contentMatchAt(u).findWrapping(i.firstChild.type);d=p&&f.canReplaceWith(u,u,p[0])}if(d)return l==0?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function mw(t,e,n=e,r=_e.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return oW(i,s,r)?new ur(e,n,r):new yAe(i,s,r).fit()}function oW(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class yAe{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=he.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=he.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,a=r.depth,l=i.depth;for(;a&&l&&s.childCount==1;)s=s.firstChild.content,a--,l--;let u=new _e(s,a,l);return e>-1?new hr(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new ur(r.pos,i.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=W_(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:u,match:f}=this.frontier[l],d,p=null;if(n==1&&(a?f.matchType(a.type)||(p=f.fillBefore(he.from(a),!1)):s&&u.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:p};if(n==2&&a&&(d=f.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:d};if(s&&f.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=W_(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new _e(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=W_(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new _e(dm(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new _e(dm(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let S=0;S<s.length;S++)this.openFrontierNode(s[S]);let a=this.unplaced,l=r?r.content:a.content,u=a.openStart-e,f=0,d=[],{match:p,type:g}=this.frontier[n];if(i){for(let S=0;S<i.childCount;S++)d.push(i.child(S));p=p.matchFragment(i)}let v=l.size+e-(a.content.size-a.openEnd);for(;f<l.childCount;){let S=l.child(f),T=p.matchType(S.type);if(!T)break;f++,(f>1||u==0||S.content.size)&&(p=T,d.push(lW(S.mark(g.allowedMarks(S.marks)),f==1?u:0,f==l.childCount?v:-1)))}let x=f==l.childCount;x||(v=-1),this.placed=hm(this.placed,n,he.from(d)),this.frontier[n].match=p,x&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,T=l;S<v;S++){let _=T.lastChild;this.frontier.push({type:_.type,match:_.contentMatchAt(_.childCount)}),T=_.content}this.unplaced=x?e==0?_e.empty:new _e(dm(a.content,e-1,1),e-1,v<0?a.openEnd:e-1):new _e(dm(a.content,e,f),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!G_(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=G_(e,n,i,r,s);if(a){for(let l=n-1;l>=0;l--){let{match:u,type:f}=this.frontier[l],d=G_(e,l,f,u,!0);if(!d||d.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=hm(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=hm(this.placed,this.depth,he.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(he.empty,!0);n.childCount&&(this.placed=hm(this.placed,this.frontier.length,n))}}function dm(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(dm(t.firstChild.content,e-1,n)))}function hm(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(hm(t.lastChild.content,e-1,n)))}function W_(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function lW(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,lW(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(he.empty,!0)))),t.copy(r)}function G_(t,e,n,r,i){let s=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,a);return l&&!vAe(n,s.content,a)?l:null}function vAe(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function bAe(t){return t.spec.defining||t.spec.definingForContent}function xAe(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(oW(i,s,r))return t.step(new ur(e,n,r));let a=uW(i,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let l=-(i.depth+1);a.unshift(l);for(let g=i.depth,v=i.pos-1;g>0;g--,v--){let x=i.node(g).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;a.indexOf(g)>-1?l=g:i.before(g)==v&&a.splice(1,0,-g)}let u=a.indexOf(l),f=[],d=r.openStart;for(let g=r.content,v=0;;v++){let x=g.firstChild;if(f.push(x),v==r.openStart)break;g=x.content}for(let g=d-1;g>=0;g--){let v=f[g],x=bAe(v.type);if(x&&!v.sameMarkup(i.node(Math.abs(l)-1)))d=g;else if(x||!v.type.isTextblock)break}for(let g=r.openStart;g>=0;g--){let v=(g+d+1)%(r.openStart+1),x=f[v];if(x)for(let S=0;S<a.length;S++){let T=a[(S+u)%a.length],_=!0;T<0&&(_=!1,T=-T);let C=i.node(T-1),D=i.index(T-1);if(C.canReplaceWith(D,D,x.type,x.marks))return t.replace(i.before(T),_?s.after(T):n,new _e(cW(r.content,0,r.openStart,v),v,r.openEnd))}}let p=t.steps.length;for(let g=a.length-1;g>=0&&(t.replace(e,n,r),!(t.steps.length>p));g--){let v=a[g];v<0||(e=i.before(v),n=s.after(v))}}function cW(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(cW(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(he.empty,!0))}return t}function wAe(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=gAe(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new _e(he.from(r),0,0))}function SAe(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=uW(r,i);for(let a=0;a<s.length;a++){let l=s[a],u=a==s.length-1;if(u&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(u||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function uW(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class nh extends Yr{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Wn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Wn.fromReplace(e,this.pos,this.pos+1,new _e(he.from(i),0,n.isLeaf?0:1))}getMap(){return Zi.empty}invert(e){return new nh(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new nh(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new nh(n.pos,n.attr,n.value)}}Yr.jsonID("attr",nh);class Sg extends Yr{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Wn.ok(r)}getMap(){return Zi.empty}invert(e){return new Sg(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Sg(n.attr,n.value)}}Yr.jsonID("docAttr",Sg);let Sh=class extends Error{};Sh=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Sh.prototype=Object.create(Error.prototype);Sh.prototype.constructor=Sh;Sh.prototype.name="TransformError";class fW{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new wg}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Sh(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=_e.empty){let i=mw(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new _e(he.from(r),0,0))}delete(e,n){return this.replace(e,n,_e.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return xAe(this,e,n,r),this}replaceRangeWith(e,n,r){return wAe(this,e,n,r),this}deleteRange(e,n){return SAe(this,e,n),this}lift(e,n){return aAe(this,e,n),this}join(e,n=1){return mAe(this,e,n),this}wrap(e,n){return cAe(this,e,n),this}setBlockType(e,n=e,r,i=null){return uAe(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return dAe(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new nh(e,n,r)),this}setDocAttribute(e,n){return this.step(new Sg(e,n)),this}addNodeMark(e,n){return this.step(new hc(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Ft)n.isInSet(r.marks)&&this.step(new Af(e,n));else{let i=r.marks,s,a=[];for(;s=n.isInSet(i);)a.push(new Af(e,s)),i=s.removeFromSet(i);for(let l=a.length-1;l>=0;l--)this.step(a[l])}return this}split(e,n=1,r){return hAe(this,e,n,r),this}addMark(e,n,r){return rAe(this,e,n,r),this}removeMark(e,n,r){return iAe(this,e,n,r),this}clearIncompatible(e,n,r){return fM(this,e,n,r),this}}const Y_=Object.create(null);class tt{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new TAe(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=_e.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let s=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:u,$to:f}=a[l],d=e.mapping.slice(s);e.replaceRange(d.map(u.pos),d.map(f.pos),l?_e.empty:n),l==0&&QB(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:l}=i[s],u=e.mapping.slice(r),f=u.map(a.pos),d=u.map(l.pos);s?e.deleteRange(f,d):(e.replaceRangeWith(f,d,n),QB(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new We(e):Id(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let a=n<0?Id(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Id(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new ns(e.node(0))}static atStart(e){return Id(e,e,0,0,1)||new ns(e)}static atEnd(e){return Id(e,e,e.content.size,e.childCount,-1)||new ns(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Y_[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Y_)throw new RangeError("Duplicate use of selection JSON ID "+e);return Y_[e]=n,n.prototype.jsonID=e,n}getBookmark(){return We.between(this.$anchor,this.$head).getBookmark()}}tt.prototype.visible=!0;class TAe{constructor(e,n){this.$from=e,this.$to=n}}let YB=!1;function XB(t){!YB&&!t.parent.inlineContent&&(YB=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class We extends tt{constructor(e,n=e){XB(e),XB(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return tt.near(r);let i=e.resolve(n.map(this.anchor));return new We(i.parent.inlineContent?i:r,r)}replace(e,n=_e.empty){if(super.replace(e,n),n==_e.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof We&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new gw(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new We(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=tt.findFrom(n,r,!0)||tt.findFrom(n,-r,!0);if(s)n=s.$head;else return tt.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(tt.findFrom(e,-r,!0)||tt.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new We(e,n)}}tt.jsonID("text",We);class gw{constructor(e,n){this.anchor=e,this.head=n}map(e){return new gw(e.map(this.anchor),e.map(this.head))}resolve(e){return We.between(e.resolve(this.anchor),e.resolve(this.head))}}class Le extends tt{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?tt.near(s):new Le(s)}content(){return new _e(he.from(this.node),0,0)}eq(e){return e instanceof Le&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new hM(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Le(e.resolve(n.anchor))}static create(e,n){return new Le(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Le.prototype.visible=!1;tt.jsonID("node",Le);class hM{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new gw(r,r):new hM(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Le.isSelectable(r)?new Le(n):tt.near(n)}}class ns extends tt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=_e.empty){if(n==_e.empty){e.delete(0,e.doc.content.size);let r=tt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new ns(e)}map(e){return new ns(e)}eq(e){return e instanceof ns}getBookmark(){return EAe}}tt.jsonID("all",ns);const EAe={map(){return this},resolve(t){return new ns(t)}};function Id(t,e,n,r,i,s=!1){if(e.inlineContent)return We.create(t,n);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let l=e.child(a);if(l.isAtom){if(!s&&Le.isSelectable(l))return Le.create(t,n-(i<0?l.nodeSize:0))}else{let u=Id(t,l,n+i,i<0?l.childCount:0,i,s);if(u)return u}n+=l.nodeSize*i}return null}function QB(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof ur||i instanceof hr))return;let s=t.mapping.maps[r],a;s.forEach((l,u,f,d)=>{a==null&&(a=d)}),t.setSelection(tt.near(t.doc.resolve(a),n))}const JB=1,yv=2,ZB=4;class _Ae extends fW{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|JB)&~yv,this.storedMarks=null,this}get selectionSet(){return(this.updated&JB)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=yv,this}ensureMarks(e){return Ft.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&yv)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~yv,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ft.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(tt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=ZB,this}get scrolledIntoView(){return(this.updated&ZB)>0}}function e6(t,e){return!e||!t?t:t.bind(e)}class pm{constructor(e,n,r){this.name=e,this.init=e6(n.init,r),this.apply=e6(n.apply,r)}}const AAe=[new pm("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new pm("selection",{init(t,e){return t.selection||tt.atStart(e.doc)},apply(t){return t.selection}}),new pm("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new pm("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class X_{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=AAe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new pm(r.key,r.spec.state,r))})}}class Kd{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let u=i?i[a].n:0,f=i?i[a].state:this,d=u<n.length&&l.spec.appendTransaction.call(l,u?n.slice(u):n,f,r);if(d&&r.filterTransaction(d,a)){if(d.setMeta("appendedTransaction",e),!i){i=[];for(let p=0;p<this.config.plugins.length;p++)i.push(p<a?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),s=!0}i&&(i[a]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Kd(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new _Ae(this)}static create(e){let n=new X_(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Kd(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new X_(this.schema,e.plugins),r=n.fields,i=new Kd(n);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new X_(e.schema,e.plugins),s=new Kd(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=va.fromJSON(e.schema,n.doc);else if(a.name=="selection")s.selection=tt.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let u=r[l],f=u.spec.state;if(u.key==a.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){s[a.name]=f.fromJSON.call(u,e,n[l],s);return}}s[a.name]=a.init(e,s)}}),s}}function dW(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=dW(i,e,{})),n[r]=i}return n}class Cn{constructor(e){this.spec=e,this.props={},e.props&&dW(e.props,this,this.props),this.key=e.key?e.key.key:hW("plugin")}getState(e){return e[this.key]}}const Q_=Object.create(null);function hW(t){return t in Q_?t+"$"+ ++Q_[t]:(Q_[t]=0,t+"$")}class br{constructor(e="key"){this.key=hW(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ir=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Th=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let EC=null;const Ro=function(t,e,n){let r=EC||(EC=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},kAe=function(){EC=null},kf=function(t,e,n,r){return n&&(t6(t,e,n,r,-1)||t6(t,e,n,r,1))},CAe=/^(img|br|input|textarea|hr)$/i;function t6(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:zs(t))){let a=t.parentNode;if(!a||a.nodeType!=1||gy(t)||CAe.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ir(t)+(i<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=a,e=i<0?zs(t):0}else return!1}}function zs(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function OAe(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=zs(t)}else if(t.parentNode&&!gy(t))e=Ir(t),t=t.parentNode;else return null}}function NAe(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!gy(t))e=Ir(t)+1,t=t.parentNode;else return null}}function MAe(t,e,n){for(let r=e==0,i=e==zs(t);r||i;){if(t==n)return!0;let s=Ir(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==zs(t)}}function gy(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const yw=function(t){return t.focusNode&&kf(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Vu(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function DAe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function IAe(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(zs(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(zs(r.startContainer),r.startOffset)}}}const to=typeof navigator<"u"?navigator:null,n6=typeof document<"u"?document:null,tu=to&&to.userAgent||"",_C=/Edge\/(\d+)/.exec(tu),pW=/MSIE \d/.exec(tu),AC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(tu),Mi=!!(pW||AC||_C),Tc=pW?document.documentMode:AC?+AC[1]:_C?+_C[1]:0,Hs=!Mi&&/gecko\/(\d+)/i.test(tu);Hs&&+(/Firefox\/(\d+)/.exec(tu)||[0,0])[1];const kC=!Mi&&/Chrome\/(\d+)/.exec(tu),Wr=!!kC,mW=kC?+kC[1]:0,fi=!Mi&&!!to&&/Apple Computer/.test(to.vendor),Eh=fi&&(/Mobile\/\w+/.test(tu)||!!to&&to.maxTouchPoints>2),js=Eh||(to?/Mac/.test(to.platform):!1),PAe=to?/Win/.test(to.platform):!1,Fo=/Android \d/.test(tu),yy=!!n6&&"webkitFontSmoothing"in n6.documentElement.style,RAe=yy?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function jAe(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function No(t,e){return typeof t=="number"?t:t[e]}function LAe(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function r6(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=Th(a);continue}let l=a,u=l==s.body,f=u?jAe(s):LAe(l),d=0,p=0;if(e.top<f.top+No(r,"top")?p=-(f.top-e.top+No(i,"top")):e.bottom>f.bottom-No(r,"bottom")&&(p=e.bottom-e.top>f.bottom-f.top?e.top+No(i,"top")-f.top:e.bottom-f.bottom+No(i,"bottom")),e.left<f.left+No(r,"left")?d=-(f.left-e.left+No(i,"left")):e.right>f.right-No(r,"right")&&(d=e.right-f.right+No(i,"right")),d||p)if(u)s.defaultView.scrollBy(d,p);else{let v=l.scrollLeft,x=l.scrollTop;p&&(l.scrollTop+=p),d&&(l.scrollLeft+=d);let S=l.scrollLeft-v,T=l.scrollTop-x;e={left:e.left-S,top:e.top-T,right:e.right-S,bottom:e.bottom-T}}let g=u?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(g))break;a=g=="absolute"?a.offsetParent:Th(a)}}function VAe(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let l=t.root.elementFromPoint(s,a);if(!l||l==t.dom||!t.dom.contains(l))continue;let u=l.getBoundingClientRect();if(u.top>=n-20){r=l,i=u.top;break}}return{refDOM:r,refTop:i,stack:gW(t.dom)}}function gW(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Th(r));return e}function BAe({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;yW(n,r==0?0:r-e)}function yW(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Ad=null;function zAe(t){if(t.setActive)return t.setActive();if(Ad)return t.focus(Ad);let e=gW(t);t.focus(Ad==null?{get preventScroll(){return Ad={preventScroll:!0},!0}}:void 0),Ad||(Ad=!1,yW(e,0))}function vW(t,e){let n,r=2e8,i,s=0,a=e.top,l=e.top,u,f;for(let d=t.firstChild,p=0;d;d=d.nextSibling,p++){let g;if(d.nodeType==1)g=d.getClientRects();else if(d.nodeType==3)g=Ro(d).getClientRects();else continue;for(let v=0;v<g.length;v++){let x=g[v];if(x.top<=a&&x.bottom>=l){a=Math.max(x.bottom,a),l=Math.min(x.top,l);let S=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(S<r){n=d,r=S,i=S&&n.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,d.nodeType==1&&S&&(s=p+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!u&&x.left<=e.left&&x.right>=e.left&&(u=d,f={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!n&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(s=p+1)}}return!n&&u&&(n=u,i=f,r=0),n&&n.nodeType==3?UAe(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:vW(n,i)}function UAe(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Jl(r,1);if(s.top!=s.bottom&&pM(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function pM(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function FAe(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function $Ae(t,e,n){let{node:r,offset:i}=vW(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function HAe(t,e,n,r){let i=-1;for(let s=e,a=!1;s!=t.dom;){let l=t.docView.nearestDesc(s,!0),u;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((u=l.dom.getBoundingClientRect()).width||u.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!a&&u.left>r.left||u.top>r.top?i=l.posBefore:(!a&&u.right<r.left||u.bottom<r.top)&&(i=l.posAfter),a=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function bW(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let a=t.childNodes[s];if(a.nodeType==1){let l=a.getClientRects();for(let u=0;u<l.length;u++){let f=l[u];if(pM(e,f))return bW(a,e,f)}}if((s=(s+1)%r)==i)break}return t}function qAe(t,e){let n=t.dom.ownerDocument,r,i=0,s=IAe(n,e.left,e.top);s&&({node:r,offset:i}=s);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let f=t.dom.getBoundingClientRect();if(!pM(e,f)||(a=bW(t.dom,e,f),!a))return null}if(fi)for(let f=a;r&&f;f=Th(f))f.draggable&&(r=void 0);if(a=FAe(a,e),r){if(Hs&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d=r.childNodes[i],p;d.nodeName=="IMG"&&(p=d.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&i++}let f;yy&&i&&r.nodeType==1&&(f=r.childNodes[i-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=HAe(t,r,i,e))}l==null&&(l=$Ae(t,a,e));let u=t.docView.nearestDesc(a,!0);return{pos:l,inside:u?u.posAtStart-u.border:-1}}function i6(t){return t.top<t.bottom||t.left<t.right}function Jl(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(i6(r))return r}return Array.prototype.find.call(n,i6)||t.getBoundingClientRect()}const KAe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function xW(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),a=yy||Hs;if(r.nodeType==3)if(a&&(KAe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let u=Jl(Ro(r,i,i),n);if(Hs&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=Jl(Ro(r,i-1,i-1),-1);if(f.top==u.top){let d=Jl(Ro(r,i,i+1),-1);if(d.top!=u.top)return Zp(d,d.left<f.left)}}return u}else{let u=i,f=i,d=n<0?1:-1;return n<0&&!i?(f++,d=-1):n>=0&&i==r.nodeValue.length?(u--,d=1):n<0?u--:f++,Zp(Jl(Ro(r,u,f),d),d<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==zs(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return J_(u.getBoundingClientRect(),!1)}if(s==null&&i<zs(r)){let u=r.childNodes[i];if(u.nodeType==1)return J_(u.getBoundingClientRect(),!0)}return J_(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==zs(r))){let u=r.childNodes[i-1],f=u.nodeType==3?Ro(u,zs(u)-(a?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(f)return Zp(Jl(f,1),!1)}if(s==null&&i<zs(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let f=u?u.nodeType==3?Ro(u,0,a?0:1):u.nodeType==1?u:null:null;if(f)return Zp(Jl(f,-1),!0)}return Zp(Jl(r.nodeType==3?Ro(r):r,-n),n>=0)}function Zp(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function J_(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function wW(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function WAe(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return wW(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let a=xW(t,i.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=Ro(l,0,l.nodeValue.length).getClientRects();else continue;for(let f=0;f<u.length;f++){let d=u[f];if(d.bottom>d.top+1&&(n=="up"?a.top-d.top>(d.bottom-a.top)*2:d.bottom-a.bottom>(a.bottom-d.top)*2))return!1}}return!0})}const GAe=/[\u0590-\u08ac]/;function YAe(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,l=t.domSelection();return l?!GAe.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?s:a:wW(t,e,()=>{let{focusNode:u,focusOffset:f,anchorNode:d,anchorOffset:p}=t.domSelectionRange(),g=l.caretBidiLevel;l.modify("move",n,"character");let v=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:x,focusOffset:S}=t.domSelectionRange(),T=x&&!v.contains(x.nodeType==1?x:x.parentNode)||u==x&&f==S;try{l.collapse(d,p),u&&(u!=d||f!=p)&&l.extend&&l.extend(u,f)}catch{}return g!=null&&(l.caretBidiLevel=g),T}):r.pos==r.start()||r.pos==r.end()}let s6=null,a6=null,o6=!1;function XAe(t,e,n){return s6==e&&a6==n?o6:(s6=e,a6=n,o6=n=="up"||n=="down"?WAe(t,e,n):YAe(t,e,n))}const qs=0,l6=1,Wu=2,no=3;class vy{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=qs,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,a;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Ir(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!n||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let l=i.children[a];if(l.size){i=l;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],l=s+a.size;if(l>e||a instanceof TW){i=e-s;break}s=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof SW&&s.side>=0;r--);if(n<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Ir(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Ir(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,l=0;;l++){let u=this.children[l],f=a+u.size;if(i==-1&&e<=f){let d=a+u.border;if(e>=d&&n<=f-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,d);e=a;for(let p=l;p>0;p--){let g=this.children[p-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){i=Ir(g.dom)+1;break}e-=g.size}i==-1&&(i=0)}if(i>-1&&(f>n||l==this.children.length-1)){n=f;for(let d=l+1;d<this.children.length;d++){let p=this.children[d];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){s=Ir(p.dom);break}n+=p.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=f}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),a=Math.max(e,n);for(let v=0,x=0;v<this.children.length;v++){let S=this.children[v],T=x+S.size;if(s>x&&a<T)return S.setSelection(e-x-S.border,n-x-S.border,r,i);x=T}let l=this.domFromPos(e,e?-1:1),u=n==e?l:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),d=r.domSelectionRange(),p=!1;if((Hs||fi)&&e==n){let{node:v,offset:x}=l;if(v.nodeType==3){if(p=!!(x&&v.nodeValue[x-1]==`
`),p&&x==v.nodeValue.length)for(let S=v,T;S;S=S.parentNode){if(T=S.nextSibling){T.nodeName=="BR"&&(l=u={node:T.parentNode,offset:Ir(T)+1});break}let _=S.pmViewDesc;if(_&&_.node&&_.node.isBlock)break}}else{let S=v.childNodes[x-1];p=S&&(S.nodeName=="BR"||S.contentEditable=="false")}}if(Hs&&d.focusNode&&d.focusNode!=u.node&&d.focusNode.nodeType==1){let v=d.focusNode.childNodes[d.focusOffset];v&&v.contentEditable=="false"&&(i=!0)}if(!(i||p&&fi)&&kf(l.node,l.offset,d.anchorNode,d.anchorOffset)&&kf(u.node,u.offset,d.focusNode,d.focusOffset))return;let g=!1;if((f.extend||e==n)&&!(p&&Hs)){f.collapse(l.node,l.offset);try{e!=n&&f.extend(u.node,u.offset),g=!0}catch{}}if(!g){if(e>n){let x=l;l=u,u=x}let v=document.createRange();v.setEnd(u.node,u.offset),v.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let l=r+s.border,u=a-s.border;if(e>=l&&n<=u){this.dirty=e==r||n==a?Wu:l6,e==l&&n==u&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=no:s.markDirty(e-l,n-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Wu:no}r=a}this.dirty=Wu}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Wu:l6;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class SW extends vy{constructor(e,n,r,i){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==qs&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class QAe extends vy{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Cf extends vy{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],a=s&&s(n,i,r);return(!a||!a.dom)&&(a=Uf.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Cf(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&no||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=no&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=qs){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=qs}}slice(e,n,r){let i=Cf.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;n<a&&(s=OC(s,n,a,r)),e>0&&(s=OC(s,0,e,r));for(let l=0;l<s.length;l++)s[l].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ec extends vy{constructor(e,n,r,i,s,a,l,u,f){super(e,[],s,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,s,a){let l=s.nodeViews[n.type.name],u,f=l&&l(n,s,()=>{if(!u)return a;if(u.parent)return u.parent.posBeforeChild(u)},r,i),d=f&&f.dom,p=f&&f.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:p}=Uf.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!p&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let g=d;return d=AW(d,r,n),f?u=new JAe(e,n,r,i,d,p||null,g,f,s,a+1):n.isText?new vw(e,n,r,i,d,g,s):new Ec(e,n,r,i,d,p||null,g,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>he.empty)}return e}matchesNode(e,n,r){return this.dirty==qs&&e.eq(this.node)&&mx(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,a=s&&s.pos>-1?s:null,l=s&&s.pos<0,u=new eke(this,a&&a.node,e);rke(this.node,this.innerDeco,(f,d,p)=>{f.spec.marks?u.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!p&&u.syncToMarks(d==this.node.childCount?Ft.none:this.node.child(d).marks,r,e),u.placeWidget(f,e,i)},(f,d,p,g)=>{u.syncToMarks(f.marks,r,e);let v;u.findNodeMatch(f,d,p,g)||l&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(v=u.findIndexWithChild(s.node))>-1&&u.updateNodeAt(f,d,p,v,e)||u.updateNextNode(f,d,p,e,g,i)||u.addNode(f,d,p,e,i),i+=f.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Wu)&&(a&&this.protectLocalComposition(e,a),EW(this.contentDOM,this.children,e),Eh&&ike(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof We)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=ske(this.node.content,a,r-n,i-n);return l<0?null:{node:s,pos:l,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new QAe(this,s,n,i);e.input.compositionNodes.push(a),this.children=OC(this.children,r,r+i.length,e,a)}update(e,n,r,i){return this.dirty==no||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=qs}updateOuterDeco(e){if(mx(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=_W(this.dom,this.nodeDOM,CC(this.outerDeco,this.node,n),CC(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function c6(t,e,n,r,i){AW(r,e,t);let s=new Ec(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class vw extends Ec{constructor(e,n,r,i,s,a,l){super(e,n,r,i,s,null,a,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==no||this.dirty!=qs&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=qs||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=qs,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new vw(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=no)}get domAtom(){return!1}isText(e){return this.node.text==e}}class TW extends vy{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==qs&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class JAe extends Ec{constructor(e,n,r,i,s,a,l,u,f,d){super(e,n,r,i,s,a,l,f,d),this.spec=u}update(e,n,r,i){if(this.dirty==no)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function EW(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let a=e[s],l=a.dom;if(l.parentNode==t){for(;l!=r;)r=u6(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(a instanceof Cf){let u=r?r.previousSibling:t.lastChild;EW(a.contentDOM,a.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=u6(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Im=function(t){t&&(this.nodeName=t)};Im.prototype=Object.create(null);const Gu=[new Im];function CC(t,e,n){if(t.length==0)return Gu;let r=n?Gu[0]:new Im,i=[r];for(let s=0;s<t.length;s++){let a=t[s].type.attrs;if(a){a.nodeName&&i.push(r=new Im(a.nodeName));for(let l in a){let u=a[l];u!=null&&(n&&i.length==1&&i.push(r=new Im(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+u:l=="style"?r.style=(r.style?r.style+";":"")+u:l!="nodeName"&&(r[l]=u))}}}return i}function _W(t,e,n,r){if(n==Gu&&r==Gu)return e;let i=e;for(let s=0;s<r.length;s++){let a=r[s],l=n[s];if(s){let u;l&&l.nodeName==a.nodeName&&i!=t&&(u=i.parentNode)&&u.nodeName.toLowerCase()==a.nodeName||(u=document.createElement(a.nodeName),u.pmIsDeco=!0,u.appendChild(i),l=Gu[0]),i=u}ZAe(i,l||Gu[0],a)}return i}function ZAe(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function AW(t,e,n){return _W(t,t,Gu,CC(e,n,t.nodeType!=1))}function mx(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function u6(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class eke{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=tke(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=qs,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let f=this.top.children[u];if(f.matchesMark(e[s])&&!this.isLocked(f.dom)){l=u;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let u=Cf.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))s=this.top.children.indexOf(a,this.index);else for(let l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){let f=this.top.children[l];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let a=this.top.children[i];return a.dirty==no&&a.dom==a.contentDOM&&(a.dirty=Wu),a.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,a){for(let l=this.index;l<this.top.children.length;l++){let u=this.top.children[l];if(u instanceof Ec){let f=this.preMatch.matched.get(u);if(f!=null&&f!=s)return!1;let d=u.dom,p,g=this.isLocked(d)&&!(e.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==e.text&&u.dirty!=no&&mx(n,u.outerDeco));if(!g&&u.update(e,n,r,i))return this.destroyBetween(this.index,l),u.dom!=d&&(this.changed=!0),this.index++,!0;if(!g&&(p=this.recreateWrapper(u,e,n,r,i,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=Wu,p.updateChildren(i,a+1),p.dirty=qs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!mx(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=Ec.create(this.top,n,r,i,s,a);if(l.contentDOM){l.children=e.children,e.children=[];for(let u of l.children)u.parent=l}return e.destroy(),l}addNode(e,n,r,i,s){let a=Ec.create(this.top,e,n,r,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new SW(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Cf;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof vw)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((fi||Wr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new TW(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function tke(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,a=[];e:for(;i>0;){let l;for(;;)if(r){let f=n.children[r-1];if(f instanceof Cf)n=f,r=f.children.length;else{l=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=l.node;if(u){if(u!=t.child(i-1))break;--i,s.set(l,i),a.push(l)}}return{index:i,matched:s,matches:a.reverse()}}function nke(t,e){return t.type.side-e.type.side}function rke(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let f=0;f<t.childCount;f++){let d=t.child(f);r(d,i,e.forChild(s,d),f),s+=d.nodeSize}return}let a=0,l=[],u=null;for(let f=0;;){let d,p;for(;a<i.length&&i[a].to==s;){let T=i[a++];T.widget&&(d?(p||(p=[d])).push(T):d=T)}if(d)if(p){p.sort(nke);for(let T=0;T<p.length;T++)n(p[T],f,!!u)}else n(d,f,!!u);let g,v;if(u)v=-1,g=u,u=null;else if(f<t.childCount)v=f,g=t.child(f++);else break;for(let T=0;T<l.length;T++)l[T].to<=s&&l.splice(T--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)l.push(i[a++]);let x=s+g.nodeSize;if(g.isText){let T=x;a<i.length&&i[a].from<T&&(T=i[a].from);for(let _=0;_<l.length;_++)l[_].to<T&&(T=l[_].to);T<x&&(u=g.cut(T-s),g=g.cut(0,T-s),x=T,v=-1)}else for(;a<i.length&&i[a].to<x;)a++;let S=g.isInline&&!g.isLeaf?l.filter(T=>!T.inline):l.slice();r(g,S,e.forChild(s,g),v),s=x}}function ike(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function ske(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let a=t.child(i++),l=s;if(s+=a.nodeSize,!a.isText)continue;let u=a.text;for(;i<t.childCount;){let f=t.child(i++);if(s+=f.nodeSize,!f.isText)break;u+=f.text}if(s>=n){if(s>=r&&u.slice(r-e.length-l,r-l)==e)return r-e.length;let f=l<r?u.lastIndexOf(e,r-l-1):-1;if(f>=0&&f+e.length+l>=n)return l+f;if(n==r&&u.length>=r+e.length-l&&u.slice(r-l,r-l+e.length)==e)return r}}return-1}function OC(t,e,n,r,i){let s=[];for(let a=0,l=0;a<t.length;a++){let u=t[a],f=l,d=l+=u.size;f>=n||d<=e?s.push(u):(f<e&&s.push(u.slice(0,e-f,r)),i&&(s.push(i),i=void 0),d>n&&s.push(u.slice(n-f,u.size,r)))}return s}function mM(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=r.resolve(a),u,f;if(yw(n)){for(u=a;i&&!i.node;)i=i.parent;let p=i.node;if(i&&p.isAtom&&Le.isSelectable(p)&&i.parent&&!(p.isInline&&MAe(n.focusNode,n.focusOffset,i.dom))){let g=i.posBefore;f=new Le(a==g?l:r.resolve(g))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let p=a,g=a;for(let v=0;v<n.rangeCount;v++){let x=n.getRangeAt(v);p=Math.min(p,t.docView.posFromDOM(x.startContainer,x.startOffset,1)),g=Math.max(g,t.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(p<0)return null;[u,a]=g==t.state.selection.anchor?[g,p]:[p,g],l=r.resolve(a)}else u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let d=r.resolve(u);if(!f){let p=e=="pointer"||t.state.selection.head<l.pos&&!s?1:-1;f=gM(t,d,l,p)}return f}function kW(t){return t.editable?t.hasFocus():OW(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Wo(t,e=!1){let n=t.state.selection;if(CW(t,n),!!kW(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Wr){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&kf(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)oke(t);else{let{anchor:r,head:i}=n,s,a;f6&&!(n instanceof We)&&(n.$from.parent.inlineContent||(s=d6(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=d6(t,n.to))),t.docView.setSelection(r,i,t,e),f6&&(s&&h6(s),a&&h6(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&ake(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const f6=fi||Wr&&mW<63;function d6(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(fi&&i&&i.contentEditable=="false")return Z_(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Z_(i);if(s)return Z_(s)}}function Z_(t){return t.contentEditable="true",fi&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function h6(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function ake(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!kW(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function oke(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Ir(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Mi&&Tc<=11&&(n.disabled=!0,n.disabled=!1)}function CW(t,e){if(e instanceof Le){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(p6(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else p6(t)}function p6(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function gM(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||We.between(e,n,r)}function m6(t){return t.editable&&!t.hasFocus()?!1:OW(t)}function OW(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function lke(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return kf(e.node,e.offset,n.anchorNode,n.anchorOffset)}function NC(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&tt.findFrom(s,e)}function tc(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function g6(t,e,n){let r=t.state.selection;if(r instanceof We)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return tc(t,new We(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=NC(t.state,e);return i&&i instanceof Le?tc(t,i):!1}else if(!(js&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=t.docView.descAt(l))&&!a.contentDOM?Le.isSelectable(s)?tc(t,new Le(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):yy?tc(t,new We(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Le&&r.node.isInline)return tc(t,new We(e>0?r.$to:r.$from));{let i=NC(t.state,e);return i?tc(t,i):!1}}}function gx(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Pm(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function kd(t,e){return e<0?cke(t):uke(t)}function cke(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,a=!1;for(Hs&&n.nodeType==1&&r<gx(n)&&Pm(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(Pm(l,-1))i=n,s=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(NW(n))break;{let l=n.previousSibling;for(;l&&Pm(l,-1);)i=n.parentNode,s=Ir(l),l=l.previousSibling;if(l)n=l,r=gx(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?MC(t,n,r):i&&MC(t,i,s)}function uke(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=gx(n),s,a;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(Pm(l,1))s=n,a=++r;else break}else{if(NW(n))break;{let l=n.nextSibling;for(;l&&Pm(l,1);)s=l.parentNode,a=Ir(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=gx(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&MC(t,s,a)}function NW(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function fke(t,e){for(;t&&e==t.childNodes.length&&!gy(t);)e=Ir(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function dke(t,e){for(;t&&!e&&!gy(t);)e=Ir(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function MC(t,e,n){if(e.nodeType!=3){let s,a;(a=fke(e,n))?(e=a,n=0):(s=dke(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(yw(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Wo(t)},50)}function y6(t,e){let n=t.state.doc.resolve(e);if(!(Wr||PAe)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function v6(t,e,n){let r=t.state.selection;if(r instanceof We&&!r.empty||n.indexOf("s")>-1||js&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=NC(t.state,e);if(a&&a instanceof Le)return tc(t,a)}if(!i.parent.inlineContent){let a=e<0?i:s,l=r instanceof ns?tt.near(a,e):tt.findFrom(a,e);return l?tc(t,l):!1}return!1}function b6(t,e){if(!(t.state.selection instanceof We))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=t.state.tr;return e<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),t.dispatch(a),!0}return!1}function x6(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function hke(t){if(!fi||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;x6(t,r,"true"),setTimeout(()=>x6(t,r,"false"),20)}return!1}function pke(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function mke(t,e){let n=e.keyCode,r=pke(e);if(n==8||js&&n==72&&r=="c")return b6(t,-1)||kd(t,-1);if(n==46&&!e.shiftKey||js&&n==68&&r=="c")return b6(t,1)||kd(t,1);if(n==13||n==27)return!0;if(n==37||js&&n==66&&r=="c"){let i=n==37?y6(t,t.state.selection.from)=="ltr"?-1:1:-1;return g6(t,i,r)||kd(t,i)}else if(n==39||js&&n==70&&r=="c"){let i=n==39?y6(t,t.state.selection.from)=="ltr"?1:-1:1;return g6(t,i,r)||kd(t,i)}else{if(n==38||js&&n==80&&r=="c")return v6(t,-1,r)||kd(t,-1);if(n==40||js&&n==78&&r=="c")return hke(t)||v6(t,1,r)||kd(t,1);if(r==(js?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function yM(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let v=r.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let a=t.someProp("clipboardSerializer")||Uf.fromSchema(t.state.schema),l=jW(),u=l.createElement("div");u.appendChild(a.serializeFragment(r,{document:l}));let f=u.firstChild,d,p=0;for(;f&&f.nodeType==1&&(d=RW[f.nodeName.toLowerCase()]);){for(let v=d.length-1;v>=0;v--){let x=l.createElement(d[v]);for(;u.firstChild;)x.appendChild(u.firstChild);u.appendChild(x),p++}f=u.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${s}${p?` -${p}`:""} ${JSON.stringify(n)}`);let g=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:g,slice:e}}function MW(t,e,n,r,i){let s=i.parent.type.spec.code,a,l;if(!n&&!e)return null;let u=!!e&&(r||s||!n);if(u){if(t.someProp("transformPastedText",g=>{e=g(e,s||r,t)}),s)return l=new _e(he.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",g=>{l=g(l,t,!0)}),l;let p=t.someProp("clipboardTextParser",g=>g(e,i,r,t));if(p)l=p;else{let g=i.marks(),{schema:v}=t.state,x=Uf.fromSchema(v);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let T=a.appendChild(document.createElement("p"));S&&T.appendChild(x.serializeNode(v.text(S,g)))})}}else t.someProp("transformPastedHTML",p=>{n=p(n,t)}),a=bke(n),yy&&xke(a);let f=a&&a.querySelector("[data-pm-slice]"),d=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let p=+d[3];p>0;p--){let g=a.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;a=g}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Sc.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(u||d),context:i,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!gke.test(g.parentNode.nodeName)?{ignore:!0}:null}})),d)l=wke(w6(l,+d[1],+d[2]),d[4]);else if(l=_e.maxOpen(yke(l.content,i),!0),l.openStart||l.openEnd){let p=0,g=0;for(let v=l.content.firstChild;p<l.openStart&&!v.type.spec.isolating;p++,v=v.firstChild);for(let v=l.content.lastChild;g<l.openEnd&&!v.type.spec.isolating;g++,v=v.lastChild);l=w6(l,p,g)}return t.someProp("transformPasted",p=>{l=p(l,t,u)}),l}const gke=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function yke(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,a=[];if(t.forEach(l=>{if(!a)return;let u=i.findWrapping(l.type),f;if(!u)return a=null;if(f=a.length&&s.length&&IW(u,s,l,a[a.length-1],0))a[a.length-1]=f;else{a.length&&(a[a.length-1]=PW(a[a.length-1],s.length));let d=DW(l,u);a.push(d),i=i.matchType(d.type),s=u}}),a)return he.from(a)}return t}function DW(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,he.from(t));return t}function IW(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=IW(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(he.from(DW(n,t,i+1))))}}function PW(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,PW(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(he.empty,!0);return t.copy(n.append(r))}function DC(t,e,n,r,i,s){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(s=0),i<r-1&&(l=DC(l,e,n,r,i+1,s)),i>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(he.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function w6(t,e,n){return e<t.openStart&&(t=new _e(DC(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new _e(DC(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const RW={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let S6=null;function jW(){return S6||(S6=document.implementation.createHTMLDocument("title"))}let eA=null;function vke(t){let e=window.trustedTypes;return e?(eA||(eA=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),eA.createHTML(t)):t}function bke(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=jW().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&RW[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=vke(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function xke(t){let e=t.querySelectorAll(Wr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function wke(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:a}=t;for(let l=r.length-2;l>=0;l-=2){let u=n.nodes[r[l]];if(!u||u.hasRequiredAttrs())break;i=he.from(u.create(r[l+1],i)),s++,a++}return new _e(i,s,a)}const di={},hi={},Ske={touchstart:!0,touchmove:!0};class Tke{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Eke(t){for(let e in di){let n=di[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{Ake(t,r)&&!vM(t,r)&&(t.editable||!(r.type in hi))&&n(t,r)},Ske[e]?{passive:!0}:void 0)}fi&&t.dom.addEventListener("input",()=>null),IC(t)}function pc(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function _ke(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function IC(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>vM(t,r))})}function vM(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function Ake(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function kke(t,e){!vM(t,e)&&di[e.type]&&(t.editable||!(e.type in hi))&&di[e.type](t,e)}hi.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!VW(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Fo&&Wr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Eh&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Vu(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||mke(t,n)?n.preventDefault():pc(t,"key")};hi.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};hi.keypress=(t,e)=>{let n=e;if(VW(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||js&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof We)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function bw(t){return{left:t.clientX,top:t.clientY}}function Cke(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function bM(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(t.someProp(e,l=>a>s.depth?l(t,n,s.nodeAfter,s.before(a),i,!0):l(t,n,s.node(a),s.before(a),i,!1)))return!0;return!1}function rh(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function Oke(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Le.isSelectable(r)?(rh(t,new Le(n)),!0):!1}function Nke(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Le&&(r=n.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let l=a>s.depth?s.nodeAfter:s.node(a);if(Le.isSelectable(l)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(a);break}}return i!=null?(rh(t,Le.create(t.state.doc,i)),!0):!1}function Mke(t,e,n,r,i){return bM(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?Nke(t,n):Oke(t,n))}function Dke(t,e,n,r){return bM(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function Ike(t,e,n,r){return bM(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||Pke(t,n,r)}function Pke(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(rh(t,We.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(a.inlineContent)rh(t,We.create(r,l+1,l+1+a.content.size));else if(Le.isSelectable(a))rh(t,Le.create(r,l));else continue;return!0}}function xM(t){return yx(t)}const LW=js?"metaKey":"ctrlKey";di.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=xM(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&Cke(n,t.input.lastClick)&&!n[LW]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let a=t.posAtCoords(bw(n));a&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Rke(t,a,n,!!r)):(s=="doubleClick"?Dke:Ike)(t,a.pos,a.inside,n)?n.preventDefault():pc(t,"pointer"))};class Rke{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[LW],this.allowDefault=r.shiftKey;let s,a;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),a=n.inside;else{let d=e.state.doc.resolve(n.pos);s=d.parent,a=d.depth?d.before():0}const l=i?null:r.target,u=l?e.docView.nearestDesc(l,!0):null;this.target=u&&u.nodeDOM.nodeType==1?u.nodeDOM:null;let{selection:f}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||f instanceof Le&&f.from<=a&&f.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Hs&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),pc(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Wo(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(bw(e))),this.updateAllowDefault(e),this.allowDefault||!n?pc(this.view,"pointer"):Mke(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||fi&&this.mightDrag&&!this.mightDrag.node.isAtom||Wr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(rh(this.view,tt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):pc(this.view,"pointer")}move(e){this.updateAllowDefault(e),pc(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}di.touchstart=t=>{t.input.lastTouch=Date.now(),xM(t),pc(t,"pointer")};di.touchmove=t=>{t.input.lastTouch=Date.now(),pc(t,"pointer")};di.contextmenu=t=>xM(t);function VW(t,e){return t.composing?!0:fi&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const jke=Fo?5e3:-1;hi.compositionstart=hi.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof We&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),yx(t,!0),t.markCursor=null;else if(yx(t,!e.selection.empty),Hs&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let l=t.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}t.input.composing=!0}BW(t,jke)};hi.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,BW(t,20))};function BW(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>yx(t),e))}function zW(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Vke());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Lke(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=OAe(e.focusNode,e.focusOffset),r=NAe(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function Vke(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function yx(t,e=!1){if(!(Fo&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),zW(t),e||t.docView&&t.docView.dirty){let n=mM(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Bke(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Tg=Mi&&Tc<15||Eh&&RAe<604;di.copy=hi.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Tg?null:n.clipboardData,a=r.content(),{dom:l,text:u}=yM(t,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",u)):Bke(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function zke(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Uke(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Eg(t,r.value,null,i,e):Eg(t,r.textContent,r.innerHTML,i,e)},50)}function Eg(t,e,n,r,i){let s=MW(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",u=>u(t,i,s||_e.empty)))return!0;if(!s)return!1;let a=zke(s),l=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function UW(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}hi.paste=(t,e)=>{let n=e;if(t.composing&&!Fo)return;let r=Tg?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Eg(t,UW(r),r.getData("text/html"),i,n)?n.preventDefault():Uke(t,n)};class FW{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const Fke=js?"altKey":"ctrlKey";function $W(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[Fke]}di.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(bw(n)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Le?i.to-1:i.to))){if(r&&r.mightDrag)a=Le.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let p=t.docView.nearestDesc(n.target,!0);p&&p.node.type.spec.draggable&&p!=t.docView&&(a=Le.create(t.state.doc,p.posBefore))}}let l=(a||t.state.selection).content(),{dom:u,text:f,slice:d}=yM(t,l);(!n.dataTransfer.files.length||!Wr||mW>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Tg?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",Tg||n.dataTransfer.setData("text/plain",f),t.dragging=new FW(d,$W(t,n),a)};di.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};hi.dragover=hi.dragenter=(t,e)=>e.preventDefault();hi.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(bw(n));if(!i)return;let s=t.state.doc.resolve(i.pos),a=r&&r.slice;a?t.someProp("transformPasted",x=>{a=x(a,t,!1)}):a=MW(t,UW(n.dataTransfer),Tg?null:n.dataTransfer.getData("text/html"),!1,s);let l=!!(r&&$W(t,n));if(t.someProp("handleDrop",x=>x(t,n,a||_e.empty,l))){n.preventDefault();return}if(!a)return;n.preventDefault();let u=a?aW(t.state.doc,s.pos,a):s.pos;u==null&&(u=s.pos);let f=t.state.tr;if(l){let{node:x}=r;x?x.replace(f):f.deleteSelection()}let d=f.mapping.map(u),p=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,g=f.doc;if(p?f.replaceRangeWith(d,d,a.content.firstChild):f.replaceRange(d,d,a),f.doc.eq(g))return;let v=f.doc.resolve(d);if(p&&Le.isSelectable(a.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(a.content.firstChild))f.setSelection(new Le(v));else{let x=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((S,T,_,C)=>x=C),f.setSelection(gM(t,v,f.doc.resolve(x)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))};di.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Wo(t)},20))};di.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};di.beforeinput=(t,e)=>{if(Wr&&Fo&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Vu(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in hi)di[t]=hi[t];function _g(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class vx{constructor(e,n){this.toDOM=e,this.spec=n||cf,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:a}=e.mapResult(n.from+i,this.side<0?-1:1);return a?null:new li(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof vx&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&_g(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class _c{constructor(e,n){this.attrs=e,this.spec=n||cf}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new li(s,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof _c&&_g(this.attrs,e.attrs)&&_g(this.spec,e.spec)}static is(e){return e.type instanceof _c}destroy(){}}class wM{constructor(e,n){this.attrs=e,this.spec=n||cf}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let a=e.mapResult(n.to+i,-1);return a.deleted||a.pos<=s.pos?null:new li(s.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof wM&&_g(this.attrs,e.attrs)&&_g(this.spec,e.spec)}destroy(){}}class li{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new li(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new li(e,e,new vx(n,r))}static inline(e,n,r,i){return new li(e,n,new _c(r,i))}static node(e,n,r,i){return new li(e,n,new wM(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof _c}get widget(){return this.type instanceof vx}}const Pd=[],cf={};class mn{constructor(e,n){this.local=e.length?e:Pd,this.children=n.length?n:Pd}static create(e,n){return n.length?bx(n,e,0,cf):$r}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=n&&l.to>=e&&(!s||s(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let l=this.children[a]+1;this.children[a+2].findInner(e-l,n-l,r,i+l,s)}}map(e,n,r){return this==$r||e.maps.length==0?this:this.mapInner(e,n,0,0,r||cf)}mapInner(e,n,r,i,s){let a;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(e,r,i);u&&u.type.valid(n,u)?(a||(a=[])).push(u):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?$ke(this.children,a||[],e,n,r,i,s):a?new mn(a.sort(uf),Pd):$r}add(e,n){return n.length?this==$r?mn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((l,u)=>{let f=u+r,d;if(d=qW(n,l,f)){for(i||(i=this.children.slice());s<i.length&&i[s]<u;)s+=3;i[s]==u?i[s+2]=i[s+2].addInner(l,d,f+1):i.splice(s,0,u,u+l.nodeSize,bx(d,l,f+1,cf)),s+=3}});let a=HW(s?KW(n):n,-r);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new mn(a.length?this.local.concat(a).sort(uf):this.local,i||this.children)}remove(e){return e.length==0||this==$r?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,l=r[s]+n,u=r[s+1]+n;for(let d=0,p;d<e.length;d++)(p=e[d])&&p.from>l&&p.to<u&&(e[d]=null,(a||(a=[])).push(p));if(!a)continue;r==this.children&&(r=this.children.slice());let f=r[s+2].removeInner(a,l+1);f!=$r?r[s+2]=f:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let l=0;l<i.length;l++)i[l].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new mn(i,r):$r}forChild(e,n){if(this==$r)return this;if(n.isLeaf)return mn.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let s=e+1,a=s+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<a&&u.to>s&&u.type instanceof _c){let f=Math.max(s,u.from)-s,d=Math.min(a,u.to)-s;f<d&&(i||(i=[])).push(u.copy(f,d))}}if(i){let l=new mn(i.sort(uf),Pd);return r?new cc([l,r]):l}return r||$r}eq(e){if(this==e)return!0;if(!(e instanceof mn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return SM(this.localsInner(e))}localsInner(e){if(this==$r)return Pd;if(e.inlineContent||!this.local.some(_c.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof _c||n.push(this.local[r]);return n}forEachSet(e){e(this)}}mn.empty=new mn([],[]);mn.removeOverlap=SM;const $r=mn.empty;class cc{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,cf));return cc.from(r)}forChild(e,n){if(n.isLeaf)return mn.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=$r&&(s instanceof cc?r=r.concat(s.members):r.push(s))}return cc.from(r)}eq(e){if(!(e instanceof cc)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?SM(r?n:n.sort(uf)):Pd}static from(e){switch(e.length){case 0:return $r;case 1:return e[0];default:return new cc(e.every(n=>n instanceof mn)?e:e.reduce((n,r)=>n.concat(r instanceof mn?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function $ke(t,e,n,r,i,s,a){let l=t.slice();for(let f=0,d=s;f<n.maps.length;f++){let p=0;n.maps[f].forEach((g,v,x,S)=>{let T=S-x-(v-g);for(let _=0;_<l.length;_+=3){let C=l[_+1];if(C<0||g>C+d-p)continue;let D=l[_]+d-p;v>=D?l[_+1]=g<=D?-2:-1:g>=d&&T&&(l[_]+=T,l[_+1]+=T)}p+=T}),d=n.maps[f].map(d,-1)}let u=!1;for(let f=0;f<l.length;f+=3)if(l[f+1]<0){if(l[f+1]==-2){u=!0,l[f+1]=-1;continue}let d=n.map(t[f]+s),p=d-i;if(p<0||p>=r.content.size){u=!0;continue}let g=n.map(t[f+1]+s,-1),v=g-i,{index:x,offset:S}=r.content.findIndex(p),T=r.maybeChild(x);if(T&&S==p&&S+T.nodeSize==v){let _=l[f+2].mapInner(n,T,d+1,t[f]+s+1,a);_!=$r?(l[f]=p,l[f+1]=v,l[f+2]=_):(l[f+1]=-2,u=!0)}else u=!0}if(u){let f=Hke(l,t,e,n,i,s,a),d=bx(f,r,0,a);e=d.local;for(let p=0;p<l.length;p+=3)l[p+1]<0&&(l.splice(p,3),p-=3);for(let p=0,g=0;p<d.children.length;p+=3){let v=d.children[p];for(;g<l.length&&l[g]<v;)g+=3;l.splice(g,0,d.children[p],d.children[p+1],d.children[p+2])}}return new mn(e.sort(uf),l)}function HW(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new li(i.from+e,i.to+e,i.type))}return n}function Hke(t,e,n,r,i,s,a){function l(u,f){for(let d=0;d<u.local.length;d++){let p=u.local[d].map(r,i,f);p?n.push(p):a.onRemove&&a.onRemove(u.local[d].spec)}for(let d=0;d<u.children.length;d+=3)l(u.children[d+2],u.children[d]+f+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&l(t[u+2],e[u]+s+1);return n}function qW(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,a;s<t.length;s++)(a=t[s])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),t[s]=null);return i}function KW(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function bx(t,e,n,r){let i=[],s=!1;e.forEach((l,u)=>{let f=qW(t,l,u+n);if(f){s=!0;let d=bx(f,l,n+u+1,r);d!=$r&&i.push(u,u+l.nodeSize,d)}});let a=HW(s?KW(t):t,-n).sort(uf);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(r.onRemove&&r.onRemove(a[l].spec),a.splice(l--,1));return a.length||i.length?new mn(a,i):$r}function uf(t,e){return t.from-e.from||t.to-e.to}function SM(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),T6(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),T6(e,i,r.copy(s.from,r.to)));break}}}return e}function T6(t,e,n){for(;e<t.length&&uf(n,t[e])>0;)e++;t.splice(e,0,n)}function tA(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=$r&&e.push(r)}),t.cursorWrapper&&e.push(mn.create(t.state.doc,[t.cursorWrapper.deco])),cc.from(e)}const qke={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Kke=Mi&&Tc<=11;class Wke{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Gke{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Wke,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Mi&&Tc<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Kke&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,qke)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(m6(this.view)){if(this.suppressingSelectionUpdates)return Wo(this.view);if(Mi&&Tc<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&kf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Th(s))n.add(s);for(let s=e.anchorNode;s;s=Th(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&m6(e)&&!this.ignoreSelectionChange(r),s=-1,a=-1,l=!1,u=[];if(e.editable)for(let d=0;d<n.length;d++){let p=this.registerMutation(n[d],u);p&&(s=s<0?p.from:Math.min(p.from,s),a=a<0?p.to:Math.max(p.to,a),p.typeOver&&(l=!0))}if(Hs&&u.length){let d=u.filter(p=>p.nodeName=="BR");if(d.length==2){let[p,g]=d;p.parentNode&&p.parentNode.parentNode==g.parentNode?g.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let g of d){let v=g.parentNode;v&&v.nodeName=="LI"&&(!p||Qke(e,p)!=v)&&g.remove()}}}let f=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&yw(r)&&(f=mM(e))&&f.eq(tt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Wo(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,a),Yke(e)),this.handleDOMChange(s,a,l,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Wo(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let p=e.addedNodes[d];n.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Mi&&Tc<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:p,nextSibling:g}=e.addedNodes[d];(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g)}let a=i&&i.parentNode==e.target?Ir(i)+1:0,l=r.localPosFromDOM(e.target,a,-1),u=s&&s.parentNode==e.target?Ir(s):e.target.childNodes.length,f=r.localPosFromDOM(e.target,u,1);return{from:l,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let E6=new WeakMap,_6=!1;function Yke(t){if(!E6.has(t)&&(E6.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Hs,_6)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),_6=!0}}function A6(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return kf(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function Xke(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return A6(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?A6(t,n):null}function Qke(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Jke(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:a,to:l}=t.docView.parseRange(e,n),u=t.domSelectionRange(),f,d=u.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(f=[{node:d,offset:u.anchorOffset}],yw(u)||f.push({node:u.focusNode,offset:u.focusOffset})),Wr&&t.input.lastKeyCode===8)for(let T=s;T>i;T--){let _=r.childNodes[T-1],C=_.pmViewDesc;if(_.nodeName=="BR"&&!C){s=T;break}if(!C||C.size)break}let p=t.state.doc,g=t.someProp("domParser")||Sc.fromSchema(t.state.schema),v=p.resolve(a),x=null,S=g.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:i,to:s,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:Zke,context:v});if(f&&f[0].pos!=null){let T=f[0].pos,_=f[1]&&f[1].pos;_==null&&(_=T),x={anchor:T+a,head:_+a}}return{doc:S,sel:x,from:a,to:l}}function Zke(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(fi&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||fi&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const eCe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function tCe(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let N=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,M=mM(t,N);if(M&&!t.state.selection.eq(M)){if(Wr&&Fo&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",F=>F(t,Vu(13,"Enter"))))return;let P=t.state.tr.setSelection(M);N=="pointer"?P.setMeta("pointer",!0):N=="key"&&P.scrollIntoView(),s&&P.setMeta("composition",s),t.dispatch(P)}return}let a=t.state.doc.resolve(e),l=a.sharedDepth(n);e=a.before(l+1),n=t.state.doc.resolve(n).after(l+1);let u=t.state.selection,f=Jke(t,e,n),d=t.state.doc,p=d.slice(f.from,f.to),g,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(g=t.state.selection.to,v="end"):(g=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let x=iCe(p.content,f.doc.content,f.from,g,v);if(x&&t.input.domChangeCount++,(Eh&&t.input.lastIOSEnter>Date.now()-225||Fo)&&i.some(N=>N.nodeType==1&&!eCe.test(N.nodeName))&&(!x||x.endA>=x.endB)&&t.someProp("handleKeyDown",N=>N(t,Vu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!x)if(r&&u instanceof We&&!u.empty&&u.$head.sameParent(u.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))x={start:u.from,endA:u.to,endB:u.to};else{if(f.sel){let N=k6(t,t.state.doc,f.sel);if(N&&!N.eq(t.state.selection)){let M=t.state.tr.setSelection(N);s&&M.setMeta("composition",s),t.dispatch(M)}}return}t.state.selection.from<t.state.selection.to&&x.start==x.endB&&t.state.selection instanceof We&&(x.start>t.state.selection.from&&x.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?x.start=t.state.selection.from:x.endA<t.state.selection.to&&x.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(x.endB+=t.state.selection.to-x.endA,x.endA=t.state.selection.to)),Mi&&Tc<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>f.from&&f.doc.textBetween(x.start-f.from-1,x.start-f.from+1)==" "&&(x.start--,x.endA--,x.endB--);let S=f.doc.resolveNoCache(x.start-f.from),T=f.doc.resolveNoCache(x.endB-f.from),_=d.resolve(x.start),C=S.sameParent(T)&&S.parent.inlineContent&&_.end()>=x.endA;if((Eh&&t.input.lastIOSEnter>Date.now()-225&&(!C||i.some(N=>N.nodeName=="DIV"||N.nodeName=="P"))||!C&&S.pos<f.doc.content.size&&(!S.sameParent(T)||!S.parent.inlineContent)&&S.pos<T.pos&&!/\S/.test(f.doc.textBetween(S.pos,T.pos,"","")))&&t.someProp("handleKeyDown",N=>N(t,Vu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>x.start&&rCe(d,x.start,x.endA,S,T)&&t.someProp("handleKeyDown",N=>N(t,Vu(8,"Backspace")))){Fo&&Wr&&t.domObserver.suppressSelectionUpdates();return}Wr&&x.endB==x.start&&(t.input.lastChromeDelete=Date.now()),Fo&&!C&&S.start()!=T.start()&&T.parentOffset==0&&S.depth==T.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==x.endA&&(x.endB-=2,T=f.doc.resolveNoCache(x.endB-f.from),setTimeout(()=>{t.someProp("handleKeyDown",function(N){return N(t,Vu(13,"Enter"))})},20));let D=x.start,L=x.endA,R=N=>{let M=N||t.state.tr.replace(D,L,f.doc.slice(x.start-f.from,x.endB-f.from));if(f.sel){let P=k6(t,M.doc,f.sel);P&&!(Wr&&t.composing&&P.empty&&(x.start!=x.endB||t.input.lastChromeDelete<Date.now()-100)&&(P.head==D||P.head==M.mapping.map(L)-1)||Mi&&P.empty&&P.head==D)&&M.setSelection(P)}return s&&M.setMeta("composition",s),M.scrollIntoView()},B;if(C){if(S.pos==T.pos){Mi&&Tc<=11&&S.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Wo(t),20));let N=R(t.state.tr.delete(D,L)),M=d.resolve(x.start).marksAcross(d.resolve(x.endA));M&&N.ensureMarks(M),t.dispatch(N)}else if(x.endA==x.endB&&(B=nCe(S.parent.content.cut(S.parentOffset,T.parentOffset),_.parent.content.cut(_.parentOffset,x.endA-_.start())))){let N=R(t.state.tr);B.type=="add"?N.addMark(D,L,B.mark):N.removeMark(D,L,B.mark),t.dispatch(N)}else if(S.parent.child(S.index()).isText&&S.index()==T.index()-(T.textOffset?0:1)){let N=S.parent.textBetween(S.parentOffset,T.parentOffset),M=()=>R(t.state.tr.insertText(N,D,L));t.someProp("handleTextInput",P=>P(t,D,L,N,M))||t.dispatch(M())}}else t.dispatch(R())}function k6(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:gM(t,e.resolve(n.anchor),e.resolve(n.head))}function nCe(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,a,l,u;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)s=n[d].removeFromSet(s);if(i.length==1&&s.length==0)l=i[0],a="add",u=d=>d.mark(l.addToSet(d.marks));else if(i.length==0&&s.length==1)l=s[0],a="remove",u=d=>d.mark(l.removeFromSet(d.marks));else return null;let f=[];for(let d=0;d<e.childCount;d++)f.push(u(e.child(d)));if(he.from(f).eq(t))return{mark:l,type:a}}function rCe(t,e,n,r,i){if(n-e<=i.pos-r.pos||nA(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let l=s.nodeAfter;return l!=null&&n==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=t.resolve(nA(s,!0,!0));return!a.parent.isTextblock||a.pos>n||nA(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function nA(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function iCe(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let u=Math.max(0,s-Math.min(a,l));r-=a+u-s}if(a<s&&t.size<e.size){let u=r<=s&&r>=a?s-r:0;s-=u,s&&s<e.size&&C6(e.textBetween(s-1,s+1))&&(s+=u?1:-1),l=s+(l-a),a=s}else if(l<s){let u=r<=s&&r>=l?s-r:0;s-=u,s&&s<t.size&&C6(t.textBetween(s-1,s+1))&&(s+=u?1:-1),a=s+(a-l),l=s}return{start:s,endA:a,endB:l}}function C6(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class WW{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Tke,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(I6),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=M6(this),N6(this),this.nodeViews=D6(this),this.docView=c6(this.state.doc,O6(this),tA(this),this.dom,this),this.domObserver=new Gke(this,(r,i,s,a)=>tCe(this,r,i,s,a)),this.domObserver.start(),Eke(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&IC(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(I6),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(zW(this),a=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=D6(this);aCe(v,this.nodeViews)&&(this.nodeViews=v,s=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&IC(this),this.editable=M6(this),N6(this);let u=tA(this),f=O6(this),d=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",p=s||!this.docView.matchesNode(e.doc,f,u);(p||!e.selection.eq(i.selection))&&(a=!0);let g=d=="preserve"&&a&&this.dom.style.overflowAnchor==null&&VAe(this);if(a){this.domObserver.stop();let v=p&&(Mi||Wr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&sCe(i.selection,e.selection);if(p){let x=Wr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Lke(this)),(s||!this.docView.update(e.doc,f,u,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=c6(e.doc,f,u,this.dom,this)),x&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&lke(this))?Wo(this,v):(CW(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():g&&BAe(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Le){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&r6(this,n.getBoundingClientRect(),e)}else r6(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new FW(e.slice,e.move,i<0?void 0:Le.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[e];if(l!=null&&(i=n?n(l):l))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let l=s[a].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(Mi){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&zAe(this.dom),Wo(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return qAe(this,e)}coordsAtPos(e,n=1){return xW(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return XAe(this,n||this.state,e)}pasteHTML(e,n){return Eg(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Eg(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return yM(this,e)}destroy(){this.docView&&(_ke(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],tA(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,kAe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return kke(this,e)}domSelectionRange(){let e=this.domSelection();return e?fi&&this.root.nodeType===11&&DAe(this.dom.ownerDocument)==this.dom&&Xke(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}WW.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function O6(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[li.node(0,t.state.doc.content.size,e)]}function N6(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:li.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function M6(t){return!t.someProp("editable",e=>e(t.state)===!1)}function sCe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function D6(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function aCe(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function I6(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Vc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},xx={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},oCe=typeof navigator<"u"&&/Mac/.test(navigator.platform),lCe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Pr=0;Pr<10;Pr++)Vc[48+Pr]=Vc[96+Pr]=String(Pr);for(var Pr=1;Pr<=24;Pr++)Vc[Pr+111]="F"+Pr;for(var Pr=65;Pr<=90;Pr++)Vc[Pr]=String.fromCharCode(Pr+32),xx[Pr]=String.fromCharCode(Pr);for(var rA in Vc)xx.hasOwnProperty(rA)||(xx[rA]=Vc[rA]);function cCe(t){var e=oCe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||lCe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?xx:Vc)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const uCe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),fCe=typeof navigator<"u"&&/Win/.test(navigator.platform);function dCe(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,a;for(let l=0;l<e.length-1;l++){let u=e[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))uCe?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function hCe(t){let e=Object.create(null);for(let n in t)e[dCe(n)]=t[n];return e}function iA(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function pCe(t){return new Cn({props:{handleKeyDown:GW(t)}})}function GW(t){let e=hCe(t);return function(n,r){let i=cCe(r),s,a=e[iA(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[iA(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(fCe&&r.ctrlKey&&r.altKey)&&(s=Vc[r.keyCode])&&s!=i){let l=e[iA(s,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const TM=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function YW(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const XW=(t,e,n)=>{let r=YW(t,n);if(!r)return!1;let i=EM(r);if(!i){let a=r.blockRange(),l=a&&Xh(a);return l==null?!1:(e&&e(t.tr.lift(a,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(sG(t,i,e,-1))return!0;if(r.parent.content.size==0&&(_h(s,"end")||Le.isSelectable(s)))for(let a=r.depth;;a--){let l=mw(t.doc,r.before(a),r.after(a),_e.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(_h(s,"end")?tt.findFrom(u.doc.resolve(u.mapping.map(i.pos,-1)),-1):Le.create(u.doc,i.pos-s.nodeSize)),e(u.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},mCe=(t,e,n)=>{let r=YW(t,n);if(!r)return!1;let i=EM(r);return i?QW(t,i,e):!1},gCe=(t,e,n)=>{let r=ZW(t,n);if(!r)return!1;let i=_M(r);return i?QW(t,i,e):!1};function QW(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let a=e.nodeAfter,l=a,u=e.pos+1;for(;!l.isTextblock;u++){if(l.type.spec.isolating)return!1;let d=l.firstChild;if(!d)return!1;l=d}let f=mw(t.doc,s,u,_e.empty);if(!f||f.from!=s||f instanceof ur&&f.slice.size>=u-s)return!1;if(n){let d=t.tr.step(f);d.setSelection(We.create(d.doc,s)),n(d.scrollIntoView())}return!0}function _h(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const JW=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=EM(r)}let a=s&&s.nodeBefore;return!a||!Le.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Le.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function EM(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function ZW(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const eG=(t,e,n)=>{let r=ZW(t,n);if(!r)return!1;let i=_M(r);if(!i)return!1;let s=i.nodeAfter;if(sG(t,i,e,1))return!0;if(r.parent.content.size==0&&(_h(s,"start")||Le.isSelectable(s))){let a=mw(t.doc,r.before(),r.after(),_e.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(_h(s,"start")?tt.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):Le.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},tG=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=_M(r)}let a=s&&s.nodeAfter;return!a||!Le.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Le.create(t.doc,s.pos)).scrollIntoView()),!0)};function _M(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const yCe=(t,e)=>{let n=t.selection,r=n instanceof Le,i;if(r){if(n.node.isTextblock||!eu(t.doc,n.from))return!1;i=n.from}else if(i=pw(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(Le.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},vCe=(t,e)=>{let n=t.selection,r;if(n instanceof Le){if(n.node.isTextblock||!eu(t.doc,n.to))return!1;r=n.to}else if(r=pw(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},bCe=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Xh(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},nG=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function AM(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const xCe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=AM(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let l=n.after(),u=t.tr.replaceWith(l,l,a.createAndFill());u.setSelection(tt.near(u.doc.resolve(l),1)),e(u.scrollIntoView())}return!0},rG=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof ns||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=AM(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(a,s.createAndFill());l.setSelection(We.create(l.doc,a+1)),e(l.scrollIntoView())}return!0},iG=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Ko(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Xh(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function wCe(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Le&&e.selection.node.isBlock)return!r.parentOffset||!Ko(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,l,u=!1,f=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){u=r.end(v)==r.pos+(r.depth-v),f=r.start(v)==r.pos-(r.depth-v),l=AM(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),s.unshift(u&&l?{type:l}:null),a=v;break}else{if(v==1)return!1;s.unshift(null)}let d=e.tr;(e.selection instanceof We||e.selection instanceof ns)&&d.deleteSelection();let p=d.mapping.map(r.pos),g=Ko(d.doc,p,s.length,s);if(g||(s[0]=l?{type:l}:null,g=Ko(d.doc,p,s.length,s)),!g)return!1;if(d.split(p,s.length,s),!u&&f&&r.node(a).type!=l){let v=d.mapping.map(r.before(a)),x=d.doc.resolve(v);l&&r.node(a-1).canReplaceWith(x.index(),x.index()+1,l)&&d.setNodeMarkup(d.mapping.map(r.before(a)),l)}return n&&n(d.scrollIntoView()),!0}}const SCe=wCe(),TCe=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(Le.create(t.doc,i))),!0)};function ECe(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||eu(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function sG(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,a,l,u=i.type.spec.isolating||s.type.spec.isolating;if(!u&&ECe(t,e,n))return!0;let f=!u&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(a=(l=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&l.matchType(a[0]||s.type).validEnd){if(n){let v=e.pos+s.nodeSize,x=he.empty;for(let _=a.length-1;_>=0;_--)x=he.from(a[_].create(null,x));x=he.from(i.copy(x));let S=t.tr.step(new hr(e.pos-1,v,e.pos,v,new _e(x,1,0),a.length,!0)),T=S.doc.resolve(v+2*a.length);T.nodeAfter&&T.nodeAfter.type==i.type&&eu(S.doc,T.pos)&&S.join(T.pos),n(S.scrollIntoView())}return!0}let d=s.type.spec.isolating||r>0&&u?null:tt.findFrom(e,1),p=d&&d.$from.blockRange(d.$to),g=p&&Xh(p);if(g!=null&&g>=e.depth)return n&&n(t.tr.lift(p,g).scrollIntoView()),!0;if(f&&_h(s,"start",!0)&&_h(i,"end")){let v=i,x=[];for(;x.push(v),!v.isTextblock;)v=v.lastChild;let S=s,T=1;for(;!S.isTextblock;S=S.firstChild)T++;if(v.canReplace(v.childCount,v.childCount,S.content)){if(n){let _=he.empty;for(let D=x.length-1;D>=0;D--)_=he.from(x[D].copy(_));let C=t.tr.step(new hr(e.pos-x.length,e.pos+s.nodeSize,e.pos+T,e.pos+s.nodeSize-T,new _e(_,x.length,0),0,!0));n(C.scrollIntoView())}return!0}}return!1}function aG(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(We.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const _Ce=aG(-1),ACe=aG(1);function kCe(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),l=a&&dM(a,t,e);return l?(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}function P6(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];n.doc.nodesBetween(a,l,(u,f)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(t,e)))if(u.type==t)i=!0;else{let d=n.doc.resolve(f),p=d.index();i=d.parent.canReplaceWith(p,p+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[a];s.setBlockType(l,u,t,e)}r(s.scrollIntoView())}return!0}}function kM(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}kM(TM,XW,JW);kM(TM,eG,tG);kM(nG,rG,iG,SCe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function CCe(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s);if(!a)return!1;let l=r?n.tr:null;return OCe(l,a,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}function OCe(t,e,n,r=null){let i=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let u=a.resolve(e.start-2);s=new hx(u,u,e.depth),e.endIndex<e.parent.childCount&&(e=new hx(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let l=dM(s,n,r,e);return l?(t&&NCe(t,e,l,i,n),!0):!1}function NCe(t,e,n,r,i){let s=he.empty;for(let d=n.length-1;d>=0;d--)s=he.from(n[d].type.create(n[d].attrs,s));t.step(new hr(e.start-(r?2:0),e.end,e.start,e.end,new _e(s,0,0),n.length,!0));let a=0;for(let d=0;d<n.length;d++)n[d].type==i&&(a=d+1);let l=n.length-a,u=e.start+n.length-(r?2:0),f=e.parent;for(let d=e.startIndex,p=e.endIndex,g=!0;d<p;d++,g=!1)!g&&Ko(t.doc,u,l)&&(t.split(u,l),u+=2*l),u+=f.child(d).nodeSize;return t}function MCe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?DCe(e,n,t,s):ICe(e,n,s):!0:!1}}function DCe(t,e,n,r){let i=t.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new hr(s-1,a,s,a,new _e(he.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new hx(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const l=Xh(r);if(l==null)return!1;i.lift(r,l);let u=i.doc.resolve(i.mapping.map(s,-1)-1);return eu(i.doc,u.pos)&&u.nodeBefore.type==u.nodeAfter.type&&i.join(u.pos),e(i.scrollIntoView()),!0}function ICe(t,e,n){let r=t.tr,i=n.parent;for(let v=n.end,x=n.endIndex-1,S=n.startIndex;x>S;x--)v-=i.child(x).nodeSize,r.delete(v-1,v+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,u=n.endIndex==i.childCount,f=s.node(-1),d=s.index(-1);if(!f.canReplace(d+(l?0:1),d+1,a.content.append(u?he.empty:he.from(i))))return!1;let p=s.pos,g=p+a.nodeSize;return r.step(new hr(p-(l?1:0),g+(u?1:0),p+1,g-1,new _e((l?he.empty:he.from(i.copy(he.empty))).append(u?he.empty:he.from(i.copy(he.empty))),l?0:1,u?0:1),l?0:1)),e(r.scrollIntoView()),!0}function PCe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==t);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let l=s.parent,u=l.child(a-1);if(u.type!=t)return!1;if(n){let f=u.lastChild&&u.lastChild.type==l.type,d=he.from(f?t.create():null),p=new _e(he.from(t.create(null,he.from(l.type.create(null,d)))),f?3:1,0),g=s.start,v=s.end;n(e.tr.step(new hr(g-(f?3:1),v,g,v,p,1,!0)).scrollIntoView())}return!0}}var RCe=Object.defineProperty,oG=(t,e)=>{for(var n in e)RCe(t,n,{get:e[n],enumerable:!0})};function xw(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var ww=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...f)=>{const d=l(...f)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a=[],l=!!t,u=t||i.tr,f=()=>(!l&&e&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),a.every(p=>p===!0)),d={...Object.fromEntries(Object.entries(n).map(([p,g])=>[p,(...x)=>{const S=this.buildProps(u,e),T=g(...x)(S);return a.push(T),d}])),run:f};return d}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([l,u])=>[l,(...f)=>u(...f)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a={tr:t,editor:r,view:s,state:xw({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...f)=>u(...f)(a)]))}};return a}},jCe=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}};function lG(t,e){const n=new fW(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}var cG=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&cG(r)}return t};function vv(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return cG(n)}function Ag(t,e,n){if(t instanceof va||t instanceof he)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return he.fromArray(t.map(l=>e.nodeFromJSON(l)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),Ag("",e,n)}if(i){if(n.errorOnInvalidContent){let a=!1,l="";const u=new YK({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(a=!0,l=typeof f=="string"?f:f.outerHTML,null)}]}})});if(n.slice?Sc.fromSchema(u).parseSlice(vv(t),n.parseOptions):Sc.fromSchema(u).parse(vv(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=Sc.fromSchema(e);return n.slice?s.parseSlice(vv(t),n.parseOptions).content:s.parse(vv(t),n.parseOptions)}return Ag("",e,n)}function PC(t,e,n={},r={}){return Ag(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function LCe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function VCe(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function BCe(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Sw(t){return e=>BCe(e.$from,t)}function Re(t,e,n){return t.config[e]===void 0&&t.parent?Re(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Re(t.parent,e,n):null}):t.config[e]}function CM(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=Re(e,"addExtensions",n);return r?[e,...CM(r())]:e}).flat(10)}function OM(t,e){const n=Uf.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function uG(t){return typeof t=="function"}function Ot(t,e=void 0,...n){return uG(t)?e?t.bind(e)(...n):t(...n):t}function zCe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function kg(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function fG(t){const e=[],{nodeExtensions:n,markExtensions:r}=kg(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage,extensions:i},u=Re(a,"addGlobalAttributes",l);if(!u)return;u().forEach(d=>{d.types.forEach(p=>{Object.entries(d.attributes).forEach(([g,v])=>{e.push({type:p,name:g,attribute:{...s,...v}})})})})}),i.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},u=Re(a,"addAttributes",l);if(!u)return;const f=u();Object.entries(f).forEach(([d,p])=>{const g={...s,...p};typeof g?.default=="function"&&(g.default=g.default()),g?.isRequired&&g?.default===void 0&&delete g.default,e.push({type:a.name,name:d,attribute:g})})}),e}function kn(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const l=s?String(s).split(" "):[],u=r[i]?r[i].split(" "):[],f=l.filter(d=>!u.includes(d));r[i]=[...u,...f].join(" ")}else if(i==="style"){const l=s?s.split(";").map(d=>d.trim()).filter(Boolean):[],u=r[i]?r[i].split(";").map(d=>d.trim()).filter(Boolean):[],f=new Map;u.forEach(d=>{const[p,g]=d.split(":").map(v=>v.trim());f.set(p,g)}),l.forEach(d=>{const[p,g]=d.split(":").map(v=>v.trim());f.set(p,g)}),r[i]=Array.from(f.entries()).map(([d,p])=>`${d}: ${p}`).join("; ")}else r[i]=s}),r},{})}function wx(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>kn(n,r),{})}function UCe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function R6(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(n):UCe(n.getAttribute(a.name));return l==null?s:{...s,[a.name]:l}},{});return{...r,...i}}}}function j6(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&zCe(n)?!1:n!=null))}function FCe(t,e){var n;const r=fG(t),{nodeExtensions:i,markExtensions:s}=kg(t),a=(n=i.find(f=>Re(f,"topNode")))==null?void 0:n.name,l=Object.fromEntries(i.map(f=>{const d=r.filter(_=>_.type===f.name),p={name:f.name,options:f.options,storage:f.storage,editor:e},g=t.reduce((_,C)=>{const D=Re(C,"extendNodeSchema",p);return{..._,...D?D(f):{}}},{}),v=j6({...g,content:Ot(Re(f,"content",p)),marks:Ot(Re(f,"marks",p)),group:Ot(Re(f,"group",p)),inline:Ot(Re(f,"inline",p)),atom:Ot(Re(f,"atom",p)),selectable:Ot(Re(f,"selectable",p)),draggable:Ot(Re(f,"draggable",p)),code:Ot(Re(f,"code",p)),whitespace:Ot(Re(f,"whitespace",p)),linebreakReplacement:Ot(Re(f,"linebreakReplacement",p)),defining:Ot(Re(f,"defining",p)),isolating:Ot(Re(f,"isolating",p)),attrs:Object.fromEntries(d.map(_=>{var C,D;return[_.name,{default:(C=_?.attribute)==null?void 0:C.default,validate:(D=_?.attribute)==null?void 0:D.validate}]}))}),x=Ot(Re(f,"parseHTML",p));x&&(v.parseDOM=x.map(_=>R6(_,d)));const S=Re(f,"renderHTML",p);S&&(v.toDOM=_=>S({node:_,HTMLAttributes:wx(_,d)}));const T=Re(f,"renderText",p);return T&&(v.toText=T),[f.name,v]})),u=Object.fromEntries(s.map(f=>{const d=r.filter(T=>T.type===f.name),p={name:f.name,options:f.options,storage:f.storage,editor:e},g=t.reduce((T,_)=>{const C=Re(_,"extendMarkSchema",p);return{...T,...C?C(f):{}}},{}),v=j6({...g,inclusive:Ot(Re(f,"inclusive",p)),excludes:Ot(Re(f,"excludes",p)),group:Ot(Re(f,"group",p)),spanning:Ot(Re(f,"spanning",p)),code:Ot(Re(f,"code",p)),attrs:Object.fromEntries(d.map(T=>{var _,C;return[T.name,{default:(_=T?.attribute)==null?void 0:_.default,validate:(C=T?.attribute)==null?void 0:C.validate}]}))}),x=Ot(Re(f,"parseHTML",p));x&&(v.parseDOM=x.map(T=>R6(T,d)));const S=Re(f,"renderHTML",p);return S&&(v.toDOM=T=>S({mark:T,HTMLAttributes:wx(T,d)})),[f.name,v]}));return new YK({topNode:a,nodes:l,marks:u})}function $Ce(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function NM(t){return t.sort((n,r)=>{const i=Re(n,"priority")||100,s=Re(r,"priority")||100;return i>s?-1:i<s?1:0})}function dG(t){const e=NM(CM(t)),n=$Ce(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function hG(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let l="";return t.nodesBetween(r,i,(u,f,d,p)=>{var g;u.isBlock&&f>r&&(l+=s);const v=a?.[u.type.name];if(v)return d&&(l+=v({node:u,pos:f,parent:d,index:p,range:e})),!1;u.isText&&(l+=(g=u?.text)==null?void 0:g.slice(Math.max(r,f)-f,i-f))}),l}function HCe(t,e){const n={from:0,to:t.content.size};return hG(t,n,e)}function pG(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function ml(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function mG(t,e){const n=ml(e,t.schema),{from:r,to:i,empty:s}=t.selection,a=[];s?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,u=>{a.push(...u.marks)});const l=a.find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}function Yn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function qCe(t,e){const n=Yn(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,l=>{s.push(l)});const a=s.reverse().find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function Tw(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function gG(t,e){const n=Tw(typeof e=="string"?e:e.name,t.schema);return n==="node"?qCe(t,e):n==="mark"?mG(t,e):{}}function KCe(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function WCe(t){const e=KCe(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function yG(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const a=[];if(i.ranges.length)i.forEach((l,u)=>{a.push({from:l,to:u})});else{const{from:l,to:u}=n[s];if(l===void 0||u===void 0)return;a.push({from:l,to:u})}a.forEach(({from:l,to:u})=>{const f=e.slice(s).map(l,-1),d=e.slice(s).map(u),p=e.invert().map(f,-1),g=e.invert().map(d);r.push({oldRange:{from:p,to:g},newRange:{from:f,to:d}})})}),WCe(r)}function MM(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Sx(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:MM(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function vG(t,e,n={}){return t.find(r=>r.type===e&&Sx(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function L6(t,e,n={}){return!!vG(t,e,n)}function DM(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(d=>d.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(d=>d.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!vG([...i.node.marks],e,n)))return;let a=i.index,l=t.start()+i.offset,u=a+1,f=l+i.node.nodeSize;for(;a>0&&L6([...t.parent.child(a-1).marks],e,n);)a-=1,l-=t.parent.child(a).nodeSize;for(;u<t.parent.childCount&&L6([...t.parent.child(u).marks],e,n);)f+=t.parent.child(u).nodeSize,u+=1;return{from:l,to:f}}function IM(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),a=DM(s,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(t,e,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),r}var GCe=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,a=null;for(;s>0&&a===null;){const l=i.node(s);l?.type.name===e?a=l:s-=1}return[a,s]};function sA(t,e){return e.nodes[t]||e.marks[t]||null}function Qv(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var YCe=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,a,l)=>{var u,f;const d=((f=(u=i.type.spec).toText)==null?void 0:f.call(u,{node:i,pos:s,parent:a,index:l}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?d:d.slice(0,Math.max(0,r-s))}),n};function RC(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?ml(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(p=>s?s.name===p.type.name:!0).find(p=>Sx(p.attrs,n,{strict:!1}));let a=0;const l=[];if(i.forEach(({$from:p,$to:g})=>{const v=p.pos,x=g.pos;t.doc.nodesBetween(v,x,(S,T)=>{if(!S.isText&&!S.marks.length)return;const _=Math.max(v,T),C=Math.min(x,T+S.nodeSize),D=C-_;a+=D,l.push(...S.marks.map(L=>({mark:L,from:_,to:C})))})}),a===0)return!1;const u=l.filter(p=>s?s.name===p.mark.type.name:!0).filter(p=>Sx(p.mark.attrs,n,{strict:!1})).reduce((p,g)=>p+g.to-g.from,0),f=l.filter(p=>s?p.mark.type!==s&&p.mark.type.excludes(s):!0).reduce((p,g)=>p+g.to-g.from,0);return(u>0?u+f:u)>=a}function Bc(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,a=e?Yn(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(p,g)=>{if(p.isText)return;const v=Math.max(r,g),x=Math.min(i,g+p.nodeSize);l.push({node:p,from:v,to:x})});const u=i-r,f=l.filter(p=>a?a.name===p.node.type.name:!0).filter(p=>Sx(p.node.attrs,n,{strict:!1}));return s?!!f.length:f.reduce((p,g)=>p+g.to-g.from,0)>=u}function XCe(t,e,n={}){if(!e)return Bc(t,null,n)||RC(t,null,n);const r=Tw(e,t.schema);return r==="node"?Bc(t,e,n):r==="mark"?RC(t,e,n):!1}var QCe=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=Sw(l=>l.type.name===e)(t.selection);if(!s)return!1;const a=t.doc.resolve(s.pos+1);return i.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},JCe=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function V6(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function B6(t,e){const{nodeExtensions:n}=kg(e),r=n.find(a=>a.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Ot(Re(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Ew(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(Ew(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function bG(t){return t instanceof Le}function xG(t){return t instanceof We}function Yu(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function wG(t,e=null){if(!e)return null;const n=tt.atStart(t),r=tt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?We.create(t,Yu(0,i,s),Yu(t.content.size,i,s)):We.create(t,Yu(e,i,s),Yu(e,i,s))}function ZCe(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof ur||i instanceof hr))return;const s=t.mapping.maps[r];let a=0;s.forEach((l,u,f,d)=>{a===0&&(a=d)}),t.setSelection(tt.near(t.doc.resolve(a),n))}var _w=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},e2e=(t,e)=>{if(MM(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function bv(t){var e;const{editor:n,from:r,to:i,text:s,rules:a,plugin:l}=t,{view:u}=n;if(u.composing)return!1;const f=u.state.doc.resolve(r);if(f.parent.type.spec.code||(e=f.nodeBefore||f.nodeAfter)!=null&&e.marks.find(g=>g.type.spec.code))return!1;let d=!1;const p=YCe(f)+s;return a.forEach(g=>{if(d)return;const v=e2e(p,g.find);if(!v)return;const x=u.state.tr,S=xw({state:u.state,transaction:x}),T={from:r-(v[0].length-s.length),to:i},{commands:_,chain:C,can:D}=new ww({editor:n,state:S});g.handler({state:S,range:T,match:v,commands:_,chain:C,can:D})===null||!x.steps.length||(g.undoable&&x.setMeta(l,{transform:x,from:r,to:i,text:s}),u.dispatch(x),d=!0)}),d}function t2e(t){const{editor:e,rules:n}=t,r=new Cn({state:{init(){return null},apply(i,s,a){const l=i.getMeta(r);if(l)return l;const u=i.getMeta("applyInputRules");return!!u&&setTimeout(()=>{let{text:d}=u;typeof d=="string"?d=d:d=OM(he.from(d),a.schema);const{from:p}=u,g=p+d.length;bv({editor:e,from:p,to:g,text:d,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,a,l){return bv({editor:e,from:s,to:a,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&bv({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?bv({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function n2e(t){return Object.prototype.toString.call(t).slice(8,-1)}function xv(t){return n2e(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function SG(t,e){const n={...t};return xv(t)&&xv(e)&&Object.keys(e).forEach(r=>{xv(e[r])&&xv(t[r])?n[r]=SG(t[r],e[r]):n[r]=e[r]}),n}var PM=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Ot(Re(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ot(Re(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>SG(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},gl=class TG extends PM{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new TG(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(f=>f?.type.name===n.name))return!1;const u=a.find(f=>f?.type.name===n.name);return u&&r.removeStoredMark(u),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function r2e(t){return typeof t=="number"}var i2e=class{constructor(t){this.find=t.find,this.handler=t.handler}},s2e=(t,e,n)=>{if(MM(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function a2e(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:a,dropEvent:l}=t,{commands:u,chain:f,can:d}=new ww({editor:e,state:n}),p=[];return n.doc.nodesBetween(r,i,(v,x)=>{var S,T,_,C,D;if((T=(S=v.type)==null?void 0:S.spec)!=null&&T.code||!(v.isText||v.isTextblock||v.isInline))return;const L=(D=(C=(_=v.content)==null?void 0:_.size)!=null?C:v.nodeSize)!=null?D:0,R=Math.max(r,x),B=Math.min(i,x+L);if(R>=B)return;const N=v.isText?v.text||"":v.textBetween(R-x,B-x,void 0,"");s2e(N,s.find,a).forEach(P=>{if(P.index===void 0)return;const F=R+P.index+1,V=F+P[0].length,$={from:n.tr.mapping.map(F),to:n.tr.mapping.map(V)},U=s.handler({state:n,range:$,match:P,commands:u,chain:f,can:d,pasteEvent:a,dropEvent:l});p.push(U)})}),p.every(v=>v!==null)}var wv=null,o2e=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function l2e(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const u=({state:d,from:p,to:g,rule:v,pasteEvt:x})=>{const S=d.tr,T=xw({state:d,transaction:S});if(!(!a2e({editor:e,state:T,from:Math.max(p-1,0),to:g.b-1,rule:v,pasteEvent:x,dropEvent:l})||!S.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,S}};return n.map(d=>new Cn({view(p){const g=x=>{var S;r=(S=p.dom.parentElement)!=null&&S.contains(x.target)?p.dom.parentElement:null,r&&(wv=e)},v=()=>{wv&&(wv=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(p,g)=>{if(s=r===p.dom.parentElement,l=g,!s){const v=wv;v?.isEditable&&setTimeout(()=>{const x=v.state.selection;x&&v.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(p,g)=>{var v;const x=(v=g.clipboardData)==null?void 0:v.getData("text/html");return a=g,i=!!x?.includes("data-pm-slice"),!1}}},appendTransaction:(p,g,v)=>{const x=p[0],S=x.getMeta("uiEvent")==="paste"&&!i,T=x.getMeta("uiEvent")==="drop"&&!s,_=x.getMeta("applyPasteRules"),C=!!_;if(!S&&!T&&!C)return;if(C){let{text:R}=_;typeof R=="string"?R=R:R=OM(he.from(R),v.schema);const{from:B}=_,N=B+R.length,M=o2e(R);return u({rule:d,state:v,from:B,to:{b:N},pasteEvt:M})}const D=g.doc.content.findDiffStart(v.doc.content),L=g.doc.content.findDiffEnd(v.doc.content);if(!(!r2e(D)||!L||D===L.b))return u({rule:d,state:v,from:D,to:L,pasteEvt:a})}}))}var Aw=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=dG(t),this.schema=FCe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:sA(e.name,this.schema)},r=Re(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return NM([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:sA(r.name,this.schema)},s=[],a=Re(r,"addKeyboardShortcuts",i);let l={};if(r.type==="mark"&&Re(r,"exitable",i)&&(l.ArrowRight=()=>gl.handleExit({editor:t,mark:r})),a){const g=Object.fromEntries(Object.entries(a()).map(([v,x])=>[v,()=>x({editor:t})]));l={...l,...g}}const u=pCe(l);s.push(u);const f=Re(r,"addInputRules",i);if(V6(r,t.options.enableInputRules)&&f){const g=f();if(g&&g.length){const v=t2e({editor:t,rules:g}),x=Array.isArray(v)?v:[v];s.push(...x)}}const d=Re(r,"addPasteRules",i);if(V6(r,t.options.enablePasteRules)&&d){const g=d();if(g&&g.length){const v=l2e({editor:t,rules:g});s.push(...v)}}const p=Re(r,"addProseMirrorPlugins",i);if(p){const g=p();s.push(...g)}return s})}get attributes(){return fG(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=kg(this.extensions);return Object.fromEntries(e.filter(n=>!!Re(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Yn(n.name,this.schema)},s=Re(n,"addNodeView",i);if(!s)return[];const a=(l,u,f,d,p)=>{const g=wx(l,r);return s()({node:l,view:u,getPos:f,decorations:d,innerDecorations:p,editor:t,extension:n,HTMLAttributes:g})};return[n.name,a]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=kg(this.extensions);return Object.fromEntries(e.filter(n=>!!Re(n,"addMarkView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:ml(n.name,this.schema)},s=Re(n,"addMarkView",i);if(!s)return[];const a=(l,u,f)=>{const d=wx(l,r);return s()({mark:l,view:u,inline:f,editor:t,extension:n,HTMLAttributes:d,updateAttributes:p=>{EOe(l,t,p)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:sA(e.name,this.schema)};e.type==="mark"&&((n=Ot(Re(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=Re(e,"onBeforeCreate",r),s=Re(e,"onCreate",r),a=Re(e,"onUpdate",r),l=Re(e,"onSelectionUpdate",r),u=Re(e,"onTransaction",r),f=Re(e,"onFocus",r),d=Re(e,"onBlur",r),p=Re(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),a&&this.editor.on("update",a),l&&this.editor.on("selectionUpdate",l),u&&this.editor.on("transaction",u),f&&this.editor.on("focus",f),d&&this.editor.on("blur",d),p&&this.editor.on("destroy",p)})}};Aw.resolve=dG;Aw.sort=NM;Aw.flatten=CM;var c2e={};oG(c2e,{ClipboardTextSerializer:()=>_G,Commands:()=>CG,Delete:()=>OG,Drop:()=>NG,Editable:()=>MG,FocusEvents:()=>IG,Keymap:()=>PG,Paste:()=>RG,Tabindex:()=>jG,focusEventsPluginKey:()=>DG});var Yt=class EG extends PM{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new EG(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},_G=Yt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Cn({key:new br("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,a=Math.min(...s.map(d=>d.$from.pos)),l=Math.max(...s.map(d=>d.$to.pos)),u=pG(n);return hG(r,{from:a,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:u})}}})]}}),AG={};oG(AG,{blur:()=>u2e,clearContent:()=>f2e,clearNodes:()=>d2e,command:()=>h2e,createParagraphNear:()=>p2e,cut:()=>m2e,deleteCurrentNode:()=>g2e,deleteNode:()=>y2e,deleteRange:()=>v2e,deleteSelection:()=>b2e,enter:()=>x2e,exitCode:()=>w2e,extendMarkRange:()=>S2e,first:()=>T2e,focus:()=>_2e,forEach:()=>A2e,insertContent:()=>k2e,insertContentAt:()=>O2e,joinBackward:()=>D2e,joinDown:()=>M2e,joinForward:()=>I2e,joinItemBackward:()=>P2e,joinItemForward:()=>R2e,joinTextblockBackward:()=>j2e,joinTextblockForward:()=>L2e,joinUp:()=>N2e,keyboardShortcut:()=>B2e,lift:()=>z2e,liftEmptyBlock:()=>U2e,liftListItem:()=>F2e,newlineInCode:()=>$2e,resetAttributes:()=>H2e,scrollIntoView:()=>q2e,selectAll:()=>K2e,selectNodeBackward:()=>W2e,selectNodeForward:()=>G2e,selectParentNode:()=>Y2e,selectTextblockEnd:()=>X2e,selectTextblockStart:()=>Q2e,setContent:()=>J2e,setMark:()=>eOe,setMeta:()=>tOe,setNode:()=>nOe,setNodeSelection:()=>rOe,setTextSelection:()=>iOe,sinkListItem:()=>sOe,splitBlock:()=>aOe,splitListItem:()=>oOe,toggleList:()=>lOe,toggleMark:()=>cOe,toggleNode:()=>uOe,toggleWrap:()=>fOe,undoInputRule:()=>dOe,unsetAllMarks:()=>hOe,unsetMark:()=>pOe,updateAttributes:()=>mOe,wrapIn:()=>gOe,wrapInList:()=>yOe});var u2e=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),f2e=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),d2e=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:a})=>{t.doc.nodesBetween(s.pos,a.pos,(l,u)=>{if(l.type.isText)return;const{doc:f,mapping:d}=e,p=f.resolve(d.map(u)),g=f.resolve(d.map(u+l.nodeSize)),v=p.blockRange(g);if(!v)return;const x=Xh(v);if(l.type.isTextblock){const{defaultType:S}=p.parent.contentMatchAt(p.index());e.setNodeMarkup(v.start,S)}(x||x===0)&&e.lift(v,x)})}),!0},h2e=t=>e=>t(e),p2e=()=>({state:t,dispatch:e})=>rG(t,e),m2e=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,s.content),r.setSelection(new We(r.doc.resolve(Math.max(a-1,0)))),!0},g2e=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const l=i.before(s),u=i.after(s);t.delete(l,u).scrollIntoView()}return!0}return!1},y2e=t=>({tr:e,state:n,dispatch:r})=>{const i=Yn(t,n.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(r){const u=s.before(a),f=s.after(a);e.delete(u,f).scrollIntoView()}return!0}return!1},v2e=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},b2e=()=>({state:t,dispatch:e})=>TM(t,e),x2e=()=>({commands:t})=>t.keyboardShortcut("Enter"),w2e=()=>({state:t,dispatch:e})=>xCe(t,e),S2e=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=ml(t,r.schema),{doc:a,selection:l}=n,{$from:u,from:f,to:d}=l;if(i){const p=DM(u,s,e);if(p&&p.from<=f&&p.to>=d){const g=We.create(a,p.from,p.to);n.setSelection(g)}}return!0},T2e=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function E2e(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function RM(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var _2e=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{(RM()||E2e())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!xG(n.state.selection))return a(),!0;const l=wG(i.doc,t)||n.state.selection,u=n.state.selection.eq(l);return s&&(u||i.setSelection(l),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},A2e=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),k2e=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),C2e=t=>!("type"in t),O2e=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var a;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const u=T=>{s.emit("contentError",{editor:s,error:T,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Ag(e,s.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(T){u(T)}try{l=Ag(e,s.schema,{parseOptions:f,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(T){return u(T),!1}let{from:d,to:p}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},g=!0,v=!0;if((C2e(l)?l:[l]).forEach(T=>{T.check(),g=g?T.isText&&T.marks.length===0:!1,v=v?T.isBlock:!1}),d===p&&v){const{parent:T}=r.doc.resolve(d);T.isTextblock&&!T.type.spec.code&&!T.childCount&&(d-=1,p+=1)}let S;if(g){if(Array.isArray(e))S=e.map(T=>T.text||"").join("");else if(e instanceof he){let T="";e.forEach(_=>{_.text&&(T+=_.text)}),S=T}else typeof e=="object"&&e&&e.text?S=e.text:S=e;r.insertText(S,d,p)}else{S=l;const T=r.doc.resolve(d),_=T.node(),C=T.parentOffset===0,D=_.isText||_.isTextblock,L=_.content.size>0;C&&D&&L&&(d=Math.max(0,d-1)),r.replaceWith(d,p,S)}n.updateSelection&&ZCe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:S}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:S})}return!0},N2e=()=>({state:t,dispatch:e})=>yCe(t,e),M2e=()=>({state:t,dispatch:e})=>vCe(t,e),D2e=()=>({state:t,dispatch:e})=>XW(t,e),I2e=()=>({state:t,dispatch:e})=>eG(t,e),P2e=()=>({state:t,dispatch:e,tr:n})=>{try{const r=pw(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},R2e=()=>({state:t,dispatch:e,tr:n})=>{try{const r=pw(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},j2e=()=>({state:t,dispatch:e})=>mCe(t,e),L2e=()=>({state:t,dispatch:e})=>gCe(t,e);function kG(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function V2e(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,a;for(let l=0;l<e.length-1;l+=1){const u=e[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))RM()||kG()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var B2e=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=V2e(t).split(/-(?!$)/),a=s.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,l))});return u?.steps.forEach(f=>{const d=f.map(r.mapping);d&&i&&r.maybeStep(d)}),!0},z2e=(t,e={})=>({state:n,dispatch:r})=>{const i=Yn(t,n.schema);return Bc(n,i,e)?bCe(n,r):!1},U2e=()=>({state:t,dispatch:e})=>iG(t,e),F2e=t=>({state:e,dispatch:n})=>{const r=Yn(t,e.schema);return MCe(r)(e,n)},$2e=()=>({state:t,dispatch:e})=>nG(t,e);function z6(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var H2e=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const l=Tw(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(s=Yn(t,r.schema)),l==="mark"&&(a=ml(t,r.schema)),i&&n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(f,d)=>{s&&s===f.type&&n.setNodeMarkup(d,void 0,z6(f.attrs,e)),a&&f.marks.length&&f.marks.forEach(p=>{a===p.type&&n.addMark(d,d+f.nodeSize,a.create(z6(p.attrs,e)))})})}),!0):!1},q2e=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),K2e=()=>({tr:t,dispatch:e})=>{if(e){const n=new ns(t.doc);t.setSelection(n)}return!0},W2e=()=>({state:t,dispatch:e})=>JW(t,e),G2e=()=>({state:t,dispatch:e})=>tG(t,e),Y2e=()=>({state:t,dispatch:e})=>TCe(t,e),X2e=()=>({state:t,dispatch:e})=>ACe(t,e),Q2e=()=>({state:t,dispatch:e})=>_Ce(t,e),J2e=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:a,commands:l})=>{const{doc:u}=s;if(r.preserveWhitespace!=="full"){const f=PC(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return a&&s.replaceWith(0,u.content.size,f).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:u.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function Z2e(t,e,n){var r;const{selection:i}=e;let s=null;if(xG(i)&&(s=i.$cursor),s){const l=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(f=>f.type.excludes(n)))}const{ranges:a}=i;return a.some(({$from:l,$to:u})=>{let f=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,u.pos,(d,p,g)=>{if(f)return!1;if(d.isInline){const v=!g||g.type.allowsMarkType(n),x=!!n.isInSet(d.marks)||!d.marks.some(S=>S.type.excludes(n));f=v&&x}return!f}),f})}var eOe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:a,ranges:l}=s,u=ml(t,r.schema);if(i)if(a){const f=mG(r,u);n.addStoredMark(u.create({...f,...e}))}else l.forEach(f=>{const d=f.$from.pos,p=f.$to.pos;r.doc.nodesBetween(d,p,(g,v)=>{const x=Math.max(v,d),S=Math.min(v+g.nodeSize,p);g.marks.find(_=>_.type===u)?g.marks.forEach(_=>{u===_.type&&n.addMark(x,S,u.create({..._.attrs,...e}))}):n.addMark(x,S,u.create(e))})});return Z2e(r,n,u)},tOe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),nOe=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=Yn(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:l})=>P6(s,{...a,...e})(n)?!0:l.clearNodes()).command(({state:l})=>P6(s,{...a,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},rOe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Yu(t,0,r.content.size),s=Le.create(r,i);e.setSelection(s)}return!0},iOe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,a=We.atStart(r).from,l=We.atEnd(r).to,u=Yu(i,a,l),f=Yu(s,a,l),d=We.create(r,u,f);e.setSelection(d)}return!0},sOe=t=>({state:e,dispatch:n})=>{const r=Yn(t,e.schema);return PCe(r)(e,n)};function U6(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var aOe=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:a}=e,{$from:l,$to:u}=s,f=i.extensionManager.attributes,d=Qv(f,l.node().type.name,l.node().attrs);if(s instanceof Le&&s.node.isBlock)return!l.parentOffset||!Ko(a,l.pos)?!1:(r&&(t&&U6(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const p=u.parentOffset===u.parent.content.size,g=l.depth===0?void 0:LCe(l.node(-1).contentMatchAt(l.indexAfter(-1)));let v=p&&g?[{type:g,attrs:d}]:void 0,x=Ko(e.doc,e.mapping.map(l.pos),1,v);if(!v&&!x&&Ko(e.doc,e.mapping.map(l.pos),1,g?[{type:g}]:void 0)&&(x=!0,v=g?[{type:g,attrs:d}]:void 0),r){if(x&&(s instanceof We&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,v),g&&!p&&!l.parentOffset&&l.parent.type!==g)){const S=e.mapping.map(l.before()),T=e.doc.resolve(S);l.node(-1).canReplaceWith(T.index(),T.index()+1,g)&&e.setNodeMarkup(e.mapping.map(l.before()),g)}t&&U6(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return x},oOe=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var a;const l=Yn(t,r.schema),{$from:u,$to:f}=r.selection,d=r.selection.node;if(d&&d.isBlock||u.depth<2||!u.sameParent(f))return!1;const p=u.node(-1);if(p.type!==l)return!1;const g=s.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==l||u.index(-2)!==u.node(-2).childCount-1)return!1;if(i){let _=he.empty;const C=u.index(-1)?1:u.index(-2)?2:3;for(let M=u.depth-C;M>=u.depth-3;M-=1)_=he.from(u.node(M).copy(_));const D=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,L={...Qv(g,u.node().type.name,u.node().attrs),...e},R=((a=l.contentMatch.defaultType)==null?void 0:a.createAndFill(L))||void 0;_=_.append(he.from(l.createAndFill(null,R)||void 0));const B=u.before(u.depth-(C-1));n.replace(B,u.after(-D),new _e(_,4-C,0));let N=-1;n.doc.nodesBetween(B,n.doc.content.size,(M,P)=>{if(N>-1)return!1;M.isTextblock&&M.content.size===0&&(N=P+1)}),N>-1&&n.setSelection(We.near(n.doc.resolve(N))),n.scrollIntoView()}return!0}const v=f.pos===u.end()?p.contentMatchAt(0).defaultType:null,x={...Qv(g,p.type.name,p.attrs),...e},S={...Qv(g,u.node().type.name,u.node().attrs),...e};n.delete(u.pos,f.pos);const T=v?[{type:l,attrs:x},{type:v,attrs:S}]:[{type:l,attrs:x}];if(!Ko(n.doc,u.pos,2))return!1;if(i){const{selection:_,storedMarks:C}=r,{splittableMarks:D}=s.extensionManager,L=C||_.$to.parentOffset&&_.$from.marks();if(n.split(u.pos,2,T).scrollIntoView(),!L||!i)return!0;const R=L.filter(B=>D.includes(B.type.name));n.ensureMarks(R)}return!0},aA=(t,e)=>{const n=Sw(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&eu(t.doc,n.pos)&&t.join(n.pos),!0},oA=(t,e)=>{const n=Sw(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&eu(t.doc,r)&&t.join(r),!0},lOe=(t,e,n,r={})=>({editor:i,tr:s,state:a,dispatch:l,chain:u,commands:f,can:d})=>{const{extensions:p,splittableMarks:g}=i.extensionManager,v=Yn(t,a.schema),x=Yn(e,a.schema),{selection:S,storedMarks:T}=a,{$from:_,$to:C}=S,D=_.blockRange(C),L=T||S.$to.parentOffset&&S.$from.marks();if(!D)return!1;const R=Sw(B=>B6(B.type.name,p))(S);if(D.depth>=1&&R&&D.depth-R.depth<=1){if(R.node.type===v)return f.liftListItem(x);if(B6(R.node.type.name,p)&&v.validContent(R.node.content)&&l)return u().command(()=>(s.setNodeMarkup(R.pos,v),!0)).command(()=>aA(s,v)).command(()=>oA(s,v)).run()}return!n||!L||!l?u().command(()=>d().wrapInList(v,r)?!0:f.clearNodes()).wrapInList(v,r).command(()=>aA(s,v)).command(()=>oA(s,v)).run():u().command(()=>{const B=d().wrapInList(v,r),N=L.filter(M=>g.includes(M.type.name));return s.ensureMarks(N),B?!0:f.clearNodes()}).wrapInList(v,r).command(()=>aA(s,v)).command(()=>oA(s,v)).run()},cOe=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,a=ml(t,r.schema);return RC(r,a,e)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,e)},uOe=(t,e,n={})=>({state:r,commands:i})=>{const s=Yn(t,r.schema),a=Yn(e,r.schema),l=Bc(r,s,n);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),l?i.setNode(a,u):i.setNode(s,{...u,...n})},fOe=(t,e={})=>({state:n,commands:r})=>{const i=Yn(t,n.schema);return Bc(n,i,e)?r.lift(i):r.wrapIn(i,e)},dOe=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const a=t.tr,l=s.transform;for(let u=l.steps.length-1;u>=0;u-=1)a.step(l.steps[u].invert(l.docs[u]));if(s.text){const u=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,t.schema.text(s.text,u))}else a.delete(s.from,s.to)}return!0}}return!1},hOe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},pOe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:l}=n,u=ml(t,r.schema),{$from:f,empty:d,ranges:p}=l;if(!i)return!0;if(d&&a){let{from:g,to:v}=l;const x=(s=f.marks().find(T=>T.type===u))==null?void 0:s.attrs,S=DM(f,u,x);S&&(g=S.from,v=S.to),n.removeMark(g,v,u)}else p.forEach(g=>{n.removeMark(g.$from.pos,g.$to.pos,u)});return n.removeStoredMark(u),!0},mOe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const l=Tw(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(s=Yn(t,r.schema)),l==="mark"&&(a=ml(t,r.schema)),i&&n.selection.ranges.forEach(u=>{const f=u.$from.pos,d=u.$to.pos;let p,g,v,x;n.selection.empty?r.doc.nodesBetween(f,d,(S,T)=>{s&&s===S.type&&(v=Math.max(T,f),x=Math.min(T+S.nodeSize,d),p=T,g=S)}):r.doc.nodesBetween(f,d,(S,T)=>{T<f&&s&&s===S.type&&(v=Math.max(T,f),x=Math.min(T+S.nodeSize,d),p=T,g=S),T>=f&&T<=d&&(s&&s===S.type&&n.setNodeMarkup(T,void 0,{...S.attrs,...e}),a&&S.marks.length&&S.marks.forEach(_=>{if(a===_.type){const C=Math.max(T,f),D=Math.min(T+S.nodeSize,d);n.addMark(C,D,a.create({..._.attrs,...e}))}}))}),g&&(p!==void 0&&n.setNodeMarkup(p,void 0,{...g.attrs,...e}),a&&g.marks.length&&g.marks.forEach(S=>{a===S.type&&n.addMark(v,x,a.create({...S.attrs,...e}))}))}),!0):!1},gOe=(t,e={})=>({state:n,dispatch:r})=>{const i=Yn(t,n.schema);return kCe(i,e)(n,r)},yOe=(t,e={})=>({state:n,dispatch:r})=>{const i=Yn(t,n.schema);return CCe(i,e)(n,r)},CG=Yt.create({name:"commands",addCommands(){return{...AG}}}),OG=Yt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var a,l,u,f;if((f=(u=(l=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:l.filterTransaction)==null?void 0:u.call(l,t))!=null?f:t.getMeta("y-sync$"))return;const d=lG(t.before,[t,...e]);yG(d).forEach(v=>{d.mapping.mapResult(v.oldRange.from).deletedAfter&&d.mapping.mapResult(v.oldRange.to).deletedBefore&&d.before.nodesBetween(v.oldRange.from,v.oldRange.to,(x,S)=>{const T=S+x.nodeSize-2,_=v.oldRange.from<=S&&T<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:x,from:S,to:T,newFrom:d.mapping.map(S),newTo:d.mapping.map(T),deletedRange:v.oldRange,newRange:v.newRange,partial:!_,editor:this.editor,transaction:t,combinedTransform:d})})});const g=d.mapping;d.steps.forEach((v,x)=>{var S,T;if(v instanceof ma){const _=g.slice(x).map(v.from,-1),C=g.slice(x).map(v.to),D=g.invert().map(_,-1),L=g.invert().map(C),R=(S=d.doc.nodeAt(_-1))==null?void 0:S.marks.some(N=>N.eq(v.mark)),B=(T=d.doc.nodeAt(C))==null?void 0:T.marks.some(N=>N.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:D,to:L},newRange:{from:_,to:C},partial:!!(B||R),editor:this.editor,transaction:t,combinedTransform:d})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),NG=Yt.create({name:"drop",addProseMirrorPlugins(){return[new Cn({key:new br("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),MG=Yt.create({name:"editable",addProseMirrorPlugins(){return[new Cn({key:new br("editable"),props:{editable:()=>this.editor.options.editable}})]}}),DG=new br("focusEvents"),IG=Yt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Cn({key:DG,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),PG=Yt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:l})=>{const{selection:u,doc:f}=l,{empty:d,$anchor:p}=u,{pos:g,parent:v}=p,x=p.parent.isTextblock&&g>0?l.doc.resolve(g-1):p,S=x.parent.type.spec.isolating,T=p.pos-p.parentOffset,_=S&&x.parent.childCount===1?T===p.pos:tt.atStart(f).from===g;return!d||!v.type.isTextblock||v.textContent.length||!_||_&&p.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return RM()||kG()?s:i},addProseMirrorPlugins(){return[new Cn({key:new br("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(S=>S.getMeta("composition")))return;const r=t.some(S=>S.docChanged)&&!e.doc.eq(n.doc),i=t.some(S=>S.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:a,to:l}=e.selection,u=tt.atStart(e.doc).from,f=tt.atEnd(e.doc).to;if(s||!(a===u&&l===f)||!Ew(n.doc))return;const g=n.tr,v=xw({state:n,transaction:g}),{commands:x}=new ww({editor:this.editor,state:v});if(x.clearNodes(),!!g.steps.length)return g}})]}}),RG=Yt.create({name:"paste",addProseMirrorPlugins(){return[new Cn({key:new br("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),jG=Yt.create({name:"tabindex",addProseMirrorPlugins(){return[new Cn({key:new br("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),vOe=class Rd{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Rd(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Rd(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Rd(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,a=this.pos+r+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(a);if(!i&&l.depth<=this.depth)return;const u=new Rd(l,this.editor,i,i?n:null);i&&(u.actualDepth=this.depth+1),e.push(new Rd(l,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,a=Object.keys(n);for(let l=0;l<a.length;l+=1){const u=a[l];if(s[u]!==n[u])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===e&&s.every(u=>n[u]===a.node.attrs[u])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},bOe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function xOe(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var wOe=class extends jCe{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=wG(e,this.options.autofocus);this.editorState=Kd.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=xOe(bOe,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=uG(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(a=>!a.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[MG,_G.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),CG,IG,PG,jG,NG,RG,OG].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new Aw(r,this)}createCommandManager(){this.commandManager=new ww({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=PC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=PC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new WW(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(f=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(f)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(f=>f.getMeta("focus")||f.getMeta("blur")),l=a?.getMeta("focus"),u=a?.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:a}),u&&this.emit("blur",{editor:this,event:u.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(f=>f.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return gG(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return XCe(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return OM(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return HCe(this.state.doc,{blockSeparator:e,textSerializers:{...pG(this.schema),...n}})}get isEmpty(){return Ew(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new vOe(e,this)}get $doc(){return this.$pos(0)}};function Of(t){return new _w({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Ot(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];if(a){const u=l.search(/\S/),f=n.from+l.indexOf(a),d=f+a.length;if(IM(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(S=>S===t.type&&S!==v.mark.type)).filter(v=>v.to>f).length)return null;d<n.to&&s.delete(d,n.to),f>n.from&&s.delete(n.from+u,f);const g=n.from+u+a.length;s.addMark(n.from+u,g,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function SOe(t){return new _w({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Ot(t.getAttributes,void 0,r)||{},{tr:s}=e,a=n.from;let l=n.to;const u=t.type.create(i);if(r[1]){const f=r[0].lastIndexOf(r[1]);let d=a+f;d>l?d=l:l=d+r[1].length;const p=r[0][r[0].length-1];s.insertText(p,a+r[0].length-1),s.replaceWith(d,l,u)}else if(r[0]){const f=t.type.isInline?a:a-1;s.insert(f,t.type.create(i)).delete(s.mapping.map(a),s.mapping.map(l))}s.scrollIntoView()},undoable:t.undoable})}function jC(t){return new _w({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=Ot(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function Ah(t){return new _w({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=Ot(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),u=a.doc.resolve(n.from).blockRange(),f=u&&dM(u,t.type,s);if(!f)return null;if(a.wrap(u,f),t.keepMarks&&t.editor){const{selection:p,storedMarks:g}=e,{splittableMarks:v}=t.editor.extensionManager,x=g||p.$to.parentOffset&&p.$from.marks();if(x){const S=x.filter(T=>v.includes(T.type.name));a.ensureMarks(S)}}if(t.keepAttributes){const p=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(p,s).run()}const d=a.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&eu(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,d))&&a.join(n.from-1)},undoable:t.undoable})}function TOe(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Le){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}function EOe(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,a=t;i.descendants((l,u)=>{const f=s.mapping.map(u),d=s.mapping.map(u)+l.nodeSize;let p=null;if(l.marks.forEach(v=>{if(v!==a)return!1;p=v}),!p)return;let g=!1;if(Object.keys(n).forEach(v=>{n[v]!==p.attrs[v]&&(g=!0)}),g){const v=t.type.create({...t.attrs,...n});s.removeMark(f,d,t.type),s.addMark(f,d,v)}}),s.docChanged&&e.view.dispatch(s)}var cs=class LG extends PM{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new LG(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function zc(t){return new i2e({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=Ot(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:a}=e,l=r[r.length-1],u=r[0];let f=n.to;if(l){const d=u.search(/\S/),p=n.from+u.indexOf(l),g=p+l.length;if(IM(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(T=>T===t.type&&T!==x.mark.type)).filter(x=>x.to>p).length)return null;g<n.to&&a.delete(g,n.to),p>n.from&&a.delete(n.from+d,p),f=n.from+d+l.length,a.addMark(n.from+d,f,t.type.create(s||{})),a.removeStoredMark(t.type)}}})}var lA,F6;function _Oe(){return F6||(F6=1,lA=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!(a==="_owner"&&e.$$typeof)&&!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),lA}var AOe=_Oe();const kOe=Ta(AOe);var COe=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},OOe=({contentComponent:t})=>{const e=IK.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return y.jsx(y.Fragment,{children:Object.values(e)})};function NOe(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:zce.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var MOe=class extends Di.Component{constructor(t){var e;super(t),this.editorContentRef=Di.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=NOe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:COe(e,this.editorContentRef),...n}),t?.contentComponent&&y.jsx(OOe,{contentComponent:t.contentComponent})]})}},DOe=A.forwardRef((t,e)=>{const n=Di.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Di.createElement(MOe,{key:n,innerRef:e,...t})}),IOe=Di.memo(DOe),POe=typeof window<"u"?A.useLayoutEffect:A.useEffect,ROe=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function jOe(t){var e;const[n]=A.useState(()=>new ROe(t.editor)),r=r8.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:kOe);return POe(()=>n.watch(t.editor),[t.editor,n]),A.useDebugValue(r),r}var LOe=!1,LC=typeof window>"u",VOe=LC||!!(typeof window<"u"&&window.next),BOe=class VG{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?LC||VOe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new wOe(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var a;return i===((a=n.extensions)==null?void 0:a[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?VG.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function zOe(t={},e=[]){const n=A.useRef(t);n.current=t;const[r]=A.useState(()=>new BOe(n)),i=IK.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return A.useDebugValue(i),A.useEffect(r.onRender(e)),jOe({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var UOe=A.createContext({editor:null});UOe.Consumer;var FOe=A.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),$Oe=()=>A.useContext(FOe);Di.forwardRef((t,e)=>{const{onDragStart:n}=$Oe(),r=t.as||"div";return y.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Di.createContext({markViewContentRef:()=>{}});var Tx=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},HOe=/^\s*>\s$/,qOe=cs.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Tx("blockquote",{...kn(this.options.HTMLAttributes,t),children:Tx("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ah({find:HOe,type:this.type})]}}),KOe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,WOe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,GOe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,YOe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,XOe=gl.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Tx("strong",{...kn(this.options.HTMLAttributes,t),children:Tx("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Of({find:KOe,type:this.type}),Of({find:GOe,type:this.type})]},addPasteRules(){return[zc({find:WOe,type:this.type}),zc({find:YOe,type:this.type})]}}),QOe=/(^|[^`])`([^`]+)`(?!`)$/,JOe=/(^|[^`])`([^`]+)`(?!`)/g,ZOe=gl.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",kn(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Of({find:QOe,type:this.type})]},addPasteRules(){return[zc({find:JOe,type:this.type})]}}),cA=4,eNe=/^```([a-z]+)?[\s\n]$/,tNe=/^~~~([a-z]+)?[\s\n]$/,nNe=cs.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:cA,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",kn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:cA,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;if(s.parent.type!==this.type)return!1;const l=" ".repeat(n);return a?t.commands.insertContent(l):t.commands.command(({tr:u})=>{const{from:f,to:d}=i,v=r.doc.textBetween(f,d,`
`,`
`).split(`
`).map(x=>l+x).join(`
`);return u.replaceWith(f,d,r.schema.text(v)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:cA,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;return s.parent.type!==this.type?!1:a?t.commands.command(({tr:l})=>{var u;const{pos:f}=s,d=s.start(),p=s.end(),v=r.doc.textBetween(d,p,`
`,`
`).split(`
`);let x=0,S=0;const T=f-d;for(let B=0;B<v.length;B+=1){if(S+v[B].length>=T){x=B;break}S+=v[B].length+1}const C=((u=v[x].match(/^ */))==null?void 0:u[0])||"",D=Math.min(C.length,n);if(D===0)return!0;let L=d;for(let B=0;B<x;B+=1)L+=v[B].length+1;return l.delete(L,L+D),f-L<=D&&l.setSelection(We.create(l.doc,L)),!0}):t.commands.command(({tr:l})=>{const{from:u,to:f}=i,g=r.doc.textBetween(u,f,`
`,`
`).split(`
`).map(v=>{var x;const S=((x=v.match(/^ */))==null?void 0:x[0])||"",T=Math.min(S.length,n);return v.slice(T)}).join(`
`);return l.replaceWith(u,f,r.schema.text(g)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:f})=>(f.setSelection(tt.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[jC({find:eNe,type:this.type,getAttributes:t=>({language:t[1]})}),jC({find:tNe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Cn({key:new br("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i?.mode;if(!n||!s)return!1;const{tr:a,schema:l}=t.state,u=l.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},u)),a.selection.$from.parent.type!==this.type&&a.setSelection(We.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),rNe=cs.create({name:"doc",topNode:!0,content:"block+"}),iNe=cs.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",kn(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=r.extensionManager,u=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:d})=>{if(d&&u&&a){const p=u.filter(g=>l.includes(g.type.name));f.ensureMarks(p)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),sNe=cs.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,kn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>jC({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),aNe=cs.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",kn(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!TOe(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return bG(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:a,dispatch:l})=>{if(l){const{$to:u}=a.selection,f=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?a.setSelection(We.create(a.doc,u.pos+1)):u.nodeAfter.isBlock?a.setSelection(Le.create(a.doc,u.pos)):a.setSelection(We.create(a.doc,u.pos));else{const d=s.schema.nodes[this.options.nextNodeType]||u.parent.type.contentMatch.defaultType,p=d?.create();p&&(a.insert(f,p),a.setSelection(We.create(a.doc,f+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[SOe({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),oNe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,lNe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,cNe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,uNe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,fNe=gl.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",kn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Of({find:oNe,type:this.type}),Of({find:cNe,type:this.type})]},addPasteRules(){return[zc({find:lNe,type:this.type}),zc({find:uNe,type:this.type})]}});const dNe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",hNe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",VC="numeric",BC="ascii",zC="alpha",Rm="asciinumeric",mm="alphanumeric",UC="domain",BG="emoji",pNe="scheme",mNe="slashscheme",uA="whitespace";function gNe(t,e){return t in e||(e[t]=[]),e[t]}function Xu(t,e,n){e[VC]&&(e[Rm]=!0,e[mm]=!0),e[BC]&&(e[Rm]=!0,e[zC]=!0),e[Rm]&&(e[mm]=!0),e[zC]&&(e[mm]=!0),e[mm]&&(e[UC]=!0),e[BG]&&(e[UC]=!0);for(const r in e){const i=gNe(r,n);i.indexOf(t)<0&&i.push(t)}}function yNe(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Ai(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Ai.groups={};Ai.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Ai.groups;let i;return e&&e.j?i=e:(i=new Ai(e),n&&r&&Xu(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(t[a]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||Ai.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let a,l=i.go(t);if(l?(a=new Ai,Object.assign(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new Ai,s){if(r)if(a.t&&typeof a.t=="string"){const u=Object.assign(yNe(a.t,r),n);Xu(s,u,r)}else n&&Xu(s,n,r);a.t=s}return i.j[t]=a,a}};const et=(t,e,n,r,i)=>t.ta(e,n,r,i),Tn=(t,e,n,r,i)=>t.tr(e,n,r,i),$6=(t,e,n,r,i)=>t.ts(e,n,r,i),ge=(t,e,n,r,i)=>t.tt(e,n,r,i),Po="WORD",FC="UWORD",zG="ASCIINUMERICAL",UG="ALPHANUMERICAL",Cg="LOCALHOST",$C="TLD",HC="UTLD",Jv="SCHEME",jd="SLASH_SCHEME",jM="NUM",qC="WS",LM="NL",jm="OPENBRACE",Lm="CLOSEBRACE",Ex="OPENBRACKET",_x="CLOSEBRACKET",Ax="OPENPAREN",kx="CLOSEPAREN",Cx="OPENANGLEBRACKET",Ox="CLOSEANGLEBRACKET",Nx="FULLWIDTHLEFTPAREN",Mx="FULLWIDTHRIGHTPAREN",Dx="LEFTCORNERBRACKET",Ix="RIGHTCORNERBRACKET",Px="LEFTWHITECORNERBRACKET",Rx="RIGHTWHITECORNERBRACKET",jx="FULLWIDTHLESSTHAN",Lx="FULLWIDTHGREATERTHAN",Vx="AMPERSAND",Bx="APOSTROPHE",zx="ASTERISK",nc="AT",Ux="BACKSLASH",Fx="BACKTICK",$x="CARET",uc="COLON",VM="COMMA",Hx="DOLLAR",Ba="DOT",qx="EQUALS",BM="EXCLAMATION",Rs="HYPHEN",Vm="PERCENT",Kx="PIPE",Wx="PLUS",Gx="POUND",Bm="QUERY",zM="QUOTE",FG="FULLWIDTHMIDDLEDOT",UM="SEMI",za="SLASH",zm="TILDE",Yx="UNDERSCORE",$G="EMOJI",Xx="SYM";var HG=Object.freeze({__proto__:null,ALPHANUMERICAL:UG,AMPERSAND:Vx,APOSTROPHE:Bx,ASCIINUMERICAL:zG,ASTERISK:zx,AT:nc,BACKSLASH:Ux,BACKTICK:Fx,CARET:$x,CLOSEANGLEBRACKET:Ox,CLOSEBRACE:Lm,CLOSEBRACKET:_x,CLOSEPAREN:kx,COLON:uc,COMMA:VM,DOLLAR:Hx,DOT:Ba,EMOJI:$G,EQUALS:qx,EXCLAMATION:BM,FULLWIDTHGREATERTHAN:Lx,FULLWIDTHLEFTPAREN:Nx,FULLWIDTHLESSTHAN:jx,FULLWIDTHMIDDLEDOT:FG,FULLWIDTHRIGHTPAREN:Mx,HYPHEN:Rs,LEFTCORNERBRACKET:Dx,LEFTWHITECORNERBRACKET:Px,LOCALHOST:Cg,NL:LM,NUM:jM,OPENANGLEBRACKET:Cx,OPENBRACE:jm,OPENBRACKET:Ex,OPENPAREN:Ax,PERCENT:Vm,PIPE:Kx,PLUS:Wx,POUND:Gx,QUERY:Bm,QUOTE:zM,RIGHTCORNERBRACKET:Ix,RIGHTWHITECORNERBRACKET:Rx,SCHEME:Jv,SEMI:UM,SLASH:za,SLASH_SCHEME:jd,SYM:Xx,TILDE:zm,TLD:$C,UNDERSCORE:Yx,UTLD:HC,UWORD:FC,WORD:Po,WS:qC});const Mo=/[a-z]/,em=new RegExp("\\p{L}","u"),fA=new RegExp("\\p{Emoji}","u"),Do=/\d/,dA=/\s/,H6="\r",hA=`
`,vNe="",bNe="",pA="";let Sv=null,Tv=null;function xNe(t=[]){const e={};Ai.groups=e;const n=new Ai;Sv==null&&(Sv=q6(dNe)),Tv==null&&(Tv=q6(hNe)),ge(n,"'",Bx),ge(n,"{",jm),ge(n,"}",Lm),ge(n,"[",Ex),ge(n,"]",_x),ge(n,"(",Ax),ge(n,")",kx),ge(n,"<",Cx),ge(n,">",Ox),ge(n,"",Nx),ge(n,"",Mx),ge(n,"",Dx),ge(n,"",Ix),ge(n,"",Px),ge(n,"",Rx),ge(n,"",jx),ge(n,"",Lx),ge(n,"&",Vx),ge(n,"*",zx),ge(n,"@",nc),ge(n,"`",Fx),ge(n,"^",$x),ge(n,":",uc),ge(n,",",VM),ge(n,"$",Hx),ge(n,".",Ba),ge(n,"=",qx),ge(n,"!",BM),ge(n,"-",Rs),ge(n,"%",Vm),ge(n,"|",Kx),ge(n,"+",Wx),ge(n,"#",Gx),ge(n,"?",Bm),ge(n,'"',zM),ge(n,"/",za),ge(n,";",UM),ge(n,"~",zm),ge(n,"_",Yx),ge(n,"\\",Ux),ge(n,"",FG);const r=Tn(n,Do,jM,{[VC]:!0});Tn(r,Do,r);const i=Tn(r,Mo,zG,{[Rm]:!0}),s=Tn(r,em,UG,{[mm]:!0}),a=Tn(n,Mo,Po,{[BC]:!0});Tn(a,Do,i),Tn(a,Mo,a),Tn(i,Do,i),Tn(i,Mo,i);const l=Tn(n,em,FC,{[zC]:!0});Tn(l,Mo),Tn(l,Do,s),Tn(l,em,l),Tn(s,Do,s),Tn(s,Mo),Tn(s,em,s);const u=ge(n,hA,LM,{[uA]:!0}),f=ge(n,H6,qC,{[uA]:!0}),d=Tn(n,dA,qC,{[uA]:!0});ge(n,pA,d),ge(f,hA,u),ge(f,pA,d),Tn(f,dA,d),ge(d,H6),ge(d,hA),Tn(d,dA,d),ge(d,pA,d);const p=Tn(n,fA,$G,{[BG]:!0});ge(p,"#"),Tn(p,fA,p),ge(p,vNe,p);const g=ge(p,bNe);ge(g,"#"),Tn(g,fA,p);const v=[[Mo,a],[Do,i]],x=[[Mo,null],[em,l],[Do,s]];for(let S=0;S<Sv.length;S++)Xl(n,Sv[S],$C,Po,v);for(let S=0;S<Tv.length;S++)Xl(n,Tv[S],HC,FC,x);Xu($C,{tld:!0,ascii:!0},e),Xu(HC,{utld:!0,alpha:!0},e),Xl(n,"file",Jv,Po,v),Xl(n,"mailto",Jv,Po,v),Xl(n,"http",jd,Po,v),Xl(n,"https",jd,Po,v),Xl(n,"ftp",jd,Po,v),Xl(n,"ftps",jd,Po,v),Xu(Jv,{scheme:!0,ascii:!0},e),Xu(jd,{slashscheme:!0,ascii:!0},e),t=t.sort((S,T)=>S[0]>T[0]?1:-1);for(let S=0;S<t.length;S++){const T=t[S][0],C=t[S][1]?{[pNe]:!0}:{[mNe]:!0};T.indexOf("-")>=0?C[UC]=!0:Mo.test(T)?Do.test(T)?C[Rm]=!0:C[BC]=!0:C[VC]=!0,$6(n,T,T,C)}return $6(n,"localhost",Cg,{ascii:!0}),n.jd=new Ai(Xx),{start:n,tokens:Object.assign({groups:e},HG)}}function qG(t,e){const n=wNe(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let s=0,a=0;for(;a<r;){let l=t,u=null,f=0,d=null,p=-1,g=-1;for(;a<r&&(u=l.go(n[a]));)l=u,l.accepts()?(p=0,g=0,d=l):p>=0&&(p+=n[a].length,g++),f+=n[a].length,s+=n[a].length,a++;s-=p,a-=g,f-=p,i.push({t:d.t,v:e.slice(s-f,s),s:s-f,e:s})}return i}function wNe(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,a=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function Xl(t,e,n,r,i){let s;const a=e.length;for(let l=0;l<a-1;l++){const u=e[l];t.j[u]?s=t.j[u]:(s=new Ai(r),s.jr=i.slice(),t.j[u]=s),t=s}return s=new Ai(n),s.jr=i.slice(),t.j[e[a-1]]=s,s}function q6(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+s),10);a>0;a--)n.pop();r+=s}else n.push(t[r]),r++}return e}const Og={defaultProtocol:"http",events:null,format:K6,formatHref:K6,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function FM(t,e=null){let n=Object.assign({},Og);t&&(n=Object.assign(n,t instanceof FM?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}FM.prototype={o:Og,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Og[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function K6(t){return t}function KG(t,e){this.t="token",this.v=t,this.tk=e}KG.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Og.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),a={},l=t.get("className",n,e),u=t.get("target",n,e),f=t.get("rel",n,e),d=t.getObj("attributes",n,e),p=t.getObj("events",n,e);return a.href=r,l&&(a.class=l),u&&(a.target=u),f&&(a.rel=f),d&&Object.assign(a,d),{tagName:i,attributes:a,content:s,eventListeners:p}}};function kw(t,e){class n extends KG{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const W6=kw("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),G6=kw("text"),SNe=kw("nl"),Ev=kw("url",{isLink:!0,toHref(t=Og.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Cg&&t[1].t===uc}}),Ns=t=>new Ai(t);function TNe({groups:t}){const e=t.domain.concat([Vx,zx,nc,Ux,Fx,$x,Hx,qx,Rs,jM,Vm,Kx,Wx,Gx,za,Xx,zm,Yx]),n=[Bx,uc,VM,Ba,BM,Vm,Bm,zM,UM,Cx,Ox,jm,Lm,_x,Ex,Ax,kx,Nx,Mx,Dx,Ix,Px,Rx,jx,Lx],r=[Vx,Bx,zx,Ux,Fx,$x,Hx,qx,Rs,jm,Lm,Vm,Kx,Wx,Gx,Bm,za,Xx,zm,Yx],i=Ns(),s=ge(i,zm);et(s,r,s),et(s,t.domain,s);const a=Ns(),l=Ns(),u=Ns();et(i,t.domain,a),et(i,t.scheme,l),et(i,t.slashscheme,u),et(a,r,s),et(a,t.domain,a);const f=ge(a,nc);ge(s,nc,f),ge(l,nc,f),ge(u,nc,f);const d=ge(s,Ba);et(d,r,s),et(d,t.domain,s);const p=Ns();et(f,t.domain,p),et(p,t.domain,p);const g=ge(p,Ba);et(g,t.domain,p);const v=Ns(W6);et(g,t.tld,v),et(g,t.utld,v),ge(f,Cg,v);const x=ge(p,Rs);ge(x,Rs,x),et(x,t.domain,p),et(v,t.domain,p),ge(v,Ba,g),ge(v,Rs,x);const S=ge(v,uc);et(S,t.numeric,W6);const T=ge(a,Rs),_=ge(a,Ba);ge(T,Rs,T),et(T,t.domain,a),et(_,r,s),et(_,t.domain,a);const C=Ns(Ev);et(_,t.tld,C),et(_,t.utld,C),et(C,t.domain,a),et(C,r,s),ge(C,Ba,_),ge(C,Rs,T),ge(C,nc,f);const D=ge(C,uc),L=Ns(Ev);et(D,t.numeric,L);const R=Ns(Ev),B=Ns();et(R,e,R),et(R,n,B),et(B,e,R),et(B,n,B),ge(C,za,R),ge(L,za,R);const N=ge(l,uc),M=ge(u,uc),P=ge(M,za),F=ge(P,za);et(l,t.domain,a),ge(l,Ba,_),ge(l,Rs,T),et(u,t.domain,a),ge(u,Ba,_),ge(u,Rs,T),et(N,t.domain,R),ge(N,za,R),ge(N,Bm,R),et(F,t.domain,R),et(F,e,R),ge(F,za,R);const V=[[jm,Lm],[Ex,_x],[Ax,kx],[Cx,Ox],[Nx,Mx],[Dx,Ix],[Px,Rx],[jx,Lx]];for(let $=0;$<V.length;$++){const[U,me]=V[$],ve=ge(R,U);ge(B,U,ve),ge(ve,me,R);const G=Ns(Ev);et(ve,e,G);const K=Ns();et(ve,n),et(G,e,G),et(G,n,K),et(K,e,G),et(K,n,K),ge(G,me,R),ge(K,me,R)}return ge(i,Cg,C),ge(i,LM,SNe),{start:i,tokens:HG}}function ENe(t,e,n){let r=n.length,i=0,s=[],a=[];for(;i<r;){let l=t,u=null,f=null,d=0,p=null,g=-1;for(;i<r&&!(u=l.go(n[i].t));)a.push(n[i++]);for(;i<r&&(f=u||l.go(n[i].t));)u=null,l=f,l.accepts()?(g=0,p=l):g>=0&&g++,i++,d++;if(g<0)i-=d,i<r&&(a.push(n[i]),i++);else{a.length>0&&(s.push(mA(G6,e,a)),a=[]),i-=g,d-=g;const v=p.t,x=n.slice(i-d,i);s.push(mA(v,e,x))}}return a.length>0&&s.push(mA(G6,e,a)),s}function mA(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const _Ne=typeof console<"u"&&console&&console.warn||(()=>{}),ANe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",en={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function kNe(){return Ai.groups={},en.scanner=null,en.parser=null,en.tokenQueue=[],en.pluginQueue=[],en.customSchemes=[],en.initialized=!1,en}function Y6(t,e=!1){if(en.initialized&&_Ne(`linkifyjs: already initialized - will not register custom scheme "${t}" ${ANe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);en.customSchemes.push([t,e])}function CNe(){en.scanner=xNe(en.customSchemes);for(let t=0;t<en.tokenQueue.length;t++)en.tokenQueue[t][1]({scanner:en.scanner});en.parser=TNe(en.scanner.tokens);for(let t=0;t<en.pluginQueue.length;t++)en.pluginQueue[t][1]({scanner:en.scanner,parser:en.parser});return en.initialized=!0,en}function $M(t){return en.initialized||CNe(),ENe(en.parser.start,t,qG(en.scanner.start,t))}$M.scan=qG;function WG(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new FM(n),i=$M(t),s=[];for(let a=0;a<i.length;a++){const l=i[a];l.isLink&&(!e||l.t===e)&&r.check(l)&&s.push(l.toFormattedObject(r))}return s}var HM="[\0- -\u2029]",ONe=new RegExp(HM),NNe=new RegExp(`${HM}$`),MNe=new RegExp(HM,"g");function DNe(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function INe(t){return new Cn({key:new br("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(f=>f.docChanged)&&!n.doc.eq(r.doc),s=e.some(f=>f.getMeta("preventAutolink"));if(!i||s)return;const{tr:a}=r,l=lG(n.doc,[...e]);if(yG(l).forEach(({newRange:f})=>{const d=VCe(r.doc,f,v=>v.isTextblock);let p,g;if(d.length>1)p=d[0],g=r.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ");else if(d.length){const v=r.doc.textBetween(f.from,f.to," "," ");if(!NNe.test(v))return;p=d[0],g=r.doc.textBetween(p.pos,f.to,void 0," ")}if(p&&g){const v=g.split(ONe).filter(Boolean);if(v.length<=0)return!1;const x=v[v.length-1],S=p.pos+g.lastIndexOf(x);if(!x)return!1;const T=$M(x).map(_=>_.toObject(t.defaultProtocol));if(!DNe(T))return!1;T.filter(_=>_.isLink).map(_=>({..._,from:S+_.start+1,to:S+_.end+1})).filter(_=>r.schema.marks.code?!r.doc.rangeHasMark(_.from,_.to,r.schema.marks.code):!0).filter(_=>t.validate(_.value)).filter(_=>t.shouldAutoLink(_.value)).forEach(_=>{IM(_.from,_.to,r.doc).some(C=>C.mark.type===t.type)||a.addMark(_.from,_.to,t.type.create({href:_.href}))})}}),!!a.steps.length)return a}})}function PNe(t){return new Cn({key:new br("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let d=r.target;const p=[];for(;d.nodeName!=="DIV";)p.push(d),d=d.parentNode;a=p.find(g=>g.nodeName==="A")}if(!a)return!1;const l=gG(e.state,t.type.name),u=(i=a?.href)!=null?i:l.href,f=(s=a?.target)!=null?s:l.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),a&&u?(window.open(u,f),!0):!1}}})}function RNe(t){return new Cn({key:new br("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:s}=i,{empty:a}=s;if(a)return!1;let l="";r.content.forEach(f=>{l+=f.textContent});const u=WG(l,{defaultProtocol:t.defaultProtocol}).find(f=>f.isLink&&f.value===l);return!l||!u?!1:t.editor.commands.setMark(t.type,{href:u.href})}}})}function Du(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(MNe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var jNe=gl.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){Y6(t);return}Y6(t.scheme,t.optionalSlashes)})},onDestroy(){kNe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Du(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Du(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Du(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",kn(this.options.HTMLAttributes,t),0]:["a",kn(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Du(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Du(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[zc({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=WG(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!Du(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(INe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Du(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(PNe({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(RNe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),LNe=Object.defineProperty,VNe=(t,e)=>{for(var n in e)LNe(t,n,{get:e[n],enumerable:!0})},BNe="listItem",X6="textStyle",Q6=/^\s*([-+*])\s$/,GG=cs.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",kn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(BNe,this.editor.getAttributes(X6)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Ah({find:Q6,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ah({find:Q6,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(X6),editor:this.editor})),[t]}}),YG=cs.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",kn(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),zNe={};VNe(zNe,{findListItemPos:()=>by,getNextListDepth:()=>qM,handleBackspace:()=>KC,handleDelete:()=>WC,hasListBefore:()=>XG,hasListItemAfter:()=>UNe,hasListItemBefore:()=>QG,listItemHasSubList:()=>JG,nextListIsDeeper:()=>ZG,nextListIsHigher:()=>eY});var by=(t,e)=>{const{$from:n}=e.selection,r=Yn(t,e.schema);let i=null,s=n.depth,a=n.pos,l=null;for(;s>0&&l===null;)i=n.node(s),i.type===r?l=s:(s-=1,a-=1);return l===null?null:{$pos:e.doc.resolve(a),depth:l}},qM=(t,e)=>{const n=by(t,e);if(!n)return!1;const[,r]=GCe(e,t,n.$pos.pos+4);return r},XG=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},QG=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},JG=(t,e,n)=>{if(!n)return!1;const r=Yn(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},KC=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Bc(t.state,e)&&XG(t.state,e,n)){const{$anchor:l}=t.state.selection,u=t.state.doc.resolve(l.before()-1),f=[];u.node().descendants((g,v)=>{g.type.name===e&&f.push({node:g,pos:v})});const d=f.at(-1);if(!d)return!1;const p=t.state.doc.resolve(u.start()+d.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},p.end()).joinForward().run()}if(!Bc(t.state,e)||!JCe(t.state))return!1;const r=by(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=JG(e,t.state,s);return QG(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},ZG=(t,e)=>{const n=qM(t,e),r=by(t,e);return!r||!n?!1:n>r.depth},eY=(t,e)=>{const n=qM(t,e),r=by(t,e);return!r||!n?!1:n<r.depth},WC=(t,e)=>{if(!Bc(t.state,e)||!QCe(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:ZG(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():eY(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},UNe=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},tY=Yt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&WC(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&WC(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&KC(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&KC(t,n,r)&&(e=!0)}),e}}}}),FNe="listItem",J6="textStyle",Z6=/^(\d+)\.\s$/,nY=cs.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",kn(this.options.HTMLAttributes,n),0]:["ol",kn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(FNe,this.editor.getAttributes(J6)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Ah({find:Z6,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ah({find:Z6,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(J6)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),$Ne=/^\s*(\[([( |x])?\])\s$/,HNe=cs.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",kn(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),l=document.createElement("input"),u=document.createElement("div"),f=d=>{var p,g;l.ariaLabel=((g=(p=this.options.a11y)==null?void 0:p.checkboxLabel)==null?void 0:g.call(p,d,l.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};return f(t),s.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",d=>d.preventDefault()),l.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:p}=d.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const v=n();if(typeof v!="number")return!1;const x=g.doc.nodeAt(v);return g.setNodeMarkup(v,void 0,{...x?.attrs,checked:p}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,p)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,p])=>{i.setAttribute(d,p)}),i.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,s.append(l,a),i.append(s,u),Object.entries(e).forEach(([d,p])=>{i.setAttribute(d,p)}),{dom:i,contentDOM:u,update:d=>d.type!==this.type?!1:(i.dataset.checked=d.attrs.checked,l.checked=d.attrs.checked,f(d),!0)}}},addInputRules(){return[Ah({find:$Ne,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),qNe=cs.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",kn(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Yt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(GG.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(YG.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(tY.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(nY.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(HNe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(qNe.configure(this.options.taskList)),t}});var KNe=cs.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",kn(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),WNe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,GNe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,YNe=gl.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",kn(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Of({find:WNe,type:this.type})]},addPasteRules(){return[zc({find:GNe,type:this.type})]}}),XNe=cs.create({name:"text",group:"inline"}),rY=gl.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",kn(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function QNe(t={}){return new Cn({view(e){return new JNe(e,t)}})}class JNe{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),a=s.width/i.offsetWidth,l=s.height/i.offsetHeight;if(n){let p=e.nodeBefore,g=e.nodeAfter;if(p||g){let v=this.editorView.nodeDOM(this.cursorPos-(p?p.nodeSize:0));if(v){let x=v.getBoundingClientRect(),S=p?x.bottom:x.top;p&&g&&(S=(S+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let T=this.width/2*l;r={left:x.left,right:x.right,top:S-T,bottom:S+T}}}}if(!r){let p=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*a;r={left:p.left-g,right:p.left+g,top:p.top,bottom:p.bottom}}let u=this.editorView.dom.offsetParent;this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let f,d;if(!u||u==document.body&&getComputedStyle(u).position=="static")f=-pageXOffset,d=-pageYOffset;else{let p=u.getBoundingClientRect(),g=p.width/u.offsetWidth,v=p.height/u.offsetHeight;f=p.left-u.scrollLeft*g,d=p.top-u.scrollTop*v}this.element.style.left=(r.left-f)/a+"px",this.element.style.top=(r.top-d)/l+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=aW(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class An extends tt{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return An.valid(r)?new An(r):tt.near(r)}content(){return _e.empty}eq(e){return e instanceof An&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new An(e.resolve(n.pos))}getBookmark(){return new KM(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!ZNe(e)||!eMe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&An.valid(e))return e;let i=e.pos,s=null;for(let a=e.depth;;a--){let l=e.node(a);if(n>0?e.indexAfter(a)<l.childCount:e.index(a)>0){s=l.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=n;let u=e.doc.resolve(i);if(An.valid(u))return u}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!Le.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=a,i+=n;let l=e.doc.resolve(i);if(An.valid(l))return l}return null}}}An.prototype.visible=!1;An.findFrom=An.findGapCursorFrom;tt.jsonID("gapcursor",An);class KM{constructor(e){this.pos=e}map(e){return new KM(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return An.valid(n)?new An(n):tt.near(n)}}function ZNe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function eMe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function tMe(){return new Cn({props:{decorations:sMe,createSelectionBetween(t,e,n){return e.pos==n.pos&&An.valid(n)?new An(n):null},handleClick:rMe,handleKeyDown:nMe,handleDOMEvents:{beforeinput:iMe}}})}const nMe=GW({ArrowLeft:_v("horiz",-1),ArrowRight:_v("horiz",1),ArrowUp:_v("vert",-1),ArrowDown:_v("vert",1)});function _v(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let a=r.selection,l=e>0?a.$to:a.$from,u=a.empty;if(a instanceof We){if(!s.endOfTextblock(n)||l.depth==0)return!1;u=!1,l=r.doc.resolve(e>0?l.after():l.before())}let f=An.findGapCursorFrom(l,e,u);return f?(i&&i(r.tr.setSelection(new An(f))),!0):!1}}function rMe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!An.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Le.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new An(r))),!0)}function iMe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof An))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=he.empty;for(let a=r.length-1;a>=0;a--)i=he.from(r[a].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new _e(i,0,0));return s.setSelection(We.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function sMe(t){if(!(t.selection instanceof An))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",mn.create(t.doc,[li.widget(t.selection.head,e,{key:"gapcursor"})])}var Qx=200,pr=function(){};pr.prototype.append=function(e){return e.length?(e=pr.from(e),!this.length&&e||e.length<Qx&&this.leafAppend(e)||this.length<Qx&&e.leafPrepend(this)||this.appendInner(e)):this};pr.prototype.prepend=function(e){return e.length?pr.from(e).append(this):this};pr.prototype.appendInner=function(e){return new aMe(this,e)};pr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?pr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};pr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};pr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};pr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},n,r),i};pr.from=function(e){return e instanceof pr?e:e&&e.length?new iY(e):pr.empty};var iY=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,l){for(var u=s;u<a;u++)if(i(this.values[u],l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,l){for(var u=s-1;u>=a;u--)if(i(this.values[u],l+u)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Qx)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Qx)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(pr);pr.empty=new iY([]);var aMe=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,a){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(s,l),a)===!1||s>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,s)-l,a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,a){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(s,l)-l,a+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(i,l),s,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(pr);const oMe=500;class ha{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=e.tr,l,u,f=[],d=[];return this.items.forEach((p,g)=>{if(!p.step){i||(i=this.remapping(r,g+1),s=i.maps.length),s--,d.push(p);return}if(i){d.push(new Ua(p.map));let v=p.step.map(i.slice(s)),x;v&&a.maybeStep(v).doc&&(x=a.mapping.maps[a.mapping.maps.length-1],f.push(new Ua(x,void 0,void 0,f.length+d.length))),s--,x&&i.appendMap(x,s)}else a.maybeStep(p.step);if(p.selection)return l=i?p.selection.map(i.slice(s)):p.selection,u=new ha(this.items.slice(0,r).append(d.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:a,selection:l}}addTransform(e,n,r,i){let s=[],a=this.eventCount,l=this.items,u=!i&&l.length?l.get(l.length-1):null;for(let d=0;d<e.steps.length;d++){let p=e.steps[d].invert(e.docs[d]),g=new Ua(e.mapping.maps[d],p,n),v;(v=u&&u.merge(g))&&(g=v,d?s.pop():l=l.slice(0,l.length-1)),s.push(g),n&&(a++,n=void 0),i||(u=g)}let f=a-r.depth;return f>cMe&&(l=lMe(l,f),a-=f),new ha(l.append(s),a)}remapping(e,n){let r=new wg;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new ha(this.items.append(e.map(n=>new Ua(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(g=>{g.selection&&l--},i);let u=n;this.items.forEach(g=>{let v=s.getMirror(--u);if(v==null)return;a=Math.min(a,v);let x=s.maps[v];if(g.step){let S=e.steps[v].invert(e.docs[v]),T=g.selection&&g.selection.map(s.slice(u+1,v));T&&l++,r.push(new Ua(x,S,T))}else r.push(new Ua(x))},i);let f=[];for(let g=n;g<a;g++)f.push(new Ua(s.maps[g]));let d=this.items.slice(0,i).append(f).append(r),p=new ha(d,l);return p.emptyItemCount()>oMe&&(p=p.compress(this.items.length-r.length)),p}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((a,l)=>{if(l>=e)i.push(a),a.selection&&s++;else if(a.step){let u=a.step.map(n.slice(r)),f=u&&u.getMap();if(r--,f&&n.appendMap(f,r),u){let d=a.selection&&a.selection.map(n.slice(r));d&&s++;let p=new Ua(f.invert(),u,d),g,v=i.length-1;(g=i.length&&i[v].merge(p))?i[v]=g:i.push(p)}}else a.map&&r--},this.items.length,0),new ha(pr.from(i.reverse()),s)}}ha.empty=new ha(pr.empty,0);function lMe(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Ua{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ua(n.getMap().invert(),n,this.selection)}}}class rc{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const cMe=20;function uMe(t,e,n,r){let i=n.getMeta(ff),s;if(i)return i.historyState;n.getMeta(hMe)&&(t=new rc(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(ff))return a.getMeta(ff).redo?new rc(t.done.addTransform(n,void 0,r,Zv(e)),t.undone,ez(n.mapping.maps),t.prevTime,t.prevComposition):new rc(t.done,t.undone.addTransform(n,void 0,r,Zv(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),u=t.prevTime==0||!a&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!fMe(n,t.prevRanges)),f=a?gA(t.prevRanges,n.mapping):ez(n.mapping.maps);return new rc(t.done.addTransform(n,u?e.selection.getBookmark():void 0,r,Zv(e)),ha.empty,f,n.time,l??t.prevComposition)}else return(s=n.getMeta("rebased"))?new rc(t.done.rebased(n,s),t.undone.rebased(n,s),gA(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new rc(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),gA(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function fMe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function ez(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,a)=>e.push(s,a));return e}function gA(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function dMe(t,e,n){let r=Zv(e),i=ff.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),l=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),u=new rc(n?l:s.remaining,n?s.remaining:l,null,0,-1);return s.transform.setSelection(a).setMeta(ff,{redo:n,historyState:u})}let yA=!1,tz=null;function Zv(t){let e=t.plugins;if(tz!=e){yA=!1,tz=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){yA=!0;break}}return yA}const ff=new br("history"),hMe=new br("closeHistory");function pMe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Cn({key:ff,state:{init(){return new rc(ha.empty,ha.empty,null,0,-1)},apply(e,n,r){return uMe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?aY:r=="historyRedo"?oY:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function sY(t,e){return(n,r)=>{let i=ff.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=dMe(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const aY=sY(!1,!0),oY=sY(!0,!0);Yt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Cn({key:new br("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const a=s-i,l=0,u=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const f=r.tr.deleteRange(l,u);return t=!0,f}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,u=s-r,f=l-u,d=l;return e.deleteRange(f,d),!(this.storage.characters({node:e.doc})>r)}})]}});var mMe=Yt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[QNe(this.options)]}});Yt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Cn({key:new br("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return mn.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((u,f)=>{if(u.isText)return;if(!(i>=f&&i<=f+u.nodeSize-1))return!1;a+=1});let l=0;return t.descendants((u,f)=>{if(u.isText||!(i>=f&&i<=f+u.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&a-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";s.push(li.node(f,f+u.nodeSize,{class:this.options.className}))}),mn.create(t,s)}}})]}});var gMe=Yt.create({name:"gapCursor",addProseMirrorPlugins(){return[tMe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ot(Re(t,"allowGapCursor",n)))!=null?e:null}}}),yMe=Yt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Cn({key:new br("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((a,l)=>{const u=r>=l&&r<=l+a.nodeSize,f=!a.isLeaf&&Ew(a);if((u||!this.options.showOnlyCurrent)&&f){const d=[this.options.emptyNodeClass];s&&d.push(this.options.emptyEditorClass);const p=li.node(l,l+a.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:l,hasAnchor:u}):this.options.placeholder});i.push(p)}return this.options.includeChildren}),mn.create(t,i)}}})]}});Yt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Cn({key:new br("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||bG(n.selection)||t.view.dragging?null:mn.create(n.doc,[li.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function nz({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var vMe=Yt.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new br(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new Cn({key:t,appendTransaction:(n,r,i)=>{const{doc:s,tr:a,schema:l}=i,u=t.getState(i),f=s.content.size,d=l.nodes[this.options.node];if(u)return a.insert(f,d.create())},state:{init:(n,r)=>{const i=r.tr.doc.lastChild;return!nz({node:i,types:e})},apply:(n,r)=>{if(!n.docChanged)return r;const i=n.doc.lastChild;return!nz({node:i,types:e})}}})]}}),bMe=Yt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>aY(t,e),redo:()=>({state:t,dispatch:e})=>oY(t,e)}},addProseMirrorPlugins(){return[pMe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),xMe=Yt.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(XOe.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(qOe.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(GG.configure(this.options.bulletList)),this.options.code!==!1&&i.push(ZOe.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(nNe.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(rNe.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(mMe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(gMe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(iNe.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(sNe.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(bMe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(aNe.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(fNe.configure(this.options.italic)),this.options.listItem!==!1&&i.push(YG.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(tY.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(jNe.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(nY.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(KNe.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(YNe.configure(this.options.strike)),this.options.text!==!1&&i.push(XNe.configure(this.options.text)),this.options.underline!==!1&&i.push(rY.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(vMe.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),wMe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,SMe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,TMe=gl.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",kn(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Of({find:wMe,type:this.type})]},addPasteRules(){return[zc({find:SMe,type:this.type})]}}),EMe=20,lY=(t,e=0)=>{const n=[];return!t.children.length||e>EMe||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...lY(r,e+1))}),n},_Me=t=>{if(!t.children.length)return;const e=lY(t);e&&e.forEach(n=>{var r,i;const s=n.getAttribute("style"),a=(i=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:i.getAttribute("style");n.setAttribute("style",`${a};${s}`)})},cY=gl.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&_Me(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",kn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),AMe=Yt.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const a=s[0].trim().toLowerCase(),l=s.slice(1).join(":").trim();if(a==="background-color")return l.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),uY=Yt.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const a=s[0].trim().toLowerCase(),l=s.slice(1).join(":").trim();if(a==="color")return l.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),kMe=Yt.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),CMe=Yt.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),OMe=Yt.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Yt.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(AMe.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(uY.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(kMe.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(CMe.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(OMe.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(cY.configure(this.options.textStyle)),t}});const as=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M5 12h14"}),y.jsx("path",{d:"M12 5v14"})]}),fY=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"12",cy:"12",r:"1"}),y.jsx("circle",{cx:"19",cy:"12",r:"1"}),y.jsx("circle",{cx:"5",cy:"12",r:"1"})]}),Vr=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),y.jsx("path",{d:"m15 5 4 4"})]}),ui=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M3 6h18"}),y.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),y.jsx("path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),y.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),y.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]}),NMe=t=>y.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),Nf=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),y.jsx("path",{d:"m9 12 2 2 4-4"})]}),nu=t=>y.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2z"})}),Uc=t=>y.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"m15 18-6-6 6-6"})}),dY=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-spin",...t,children:y.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),xy=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M12 5a3 3 0 1 0-5.993.142"}),y.jsx("path",{d:"M18 5a3 3 0 1 0-5.993.142"}),y.jsx("path",{d:"M21 12a3 3 0 1 0-.142-5.993"}),y.jsx("path",{d:"M21 12a3 3 0 1 0 .142 5.993"}),y.jsx("path",{d:"M12 19a3 3 0 1 0 5.993-.142"}),y.jsx("path",{d:"M6 19a3 3 0 1 0 5.993-.142"}),y.jsx("path",{d:"M3 12a3 3 0 1 0 .142 5.993"}),y.jsx("path",{d:"M3 12a3 3 0 1 0-.142-5.993"}),y.jsx("path",{d:"M12 5a3 3 0 0 0 6 0"}),y.jsx("path",{d:"M12 5a3 3 0 0 1 6 0"}),y.jsx("path",{d:"M14.5 5.5A.5.5 0 0 1 15 5h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),y.jsx("path",{d:"M9.5 5.5A.5.5 0 0 1 10 5h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),y.jsx("path",{d:"M18 7.3a.5.5 0 0 0 .5-.5v0a.5.5 0 0 0-.5-.5h0a.5.5 0 0 0-.5.5Z"}),y.jsx("path",{d:"M19.7 9.5A.5.5 0 0 1 20 9h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),y.jsx("path",{d:"M19.7 14.5a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5v0a.5.5 0 0 0-.5-.5h0a.5.5 0 0 0-.5.5Z"}),y.jsx("path",{d:"M18 16.7a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),y.jsx("path",{d:"M14.5 18.5a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5v0a.5.5 0 0 0-.5-.5h0a.5.5 0 0 0-.5.5Z"}),y.jsx("path",{d:"M9.5 18.5a.5.5 0 0 1 .5-.5h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),y.jsx("path",{d:"M6 16.7a.5.5 0 0 0-.5.5v0a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5Z"}),y.jsx("path",{d:"M4.3 14.5a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5v0a.5.5 0 0 1 .5-.5h0a.5.5 0 0 1 .5.5Z"}),y.jsx("path",{d:"M4.3 9.5A.5.5 0 0 0 4 9h0a.5.5 0 0 0-.5.5v0a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5Z"}),y.jsx("path",{d:"M6 7.3a.5.5 0 0 1-.5-.5v0a.5.5 0 0 1 .5-.5h0a.5.5 0 0 1 .5.5Z"}),y.jsx("path",{d:"M12 12v0a3 3 0 0 0-3-3v0a3 3 0 0 0-3 3v0a3 3 0 0 0 3 3v0a3 3 0 0 0 3-3Z"}),y.jsx("path",{d:"M12 12h0a3 3 0 0 1 3 3v0a3 3 0 0 1-3 3v0a3 3 0 0 1-3-3v0a3 3 0 0 1 3-3Z"})]}),Gs=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),y.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),y.jsx("path",{d:"M4 22h16"}),y.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),y.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),y.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),hY=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),Fc=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("circle",{cx:"12",cy:"12",r:"6"}),y.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),wy=t=>y.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("circle",{cx:"12",cy:"12",r:"10"})}),GC=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"12",cy:"12",r:"4"}),y.jsx("path",{d:"M12 2v2"}),y.jsx("path",{d:"M12 20v2"}),y.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),y.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),y.jsx("path",{d:"M2 12h2"}),y.jsx("path",{d:"M20 12h2"}),y.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),y.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),eb=t=>y.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}),Cw=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),y.jsx("path",{d:"M12 9v4"}),y.jsx("path",{d:"M12 17h.01"})]}),pY=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m5 8 6 6"}),y.jsx("path",{d:"m4 14 6-6 2-3"}),y.jsx("path",{d:"M2 5h12"}),y.jsx("path",{d:"M7 2h1"}),y.jsx("path",{d:"m22 22-5-10-5 10"}),y.jsx("path",{d:"M14 18h6"})]}),MMe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M2 12h20"}),y.jsx("path",{d:"M20 12v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8"}),y.jsx("path",{d:"M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6"}),y.jsx("path",{d:"M6 6V4"}),y.jsx("path",{d:"M18 6V4"})]}),mY=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("rect",{width:"14",height:"8",x:"5",y:"2",rx:"2"}),y.jsx("rect",{width:"20",height:"12",x:"2",y:"10",rx:"2"}),y.jsx("path",{d:"M6 18h2"}),y.jsx("path",{d:"M16 18h2"})]}),gY=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"12",cy:"8",r:"6"}),y.jsx("path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11"})]}),Mf=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),y.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),Ow=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m16 18 6-6-6-6"}),y.jsx("path",{d:"m8 6-6 6 6 6"})]}),Sy=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M14.4 14.4 9.6 9.6"}),y.jsx("path",{d:"M18.657 5.343a2 2 0 1 0-2.829-2.828"}),y.jsx("path",{d:"m21.5 8.3-2.8-2.8"}),y.jsx("path",{d:"M8.3 21.5l-2.8-2.8"}),y.jsx("path",{d:"M5.343 18.657a2 2 0 1 0 2.829 2.828"}),y.jsx("path",{d:"M12 12V2l-2.8 2.8"}),y.jsx("path",{d:"m14.8 14.8 2.8 2.8"}),y.jsx("path",{d:"M12 12H2l2.8-2.8"}),y.jsx("path",{d:"m9.2 9.2-2.8-2.8"})]}),Ty=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),y.jsx("line",{x1:"4",x2:"4",y1:"22",y2:"15"})]}),Ff=t=>y.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"})}),WM=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"}),y.jsx("path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"}),y.jsx("path",{d:"M7 21h10"}),y.jsx("path",{d:"M12 3v18"}),y.jsx("path",{d:"M3 7h18"})]}),DMe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L3 8.4a2.4 2.4 0 0 1 0-3.4l2.6-2.6a2.4 2.4 0 0 1 3.4 0Z"}),y.jsx("path",{d:"m14.5 12.5 2-2"}),y.jsx("path",{d:"m11.5 9.5 2-2"}),y.jsx("path",{d:"m8.5 6.5 2-2"}),y.jsx("path",{d:"m17.5 15.5 2-2"})]}),IMe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 2v6c0 7 4 8 8 8Z"}),y.jsx("path",{d:"M14 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2h-4c-1.25 0-2 .75-2 2v6c0 7 4 8 8 8Z"})]}),kh=t=>y.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),GM=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"12",cy:"10",r:"4"}),y.jsx("path",{d:"M12 14c-3.33 0-10 1.67-10 5v2h20v-2c0-3.33-6.67-5-10-5Z"}),y.jsx("path",{d:"M12 22v-2"}),y.jsx("path",{d:"M16 22v-2"}),y.jsx("path",{d:"M8 22v-2"}),y.jsx("path",{d:"M2 18h20"}),y.jsx("path",{d:"M12 2a5 5 0 0 0-5 5v3h10V7a5 5 0 0 0-5-5Z"})]}),YM=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M7 10v12"}),y.jsx("path",{d:"M18 10V4a2 2 0 0 0-2-2H8.5a2 2 0 0 0-1.9.9L3 10v10h12.5a2.5 2.5 0 0 0 2.5-2.5V10Z"})]}),PMe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),y.jsx("polyline",{points:"16 17 21 12 16 7"}),y.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),RMe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),y.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]}),jMe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z"}),y.jsx("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]}),YC=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z"}),y.jsx("path",{d:"m6.2 5.3 3.1 3.9"}),y.jsx("path",{d:"m12.4 3.6 3.1 3.9"}),y.jsx("path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z"})]}),Ng=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M9 18V5l12-2v13"}),y.jsx("circle",{cx:"6",cy:"18",r:"3"}),y.jsx("circle",{cx:"18",cy:"16",r:"3"})]}),Nw=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"18",x2:"22",y1:"2",y2:"6"}),y.jsx("path",{d:"M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z"})]}),LMe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),y.jsx("polyline",{points:"16 7 22 7 22 13"})]}),VMe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M12 21.35A5 5 0 0 1 7 19.35V16a5 5 0 0 1 10 0v3.35a5 5 0 0 1-5 2z"}),y.jsx("path",{d:"M12 4V2"}),y.jsx("path",{d:"M17 6V2"}),y.jsx("path",{d:"M7 6V2"})]}),BMe=t=>y.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"})}),XM=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-5 2.5-5C6.5 3 7 5 7 5c0 1.79-1.18 3.24-2.5 4S3 12.38 3 14v2"}),y.jsx("path",{d:"M7 19.82c-1.5-1.3-2.5-3.04-2.5-5.32 0-2.04 1-3.5 2.5-4.5C8.5 8.96 10.5 11 10.5 13c0 1.54-.37 2.94-1 4.14"}),y.jsx("path",{d:"M20 16v-2.38c0-2.12 1.03-3.12 1-5.5s-1.47-5-2.5-5C17.5 3 17 5 17 5c0 1.79 1.18 3.24 2.5 4s1.5 2.58 1.5 4v2"}),y.jsx("path",{d:"M17 19.82c1.5-1.3 2.5-3.04 2.5-5.32 0-2.04-1-3.5-2.5-4.5-1.5 1.04-3.5 3-3.5 5 0 1.54.37 2.94 1 4.14"})]}),zMe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),y.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),y.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),y.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),UMe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.72"}),y.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.72-1.72"})]}),FMe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M14 12a4 4 0 0 0 0-8H6v8"}),y.jsx("path",{d:"M15.5 20a4 4 0 0 0 0-8H6v8Z"})]}),$Me=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"19",x2:"10",y1:"4",y2:"4"}),y.jsx("line",{x1:"14",x2:"5",y1:"20",y2:"20"}),y.jsx("line",{x1:"15",x2:"9",y1:"4",y2:"20"})]}),HMe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M6 4v6a6 6 0 0 0 12 0V4"}),y.jsx("line",{x1:"4",x2:"20",y1:"20",y2:"20"})]}),qMe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M16 4H9a3 3 0 0 0-2.83 2M14 12a4 4 0 0 1 0 8H6"}),y.jsx("line",{x1:"4",x2:"20",y1:"12",y2:"12"})]}),KMe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m9 11-6 6v3h9l3-3"}),y.jsx("path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4"})]}),QM={Trophy:Gs,Award:gY,BookOpen:Mf,Code:Ow,Dumbbell:Sy,Flag:Ty,Heart:Ff,Star:kh,Zap:nu,Target:Fc},WMe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),y.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),GMe={Language:pY,Programming:Ow,Design:nu},YMe={Code:Ow,Languages:pY,Zap:nu,CookingPot:MMe,Computer:mY,BookOpen:Mf,Dumbbell:Sy,Heart:Ff,Scale:WM,Star:kh,Music:Ng,BrainCircuit:xy},XMe=t=>{if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},QMe=()=>{const t=new Date().getHours();return t<5?{comment:"Burning the midnight oil!",Icon:eb}:t<12?{comment:"The day is full of promise!",Icon:GC}:t<18?{comment:"Hope you're having a great afternoon!",Icon:GC}:t<22?{comment:"Time to wind down.",Icon:eb}:{comment:"A quiet moment.",Icon:eb}};function JMe({name:t}){const[e,n]=A.useState(new Date);A.useEffect(()=>{const f=setInterval(()=>n(new Date),1e3);return()=>clearInterval(f)},[]);const r=e.getDate(),i=e.toLocaleString("en-US",{month:"long"}),s=e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),{comment:a,Icon:l}=QMe(),u=t?.split(" ")[0]||"User";return y.jsxs("div",{className:"text-center mb-10",children:[y.jsx(l,{className:"w-24 h-24 text-amber-400 mx-auto"}),y.jsxs("h1",{className:"text-5xl font-bold mt-4",children:["Welcome back, ",u,"!"]}),y.jsxs("p",{className:"text-xl text-neutral-500 dark:text-neutral-400 mt-2",children:["Today is the ",r,XMe(r)," of ",i]}),y.jsxs("p",{className:"text-lg text-neutral-500 dark:text-neutral-400",children:[s,"  ",a]})]})}const ZMe={blue:"hover:text-blue-600 dark:hover:text-blue-300",red:"hover:text-red-600 dark:hover:text-red-300",emerald:"hover:text-emerald-600 dark:hover:text-emerald-300",sky:"hover:text-sky-500 dark:hover:text-sky-300",violet:"hover:text-violet-600 dark:hover:text-violet-300",amber:"hover:text-amber-600 dark:hover:text-amber-300",pink:"hover:text-pink-600 dark:hover:text-pink-300",slate:"hover:text-slate-800 dark:hover:text-slate-200",teal:"hover:text-teal-600 dark:hover:text-teal-300"},eDe={blue:"hover:bg-blue-100/70 dark:hover:bg-blue-900/30",red:"hover:bg-red-100/70 dark:hover:bg-red-900/30",emerald:"hover:bg-emerald-100/70 dark:hover:bg-emerald-900/30",sky:"hover:bg-sky-100/70 dark:hover:bg-sky-900/30",violet:"hover:bg-violet-100/70 dark:hover:bg-violet-900/30",amber:"hover:bg-amber-100/70 dark:hover:bg-amber-900/30",pink:"hover:bg-pink-100/70 dark:hover:bg-pink-900/30",slate:"hover:bg-slate-200/70 dark:hover:bg-slate-800/50",teal:"hover:bg-teal-100/70 dark:hover:bg-teal-900/30"},tDe=["bg-white dark:bg-neutral-800/50","bg-sky-50 dark:bg-sky-950/50","bg-emerald-50 dark:bg-emerald-950/50","bg-rose-50 dark:bg-rose-950/50","bg-amber-50 dark:bg-amber-950/50","bg-violet-50 dark:bg-violet-950/50","bg-slate-100 dark:bg-slate-800","bg-stone-100 dark:bg-stone-800"],Wd={green:{text:"text-emerald-500",glowColors:{c1:"#a7f3d0",c2:"#6ee7b7",c3:"#34d399"}},blue:{text:"text-sky-500",glowColors:{c1:"#bae6fd",c2:"#7dd3fc",c3:"#38bdf8"}},rose:{text:"text-rose-500",glowColors:{c1:"#fecdd3",c2:"#fda4af",c3:"#f43f5e"}},amber:{text:"text-amber-500",glowColors:{c1:"#fde68a",c2:"#fcd34d",c3:"#f59e0b"}},violet:{text:"text-violet-500",glowColors:{c1:"#d8b4fe",c2:"#c084fc",c3:"#a855f7"}}},Qh={Default:wy,Zap:nu,Code:Ow,Dumbbell:Sy,Book:Mf,Flag:Ty,Heart:Ff,Star:kh,Trophy:Gs,Music:Ng,Computer:mY},nDe=["#000000","#FFFFFF","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899"],Ac=[{name:"Default",textClass:"text-neutral-800 dark:text-neutral-200",bgClass:"bg-neutral-500"},{name:"Sky",textClass:"text-sky-500",bgClass:"bg-sky-500"},{name:"Emerald",textClass:"text-emerald-500",bgClass:"bg-emerald-500"},{name:"Rose",textClass:"text-rose-500",bgClass:"bg-rose-500"},{name:"Amber",textClass:"text-amber-500",bgClass:"bg-amber-500"},{name:"Violet",textClass:"text-violet-500",bgClass:"bg-violet-500"}],rDe={ThumbsUp:YM,Zap:nu,Heart:Ff,Award:gY},iDe=t=>!t||isNaN(t)?{comment:"",color:"text-slate-400",iconName:null}:t<18.5?{comment:"Time to power up!",iconName:"Zap",color:"text-cyan-400"}:t<25?{comment:"You're in the sweet spot.",iconName:"ThumbsUp",color:"text-green-400"}:t<30?{comment:"Every choice is a win.",iconName:"Award",color:"text-yellow-400"}:{comment:"Focused on health.",iconName:"Heart",color:"text-red-400"},sDe=(t="")=>t?t.split(" ").map(e=>e.charAt(0)).slice(0,2).join("").toUpperCase():"??",Jx=t=>`hsl(${t/100*120}, 70%, 50%)`,yY=t=>{if(!t)return null;const e=t.toDate?t.toDate():new Date(t),n=new Date;n.setHours(0,0,0,0),e.setHours(0,0,0,0);const r=n-e,i=Math.round(Math.abs(r)/(1e3*60*60*24));let s,a=`${i} days ago`;return r<0?(s="bg-sky-100 text-sky-800 dark:bg-sky-900 dark:text-sky-300",a=`In ${i} days`):i<=7?s="bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":i<=30?s="bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300":s="bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",y.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full whitespace-nowrap ${s}`,children:a})},aDe=t=>{if(!t||typeof t!="string")return"#";const e=t.trim();return e.startsWith("https://")||e.startsWith("https://")||e.startsWith("//")?e:`//${e}`},vY=(t,e=24)=>t?t.length<=e?t:t.slice(0,e-3).trim()+"...":"",oDe={apiKey:"AIzaSyDrWCHmSHWYwWNjDYYqbV1lASEiJbXeT8U",authDomain:"personal-dashboard-e8c8f.firebaseapp.com",projectId:"personal-dashboard-e8c8f",storageBucket:"personal-dashboard-e8c8f.firebasestorage.app",messagingSenderId:"906260519522",appId:"1:906260519522:web:f7d2e9666e3ee20d260f3b",measurementId:"G-R2Z1CJ9TW6"},ca="default-app-id",bY=yz(oDe),gm=fte(bY),Ms=die(bY),Um={"Morning Meal":{color:"#fbbf24",label:"Morning",bg:"bg-amber-50 dark:bg-amber-900/20",border:"border-amber-400",text:"text-amber-600 dark:text-amber-400"},"Night Meal":{color:"#60a5fa",label:"Night",bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-400",text:"text-blue-600 dark:text-blue-400"},Snacks:{color:"#c084fc",label:"Snacks",bg:"bg-purple-50 dark:bg-purple-900/20",border:"border-purple-400",text:"text-purple-600 dark:text-purple-400"}},lDe={color:"#f97316",bg:"bg-orange-50 dark:bg-orange-900/20",border:"border-orange-500",text:"text-orange-600 dark:text-orange-500"};function Mw({isHOF:t,onToggle:e,theme:n="orange"}){const r={orange:"text-amber-500",sky:"text-sky-500",teal:"text-teal-500",slate:"text-slate-500",violet:"text-violet-500",pink:"text-pink-500"},i=r[n]||r.orange;return y.jsxs("button",{onClick:e,className:"flex items-center gap-2 cursor-pointer w-full p-2 rounded-lg bg-black/5 dark:bg-white/5 backdrop-blur-sm border border-black/5 dark:border-white/10",children:[y.jsx(Gs,{className:`w-5 h-5 transition-colors ${t?i:"text-neutral-400"}`}),y.jsx("span",{className:`transition-colors font-semibold ${t?i:"text-neutral-700 dark:text-neutral-300"}`,children:t?"In Hall of Fame":"Add to Hall of Fame"})]})}const JM=({progress:t,color:e})=>{const s=40*Math.PI,a=_O(0),l=pk(a,d=>s-d/100*s),u=pk(a,d=>`${Math.round(d)}`),f=e||Jx(t);return A.useEffect(()=>b$(a,t||0,{duration:1.2,ease:"easeInOut"}).stop,[t,a]),y.jsxs("svg",{height:60,width:60,className:"-rotate-90",children:[y.jsx("circle",{className:"text-neutral-200 dark:text-neutral-700",stroke:"currentColor",fill:"transparent",strokeWidth:5,r:20,cx:30,cy:30}),y.jsx(Ae.circle,{stroke:f,fill:"transparent",strokeWidth:5,strokeDasharray:s+" "+s,r:20,cx:30,cy:30,strokeLinecap:"round",style:{strokeDashoffset:l}}),y.jsx(Ae.text,{x:"50%",y:"50%",textAnchor:"middle",dy:".3em",className:"text-sm font-bold fill-current text-neutral-700 dark:text-neutral-200",transform:"rotate(90 30,30)",children:u})]})};function cDe({intakeEntries:t,exerciseEntries:e,dailyGoal:n,setDailyGoal:r,onAddIntake:i,onUpdateIntake:s,onDeleteIntake:a,onAddExercise:l,onUpdateExercise:u,onDeleteExercise:f}){const[d,p]=A.useState(new Date().toISOString().slice(0,10)),[g,v]=A.useState({isOpen:!1,entry:null}),[x,S]=A.useState({isOpen:!1,entry:null}),T=A.useMemo(()=>t.filter(M=>M.date===d),[t,d]),_=A.useMemo(()=>e.filter(M=>M.date===d),[e,d]),C=A.useMemo(()=>T.reduce((M,P)=>M+P.calories,0),[T]),D=A.useMemo(()=>_.reduce((M,P)=>{const F=P.calories||0,V=(P.steps||0)*.04;return M+F+V},0),[_]),L=M=>{g.entry?s(M.id,M):i(M),v({isOpen:!1,entry:null})},R=M=>{x.entry?u(M.id,M):l(M),S({isOpen:!1,entry:null})},B=M=>{window.confirm("Are you sure you want to delete this entry?")&&a(M)},N=M=>{window.confirm("Are you sure you want to delete this entry?")&&f(M)};return y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[y.jsxs("div",{className:"lg:col-span-1 space-y-6 flex flex-col",children:[y.jsx(dDe,{intake:C,burned:Math.round(D),goal:n,setGoal:r}),y.jsx(rz,{title:"Today's Intake",entries:T,onAdd:()=>v({isOpen:!0,entry:null}),onEdit:M=>v({isOpen:!0,entry:M}),onDelete:B,categoryStyles:Um,entryComponent:pDe,date:d,setDate:p,themeColor:"blue"}),y.jsx(rz,{title:"Today's Activity",entries:_,onAdd:()=>S({isOpen:!0,entry:null}),onEdit:M=>S({isOpen:!0,entry:M}),onDelete:N,categoryStyles:lDe,entryComponent:mDe,date:d,setDate:p,themeColor:"orange"})]}),y.jsx("div",{className:"lg:col-span-2 space-y-6",children:y.jsx(vDe,{allIntake:t,allExercises:e,dailyGoal:n})}),y.jsxs(Ht,{children:[g.isOpen&&y.jsx(gDe,{isOpen:g.isOpen,onClose:()=>v({isOpen:!1,entry:null}),onSave:L,entry:g.entry,date:d,theme:"blue"}),x.isOpen&&y.jsx(yDe,{isOpen:x.isOpen,onClose:()=>S({isOpen:!1,entry:null}),onSave:R,entry:x.entry,date:d,theme:"orange"})]})]})}const uDe=(t,e)=>{const n=t/e;return t===0?{comment:"Let's get started!",icon:y.jsx(nu,{className:"w-4 h-4"}),bgColor:"bg-white dark:bg-neutral-800/30",textColor:"text-neutral-500"}:n>1.1?{comment:"A feast for the ages!",icon:y.jsx(Gs,{className:"w-4 h-4"}),bgColor:"bg-red-100 dark:bg-red-900/30",textColor:"text-red-500"}:n>1?{comment:"You've hit your goal... and then some!",icon:y.jsx(Cw,{className:"w-4 h-4"}),bgColor:"bg-orange-100 dark:bg-orange-900/30",textColor:"text-orange-500"}:n>=.8?{comment:"Almost there, finish strong!",icon:y.jsx(Fc,{className:"w-4 h-4"}),bgColor:"bg-green-100 dark:bg-green-900/30",textColor:"text-green-500"}:{comment:"Nicely balanced day.",icon:y.jsx(YM,{className:"w-4 h-4"}),bgColor:"bg-white dark:bg-neutral-800/30",textColor:"text-neutral-500"}},fDe=t=>t>300?{comment:"Incredible energy!",icon:y.jsx(nu,{className:"w-4 h-4"}),bgColor:"bg-orange-100 dark:bg-orange-900/30",textColor:"text-orange-500"}:t>200?{comment:"Great workout!",icon:y.jsx(Sy,{className:"w-4 h-4"}),bgColor:"bg-white dark:bg-neutral-800/30",textColor:"text-neutral-500"}:t>0?{comment:"Activity logged!",icon:y.jsx(Nf,{className:"w-4 h-4"}),bgColor:"bg-white dark:bg-neutral-800/30",textColor:"text-neutral-500"}:{comment:"Ready to move.",icon:y.jsx(XM,{className:"w-4 h-4"}),bgColor:"bg-white dark:bg-neutral-800/30",textColor:"text-neutral-500"};function dDe({intake:t,burned:e,goal:n,setGoal:r}){const i=uDe(t,n),s=fDe(e);return y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[y.jsxs("div",{className:`p-4 rounded-xl border transition-colors ${i.bgColor} border-blue-200 dark:border-blue-800`,children:[y.jsxs("div",{className:"text-center",children:[y.jsx("span",{className:"font-bold text-blue-800 dark:text-blue-300",children:"Intake"}),y.jsx("p",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400",children:t}),y.jsxs("div",{className:"flex items-center justify-center w-full",children:[y.jsxs("p",{className:"text-sm text-blue-500 dark:text-blue-400",children:["/ ",n," Calorie Goal"]}),y.jsx(hDe,{goal:n,setGoal:r})]})]}),y.jsxs("div",{className:`mt-2 flex items-center justify-center gap-2 text-sm font-semibold ${i.textColor}`,children:[i.icon,y.jsx("span",{children:i.comment})]})]}),y.jsxs("div",{className:`p-4 rounded-xl border transition-colors ${s.bgColor} border-orange-200 dark:border-orange-800`,children:[y.jsxs("div",{className:"text-center",children:[y.jsx("span",{className:"font-bold text-orange-800 dark:text-orange-300",children:"Burned"}),y.jsx("p",{className:"text-4xl font-bold text-orange-600 dark:text-orange-400",children:e}),y.jsx("p",{className:"text-sm text-orange-500 dark:text-orange-400",children:"kcal"})]}),y.jsxs("div",{className:`mt-2 flex items-center justify-center gap-2 text-sm font-semibold ${s.textColor}`,children:[s.icon,y.jsx("span",{children:s.comment})]})]})]})}function hDe({goal:t,setGoal:e}){const[n,r]=A.useState(!1),[i,s]=A.useState(String(t)),a=()=>{const l=Number(i);isNaN(l)||e(l),r(!1)};return n?y.jsx("div",{className:"flex items-center gap-1 ml-1",children:y.jsx("input",{type:"number",value:i,onChange:l=>s(l.target.value),className:"w-16 p-0.5 text-center bg-blue-100 dark:bg-blue-800 rounded-md text-sm",autoFocus:!0,onBlur:a,onKeyDown:l=>{l.key==="Enter"&&a()}})}):y.jsx("button",{onClick:()=>r(!0),className:"p-1 rounded-full hover:bg-blue-200 dark:hover:bg-blue-700 ml-1",children:y.jsx(Nw,{className:"w-3 h-3 text-blue-500"})})}function rz({title:t,entries:e,onAdd:n,onEdit:r,onDelete:i,categoryStyles:s,entryComponent:a,date:l,setDate:u,themeColor:f}){const d=v=>{const[x,S,T]=l.split("-").map(Number),_=new Date(Date.UTC(x,S-1,T));_.setUTCDate(_.getUTCDate()+v),u(_.toISOString().slice(0,10))},g={blue:{title:"text-blue-600 dark:text-blue-400",button:"bg-blue-400/20 dark:bg-blue-500/10 border border-blue-500/30 text-blue-700 dark:text-blue-300 backdrop-blur-sm hover:bg-blue-400/30 dark:hover:bg-blue-500/20",bg:"bg-blue-50/60 dark:bg-blue-950/40 backdrop-blur-lg"},orange:{title:"text-orange-600 dark:text-orange-400",button:"bg-orange-400/20 dark:bg-orange-500/10 border border-orange-500/30 text-orange-700 dark:text-orange-300 backdrop-blur-sm hover:bg-orange-400/30 dark:hover:bg-orange-500/20",bg:"bg-orange-50/60 dark:bg-orange-950/40 backdrop-blur-lg"}}[f];return y.jsxs("div",{className:`flex-grow flex flex-col p-4 rounded-xl border border-neutral-200/50 dark:border-neutral-700/50 ${g.bg}`,children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h3",{className:`font-bold text-lg ${g.title}`,children:t}),y.jsxs("button",{onClick:n,className:`px-3 py-1.5 text-sm font-semibold rounded-lg flex items-center gap-1 transition-colors ${g.button}`,children:[y.jsx(as,{className:"w-4 h-4"})," Add"]})]}),y.jsxs("div",{className:"flex items-center justify-between gap-2 mb-4 text-sm font-semibold text-neutral-600 dark:text-neutral-300",children:[y.jsx("button",{onClick:()=>d(-1),className:"p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5",children:y.jsx(Uc,{className:"w-5 h-5"})}),y.jsx("div",{className:"flex-grow text-center",children:new Date(l+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),y.jsx("button",{onClick:()=>d(1),className:"p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5",children:y.jsx(Uc,{className:"w-5 h-5 rotate-180"})})]}),y.jsxs("div",{className:"space-y-3 overflow-y-auto no-scrollbar flex-grow",children:[e.length===0&&y.jsx("div",{className:"text-center py-10 text-neutral-500",children:y.jsx("p",{className:"mt-2 text-sm",children:"No entries for this day."})}),y.jsx(a,{entries:e,onEdit:r,onDelete:i,categoryStyles:s})]})]})}function pDe({entries:t,onEdit:e,onDelete:n,categoryStyles:r}){const i=t.reduce((a,l)=>(a[l.category]||(a[l.category]=[]),a[l.category].push(l),a),{});return["Morning Meal","Night Meal","Snacks"].map(a=>i[a]&&y.jsxs("div",{children:[y.jsx("h4",{className:`text-sm font-bold mb-1 ml-1 ${r[a].text}`,children:r[a].label}),y.jsx("div",{className:"space-y-1",children:i[a].map(l=>y.jsxs("div",{className:`p-2 rounded-lg flex items-center justify-between group bg-black/5 dark:bg-white/5 backdrop-blur-sm border-l-4 ${r[a].border}`,children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-sm",children:l.name}),y.jsxs("p",{className:"text-xs text-neutral-500",children:[l.calories," kcal (",l.portion,")"]})]}),y.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>e(l),className:"p-1 hover:text-green-500",children:y.jsx(Vr,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>n(l.id),className:"p-1 hover:text-red-500",children:y.jsx(ui,{className:"w-4 h-4"})})]})]},l.id))})]},a))}function mDe({entries:t,onEdit:e,onDelete:n,categoryStyles:r}){return y.jsx("div",{children:y.jsx("div",{className:"space-y-2",children:t.map(i=>{const s=i.name.toLowerCase().includes("steps");return y.jsxs("div",{className:`p-2 rounded-lg flex items-center justify-between group bg-black/5 dark:bg-white/5 backdrop-blur-sm border-l-4 ${r.border}`,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[s?y.jsx(XM,{className:"w-5 h-5"}):y.jsx(Sy,{className:"w-5 h-5"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-sm",children:i.name}),y.jsx("p",{className:"text-xs text-neutral-500",children:s?`${i.steps} steps  ${Math.round(i.steps*.04)} kcal`:`${i.calories} kcal ${i.time?`(${i.time} min)`:""}`})]})]}),y.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>e(i),className:"p-1 hover:text-green-500",children:y.jsx(Vr,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>n(i.id),className:"p-1 hover:text-red-500",children:y.jsx(ui,{className:"w-4 h-4"})})]})]},i.id)})})})}function gDe({onClose:t,onSave:e,entry:n,date:r,theme:i="blue"}){const[s,a]=A.useState({date:r,category:"Morning Meal",name:"",calories:"",portion:"",notes:""});A.useEffect(()=>{a(n||{date:r,category:"Morning Meal",name:"",calories:"",portion:"",notes:""})},[n,r]);const l=g=>{const{name:v,value:x}=g.target;a(S=>({...S,[v]:v==="calories"?Number(x):x}))},u=()=>{if(!s.name||!s.calories){alert("Please fill in food name and calories.");return}e(s)},d={blue:{title:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50/80 dark:bg-blue-950/60 backdrop-blur-xl",button:"bg-blue-600",focusRing:"focus:ring-blue-400"}}[i],p=`w-full p-2 bg-black/5 dark:bg-white/5 rounded-md border border-black/5 dark:border-white/10 backdrop-blur-sm focus:ring-2 ${d.focusRing} focus:outline-none`;return y.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t,children:y.jsxs(Ae.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:`rounded-2xl shadow-xl w-full max-w-md ${d.bg}`,onClick:g=>g.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("h3",{className:`text-xl font-bold mb-4 ${d.title}`,children:[n?"Edit":"Add"," Intake Entry"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("select",{name:"category",value:s.category,onChange:l,className:p,children:Object.keys(Um).map(g=>y.jsx("option",{value:g,children:g},g))}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("input",{type:"text",name:"name",placeholder:"Food Name",value:s.name,onChange:l,className:p}),y.jsx("input",{type:"number",name:"calories",placeholder:"Calories (kcal)",value:s.calories,onChange:l,className:p})]}),y.jsx("input",{type:"text",name:"portion",placeholder:"Portion / Amount",value:s.portion,onChange:l,className:p}),y.jsx("textarea",{name:"notes",placeholder:"Optional notes...",value:s.notes,onChange:l,rows:"2",className:`${p} resize-none`})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:u,className:`px-4 py-2 rounded-lg text-white font-semibold ${d.button}`,children:"Save"})]})]})})}function yDe({onClose:t,onSave:e,entry:n,date:r,theme:i="orange"}){const[s,a]=A.useState("exercise"),[l,u]=A.useState({date:r,name:"",time:"",calories:"",steps:""});A.useEffect(()=>{n?(a(n.steps?"steps":"exercise"),u(n)):(a("exercise"),u({date:r,name:"",time:"",calories:"",steps:""}))},[n,r]);const f=x=>{const{name:S,value:T}=x.target;u(_=>({..._,[S]:Number(T)||T}))},d=()=>{if(s==="exercise"&&(!l.name||!l.calories)){alert("Please fill in an activity name and calories burned.");return}if(s==="steps"&&!l.steps){alert("Please enter your step count.");return}const x=s==="steps"?{...l,name:"Daily Steps",calories:0,time:""}:{...l,steps:""};e(x)},g={orange:{title:"text-orange-600 dark:text-orange-400",bg:"bg-orange-50/80 dark:bg-orange-950/60 backdrop-blur-xl",button:"bg-orange-500",focusRing:"focus:ring-orange-400"}}[i],v=`w-full p-2 bg-black/5 dark:bg-white/5 rounded-md border border-black/5 dark:border-white/10 backdrop-blur-sm focus:ring-2 ${g.focusRing} focus:outline-none`;return y.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t,children:y.jsxs(Ae.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:`rounded-2xl shadow-xl w-full max-w-md ${g.bg}`,onClick:x=>x.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("h3",{className:`text-xl font-bold mb-2 ${g.title}`,children:[n?"Edit":"Add"," Activity"]}),y.jsxs("div",{className:"flex items-center gap-1 bg-black/5 dark:bg-white/5 p-1 rounded-lg mb-4 border border-black/5 dark:border-white/10",children:[y.jsx("button",{onClick:()=>a("exercise"),className:`w-full px-2 py-1 text-sm rounded-md transition-colors ${s==="exercise"?"bg-white dark:bg-neutral-600":"hover:bg-black/5 dark:hover:bg-white/5"}`,children:"Exercise"}),y.jsx("button",{onClick:()=>a("steps"),className:`w-full px-2 py-1 text-sm rounded-md transition-colors ${s==="steps"?"bg-white dark:bg-neutral-600":"hover:bg-black/5 dark:hover:bg-white/5"}`,children:"Steps"})]}),s==="exercise"?y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",name:"name",placeholder:"Activity (e.g., Running)",value:l.name,onChange:f,className:v}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("input",{type:"number",name:"time",placeholder:"Time (minutes)",value:l.time,onChange:f,className:v}),y.jsx("input",{type:"number",name:"calories",placeholder:"Calories Burned",value:l.calories,onChange:f,className:v})]})]}):y.jsx("div",{className:"space-y-4",children:y.jsx("input",{type:"number",name:"steps",placeholder:"Total Steps for the day",value:l.steps,onChange:f,className:v})})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:d,className:`px-4 py-2 rounded-lg text-white font-semibold ${g.button}`,children:"Save"})]})]})})}function vDe({allIntake:t,allExercises:e,dailyGoal:n}){const[r,i]=A.useState(7),s=document.documentElement.classList.contains("dark")?"dark":"light",a=s==="dark"?"#404040":"#e5e5e5",l=s==="dark"?"#d4d4d4":"#525252",{intakeData:u,burnedData:f,yMax:d}=A.useMemo(()=>{const p={},g={},v=new Set([...t.map(N=>N.date),...e.map(N=>N.date)]);let x=new Date;if(typeof r=="number")x.setDate(x.getDate()-r);else{const N=Array.from(v).map(M=>new Date(M).getTime());N.length>0&&(x=new Date(Math.min(...N)))}const S=new Date,T=typeof r=="number"?new Date(new Date().setDate(S.getDate()-(r-1))):x;for(let N=new Date;N>=T;N.setDate(N.getDate()-1)){const M=N.toISOString().slice(0,10);v.add(M)}Array.from(v).sort((N,M)=>new Date(N)-new Date(M)).filter(N=>new Date(N)>=T).forEach(N=>{p[N]={date:N,"Morning Meal":0,"Night Meal":0,Snacks:0,total:0},g[N]={date:N,total:0}}),t.forEach(N=>{p[N.date]&&(p[N.date][N.category]=(p[N.date][N.category]||0)+N.calories,p[N.date].total+=N.calories)}),e.forEach(N=>{if(g[N.date]){const M=(Number(N.steps)||0)*.04;g[N.date].total+=(Number(N.calories)||0)+M}});const C=Object.values(p).sort((N,M)=>new Date(N.date)-new Date(M.date)),D=Object.values(g).sort((N,M)=>new Date(N.date)-new Date(M.date)),L=Math.max(...C.map(N=>N.total),n),R=Math.max(...D.map(N=>N.total)),B=Math.ceil((Math.max(L,R)+100)/100)*100;return{intakeData:C,burnedData:D,yMax:B}},[t,e,r,n]);return y.jsxs("div",{className:"bg-white/50 dark:bg-neutral-800/30 p-4 rounded-xl border border-neutral-200 dark:border-neutral-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4 px-2",children:[y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[y.jsx(LMe,{className:"w-5 h-5"}),"Analytics"]}),y.jsxs("div",{className:"flex items-center gap-1 bg-neutral-200 dark:bg-neutral-700 p-1 rounded-lg",children:[y.jsx("button",{onClick:()=>i(7),className:`px-2 py-0.5 text-sm rounded-md ${r===7?"bg-white dark:bg-neutral-600":""}`,children:"Week"}),y.jsx("button",{onClick:()=>i(30),className:`px-2 py-0.5 text-sm rounded-md ${r===30?"bg-white dark:bg-neutral-600":""}`,children:"Month"}),y.jsx("button",{onClick:()=>i("all"),className:`px-2 py-0.5 text-sm rounded-md ${r==="all"?"bg-white dark:bg-neutral-600":""}`,children:"All"})]})]}),y.jsx("h4",{className:"font-semibold mb-2 ml-2 text-blue-600 dark:text-blue-400",children:"Intake Trend"}),y.jsx(O_,{width:"100%",height:180,children:y.jsxs(xB,{data:u,margin:{top:5,right:20,left:-10,bottom:5},children:[y.jsx(Hv,{strokeDasharray:"3 3",stroke:a}),y.jsx(Kv,{dataKey:"date",tickFormatter:p=>new Date(p+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"}),tick:{fill:l,fontSize:12}}),y.jsx(Wv,{tick:{fill:l,fontSize:12},domain:[0,d]}),y.jsx(T_,{contentStyle:{backgroundColor:s==="dark"?"#262626":"#fff",border:"1px solid #525252"}}),y.jsx(qv,{type:"monotone",dataKey:"total",name:"Intake",stroke:"#60a5fa",strokeWidth:2,dot:{r:4},activeDot:{r:6}}),y.jsx(qv,{type:"monotone",dataKey:()=>n,name:"Goal",stroke:"#ef4444",strokeWidth:2,strokeDasharray:"5 5",dot:!1})]})}),y.jsx("h4",{className:"font-semibold mt-6 mb-2 ml-2 text-blue-600 dark:text-blue-400",children:"Intake Breakdown (Last 7 Days)"}),y.jsx(O_,{width:"100%",height:180,children:y.jsxs(eEe,{data:u.slice(-7),margin:{top:5,right:20,left:-10,bottom:5},children:[y.jsx(Hv,{strokeDasharray:"3 3",stroke:a}),y.jsx(Kv,{dataKey:"date",tickFormatter:p=>new Date(p+"T00:00:00").toLocaleDateString("en-US",{weekday:"short"}),tick:{fill:l,fontSize:12}}),y.jsx(Wv,{tick:{fill:l,fontSize:12},domain:[0,d]}),y.jsx(T_,{contentStyle:{backgroundColor:s==="dark"?"#262626":"#fff",border:"1px solid #525252"}}),y.jsx($v,{dataKey:"Morning Meal",stackId:"a",fill:Um["Morning Meal"].color,name:"Morning"}),y.jsx($v,{dataKey:"Night Meal",stackId:"a",fill:Um["Night Meal"].color,name:"Night"}),y.jsx($v,{dataKey:"Snacks",stackId:"a",fill:Um.Snacks.color,name:"Snacks",radius:[4,4,0,0]})]})}),y.jsx("h4",{className:"font-semibold mt-6 mb-2 ml-2 text-orange-600 dark:text-orange-400",children:"Burned Trend"}),y.jsx(O_,{width:"100%",height:180,children:y.jsxs(xB,{data:f,margin:{top:5,right:20,left:-10,bottom:5},children:[y.jsx(Hv,{strokeDasharray:"3 3",stroke:a}),y.jsx(Kv,{dataKey:"date",tickFormatter:p=>new Date(p+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"}),tick:{fill:l,fontSize:12}}),y.jsx(Wv,{tick:{fill:l,fontSize:12},domain:[0,d]}),y.jsx(T_,{contentStyle:{backgroundColor:s==="dark"?"#262626":"#fff",border:"1px solid #525252"}}),y.jsx(qv,{type:"monotone",dataKey:"total",name:"Burned",stroke:"#f97316",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})]})}function bDe({achievements:t,onAdd:e,onUpdate:n,onDelete:r,theme:i="emerald"}){const[s,a]=A.useState({isOpen:!1,data:null}),l=t.filter(d=>d.type==="earned").sort((d,p)=>new Date(p.date)-new Date(d.date)),u=t.filter(d=>d.type==="planned"),f=d=>{s.data?.id?n("achievements",s.data.id,d):e(d),a({isOpen:!1,data:null})};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:"Showcase"}),y.jsxs("button",{onClick:()=>a({isOpen:!0,data:null,theme:i}),className:"px-4 py-2 bg-emerald-500 text-white font-semibold rounded-lg flex items-center gap-2 hover:bg-emerald-600 transition-colors",children:[y.jsx(as,{className:"w-5 h-5"})," Add Achievement"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(d=>y.jsx(xDe,{achievement:d,onUpdate:n,onDelete:()=>r(d.id),onEdit:()=>a({isOpen:!0,data:d,theme:i})},d.id))}),u.length>0&&y.jsxs(y.Fragment,{children:[y.jsx("h2",{className:"text-3xl font-bold mt-12 mb-6 text-sky-600 dark:text-sky-400",children:"Future Conquests"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(d=>y.jsx(wDe,{achievement:d,onEdit:()=>a({isOpen:!0,data:d,theme:i}),onDelete:()=>r(d.id)},d.id))})]}),y.jsx(Ht,{children:s.isOpen&&y.jsx(SDe,{isOpen:s.isOpen,initialData:s.data,onClose:()=>a({isOpen:!1,data:null}),onSave:f,theme:s.theme})})]})}function xDe({achievement:t,onUpdate:e,onDelete:n,onEdit:r}){const[i,s]=A.useState(!1),a=QM[t.icon]||Gs,l=Wd[t.color]||Wd.green,u=d=>{e("achievements",t.id,{color:d}),s(!1)},f={"--glow-c1":l.glowColors.c1,"--glow-c2":l.glowColors.c2,"--glow-c3":l.glowColors.c3};return y.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Math.random()*.2},style:f,className:"showcase-glow hall-of-fame-content group relative bg-white dark:bg-neutral-800/50 rounded-xl p-6 h-full flex flex-col justify-center items-center text-center border border-neutral-200 dark:border-neutral-700",children:[y.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-20",children:[y.jsx("button",{onClick:()=>s(!i),children:y.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-sky-300 to-violet-300"})}),y.jsx("button",{onClick:r,children:y.jsx(Vr,{className:"w-4 h-4 text-neutral-400 hover:text-green-500"})}),y.jsx("button",{onClick:n,children:y.jsx(ui,{className:"w-4 h-4 text-neutral-400 hover:text-red-500"})})]}),i&&y.jsx(Ae.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"absolute top-10 right-2 z-10 bg-white dark:bg-neutral-800 p-2 rounded-lg shadow-lg flex gap-2",children:Object.keys(Wd).map(d=>y.jsx("button",{onClick:()=>u(d),children:y.jsx("div",{className:`w-5 h-5 rounded-full ${Wd[d].text.replace("text","bg")}`})},d))}),y.jsx(a,{className:`w-16 h-16 mb-4 transition-colors ${l.text}`}),y.jsx("h3",{className:`font-bold text-lg transition-colors ${l.text}`,children:t.title}),y.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:t.date}),t.comment&&y.jsx("div",{className:"mt-4 text-left",children:y.jsxs("p",{style:{fontFamily:"'Caveat', cursive"},className:"text-lg text-neutral-500 dark:text-neutral-400 opacity-80 break-all",children:['"',t.comment,'"']})})]})}function wDe({achievement:t,onEdit:e,onDelete:n}){const r=QM[t.icon]||Fc;return y.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Math.random()*.2},className:"group relative border-2 border-dashed border-neutral-300 dark:border-neutral-700 rounded-xl p-6 h-full flex flex-col justify-center items-center text-center",children:[y.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:e,children:y.jsx(Vr,{className:"w-4 h-4 text-neutral-400 hover:text-green-500"})}),y.jsx("button",{onClick:n,children:y.jsx(ui,{className:"w-4 h-4 text-neutral-400 hover:text-red-500"})})]}),y.jsx(r,{className:"w-12 h-12 text-neutral-400 dark:text-neutral-500 mb-4"}),y.jsx("h3",{className:"font-semibold text-neutral-600 dark:text-neutral-300",children:t.title})]})}function SDe({initialData:t,onClose:e,onSave:n,theme:r="emerald"}){const[i,s]=A.useState({title:t?.title||"",date:t?.date||"",type:t?.type||"earned",icon:t?.icon||"Trophy",color:t?.color||"green",comment:t?.comment||""}),a=p=>{const{name:g,value:v}=p.target;s(x=>({...x,[g]:v}))},l=()=>{i.title&&n(i)},f={emerald:{title:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50/80 dark:bg-emerald-950/60 backdrop-blur-xl",button:"bg-emerald-500",focusRing:"focus:ring-emerald-400"}}[r],d=`w-full p-2 bg-black/5 dark:bg-white/5 rounded-md border border-black/5 dark:border-white/10 backdrop-blur-sm focus:ring-2 ${f.focusRing} focus:outline-none`;return y.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:y.jsxs(Ae.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:`rounded-2xl shadow-xl w-full max-w-md ${f.bg}`,onClick:p=>p.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("h3",{className:`text-xl font-bold mb-4 ${f.title}`,children:[t?"Edit":"Add"," Achievement"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",name:"title",placeholder:"Achievement Title",value:i.title,onChange:a,className:d}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("select",{name:"type",value:i.type,onChange:a,className:d,children:[y.jsx("option",{value:"earned",children:"Earned"}),y.jsx("option",{value:"planned",children:"Planned"})]}),y.jsx(Dw,{value:i.icon,onChange:p=>s(g=>({...g,icon:p})),iconMap:QM})]}),i.type==="earned"&&y.jsx("input",{type:"date",name:"date",value:i.date,onChange:a,className:d}),y.jsx("textarea",{name:"comment",placeholder:"Add a personal comment...",value:i.comment,onChange:a,rows:"2",className:`${d} resize-none`}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-semibold text-neutral-500",children:"Theme Color"}),y.jsx("div",{className:"flex items-center justify-around mt-2 bg-black/5 dark:bg-white/5 p-2 rounded-lg",children:Object.keys(Wd).map(p=>y.jsx("button",{onClick:()=>s(g=>({...g,color:p})),className:`w-6 h-6 rounded-full transition-transform ${i.color===p?"scale-125 ring-2 ring-offset-2 ring-blue-500":""}`,children:y.jsx("div",{className:`w-full h-full rounded-full ${Wd[p].text.replace("text","bg")}`})},p))})]})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:l,className:`px-4 py-2 rounded-lg text-white font-semibold ${f.button}`,children:"Save"})]})]})})}function TDe({isOpen:t,onClose:e,onSave:n,config:r,theme:i="violet"}){const[s,a]=A.useState({name:"",section:"",tags:"",hallOfFame:!1,icon:"Code"});A.useEffect(()=>{t&&a({name:"",section:"",tags:"",hallOfFame:!1,icon:"Code"})},[t]);const l=g=>{const{name:v,value:x,type:S,checked:T}=g.target;a(_=>({..._,[v]:S==="checkbox"?T:x}))},u=()=>{if(!s.name.trim())return;const g={...s,expertise:50,tags:s.tags.split(",").map(v=>v.trim()).filter(Boolean)};n(g),e()},d={violet:{title:"text-violet-600 dark:text-violet-400",bg:"bg-violet-50/80 dark:bg-violet-950/60 backdrop-blur-xl",button:"bg-violet-500",focusRing:"focus:ring-violet-400"},pink:{title:"text-pink-600 dark:text-pink-400",bg:"bg-pink-50/80 dark:bg-pink-950/60 backdrop-blur-xl",button:"bg-pink-500",focusRing:"focus:ring-pink-400"}}[i],p=`w-full p-2 bg-black/5 dark:bg-white/5 rounded-md backdrop-blur-sm focus:ring-2 ${d.focusRing} focus:outline-none`;return y.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:y.jsxs(Ae.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:`rounded-2xl shadow-xl w-full max-w-md ${d.bg}`,onClick:g=>g.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("h3",{className:`text-xl font-bold mb-4 ${d.title}`,children:["Add New ",r.name]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",name:"name",placeholder:`${r.name} name`,value:s.name,onChange:l,className:p}),!r.hideSection&&y.jsx("input",{type:"text",name:"section",placeholder:r.section,value:s.section,onChange:l,className:p}),r.hasTags&&y.jsx("input",{type:"text",name:"tags",placeholder:"Tags (comma-separated)",value:s.tags,onChange:l,className:p}),y.jsx(Mw,{isHOF:s.hallOfFame,onToggle:()=>a(g=>({...g,hallOfFame:!g.hallOfFame})),theme:i})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:u,className:`px-4 py-2 rounded-lg text-white font-semibold ${d.button}`,children:"Add Item"})]})]})})}function EDe({onClose:t,onSave:e,theme:n="sky"}){const[r,i]=A.useState({title:"",author:"",tags:"",status:"planned",pageCount:"",hallOfFame:!1,startedAt:"",daysToFinish:"",link:""}),s=d=>{const{name:p,value:g,type:v,checked:x}=d.target;i(S=>({...S,[p]:v==="checkbox"?x:g}))},a=()=>{if(!r.title.trim()||!r.author.trim())return;const d={...r,tags:r.tags.split(",").map(p=>p.trim()).filter(Boolean),progress:r.status==="finished"?100:0,rating:0};e(d),t()},l={sky:{title:"text-sky-600 dark:text-sky-400",bg:"bg-sky-50/80 dark:bg-sky-950/60 backdrop-blur-xl",button:"bg-sky-500"},orange:{title:"text-amber-500",bg:"bg-amber-50/80 dark:bg-neutral-800/60 backdrop-blur-xl",button:"bg-amber-500"}},u=l[n]||l.orange,f="w-full p-2 bg-black/5 dark:bg-white/5 rounded-md border border-black/5 dark:border-white/10 backdrop-blur-sm focus:ring-2 focus:ring-sky-400 focus:outline-none";return y.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t,children:y.jsxs(Ae.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:`rounded-2xl shadow-xl w-full max-w-md ${u.bg}`,onClick:d=>d.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:`text-xl font-bold mb-4 ${u.title}`,children:"Add New Book"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("input",{type:"text",name:"title",value:r.title,onChange:s,placeholder:"Book Title",className:f}),y.jsx("input",{type:"text",name:"author",value:r.author,onChange:s,placeholder:"Author",className:f}),y.jsx("input",{type:"number",name:"pageCount",value:r.pageCount,onChange:s,placeholder:"Page Count",className:f}),y.jsx("input",{type:"text",name:"tags",value:r.tags,onChange:s,placeholder:"Tags (comma-separated)",className:f}),y.jsx("input",{type:"url",name:"link",value:r.link,onChange:s,placeholder:"Link to Book (URL)",className:f}),y.jsxs("select",{name:"status",value:r.status,onChange:s,className:f,children:[y.jsx("option",{value:"planned",children:"Planned to Read"}),y.jsx("option",{value:"reading",children:"Currently Reading"}),y.jsx("option",{value:"finished",children:"Finished"})]}),r.status==="reading"&&y.jsx("input",{type:"date",name:"startedAt",value:r.startedAt,onChange:s,title:"Start Date",className:f}),r.status==="finished"&&y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("input",{type:"date",name:"startedAt",value:r.startedAt,onChange:s,title:"Start Date",className:f}),y.jsx("input",{type:"number",name:"daysToFinish",value:r.daysToFinish,onChange:s,placeholder:"Days to finish",className:f})]}),y.jsx(Mw,{isHOF:r.hallOfFame,onToggle:()=>i(d=>({...d,hallOfFame:!d.hallOfFame})),theme:n})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:a,className:`px-4 py-2 rounded-lg text-white font-semibold ${u.button}`,children:"Add to Library"})]})]})})}function _De({onClose:t,onSave:e,theme:n="teal"}){const[r,i]=A.useState({title:"",author:"",tags:"",status:"planned",pageCount:"",hallOfFame:!1,startedAt:"",daysToFinish:"",link:""}),s=d=>{const{name:p,value:g,type:v,checked:x}=d.target;i(S=>({...S,[p]:v==="checkbox"?x:g}))},a=()=>{if(!r.title.trim()||!r.author.trim())return;const d={...r,tags:r.tags.split(",").map(p=>p.trim()).filter(Boolean),progress:r.status==="finished"?100:0,rating:0};e(d),t()},u={teal:{title:"text-teal-600 dark:text-teal-400",bg:"bg-teal-50/80 dark:bg-teal-950/60 backdrop-blur-xl",button:"bg-teal-500"}}[n],f="w-full p-2 bg-black/5 dark:bg-white/5 rounded-md border border-black/5 dark:border-white/10 backdrop-blur-sm focus:ring-2 focus:ring-teal-400 focus:outline-none";return y.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t,children:y.jsxs(Ae.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:`rounded-2xl shadow-xl w-full max-w-md ${u.bg}`,onClick:d=>d.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:`text-xl font-bold mb-4 ${u.title}`,children:"Add New Thesis"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("input",{type:"text",name:"title",value:r.title,onChange:s,placeholder:"Thesis Title",className:f}),y.jsx("input",{type:"text",name:"author",value:r.author,onChange:s,placeholder:"Author / Supervisor",className:f}),y.jsx("input",{type:"number",name:"pageCount",value:r.pageCount,onChange:s,placeholder:"Page Count",className:f}),y.jsx("input",{type:"text",name:"tags",value:r.tags,onChange:s,placeholder:"Tags (e.g., Computer Science)",className:f}),y.jsx("input",{type:"url",name:"link",value:r.link,onChange:s,placeholder:"Link to Thesis (URL)",className:f}),y.jsxs("select",{name:"status",value:r.status,onChange:s,className:f,children:[y.jsx("option",{value:"planned",children:"Planned to Read"}),y.jsx("option",{value:"reading",children:"Currently Reading"}),y.jsx("option",{value:"finished",children:"Finished"})]}),y.jsx(Mw,{isHOF:r.hallOfFame,onToggle:()=>i(d=>({...d,hallOfFame:!d.hallOfFame})),theme:n})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:a,className:`px-4 py-2 rounded-lg text-white font-semibold ${u.button}`,children:"Add to List"})]})]})})}function ADe({isOpen:t,onClose:e,onSave:n,config:r,theme:i="slate"}){const[s,a]=A.useState({title:"",primaryField:"",tags:"",length:"",status:"planned",hallOfFame:!1});A.useEffect(()=>{t&&a({title:"",primaryField:"",tags:"",length:"",status:"planned",hallOfFame:!1})},[t]);const l=g=>{const{name:v,value:x,type:S,checked:T}=g.target;a(_=>({..._,[v]:S==="checkbox"?T:x}))},u=()=>{if(!s.title.trim()||!s.primaryField.trim())return;const g={title:s.title,[r.primaryField.toLowerCase()]:s.primaryField,tags:s.tags.split(",").map(v=>v.trim()).filter(Boolean),status:r.hidePlanned?r.type==="Movie"?"watched":"listened":s.status,length:s.length,hallOfFame:s.hallOfFame,rating:0};n(g),e()},d={slate:{title:"text-slate-600 dark:text-slate-400",bg:"bg-slate-50/80 dark:bg-slate-800/80 backdrop-blur-xl",button:"bg-slate-500",focusRing:"focus:ring-slate-400"},violet:{title:"text-violet-600 dark:text-violet-400",bg:"bg-violet-50/80 dark:bg-violet-950/60 backdrop-blur-xl",button:"bg-violet-500",focusRing:"focus:ring-violet-400"}}[i],p=`w-full p-2 bg-black/5 dark:bg-white/5 rounded-md backdrop-blur-sm focus:ring-2 ${d.focusRing} focus:outline-none`;return y.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:y.jsxs(Ae.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:`rounded-2xl shadow-xl w-full max-w-md ${d.bg}`,onClick:g=>g.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("h3",{className:`text-xl font-bold mb-4 ${d.title}`,children:["Add New ",r.type]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("input",{type:"text",name:"title",value:s.title,onChange:l,placeholder:r.type+" Title",className:p}),y.jsx("input",{type:"text",name:"primaryField",value:s.primaryField,onChange:l,placeholder:r.primaryField,className:p}),r.hasLength&&y.jsx("input",{type:"number",name:"length",value:s.length,onChange:l,placeholder:"Length (minutes)",className:p}),y.jsx("input",{type:"text",name:"tags",value:s.tags,onChange:l,placeholder:"Tags (comma-separated)",className:p}),!r.hidePlanned&&y.jsxs("select",{name:"status",value:s.status,onChange:l,className:p,children:[y.jsx("option",{value:"planned",children:"Planned"}),y.jsx("option",{value:"watched",children:"Watched"})]}),y.jsx(Mw,{isHOF:s.hallOfFame,onToggle:()=>a(g=>({...g,hallOfFame:!g.hallOfFame})),theme:i})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:u,className:`px-4 py-2 rounded-lg text-white font-semibold ${d.button}`,children:"Add to List"})]})]})})}const kDe={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100}}};function Ds({title:t,icon:e,colorTheme:n,gridSpan:r="lg:col-span-1",children:i}){return y.jsxs(Ae.div,{variants:kDe,whileHover:{scale:1.03,y:-5},transition:{type:"spring",stiffness:300,damping:20},className:`group rounded-2xl p-4 flex flex-col ${n.widgetBg} ${r}`,children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center transition-transform group-hover:scale-110 ${n.bg}`,children:Di.cloneElement(e,{className:`w-5 h-5 transition-transform group-hover:rotate-12 ${n.icon}`})}),y.jsx("h3",{className:`font-bold text-lg ${n.title}`,children:t})]}),y.jsx("div",{className:"flex-grow flex flex-col justify-center",children:i})]})}function Av({value:t}){const e=_O(0),n=pk(e,r=>Math.round(r));return A.useEffect(()=>b$(e,t,{duration:1.5,ease:"easeOut"}).stop,[t,e]),y.jsx(Ae.span,{children:n})}function CDe({data:t}){const{about:e,lifeGoals:n,importantGoals:r,achievements:i,skills:s,books:a,movies:l,music:u,intakeEntries:f,exerciseEntries:d,objectives:p,diaryEntries:g,theses:v}=t,x=v?.find(K=>K.status==="reading"),S=A.useMemo(()=>{if(!g||g.length===0)return null;const pe=(g.map(xe=>xe.content).join(" ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").match(/[^.!?]+[.!?]+/g)||[]).map(xe=>xe.trim()).filter(xe=>xe.length>20);if(pe.length===0)return null;if(pe.length<=2)return pe.join(" ");for(let xe=pe.length-1;xe>0;xe--){const q=Math.floor(Math.random()*(xe+1));[pe[xe],pe[q]]=[pe[q],pe[xe]]}return pe.slice(0,2).join(" ")},[g]),T=n.find(K=>K.status!=="completed"),_=r.find(K=>K.status!=="completed"),C=i.filter(K=>K.type==="earned").sort((K,ae)=>new Date(ae.date)-new Date(K.date))[0],D=s.sort((K,ae)=>K.expertise-ae.expertise).slice(0,3),L=a.find(K=>K.status==="reading"),R=new Date,B=p.find(K=>K.type==="big"&&K.year===R.getFullYear()&&K.month===R.getMonth()+1),N=u&&u.length>0?u[Math.floor(Math.random()*u.length)]:null,M=new Date(Date.now()-10080*60*1e3),P=a.filter(K=>K.completedAt?.toDate&&K.completedAt.toDate()>M).reduce((K,ae)=>K+(Number(ae.pageCount)||0),0),F=l.filter(K=>K.watchedDate&&new Date(K.watchedDate)>M).reduce((K,ae)=>K+(Number(ae.length)||0),0)/60,V=d.filter(K=>K.date&&new Date(K.date)>M).reduce((K,ae)=>K+(ae.steps||0),0),$=R.toISOString().slice(0,10),U=f.filter(K=>K.date===$).reduce((K,ae)=>K+ae.calories,0),me=d.filter(K=>K.date===$).reduce((K,ae)=>K+(ae.calories||0)+(ae.steps||0)*.04,0),ve={glass:K=>`bg-${K}-50/40 dark:bg-${K}-950/20 backdrop-blur-xl`,blue:{bg:"bg-blue-100 dark:bg-blue-900/40",icon:"text-blue-500",title:"text-blue-800 dark:text-blue-300",widgetBg:""},red:{bg:"bg-red-100 dark:bg-red-900/40",icon:"text-red-500",title:"text-red-800 dark:text-red-300",widgetBg:""},green:{bg:"bg-emerald-100 dark:bg-emerald-900/40",icon:"text-emerald-500",title:"text-emerald-800 dark:text-emerald-300",widgetBg:""},yellow:{bg:"bg-amber-100 dark:bg-amber-900/40",icon:"text-amber-500",title:"text-amber-800 dark:text-amber-300",widgetBg:""},violet:{bg:"bg-violet-100 dark:bg-violet-900/40",icon:"text-violet-500",title:"text-violet-800 dark:text-violet-300",widgetBg:""},sky:{bg:"bg-sky-100 dark:bg-sky-900/40",icon:"text-sky-500",title:"text-sky-800 dark:text-sky-300",widgetBg:""},teal:{bg:"bg-teal-100 dark:bg-teal-900/40",icon:"text-teal-500",title:"text-teal-800 dark:text-teal-300",widgetBg:""}};Object.keys(ve).forEach(K=>{K!=="glass"&&(ve[K].widgetBg=ve.glass(K==="green"?"emerald":K==="yellow"?"amber":K))});const G={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}};return y.jsxs("div",{children:[y.jsx(JMe,{name:e?.name}),y.jsxs(Ae.div,{variants:G,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[y.jsx(Ds,{title:"Current Aim",icon:y.jsx(Fc,{}),colorTheme:ve.red,gridSpan:"lg:col-span-4",children:y.jsx("p",{className:"text-2xl font-semibold text-neutral-700 dark:text-neutral-200",children:e?.currentAim||"Set your current aim!"})}),y.jsx(Ds,{title:"Weekly Rewind",icon:y.jsx(zMe,{}),colorTheme:ve.yellow,gridSpan:"lg:col-span-2",children:y.jsxs("div",{className:"flex justify-around items-center h-full text-center",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Mf,{className:"w-8 h-8 text-neutral-400 dark:text-neutral-500"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:y.jsx(Av,{value:P})}),y.jsx("p",{className:"text-xs text-neutral-500",children:"Pages Read"})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(YC,{className:"w-8 h-8 text-neutral-400 dark:text-neutral-500"}),y.jsxs("div",{children:[y.jsxs("p",{className:"text-3xl font-bold text-sky-600 dark:text-sky-400",children:[F.toFixed(1),y.jsx("span",{className:"text-lg",children:" hr"})]}),y.jsx("p",{className:"text-xs text-neutral-500",children:"Watched"})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(XM,{className:"w-8 h-8 text-neutral-400 dark:text-neutral-500"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:y.jsx(Av,{value:V})}),y.jsx("p",{className:"text-xs text-neutral-500",children:"Steps"})]})]})]})}),y.jsx(Ds,{title:"Health Summary",icon:y.jsx(Ff,{}),colorTheme:ve.sky,children:y.jsxs("div",{className:"flex justify-around items-center h-full text-center",children:[y.jsxs("div",{className:"flex items-center gap-2 text-blue-500",children:[y.jsx(VMe,{className:"w-6 h-6"}),y.jsx("p",{className:"text-2xl font-bold",children:y.jsx(Av,{value:U})})]}),y.jsxs("div",{className:"flex items-center gap-2 text-orange-500",children:[y.jsx(BMe,{className:"w-6 h-6"}),y.jsx("p",{className:"text-2xl font-bold",children:y.jsx(Av,{value:Math.round(me)})})]})]})}),y.jsx(Ds,{title:"Latest Achievement",icon:y.jsx(Gs,{}),colorTheme:ve.green,children:C?y.jsxs("div",{className:"text-center",children:[y.jsx(Gs,{className:"w-12 h-12 mx-auto mb-2 text-emerald-500"}),y.jsx("p",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:C.title})]}):y.jsx("p",{className:"text-sm text-neutral-500 text-center",children:"No achievements earned yet."})}),y.jsx(Ds,{title:"Life Goal",icon:y.jsx(Ty,{}),colorTheme:ve.blue,children:T?y.jsx("p",{className:"font-semibold",children:T.title}):y.jsx("p",{className:"text-sm text-neutral-500",children:"No active life goals."})}),y.jsx(Ds,{title:"Important Goal",icon:y.jsx(Cw,{}),colorTheme:ve.red,children:_?y.jsx("p",{className:"font-semibold",children:_.title}):y.jsx("p",{className:"text-sm text-neutral-500",children:"No important goals set."})}),y.jsx(Ds,{title:"Month's Objective",icon:y.jsx(Fc,{}),colorTheme:ve.blue,children:B?y.jsx("p",{className:"font-semibold",children:B.title}):y.jsx("p",{className:"text-sm text-neutral-500",children:"No objective for this month."})}),y.jsx(Ds,{title:"Random Jam",icon:y.jsx(Ng,{}),colorTheme:ve.violet,children:N?y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold",children:N.title}),y.jsx("p",{className:"text-xs text-neutral-500",children:N.artist})]}):y.jsx("p",{className:"text-sm text-neutral-500",children:"Add some music!"})}),y.jsx(Ds,{title:"From the Journal",icon:y.jsx(Nw,{}),colorTheme:ve.violet,gridSpan:"lg:col-span-2",children:S?y.jsxs("p",{className:"font-serif italic text-neutral-600 dark:text-neutral-300",children:['"',S,'"']}):y.jsx("p",{className:"text-sm text-neutral-500 text-center",children:"Write a journal entry to see snippets here."})}),y.jsx(Ds,{title:"Skills to Improve",icon:y.jsx(xy,{}),colorTheme:ve.violet,gridSpan:"lg:col-span-2",children:y.jsx("div",{className:"space-y-2",children:D.map((K,ae)=>y.jsxs("div",{children:[y.jsx("span",{className:"text-sm font-semibold",children:K.name}),y.jsx("div",{className:"w-full bg-neutral-200 dark:bg-neutral-700 rounded-full h-2.5",children:y.jsx(Ae.div,{initial:{width:0},animate:{width:`${K.expertise}%`},transition:{duration:1,ease:"easeOut"},className:"bg-violet-500 h-2.5 rounded-full"})})]},K.name+ae))})}),y.jsx(Ds,{title:"Currently Reading",icon:y.jsx(Mf,{}),colorTheme:ve.sky,gridSpan:"lg:col-span-2",children:L?y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-xl",children:L.title}),y.jsx("p",{className:"text-base text-neutral-500 mb-2",children:L.author}),L.pageCount>0?y.jsxs("p",{className:"font-bold text-xl text-sky-700 dark:text-sky-300",children:[Math.round(L.pageCount*(L.progress/100))," / ",L.pageCount," pages read"]}):y.jsx("p",{className:"text-sm italic text-neutral-500",children:"Just beginning the journey..."})]}):y.jsx("p",{className:"text-sm text-neutral-500",children:"Not reading any books right now."})}),y.jsx(Ds,{title:"Current Thesis",icon:y.jsx(GM,{}),colorTheme:ve.teal,gridSpan:"lg:col-span-2",children:x?y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-lg",children:x.title}),y.jsx("p",{className:"text-sm text-neutral-500 mb-2",children:x.author}),y.jsx("div",{className:"w-full bg-neutral-200 dark:bg-neutral-700 rounded-full h-2.5",children:y.jsx(Ae.div,{initial:{width:0},animate:{width:`${x.progress}%`},transition:{duration:1,ease:"easeOut"},className:"bg-teal-500 h-2.5 rounded-full"})})]}):y.jsx("p",{className:"text-sm text-neutral-500",children:"Not reading any theses right now."})})]})]})}function ODe({entries:t,onDateSelect:e,onAddClick:n}){const r=new Date;return y.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-violet-600 dark:text-violet-400",children:"Journal"}),y.jsxs("button",{onClick:n,className:"px-4 py-2 bg-violet-500 text-white font-semibold rounded-lg flex items-center gap-2 hover:bg-violet-600 transition-colors",children:[y.jsx(as,{className:"w-5 h-5"})," New Entry for Today"]})]}),y.jsx("div",{className:"p-4 bg-white/50 dark:bg-neutral-800/20 rounded-2xl",children:y.jsx(M_e,{onChange:e,value:r,tileContent:({date:i,view:s})=>s==="month"&&y.jsxs("div",{className:"w-full h-full relative p-2 flex flex-col justify-start items-start",children:[y.jsx("span",{className:"day-number",children:i.getDate()}),t.find(a=>a.id===i.toISOString().slice(0,10))&&y.jsx(Ae.div,{initial:{scale:0},animate:{scale:1},className:"absolute bottom-2 left-2 flex items-center justify-center",children:y.jsx(Nw,{className:"w-5 h-5 text-violet-500"})})]}),formatShortWeekday:(i,s)=>s.toLocaleDateString("en-US",{weekday:"long"}),nextLabel:y.jsx(Uc,{className:"w-8 h-8 rotate-180"}),prevLabel:y.jsx(Uc,{className:"w-8 h-8"}),next2Label:null,prev2Label:null,onClickMonth:()=>{},view:"month"})})]})}function NDe({entry:t,onEdit:e,onDelete:n,onClose:r}){const i=t.font==="handwriting"?"font-['Caveat',cursive] text-2xl":"font-sans text-base",s=t.date?.toDate?t.date.toDate():new Date(t.date);return y.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:r,children:y.jsxs(Ae.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white dark:bg-neutral-900 rounded-2xl shadow-xl w-full max-w-2xl h-[80vh] flex flex-col",onClick:a=>a.stopPropagation(),children:[y.jsxs("div",{className:"p-4 border-b dark:border-neutral-800 flex justify-between items-center shrink-0",children:[y.jsx("h3",{className:"font-bold text-lg text-violet-700 dark:text-violet-400",children:t.title||s.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:e,className:"p-2 rounded-lg bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200",children:y.jsx(Vr,{className:"w-5 h-5"})}),y.jsx("button",{onClick:n,className:"p-2 rounded-lg bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200",children:y.jsx(ui,{className:"w-5 h-5"})})]})]}),y.jsx("div",{className:"flex-grow p-8 overflow-y-auto notebook-bg",children:y.jsx("div",{className:`prose dark:prose-invert max-w-none ${i}`,dangerouslySetInnerHTML:{__html:t.content}})})]})})}const tm=({onClick:t,isActive:e,icon:n,children:r})=>y.jsx("button",{type:"button",onClick:t,className:`p-2 rounded-md transition-colors ${e?"bg-violet-100 dark:bg-violet-900 text-violet-500":"hover:bg-neutral-100 dark:hover:bg-neutral-700"}`,children:n||r}),MDe=({editor:t})=>{const[,e]=A.useState(0),n=A.useCallback(()=>e(r=>r+1),[]);return A.useEffect(()=>{if(t)return t.on("update",n),t.on("selectionUpdate",n),()=>{t.off("update",n),t.off("selectionUpdate",n)}},[t,n]),t?y.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-2 rounded-t-xl border-b border-neutral-200 dark:border-neutral-700 flex flex-wrap items-center gap-2",children:[y.jsx(tm,{onClick:()=>t.chain().focus().toggleBold().run(),isActive:t.isActive("bold"),icon:y.jsx(FMe,{className:"w-5 h-5"})}),y.jsx(tm,{onClick:()=>t.chain().focus().toggleItalic().run(),isActive:t.isActive("italic"),icon:y.jsx($Me,{className:"w-5 h-5"})}),y.jsx(tm,{onClick:()=>t.chain().focus().toggleUnderline().run(),isActive:t.isActive("underline"),icon:y.jsx(HMe,{className:"w-5 h-5"})}),y.jsx(tm,{onClick:()=>t.chain().focus().toggleStrike().run(),isActive:t.isActive("strike"),icon:y.jsx(qMe,{className:"w-5 h-5"})}),y.jsx(tm,{onClick:()=>t.chain().focus().toggleHighlight({color:"#fef9c3"}).run(),isActive:t.isActive("highlight"),icon:y.jsx(KMe,{className:"w-5 h-5"})}),y.jsx("div",{className:"flex gap-1 p-1",children:nDe.map(r=>y.jsx("button",{type:"button",onClick:()=>t.chain().focus().setColor(r).run(),className:`w-5 h-5 rounded ${t.isActive("textStyle",{color:r})?"ring-2 ring-offset-2 ring-violet-500 dark:ring-offset-neutral-800":""} ${r==="#FFFFFF"?"border border-neutral-400":""}`,style:{backgroundColor:r}},r))})]}):null};function DDe({entry:t,onSave:e,onClose:n}){const[r,i]=A.useState(t?.title||""),s=t?.date?.toDate?t.date.toDate():t?.date||new Date,a=zOe({extensions:[xMe,rY,TMe.configure({multicolor:!0}),cY,uY,yMe.configure({placeholder:"Start writing your story..."})],content:t?.content||"",editorProps:{attributes:{class:"prose dark:prose-invert max-w-none focus:outline-none"}}}),l=()=>{a&&e(r,a.getHTML(),"sans")};return y.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:n,children:y.jsxs(Ae.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white dark:bg-neutral-900 rounded-2xl shadow-xl w-full max-w-3xl h-[80vh] flex flex-col",onClick:u=>u.stopPropagation(),children:[y.jsx("div",{className:"p-6 shrink-0 space-y-3",children:y.jsx("input",{type:"text",value:r,onChange:u=>i(u.target.value),placeholder:`Entry for ${new Date(s).toLocaleDateString("en-US",{month:"long",day:"numeric"})}`,className:"text-2xl font-bold text-violet-600 dark:text-violet-400 bg-transparent w-full focus:outline-none"})}),y.jsxs("div",{className:"px-6 flex-grow flex flex-col min-h-0",children:[y.jsx(MDe,{editor:a}),y.jsx("div",{className:"flex-grow overflow-y-auto border border-t-0 border-neutral-200 dark:border-neutral-700 rounded-b-xl notebook-bg p-4",children:y.jsx(IOe,{editor:a,className:"font-sans"})})]}),y.jsxs("div",{className:"flex justify-end gap-2 p-6 shrink-0",children:[y.jsx("button",{onClick:n,className:"px-4 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-700 font-semibold hover:bg-neutral-300 dark:hover:bg-neutral-600",children:"Cancel"}),y.jsx("button",{onClick:l,className:"px-4 py-2 rounded-lg bg-violet-500 hover:bg-violet-600 text-white font-semibold",children:t?.id?"Save Changes":"Add Entry"})]})]})})}function IDe({entries:t,addEntry:e,updateEntry:n,deleteEntry:r}){const[i,s]=A.useState({view:null,data:null}),[a,l]=A.useState(!1),u=p=>{const g=p.toISOString().slice(0,10),v=t.find(x=>x.id===g);s(v?{view:"display",data:v}:{view:"edit",data:{date:p}})},f=async(p,g,v)=>{const x=i.data.date,S=x?.toDate?x.toDate():x,T=S.toISOString().slice(0,10),_=t.find(C=>C.id===T);s({view:null,data:null}),_?await n(T,{..._,title:p,content:g,font:v}):await e(T,{id:T,title:p,content:g,font:v,date:S}),l(!0),setTimeout(()=>{l(!1)},1500)},d=p=>{window.confirm("Are you sure you want to delete this entry?")&&(r(p),s({view:null,data:null}))};return y.jsxs("div",{children:[y.jsx(ODe,{entries:t,onDateSelect:u,onAddClick:()=>{const p=new Date;p.setHours(0,0,0,0),u(p)}}),y.jsxs(Ht,{children:[i.view==="display"&&y.jsx(NDe,{entry:i.data,onClose:()=>s({view:null,data:null}),onEdit:()=>s({view:"edit",data:i.data}),onDelete:()=>d(i.data.id)}),i.view==="edit"&&y.jsx(DDe,{entry:i.data,onClose:()=>s({view:null,data:null}),onSave:f})]}),y.jsx(Ht,{children:a&&y.jsx(PDe,{})})]})}function PDe(){return y.jsx(Ae.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:300,damping:20},className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:y.jsxs("div",{className:"bg-white/80 dark:bg-neutral-800/80 backdrop-blur-md p-6 rounded-2xl flex flex-col items-center gap-4 shadow-2xl",children:[y.jsx(Nf,{className:"w-16 h-16 text-green-500"}),y.jsx("p",{className:"font-bold text-xl text-neutral-700 dark:text-neutral-200",children:"Changes Saved!"})]})})}function RDe({onLogin:t,onSignUp:e,error:n,isLoading:r}){console.log("AuthPage: Rendering...");const[i,s]=A.useState(!0),[a,l]=A.useState(""),[u,f]=A.useState(""),[d,p]=A.useState(!1),[g,v]=A.useState({type:"",text:""}),x=_=>{_.preventDefault(),v({type:"",text:""}),i?t(a,u):e(a,u)},S=async()=>{if(!a){v({type:"error",text:"Please enter your email address first."});return}p(!0),v({type:"",text:""});try{await GZ(gm,a),v({type:"success",text:"Check your inbox! A password reset link has been sent to your email."})}catch(_){console.error("Password reset error:",_),v({type:"error",text:"Failed to send reset email. Please try again."})}finally{p(!1)}},T="w-full p-3 pl-10 bg-black/5 dark:bg-white/5 rounded-lg backdrop-blur-sm focus:ring-2 focus:ring-sky-400 focus:outline-none";return y.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden bg-background",children:[y.jsx(ih,{className:"bg-teal-500 w-[400px] h-[400px] top-1/4 left-1/4 transform -translate-x-1/2 -translate-y-1/2",animate:{x:["-50%","50%","-50%"],y:["-50%","50%","-50%"],scaleX:[1,1.3,.8,1],scaleY:[1,.8,1.3,1],rotate:[0,180,360],borderRadius:["60%","40%","70%","60%"]},transition:{duration:25,ease:"easeInOut",repeat:1/0,repeatType:"reverse"},preset:"login"}),y.jsx(ih,{className:"bg-purple-600 w-[500px] h-[500px] bottom-1/4 right-1/4 transform translate-x-1/2 translate-y-1/2",animate:{x:["50%","-50%","50%"],y:["50%","-50%","50%"],scaleX:[1,.9,1.2,1],scaleY:[1,1.2,.9,1],rotate:[0,-180,-360],borderRadius:["40%","60%","30%","40%"]},transition:{duration:30,ease:"easeInOut",repeat:1/0,repeatType:"reverse"},preset:"login"}),y.jsx(ih,{className:"bg-orange-400 w-[450px] h-[450px] top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",animate:{x:["-25%","25%","-25%"],y:["-25%","25%","-25%"],scaleX:[1,1.1,.9,1],scaleY:[1,.9,1.1,1],rotate:[0,90,180,270,360],borderRadius:["50%","30%","50%","70%","50%"]},transition:{duration:35,ease:"easeInOut",repeat:1/0,repeatType:"reverse"},preset:"login"}),y.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center text-content p-4",children:y.jsx("div",{className:"w-full max-w-md mx-auto",children:y.jsx(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100},className:"bg-slate-50/60 dark:bg-slate-950/40 backdrop-blur-lg rounded-2xl shadow-2xl overflow-hidden",children:y.jsxs("div",{className:"p-8 md:p-10",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:i?"Welcome Back":"Create Account"}),y.jsx("p",{className:"text-slate-500 mt-1",children:i?"Sign in to continue":"Get started with your dashboard"})]}),y.jsxs("form",{onSubmit:x,className:"space-y-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx(RMe,{className:"absolute top-1/2 left-3 -translate-y-1/2 w-5 h-5 text-slate-400"}),y.jsx("input",{type:"email",placeholder:"Email",value:a,onChange:_=>l(_.target.value),className:T,required:!0})]}),y.jsxs("div",{className:"relative",children:[y.jsx(jMe,{className:"absolute top-1/2 left-3 -translate-y-1/2 w-5 h-5 text-slate-400"}),y.jsx("input",{type:"password",placeholder:"Password",value:u,onChange:_=>f(_.target.value),className:T,required:!0})]}),n&&y.jsx("p",{className:"text-sm text-center text-red-500 font-semibold",children:n}),g.text&&y.jsx("p",{className:`text-sm text-center font-semibold ${g.type==="error"?"text-red-500":"text-green-500"}`,children:g.text}),y.jsx("button",{type:"submit",disabled:r||d,className:"w-full py-3 mt-2 font-semibold text-white bg-sky-500 rounded-lg hover:bg-sky-600 transition-colors disabled:bg-sky-400/50 flex items-center justify-center",children:r?y.jsx(dY,{className:"w-5 h-5 animate-spin"}):i?"Log In":"Sign Up"})]}),y.jsxs("div",{className:"text-center mt-6 space-y-2",children:[i&&y.jsx("button",{onClick:S,disabled:d,className:"text-sm text-slate-500 hover:text-sky-500 transition-colors disabled:opacity-50",children:d?"Sending...":"Forgot Password?"}),y.jsx("button",{onClick:()=>{s(!i),v({type:"",text:""})},className:"text-sm text-slate-500 hover:text-sky-500 transition-colors w-full",children:i?"Don't have an account? Sign Up":"Already have an account? Log In"})]})]})})})})]})}const jDe={login:"filter blur-3xl brightness-110 opacity-70 dark:opacity-80",app:"filter blur-2xl opacity-30 dark:opacity-30 dark:mix-blend-soft-light"},ih=({className:t,animate:e,transition:n,preset:r="app"})=>y.jsx(Ae.div,{className:`absolute rounded-full ${jDe[r]} ${t}`,animate:e,transition:n});function LDe(){const[t,e]=A.useState(null),[n,r]=A.useState("dark"),[i,s]=A.useState(!0),[a,l]=A.useState(null),[u,f]=A.useState([]),[d,p]=A.useState([]),[g,v]=A.useState([]),[x,S]=A.useState([]),[T,_]=A.useState([]),[C,D]=A.useState([]),[L,R]=A.useState([]),[B,N]=A.useState([]),[M,P]=A.useState([]),[F,V]=A.useState([]),[$,U]=A.useState(null),[me,ve]=A.useState([]),[G,K]=A.useState(2200),[ae,pe]=A.useState(null),[xe,q]=A.useState([]),[X,ye]=A.useState([]),we=(Q,Ee)=>{const bt=[...Q.subTasks||[]];bt.length>0&&(bt[bt.length-1].completed=!1),Ee(Q.id,{status:"in-progress",completedAt:null,subTasks:bt})},[Se,Ie]=A.useState(new Date().getFullYear()),[Ve,ut]=A.useState(new Date().getMonth()+1),[fe,ze]=A.useState(null),[Fe,de]=A.useState({isOpen:!1,type:null,data:{}}),[Lt,Me]=A.useState(()=>Array.from({length:5},(Q,Ee)=>new Date().getFullYear()-2+Ee)),[_t,nt]=A.useState(!1),[sn,ji]=A.useState("dashboard"),[vt,an]=A.useState({item:null,type:null}),Xr=(Q,Ee)=>an({item:Q,type:Ee}),ru=()=>an({item:null,type:null}),ro=()=>r(Q=>Q==="light"?"dark":"light");A.useEffect(()=>{const Q=window.document.documentElement;n==="dark"?Q.classList.add("dark"):Q.classList.remove("dark");const Ee="hall-of-fame-style";let bt=document.getElementById(Ee);bt||(bt=document.createElement("style"),bt.id=Ee,document.head.appendChild(bt));const ft="linear-gradient(rgba(38, 38, 38, 0.93), rgba(38, 38, 38, 0.93)), linear-gradient(145deg, #fef9c3, #fcd34d, #d97706, #fcd34d, #fef9c3)",zi="linear-gradient(145deg, #fffbeb, #fefce8)";bt.innerHTML=`
        @property --angle {
          syntax: '<angle>';
          initial-value: 0deg;
          inherits: false;
        }
        .hall-of-fame-glow { position: relative; }
        .hall-of-fame-glow::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0; margin: 9px; border-radius: inherit;
            
            /* UPDATED: A softer, less vibrant gold for the glow */
            background: conic-gradient(from var(--angle), #eab308, #facc15, #fde047, #facc15, #eab308);
            
            animation: rotate 2s linear infinite; filter: blur(12px);
        }
        /* Light mode default style */
        .hof-bg-themed {
            background-image: ${zi};
        }
        /* Dark mode override */
        .dark .hof-bg-themed {
            background-image: ${ft};
        }
        .identity-core-glow { position: relative; }
        .identity-core-glow::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0; margin: -8px; border-radius: inherit;
            background: conic-gradient(from var(--angle), #818cf8, #c084fc, #f0abfc, #c084fc, #818cf8);
            animation: rotate 2s linear infinite; filter: blur(6px);
        }
        .hall-of-fame-glow-button { position: relative; }
        .hall-of-fame-glow-button::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0; margin: -2px; border-radius: inherit;
            background: conic-gradient(from var(--angle), #eab308, #facc15, #fde047, #facc15, #eab308);
            animation: rotate 2s linear infinite; filter: blur(2px);
        }
        .grey-glow-button { position: relative; }
        .grey-glow-button::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0; margin: -2px; border-radius: inherit;
            background: conic-gradient(from var(--angle), #a1a1aa, #e5e5e5, #fafafa, #e5e5e5, #a1a1aa);
            animation: rotate 3s linear infinite; filter: blur(2px);
        }
        .cyan-glow-button { position: relative; }
        .cyan-glow-button::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0; margin: -2px; border-radius: inherit;
            background: conic-gradient(from var(--angle), #22d3ee, #67e8f9, #a5f3fc, #67e8f9, #22d3ee);
            animation: rotate 3s linear infinite; filter: blur(3px);
        }
            .showcase-glow { position: relative; }
        .showcase-glow::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0; margin: -2px; border-radius: inherit;
            /* This now uses CSS variables for each color within the rotating gradient */
            background: conic-gradient(from var(--angle), var(--glow-c1), var(--glow-c2), var(--glow-c3), var(--glow-c2), var(--glow-c1));
            animation: rotate 4s linear infinite;
            filter: blur(8px);
            opacity: 0.5;
        }
        .hall-of-fame-content { position: relative; z-index: 1; border-radius: inherit; }
        @keyframes rotate { from { --angle: 0deg; } to { --angle: 360deg; } }
        
            /* --- ADD THESE NEW STYLES AT THE END, BEFORE THE CLOSING BACKTICK --- */
    
    /* New Teal HOF Background */
    .hof-bg-teal {
        background-image: linear-gradient(145deg, #f0fdfa, #ccfbf1);
    }
    .dark .hof-bg-teal {
        background-image: linear-gradient(rgba(13, 44, 42, 0.93), rgba(13, 44, 42, 0.93)), linear-gradient(145deg, #2dd4bf, #14b8a6, #0d9488);
    }

    /* New Teal HOF Glow */
    .hof-glow-teal { position: relative; }
    .hof-glow-teal::before {
        content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
        z-index: 0; margin: -2px; border-radius: inherit;
        background: conic-gradient(from var(--angle), #5eead4, #2dd4bf, #14b8a6, #2dd4bf, #5eead4);
        animation: rotate 4s linear infinite;
        filter: blur(8px);
        opacity: 0.7;
    }
        /* Sky Blue HOF Background */
    .hof-bg-sky {
        background-image: linear-gradient(145deg, #f0f9ff, #e0f2fe);
    }
    .dark .hof-bg-sky {
        background-image: linear-gradient(rgba(8, 32, 50, 0.93), rgba(8, 32, 50, 0.93)), linear-gradient(145deg, #0ea5e9, #38bdf8, #7dd3fc);
    }

    /* Sky Blue HOF Glow */
    .hof-glow-sky { position: relative; }
    .hof-glow-sky::before {
        content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
        z-index: 0; margin: -2px; border-radius: inherit;
        background: conic-gradient(from var(--angle), #7dd3fc, #38bdf8, #0ea5e9, #38bdf8, #7dd3fc);
        animation: rotate 4s linear infinite;
        filter: blur(8px);
        opacity: 0.7;
    }

    /* --- ADD THESE NEW STYLES AT THE END --- */

    /* New Violet HOF Background */
    .hof-bg-violet {
        background-image: linear-gradient(145deg, #f5f3ff, #ede9fe);
    }
    .dark .hof-bg-violet {
        background-image: linear-gradient(rgba(30, 16, 54, 0.93), rgba(30, 16, 54, 0.93)), linear-gradient(145deg, #8b5cf6, #a78bfa, #c4b5fd);
    }

    /* New Violet HOF Glow */
    .hof-glow-violet { position: relative; }
    .hof-glow-violet::before {
        content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
        z-index: 0; margin: -2px; border-radius: inherit;
        background: conic-gradient(from var(--angle), #c084fc, #a855f7, #8b5cf6, #a855f7, #c084fc);
        animation: rotate 4s linear infinite; filter: blur(8px); opacity: 0.7;
    }

    /* New Pink HOF Background */
    .hof-bg-pink {
        background-image: linear-gradient(145deg, #fdf2f8, #fce7f3);
    }
    .dark .hof-bg-pink {
        background-image: linear-gradient(rgba(58, 14, 32, 0.93), rgba(58, 14, 32, 0.93)), linear-gradient(145deg, #ec4899, #f472b6, #f9a8d4);
    }

    /* New Pink HOF Glow */
    .hof-glow-pink { position: relative; }
    .hof-glow-pink::before {
        content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
        z-index: 0; margin: -2px; border-radius: inherit;
        background: conic-gradient(from var(--angle), #f9a8d4, #f472b6, #ec4899, #f472b6, #f9a8d4);
        animation: rotate 4s linear infinite; filter: blur(8px); opacity: 0.7;
    }


    /* --- ADD THESE NEW STYLES AT THE END --- */

    /* New Slate HOF Background */
    .hof-bg-slate {
        background-image: linear-gradient(145deg, #f8fafc, #f1f5f9);
    }
    .dark .hof-bg-slate {
        background-image: linear-gradient(rgba(15, 23, 42, 0.93), rgba(15, 23, 42, 0.93)), linear-gradient(145deg, #475569, #334155, #1e293b);
    }

    /* New Slate HOF Glow */
    .hof-glow-slate { position: relative; }
    .hof-glow-slate::before {
        content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
        z-index: 0; margin: -2px; border-radius: inherit;
        background: conic-gradient(from var(--angle), #cbd5e1, #94a3b8, #64748b, #94a3b8, #cbd5e1);
        animation: rotate 5s linear infinite;
        filter: blur(8px);
        opacity: 0.6;
    }

        
/* --- FINAL, POLISHED DIARY & CALENDAR STYLES --- */
.notebook-bg {
    background-color: #FDFDF6;
    background-image: linear-gradient(to bottom, rgba(212, 212, 212, 0.2) 1px, transparent 1px);
    background-size: 100% 2.5rem;
    line-height: 2.5rem;
}
.dark .notebook-bg {
    background-color: #202022;
    background-image: linear-gradient(to bottom, rgba(82, 82, 82, 0.2) 1px, transparent 1px);
}

/* FINAL Calendar Theme */
.react-calendar { width: 100%; border: none; background: transparent; font-family: inherit; }
.react-calendar__navigation { display: flex; align-items: center; justify-content: center; gap: 0.5rem; margin-bottom: 1rem; }
.react-calendar__navigation__label { 
    font-size: 1.5rem; font-weight: bold; flex-grow: 0; border: none !important;
    background: none !important; color: #8b5cf6; pointer-events: none;
}
.dark .react-calendar__navigation__label { color: #c084fc; }
.react-calendar__navigation__arrow {
    width: 40px; height: 40px; border-radius: 9999px; font-size: 2rem;
    color: #a78bfa; transition: background 0.2s;
}
.react-calendar__navigation__arrow:enabled:hover { background-color: #f5f3ff !important; }
.dark .react-calendar__navigation__arrow:enabled:hover { background-color: #2e243e !important; }

/* --- FIX: Force a 7-column grid for weekdays --- */
.react-calendar__month-view__weekdays {
    display: grid !important;
    grid-template-columns: repeat(7, 1fr) !important;
    gap: 0.5rem;
    margin-bottom: 0.5rem; padding: 0.5rem 0;
    border-radius: 0.75rem; background: #f5f3ff;
}
.dark .react-calendar__month-view__weekdays { background: #2e243e; }
.react-calendar__month-view__weekdays__weekday { text-align: center; font-weight: 600; color: #a855f7; }
.dark .react-calendar__month-view__weekdays__weekday { color: #c084fc; }
.react-calendar__month-view__weekdays__weekday abbr { text-decoration: none; }

/* --- FIX: Force a 7-column grid for days --- */
.react-calendar__month-view__days {
    display: grid !important;
    grid-template-columns: repeat(7, 1fr) !important;
    gap: 0.5rem !important;
}

.react-calendar__tile {
    height: 110px; padding: 0; position: relative;
    background: #fafafa; border-radius: 0.75rem;
    transition: all 0.2s ease-in-out; border: 1px solid #f3f4f6;
}
.dark .react-calendar__tile { background: #1f1f22; border: 1px solid #3f3f46; }
.react-calendar__tile:enabled:hover { background: #ede9fe; transform: translateY(-2px); }
.dark .react-calendar__tile:enabled:hover { background: #2e243e; border-color: #a78bfa; }
.react-calendar__tile--now { border: 2px solid #a78bfa; }
.react-calendar__tile--active { background: #8b5cf6 !important; }
.react-calendar__tile--active .day-number { color: #e9d5ff !important; }
.react-calendar__month-view__days__day--neighboringMonth { background: #fbfbff; }
.react-calendar__month-view__days__day--neighboringMonth .day-number { color: #e5e7eb !important; }
.dark .react-calendar__month-view__days__day--neighboringMonth { background: #222225; }
.dark .react-calendar__month-view__days__day--neighboringMonth .day-number { color: #3f3f46 !important; }
.react-calendar__tile abbr { display: none; }

.day-number {
    position: absolute; top: 0.5rem; left: 0.5rem;
    font-size: 0.8rem; font-weight: 600; color: #a1a1aa; z-index: 0;
}
.dark .day-number { color: #52525b; }

/* Placeholder Styles for the Editor */
.ProseMirror p.is-editor-empty:first-child::before {
  content: attr(data-placeholder); float: left; color: #a1a1aa;
  pointer-events: none; height: 0; opacity: 0.7;
  font-family: 'Caveat', cursive;
}
    `},[n]),A.useEffect(()=>{const Q=document.createElement("link");Q.href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&display=swap",Q.rel="stylesheet",document.head.appendChild(Q)},[]),A.useEffect(()=>{console.log("Auth Effect (Simplified V2): Starting...");const Q=ZZ(gm,Ee=>{console.log("Auth Effect (Simplified V2): onAuthStateChanged. User:",Ee),e(Ee),s(!1),l(null)},Ee=>{console.error("Auth Effect (Simplified V2): Error in listener:",Ee),l("Error checking login status."),s(!1),e(null)});return console.log("Auth Effect (Simplified V2): Listener attached."),()=>{console.log("Auth Effect (Simplified V2): Unsubscribing."),Q()}},[]),A.useEffect(()=>{if(!t)return;const Q=[];Object.entries({objectives:f,lifeGoals:p,importantGoals:v}).forEach(([Kt,Zs])=>{const ar=s5(HT(Ms,"artifacts",ca,"users",t.uid,Kt),wie("orderIndex")),ka=qT(ar,ms=>{Zs(ms.docs.map(ea=>({id:ea.id,...ea.data()})))},ms=>console.error(`Error fetching ${Kt}:`,ms));Q.push(ka)}),Object.entries({skills:S,achievements:_,books:D,theses:R,likes:N,movies:P,music:V,diaries:q,intakeEntries:ve,exerciseEntries:ye}).forEach(([Kt,Zs])=>{const ar=s5(HT(Ms,"artifacts",ca,"users",t.uid,Kt)),ka=qT(ar,ms=>{Zs(ms.docs.map(ea=>({id:ea.id,...ea.data()})))},ms=>console.error(`Error fetching ${Kt}:`,ms));Q.push(ka)});const ft=Io(Ms,"artifacts",ca,"users",t.uid,"about","main"),zi=qT(ft,Kt=>{U(Kt.exists()?{id:Kt.id,...Kt.data()}:null)},Kt=>console.error("Error fetching about info:",Kt));return Q.push(zi),()=>Q.forEach(Kt=>Kt())},[t]);const Tt=(Q,Ee)=>_ie(HT(Ms,"artifacts",ca,"users",t.uid,Q),{...Ee,ownerId:t.uid,createdAt:zu()}),yn=(Q,Ee,bt)=>Eie(Io(Ms,"artifacts",ca,"users",t.uid,Q,Ee),{...bt,updatedAt:zu()}),Ln=(Q,Ee)=>c5(Io(Ms,"artifacts",ca,"users",t.uid,Q,Ee)),io=Q=>Tt("objectives",{...Q,month:Ve}),pi=(Q,Ee)=>yn("objectives",Q,Ee),so=Q=>Ln("objectives",Q),_a=Q=>Tt("lifeGoals",Q),Xs=(Q,Ee)=>yn("lifeGoals",Q,Ee),ao=Q=>Ln("lifeGoals",Q),Qn=Q=>Tt("importantGoals",Q),on=(Q,Ee)=>yn("importantGoals",Q,Ee),xr=Q=>Ln("importantGoals",Q),qt=Q=>Tt("skills",Q),oo=(Q,Ee)=>yn("skills",Q,Ee),us=Q=>Ln("skills",Q),yl=Q=>Tt("likes",Q),Qr=(Q,Ee)=>yn("likes",Q,Ee),Qs=Q=>Ln("likes",Q),Xt=Q=>Tt("achievements",Q),Vt=Q=>Ln("achievements",Q),Bt=Q=>Tt("books",Q),Jn=(Q,Ee)=>yn("books",Q,Ee),At=Q=>Ln("books",Q),wr=Q=>Tt("theses",Q),Jr=(Q,Ee)=>yn("theses",Q,Ee),Li=Q=>Ln("theses",Q),vl=Q=>Tt("movies",Q),Vi=(Q,Ee)=>yn("movies",Q,Ee),Js=Q=>Ln("movies",Q),fs=Q=>Tt("music",Q),mi=(Q,Ee)=>yn("music",Q,Ee),Zr=Q=>Ln("music",Q),Aa=Q=>Tt("intakeEntries",Q),ei=(Q,Ee)=>yn("intakeEntries",Q,Ee),Sr=Q=>Ln("intakeEntries",Q),Qt=Q=>Tt("exerciseEntries",Q),vn=(Q,Ee)=>yn("exerciseEntries",Q,Ee),gi=Q=>Ln("exerciseEntries",Q),Ke=(Q,Ee)=>l5(Io(Ms,"artifacts",ca,"users",t.uid,"diaries",Q),{...Ee,ownerId:t.uid,updatedAt:zu()},{merge:!0}),Mt=Q=>c5(Io(Ms,"artifacts",ca,"users",t.uid,"diaries",Q)),zt=Q=>l5(Io(Ms,"artifacts",ca,"users",t.uid,"about","main"),{...Q,updatedAt:zu()},{merge:!0}),sr=async(Q,Ee)=>{if(!Ee||Ee.length===0)return pi(Q,{status:"in-progress",completedAt:null});try{const bt=Cie(Ms),ft=Io(Ms,"artifacts",ca,"users",t.uid,"objectives",Q);bt.update(ft,{status:"in-progress",completedAt:null});const zi=Ee[Ee.length-1],Kt=Io(Ms,"artifacts",ca,"users",t.uid,"objectives",zi.id);bt.update(Kt,{status:"in-progress"}),await bt.commit()}catch(bt){console.error("Error reverting objective completion: ",bt)}},ln=async(Q,Ee)=>{s(!0),l(null);try{await YZ(gm,Q,Ee)}catch(bt){console.error("Sign up error:",bt),l(bt.message),s(!1)}},ds=async(Q,Ee)=>{s(!0),l(null);try{await XZ(gm,Q,Ee)}catch(bt){console.error("Login error:",bt),l(bt.message),s(!1)}},yi=async()=>{try{await eee(gm),e(null)}catch(Q){console.error("Logout error:",Q)}},Zn=A.useMemo(()=>u.filter(Q=>Q.year===Se&&(Ve===null||Q.month===Ve)).sort((Q,Ee)=>Q.orderIndex-Ee.orderIndex),[u,Se,Ve]),ti=A.useMemo(()=>Zn.filter(Q=>Q.type==="big"),[Zn]),Bi=A.useMemo(()=>Zn.filter(Q=>Q.type==="small"&&Q.parentObjectiveId).reduce((Q,Ee)=>({...Q,[Ee.parentObjectiveId]:[...Q[Ee.parentObjectiveId]||[],Ee]}),{}),[Zn]),bn=A.useMemo(()=>u.find(Q=>Q.id===fe),[fe,u]),iu=()=>Me(Q=>[...Q,Math.max(...Q)+1]),lo=(Q,Ee={})=>de({isOpen:!0,type:Q,data:Ee}),hs=()=>de({isOpen:!1,type:null,data:{}}),ps=Q=>{pe({...Q,type:"life"})},su=Q=>{pe({...Q,type:"important"})},au={lifeGoals:d,importantGoals:g,objectives:u,addLifeGoal:_a,updateLifeGoal:Xs,deleteLifeGoal:ao,addImportantGoal:Qn,updateImportantGoal:on,deleteImportantGoal:xr,selectedObjectiveId:fe,selectedObjective:bn,setSelectedObjectiveId:ze,onUpdateObjective:pi,deleteObjective:so,years:Lt,addNextYear:iu,currentYear:Se,setCurrentYear:Ie,selectedMonth:Ve,setSelectedMonth:ut,bigObjectives:ti,smallObjectivesByParent:Bi,onSelectObjective:ze,onAddBigObjective:()=>lo("addBig",{year:Se}),onAddSmallObjective:Q=>lo("addSmall",{year:Se,parentObjectiveId:Q}),onEditObjective:Q=>lo("edit",Q),revertObjectiveCompletion:sr},ou={about:$,lifeGoals:d,importantGoals:g,achievements:T,skills:x,likes:B,books:C,movies:M,music:F,intakeEntries:me,exerciseEntries:X,dailyCalorieGoal:G,objectives:u,smallObjectivesByParent:Bi,diaryEntries:xe,theses:L},co={dashboard:{title:"Dashboard",icon:y.jsx(WMe,{}),themeColor:"slate",component:y.jsx(CDe,{data:ou})},diary:{title:"Diary",icon:y.jsx(Nw,{}),themeColor:"violet",component:y.jsx(IDe,{entries:xe,addEntry:Ke,updateEntry:Ke,deleteEntry:Mt})},lifeGoals:{title:"Life Goals",icon:y.jsx(Ty,{}),themeColor:"blue",component:y.jsx(KDe,{goals:d,onAdd:_a,onUpdate:Xs,onDelete:ao,onEdit:ps,onRevert:we})},importantGoals:{title:"Important Goals",icon:y.jsx(Cw,{}),themeColor:"red",component:y.jsx(WDe,{goals:g,onAdd:Qn,onUpdate:on,onDelete:xr,onEdit:su,onRevert:we})},yearlyObjectives:{title:"Yearly Objectives",icon:y.jsx(Fc,{}),themeColor:"blue",component:y.jsx(GDe,{...au})},about:{title:"About Me",icon:y.jsx(hY,{}),themeColor:"slate",component:y.jsx(eIe,{about:$,onUpdate:zt})},skills:{title:"My Skills",icon:y.jsx(xy,{}),themeColor:"violet",component:y.jsx(iz,{items:x,onAdd:qt,onUpdate:oo,onDelete:us,sectionIcons:GMe,config:{name:"Skill",section:"Category",colorHue:120,hasTags:!0,hasExpertise:!0},theme:"violet"})},likes:{title:"Hobbies",icon:y.jsx(YM,{}),themeColor:"pink",component:y.jsx(iz,{items:B,onAdd:yl,onUpdate:Qr,onDelete:Qs,sectionIcons:{},config:{name:"Hobby",section:"Category",colorHue:200,hasTags:!0,hasExpertise:!0,hideSection:!0},theme:"pink"})},achievements:{title:"My Achievements",icon:y.jsx(Gs,{}),themeColor:"emerald",component:y.jsx(bDe,{achievements:T,onAdd:Xt,onUpdate:yn,onDelete:Vt})},library:{title:"My Library",icon:y.jsx(Mf,{}),themeColor:"sky",component:y.jsx(sIe,{books:C,onAdd:Bt,onUpdate:Jn,onDelete:At,onEdit:Q=>Xr(Q,"book"),theme:"sky"})},thesis:{title:"My Theses",icon:y.jsx(GM,{}),themeColor:"teal",component:y.jsx(aIe,{theses:L,onAdd:wr,onUpdate:Jr,onDelete:Li,onEdit:Q=>Xr(Q,"thesis"),theme:"teal"})},movies:{title:"My Movies",icon:y.jsx(YC,{}),themeColor:"slate",component:y.jsx(sz,{items:M,onAdd:vl,onUpdate:Vi,onDelete:Js,config:{type:"Movie",primaryField:"Director",mediaIcon:y.jsx(YC,{}),colorHue:300,hasLength:!0},onEdit:Q=>Xr(Q,"movie"),theme:"slate"})},music:{title:"My Music",icon:y.jsx(Ng,{}),themeColor:"violet",component:y.jsx(sz,{items:F,onAdd:fs,onUpdate:mi,onDelete:Zr,config:{type:"Album/Song",primaryField:"Artist",mediaIcon:y.jsx(Ng,{}),colorHue:250,hidePlanned:!0},onEdit:Q=>Xr(Q,"music"),theme:"violet"})},calories:{title:"Health Tracker",icon:y.jsx(Ff,{}),themeColor:"sky",component:y.jsx(cDe,{intakeEntries:me,exerciseEntries:X,onAddIntake:Aa,onUpdateIntake:ei,onDeleteIntake:Sr,onAddExercise:Qt,onUpdateExercise:vn,onDeleteExercise:gi,dailyGoal:G,setDailyGoal:K})}},uo={teal:"text-teal-600 dark:text-teal-400",sky:"text-sky-600 dark:text-sky-400",slate:"text-slate-600 dark:text-slate-400",violet:"text-violet-600 dark:text-violet-400",pink:"text-pink-600 dark:text-pink-400",emerald:"text-emerald-600 dark:text-emerald-400",blue:"text-blue-600 dark:text-blue-400",red:"text-red-600 dark:text-red-400",default:"text-neutral-800 dark:text-neutral-100"},ni=co[sn]?.themeColor||"default",xn=uo[ni]||uo.default;return console.log("App Render - User:",t),i?(console.log("App Render: Auth is loading, showing LoadingScreen"),y.jsx(VDe,{})):t?(console.log("App Render: User exists, showing Main App"),y.jsxs("div",{className:"relative overflow-hidden bg-background text-content min-h-screen font-sans antialiased transition-colors",children:[y.jsx(ih,{className:"bg-blue-400 w-[700px] h-[700px] top-[-20%] left-[-20%]",animate:{x:["0vw","80vw","0vw"],y:["0vh","80vh","0vh"],scale:[1,1.4,.8,1],rotate:[0,180,360],borderRadius:["50%","40%","70%","50%"]},transition:{duration:35,ease:"easeInOut",repeat:1/0,repeatType:"mirror"},preset:"app"}),y.jsx(ih,{className:"bg-purple-400 w-[800px] h-[800px] top-[50%] left-[80%]",animate:{x:["0vw","-70vw","0vw"],y:["0vh","-50vh","0vh"],scale:[1,1.2,.7,1],rotate:[0,-180,-360],borderRadius:["40%","60%","30%","40%"]},transition:{duration:40,ease:"easeInOut",repeat:1/0,repeatType:"mirror",delay:-15},preset:"app"}),y.jsx(ih,{className:"bg-teal-300 w-[750px] h-[750px] top-[70%] left-[10%]",animate:{x:["0vw","60vw","0vw"],y:["0vh","-60vh","0vh"],scaleX:[1,1.5,.9,1],scaleY:[1,.9,1.5,1],rotate:[0,90,180,270,360],borderRadius:["50%","30%","50%","70%","50%"]},transition:{duration:45,ease:"easeInOut",repeat:1/0,repeatType:"mirror",delay:-5},preset:"app"}),y.jsxs("div",{className:"relative z-10",children:[y.jsx("header",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-4 pb-2 mb-6",children:y.jsx("h1",{style:{fontFamily:"'Caveat', cursive"},className:`text-5xl font-bold tracking-tight text-center sm:text-left ${xn}`,children:co[sn]?.title||"Dashboard"})}),y.jsx("main",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8 pt-0",children:y.jsx(Ht,{mode:"wait",children:y.jsx(Ae.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.2},children:co[sn]?.component},sn)})})]}),y.jsx(Ht,{children:_t&&y.jsxs(y.Fragment,{children:[y.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>nt(!1),className:"fixed inset-0 bg-black/50 z-20"}),y.jsx(zDe,{activeView:sn,setActiveView:ji,panelConfig:co,theme:n,toggleTheme:ro,closeMenu:()=>nt(!1),onLogout:yi})]})}),y.jsx(Ae.div,{initial:!1,animate:_t?"open":"closed",className:"fixed top-5 left-5 z-40",children:y.jsx(BDe,{toggle:()=>nt(!_t)})}),y.jsx("div",{className:"relative z-50",children:y.jsxs(Ht,{children:[Fe.isOpen&&y.jsx(ZDe,{isOpen:Fe.isOpen,type:Fe.type,initialData:Fe.data,onClose:hs,onSave:Fe.type==="edit"?pi:io}),vt.item&&y.jsx(cIe,{isOpen:!!vt.item,onClose:ru,item:vt.item,type:vt.type,onSave:vt.type==="book"?Jn:vt.type==="thesis"?Jr:vt.type==="movie"?Vi:mi}),ae&&y.jsx($De,{editingGoal:ae,setEditingGoal:pe,onSave:ae.type==="life"?Xs:on,onClose:()=>pe(null)})]})})]})):(console.log("App Render: No user, showing AuthPage"),y.jsx(RDe,{onLogin:ds,onSignUp:ln,error:a,isLoading:i}))}const VDe=()=>y.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-neutral-900 text-white",children:[y.jsx(dY,{className:"w-12 h-12 mb-4"}),y.jsx("h1",{className:"text-2xl font-bold text-neutral-100",children:"Connecting..."}),y.jsx("p",{className:"text-neutral-400",children:"Please wait a moment..."})]}),vA=t=>y.jsx(Ae.path,{fill:"transparent",strokeWidth:"3",stroke:"hsl(0, 0%, 18%)",strokeLinecap:"round",...t});function BDe({toggle:t}){return y.jsx("button",{onClick:t,className:"fixed top-5 left-5 w-12 h-12 rounded-full z-50 bg-white/70 dark:bg-neutral-800/70 backdrop-blur-sm flex items-center justify-center border border-neutral-200 dark:border-neutral-700",children:y.jsxs("svg",{width:"23",height:"23",viewBox:"0 0 23 23",children:[y.jsx(vA,{variants:{closed:{d:"M 3 5.5 L 20 5.5"},open:{d:"M 5 18 L 18 5"}},className:"stroke-neutral-800 dark:stroke-neutral-200"}),y.jsx(vA,{d:"M 3 11.5 L 20 11.5",variants:{closed:{opacity:1},open:{opacity:0}},transition:{duration:.1},className:"stroke-neutral-800 dark:stroke-neutral-200"}),y.jsx(vA,{variants:{closed:{d:"M 3 17.5 L 20 17.5"},open:{d:"M 5 5 L 18 18"}},className:"stroke-neutral-800 dark:stroke-neutral-200"})]})})}function zDe({activeView:t,setActiveView:e,panelConfig:n,theme:r,toggleTheme:i,closeMenu:s,onLogout:a}){return y.jsxs(Ae.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 left-0 h-full w-64 bg-white/80 dark:bg-neutral-900/70 backdrop-blur-lg border-r border-white/30 dark:border-white/10 flex flex-col justify-between p-4 z-30",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold mt-20 mb-6 px-4",children:"Menu"}),y.jsx("nav",{className:"flex flex-col gap-2",children:Object.keys(n).map(l=>{const{title:u,icon:f,themeColor:d}=n[l],p=t===l,g=`bg-${d}-500 text-white`,v=`text-neutral-600 dark:text-neutral-300 ${eDe[d]} ${ZMe[d]}`;return y.jsxs("button",{onClick:()=>{e(l),s()},className:`flex items-center gap-4 px-4 py-2.5 rounded-lg text-left transition-colors ${p?g:v}`,children:[Di.cloneElement(f,{className:"w-6 h-6"}),y.jsx("span",{className:"font-semibold",children:u})]},l)})})]}),y.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[y.jsxs("button",{onClick:()=>{a(),s()},className:"flex items-center gap-4 px-4 py-2.5 w-full rounded-lg text-left transition-colors text-neutral-600 dark:text-neutral-300 hover:bg-red-100/70 dark:hover:bg-red-900/30 hover:text-red-600 dark:hover:text-red-300",children:[y.jsx(PMe,{className:"w-6 h-6"}),y.jsx("span",{className:"font-semibold",children:"Logout"})]}),y.jsx(UDe,{theme:r,toggleTheme:i})]})]})}const UDe=({theme:t,toggleTheme:e})=>y.jsx("div",{className:`flex items-center w-14 h-8 rounded-full p-1 cursor-pointer ${t==="light"?"bg-neutral-200 justify-start":"bg-blue-500 justify-end"}`,onClick:e,children:y.jsx(Ae.div,{layout:!0,transition:{type:"spring",stiffness:700,damping:30},className:"w-6 h-6 rounded-full bg-white flex items-center justify-center",children:t==="dark"?y.jsx(eb,{className:"w-4 h-4 text-blue-500"}):y.jsx(GC,{className:"w-4 h-4 text-yellow-500"})})});function FDe({onClose:t,subTask:e,onSave:n}){const[r,i]=A.useState(e);A.useEffect(()=>{i(e)},[e]);const s=a=>{const{name:l,value:u}=a.target;i(f=>({...f,[l]:u}))};return y.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4",onClick:t,children:y.jsxs(Ae.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-xl w-full max-w-sm",onClick:a=>a.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:"text-xl font-bold mb-4",children:"Edit Sub-task"}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",name:"text",value:r.text,onChange:s,className:"w-full p-2 bg-neutral-100 dark:bg-neutral-700 rounded-md"}),y.jsxs("div",{className:"flex items-center gap-4 bg-neutral-100 dark:bg-neutral-700 p-2 rounded-lg",children:[y.jsx(Dw,{value:r.icon||"Default",onChange:a=>i(l=>({...l,icon:a})),iconMap:Qh}),y.jsx("div",{className:"flex-grow flex items-center justify-around",children:Ac.map(a=>y.jsx("button",{onClick:()=>i(l=>({...l,color:a.textClass})),className:`w-6 h-6 rounded-full transition-transform ${r.color===a.textClass?"scale-125 ring-2 ring-offset-2 ring-blue-500":""}`,children:y.jsx("div",{className:`w-full h-full rounded-full ${a.bgClass}`})},a.name))})]})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-neutral-50 dark:bg-neutral-800/50 flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-700 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:()=>n(r),className:"px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold",children:"Save"})]})]})})}function $De({editingGoal:t,setEditingGoal:e,onSave:n,onClose:r}){const[i,s]=A.useState(null),[a,l]=A.useState(""),u=x=>x?(x.toDate?x.toDate():new Date(x)).toISOString().split("T")[0]:"",f=x=>{const S=new Date(x.target.value);e(T=>({...T,createdAt:S}))},d=()=>{if(!a.trim())return;const x={id:crypto.randomUUID(),text:a.trim(),completed:!1,icon:"Default",color:Ac[0].textClass},S=[...t.subTasks||[],x];e(T=>({...T,subTasks:S})),l("")},p=x=>{if(window.confirm("Delete this sub-task?")){const S=(t.subTasks||[]).filter(T=>T.id!==x);e(T=>({...T,subTasks:S}))}},g=x=>{const S=(t.subTasks||[]).map(T=>T.id===x.id?x:T);e(T=>({...T,subTasks:S})),s(null)},v=()=>{if(t&&t.title.trim()){const{isNowIncomplete:x,...S}=t;x&&(S.status="in-progress",S.completedAt=null),n(t.id,S),r()}};return y.jsxs(y.Fragment,{children:[y.jsx(Ae.div,{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:r,children:y.jsxs(Ae.div,{initial:{scale:.9},animate:{scale:1},className:"bg-white dark:bg-neutral-800 p-6 rounded-xl w-full max-w-md",onClick:x=>x.stopPropagation(),children:[y.jsxs("h3",{className:"font-bold text-lg mb-4",children:["Edit ",t.type==="life"?"Life":"Important"," Goal"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",placeholder:"Goal Title",value:t.title,onChange:x=>e(S=>({...S,title:x.target.value})),className:"w-full bg-neutral-100 dark:bg-neutral-700 p-2 rounded-lg"}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-semibold text-neutral-500",children:"Date Created"}),y.jsx("input",{type:"date",value:u(t.createdAt),onChange:f,className:"w-full bg-neutral-100 dark:bg-neutral-700 p-2 rounded-lg mt-1"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-semibold text-neutral-500",children:"Sub-tasks"}),y.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:(t.subTasks||[]).map(x=>y.jsxs("div",{className:"flex items-center gap-2 bg-neutral-100 dark:bg-neutral-700/50 p-2 rounded-lg group",children:[y.jsx("span",{className:"flex-grow text-sm",children:x.text}),y.jsx("button",{onClick:()=>s(x),className:"p-1 opacity-50 group-hover:opacity-100",children:y.jsx(Vr,{className:"w-4 h-4 text-neutral-500"})}),y.jsx("button",{onClick:()=>p(x.id),className:"p-1 opacity-50 group-hover:opacity-100",children:y.jsx(ui,{className:"w-4 h-4 text-red-500"})})]},x.id))}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",value:a,onChange:x=>l(x.target.value),onKeyDown:x=>x.key==="Enter"&&d(),placeholder:"Add a new sub-task...",className:"w-full bg-neutral-100 dark:bg-neutral-700 px-3 py-2 rounded-lg text-sm"}),y.jsx("button",{onClick:d,className:"px-3 py-2 bg-blue-600 text-white font-semibold rounded-lg text-sm",children:"Add"})]})]}),t.status==="completed"&&y.jsxs("div",{onClick:()=>e({...t,isNowIncomplete:!t.isNowIncomplete}),className:"flex items-center gap-3 cursor-pointer text-sm text-neutral-600 dark:text-neutral-300",children:[t.isNowIncomplete?y.jsx(Nf,{className:`w-6 h-6 ${t.type==="life"?"text-blue-500":"text-red-500"}`}):y.jsx(wy,{className:"w-6 h-6 text-neutral-400"}),y.jsx("span",{children:"Mark as in-progress again"})]})]}),y.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[y.jsx("button",{onClick:r,className:"px-3 py-1 rounded-lg bg-neutral-200 dark:bg-neutral-600",children:"Cancel"}),y.jsx("button",{onClick:v,className:"px-3 py-1 rounded-lg bg-blue-600 text-white",children:"Save Changes"})]})]})}),y.jsx(Ht,{children:i&&y.jsx(FDe,{isOpen:!!i,onClose:()=>s(null),subTask:i,onSave:g})})]})}function xY({goals:t,isImportant:e=!1,onEdit:n,onDelete:r,onRevert:i}){return y.jsxs("div",{children:[y.jsxs("h3",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[y.jsx(Nf,{className:"w-6 h-6 text-green-500"}),"Completed Goals"]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.jsx(Ht,{children:t.map(s=>y.jsxs(Ae.div,{layoutId:s.id,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`group relative p-3 rounded-lg flex items-center gap-3 ${e?"bg-red-100 dark:bg-red-950/40":"bg-green-50 dark:bg-green-900/20"}`,children:[y.jsx("button",{onClick:()=>i(s),children:e?y.jsx(Fc,{className:"w-6 h-6 text-red-500 shrink-0"}):y.jsx(Nf,{className:"w-6 h-6 text-green-500 shrink-0"})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-sm truncate",children:s.title}),y.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:`Completed in ${Math.ceil(Math.abs((s.completedAt?.toDate()||new Date)-(s.createdAt?.toDate()||new Date))/(1e3*60*60*24))} days`})]}),y.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>n(s),children:y.jsx(Vr,{className:"w-4 h-4 text-neutral-500"})}),y.jsx("button",{onClick:()=>r(s.id),children:y.jsx(ui,{className:"w-4 h-4 text-neutral-500"})})]})]},s.id))})})]})}function wY({isOpen:t,onClose:e,onSave:n,themeColor:r}){const[i,s]=A.useState(""),[a,l]=A.useState([]),[u,f]=A.useState(""),[d,p]=A.useState("Default"),[g,v]=A.useState(Ac[0].textClass);A.useEffect(()=>{t&&(s(""),l([]),f(""),p("Default"),v(Ac[0].textClass))},[t]);const x=()=>{if(!u.trim())return;const R={id:crypto.randomUUID(),text:u,completed:!1,icon:d,color:g};l([...a,R]),f("")},S=R=>{l(a.filter(B=>B.id!==R))},T=()=>{if(!i.trim()){alert("Please enter a goal title.");return}const R={title:i,subTasks:a,status:"in-progress",orderIndex:Date.now(),createdAt:new Date};n(R),e()},C={blue:{title:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50/80 dark:bg-blue-950/60 backdrop-blur-xl",focusRing:"focus:ring-blue-400"},red:{title:"text-red-600 dark:text-red-400",bg:"bg-red-50/80 dark:bg-red-950/60 backdrop-blur-xl",focusRing:"focus:ring-red-400"}}[r],D=`w-full bg-black/5 dark:bg-white/5 rounded-md backdrop-blur-sm focus:ring-2 ${C.focusRing} focus:outline-none`,L="bg-black/5 dark:bg-white/5 rounded-lg";return y.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:e,children:y.jsxs(Ae.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:`rounded-2xl shadow-xl w-full max-w-lg ${C.bg}`,onClick:R=>R.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:`text-xl font-bold mb-4 ${C.title}`,children:"Create New Goal"}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",value:i,onChange:R=>s(R.target.value),placeholder:"New Goal Title",className:`${D} p-2`,autoFocus:!0}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-semibold text-neutral-500",children:"Sub-tasks"}),y.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:a.map(R=>y.jsxs("div",{className:`flex items-center gap-2 p-2 group ${L}`,children:[y.jsx("span",{className:"flex-grow text-sm",children:R.text}),y.jsx("button",{onClick:()=>S(R.id),className:"p-1 opacity-50 group-hover:opacity-100",children:y.jsx(ui,{className:"w-4 h-4 text-red-500"})})]},R.id))}),y.jsxs("div",{className:`p-2 rounded-lg ${L}`,children:[y.jsx("input",{type:"text",value:u,onChange:R=>f(R.target.value),onKeyDown:R=>R.key==="Enter"&&x(),placeholder:"Add a new sub-task...",className:"w-full bg-transparent px-1 py-1 text-sm focus:outline-none"}),y.jsxs("div",{className:"flex items-center gap-4 pt-2 mt-2 border-t border-black/10 dark:border-white/10",children:[y.jsx(Dw,{value:d,onChange:p,iconMap:Qh}),y.jsx("div",{className:"flex-grow flex items-center justify-around",children:Ac.map(R=>y.jsx("button",{onClick:()=>v(R.textClass),className:`w-6 h-6 rounded-full transition-transform ${g===R.textClass?"scale-125 ring-2 ring-offset-2 ring-blue-500":""}`,children:y.jsx("div",{className:`w-full h-full rounded-full ${R.bgClass}`})},R.name))}),y.jsx("button",{onClick:x,className:"px-3 py-1 bg-neutral-200/50 dark:bg-neutral-600/50 font-semibold rounded-md text-sm",children:"Add"})]})]})]})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:T,className:`px-4 py-2 rounded-lg bg-${r}-600 text-white font-semibold`,children:"Create Goal"})]})]})})}function SY({title:t,icon:e,goals:n,onUpdate:r,onDelete:i,onEdit:s,themeColor:a,onAddClick:l}){const u=a==="blue"?HDe:qDe;return y.jsxs("div",{className:"mb-12 p-6 rounded-2xl",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[e,y.jsx("h2",{className:`text-3xl font-extrabold tracking-tight text-${a}-600 dark:text-${a}-400`,children:t})]}),y.jsxs("button",{onClick:l,className:`px-4 py-2 bg-${a}-600 text-white font-semibold rounded-lg flex items-center gap-2`,children:[y.jsx(as,{className:"w-5 h-5"})," Add"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.jsx(Ht,{children:n.map(f=>y.jsx(u,{goal:f,onUpdate:r,onDelete:i,onEdit:s},f.id))})})]})}function HDe({goal:t,onUpdate:e,onDelete:n,onEdit:r}){const i=t.subTasks||[],s=i.filter(f=>f.completed).length,a=i.length>0?Math.round(s/i.length*100):t.status==="completed"?100:0,l=t.color||"bg-blue-50/40 dark:bg-blue-950/20 backdrop-blur-xl",u=f=>{const d=i.map(p=>p.id===f?{...p,completed:!p.completed}:p);d.filter(p=>p.completed).length===d.length&&d.length>0?e(t.id,{subTasks:d,status:"completed",completedAt:zu()}):e(t.id,{subTasks:d,status:"in-progress",completedAt:null})};return y.jsxs(Ae.div,{layoutId:t.id,transition:{type:"spring",stiffness:400,damping:30},className:`group relative p-4 rounded-xl flex flex-col gap-3 ${l}`,children:[y.jsxs("div",{className:"flex justify-between items-start gap-3",children:[y.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[y.jsx("div",{className:"flex-shrink-0",children:y.jsx(JM,{progress:a,color:Jx(a)})}),y.jsx("p",{className:"font-bold pt-1 break-words",children:t.title})]}),y.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[yY(t.createdAt),y.jsx(ZM,{onEdit:()=>r(t),onDelete:()=>n(t.id),onChangeColor:f=>e(t.id,{color:f})})]})]}),y.jsx("div",{className:"space-y-1 flex-grow pl-16",children:i.map(f=>{const d=Qh[f.icon]||wy,p=f.completed?"text-green-500":f.color||"text-neutral-500";return y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>u(f.id),children:y.jsx(d,{className:`w-5 h-5 ${p}`})}),y.jsx("span",{className:`text-sm ${f.completed?"line-through text-neutral-400":f.color}`,children:f.text})]},f.id)})}),y.jsxs("button",{onClick:()=>r(t),className:"mt-2 text-sm flex items-center gap-2 text-blue-500 hover:text-blue-600 font-medium pl-16",children:[y.jsx(as,{className:"w-4 h-4"})," Add sub-task"]})]})}function qDe({goal:t,onUpdate:e,onDelete:n,onEdit:r}){const i=d=>`hsl(${d/100*30}, 80%, 50%)`,s=t.subTasks||[],a=s.filter(d=>d.completed).length,l=s.length>0?Math.round(a/s.length*100):t.status==="completed"?100:0,u=t.color||"bg-red-50/40 dark:bg-red-950/20 backdrop-blur-xl",f=d=>{const p=s.map(g=>g.id===d?{...g,completed:!g.completed}:g);p.filter(g=>g.completed).length===p.length&&p.length>0?e(t.id,{subTasks:p,status:"completed",completedAt:zu()}):e(t.id,{subTasks:p,status:"in-progress",completedAt:null})};return y.jsxs(Ae.div,{layoutId:t.id,transition:{type:"spring",stiffness:400,damping:30},className:`group relative p-4 rounded-xl flex flex-col gap-3 ${u}`,children:[y.jsxs("div",{className:"flex justify-between items-start gap-3",children:[y.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[y.jsx("div",{className:"flex-shrink-0",children:y.jsx(JM,{progress:l,color:i(l)})}),y.jsx("p",{className:"font-bold pt-1 break-words",children:t.title})]}),y.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[yY(t.createdAt),y.jsx(ZM,{onEdit:()=>r(t),onDelete:()=>n(t.id),onChangeColor:d=>e(t.id,{color:d})})]})]}),y.jsx("div",{className:"space-y-1 flex-grow pl-16",children:s.map(d=>{const p=Qh[d.icon]||wy,g=d.completed?"text-green-500":d.color||"text-neutral-500";return y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>f(d.id),children:y.jsx(p,{className:`w-5 h-5 ${g}`})}),y.jsx("span",{className:`text-sm ${d.completed?"line-through text-neutral-400":d.color}`,children:d.text})]},d.id)})}),y.jsxs("button",{onClick:()=>r(t),className:"mt-2 text-sm flex items-center gap-2 text-blue-500 hover:text-blue-600 font-medium pl-16",children:[y.jsx(as,{className:"w-4 h-4"})," Add sub-task"]})]})}function KDe({goals:t,onAdd:e,onUpdate:n,onDelete:r,onEdit:i,onRevert:s}){const[a,l]=A.useState(!1),u=t.filter(d=>d.status!=="completed"),f=t.filter(d=>d.status==="completed");return y.jsxs("div",{className:"space-y-8",children:[y.jsx(SY,{title:"Life Goals",icon:y.jsx(Ty,{className:"w-8 h-8 text-blue-500"}),goals:u,onUpdate:n,onDelete:r,onEdit:i,themeColor:"blue",onAddClick:()=>l(!0)}),f.length>0&&y.jsx(xY,{goals:f,onEdit:i,onDelete:r,onRevert:d=>s(d,n)}),y.jsx(Ht,{children:a&&y.jsx(wY,{isOpen:a,onClose:()=>l(!1),onSave:e,themeColor:"blue"})})]})}function WDe({goals:t,onAdd:e,onUpdate:n,onDelete:r,onEdit:i,onRevert:s}){const[a,l]=A.useState(!1),u=t.filter(d=>d.status!=="completed"),f=t.filter(d=>d.status==="completed");return y.jsxs("div",{className:"space-y-8",children:[y.jsx(SY,{title:"Important Goals",icon:y.jsx(Cw,{className:"w-8 h-8 text-red-500"}),goals:u,onUpdate:n,onDelete:r,onEdit:i,themeColor:"red",onAddClick:()=>l(!0)}),f.length>0&&y.jsx(xY,{goals:f,isImportant:!0,onEdit:i,onDelete:r,onRevert:d=>s(d,n)}),y.jsx(Ht,{children:a&&y.jsx(wY,{isOpen:a,onClose:()=>l(!1),onSave:e,themeColor:"red"})})]})}function GDe(t){return y.jsx(Ht,{mode:"wait",children:t.selectedObjectiveId?y.jsx(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:y.jsx(JDe,{objective:t.selectedObjective,onBack:()=>t.setSelectedObjectiveId(null),onUpdate:t.onUpdateObjective,onDelete:t.deleteObjective})},"detail"):y.jsx(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:y.jsx(YDe,{...t})},"timeline")})}function YDe({years:t,addNextYear:e,currentYear:n,setCurrentYear:r,selectedMonth:i,setSelectedMonth:s,bigObjectives:a,smallObjectivesByParent:l,onSelectObjective:u,onAddBigObjective:f,onAddSmallObjective:d,onUpdateObjective:p,onDeleteObjective:g,onEditObjective:v,revertObjectiveCompletion:x}){const S=A.useRef(null);A.useEffect(()=>{const _=S.current;_&&_.querySelector(`[data-year="${n}"]`)?.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[n]);const T=A.useMemo(()=>a.filter(_=>_.year===n&&(!i||_.month===i)),[n,i,a]);return y.jsxs("div",{children:[y.jsxs("div",{className:"sticky top-0 backdrop-blur-sm py-4 z-10 -mx-4 px-4 space-y-3",children:[y.jsxs("div",{ref:S,className:"flex items-center space-x-2 overflow-x-auto snap-x snap-mandatory no-scrollbar pb-2",children:[t.map(_=>y.jsx("button",{"data-year":_,onClick:()=>r(_),className:`snap-center shrink-0 px-4 py-2 text-lg font-semibold rounded-full ${n===_?"bg-blue-600 text-white shadow-lg":"bg-neutral-200 dark:bg-neutral-800"}`,children:_},_)),y.jsx("button",{onClick:e,className:"snap-start shrink-0 w-10 h-10 flex items-center justify-center bg-neutral-200 dark:bg-neutral-800 rounded-full",children:y.jsx(as,{className:"w-6 h-6"})})]}),y.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[y.jsx("button",{onClick:()=>s(null),className:`shrink-0 px-3 py-1 text-sm rounded-full font-semibold ${i===null?"bg-blue-200 text-blue-800":"bg-neutral-200 dark:bg-neutral-800"}`,children:"Year"}),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((_,C)=>y.jsx("button",{onClick:()=>s(C+1),className:`shrink-0 px-3 py-1 text-sm rounded-full ${i===C+1?"bg-blue-200 text-blue-800":"bg-neutral-200 dark:bg-neutral-800"}`,children:_},_))]})]}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-3xl font-bold",children:i?`${new Date(0,i-1).toLocaleString("default",{month:"long"})} ${n}`:`${n} Overview`}),y.jsxs(Ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md",children:[y.jsx(as,{className:"w-5 h-5"})," New"]})]}),T.length>0?y.jsx("div",{className:"columns-1 md:columns-2 xl:columns-3 gap-6 space-y-6",children:y.jsx(Ht,{children:T.map(_=>y.jsx(XDe,{objective:_,selectedMonth:i,smallObjectives:l[_.id]||[],onSelect:()=>u(_.id),onAddSmallObjective:d,onUpdateObjective:p,onDeleteObjective:g,onEditObjective:v,onRevertCompletion:x},_.id))})}):y.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-neutral-300 dark:border-neutral-700 rounded-2xl",children:[y.jsx(nu,{className:"w-12 h-12 mx-auto text-neutral-400"}),y.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"No objectives for this period."})]})]})]})}function XDe({objective:t,smallObjectives:e,onSelect:n,onAddSmallObjective:r,onUpdateObjective:i,onDeleteObjective:s,onEditObjective:a,selectedMonth:l,onRevertCompletion:u}){const f=A.useMemo(()=>{if(e.length===0)return t.progress||0;const x=e.filter(S=>S.status==="completed").length;return Math.round(x/e.length*100)},[e,t.progress]);A.useEffect(()=>{f===100&&t.status!=="completed"&&i(t.id,{status:"completed",completedAt:zu()})},[f,t.status,t.id,i]);const d=t.status==="completed",p=t.color||"bg-white dark:bg-neutral-800/50",g=()=>{const x=new Date(t.year,(t.month||1)-1,t.day||1);if(l){const S=String(t.day||"").padStart(2,"0"),T=x.toLocaleDateString("en-US",{weekday:"short"}).toUpperCase();return`${S}/${T}`}else{const S=x.toLocaleDateString("en-US",{month:"short"}).toUpperCase(),T=String(t.day||"").padStart(2,"0");return`${S}/${T}`}},v=()=>{const x=new Date(t.year,(t.month||1)-1,t.day||1),S=new Date;S.setHours(0,0,0,0),x.setHours(0,0,0,0);const T=S-x,_=Math.round(Math.abs(T)/(1e3*60*60*24));if(T<0)return y.jsxs("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full bg-sky-100 text-sky-800 dark:bg-sky-900 dark:text-sky-300",children:["Starts in ",_," days"]});let C="bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";return _>30?C="bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":_>7&&(C="bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300"),y.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${C}`,children:[_," days ago"]})};return y.jsx(Ae.div,{layout:!0,transition:{type:"spring",stiffness:400,damping:30},style:{breakInside:"avoid",borderColor:d?"transparent":Jx(f)},className:`rounded-2xl shadow-sm w-full ${d?"p-3":`p-4 border-l-4 ${p}`}`,children:y.jsx(Ht,{initial:!1,mode:"wait",children:d?y.jsxs(Ae.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-3",children:[y.jsx("button",{onClick:()=>u(t.id,e),children:y.jsx(Nf,{className:"w-8 h-8 text-green-500 shrink-0"})}),y.jsxs("div",{className:"flex-grow",children:[y.jsx("p",{className:"font-semibold text-neutral-800 dark:text-neutral-200 opacity-60 truncate",children:t.title}),y.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 font-semibold",children:`Completed in ${Math.ceil(Math.abs((t.completedAt?.toDate()||new Date)-(t.createdAt?.toDate()||new Date))/(1e3*60*60*24))} days`})]}),y.jsx("p",{className:"text-xs font-semibold text-neutral-400 dark:text-neutral-500 shrink-0",children:g()})]},"completed"):y.jsxs(Ae.div,{exit:{opacity:0},className:"flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(JM,{progress:f,color:Jx(f)}),y.jsx("h3",{onClick:n,className:"text-lg font-bold cursor-pointer hover:text-blue-500",children:t.title})]}),y.jsxs("div",{className:"flex flex-col items-end gap-2",children:[v(),y.jsx(ZM,{onEdit:()=>a(t),onDelete:()=>s(t.id),onChangeColor:x=>i(t.id,{color:x})})]})]}),y.jsx("div",{className:"space-y-1 flex-grow pl-14",children:e.map(x=>y.jsx(QDe,{objective:x,onUpdateObjective:i,onEdit:()=>a(x)},x.id))}),y.jsxs("button",{onClick:()=>r(t.id),className:"mt-3 text-sm flex items-center gap-2 text-blue-500 hover:text-blue-600 font-medium pl-14",children:[y.jsx(as,{className:"w-4 h-4"})," Add sub-task"]})]},"active")})})}function QDe({objective:t,onUpdateObjective:e,onEdit:n}){const r=t.status==="completed",i=()=>e(t.id,{status:r?"in-progress":"completed"}),s=Qh[t.icon]||wy,a=t.color||"text-neutral-800 dark:text-neutral-200",l=r?"text-green-500":t.color||"text-neutral-500";return y.jsxs("div",{className:"flex items-center gap-3 group p-1.5 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800/50",children:[y.jsx("button",{onClick:i,className:"flex-shrink-0",children:y.jsx(s,{className:`w-6 h-6 transition-colors ${l}`})}),y.jsx("span",{onDoubleClick:n,className:`flex-grow transition-colors ${a} ${r?"line-through text-neutral-400 dark:text-neutral-500":""}`,children:t.title}),y.jsx("button",{onClick:n,className:"opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:y.jsx(Vr,{className:"w-4 h-4 text-neutral-500"})})]})}function JDe({objective:t,onBack:e,onUpdate:n,onDelete:r}){return t?y.jsxs("div",{className:"max-w-3xl mx-auto",children:[y.jsxs("button",{onClick:e,className:"flex items-center gap-2 mb-6 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200",children:[y.jsx(Uc,{className:"w-5 h-5"})," Back to Timeline"]}),y.jsxs("div",{className:"bg-white dark:bg-neutral-800/50 rounded-2xl border border-neutral-200 dark:border-neutral-700 shadow-sm p-8",children:[y.jsx("input",{type:"text",defaultValue:t.title,onBlur:i=>n(t.id,{title:i.target.value}),className:"text-4xl font-bold bg-transparent w-full focus:outline-none mb-4"}),y.jsx("textarea",{defaultValue:t.description,onBlur:i=>n(t.id,{description:i.target.value}),placeholder:"Add a description...",className:"w-full h-32 bg-transparent text-neutral-600 dark:text-neutral-300 focus:outline-none resize-none"}),y.jsxs("div",{className:"mt-8 pt-6 border-t border-neutral-200 dark:border-neutral-700",children:[y.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Comments"}),y.jsxs("div",{className:"text-center text-neutral-500",children:[y.jsx(NMe,{className:"w-8 h-8 mx-auto mb-2"}),y.jsx("p",{children:"Comments feature coming soon!"})]})]}),y.jsx("div",{className:"mt-8 pt-6 border-t border-neutral-200 dark:border-neutral-700 flex justify-end",children:y.jsxs("button",{onClick:()=>{r(t.id),e()},className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white font-semibold rounded-lg shadow-md hover:bg-red-700 transition-all",children:[y.jsx(ui,{className:"w-5 h-5"})," Delete Objective"]})})]})]}):null}function ZDe({isOpen:t,type:e,initialData:n,onClose:r,onSave:i}){const[s,a]=A.useState(""),[l,u]=A.useState(String(n.year||new Date().getFullYear())),[f,d]=A.useState(String(n.month||new Date().getMonth()+1)),[p,g]=A.useState(String(n.day||new Date().getDate())),[v,x]=A.useState(n.icon||"Default"),[S,T]=A.useState(n.color||Ac[0].textClass),[_,C]=A.useState(!1);A.useEffect(()=>{t&&(a(n.title||""),u(String(n.year||new Date().getFullYear())),d(String(n.month||new Date().getMonth()+1)),g(String(n.day||new Date().getDate())),x(n.icon||"Default"),T(n.color||Ac[0].textClass))},[t,n]);const D=async()=>{if(!s.trim())return;C(!0);const P={...n,title:s,year:Number(l),month:Number(f),day:Number(p),icon:v,color:S,type:e==="addBig"?"big":"small",status:n.status||"not-started",progress:n.progress||0,orderIndex:n.orderIndex||Date.now()};e==="edit"?await i(n.id,{title:s,year:Number(l),month:Number(f),day:Number(p),icon:v,color:S}):await i(P),C(!1),r()},L=e==="addBig"?"New Objective":e==="addSmall"?"New Task":"Edit Task",R=e==="edit"&&n.type==="small",N={blue:{title:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50/80 dark:bg-blue-950/60 backdrop-blur-xl",button:"bg-blue-600",focusRing:"focus:ring-blue-400"}}.blue,M=`w-full p-2 bg-black/5 dark:bg-white/5 rounded-md backdrop-blur-sm focus:ring-2 ${N.focusRing} focus:outline-none`;return y.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:r,children:y.jsxs(Ae.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:`rounded-2xl shadow-xl w-full max-w-md ${N.bg}`,onClick:P=>P.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:`text-xl font-bold mb-4 ${N.title}`,children:L}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",value:s,onChange:P=>a(P.target.value),placeholder:"e.g., Learn a new programming language",className:M,autoFocus:!0}),(e==="addBig"||e==="edit"&&n.type==="big")&&y.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[y.jsx("input",{type:"number",placeholder:"Year",value:l,onChange:P=>u(P.target.value),className:M}),y.jsx("select",{value:f,onChange:P=>d(P.target.value),className:M,children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((P,F)=>y.jsx("option",{value:F+1,children:P},P))}),y.jsx("input",{type:"number",placeholder:"Day",value:p,onChange:P=>g(P.target.value),className:M})]}),R&&y.jsxs("div",{className:"space-y-3 pt-2",children:[y.jsx("label",{className:"text-sm font-semibold text-neutral-500",children:"Customize Task"}),y.jsxs("div",{className:"flex items-center gap-4 bg-black/5 dark:bg-white/5 p-2 rounded-lg",children:[y.jsx(Dw,{value:v,onChange:x,iconMap:Qh}),y.jsx("div",{className:"flex-grow flex items-center justify-around",children:Ac.map(P=>y.jsx("button",{onClick:()=>T(P.textClass),className:`w-6 h-6 rounded-full transition-transform ${S===P.textClass?"scale-125 ring-2 ring-offset-2 ring-blue-500":""}`,children:y.jsx("div",{className:`w-full h-full rounded-full ${P.bgClass}`})},P.name))})]})]})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:r,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:D,disabled:_,className:`px-4 py-2 rounded-lg text-white font-semibold ${N.button}`,children:_?"Saving...":"Save"})]})]})})}function ZM({onEdit:t,onDelete:e,onChangeColor:n}){const[r,i]=A.useState(!1),[s,a]=A.useState(!1),l=A.useRef(null);A.useEffect(()=>{const f=d=>{l.current&&!l.current.contains(d.target)&&(i(!1),a(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const u=f=>{n(f),i(!1),a(!1)};return y.jsxs("div",{className:"relative",ref:l,children:[y.jsx("button",{onClick:()=>i(!r),className:"p-1 rounded-full hover:bg-neutral-200 dark:hover:bg-neutral-700",children:y.jsx(fY,{className:"w-5 h-5"})}),y.jsx(Ht,{children:r&&y.jsx(Ae.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 mt-2 w-48 bg-white dark:bg-neutral-800 rounded-lg shadow-lg border border-neutral-200 dark:border-neutral-700 z-20",children:s?y.jsxs("div",{className:"p-2",children:[y.jsxs("button",{onClick:()=>a(!1),className:"flex items-center gap-2 text-sm mb-2 p-1",children:[y.jsx(Uc,{className:"w-4 h-4"})," Back"]}),y.jsx("div",{className:"grid grid-cols-4 gap-2",children:tDe.map(f=>y.jsx("button",{onClick:()=>u(f),className:`w-8 h-8 rounded-full ${f} border border-black/10`},f))})]}):y.jsxs("div",{children:[y.jsxs("button",{onClick:t,className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm hover:bg-neutral-100 dark:hover:bg-neutral-700",children:[y.jsx(Vr,{className:"w-4 h-4"})," Edit"]}),y.jsxs("button",{onClick:()=>a(!0),className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm hover:bg-neutral-100 dark:hover:bg-neutral-700",children:[y.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-sky-300 to-violet-300"})," Change Color"]}),y.jsxs("button",{onClick:e,className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-red-500 hover:bg-red-500 hover:text-white",children:[y.jsx(ui,{className:"w-4 h-4"})," Delete"]})]})})})]})}function eIe({about:t,onUpdate:e}){const[n,r]=A.useState({name:"",weight:"",height:"",mbti:"",university:"",major:"",motto:"",currentAim:"",weightHistory:[]}),[i,s]=A.useState(!1);A.useEffect(()=>{r(t?{name:t.name||"",weight:t.weight||"",height:t.height||"",mbti:t.mbti||"",university:t.university||"",major:t.major||"",motto:t.motto||"",currentAim:t.currentAim||"",weightHistory:Array.isArray(t.weightHistory)?t.weightHistory:[]}:{name:"",weight:"",height:"",mbti:"",university:"",major:"",motto:"",currentAim:"",weightHistory:[]})},[t]);const a=A.useCallback((f,d)=>{const p=parseFloat(f),g=parseFloat(d);if(p>0&&g>0){const v=g/100;return(p/(v*v)).toFixed(1)}return null},[]),l=A.useMemo(()=>a(n.weight,n.height),[n.weight,n.height,a]),u=(f,d)=>{e({[f]:d})};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 text-slate-700 dark:text-slate-300",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsx(tIe,{initials:sDe(n.name)}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[y.jsx(bA,{label:"WEIGHT (KG)",value:n.weight,onSave:f=>u("weight",f),icon:y.jsx(WM,{})}),y.jsx(bA,{label:"HEIGHT (CM)",value:n.height,onSave:f=>u("height",f),icon:y.jsx(DMe,{})})]}),y.jsx(bA,{label:"BMI",value:l||"N/A",isStatic:!0,icon:y.jsx(Ff,{})}),y.jsx(nIe,{weightHistory:n.weightHistory,onEditClick:()=>s(!0)})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsx(Cd,{label:"NAME",value:n.name,onSave:f=>u("name",f),icon:y.jsx(hY,{})}),y.jsx(Cd,{label:"MBTI Personality",value:n.mbti,onSave:f=>u("mbti",f),icon:y.jsx(xy,{})}),y.jsx(Cd,{label:"UNIVERSITY",value:n.university,onSave:f=>u("university",f),icon:y.jsx(GM,{})}),y.jsx(Cd,{label:"MAJOR",value:n.major,onSave:f=>u("major",f),icon:y.jsx(Mf,{})}),y.jsx(Cd,{label:"MOTTO",value:n.motto,onSave:f=>u("motto",f),icon:y.jsx(IMe,{})}),y.jsx(Cd,{label:"CURRENT AIM",value:n.currentAim,onSave:f=>u("currentAim",f),icon:y.jsx(Fc,{})})]})]}),y.jsx(Ht,{children:i&&y.jsx(iIe,{isOpen:i,onClose:()=>s(!1),weightHistory:n.weightHistory,onSave:f=>u("weightHistory",f)})})]})}const tIe=({initials:t})=>y.jsx("div",{className:"identity-core-glow rounded-full w-56 h-56 flex items-center justify-center mx-auto",children:y.jsx("div",{className:"hall-of-fame-content bg-white dark:bg-slate-900 rounded-full w-full h-full flex flex-col items-center justify-center border-2 border-cyan-400/50",children:y.jsx("span",{className:"text-8xl font-bold text-cyan-600 dark:text-cyan-300 opacity-70",children:t})})}),bA=({label:t,value:e,onSave:n,icon:r,isStatic:i=!1})=>{const[s,a]=A.useState(String(e||"")),[l,u]=A.useState(!1);A.useEffect(()=>{a(String(e||""))},[e]);const f=()=>{n(s),u(!1)},d=t==="BMI"?iDe(e):null,p=d?.iconName?rDe[d.iconName]:null,g=d?d.color:"text-cyan-600 dark:text-cyan-300";return y.jsxs("div",{className:"bg-white/50 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700 backdrop-blur-sm relative group",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[Di.cloneElement(r,{className:"w-5 h-5 text-purple-400"}),y.jsx("label",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 tracking-widest",children:t})]}),y.jsx("div",{className:"flex items-baseline gap-3 mt-1",children:l?y.jsx("input",{type:"text",value:s,onChange:v=>a(v.target.value),onBlur:f,onKeyDown:v=>v.key==="Enter"&&f(),className:"w-full bg-transparent text-3xl font-bold text-cyan-600 dark:text-cyan-300 focus:outline-none focus:ring-1 focus:ring-cyan-500 rounded-md px-1",autoFocus:!0}):y.jsxs(y.Fragment,{children:[y.jsx("p",{className:`text-3xl font-bold ${g}`,children:e}),d&&d.comment&&y.jsxs("div",{className:`flex items-center gap-1.5 text-lg font-semibold opacity-60 ${d.color}`,children:[p&&y.jsx(p,{className:"w-8 h-8"}),y.jsx("span",{children:d.comment})]})]})}),!i&&!l&&y.jsx("button",{onClick:()=>u(!0),className:"absolute top-3 right-3 p-1 opacity-20 group-hover:opacity-100 transition-opacity",children:y.jsx(Vr,{className:"w-4 h-4 text-slate-400"})})]})},Cd=({label:t,value:e,onSave:n,icon:r,type:i="input"})=>{const[s,a]=A.useState(e),[l,u]=A.useState(!1);A.useEffect(()=>{a(e)},[e]);const f=()=>{n(s),u(!1)};return y.jsxs("div",{className:"bg-white/50 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700 backdrop-blur-sm relative group",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[Di.cloneElement(r,{className:"w-5 h-5 text-purple-400"}),y.jsx("label",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 tracking-widest",children:t})]}),l?i==="textarea"?y.jsx("textarea",{value:s,onChange:d=>a(d.target.value),onBlur:f,className:"w-full bg-slate-100 dark:bg-slate-700 text-lg text-slate-800 dark:text-slate-200 focus:outline-none focus:ring-1 focus:ring-cyan-500 rounded-md p-1 resize-none",autoFocus:!0,rows:3}):y.jsx("input",{type:"text",value:s,onChange:d=>a(d.target.value),onBlur:f,onKeyDown:d=>d.key==="Enter"&&f(),className:"w-full bg-slate-100 dark:bg-slate-700 text-lg text-slate-800 dark:text-slate-200 focus:outline-none focus:ring-1 focus:ring-cyan-500 rounded-md p-1",autoFocus:!0}):y.jsx("p",{onDoubleClick:()=>u(!0),className:`text-lg text-slate-800 dark:text-slate-200 truncate ${i==="textarea"?"h-[72px] whitespace-normal":"h-auto"}`,children:e}),y.jsx("button",{onClick:()=>u(!0),className:"absolute top-3 right-3 p-1 opacity-20 group-hover:opacity-100 transition-opacity",children:y.jsx(Vr,{className:"w-4 h-4 text-slate-400"})})]})};function iz({items:t,onAdd:e,onUpdate:n,onDelete:r,config:i,theme:s="violet"}){const[a,l]=A.useState(!1),[u,f]=A.useState(null),d={Skill:"bg-violet-500 hover:bg-violet-600",Hobby:"bg-pink-500 hover:bg-pink-600"},g={violet:{mainBg:"bg-violet-50 dark:bg-violet-950/40",borderColor:"#a78bfa",tag:"bg-violet-100 dark:bg-violet-900 text-violet-800 dark:text-violet-200",hofGlow:"hof-glow-violet",hofBg:"p-3 rounded-lg hof-bg-violet hall-of-fame-content group",hofTitle:"text-violet-300",hofTag:"bg-violet-500/20 text-violet-200"},pink:{mainBg:"bg-pink-50 dark:bg-pink-950/40",borderColor:"#f472b6",tag:"bg-pink-100 dark:bg-pink-900 text-pink-800 dark:text-pink-200",hofGlow:"hof-glow-pink",hofBg:"p-3 rounded-lg hof-bg-pink hall-of-fame-content group",hofTitle:"text-pink-300",hofTag:"bg-pink-500/20 text-pink-200"}}[s],v=A.useMemo(()=>{const _=t.filter(L=>!L.hallOfFame),C=t.filter(L=>L.hallOfFame),D=L=>L.reduce((R,B)=>{const N=B.section||"General";return R[N]||(R[N]=[]),R[N].push(B),R},{});return{regular:D(_),hallOfFame:D(C)}},[t]),x=()=>{u&&u.name.trim()&&(n(u.id,{name:u.name,section:u.section,tags:Array.isArray(u.tags)?u.tags:u.tags.split(",").map(_=>_.trim()),expertise:u.expertise}),f(null))},S=(_,C)=>{const D=y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("span",{className:`font-semibold ${C?g.hofTitle:"text-neutral-500 dark:text-neutral-400"}`,children:_.name}),y.jsxs("div",{className:"flex items-center gap-2",children:[i.hasExpertise&&y.jsxs("span",{className:"text-sm font-semibold",style:{color:g.borderColor},children:[_.expertise,"%"]}),y.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>f({..._,tags:Array.isArray(_.tags)?_.tags.join(", "):""}),children:y.jsx(Vr,{className:`w-4 h-4 ${C?"text-neutral-300 hover:text-white":"text-neutral-400 hover:text-blue-500"}`})}),y.jsx("button",{onClick:()=>r(_.id),children:y.jsx(ui,{className:`w-4 h-4 ${C?"text-neutral-300 hover:text-red-400":"text-neutral-400 hover:text-red-500"}`})})]})]})]}),i.hasExpertise&&y.jsx("input",{type:"range",min:"0",max:"100",value:_.expertise,onChange:L=>n(_.id,{expertise:parseInt(L.target.value)}),className:"w-full h-2 bg-neutral-200 dark:bg-neutral-700 rounded-lg appearance-none cursor-pointer",style:{accentColor:g.borderColor}}),i.hasTags&&_.tags&&y.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:_.tags.map(L=>y.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${C?g.hofTag:g.tag}`,children:L},L))})]});return C?y.jsx("div",{className:`${g.hofGlow} rounded-lg`,children:y.jsx("div",{className:g.hofBg,children:D})},_.id):y.jsx("div",{className:`p-3 rounded-lg border-l-4 group ${g.mainBg}`,style:{borderColor:g.borderColor},children:D},_.id)},T=_=>Object.entries(_).map(([C,D])=>{const L=YMe[D[0]?.icon]||xy,R={color:g.borderColor};return y.jsxs("div",{className:"space-y-4",children:[!i.hideSection&&y.jsxs("h3",{style:R,className:"flex items-center gap-2 font-bold text-xl",children:[y.jsx(L,{className:"w-5 h-5"}),C]}),y.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(18rem,1fr))] gap-4",children:D.map(B=>S(B,!1))})]},C)});return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"flex justify-end items-center mb-6",children:y.jsxs("button",{onClick:()=>l(!0),className:`px-4 py-2 text-white font-semibold rounded-lg flex items-center gap-2 transition-colors ${d[i.name]}`,children:[y.jsx(as,{className:"w-5 h-5"})," Add New ",i.name]})}),Object.keys(v.hallOfFame).length>0&&y.jsxs("div",{className:"mb-8",children:[y.jsxs("h3",{className:"font-bold text-xl mb-4 flex items-center gap-2",style:{color:g.borderColor},children:[y.jsx(Gs,{})," Hall of Fame"]}),y.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(18rem,1fr))] gap-4",children:Object.values(v.hallOfFame).flat().map(_=>S(_,!0))})]}),y.jsx("div",{className:"space-y-6",children:i.hideSection?y.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(18rem,1fr))] gap-4",children:Object.values(v.regular).flat().map(_=>S(_,!1))}):T(v.regular)}),y.jsxs(Ht,{children:[a&&y.jsx(TDe,{isOpen:a,onClose:()=>l(!1),onSave:e,config:i,theme:s}),u&&y.jsx(Ae.div,{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",onClick:()=>f(null),children:y.jsxs(Ae.div,{className:"bg-neutral-100 dark:bg-neutral-800 p-6 rounded-xl w-full max-w-md",onClick:_=>_.stopPropagation(),children:[y.jsxs("h3",{className:"font-bold text-lg mb-4",children:["Edit ",i.name]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",value:u.name,onChange:_=>f(C=>({...C,name:_.target.value})),className:"w-full p-2 bg-white dark:bg-neutral-700 rounded-lg"}),!i.hideSection&&y.jsx("input",{type:"text",value:u.section,onChange:_=>f(C=>({...C,section:_.target.value})),className:"w-full p-2 bg-white dark:bg-neutral-700 rounded-lg"}),i.hasTags&&y.jsx("input",{type:"text",value:u.tags,onChange:_=>f(C=>({...C,tags:_.target.value})),className:"w-full p-2 bg-white dark:bg-neutral-700 rounded-lg"})]}),y.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[y.jsx("button",{onClick:()=>f(null),className:"px-3 py-1 rounded-lg bg-neutral-200 dark:bg-neutral-600",children:"Cancel"}),y.jsx("button",{onClick:x,className:"px-3 py-1 rounded-lg bg-blue-600 text-white",children:"Save"})]})]})})]})]})}function Dw({value:t,onChange:e,iconMap:n}){const[r,i]=A.useState(!1),s=A.useRef(null),a=n[t];return A.useEffect(()=>{const l=u=>{s.current&&!s.current.contains(u.target)&&i(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),y.jsxs("div",{className:"relative",ref:s,children:[y.jsx("button",{type:"button",onClick:()=>i(!r),className:"flex-grow flex items-center justify-center p-2 bg-neutral-200 dark:bg-neutral-800 rounded-md",children:y.jsx(a,{className:"w-5 h-5 text-blue-500"})}),y.jsx(Ht,{children:r&&y.jsx(Ae.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full mt-1 w-48 bg-white dark:bg-neutral-700 rounded-md shadow-lg z-10 p-2 grid grid-cols-5 gap-2",children:Object.keys(n).map(l=>{const u=n[l];return y.jsx("button",{type:"button",onClick:()=>{e(l),i(!1)},className:"p-2 rounded hover:bg-neutral-100 dark:hover:bg-neutral-600",children:y.jsx(u,{className:"w-5 h-5 text-blue-500"})},l)})})})]})}function nIe({weightHistory:t,onEditClick:e}){return y.jsxs("div",{className:"w-full bg-white/50 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700 backdrop-blur-sm relative group",children:[y.jsxs("label",{className:"flex items-center gap-2 font-semibold text-slate-500 dark:text-slate-400 mb-2",children:[y.jsx(WM,{className:"w-5 h-5 text-purple-400"}),y.jsx("span",{className:"text-sm tracking-widest",children:"WEIGHT HISTORY"})]}),y.jsx(rIe,{data:t}),y.jsx("button",{onClick:e,className:"absolute top-3 right-3 p-1 opacity-20 group-hover:opacity-100 transition-opacity",children:y.jsx(Vr,{className:"w-4 h-4 text-slate-400"})})]})}function rIe({data:t}){if(!t||t.length<2)return y.jsx("div",{className:"text-center text-sm text-slate-500 py-10",children:"Not enough data to draw a chart."});const e=300,n=150,r={top:10,right:10,bottom:20,left:30},i=[...t].sort((D,L)=>D.year-L.year||D.month-L.month),s=i.map(D=>D.weight),a=Math.min(...s),l=Math.max(...s),u=Math.floor(a/5)*5,f=Math.ceil(l/5)*5,d=f-u,p=Array.from({length:4},(D,L)=>Math.round(u+L*d/3)),g=[...new Set(i.map(D=>D.year))].sort(),v=g[0],x=g[g.length-1],S=(x-v+1)*12,T=i.map(D=>{const R=((D.year-v)*12+(D.month-1))/(S-1)*(e-r.left-r.right)+r.left,B=n-r.bottom-(D.weight-u)/(f-u||1)*(n-r.top-r.bottom);return`${R},${B}`}).join(" "),_=`M${r.left},${n-r.bottom} L${T} L${e-r.right},${n-r.bottom} Z`,C=g.filter((D,L)=>L%2===0);return y.jsxs("svg",{viewBox:`0 0 ${e} ${n}`,className:"w-full h-auto",children:[y.jsxs("defs",{children:[y.jsxs("linearGradient",{id:"lineGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[y.jsx("stop",{offset:"0%",stopColor:"#818cf8"}),y.jsx("stop",{offset:"100%",stopColor:"#22d3ee"})]}),y.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[y.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),y.jsxs("feMerge",{children:[y.jsx("feMergeNode",{in:"coloredBlur"}),y.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),y.jsxs("linearGradient",{id:"areaGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"0%",stopColor:"#22d3ee",stopOpacity:"0.3"}),y.jsx("stop",{offset:"100%",stopColor:"#818cf8",stopOpacity:"0"})]})]}),p.map(D=>{const L=n-r.bottom-(D-u)/(f-u||1)*(n-r.top-r.bottom);return y.jsxs("g",{children:[y.jsx("line",{x1:r.left-4,y1:L,x2:e-r.right,y2:L,stroke:"currentColor",className:"text-slate-700 dark:text-slate-700/50",strokeWidth:"0.5",strokeDasharray:"2"}),y.jsxs("text",{x:r.left-8,y:L+3,className:"text-[7px] fill-current text-slate-500 dark:text-slate-400",textAnchor:"end",children:[D,"kg"]})]},D)}),y.jsx("path",{d:_,fill:"url(#areaGradient)"}),y.jsx("polyline",{fill:"none",stroke:"url(#lineGradient)",strokeWidth:"2",points:T,filter:"url(#glow)"}),C.map(D=>{const R=(D-v)/(x-v||1)*(e-r.left-r.right)+r.left;return y.jsx("text",{x:R,y:n-5,className:"text-[7px] fill-current text-slate-500 dark:text-slate-400",textAnchor:"middle",children:D},D)})]})}function iIe({isOpen:t,onClose:e,weightHistory:n,onSave:r}){const[i,s]=A.useState(new Date().getFullYear()),[a,l]=A.useState(Array(12).fill(0)),[u,f]=A.useState(""),d=A.useMemo(()=>n.some(T=>T.year===i),[i,n]);A.useEffect(()=>{if(t){const T=Array(12).fill(0);d&&n.filter(C=>C.year===i).forEach(C=>{T[C.month-1]=C.weight||0}),l(T)}},[i,t,d,n]);const p=(T,_)=>{const C=[...a];C[T]=parseFloat(_)||0,l(C)},g=()=>{const T=n.filter(C=>C.year!==i),_=a.map((C,D)=>({year:i,month:D+1,weight:C})).filter(C=>C.weight>0);r([...T,..._]),e()},v=T=>{s(_=>_+T)},x=()=>{const T=parseFloat(u);!isNaN(T)&&T>=0&&(l(Array(12).fill(T)),f(""))},S={bg:"bg-slate-50/80 dark:bg-slate-800/80 backdrop-blur-xl",title:"text-slate-600 dark:text-slate-300",container:"bg-black/5 dark:bg-white/5 rounded-lg",input:"bg-white/50 dark:bg-slate-700/50"};return y.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:y.jsxs(Ae.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:30},className:`rounded-2xl shadow-xl w-full max-w-lg border border-black/5 dark:border-white/10 ${S.bg}`,onClick:T=>T.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:`text-xl font-bold mb-4 ${S.title}`,children:"Edit Weight History"}),y.jsxs("div",{className:`flex items-center justify-center gap-4 mb-4 p-2 ${S.container}`,children:[y.jsx("button",{onClick:()=>v(-1),className:"p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10",children:y.jsx(Uc,{className:"w-5 h-5 text-neutral-600 dark:text-slate-300"})}),y.jsx("input",{type:"number",value:i,onChange:T=>s(parseInt(T.target.value)||new Date().getFullYear()),className:"p-1 w-24 bg-transparent text-center text-lg font-bold text-neutral-800 dark:text-slate-100 focus:outline-none"}),y.jsx("button",{onClick:()=>v(1),className:"p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10",children:y.jsx(Uc,{className:"w-5 h-5 text-neutral-600 dark:text-slate-300 rotate-180"})})]}),y.jsxs("div",{className:`flex items-center gap-2 mb-6 p-2 ${S.container}`,children:[y.jsx("input",{type:"number",placeholder:"Set all to...",value:u,onChange:T=>f(T.target.value),className:`w-full p-1 text-center text-sm text-neutral-800 dark:text-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-cyan-400 ${S.input}`}),y.jsx("button",{onClick:x,className:"px-3 py-1 text-sm font-semibold text-white bg-cyan-500 hover:bg-cyan-600 rounded-md",children:"Apply"})]}),y.jsx("div",{className:"grid grid-cols-4 gap-4 text-sm",children:a.map((T,_)=>y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-xs text-center text-neutral-500 dark:text-slate-400 mb-1",children:new Date(0,_).toLocaleString("default",{month:"short"})}),y.jsx("input",{type:"number",value:T,onChange:C=>p(_,C.target.value),className:`p-1 text-center text-neutral-800 dark:text-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-cyan-400 ${S.input}`})]},_))})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:g,className:"px-4 py-2 rounded-lg bg-cyan-500 hover:bg-cyan-600 text-white font-semibold",children:d?"Update Values":"Add Year"})]})]})})}function sIe({books:t,onAdd:e,onUpdate:n,onDelete:r,onEdit:i,theme:s}){const[a,l]=A.useState(!1),u=t.filter(_=>_.status==="reading"&&!_.hallOfFame),f=t.filter(_=>_.status==="planned"&&!_.hallOfFame),d=t.filter(_=>_.hallOfFame),p=A.useMemo(()=>t.filter(_=>_.status==="finished"),[t]),g=A.useMemo(()=>p.reduce((_,C)=>_+(Number(C.pageCount)||0),0),[p]),v=p.length,x=p.filter(_=>!_.hallOfFame),S={sky:{textColor:"text-sky-500",buttonBg:"bg-sky-500 hover:bg-sky-600"},orange:{textColor:"text-orange-500",buttonBg:"bg-amber-500 hover:bg-amber-600"}},T=S[s]||S.orange;return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("div",{className:"flex items-center gap-8 md:gap-12",children:[y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:`font-bold text-3xl ${T.textColor}`,children:g.toLocaleString()}),y.jsx("p",{className:"text-sm font-semibold text-neutral-500",children:"Total Pages Read"})]}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:`font-bold text-3xl ${T.textColor}`,children:v}),y.jsx("p",{className:"text-sm font-semibold text-neutral-500",children:"Books Read"})]})]}),y.jsxs("button",{onClick:()=>l(!0),className:`px-4 py-2 text-white font-semibold rounded-lg flex items-center gap-2 transition-colors ${T.buttonBg}`,children:[y.jsx(as,{className:"w-5 h-5"})," Add New Book"]})]}),y.jsxs("div",{className:"space-y-8",children:[y.jsx(mc,{title:"Currently Reading",titleColor:"text-blue-500",books:u,onUpdate:n,onDelete:r,onEdit:i,isGridView:!0,theme:s}),y.jsx(mc,{title:"Planned",titleColor:"text-neutral-500",books:f,onUpdate:n,onDelete:r,onEdit:i,isGridView:!0,theme:s}),d.length>0&&y.jsx(mc,{title:"Hall of Fame",books:d,onUpdate:n,onDelete:r,onEdit:i,isGridView:!0,isHOF:!0,theme:s}),y.jsx(mc,{title:"Finished Books",titleColor:"text-emerald-500",books:x,onUpdate:n,onDelete:r,isGridView:!0,onEdit:i,theme:s})]}),y.jsx(Ht,{children:a&&y.jsx(EDe,{isOpen:a,onClose:()=>l(!1),onSave:e,theme:s})})]})}function aIe({theses:t,onAdd:e,onUpdate:n,onDelete:r,onEdit:i,theme:s}){const[a,l]=A.useState(!1),u=t.filter(_=>_.status==="reading"&&!_.hallOfFame),f=A.useMemo(()=>t.filter(_=>_.status==="finished"),[t]),d=t.filter(_=>_.status==="planned"&&!_.hallOfFame),p=t.filter(_=>_.hallOfFame),g=A.useMemo(()=>f.reduce((_,C)=>_+(Number(C.pageCount)||0),0),[f]),v=f.length,x=f.filter(_=>!_.hallOfFame),T={teal:{textColor:"text-teal-500",buttonBg:"bg-teal-500 hover:bg-teal-600"}}[s];return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("div",{className:"flex items-center gap-8 md:gap-12",children:[y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:`font-bold text-3xl ${T.textColor}`,children:g.toLocaleString()}),y.jsx("p",{className:"text-sm font-semibold text-neutral-500",children:"Total Pages Read"})]}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:`font-bold text-3xl ${T.textColor}`,children:v}),y.jsx("p",{className:"text-sm font-semibold text-neutral-500",children:"Theses Read"})]})]}),y.jsxs("button",{onClick:()=>l(!0),className:`px-4 py-2 text-white font-semibold rounded-lg flex items-center gap-2 transition-colors ${T.buttonBg}`,children:[y.jsx(as,{className:"w-5 h-5"})," Add New Thesis"]})]}),y.jsxs("div",{className:"space-y-8",children:[y.jsx(mc,{title:"Currently Reading",titleColor:"text-blue-500",books:u,onUpdate:n,onDelete:r,onEdit:i,isGridView:!0,theme:s}),y.jsx(mc,{title:"Planned",titleColor:"text-neutral-500",books:d,onUpdate:n,onDelete:r,onEdit:i,isGridView:!0,theme:s}),p.length>0&&y.jsx(mc,{title:"Hall of Fame",books:p,onUpdate:n,onDelete:r,onEdit:i,isGridView:!0,isHOF:!0,theme:s}),y.jsx(mc,{title:"Finished Theses",titleColor:"text-emerald-500",books:x,onUpdate:n,onDelete:r,isGridView:!0,onEdit:i})]}),y.jsx(Ht,{children:a&&y.jsx(_De,{isOpen:a,onClose:()=>l(!1),onSave:e,theme:s})})]})}const mc=({title:t,books:e,onUpdate:n,onDelete:r,onEdit:i,isGridView:s=!1,isHOF:a=!1,titleColor:l="text-neutral-800 dark:text-neutral-200",theme:u})=>{const f={sky:"text-sky-500",teal:"text-teal-500"}[u];return y.jsxs("div",{className:"mb-6",children:[t&&y.jsxs("h3",{className:`font-bold text-xl mb-4 flex items-center gap-2 ${a?f:l}`,children:[a&&y.jsx(Gs,{className:"w-5 h-5"}),t]}),y.jsxs("div",{className:s?"grid grid-cols-[repeat(auto-fill,minmax(18rem,1fr))] gap-4":"space-y-4",children:[e.map(d=>y.jsx(oIe,{book:d,onUpdate:n,onDelete:r,onEdit:i,theme:u},d.id)),e.length===0&&y.jsx("p",{className:"text-sm text-neutral-500",children:"No books in this section."})]})]})};function oIe({book:t,onUpdate:e,onDelete:n,onEdit:r,theme:i="sky"}){const a={sky:{mainBg:"bg-sky-50 dark:bg-sky-950/40",tag:"bg-sky-100 dark:bg-sky-900 text-sky-800 dark:text-sky-200",progressAccent:()=>"#38bdf8",hofGlow:"hof-glow-sky",hofBg:"p-4 rounded-lg flex gap-4 items-center hof-bg-sky hall-of-fame-content",hofTitle:"text-sky-600 dark:text-sky-300",hofAuthor:"text-sky-700/80 dark:text-neutral-300/80",hofTag:"bg-sky-500/10 text-sky-700 dark:bg-sky-200/20 dark:text-sky-200",starColor:"text-sky-400"},teal:{mainBg:"bg-teal-50 dark:bg-teal-950/40",tag:"bg-teal-100 dark:bg-teal-900 text-teal-800 dark:text-teal-200",progressAccent:()=>"#14b8a6",hofGlow:"hof-glow-teal",hofBg:"p-4 rounded-lg flex gap-4 items-center hof-bg-teal text-stone-700 dark:text-neutral-300 hall-of-fame-content",hofTitle:"text-teal-400",hofAuthor:"text-teal-100/80",hofTag:"bg-teal-500/20 text-teal-200",starColor:"text-teal-400"}}[i],[l,u]=A.useState(!1),f=t.hallOfFame?"transparent":a.progressAccent(t.progress||0),d=vY(t.title,24),p=x=>{const S={progress:x};x===100?(S.status="finished",S.completedAt=new Date):S.status="reading",e(t.id,S)},g=A.useMemo(()=>{if(t.status==="finished"&&(t.startedAt||t.createdAt)&&t.completedAt){const x=(t.startedAt||t.createdAt).toDate?(t.startedAt||t.createdAt).toDate():new Date(t.startedAt||t.createdAt),S=t.completedAt.toDate?t.completedAt.toDate():new Date(t.completedAt),T=Math.abs(S-x);return Math.ceil(T/(1e3*60*60*24))}return null},[t]),v=y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`w-20 h-30 object-cover rounded-md shrink-0 flex items-center justify-center p-1 text-center ${t.hallOfFame?"bg-black/5 dark:bg-black/20":"bg-neutral-200 dark:bg-neutral-700"}`,children:y.jsx("span",{className:"text-xs font-semibold",style:{wordBreak:"break-word"},children:d})}),y.jsxs("div",{className:"relative flex-grow flex flex-col justify-between min-w-0",children:[y.jsxs("div",{children:[y.jsx("p",{className:`font-bold text-lg ${t.hallOfFame?a.hofTitle:""} break-words`,title:t.title,children:d}),y.jsx("p",{className:`text-sm ${t.hallOfFame?a.hofAuthor:"opacity-80"}`,children:t.author}),y.jsxs("p",{className:`text-xs ${t.hallOfFame?"text-neutral-400":"opacity-60"}`,children:[t.pageCount," pages"]}),y.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(t.tags||[]).map(x=>y.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${t.hallOfFame?a.hofTag:a.tag}`,children:x},x))})]}),y.jsxs("div",{children:[t.status==="reading"&&y.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[y.jsx("input",{type:"range",min:"0",max:"100",value:t.progress,onChange:x=>p(parseInt(x.target.value)),className:"w-full h-2 bg-neutral-200 dark:bg-neutral-700 rounded-lg appearance-none cursor-pointer",style:{accentColor:f}}),y.jsxs("span",{className:"text-sm font-semibold w-8",children:[t.progress,"%"]}),y.jsx("button",{onClick:()=>e(t.id,{status:"finished",progress:100,completedAt:new Date}),className:"p-1 rounded-full hover:bg-green-100 dark:hover:bg-green-800",title:"Mark as Read",children:y.jsx(Nf,{className:"w-5 h-5 text-green-500"})})]}),t.status==="finished"&&y.jsxs("div",{className:"mt-2 flex flex-col items-start gap-2",children:[g&&y.jsxs("p",{className:`text-xs font-semibold ${t.hallOfFame?"text-green-400":"text-green-500"}`,children:["Read in ",g," days"]}),!t.hallOfFame&&y.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(x=>y.jsx("button",{onClick:()=>e(t.id,{rating:x}),children:y.jsx(kh,{className:`w-5 h-5 ${t.rating>=x?`${a.starColor} fill-current`:"text-neutral-300 dark:text-neutral-600"}`})},x))})]}),t.status==="planned"&&y.jsx("button",{onClick:()=>e(t.id,{status:"reading",startedAt:new Date}),className:"mt-2 text-sm font-semibold text-blue-500",children:"Start Reading"})]}),y.jsx(Ht,{children:l&&y.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute top-2 right-2 z-20",children:y.jsx(uIe,{onEdit:()=>r(t),onDelete:()=>n(t.id),item:t})})})]})]});return t.hallOfFame?y.jsx("div",{className:`${a.hofGlow} rounded-lg`,children:y.jsx("div",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:a.hofBg,children:v})}):y.jsx("div",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:`p-4 rounded-lg flex gap-4 border-l-4 ${a.mainBg}`,style:{borderColor:f},children:v})}function sz({items:t,onAdd:e,onUpdate:n,onDelete:r,config:i,onEdit:s,theme:a}){const[l,u]=A.useState(!1),f=t.filter(C=>C.status==="planned"&&!C.hallOfFame),d=t.filter(C=>C.hallOfFame),p=A.useMemo(()=>t.filter(C=>C.status==="watched"||C.status==="listened"),[t]),g=A.useMemo(()=>{if(!i.hasLength)return 0;const C=p.reduce((D,L)=>D+(Number(L.length)||0),0);return Math.round(C/60)},[p,i.hasLength]),v=i.type==="Movie"?p.length:0,x=i.type==="Album/Song"?p.length:0,S=p.filter(C=>!C.hallOfFame),_={Movie:{btn:"bg-slate-500 hover:bg-slate-600",text:"text-slate-500"},"Album/Song":{btn:"bg-violet-500 hover:bg-violet-600",text:"text-violet-500"}}[i.type];return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("div",{className:"flex items-center gap-8 md:gap-12",children:i.hasLength?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:`font-bold text-3xl ${_.text}`,children:g}),y.jsx("p",{className:"text-sm font-semibold text-neutral-500",children:"Total Hours Watched"})]}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:`font-bold text-3xl ${_.text}`,children:v}),y.jsx("p",{className:"text-sm font-semibold text-neutral-500",children:"Movies Watched"})]})]}):y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:`font-bold text-3xl ${_.text}`,children:x}),y.jsx("p",{className:"text-sm font-semibold text-neutral-500",children:"Total Listened"})]})}),y.jsxs("button",{onClick:()=>u(!0),className:`px-4 py-2 text-white font-semibold rounded-lg flex items-center gap-2 transition-colors ${_.btn}`,children:[y.jsx(as,{className:"w-5 h-5"})," Add New ",i.type]})]}),!i.hidePlanned&&y.jsx("div",{className:"mb-12",children:y.jsx(xA,{title:"Planned",items:f,onUpdate:n,onDelete:r,config:i,onEdit:s,isGridView:!0,titleColor:"text-neutral-500",theme:a})}),d.length>0&&y.jsx(xA,{title:"Hall of Fame",items:d,onUpdate:n,onDelete:r,config:i,isGridView:!0,isHOF:!0,onEdit:s,theme:a}),y.jsx("div",{className:"mt-8",children:y.jsx(xA,{items:S,onUpdate:n,onDelete:r,config:i,isGridView:!0,onEdit:s,title:i.type==="Movie"?"Watched":"Listened",titleColor:"text-emerald-500",theme:a})}),y.jsx(Ht,{children:l&&y.jsx(ADe,{isOpen:l,onClose:()=>u(!1),onSave:e,config:i,theme:a})})]})}const xA=({title:t,items:e,onUpdate:n,onDelete:r,config:i,onEdit:s,isGridView:a=!1,isHOF:l=!1,titleColor:u="text-neutral-800 dark:text-neutral-200",theme:f})=>{const d={slate:"text-slate-500",violet:"text-violet-500"}[f]||"text-amber-500";return y.jsxs("div",{className:`mb-6 ${l?"mb-12":""}`,children:[t&&y.jsxs("h3",{className:`font-bold text-xl mb-4 flex items-center gap-2 ${l?d:u}`,children:[l&&y.jsx(Gs,{className:"w-5 h-5"}),t]}),y.jsxs("div",{className:a?i.type==="Album/Song"?"grid grid-cols-[repeat(auto-fill,minmax(9rem,2fr))] gap-4":"grid grid-cols-[repeat(auto-fill,minmax(22rem,1fr))] gap-4":"space-y-4",children:[e.map(p=>y.jsx(lIe,{item:p,onUpdate:n,onDelete:r,config:i,onEdit:s,theme:f},p.id)),e.length===0&&y.jsx("p",{className:"text-sm text-neutral-500",children:"No items in this section."})]})]})};function lIe({item:t,onUpdate:e,onDelete:n,config:r,onEdit:i,theme:s="slate"}){const a=t[r.primaryField.toLowerCase()],[l,u]=A.useState(!1),f=r.type==="Album/Song",p={slate:{mainBg:"bg-slate-50 dark:bg-slate-800/30",tag:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300",hofGlow:"hof-glow-slate",hofBg:"p-4 rounded-lg flex gap-4 items-center hof-bg-slate hall-of-fame-content",hofTitle:"text-slate-600 dark:text-slate-300",hofSubtle:"text-slate-500 dark:text-slate-400",hofTag:"bg-slate-500/20 text-slate-300",mainIcon:"text-slate-300 dark:text-slate-600",hofMainIcon:"text-slate-400/70 dark:text-slate-500/50",starColor:"text-slate-400"},violet:{mainBg:"bg-violet-50 dark:bg-violet-950/40",iconBg:"bg-violet-100 dark:bg-violet-900/40",hofGlow:"hof-glow-violet",hofBg:"hall-of-fame-content rounded-lg flex flex-col items-start h-50 relative hof-bg-violet overflow-hidden",hofTitle:"text-violet-300",mainIcon:"text-violet-300 dark:text-violet-600",hofMainIcon:"text-violet-400/70",starColor:"text-violet-400"}}[s],g=vY(t.title,24);if(f){const x=y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`h-1/2 w-full flex items-center justify-center rounded-t-lg ${t.hallOfFame?"bg-black/5":p.iconBg}`,children:Di.cloneElement(r.mediaIcon,{className:`w-2/5 h-2/5 ${t.hallOfFame?p.hofMainIcon:p.mainIcon}`})}),y.jsxs("div",{className:"h-1/2 w-full flex flex-col justify-between p-3",children:[y.jsxs("div",{children:[y.jsx("p",{className:`font-bold truncate ${t.hallOfFame?p.hofTitle:""}`,children:t.title}),y.jsx("p",{className:`text-sm opacity-70 truncate ${t.hallOfFame?"text-neutral-300":""}`,children:a})]}),y.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(S=>y.jsx("button",{onClick:()=>e(t.id,{rating:S}),children:y.jsx(kh,{className:`w-5 h-5 transition-colors ${t.rating>=S?`${p.starColor} fill-current`:"text-neutral-300 dark:text-neutral-600"}`})},S))})]})]});return t.hallOfFame?y.jsx("div",{className:`${p.hofGlow} rounded-lg max-w-xs`,children:y.jsxs("div",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:p.hofBg,children:[x,y.jsx(Ht,{children:l&&y.jsxs(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute top-2 right-2 flex items-center gap-1 z-20",children:[y.jsx("button",{onClick:()=>i(t),className:"p-1.5 rounded-full bg-black/20 hover:bg-green-500/50 backdrop-blur-sm transition-colors",children:y.jsx(Vr,{className:"w-4 h-4 text-white"})}),y.jsx("button",{onClick:()=>n(t.id),className:"p-1.5 rounded-full bg-black/20 hover:bg-red-500/50 backdrop-blur-sm transition-colors",children:y.jsx(ui,{className:"w-4 h-4 text-white"})})]})})]})}):y.jsxs("div",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:`rounded-lg flex flex-col items-start h-50 shadow-sm relative overflow-hidden ${p.mainBg}`,children:[x,y.jsx(Ht,{children:l&&y.jsxs(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute top-2 right-2 flex items-center gap-1 z-20",children:[y.jsx("button",{onClick:()=>i(t),className:"p-1.5 rounded-full bg-black/20 hover:bg-green-500/50 backdrop-blur-sm transition-colors",children:y.jsx(Vr,{className:"w-4 h-4 text-white"})}),y.jsx("button",{onClick:()=>n(t.id),className:"p-1.5 rounded-full bg-black/20 hover:bg-red-500/50 backdrop-blur-sm transition-colors",children:y.jsx(ui,{className:"w-4 h-4 text-white"})})]})})]})}const v=y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`shrink-0 ${t.hallOfFame?p.hofMainIcon:p.mainIcon}`,children:Di.cloneElement(r.mediaIcon,{className:"w-16 h-16"})}),y.jsxs("div",{className:"flex-grow relative min-w-0",children:[y.jsx("div",{className:"flex justify-between items-start",children:y.jsxs("div",{children:[y.jsx("p",{className:`font-bold text-lg ${t.hallOfFame?p.hofTitle:""}`,title:t.title,children:g}),y.jsx("p",{className:`text-sm ${t.hallOfFame?p.hofSubtle:"text-neutral-500"}`,children:a}),t.length&&y.jsxs("p",{className:`text-xs ${t.hallOfFame?p.hofSubtle:"text-neutral-400"}`,children:[t.length," min"]}),t.watchedDate&&y.jsxs("p",{className:`text-xs ${t.hallOfFame?p.hofSubtle:"text-neutral-400"}`,children:["Watched on ",t.watchedDate]}),y.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(t.tags||[]).map(x=>y.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${t.hallOfFame?p.hofTag:p.tag}`,children:x},x))})]})}),y.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.hallOfFame?y.jsx("div",{}):y.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(x=>y.jsx("button",{onClick:()=>e(t.id,{rating:x,status:r.type==="Movie"?"watched":"listened"}),children:y.jsx(kh,{className:`w-5 h-5 ${t.rating>=x?`${p.starColor} fill-current`:"text-neutral-300 dark:text-neutral-600"}`})},x))}),t.status==="planned"&&y.jsx("button",{onClick:()=>e(t.id,{status:"watched",watchedDate:new Date().toISOString().split("T")[0]}),className:"text-sm font-semibold text-blue-500",children:"Watched"})]}),y.jsx(Ht,{children:l&&y.jsxs(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute top-1.5 right-1.5 flex items-center gap-1 z-20",children:[y.jsx("button",{onClick:()=>i(t),className:"p-1.5 rounded-full bg-black/20 hover:bg-green-500/50 backdrop-blur-sm transition-colors",children:y.jsx(Vr,{className:"w-4 h-4 text-white"})}),y.jsx("button",{onClick:()=>n(t.id),className:"p-1.5 rounded-full bg-black/20 hover:bg-red-500/50 backdrop-blur-sm transition-colors",children:y.jsx(ui,{className:"w-4 h-4 text-white"})})]})})]})]});return t.hallOfFame?y.jsx("div",{className:`${p.hofGlow} rounded-lg w-full`,children:y.jsx("div",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:p.hofBg,children:v})}):y.jsx("div",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:`p-4 rounded-lg flex gap-4 ${p.mainBg}`,children:v})}function cIe({isOpen:t,onClose:e,item:n,type:r,onSave:i}){const[s,a]=A.useState({});A.useEffect(()=>{n&&a({...n,tags:Array.isArray(n.tags)?n.tags.join(", "):""})},[n]);const l=S=>{const{name:T,value:_,type:C,checked:D}=S.target;a(L=>({...L,[T]:C==="checkbox"?D:_}))},u=()=>{const S={...s,tags:s.tags.split(",").map(T=>T.trim()).filter(Boolean),pageCount:s.pageCount?parseInt(s.pageCount):0,length:s.length?parseInt(s.length):0};i(n.id,S),e()};if(!t)return null;const f={book:{title:"Book",primaryField:"author",hasPageCount:!0},thesis:{title:"Thesis",primaryField:"author",hasPageCount:!0},movie:{title:"Movie",primaryField:"director",hasLength:!0,hasWatchedDate:!0},music:{title:"Music",primaryField:"artist"}}[r],p={book:"sky",thesis:"teal",movie:"slate",music:"violet"}[r]||"slate",v={sky:{bg:"bg-sky-50/80 dark:bg-sky-950/60 backdrop-blur-xl",footerBg:"bg-black/5 dark:bg-black/10",input:"bg-black/5 dark:bg-white/5",button:"bg-sky-500",focusRing:"focus:ring-sky-400"},teal:{bg:"bg-teal-50/80 dark:bg-teal-950/60 backdrop-blur-xl",footerBg:"bg-black/5 dark:bg-black/10",input:"bg-black/5 dark:bg-white/5",button:"bg-teal-500",focusRing:"focus:ring-teal-400"},slate:{bg:"bg-slate-50/80 dark:bg-slate-800/80 backdrop-blur-xl",footerBg:"bg-black/5 dark:bg-black/10",input:"bg-black/5 dark:bg-white/5",button:"bg-slate-500",focusRing:"focus:ring-slate-400"},violet:{bg:"bg-violet-50/80 dark:bg-violet-950/60 backdrop-blur-xl",footerBg:"bg-black/5 dark:bg-black/10",input:"bg-black/5 dark:bg-white/5",button:"bg-violet-500",focusRing:"focus:ring-violet-400"}}[p],x=`w-full p-2 ${v.input} rounded-md backdrop-blur-sm focus:ring-2 ${v.focusRing} focus:outline-none`;return y.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:y.jsxs(Ae.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:30},className:`rounded-2xl shadow-xl w-full max-w-md ${v.bg}`,onClick:S=>S.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Edit ",f.title]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("input",{type:"text",name:"title",value:s.title||"",onChange:l,placeholder:"Title",className:x}),y.jsx("input",{type:"text",name:f.primaryField,value:s[f.primaryField]||"",onChange:l,placeholder:f.primaryField.charAt(0).toUpperCase()+f.primaryField.slice(1),className:x}),f.hasPageCount&&y.jsx("input",{type:"number",name:"pageCount",value:s.pageCount||"",onChange:l,placeholder:"Page Count",className:x}),f.hasLength&&y.jsx("input",{type:"number",name:"length",value:s.length||"",onChange:l,placeholder:"Length (minutes)",className:x}),f.hasWatchedDate&&s.status==="watched"&&y.jsx("input",{type:"date",name:"watchedDate",value:s.watchedDate||"",onChange:l,className:x}),(r==="book"||r==="thesis")&&y.jsx("input",{type:"url",name:"link",value:s.link||"",onChange:l,placeholder:"Link to Thesis (URL)",className:x}),y.jsx("input",{type:"text",name:"tags",value:s.tags||"",onChange:l,placeholder:"Tags (comma-separated)",className:x}),y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[y.jsx("input",{type:"checkbox",name:"hallOfFame",checked:s.hallOfFame||!1,onChange:l}),y.jsx(Gs,{className:"w-5 h-5 text-amber-500"}),y.jsx("span",{children:"Hall of Fame"})]})]})]}),y.jsxs("div",{className:`px-6 py-4 ${v.footerBg} backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl`,children:[y.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:u,className:`px-4 py-2 rounded-lg text-white font-semibold ${v.button}`,children:"Save"})]})]})})}function uIe({onEdit:t,onDelete:e,item:n}){const[r,i]=A.useState(!1),s=A.useRef(null);A.useEffect(()=>{const l=u=>{s.current&&!s.current.contains(u.target)&&i(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const a=n&&n.link&&n.link.trim()!=="";return y.jsxs("div",{className:"relative",ref:s,children:[y.jsx("button",{onClick:()=>i(!r),className:"p-1.5 rounded-full bg-black/20 hover:bg-black/40 backdrop-blur-sm transition-colors",children:y.jsx(fY,{className:"w-4 h-4 text-white"})}),y.jsx(Ht,{children:r&&y.jsxs(Ae.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 mt-2 w-40 bg-white dark:bg-neutral-800 rounded-lg shadow-lg border border-neutral-200 dark:border-neutral-700 z-20",children:[y.jsxs("button",{onClick:()=>{t(),i(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm hover:bg-neutral-100 dark:hover:bg-neutral-700",children:[y.jsx(Vr,{className:"w-4 h-4"})," Edit"]}),a&&y.jsxs("a",{href:aDe(n.link),target:"_blank",rel:"noopener noreferrer",className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-teal-500 hover:bg-teal-500 hover:text-white",children:[y.jsx(UMe,{className:"w-4 h-4"})," Go to Link"]}),y.jsxs("button",{onClick:()=>{e(),i(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-red-500 hover:bg-red-500 hover:text-white",children:[y.jsx(ui,{className:"w-4 h-4"})," Delete"]})]})})]})}cQ.createRoot(document.getElementById("root")).render(y.jsx(LDe,{}));
