(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function hC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ap={exports:{}},_u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT;function fC(){if(DT)return _u;DT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return _u.Fragment=t,_u.jsx=n,_u.jsxs=n,_u}var MT;function dC(){return MT||(MT=1,ap.exports=fC()),ap.exports}var y=dC(),op={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VT;function mC(){if(VT)return Nt;VT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function x(k){return k===null||typeof k!="object"?null:(k=T&&k[T]||k["@@iterator"],typeof k=="function"?k:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,L={};function q(k,rt,ht){this.props=k,this.context=rt,this.refs=L,this.updater=ht||C}q.prototype.isReactComponent={},q.prototype.setState=function(k,rt){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,rt,"setState")},q.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Z(){}Z.prototype=q.prototype;function J(k,rt,ht){this.props=k,this.context=rt,this.refs=L,this.updater=ht||C}var B=J.prototype=new Z;B.constructor=J,R(B,q.prototype),B.isPureReactComponent=!0;var lt=Array.isArray,at={H:null,A:null,T:null,S:null,V:null},nt=Object.prototype.hasOwnProperty;function N(k,rt,ht,ut,gt,Dt){return ht=Dt.ref,{$$typeof:e,type:k,key:rt,ref:ht!==void 0?ht:null,props:Dt}}function S(k,rt){return N(k.type,rt,void 0,void 0,void 0,k.props)}function I(k){return typeof k=="object"&&k!==null&&k.$$typeof===e}function V(k){var rt={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ht){return rt[ht]})}var j=/\/+/g;function P(k,rt){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):rt.toString(36)}function M(){}function ue(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(M,M):(k.status="pending",k.then(function(rt){k.status==="pending"&&(k.status="fulfilled",k.value=rt)},function(rt){k.status==="pending"&&(k.status="rejected",k.reason=rt)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Wt(k,rt,ht,ut,gt){var Dt=typeof k;(Dt==="undefined"||Dt==="boolean")&&(k=null);var xt=!1;if(k===null)xt=!0;else switch(Dt){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(k.$$typeof){case e:case t:xt=!0;break;case v:return xt=k._init,Wt(xt(k._payload),rt,ht,ut,gt)}}if(xt)return gt=gt(k),xt=ut===""?"."+P(k,0):ut,lt(gt)?(ht="",xt!=null&&(ht=xt.replace(j,"$&/")+"/"),Wt(gt,rt,ht,"",function(Re){return Re})):gt!=null&&(I(gt)&&(gt=S(gt,ht+(gt.key==null||k&&k.key===gt.key?"":(""+gt.key).replace(j,"$&/")+"/")+xt)),rt.push(gt)),1;xt=0;var Zt=ut===""?".":ut+":";if(lt(k))for(var kt=0;kt<k.length;kt++)ut=k[kt],Dt=Zt+P(ut,kt),xt+=Wt(ut,rt,ht,Dt,gt);else if(kt=x(k),typeof kt=="function")for(k=kt.call(k),kt=0;!(ut=k.next()).done;)ut=ut.value,Dt=Zt+P(ut,kt++),xt+=Wt(ut,rt,ht,Dt,gt);else if(Dt==="object"){if(typeof k.then=="function")return Wt(ue(k),rt,ht,ut,gt);throw rt=String(k),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return xt}function $(k,rt,ht){if(k==null)return k;var ut=[],gt=0;return Wt(k,ut,"","",function(Dt){return rt.call(ht,Dt,gt++)}),ut}function ot(k){if(k._status===-1){var rt=k._result;rt=rt(),rt.then(function(ht){(k._status===0||k._status===-1)&&(k._status=1,k._result=ht)},function(ht){(k._status===0||k._status===-1)&&(k._status=2,k._result=ht)}),k._status===-1&&(k._status=0,k._result=rt)}if(k._status===1)return k._result.default;throw k._result}var ft=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function _t(){}return Nt.Children={map:$,forEach:function(k,rt,ht){$(k,function(){rt.apply(this,arguments)},ht)},count:function(k){var rt=0;return $(k,function(){rt++}),rt},toArray:function(k){return $(k,function(rt){return rt})||[]},only:function(k){if(!I(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Nt.Component=q,Nt.Fragment=n,Nt.Profiler=a,Nt.PureComponent=J,Nt.StrictMode=s,Nt.Suspense=m,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(k){return at.H.useMemoCache(k)}},Nt.cache=function(k){return function(){return k.apply(null,arguments)}},Nt.cloneElement=function(k,rt,ht){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ut=R({},k.props),gt=k.key,Dt=void 0;if(rt!=null)for(xt in rt.ref!==void 0&&(Dt=void 0),rt.key!==void 0&&(gt=""+rt.key),rt)!nt.call(rt,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&rt.ref===void 0||(ut[xt]=rt[xt]);var xt=arguments.length-2;if(xt===1)ut.children=ht;else if(1<xt){for(var Zt=Array(xt),kt=0;kt<xt;kt++)Zt[kt]=arguments[kt+2];ut.children=Zt}return N(k.type,gt,void 0,void 0,Dt,ut)},Nt.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},Nt.createElement=function(k,rt,ht){var ut,gt={},Dt=null;if(rt!=null)for(ut in rt.key!==void 0&&(Dt=""+rt.key),rt)nt.call(rt,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(gt[ut]=rt[ut]);var xt=arguments.length-2;if(xt===1)gt.children=ht;else if(1<xt){for(var Zt=Array(xt),kt=0;kt<xt;kt++)Zt[kt]=arguments[kt+2];gt.children=Zt}if(k&&k.defaultProps)for(ut in xt=k.defaultProps,xt)gt[ut]===void 0&&(gt[ut]=xt[ut]);return N(k,Dt,void 0,void 0,null,gt)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(k){return{$$typeof:d,render:k}},Nt.isValidElement=I,Nt.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:ot}},Nt.memo=function(k,rt){return{$$typeof:g,type:k,compare:rt===void 0?null:rt}},Nt.startTransition=function(k){var rt=at.T,ht={};at.T=ht;try{var ut=k(),gt=at.S;gt!==null&&gt(ht,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(_t,ft)}catch(Dt){ft(Dt)}finally{at.T=rt}},Nt.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},Nt.use=function(k){return at.H.use(k)},Nt.useActionState=function(k,rt,ht){return at.H.useActionState(k,rt,ht)},Nt.useCallback=function(k,rt){return at.H.useCallback(k,rt)},Nt.useContext=function(k){return at.H.useContext(k)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(k,rt){return at.H.useDeferredValue(k,rt)},Nt.useEffect=function(k,rt,ht){var ut=at.H;if(typeof ht=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ut.useEffect(k,rt)},Nt.useId=function(){return at.H.useId()},Nt.useImperativeHandle=function(k,rt,ht){return at.H.useImperativeHandle(k,rt,ht)},Nt.useInsertionEffect=function(k,rt){return at.H.useInsertionEffect(k,rt)},Nt.useLayoutEffect=function(k,rt){return at.H.useLayoutEffect(k,rt)},Nt.useMemo=function(k,rt){return at.H.useMemo(k,rt)},Nt.useOptimistic=function(k,rt){return at.H.useOptimistic(k,rt)},Nt.useReducer=function(k,rt,ht){return at.H.useReducer(k,rt,ht)},Nt.useRef=function(k){return at.H.useRef(k)},Nt.useState=function(k){return at.H.useState(k)},Nt.useSyncExternalStore=function(k,rt,ht){return at.H.useSyncExternalStore(k,rt,ht)},Nt.useTransition=function(){return at.H.useTransition()},Nt.version="19.1.1",Nt}var kT;function Bg(){return kT||(kT=1,op.exports=mC()),op.exports}var K=Bg();const Lf=hC(K);var lp={exports:{}},Tu={},up={exports:{}},cp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OT;function pC(){return OT||(OT=1,(function(e){function t($,ot){var ft=$.length;$.push(ot);t:for(;0<ft;){var _t=ft-1>>>1,k=$[_t];if(0<a(k,ot))$[_t]=ot,$[ft]=k,ft=_t;else break t}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ot=$[0],ft=$.pop();if(ft!==ot){$[0]=ft;t:for(var _t=0,k=$.length,rt=k>>>1;_t<rt;){var ht=2*(_t+1)-1,ut=$[ht],gt=ht+1,Dt=$[gt];if(0>a(ut,ft))gt<k&&0>a(Dt,ut)?($[_t]=Dt,$[gt]=ft,_t=gt):($[_t]=ut,$[ht]=ft,_t=ht);else if(gt<k&&0>a(Dt,ft))$[_t]=Dt,$[gt]=ft,_t=gt;else break t}}return ot}function a($,ot){var ft=$.sortIndex-ot.sortIndex;return ft!==0?ft:$.id-ot.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,T=null,x=3,C=!1,R=!1,L=!1,q=!1,Z=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function lt($){for(var ot=n(g);ot!==null;){if(ot.callback===null)s(g);else if(ot.startTime<=$)s(g),ot.sortIndex=ot.expirationTime,t(m,ot);else break;ot=n(g)}}function at($){if(L=!1,lt($),!R)if(n(m)!==null)R=!0,nt||(nt=!0,P());else{var ot=n(g);ot!==null&&Wt(at,ot.startTime-$)}}var nt=!1,N=-1,S=5,I=-1;function V(){return q?!0:!(e.unstable_now()-I<S)}function j(){if(q=!1,nt){var $=e.unstable_now();I=$;var ot=!0;try{t:{R=!1,L&&(L=!1,J(N),N=-1),C=!0;var ft=x;try{e:{for(lt($),T=n(m);T!==null&&!(T.expirationTime>$&&V());){var _t=T.callback;if(typeof _t=="function"){T.callback=null,x=T.priorityLevel;var k=_t(T.expirationTime<=$);if($=e.unstable_now(),typeof k=="function"){T.callback=k,lt($),ot=!0;break e}T===n(m)&&s(m),lt($)}else s(m);T=n(m)}if(T!==null)ot=!0;else{var rt=n(g);rt!==null&&Wt(at,rt.startTime-$),ot=!1}}break t}finally{T=null,x=ft,C=!1}ot=void 0}}finally{ot?P():nt=!1}}}var P;if(typeof B=="function")P=function(){B(j)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ue=M.port2;M.port1.onmessage=j,P=function(){ue.postMessage(null)}}else P=function(){Z(j,0)};function Wt($,ot){N=Z(function(){$(e.unstable_now())},ot)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function($){switch(x){case 1:case 2:case 3:var ot=3;break;default:ot=x}var ft=x;x=ot;try{return $()}finally{x=ft}},e.unstable_requestPaint=function(){q=!0},e.unstable_runWithPriority=function($,ot){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ft=x;x=$;try{return ot()}finally{x=ft}},e.unstable_scheduleCallback=function($,ot,ft){var _t=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?_t+ft:_t):ft=_t,$){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ft+k,$={id:v++,callback:ot,priorityLevel:$,startTime:ft,expirationTime:k,sortIndex:-1},ft>_t?($.sortIndex=ft,t(g,$),n(m)===null&&$===n(g)&&(L?(J(N),N=-1):L=!0,Wt(at,ft-_t))):($.sortIndex=k,t(m,$),R||C||(R=!0,nt||(nt=!0,P()))),$},e.unstable_shouldYield=V,e.unstable_wrapCallback=function($){var ot=x;return function(){var ft=x;x=ot;try{return $.apply(this,arguments)}finally{x=ft}}}})(cp)),cp}var jT;function gC(){return jT||(jT=1,up.exports=pC()),up.exports}var hp={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function yC(){if(PT)return un;PT=1;var e=Bg();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:g,implementation:v}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,un.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(m,g,null,v)},un.flushSync=function(m){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=v,s.d.f()}},un.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},un.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},un.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:C}):v==="script"&&s.d.X(m,{crossOrigin:T,integrity:x,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},un.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},un.requestFormReset=function(m){s.d.r(m)},un.unstable_batchedUpdates=function(m,g){return m(g)},un.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},un.useFormStatus=function(){return c.H.useHostTransitionStatus()},un.version="19.1.1",un}var LT;function vC(){if(LT)return hp.exports;LT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hp.exports=yC(),hp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT;function _C(){if(UT)return Tu;UT=1;var e=gC(),t=Bg(),n=vC();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return d(f),i;if(p===u)return d(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=p;else{for(var E=!1,w=f.child;w;){if(w===o){E=!0,o=f,u=p;break}if(w===u){E=!0,u=f,o=p;break}w=w.sibling}if(!E){for(w=p.child;w;){if(w===o){E=!0,o=p,u=f;break}if(w===u){E=!0,u=p,o=f;break}w=w.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),B=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function P(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function ue(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case q:return"Profiler";case L:return"StrictMode";case at:return"Suspense";case nt:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case B:return(i.displayName||"Context")+".Provider";case J:return(i._context.displayName||"Context")+".Consumer";case lt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return r=i.displayName||null,r!==null?r:ue(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return ue(i(r))}catch{}}return null}var Wt=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},_t=[],k=-1;function rt(i){return{current:i}}function ht(i){0>k||(i.current=_t[k],_t[k]=null,k--)}function ut(i,r){k++,_t[k]=i.current,i.current=r}var gt=rt(null),Dt=rt(null),xt=rt(null),Zt=rt(null);function kt(i,r){switch(ut(xt,r),ut(Dt,i),ut(gt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?rT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=rT(r),i=aT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ht(gt),ut(gt,i)}function Re(){ht(gt),ht(Dt),ht(xt)}function vi(i){i.memoizedState!==null&&ut(Zt,i);var r=gt.current,o=aT(r,i.type);r!==o&&(ut(Dt,i),ut(gt,o))}function Rn(i){Dt.current===i&&(ht(gt),ht(Dt)),Zt.current===i&&(ht(Zt),mu._currentValue=ft)}var _i=Object.prototype.hasOwnProperty,$i=e.unstable_scheduleCallback,Xi=e.unstable_cancelCallback,zr=e.unstable_shouldYield,za=e.unstable_requestPaint,bn=e.unstable_now,vl=e.unstable_getCurrentPriorityLevel,Fr=e.unstable_ImmediatePriority,js=e.unstable_UserBlockingPriority,Wi=e.unstable_NormalPriority,_l=e.unstable_LowPriority,Ps=e.unstable_IdlePriority,Hr=e.log,Fa=e.unstable_setDisableYieldValue,ce=null,Gt=null;function on(i){if(typeof Hr=="function"&&Fa(i),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ce,i)}catch{}}var He=Math.clz32?Math.clz32:Zi,Ha=Math.log,qa=Math.LN2;function Zi(i){return i>>>=0,i===0?32:31-(Ha(i)/qa|0)|0}var Ji=256,Ti=4194304;function In(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ls(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,p=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~p,u!==0?f=In(u):(E&=w,E!==0?f=In(E):o||(o=w&~i,o!==0&&(f=In(o))))):(w=u&~p,w!==0?f=In(w):E!==0?f=In(E):o||(o=u&~i,o!==0&&(f=In(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function zn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function qr(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gr(){var i=Ji;return Ji<<=1,(Ji&4194048)===0&&(Ji=256),i}function Kr(){var i=Ti;return Ti<<=1,(Ti&62914560)===0&&(Ti=4194304),i}function ai(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Nn(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Yr(i,r,o,u,f,p){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,D=i.expirationTimes,H=i.hiddenUpdates;for(o=E&~o;0<o;){var W=31-He(o),it=1<<W;w[W]=0,D[W]=-1;var G=H[W];if(G!==null)for(H[W]=null,W=0;W<G.length;W++){var Y=G[W];Y!==null&&(Y.lane&=-536870913)}o&=~it}u!==0&&X(i,u,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(E&~r))}function X(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-He(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function wt(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-He(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function he(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function oi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Fn(){var i=ot.p;return i!==0?i:(i=window.event,i===void 0?32:AT(i.type))}function qe(i,r){var o=ot.p;try{return ot.p=i,r()}finally{ot.p=o}}var Jt=Math.random().toString(36).slice(2),pe="__reactFiber$"+Jt,fe="__reactProps$"+Jt,Ie="__reactContainer$"+Jt,li="__reactEvents$"+Jt,ud="__reactListeners$"+Jt,Us="__reactHandles$"+Jt,bc="__reactResources$"+Jt,Qr="__reactMarker$"+Jt;function Bs(i){delete i[pe],delete i[fe],delete i[li],delete i[ud],delete i[Us]}function ts(i){var r=i[pe];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ie]||o[pe]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=cT(i);i!==null;){if(o=i[pe])return o;i=cT(i)}return r}i=o,o=i.parentNode}return null}function bi(i){if(i=i[pe]||i[Ie]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function Ei(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function pn(i){var r=i[bc];return r||(r=i[bc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ee(i){i[Qr]=!0}var Tl=new Set,Ga={};function ui(i,r){es(i,r),es(i+"Capture",r)}function es(i,r){for(Ga[i]=r,i=0;i<r.length;i++)Tl.add(r[i])}var Ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xc={},$r={};function wc(i){return _i.call($r,i)?!0:_i.call(xc,i)?!1:Ec.test(i)?$r[i]=!0:(xc[i]=!0,!1)}function zs(i,r,o){if(wc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function xi(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function We(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var Xr,Ac;function ns(i){if(Xr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Xr=r&&r[1]||"",Ac=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+i+Ac}var Ka=!1;function Ya(i,r){if(!i||Ka)return"";Ka=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(Y){var G=Y}Reflect.construct(i,[],it)}else{try{it.call()}catch(Y){G=Y}i.call(it.prototype)}}else{try{throw Error()}catch(Y){G=Y}(it=i())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],w=p[1];if(E&&w){var D=E.split(`
`),H=w.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===H.length)for(u=D.length-1,f=H.length-1;1<=u&&0<=f&&D[u]!==H[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==H[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==H[f]){var W=`
`+D[u].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=u&&0<=f);break}}}finally{Ka=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ns(o):""}function bl(i){switch(i.tag){case 26:case 27:case 5:return ns(i.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 15:return Ya(i.type,!1);case 11:return Ya(i.type.render,!1);case 1:return Ya(i.type,!0);case 31:return ns("Activity");default:return""}}function Qa(i){try{var r="";do r+=bl(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function El(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function cd(i){var r=El(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function $a(i){i._valueTracker||(i._valueTracker=cd(i))}function xl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=El(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Wr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var hd=/[\n"\\]/g;function Ne(i){return i.replace(hd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Dn(i,r,o,u,f,p,E,w){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+gn(r)):i.value!==""+gn(r)&&(i.value=""+gn(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?Fs(i,E,gn(r)):o!=null?Fs(i,E,gn(o)):u!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+gn(w):i.removeAttribute("name")}function Zr(i,r,o,u,f,p,E,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;o=o!=null?""+gn(o):"",r=r!=null?""+gn(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function Fs(i,r,o){r==="number"&&Wr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function is(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+gn(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function te(i,r,o){if(r!=null&&(r=""+gn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+gn(o):""}function Jr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Wt(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=gn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Hn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var ta=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sc(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||ta.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function wl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Sc(i,f,u)}else for(var p in r)r.hasOwnProperty(p)&&Sc(i,p,r[p])}function Al(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xa(i){return dd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ss=null;function qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var rs=null,as=null;function Sl(i){var r=bi(i);if(r&&(i=r.stateNode)){var o=i[fe]||null;t:switch(i=r.stateNode,r.type){case"input":if(Dn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ne(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[fe]||null;if(!f)throw Error(s(90));Dn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&xl(u)}break t;case"textarea":te(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&is(i,!!o.multiple,r,!1)}}}var wi=!1;function Cc(i,r,o){if(wi)return i(r,o);wi=!0;try{var u=i(r);return u}finally{if(wi=!1,(rs!==null||as!==null)&&(Th(),rs&&(r=rs,i=as,as=rs=null,Sl(r),i)))for(r=0;r<i.length;r++)Sl(i[r])}}function ea(i,r){var o=i.stateNode;if(o===null)return null;var u=o[fe]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gn=!1;if(ci)try{var na={};Object.defineProperty(na,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{Gn=!1}var Ai=null,Hs=null,os=null;function Cl(){if(os)return os;var i,r=Hs,o=r.length,u,f="value"in Ai?Ai.value:Ai.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var E=o-i;for(u=1;u<=E&&r[o-u]===f[p-u];u++);return os=f.slice(i,1<u?1-u:void 0)}function Si(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ci(){return!0}function Rl(){return!1}function Ge(i){function r(o,u,f,p,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ci:Rl,this.isPropagationStopped=Rl,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),r}var Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=Ge(Yt),ia=v({},Yt,{view:0,detail:0}),Rc=Ge(ia),Za,Ja,Ri,sa=v({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ri&&(Ri&&i.type==="mousemove"?(Za=i.screenX-Ri.screenX,Ja=i.screenY-Ri.screenY):Ja=Za=0,Ri=i),Za)},movementY:function(i){return"movementY"in i?i.movementY:Ja}}),Kn=Ge(sa),Ic=v({},sa,{dataTransfer:0}),md=Ge(Ic),ra=v({},ia,{relatedTarget:0}),to=Ge(ra),Il=v({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0}),eo=Ge(Il),Nc=v({},Yt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),no=Ge(Nc),pd=v({},Yt,{data:0}),Nl=Ge(pd),aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Mc[i])?!!r[i]:!1}function oa(){return Dl}var Vc=v({},ia,{key:function(i){if(i.key){var r=aa[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Si(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Dc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oa,charCode:function(i){return i.type==="keypress"?Si(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Si(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),io=Ge(Vc),kc=v({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ml=Ge(kc),ls=v({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oa}),Oc=Ge(ls),jc=v({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pc=Ge(jc),Lc=v({},sa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),so=Ge(Lc),yn=v({},Yt,{newState:0,oldState:0}),Uc=Ge(yn),Bc=[9,13,27,32],Ii=ci&&"CompositionEvent"in window,h=null;ci&&"documentMode"in document&&(h=document.documentMode);var _=ci&&"TextEvent"in window&&!h,b=ci&&(!Ii||h&&8<h&&11>=h),A=" ",z=!1;function Q(i,r){switch(i){case"keyup":return Bc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ct(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Bt=!1;function Pe(i,r){switch(i){case"compositionend":return ct(r);case"keypress":return r.which!==32?null:(z=!0,A);case"textInput":return i=r.data,i===A&&z?null:i;default:return null}}function zt(i,r){if(Bt)return i==="compositionend"||!Ii&&Q(i,r)?(i=Cl(),os=Hs=Ai=null,Bt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return b&&r.locale!=="ko"?null:r.data;default:return null}}var Ke={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Le(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Ke[i.type]:r==="textarea"}function us(i,r,o,u){rs?as?as.push(u):as=[u]:rs=u,r=Sh(r,"onChange"),0<r.length&&(o=new Wa("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Ze=null,Ni=null;function Vl(i){tT(i,0)}function zc(i){var r=Ei(i);if(xl(r))return i}function b0(i,r){if(i==="change")return r}var E0=!1;if(ci){var gd;if(ci){var yd="oninput"in document;if(!yd){var x0=document.createElement("div");x0.setAttribute("oninput","return;"),yd=typeof x0.oninput=="function"}gd=yd}else gd=!1;E0=gd&&(!document.documentMode||9<document.documentMode)}function w0(){Ze&&(Ze.detachEvent("onpropertychange",A0),Ni=Ze=null)}function A0(i){if(i.propertyName==="value"&&zc(Ni)){var r=[];us(r,Ni,i,qn(i)),Cc(Vl,r)}}function zS(i,r,o){i==="focusin"?(w0(),Ze=r,Ni=o,Ze.attachEvent("onpropertychange",A0)):i==="focusout"&&w0()}function FS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return zc(Ni)}function HS(i,r){if(i==="click")return zc(r)}function qS(i,r){if(i==="input"||i==="change")return zc(r)}function GS(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Mn=typeof Object.is=="function"?Object.is:GS;function kl(i,r){if(Mn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!_i.call(r,f)||!Mn(i[f],r[f]))return!1}return!0}function S0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function C0(i,r){var o=S0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=S0(o)}}function R0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?R0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function I0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Wr(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Wr(i.document)}return r}function vd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var KS=ci&&"documentMode"in document&&11>=document.documentMode,ro=null,_d=null,Ol=null,Td=!1;function N0(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Td||ro==null||ro!==Wr(u)||(u=ro,"selectionStart"in u&&vd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ol&&kl(Ol,u)||(Ol=u,u=Sh(_d,"onSelect"),0<u.length&&(r=new Wa("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=ro)))}function la(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var ao={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},bd={},D0={};ci&&(D0=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function ua(i){if(bd[i])return bd[i];if(!ao[i])return i;var r=ao[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in D0)return bd[i]=r[o];return i}var M0=ua("animationend"),V0=ua("animationiteration"),k0=ua("animationstart"),YS=ua("transitionrun"),QS=ua("transitionstart"),$S=ua("transitioncancel"),O0=ua("transitionend"),j0=new Map,Ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ed.push("scrollEnd");function hi(i,r){j0.set(i,r),ui(r,[i])}var P0=new WeakMap;function Yn(i,r){if(typeof i=="object"&&i!==null){var o=P0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Qa(r)},P0.set(i,r),r)}return{value:i,source:r,stack:Qa(r)}}var Qn=[],oo=0,xd=0;function Fc(){for(var i=oo,r=xd=oo=0;r<i;){var o=Qn[r];Qn[r++]=null;var u=Qn[r];Qn[r++]=null;var f=Qn[r];Qn[r++]=null;var p=Qn[r];if(Qn[r++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}p!==0&&L0(o,f,p)}}function Hc(i,r,o,u){Qn[oo++]=i,Qn[oo++]=r,Qn[oo++]=o,Qn[oo++]=u,xd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function wd(i,r,o,u){return Hc(i,r,o,u),qc(i)}function lo(i,r){return Hc(i,null,null,r),qc(i)}function L0(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-He(o),i=p.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),p):null}function qc(i){if(50<au)throw au=0,Nm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var uo={};function XS(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(i,r,o,u){return new XS(i,r,o,u)}function Ad(i){return i=i.prototype,!(!i||!i.isReactComponent)}function cs(i,r){var o=i.alternate;return o===null?(o=Vn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function U0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Gc(i,r,o,u,f,p){var E=0;if(u=i,typeof i=="function")Ad(i)&&(E=1);else if(typeof i=="string")E=Z2(i,o,gt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Vn(31,o,r,f),i.elementType=I,i.lanes=p,i;case R:return ca(o.children,f,p,r);case L:E=8,f|=24;break;case q:return i=Vn(12,o,r,f|2),i.elementType=q,i.lanes=p,i;case at:return i=Vn(13,o,r,f),i.elementType=at,i.lanes=p,i;case nt:return i=Vn(19,o,r,f),i.elementType=nt,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Z:case B:E=10;break t;case J:E=9;break t;case lt:E=11;break t;case N:E=14;break t;case S:E=16,u=null;break t}E=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Vn(E,o,r,f),r.elementType=i,r.type=u,r.lanes=p,r}function ca(i,r,o,u){return i=Vn(7,i,u,r),i.lanes=o,i}function Sd(i,r,o){return i=Vn(6,i,null,r),i.lanes=o,i}function Cd(i,r,o){return r=Vn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var co=[],ho=0,Kc=null,Yc=0,$n=[],Xn=0,ha=null,hs=1,fs="";function fa(i,r){co[ho++]=Yc,co[ho++]=Kc,Kc=i,Yc=r}function B0(i,r,o){$n[Xn++]=hs,$n[Xn++]=fs,$n[Xn++]=ha,ha=i;var u=hs;i=fs;var f=32-He(u)-1;u&=~(1<<f),o+=1;var p=32-He(r)+f;if(30<p){var E=f-f%5;p=(u&(1<<E)-1).toString(32),u>>=E,f-=E,hs=1<<32-He(r)+f|o<<f|u,fs=p+i}else hs=1<<p|o<<f|u,fs=i}function Rd(i){i.return!==null&&(fa(i,1),B0(i,1,0))}function Id(i){for(;i===Kc;)Kc=co[--ho],co[ho]=null,Yc=co[--ho],co[ho]=null;for(;i===ha;)ha=$n[--Xn],$n[Xn]=null,fs=$n[--Xn],$n[Xn]=null,hs=$n[--Xn],$n[Xn]=null}var vn=null,_e=null,Kt=!1,da=null,Di=!1,Nd=Error(s(519));function ma(i){var r=Error(s(418,""));throw Ll(Yn(r,i)),Nd}function z0(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[pe]=i,r[fe]=u,o){case"dialog":jt("cancel",r),jt("close",r);break;case"iframe":case"object":case"embed":jt("load",r);break;case"video":case"audio":for(o=0;o<lu.length;o++)jt(lu[o],r);break;case"source":jt("error",r);break;case"img":case"image":case"link":jt("error",r),jt("load",r);break;case"details":jt("toggle",r);break;case"input":jt("invalid",r),Zr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),$a(r);break;case"select":jt("invalid",r);break;case"textarea":jt("invalid",r),Jr(r,u.value,u.defaultValue,u.children),$a(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||sT(r.textContent,o)?(u.popover!=null&&(jt("beforetoggle",r),jt("toggle",r)),u.onScroll!=null&&jt("scroll",r),u.onScrollEnd!=null&&jt("scrollend",r),u.onClick!=null&&(r.onclick=Ch),r=!0):r=!1,r||ma(i)}function F0(i){for(vn=i.return;vn;)switch(vn.tag){case 5:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:vn=vn.return}}function jl(i){if(i!==vn)return!1;if(!Kt)return F0(i),Kt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Km(i.type,i.memoizedProps)),o=!o),o&&_e&&ma(i),F0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){_e=di(i.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}_e=null}}else r===27?(r=_e,rr(i.type)?(i=Xm,Xm=null,_e=i):_e=r):_e=vn?di(i.stateNode.nextSibling):null;return!0}function Pl(){_e=vn=null,Kt=!1}function H0(){var i=da;return i!==null&&(wn===null?wn=i:wn.push.apply(wn,i),da=null),i}function Ll(i){da===null?da=[i]:da.push(i)}var Dd=rt(null),pa=null,ds=null;function qs(i,r,o){ut(Dd,r._currentValue),r._currentValue=o}function ms(i){i._currentValue=Dd.current,ht(Dd)}function Md(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Vd(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;t:for(;p!==null;){var w=p;p=f;for(var D=0;D<r.length;D++)if(w.context===r[D]){p.lanes|=o,w=p.alternate,w!==null&&(w.lanes|=o),Md(p.return,o,i),u||(E=null);break t}p=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),Md(E,o,i),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===i){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Ul(i,r,o,u){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=f.type;Mn(f.pendingProps.value,E.value)||(i!==null?i.push(w):i=[w])}}else if(f===Zt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(mu):i=[mu])}f=f.return}i!==null&&Vd(r,i,o,u),r.flags|=262144}function Qc(i){for(i=i.firstContext;i!==null;){if(!Mn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ga(i){pa=i,ds=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ln(i){return q0(pa,i)}function $c(i,r){return pa===null&&ga(i),q0(i,r)}function q0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ds===null){if(i===null)throw Error(s(308));ds=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ds=ds.next=r;return o}var WS=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},ZS=e.unstable_scheduleCallback,JS=e.unstable_NormalPriority,Ue={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kd(){return{controller:new WS,data:new Map,refCount:0}}function Bl(i){i.refCount--,i.refCount===0&&ZS(JS,function(){i.controller.abort()})}var zl=null,Od=0,fo=0,mo=null;function t2(i,r){if(zl===null){var o=zl=[];Od=0,fo=Pm(),mo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Od++,r.then(G0,G0),r}function G0(){if(--Od===0&&zl!==null){mo!==null&&(mo.status="fulfilled");var i=zl;zl=null,fo=0,mo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function e2(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var K0=$.S;$.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&t2(i,r),K0!==null&&K0(i,r)};var ya=rt(null);function jd(){var i=ya.current;return i!==null?i:ae.pooledCache}function Xc(i,r){r===null?ut(ya,ya.current):ut(ya,r.pool)}function Y0(){var i=jd();return i===null?null:{parent:Ue._currentValue,pool:i}}var Fl=Error(s(460)),Q0=Error(s(474)),Wc=Error(s(542)),Pd={then:function(){}};function $0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Zc(){}function X0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Zc,Zc),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Z0(i),i;default:if(typeof r.status=="string")r.then(Zc,Zc);else{if(i=ae,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Z0(i),i}throw Hl=r,Fl}}var Hl=null;function W0(){if(Hl===null)throw Error(s(459));var i=Hl;return Hl=null,i}function Z0(i){if(i===Fl||i===Wc)throw Error(s(483))}var Gs=!1;function Ld(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ud(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ks(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ys(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,($t&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=qc(i),L0(i,null,o),r}return Hc(i,u,r,o),qc(i)}function ql(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,wt(i,o)}}function Bd(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var zd=!1;function Gl(){if(zd){var i=mo;if(i!==null)throw i}}function Kl(i,r,o,u){zd=!1;var f=i.updateQueue;Gs=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var D=w,H=D.next;D.next=null,E===null?p=H:E.next=H,E=D;var W=i.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==E&&(w===null?W.firstBaseUpdate=H:w.next=H,W.lastBaseUpdate=D))}if(p!==null){var it=f.baseState;E=0,W=H=D=null,w=p;do{var G=w.lane&-536870913,Y=G!==w.lane;if(Y?(Ft&G)===G:(u&G)===G){G!==0&&G===fo&&(zd=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var At=i,Tt=w;G=r;var ie=o;switch(Tt.tag){case 1:if(At=Tt.payload,typeof At=="function"){it=At.call(ie,it,G);break t}it=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Tt.payload,G=typeof At=="function"?At.call(ie,it,G):At,G==null)break t;it=v({},it,G);break t;case 2:Gs=!0}}G=w.callback,G!==null&&(i.flags|=64,Y&&(i.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(H=W=Y,D=it):W=W.next=Y,E|=G;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);W===null&&(D=it),f.baseState=D,f.firstBaseUpdate=H,f.lastBaseUpdate=W,p===null&&(f.shared.lanes=0),er|=E,i.lanes=E,i.memoizedState=it}}function J0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function tv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)J0(o[i],r)}var po=rt(null),Jc=rt(0);function ev(i,r){i=bs,ut(Jc,i),ut(po,r),bs=i|r.baseLanes}function Fd(){ut(Jc,bs),ut(po,po.current)}function Hd(){bs=Jc.current,ht(po),ht(Jc)}var Qs=0,Mt=null,ee=null,De=null,th=!1,go=!1,va=!1,eh=0,Yl=0,yo=null,n2=0;function xe(){throw Error(s(321))}function qd(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Mn(i[o],r[o]))return!1;return!0}function Gd(i,r,o,u,f,p){return Qs=p,Mt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=i===null||i.memoizedState===null?Lv:Uv,va=!1,p=o(u,f),va=!1,go&&(p=iv(r,o,u,f)),nv(i),p}function nv(i){$.H=oh;var r=ee!==null&&ee.next!==null;if(Qs=0,De=ee=Mt=null,th=!1,Yl=0,yo=null,r)throw Error(s(300));i===null||Ye||(i=i.dependencies,i!==null&&Qc(i)&&(Ye=!0))}function iv(i,r,o,u){Mt=i;var f=0;do{if(go&&(yo=null),Yl=0,go=!1,25<=f)throw Error(s(301));if(f+=1,De=ee=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}$.H=u2,p=r(o,u)}while(go);return p}function i2(){var i=$.H,r=i.useState()[0];return r=typeof r.then=="function"?Ql(r):r,i=i.useState()[0],(ee!==null?ee.memoizedState:null)!==i&&(Mt.flags|=1024),r}function Kd(){var i=eh!==0;return eh=0,i}function Yd(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Qd(i){if(th){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}th=!1}Qs=0,De=ee=Mt=null,go=!1,Yl=eh=0,yo=null}function En(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Mt.memoizedState=De=i:De=De.next=i,De}function Me(){if(ee===null){var i=Mt.alternate;i=i!==null?i.memoizedState:null}else i=ee.next;var r=De===null?Mt.memoizedState:De.next;if(r!==null)De=r,ee=i;else{if(i===null)throw Mt.alternate===null?Error(s(467)):Error(s(310));ee=i,i={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},De===null?Mt.memoizedState=De=i:De=De.next=i}return De}function $d(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(i){var r=Yl;return Yl+=1,yo===null&&(yo=[]),i=X0(yo,i,r),r=Mt,(De===null?r.memoizedState:De.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?Lv:Uv),i}function nh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ql(i);if(i.$$typeof===B)return ln(i)}throw Error(s(438,String(i)))}function Xd(i){var r=null,o=Mt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Mt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=$d(),Mt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=V;return r.index++,o}function ps(i,r){return typeof r=="function"?r(i):r}function ih(i){var r=Me();return Wd(r,ee,i)}function Wd(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,p=u.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}r.baseQueue=f=p,u.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var w=E=null,D=null,H=r,W=!1;do{var it=H.lane&-536870913;if(it!==H.lane?(Ft&it)===it:(Qs&it)===it){var G=H.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),it===fo&&(W=!0);else if((Qs&G)===G){H=H.next,G===fo&&(W=!0);continue}else it={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(w=D=it,E=p):D=D.next=it,Mt.lanes|=G,er|=G;it=H.action,va&&o(p,it),p=H.hasEagerState?H.eagerState:o(p,it)}else G={lane:it,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(w=D=G,E=p):D=D.next=G,Mt.lanes|=it,er|=it;H=H.next}while(H!==null&&H!==r);if(D===null?E=p:D.next=w,!Mn(p,i.memoizedState)&&(Ye=!0,W&&(o=mo,o!==null)))throw o;i.memoizedState=p,i.baseState=E,i.baseQueue=D,u.lastRenderedState=p}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Zd(i){var r=Me(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do p=i(p,E.action),E=E.next;while(E!==f);Mn(p,r.memoizedState)||(Ye=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function sv(i,r,o){var u=Mt,f=Me(),p=Kt;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var E=!Mn((ee||f).memoizedState,o);E&&(f.memoizedState=o,Ye=!0),f=f.queue;var w=ov.bind(null,u,f,i);if($l(2048,8,w,[i]),f.getSnapshot!==r||E||De!==null&&De.memoizedState.tag&1){if(u.flags|=2048,vo(9,sh(),av.bind(null,u,f,o,r),null),ae===null)throw Error(s(349));p||(Qs&124)!==0||rv(u,r,o)}return o}function rv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Mt.updateQueue,r===null?(r=$d(),Mt.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function av(i,r,o,u){r.value=o,r.getSnapshot=u,lv(r)&&uv(i)}function ov(i,r,o){return o(function(){lv(r)&&uv(i)})}function lv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Mn(i,o)}catch{return!0}}function uv(i){var r=lo(i,2);r!==null&&Ln(r,i,2)}function Jd(i){var r=En();if(typeof i=="function"){var o=i;if(i=o(),va){on(!0);try{o()}finally{on(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:i},r}function cv(i,r,o,u){return i.baseState=o,Wd(i,ee,typeof u=="function"?u:ps)}function s2(i,r,o,u,f){if(ah(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};$.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,hv(r,p)):(p.next=o.next,r.pending=o.next=p)}}function hv(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var p=$.T,E={};$.T=E;try{var w=o(f,u),D=$.S;D!==null&&D(E,w),fv(i,r,w)}catch(H){tm(i,r,H)}finally{$.T=p}}else try{p=o(f,u),fv(i,r,p)}catch(H){tm(i,r,H)}}function fv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){dv(i,r,u)},function(u){return tm(i,r,u)}):dv(i,r,o)}function dv(i,r,o){r.status="fulfilled",r.value=o,mv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,hv(i,o)))}function tm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,mv(r),r=r.next;while(r!==u)}i.action=null}function mv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function pv(i,r){return r}function gv(i,r){if(Kt){var o=ae.formState;if(o!==null){t:{var u=Mt;if(Kt){if(_e){e:{for(var f=_e,p=Di;f.nodeType!==8;){if(!p){f=null;break e}if(f=di(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){_e=di(f.nextSibling),u=f.data==="F!";break t}}ma(u)}u=!1}u&&(r=o[0])}}return o=En(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pv,lastRenderedState:r},o.queue=u,o=Ov.bind(null,Mt,u),u.dispatch=o,u=Jd(!1),p=rm.bind(null,Mt,!1,u.queue),u=En(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=s2.bind(null,Mt,f,p,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function yv(i){var r=Me();return vv(r,ee,i)}function vv(i,r,o){if(r=Wd(i,r,pv)[0],i=ih(ps)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ql(r)}catch(E){throw E===Fl?Wc:E}else u=r;r=Me();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(Mt.flags|=2048,vo(9,sh(),r2.bind(null,f,o),null)),[u,p,i]}function r2(i,r){i.action=r}function _v(i){var r=Me(),o=ee;if(o!==null)return vv(r,o,i);Me(),r=r.memoizedState,o=Me();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function vo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Mt.updateQueue,r===null&&(r=$d(),Mt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function sh(){return{destroy:void 0,resource:void 0}}function Tv(){return Me().memoizedState}function rh(i,r,o,u){var f=En();u=u===void 0?null:u,Mt.flags|=i,f.memoizedState=vo(1|r,sh(),o,u)}function $l(i,r,o,u){var f=Me();u=u===void 0?null:u;var p=f.memoizedState.inst;ee!==null&&u!==null&&qd(u,ee.memoizedState.deps)?f.memoizedState=vo(r,p,o,u):(Mt.flags|=i,f.memoizedState=vo(1|r,p,o,u))}function bv(i,r){rh(8390656,8,i,r)}function Ev(i,r){$l(2048,8,i,r)}function xv(i,r){return $l(4,2,i,r)}function wv(i,r){return $l(4,4,i,r)}function Av(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Sv(i,r,o){o=o!=null?o.concat([i]):null,$l(4,4,Av.bind(null,r,i),o)}function em(){}function Cv(i,r){var o=Me();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&qd(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function Rv(i,r){var o=Me();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&qd(r,u[1]))return u[0];if(u=i(),va){on(!0);try{i()}finally{on(!1)}}return o.memoizedState=[u,r],u}function nm(i,r,o){return o===void 0||(Qs&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=D_(),Mt.lanes|=i,er|=i,o)}function Iv(i,r,o,u){return Mn(o,r)?o:po.current!==null?(i=nm(i,o,u),Mn(i,r)||(Ye=!0),i):(Qs&42)===0?(Ye=!0,i.memoizedState=o):(i=D_(),Mt.lanes|=i,er|=i,r)}function Nv(i,r,o,u,f){var p=ot.p;ot.p=p!==0&&8>p?p:8;var E=$.T,w={};$.T=w,rm(i,!1,r,o);try{var D=f(),H=$.S;if(H!==null&&H(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=e2(D,u);Xl(i,r,W,Pn(i))}else Xl(i,r,u,Pn(i))}catch(it){Xl(i,r,{then:function(){},status:"rejected",reason:it},Pn())}finally{ot.p=p,$.T=E}}function a2(){}function im(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=Dv(i).queue;Nv(i,f,r,ft,o===null?a2:function(){return Mv(i),o(u)})}function Dv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:ft},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Mv(i){var r=Dv(i).next.queue;Xl(i,r,{},Pn())}function sm(){return ln(mu)}function Vv(){return Me().memoizedState}function kv(){return Me().memoizedState}function o2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Pn();i=Ks(o);var u=Ys(r,i,o);u!==null&&(Ln(u,r,o),ql(u,r,o)),r={cache:kd()},i.payload=r;return}r=r.return}}function l2(i,r,o){var u=Pn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},ah(i)?jv(r,o):(o=wd(i,r,o,u),o!==null&&(Ln(o,i,u),Pv(o,r,u)))}function Ov(i,r,o){var u=Pn();Xl(i,r,o,u)}function Xl(i,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(ah(i))jv(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var E=r.lastRenderedState,w=p(E,o);if(f.hasEagerState=!0,f.eagerState=w,Mn(w,E))return Hc(i,r,f,0),ae===null&&Fc(),!1}catch{}finally{}if(o=wd(i,r,f,u),o!==null)return Ln(o,i,u),Pv(o,r,u),!0}return!1}function rm(i,r,o,u){if(u={lane:2,revertLane:Pm(),action:u,hasEagerState:!1,eagerState:null,next:null},ah(i)){if(r)throw Error(s(479))}else r=wd(i,o,u,2),r!==null&&Ln(r,i,2)}function ah(i){var r=i.alternate;return i===Mt||r!==null&&r===Mt}function jv(i,r){go=th=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Pv(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,wt(i,o)}}var oh={readContext:ln,use:nh,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useLayoutEffect:xe,useInsertionEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useSyncExternalStore:xe,useId:xe,useHostTransitionStatus:xe,useFormState:xe,useActionState:xe,useOptimistic:xe,useMemoCache:xe,useCacheRefresh:xe},Lv={readContext:ln,use:nh,useCallback:function(i,r){return En().memoizedState=[i,r===void 0?null:r],i},useContext:ln,useEffect:bv,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,rh(4194308,4,Av.bind(null,r,i),o)},useLayoutEffect:function(i,r){return rh(4194308,4,i,r)},useInsertionEffect:function(i,r){rh(4,2,i,r)},useMemo:function(i,r){var o=En();r=r===void 0?null:r;var u=i();if(va){on(!0);try{i()}finally{on(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=En();if(o!==void 0){var f=o(r);if(va){on(!0);try{o(r)}finally{on(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=l2.bind(null,Mt,i),[u.memoizedState,i]},useRef:function(i){var r=En();return i={current:i},r.memoizedState=i},useState:function(i){i=Jd(i);var r=i.queue,o=Ov.bind(null,Mt,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:em,useDeferredValue:function(i,r){var o=En();return nm(o,i,r)},useTransition:function(){var i=Jd(!1);return i=Nv.bind(null,Mt,i.queue,!0,!1),En().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Mt,f=En();if(Kt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ae===null)throw Error(s(349));(Ft&124)!==0||rv(u,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,bv(ov.bind(null,u,p,i),[i]),u.flags|=2048,vo(9,sh(),av.bind(null,u,p,o,r),null),o},useId:function(){var i=En(),r=ae.identifierPrefix;if(Kt){var o=fs,u=hs;o=(u&~(1<<32-He(u)-1)).toString(32)+o,r="«"+r+"R"+o,o=eh++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=n2++,r="«"+r+"r"+o.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:sm,useFormState:gv,useActionState:gv,useOptimistic:function(i){var r=En();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=rm.bind(null,Mt,!0,o),o.dispatch=r,[i,r]},useMemoCache:Xd,useCacheRefresh:function(){return En().memoizedState=o2.bind(null,Mt)}},Uv={readContext:ln,use:nh,useCallback:Cv,useContext:ln,useEffect:Ev,useImperativeHandle:Sv,useInsertionEffect:xv,useLayoutEffect:wv,useMemo:Rv,useReducer:ih,useRef:Tv,useState:function(){return ih(ps)},useDebugValue:em,useDeferredValue:function(i,r){var o=Me();return Iv(o,ee.memoizedState,i,r)},useTransition:function(){var i=ih(ps)[0],r=Me().memoizedState;return[typeof i=="boolean"?i:Ql(i),r]},useSyncExternalStore:sv,useId:Vv,useHostTransitionStatus:sm,useFormState:yv,useActionState:yv,useOptimistic:function(i,r){var o=Me();return cv(o,ee,i,r)},useMemoCache:Xd,useCacheRefresh:kv},u2={readContext:ln,use:nh,useCallback:Cv,useContext:ln,useEffect:Ev,useImperativeHandle:Sv,useInsertionEffect:xv,useLayoutEffect:wv,useMemo:Rv,useReducer:Zd,useRef:Tv,useState:function(){return Zd(ps)},useDebugValue:em,useDeferredValue:function(i,r){var o=Me();return ee===null?nm(o,i,r):Iv(o,ee.memoizedState,i,r)},useTransition:function(){var i=Zd(ps)[0],r=Me().memoizedState;return[typeof i=="boolean"?i:Ql(i),r]},useSyncExternalStore:sv,useId:Vv,useHostTransitionStatus:sm,useFormState:_v,useActionState:_v,useOptimistic:function(i,r){var o=Me();return ee!==null?cv(o,ee,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Xd,useCacheRefresh:kv},_o=null,Wl=0;function lh(i){var r=Wl;return Wl+=1,_o===null&&(_o=[]),X0(_o,i,r)}function Zl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function uh(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Bv(i){var r=i._init;return r(i._payload)}function zv(i){function r(U,O){if(i){var F=U.deletions;F===null?(U.deletions=[O],U.flags|=16):F.push(O)}}function o(U,O){if(!i)return null;for(;O!==null;)r(U,O),O=O.sibling;return null}function u(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function f(U,O){return U=cs(U,O),U.index=0,U.sibling=null,U}function p(U,O,F){return U.index=F,i?(F=U.alternate,F!==null?(F=F.index,F<O?(U.flags|=67108866,O):F):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function E(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function w(U,O,F,tt){return O===null||O.tag!==6?(O=Sd(F,U.mode,tt),O.return=U,O):(O=f(O,F),O.return=U,O)}function D(U,O,F,tt){var pt=F.type;return pt===R?W(U,O,F.props.children,tt,F.key):O!==null&&(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===S&&Bv(pt)===O.type)?(O=f(O,F.props),Zl(O,F),O.return=U,O):(O=Gc(F.type,F.key,F.props,null,U.mode,tt),Zl(O,F),O.return=U,O)}function H(U,O,F,tt){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=Cd(F,U.mode,tt),O.return=U,O):(O=f(O,F.children||[]),O.return=U,O)}function W(U,O,F,tt,pt){return O===null||O.tag!==7?(O=ca(F,U.mode,tt,pt),O.return=U,O):(O=f(O,F),O.return=U,O)}function it(U,O,F){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Sd(""+O,U.mode,F),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case x:return F=Gc(O.type,O.key,O.props,null,U.mode,F),Zl(F,O),F.return=U,F;case C:return O=Cd(O,U.mode,F),O.return=U,O;case S:var tt=O._init;return O=tt(O._payload),it(U,O,F)}if(Wt(O)||P(O))return O=ca(O,U.mode,F,null),O.return=U,O;if(typeof O.then=="function")return it(U,lh(O),F);if(O.$$typeof===B)return it(U,$c(U,O),F);uh(U,O)}return null}function G(U,O,F,tt){var pt=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return pt!==null?null:w(U,O,""+F,tt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return F.key===pt?D(U,O,F,tt):null;case C:return F.key===pt?H(U,O,F,tt):null;case S:return pt=F._init,F=pt(F._payload),G(U,O,F,tt)}if(Wt(F)||P(F))return pt!==null?null:W(U,O,F,tt,null);if(typeof F.then=="function")return G(U,O,lh(F),tt);if(F.$$typeof===B)return G(U,O,$c(U,F),tt);uh(U,F)}return null}function Y(U,O,F,tt,pt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return U=U.get(F)||null,w(O,U,""+tt,pt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case x:return U=U.get(tt.key===null?F:tt.key)||null,D(O,U,tt,pt);case C:return U=U.get(tt.key===null?F:tt.key)||null,H(O,U,tt,pt);case S:var Vt=tt._init;return tt=Vt(tt._payload),Y(U,O,F,tt,pt)}if(Wt(tt)||P(tt))return U=U.get(F)||null,W(O,U,tt,pt,null);if(typeof tt.then=="function")return Y(U,O,F,lh(tt),pt);if(tt.$$typeof===B)return Y(U,O,F,$c(O,tt),pt);uh(O,tt)}return null}function At(U,O,F,tt){for(var pt=null,Vt=null,yt=O,bt=O=0,$e=null;yt!==null&&bt<F.length;bt++){yt.index>bt?($e=yt,yt=null):$e=yt.sibling;var qt=G(U,yt,F[bt],tt);if(qt===null){yt===null&&(yt=$e);break}i&&yt&&qt.alternate===null&&r(U,yt),O=p(qt,O,bt),Vt===null?pt=qt:Vt.sibling=qt,Vt=qt,yt=$e}if(bt===F.length)return o(U,yt),Kt&&fa(U,bt),pt;if(yt===null){for(;bt<F.length;bt++)yt=it(U,F[bt],tt),yt!==null&&(O=p(yt,O,bt),Vt===null?pt=yt:Vt.sibling=yt,Vt=yt);return Kt&&fa(U,bt),pt}for(yt=u(yt);bt<F.length;bt++)$e=Y(yt,U,bt,F[bt],tt),$e!==null&&(i&&$e.alternate!==null&&yt.delete($e.key===null?bt:$e.key),O=p($e,O,bt),Vt===null?pt=$e:Vt.sibling=$e,Vt=$e);return i&&yt.forEach(function(cr){return r(U,cr)}),Kt&&fa(U,bt),pt}function Tt(U,O,F,tt){if(F==null)throw Error(s(151));for(var pt=null,Vt=null,yt=O,bt=O=0,$e=null,qt=F.next();yt!==null&&!qt.done;bt++,qt=F.next()){yt.index>bt?($e=yt,yt=null):$e=yt.sibling;var cr=G(U,yt,qt.value,tt);if(cr===null){yt===null&&(yt=$e);break}i&&yt&&cr.alternate===null&&r(U,yt),O=p(cr,O,bt),Vt===null?pt=cr:Vt.sibling=cr,Vt=cr,yt=$e}if(qt.done)return o(U,yt),Kt&&fa(U,bt),pt;if(yt===null){for(;!qt.done;bt++,qt=F.next())qt=it(U,qt.value,tt),qt!==null&&(O=p(qt,O,bt),Vt===null?pt=qt:Vt.sibling=qt,Vt=qt);return Kt&&fa(U,bt),pt}for(yt=u(yt);!qt.done;bt++,qt=F.next())qt=Y(yt,U,bt,qt.value,tt),qt!==null&&(i&&qt.alternate!==null&&yt.delete(qt.key===null?bt:qt.key),O=p(qt,O,bt),Vt===null?pt=qt:Vt.sibling=qt,Vt=qt);return i&&yt.forEach(function(cC){return r(U,cC)}),Kt&&fa(U,bt),pt}function ie(U,O,F,tt){if(typeof F=="object"&&F!==null&&F.type===R&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case x:t:{for(var pt=F.key;O!==null;){if(O.key===pt){if(pt=F.type,pt===R){if(O.tag===7){o(U,O.sibling),tt=f(O,F.props.children),tt.return=U,U=tt;break t}}else if(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===S&&Bv(pt)===O.type){o(U,O.sibling),tt=f(O,F.props),Zl(tt,F),tt.return=U,U=tt;break t}o(U,O);break}else r(U,O);O=O.sibling}F.type===R?(tt=ca(F.props.children,U.mode,tt,F.key),tt.return=U,U=tt):(tt=Gc(F.type,F.key,F.props,null,U.mode,tt),Zl(tt,F),tt.return=U,U=tt)}return E(U);case C:t:{for(pt=F.key;O!==null;){if(O.key===pt)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){o(U,O.sibling),tt=f(O,F.children||[]),tt.return=U,U=tt;break t}else{o(U,O);break}else r(U,O);O=O.sibling}tt=Cd(F,U.mode,tt),tt.return=U,U=tt}return E(U);case S:return pt=F._init,F=pt(F._payload),ie(U,O,F,tt)}if(Wt(F))return At(U,O,F,tt);if(P(F)){if(pt=P(F),typeof pt!="function")throw Error(s(150));return F=pt.call(F),Tt(U,O,F,tt)}if(typeof F.then=="function")return ie(U,O,lh(F),tt);if(F.$$typeof===B)return ie(U,O,$c(U,F),tt);uh(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,O!==null&&O.tag===6?(o(U,O.sibling),tt=f(O,F),tt.return=U,U=tt):(o(U,O),tt=Sd(F,U.mode,tt),tt.return=U,U=tt),E(U)):o(U,O)}return function(U,O,F,tt){try{Wl=0;var pt=ie(U,O,F,tt);return _o=null,pt}catch(yt){if(yt===Fl||yt===Wc)throw yt;var Vt=Vn(29,yt,null,U.mode);return Vt.lanes=tt,Vt.return=U,Vt}finally{}}}var To=zv(!0),Fv=zv(!1),Wn=rt(null),Mi=null;function $s(i){var r=i.alternate;ut(Be,Be.current&1),ut(Wn,i),Mi===null&&(r===null||po.current!==null||r.memoizedState!==null)&&(Mi=i)}function Hv(i){if(i.tag===22){if(ut(Be,Be.current),ut(Wn,i),Mi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Mi=i)}}else Xs()}function Xs(){ut(Be,Be.current),ut(Wn,Wn.current)}function gs(i){ht(Wn),Mi===i&&(Mi=null),ht(Be)}var Be=rt(0);function ch(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||$m(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function am(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var om={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Pn(),f=Ks(u);f.payload=r,o!=null&&(f.callback=o),r=Ys(i,f,u),r!==null&&(Ln(r,i,u),ql(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Pn(),f=Ks(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Ys(i,f,u),r!==null&&(Ln(r,i,u),ql(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Pn(),u=Ks(o);u.tag=2,r!=null&&(u.callback=r),r=Ys(i,u,o),r!==null&&(Ln(r,i,o),ql(r,i,o))}};function qv(i,r,o,u,f,p,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,p,E):r.prototype&&r.prototype.isPureReactComponent?!kl(o,u)||!kl(f,p):!0}function Gv(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&om.enqueueReplaceState(r,r.state,null)}function _a(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var hh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Kv(i){hh(i)}function Yv(i){console.error(i)}function Qv(i){hh(i)}function fh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function $v(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function lm(i,r,o){return o=Ks(o),o.tag=3,o.payload={element:null},o.callback=function(){fh(i,r)},o}function Xv(i){return i=Ks(i),i.tag=3,i}function Wv(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;i.payload=function(){return f(p)},i.callback=function(){$v(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){$v(r,o,u),typeof f!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function c2(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Ul(r,o,f,!0),o=Wn.current,o!==null){switch(o.tag){case 13:return Mi===null?Mm():o.alternate===null&&Te===0&&(Te=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Pd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),km(i,u,f)),!1;case 22:return o.flags|=65536,u===Pd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),km(i,u,f)),!1}throw Error(s(435,o.tag))}return km(i,u,f),Mm(),!1}if(Kt)return r=Wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Nd&&(i=Error(s(422),{cause:u}),Ll(Yn(i,o)))):(u!==Nd&&(r=Error(s(423),{cause:u}),Ll(Yn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Yn(u,o),f=lm(i.stateNode,u,f),Bd(i,f),Te!==4&&(Te=2)),!1;var p=Error(s(520),{cause:u});if(p=Yn(p,o),ru===null?ru=[p]:ru.push(p),Te!==4&&(Te=2),r===null)return!0;u=Yn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=lm(o.stateNode,u,i),Bd(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(nr===null||!nr.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Xv(f),Wv(f,i,o,u),Bd(o,f),!1}o=o.return}while(o!==null);return!1}var Zv=Error(s(461)),Ye=!1;function Je(i,r,o,u){r.child=i===null?Fv(r,null,o,u):To(r,i.child,o,u)}function Jv(i,r,o,u,f){o=o.render;var p=r.ref;if("ref"in u){var E={};for(var w in u)w!=="ref"&&(E[w]=u[w])}else E=u;return ga(r),u=Gd(i,r,o,E,p,f),w=Kd(),i!==null&&!Ye?(Yd(i,r,f),ys(i,r,f)):(Kt&&w&&Rd(r),r.flags|=1,Je(i,r,u,f),r.child)}function t_(i,r,o,u,f){if(i===null){var p=o.type;return typeof p=="function"&&!Ad(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,e_(i,r,p,u,f)):(i=Gc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!gm(i,f)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:kl,o(E,u)&&i.ref===r.ref)return ys(i,r,f)}return r.flags|=1,i=cs(p,u),i.ref=r.ref,i.return=r,r.child=i}function e_(i,r,o,u,f){if(i!==null){var p=i.memoizedProps;if(kl(p,u)&&i.ref===r.ref)if(Ye=!1,r.pendingProps=u=p,gm(i,f))(i.flags&131072)!==0&&(Ye=!0);else return r.lanes=i.lanes,ys(i,r,f)}return um(i,r,o,u,f)}function n_(i,r,o){var u=r.pendingProps,f=u.children,p=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,i!==null){for(f=r.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~u}else r.childLanes=0,r.child=null;return i_(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Xc(r,p!==null?p.cachePool:null),p!==null?ev(r,p):Fd(),Hv(r);else return r.lanes=r.childLanes=536870912,i_(i,r,p!==null?p.baseLanes|o:o,o)}else p!==null?(Xc(r,p.cachePool),ev(r,p),Xs(),r.memoizedState=null):(i!==null&&Xc(r,null),Fd(),Xs());return Je(i,r,f,o),r.child}function i_(i,r,o,u){var f=jd();return f=f===null?null:{parent:Ue._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&Xc(r,null),Fd(),Hv(r),i!==null&&Ul(i,r,u,!0),null}function dh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function um(i,r,o,u,f){return ga(r),o=Gd(i,r,o,u,void 0,f),u=Kd(),i!==null&&!Ye?(Yd(i,r,f),ys(i,r,f)):(Kt&&u&&Rd(r),r.flags|=1,Je(i,r,o,f),r.child)}function s_(i,r,o,u,f,p){return ga(r),r.updateQueue=null,o=iv(r,u,o,f),nv(i),u=Kd(),i!==null&&!Ye?(Yd(i,r,p),ys(i,r,p)):(Kt&&u&&Rd(r),r.flags|=1,Je(i,r,o,p),r.child)}function r_(i,r,o,u,f){if(ga(r),r.stateNode===null){var p=uo,E=o.contextType;typeof E=="object"&&E!==null&&(p=ln(E)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=om,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},Ld(r),E=o.contextType,p.context=typeof E=="object"&&E!==null?ln(E):uo,p.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(am(r,o,E,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&om.enqueueReplaceState(p,p.state,null),Kl(r,u,p,f),Gl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){p=r.stateNode;var w=r.memoizedProps,D=_a(o,w);p.props=D;var H=p.context,W=o.contextType;E=uo,typeof W=="object"&&W!==null&&(E=ln(W));var it=o.getDerivedStateFromProps;W=typeof it=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,W||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||H!==E)&&Gv(r,p,u,E),Gs=!1;var G=r.memoizedState;p.state=G,Kl(r,u,p,f),Gl(),H=r.memoizedState,w||G!==H||Gs?(typeof it=="function"&&(am(r,o,it,u),H=r.memoizedState),(D=Gs||qv(r,o,D,u,G,H,E))?(W||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=H),p.props=u,p.state=H,p.context=E,u=D):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,Ud(i,r),E=r.memoizedProps,W=_a(o,E),p.props=W,it=r.pendingProps,G=p.context,H=o.contextType,D=uo,typeof H=="object"&&H!==null&&(D=ln(H)),w=o.getDerivedStateFromProps,(H=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==it||G!==D)&&Gv(r,p,u,D),Gs=!1,G=r.memoizedState,p.state=G,Kl(r,u,p,f),Gl();var Y=r.memoizedState;E!==it||G!==Y||Gs||i!==null&&i.dependencies!==null&&Qc(i.dependencies)?(typeof w=="function"&&(am(r,o,w,u),Y=r.memoizedState),(W=Gs||qv(r,o,W,u,G,Y,D)||i!==null&&i.dependencies!==null&&Qc(i.dependencies))?(H||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Y,D),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Y,D)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Y),p.props=u,p.state=Y,p.context=D,u=W):(typeof p.componentDidUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(r.flags|=1024),u=!1)}return p=u,dh(i,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&u?(r.child=To(r,i.child,null,f),r.child=To(r,null,o,f)):Je(i,r,o,f),r.memoizedState=p.state,i=r.child):i=ys(i,r,f),i}function a_(i,r,o,u){return Pl(),r.flags|=256,Je(i,r,o,u),r.child}var cm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hm(i){return{baseLanes:i,cachePool:Y0()}}function fm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Zn),i}function o_(i,r,o){var u=r.pendingProps,f=!1,p=(r.flags&128)!==0,E;if((E=p)||(E=i!==null&&i.memoizedState===null?!1:(Be.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(Kt){if(f?$s(r):Xs(),Kt){var w=_e,D;if(D=w){t:{for(D=w,w=Di;D.nodeType!==8;){if(!w){w=null;break t}if(D=di(D.nextSibling),D===null){w=null;break t}}w=D}w!==null?(r.memoizedState={dehydrated:w,treeContext:ha!==null?{id:hs,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},D=Vn(18,null,null,0),D.stateNode=w,D.return=r,r.child=D,vn=r,_e=null,D=!0):D=!1}D||ma(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return $m(w)?r.lanes=32:r.lanes=536870912,null;gs(r)}return w=u.children,u=u.fallback,f?(Xs(),f=r.mode,w=mh({mode:"hidden",children:w},f),u=ca(u,f,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,f=r.child,f.memoizedState=hm(o),f.childLanes=fm(i,E,o),r.memoizedState=cm,u):($s(r),dm(r,w))}if(D=i.memoizedState,D!==null&&(w=D.dehydrated,w!==null)){if(p)r.flags&256?($s(r),r.flags&=-257,r=mm(i,r,o)):r.memoizedState!==null?(Xs(),r.child=i.child,r.flags|=128,r=null):(Xs(),f=u.fallback,w=r.mode,u=mh({mode:"visible",children:u.children},w),f=ca(f,w,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,To(r,i.child,null,o),u=r.child,u.memoizedState=hm(o),u.childLanes=fm(i,E,o),r.memoizedState=cm,r=f);else if($s(r),$m(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var H=E.dgst;E=H,u=Error(s(419)),u.stack="",u.digest=E,Ll({value:u,source:null,stack:null}),r=mm(i,r,o)}else if(Ye||Ul(i,r,o,!1),E=(o&i.childLanes)!==0,Ye||E){if(E=ae,E!==null&&(u=o&-o,u=(u&42)!==0?1:he(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==D.retryLane))throw D.retryLane=u,lo(i,u),Ln(E,i,u),Zv;w.data==="$?"||Mm(),r=mm(i,r,o)}else w.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=D.treeContext,_e=di(w.nextSibling),vn=r,Kt=!0,da=null,Di=!1,i!==null&&($n[Xn++]=hs,$n[Xn++]=fs,$n[Xn++]=ha,hs=i.id,fs=i.overflow,ha=r),r=dm(r,u.children),r.flags|=4096);return r}return f?(Xs(),f=u.fallback,w=r.mode,D=i.child,H=D.sibling,u=cs(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,H!==null?f=cs(H,f):(f=ca(f,w,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,w=i.child.memoizedState,w===null?w=hm(o):(D=w.cachePool,D!==null?(H=Ue._currentValue,D=D.parent!==H?{parent:H,pool:H}:D):D=Y0(),w={baseLanes:w.baseLanes|o,cachePool:D}),f.memoizedState=w,f.childLanes=fm(i,E,o),r.memoizedState=cm,u):($s(r),o=i.child,i=o.sibling,o=cs(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=o,r.memoizedState=null,o)}function dm(i,r){return r=mh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function mh(i,r){return i=Vn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function mm(i,r,o){return To(r,i.child,null,o),i=dm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function l_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Md(i.return,r,o)}function pm(i,r,o,u,f){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=f)}function u_(i,r,o){var u=r.pendingProps,f=u.revealOrder,p=u.tail;if(Je(i,r,u.children,o),u=Be.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&l_(i,o,r);else if(i.tag===19)l_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ut(Be,u),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&ch(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),pm(r,!1,f,o,p);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&ch(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}pm(r,!0,o,null,p);break;case"together":pm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ys(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),er|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Ul(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=cs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=cs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function gm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Qc(i)))}function h2(i,r,o){switch(r.tag){case 3:kt(r,r.stateNode.containerInfo),qs(r,Ue,i.memoizedState.cache),Pl();break;case 27:case 5:vi(r);break;case 4:kt(r,r.stateNode.containerInfo);break;case 10:qs(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?($s(r),r.flags|=128,null):(o&r.child.childLanes)!==0?o_(i,r,o):($s(r),i=ys(i,r,o),i!==null?i.sibling:null);$s(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Ul(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return u_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(Be,Be.current),u)break;return null;case 22:case 23:return r.lanes=0,n_(i,r,o);case 24:qs(r,Ue,i.memoizedState.cache)}return ys(i,r,o)}function c_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ye=!0;else{if(!gm(i,o)&&(r.flags&128)===0)return Ye=!1,h2(i,r,o);Ye=(i.flags&131072)!==0}else Ye=!1,Kt&&(r.flags&1048576)!==0&&B0(r,Yc,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Ad(u)?(i=_a(u,i),r.tag=1,r=r_(null,r,u,i,o)):(r.tag=0,r=um(null,r,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===lt){r.tag=11,r=Jv(null,r,u,i,o);break t}else if(f===N){r.tag=14,r=t_(null,r,u,i,o);break t}}throw r=ue(u)||u,Error(s(306,r,""))}}return r;case 0:return um(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=_a(u,r.pendingProps),r_(i,r,u,f,o);case 3:t:{if(kt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var p=r.memoizedState;f=p.element,Ud(i,r),Kl(r,u,null,o);var E=r.memoizedState;if(u=E.cache,qs(r,Ue,u),u!==p.cache&&Vd(r,[Ue],o,!0),Gl(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=a_(i,r,u,o);break t}else if(u!==f){f=Yn(Error(s(424)),r),Ll(f),r=a_(i,r,u,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(_e=di(i.firstChild),vn=r,Kt=!0,da=null,Di=!0,o=Fv(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Pl(),u===f){r=ys(i,r,o);break t}Je(i,r,u,o)}r=r.child}return r;case 26:return dh(i,r),i===null?(o=mT(r.type,null,r.pendingProps,null))?r.memoizedState=o:Kt||(o=r.type,i=r.pendingProps,u=Rh(xt.current).createElement(o),u[pe]=r,u[fe]=i,en(u,o,i),Ee(u),r.stateNode=u):r.memoizedState=mT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return vi(r),i===null&&Kt&&(u=r.stateNode=hT(r.type,r.pendingProps,xt.current),vn=r,Di=!0,f=_e,rr(r.type)?(Xm=f,_e=di(u.firstChild)):_e=f),Je(i,r,r.pendingProps.children,o),dh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Kt&&((f=u=_e)&&(u=U2(u,r.type,r.pendingProps,Di),u!==null?(r.stateNode=u,vn=r,_e=di(u.firstChild),Di=!1,f=!0):f=!1),f||ma(r)),vi(r),f=r.type,p=r.pendingProps,E=i!==null?i.memoizedProps:null,u=p.children,Km(f,p)?u=null:E!==null&&Km(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=Gd(i,r,i2,null,null,o),mu._currentValue=f),dh(i,r),Je(i,r,u,o),r.child;case 6:return i===null&&Kt&&((i=o=_e)&&(o=B2(o,r.pendingProps,Di),o!==null?(r.stateNode=o,vn=r,_e=null,i=!0):i=!1),i||ma(r)),null;case 13:return o_(i,r,o);case 4:return kt(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=To(r,null,u,o):Je(i,r,u,o),r.child;case 11:return Jv(i,r,r.type,r.pendingProps,o);case 7:return Je(i,r,r.pendingProps,o),r.child;case 8:return Je(i,r,r.pendingProps.children,o),r.child;case 12:return Je(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,qs(r,r.type,u.value),Je(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,ga(r),f=ln(f),u=u(f),r.flags|=1,Je(i,r,u,o),r.child;case 14:return t_(i,r,r.type,r.pendingProps,o);case 15:return e_(i,r,r.type,r.pendingProps,o);case 19:return u_(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=mh(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=cs(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return n_(i,r,o);case 24:return ga(r),u=ln(Ue),i===null?(f=jd(),f===null&&(f=ae,p=kd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:u,cache:f},Ld(r),qs(r,Ue,f)):((i.lanes&o)!==0&&(Ud(i,r),Kl(r,null,null,o),Gl()),f=i.memoizedState,p=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),qs(r,Ue,u)):(u=p.cache,qs(r,Ue,u),u!==f.cache&&Vd(r,[Ue],o,!0))),Je(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function vs(i){i.flags|=4}function h_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!_T(r)){if(r=Wn.current,r!==null&&((Ft&4194048)===Ft?Mi!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||r!==Mi))throw Hl=Pd,Q0;i.flags|=8192}}function ph(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Kr():536870912,i.lanes|=r,wo|=r)}function Jl(i,r){if(!Kt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ge(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function f2(i,r,o){var u=r.pendingProps;switch(Id(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(r),null;case 1:return ge(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ms(Ue),Re(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(jl(r)?vs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,H0())),ge(r),null;case 26:return o=r.memoizedState,i===null?(vs(r),o!==null?(ge(r),h_(r,o)):(ge(r),r.flags&=-16777217)):o?o!==i.memoizedState?(vs(r),ge(r),h_(r,o)):(ge(r),r.flags&=-16777217):(i.memoizedProps!==u&&vs(r),ge(r),r.flags&=-16777217),null;case 27:Rn(r),o=xt.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&vs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ge(r),null}i=gt.current,jl(r)?z0(r):(i=hT(f,u,o),r.stateNode=i,vs(r))}return ge(r),null;case 5:if(Rn(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&vs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ge(r),null}if(i=gt.current,jl(r))z0(r);else{switch(f=Rh(xt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[pe]=r,i[fe]=u;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch(en(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&vs(r)}}return ge(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&vs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=xt.current,jl(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=vn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[pe]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||sT(i.nodeValue,o)),i||ma(r)}else i=Rh(i).createTextNode(u),i[pe]=r,r.stateNode=i}return ge(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=jl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[pe]=r}else Pl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ge(r),f=!1}else f=H0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(gs(r),r):(gs(r),null)}if(gs(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),ph(r,r.updateQueue),ge(r),null;case 4:return Re(),i===null&&zm(r.stateNode.containerInfo),ge(r),null;case 10:return ms(r.type),ge(r),null;case 19:if(ht(Be),f=r.memoizedState,f===null)return ge(r),null;if(u=(r.flags&128)!==0,p=f.rendering,p===null)if(u)Jl(f,!1);else{if(Te!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=ch(i),p!==null){for(r.flags|=128,Jl(f,!1),i=p.updateQueue,r.updateQueue=i,ph(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)U0(o,i),o=o.sibling;return ut(Be,Be.current&1|2),r.child}i=i.sibling}f.tail!==null&&bn()>vh&&(r.flags|=128,u=!0,Jl(f,!1),r.lanes=4194304)}else{if(!u)if(i=ch(p),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,ph(r,i),Jl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Kt)return ge(r),null}else 2*bn()-f.renderingStartTime>vh&&o!==536870912&&(r.flags|=128,u=!0,Jl(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(i=f.last,i!==null?i.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=bn(),r.sibling=null,i=Be.current,ut(Be,u?i&1|2:i&1),r):(ge(r),null);case 22:case 23:return gs(r),Hd(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ge(r),r.subtreeFlags&6&&(r.flags|=8192)):ge(r),o=r.updateQueue,o!==null&&ph(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ht(ya),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ms(Ue),ge(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function d2(i,r){switch(Id(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ms(Ue),Re(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Rn(r),null;case 13:if(gs(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Pl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ht(Be),null;case 4:return Re(),null;case 10:return ms(r.type),null;case 22:case 23:return gs(r),Hd(),i!==null&&ht(ya),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ms(Ue),null;case 25:return null;default:return null}}function f_(i,r){switch(Id(r),r.tag){case 3:ms(Ue),Re();break;case 26:case 27:case 5:Rn(r);break;case 4:Re();break;case 13:gs(r);break;case 19:ht(Be);break;case 10:ms(r.type);break;case 22:case 23:gs(r),Hd(),i!==null&&ht(ya);break;case 24:ms(Ue)}}function tu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var p=o.create,E=o.inst;u=p(),E.destroy=u}o=o.next}while(o!==f)}}catch(w){se(r,r.return,w)}}function Ws(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&i)===i){var E=u.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=r;var D=o,H=w;try{H()}catch(W){se(f,D,W)}}}u=u.next}while(u!==p)}}catch(W){se(r,r.return,W)}}function d_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{tv(r,o)}catch(u){se(i,i.return,u)}}}function m_(i,r,o){o.props=_a(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){se(i,r,u)}}function eu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){se(i,r,f)}}function Vi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){se(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){se(i,r,f)}else o.current=null}function p_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){se(i,i.return,f)}}function ym(i,r,o){try{var u=i.stateNode;k2(u,i.type,o,r),u[fe]=r}catch(f){se(i,i.return,f)}}function g_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&rr(i.type)||i.tag===4}function vm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||g_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&rr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function _m(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ch));else if(u!==4&&(u===27&&rr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(_m(i,r,o),i=i.sibling;i!==null;)_m(i,r,o),i=i.sibling}function gh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&rr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(gh(i,r,o),i=i.sibling;i!==null;)gh(i,r,o),i=i.sibling}function y_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);en(r,u,o),r[pe]=i,r[fe]=o}catch(p){se(i,i.return,p)}}var _s=!1,we=!1,Tm=!1,v_=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function m2(i,r){if(i=i.containerInfo,qm=kh,i=I0(i),vd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var E=0,w=-1,D=-1,H=0,W=0,it=i,G=null;e:for(;;){for(var Y;it!==o||f!==0&&it.nodeType!==3||(w=E+f),it!==p||u!==0&&it.nodeType!==3||(D=E+u),it.nodeType===3&&(E+=it.nodeValue.length),(Y=it.firstChild)!==null;)G=it,it=Y;for(;;){if(it===i)break e;if(G===o&&++H===f&&(w=E),G===p&&++W===u&&(D=E),(Y=it.nextSibling)!==null)break;it=G,G=it.parentNode}it=Y}o=w===-1||D===-1?null:{start:w,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Gm={focusedElem:i,selectionRange:o},kh=!1,Qe=r;Qe!==null;)if(r=Qe,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Qe=i;else for(;Qe!==null;){switch(r=Qe,p=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var At=_a(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(At,p),u.__reactInternalSnapshotBeforeUpdate=i}catch(Tt){se(o,o.return,Tt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Qm(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Qm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Qe=i;break}Qe=r.return}}function __(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Zs(i,o),u&4&&tu(5,o);break;case 1:if(Zs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(E){se(o,o.return,E)}else{var f=_a(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){se(o,o.return,E)}}u&64&&d_(o),u&512&&eu(o,o.return);break;case 3:if(Zs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{tv(i,r)}catch(E){se(o,o.return,E)}}break;case 27:r===null&&u&4&&y_(o);case 26:case 5:Zs(i,o),r===null&&u&4&&p_(o),u&512&&eu(o,o.return);break;case 12:Zs(i,o);break;case 13:Zs(i,o),u&4&&E_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=x2.bind(null,o),z2(i,o))));break;case 22:if(u=o.memoizedState!==null||_s,!u){r=r!==null&&r.memoizedState!==null||we,f=_s;var p=we;_s=u,(we=r)&&!p?Js(i,o,(o.subtreeFlags&8772)!==0):Zs(i,o),_s=f,we=p}break;case 30:break;default:Zs(i,o)}}function T_(i){var r=i.alternate;r!==null&&(i.alternate=null,T_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Bs(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var de=null,xn=!1;function Ts(i,r,o){for(o=o.child;o!==null;)b_(i,r,o),o=o.sibling}function b_(i,r,o){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ce,o)}catch{}switch(o.tag){case 26:we||Vi(o,r),Ts(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:we||Vi(o,r);var u=de,f=xn;rr(o.type)&&(de=o.stateNode,xn=!1),Ts(i,r,o),cu(o.stateNode),de=u,xn=f;break;case 5:we||Vi(o,r);case 6:if(u=de,f=xn,de=null,Ts(i,r,o),de=u,xn=f,de!==null)if(xn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(o.stateNode)}catch(p){se(o,r,p)}else try{de.removeChild(o.stateNode)}catch(p){se(o,r,p)}break;case 18:de!==null&&(xn?(i=de,uT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),vu(i)):uT(de,o.stateNode));break;case 4:u=de,f=xn,de=o.stateNode.containerInfo,xn=!0,Ts(i,r,o),de=u,xn=f;break;case 0:case 11:case 14:case 15:we||Ws(2,o,r),we||Ws(4,o,r),Ts(i,r,o);break;case 1:we||(Vi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&m_(o,r,u)),Ts(i,r,o);break;case 21:Ts(i,r,o);break;case 22:we=(u=we)||o.memoizedState!==null,Ts(i,r,o),we=u;break;default:Ts(i,r,o)}}function E_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{vu(i)}catch(o){se(r,r.return,o)}}function p2(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new v_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new v_),r;default:throw Error(s(435,i.tag))}}function bm(i,r){var o=p2(i);r.forEach(function(u){var f=w2.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function kn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=i,E=r,w=E;t:for(;w!==null;){switch(w.tag){case 27:if(rr(w.type)){de=w.stateNode,xn=!1;break t}break;case 5:de=w.stateNode,xn=!1;break t;case 3:case 4:de=w.stateNode.containerInfo,xn=!0;break t}w=w.return}if(de===null)throw Error(s(160));b_(p,E,f),de=null,xn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)x_(r,i),r=r.sibling}var fi=null;function x_(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:kn(r,i),On(i),u&4&&(Ws(3,i,i.return),tu(3,i),Ws(5,i,i.return));break;case 1:kn(r,i),On(i),u&512&&(we||o===null||Vi(o,o.return)),u&64&&_s&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=fi;if(kn(r,i),On(i),u&512&&(we||o===null||Vi(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Qr]||p[pe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),en(p,u,o),p[pe]=i,Ee(p),u=p;break t;case"link":var E=yT("link","href",f).get(u+(o.href||""));if(E){for(var w=0;w<E.length;w++)if(p=E[w],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(w,1);break e}}p=f.createElement(u),en(p,u,o),f.head.appendChild(p);break;case"meta":if(E=yT("meta","content",f).get(u+(o.content||""))){for(w=0;w<E.length;w++)if(p=E[w],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(w,1);break e}}p=f.createElement(u),en(p,u,o),f.head.appendChild(p);break;default:throw Error(s(468,u))}p[pe]=i,Ee(p),u=p}i.stateNode=u}else vT(f,i.type,i.stateNode);else i.stateNode=gT(f,u,i.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?vT(f,i.type,i.stateNode):gT(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&ym(i,i.memoizedProps,o.memoizedProps)}break;case 27:kn(r,i),On(i),u&512&&(we||o===null||Vi(o,o.return)),o!==null&&u&4&&ym(i,i.memoizedProps,o.memoizedProps);break;case 5:if(kn(r,i),On(i),u&512&&(we||o===null||Vi(o,o.return)),i.flags&32){f=i.stateNode;try{Hn(f,"")}catch(Y){se(i,i.return,Y)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,ym(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Tm=!0);break;case 6:if(kn(r,i),On(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Y){se(i,i.return,Y)}}break;case 3:if(Dh=null,f=fi,fi=Ih(r.containerInfo),kn(r,i),fi=f,On(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{vu(r.containerInfo)}catch(Y){se(i,i.return,Y)}Tm&&(Tm=!1,w_(i));break;case 4:u=fi,fi=Ih(i.stateNode.containerInfo),kn(r,i),On(i),fi=u;break;case 12:kn(r,i),On(i);break;case 13:kn(r,i),On(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Cm=bn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,bm(i,u)));break;case 22:f=i.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,H=_s,W=we;if(_s=H||f,we=W||D,kn(r,i),we=W,_s=H,On(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||D||_s||we||Ta(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){D=o=r;try{if(p=D.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=D.stateNode;var it=D.memoizedProps.style,G=it!=null&&it.hasOwnProperty("display")?it.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Y){se(D,D.return,Y)}}}else if(r.tag===6){if(o===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(Y){se(D,D.return,Y)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,bm(i,o))));break;case 19:kn(r,i),On(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,bm(i,u)));break;case 30:break;case 21:break;default:kn(r,i),On(i)}}function On(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(g_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=vm(i);gh(i,p,f);break;case 5:var E=o.stateNode;o.flags&32&&(Hn(E,""),o.flags&=-33);var w=vm(i);gh(i,w,E);break;case 3:case 4:var D=o.stateNode.containerInfo,H=vm(i);_m(i,H,D);break;default:throw Error(s(161))}}catch(W){se(i,i.return,W)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function w_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;w_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Zs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)__(i,r.alternate,r),r=r.sibling}function Ta(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ws(4,r,r.return),Ta(r);break;case 1:Vi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&m_(r,r.return,o),Ta(r);break;case 27:cu(r.stateNode);case 26:case 5:Vi(r,r.return),Ta(r);break;case 22:r.memoizedState===null&&Ta(r);break;case 30:Ta(r);break;default:Ta(r)}i=i.sibling}}function Js(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,p=r,E=p.flags;switch(p.tag){case 0:case 11:case 15:Js(f,p,o),tu(4,p);break;case 1:if(Js(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){se(u,u.return,H)}if(u=p,f=u.updateQueue,f!==null){var w=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)J0(D[f],w)}catch(H){se(u,u.return,H)}}o&&E&64&&d_(p),eu(p,p.return);break;case 27:y_(p);case 26:case 5:Js(f,p,o),o&&u===null&&E&4&&p_(p),eu(p,p.return);break;case 12:Js(f,p,o);break;case 13:Js(f,p,o),o&&E&4&&E_(f,p);break;case 22:p.memoizedState===null&&Js(f,p,o),eu(p,p.return);break;case 30:break;default:Js(f,p,o)}r=r.sibling}}function Em(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Bl(o))}function xm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Bl(i))}function ki(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)A_(i,r,o,u),r=r.sibling}function A_(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ki(i,r,o,u),f&2048&&tu(9,r);break;case 1:ki(i,r,o,u);break;case 3:ki(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Bl(i)));break;case 12:if(f&2048){ki(i,r,o,u),i=r.stateNode;try{var p=r.memoizedProps,E=p.id,w=p.onPostCommit;typeof w=="function"&&w(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){se(r,r.return,D)}}else ki(i,r,o,u);break;case 13:ki(i,r,o,u);break;case 23:break;case 22:p=r.stateNode,E=r.alternate,r.memoizedState!==null?p._visibility&2?ki(i,r,o,u):nu(i,r):p._visibility&2?ki(i,r,o,u):(p._visibility|=2,bo(i,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&Em(E,r);break;case 24:ki(i,r,o,u),f&2048&&xm(r.alternate,r);break;default:ki(i,r,o,u)}}function bo(i,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=i,E=r,w=o,D=u,H=E.flags;switch(E.tag){case 0:case 11:case 15:bo(p,E,w,D,f),tu(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?bo(p,E,w,D,f):nu(p,E):(W._visibility|=2,bo(p,E,w,D,f)),f&&H&2048&&Em(E.alternate,E);break;case 24:bo(p,E,w,D,f),f&&H&2048&&xm(E.alternate,E);break;default:bo(p,E,w,D,f)}r=r.sibling}}function nu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:nu(o,u),f&2048&&Em(u.alternate,u);break;case 24:nu(o,u),f&2048&&xm(u.alternate,u);break;default:nu(o,u)}r=r.sibling}}var iu=8192;function Eo(i){if(i.subtreeFlags&iu)for(i=i.child;i!==null;)S_(i),i=i.sibling}function S_(i){switch(i.tag){case 26:Eo(i),i.flags&iu&&i.memoizedState!==null&&tC(fi,i.memoizedState,i.memoizedProps);break;case 5:Eo(i);break;case 3:case 4:var r=fi;fi=Ih(i.stateNode.containerInfo),Eo(i),fi=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=iu,iu=16777216,Eo(i),iu=r):Eo(i));break;default:Eo(i)}}function C_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function su(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Qe=u,I_(u,i)}C_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)R_(i),i=i.sibling}function R_(i){switch(i.tag){case 0:case 11:case 15:su(i),i.flags&2048&&Ws(9,i,i.return);break;case 3:su(i);break;case 12:su(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,yh(i)):su(i);break;default:su(i)}}function yh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Qe=u,I_(u,i)}C_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ws(8,r,r.return),yh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,yh(r));break;default:yh(r)}i=i.sibling}}function I_(i,r){for(;Qe!==null;){var o=Qe;switch(o.tag){case 0:case 11:case 15:Ws(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Bl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Qe=u;else t:for(o=i;Qe!==null;){u=Qe;var f=u.sibling,p=u.return;if(T_(u),u===o){Qe=null;break t}if(f!==null){f.return=p,Qe=f;break t}Qe=p}}}var g2={getCacheForType:function(i){var r=ln(Ue),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},y2=typeof WeakMap=="function"?WeakMap:Map,$t=0,ae=null,Ot=null,Ft=0,Xt=0,jn=null,tr=!1,xo=!1,wm=!1,bs=0,Te=0,er=0,ba=0,Am=0,Zn=0,wo=0,ru=null,wn=null,Sm=!1,Cm=0,vh=1/0,_h=null,nr=null,tn=0,ir=null,Ao=null,So=0,Rm=0,Im=null,N_=null,au=0,Nm=null;function Pn(){if(($t&2)!==0&&Ft!==0)return Ft&-Ft;if($.T!==null){var i=fo;return i!==0?i:Pm()}return Fn()}function D_(){Zn===0&&(Zn=(Ft&536870912)===0||Kt?Gr():536870912);var i=Wn.current;return i!==null&&(i.flags|=32),Zn}function Ln(i,r,o){(i===ae&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)&&(Co(i,0),sr(i,Ft,Zn,!1)),Nn(i,o),(($t&2)===0||i!==ae)&&(i===ae&&(($t&2)===0&&(ba|=o),Te===4&&sr(i,Ft,Zn,!1)),Oi(i))}function M_(i,r,o){if(($t&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||zn(i,r),f=u?T2(i,r):Vm(i,r,!0),p=u;do{if(f===0){xo&&!u&&sr(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!v2(o)){f=Vm(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var w=i;f=ru;var D=w.current.memoizedState.isDehydrated;if(D&&(Co(w,E).flags|=256),E=Vm(w,E,!1),E!==2){if(wm&&!D){w.errorRecoveryDisabledLanes|=p,ba|=p,f=4;break t}p=wn,wn=f,p!==null&&(wn===null?wn=p:wn.push.apply(wn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){Co(i,0),sr(i,r,0,!0);break}t:{switch(u=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:sr(u,r,Zn,!tr);break t;case 2:wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Cm+300-bn(),10<f)){if(sr(u,r,Zn,!tr),Ls(u,0,!0)!==0)break t;u.timeoutHandle=oT(V_.bind(null,u,o,wn,_h,Sm,r,Zn,ba,wo,tr,p,2,-0,0),f);break t}V_(u,o,wn,_h,Sm,r,Zn,ba,wo,tr,p,0,-0,0)}}break}while(!0);Oi(i)}function V_(i,r,o,u,f,p,E,w,D,H,W,it,G,Y){if(i.timeoutHandle=-1,it=r.subtreeFlags,(it&8192||(it&16785408)===16785408)&&(du={stylesheets:null,count:0,unsuspend:J2},S_(r),it=eC(),it!==null)){i.cancelPendingCommit=it(B_.bind(null,i,r,p,o,u,f,E,w,D,W,1,G,Y)),sr(i,p,E,!H);return}B_(i,r,p,o,u,f,E,w,D)}function v2(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!Mn(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function sr(i,r,o,u){r&=~Am,r&=~ba,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var p=31-He(f),E=1<<p;u[p]=-1,f&=~E}o!==0&&X(i,o,r)}function Th(){return($t&6)===0?(ou(0),!1):!0}function Dm(){if(Ot!==null){if(Xt===0)var i=Ot.return;else i=Ot,ds=pa=null,Qd(i),_o=null,Wl=0,i=Ot;for(;i!==null;)f_(i.alternate,i),i=i.return;Ot=null}}function Co(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,j2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Dm(),ae=i,Ot=o=cs(i.current,null),Ft=r,Xt=0,jn=null,tr=!1,xo=zn(i,r),wm=!1,wo=Zn=Am=ba=er=Te=0,wn=ru=null,Sm=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-He(u),p=1<<f;r|=i[f],u&=~p}return bs=r,Fc(),o}function k_(i,r){Mt=null,$.H=oh,r===Fl||r===Wc?(r=W0(),Xt=3):r===Q0?(r=W0(),Xt=4):Xt=r===Zv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,jn=r,Ot===null&&(Te=1,fh(i,Yn(r,i.current)))}function O_(){var i=$.H;return $.H=oh,i===null?oh:i}function j_(){var i=$.A;return $.A=g2,i}function Mm(){Te=4,tr||(Ft&4194048)!==Ft&&Wn.current!==null||(xo=!0),(er&134217727)===0&&(ba&134217727)===0||ae===null||sr(ae,Ft,Zn,!1)}function Vm(i,r,o){var u=$t;$t|=2;var f=O_(),p=j_();(ae!==i||Ft!==r)&&(_h=null,Co(i,r)),r=!1;var E=Te;t:do try{if(Xt!==0&&Ot!==null){var w=Ot,D=jn;switch(Xt){case 8:Dm(),E=6;break t;case 3:case 2:case 9:case 6:Wn.current===null&&(r=!0);var H=Xt;if(Xt=0,jn=null,Ro(i,w,D,H),o&&xo){E=0;break t}break;default:H=Xt,Xt=0,jn=null,Ro(i,w,D,H)}}_2(),E=Te;break}catch(W){k_(i,W)}while(!0);return r&&i.shellSuspendCounter++,ds=pa=null,$t=u,$.H=f,$.A=p,Ot===null&&(ae=null,Ft=0,Fc()),E}function _2(){for(;Ot!==null;)P_(Ot)}function T2(i,r){var o=$t;$t|=2;var u=O_(),f=j_();ae!==i||Ft!==r?(_h=null,vh=bn()+500,Co(i,r)):xo=zn(i,r);t:do try{if(Xt!==0&&Ot!==null){r=Ot;var p=jn;e:switch(Xt){case 1:Xt=0,jn=null,Ro(i,r,p,1);break;case 2:case 9:if($0(p)){Xt=0,jn=null,L_(r);break}r=function(){Xt!==2&&Xt!==9||ae!==i||(Xt=7),Oi(i)},p.then(r,r);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:$0(p)?(Xt=0,jn=null,L_(r)):(Xt=0,jn=null,Ro(i,r,p,7));break;case 5:var E=null;switch(Ot.tag){case 26:E=Ot.memoizedState;case 5:case 27:var w=Ot;if(!E||_T(E)){Xt=0,jn=null;var D=w.sibling;if(D!==null)Ot=D;else{var H=w.return;H!==null?(Ot=H,bh(H)):Ot=null}break e}}Xt=0,jn=null,Ro(i,r,p,5);break;case 6:Xt=0,jn=null,Ro(i,r,p,6);break;case 8:Dm(),Te=6;break t;default:throw Error(s(462))}}b2();break}catch(W){k_(i,W)}while(!0);return ds=pa=null,$.H=u,$.A=f,$t=o,Ot!==null?0:(ae=null,Ft=0,Fc(),Te)}function b2(){for(;Ot!==null&&!zr();)P_(Ot)}function P_(i){var r=c_(i.alternate,i,bs);i.memoizedProps=i.pendingProps,r===null?bh(i):Ot=r}function L_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=s_(o,r,r.pendingProps,r.type,void 0,Ft);break;case 11:r=s_(o,r,r.pendingProps,r.type.render,r.ref,Ft);break;case 5:Qd(r);default:f_(o,r),r=Ot=U0(r,bs),r=c_(o,r,bs)}i.memoizedProps=i.pendingProps,r===null?bh(i):Ot=r}function Ro(i,r,o,u){ds=pa=null,Qd(r),_o=null,Wl=0;var f=r.return;try{if(c2(i,f,r,o,Ft)){Te=1,fh(i,Yn(o,i.current)),Ot=null;return}}catch(p){if(f!==null)throw Ot=f,p;Te=1,fh(i,Yn(o,i.current)),Ot=null;return}r.flags&32768?(Kt||u===1?i=!0:xo||(Ft&536870912)!==0?i=!1:(tr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Wn.current,u!==null&&u.tag===13&&(u.flags|=16384))),U_(r,i)):bh(r)}function bh(i){var r=i;do{if((r.flags&32768)!==0){U_(r,tr);return}i=r.return;var o=f2(r.alternate,r,bs);if(o!==null){Ot=o;return}if(r=r.sibling,r!==null){Ot=r;return}Ot=r=i}while(r!==null);Te===0&&(Te=5)}function U_(i,r){do{var o=d2(i.alternate,i);if(o!==null){o.flags&=32767,Ot=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ot=i;return}Ot=i=o}while(i!==null);Te=6,Ot=null}function B_(i,r,o,u,f,p,E,w,D){i.cancelPendingCommit=null;do Eh();while(tn!==0);if(($t&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=xd,Yr(i,o,p,E,w,D),i===ae&&(Ot=ae=null,Ft=0),Ao=r,ir=i,So=o,Rm=p,Im=f,N_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,A2(Wi,function(){return G_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,f=ot.p,ot.p=2,E=$t,$t|=4;try{m2(i,r,o)}finally{$t=E,ot.p=f,$.T=u}}tn=1,z_(),F_(),H_()}}function z_(){if(tn===1){tn=0;var i=ir,r=Ao,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var u=ot.p;ot.p=2;var f=$t;$t|=4;try{x_(r,i);var p=Gm,E=I0(i.containerInfo),w=p.focusedElem,D=p.selectionRange;if(E!==w&&w&&w.ownerDocument&&R0(w.ownerDocument.documentElement,w)){if(D!==null&&vd(w)){var H=D.start,W=D.end;if(W===void 0&&(W=H),"selectionStart"in w)w.selectionStart=H,w.selectionEnd=Math.min(W,w.value.length);else{var it=w.ownerDocument||document,G=it&&it.defaultView||window;if(G.getSelection){var Y=G.getSelection(),At=w.textContent.length,Tt=Math.min(D.start,At),ie=D.end===void 0?Tt:Math.min(D.end,At);!Y.extend&&Tt>ie&&(E=ie,ie=Tt,Tt=E);var U=C0(w,Tt),O=C0(w,ie);if(U&&O&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==O.node||Y.focusOffset!==O.offset)){var F=it.createRange();F.setStart(U.node,U.offset),Y.removeAllRanges(),Tt>ie?(Y.addRange(F),Y.extend(O.node,O.offset)):(F.setEnd(O.node,O.offset),Y.addRange(F))}}}}for(it=[],Y=w;Y=Y.parentNode;)Y.nodeType===1&&it.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<it.length;w++){var tt=it[w];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}kh=!!qm,Gm=qm=null}finally{$t=f,ot.p=u,$.T=o}}i.current=r,tn=2}}function F_(){if(tn===2){tn=0;var i=ir,r=Ao,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var u=ot.p;ot.p=2;var f=$t;$t|=4;try{__(i,r.alternate,r)}finally{$t=f,ot.p=u,$.T=o}}tn=3}}function H_(){if(tn===4||tn===3){tn=0,za();var i=ir,r=Ao,o=So,u=N_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?tn=5:(tn=0,Ao=ir=null,q_(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(nr=null),oi(o),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ce,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=$.T,f=ot.p,ot.p=2,$.T=null;try{for(var p=i.onRecoverableError,E=0;E<u.length;E++){var w=u[E];p(w.value,{componentStack:w.stack})}}finally{$.T=r,ot.p=f}}(So&3)!==0&&Eh(),Oi(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===Nm?au++:(au=0,Nm=i):au=0,ou(0)}}function q_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Bl(r)))}function Eh(i){return z_(),F_(),H_(),G_()}function G_(){if(tn!==5)return!1;var i=ir,r=Rm;Rm=0;var o=oi(So),u=$.T,f=ot.p;try{ot.p=32>o?32:o,$.T=null,o=Im,Im=null;var p=ir,E=So;if(tn=0,Ao=ir=null,So=0,($t&6)!==0)throw Error(s(331));var w=$t;if($t|=4,R_(p.current),A_(p,p.current,E,o),$t=w,ou(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ce,p)}catch{}return!0}finally{ot.p=f,$.T=u,q_(i,r)}}function K_(i,r,o){r=Yn(o,r),r=lm(i.stateNode,r,2),i=Ys(i,r,2),i!==null&&(Nn(i,2),Oi(i))}function se(i,r,o){if(i.tag===3)K_(i,i,o);else for(;r!==null;){if(r.tag===3){K_(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(nr===null||!nr.has(u))){i=Yn(o,i),o=Xv(2),u=Ys(r,o,2),u!==null&&(Wv(o,u,r,i),Nn(u,2),Oi(u));break}}r=r.return}}function km(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new y2;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(wm=!0,f.add(o),i=E2.bind(null,i,r,o),r.then(i,i))}function E2(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ae===i&&(Ft&o)===o&&(Te===4||Te===3&&(Ft&62914560)===Ft&&300>bn()-Cm?($t&2)===0&&Co(i,0):Am|=o,wo===Ft&&(wo=0)),Oi(i)}function Y_(i,r){r===0&&(r=Kr()),i=lo(i,r),i!==null&&(Nn(i,r),Oi(i))}function x2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Y_(i,o)}function w2(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Y_(i,o)}function A2(i,r){return $i(i,r)}var xh=null,Io=null,Om=!1,wh=!1,jm=!1,Ea=0;function Oi(i){i!==Io&&i.next===null&&(Io===null?xh=Io=i:Io=Io.next=i),wh=!0,Om||(Om=!0,C2())}function ou(i,r){if(!jm&&wh){jm=!0;do for(var o=!1,u=xh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var E=u.suspendedLanes,w=u.pingedLanes;p=(1<<31-He(42|i)+1)-1,p&=f&~(E&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,W_(u,p))}else p=Ft,p=Ls(u,u===ae?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||zn(u,p)||(o=!0,W_(u,p));u=u.next}while(o);jm=!1}}function S2(){Q_()}function Q_(){wh=Om=!1;var i=0;Ea!==0&&(O2()&&(i=Ea),Ea=0);for(var r=bn(),o=null,u=xh;u!==null;){var f=u.next,p=$_(u,r);p===0?(u.next=null,o===null?xh=f:o.next=f,f===null&&(Io=o)):(o=u,(i!==0||(p&3)!==0)&&(wh=!0)),u=f}ou(i)}function $_(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var E=31-He(p),w=1<<E,D=f[E];D===-1?((w&o)===0||(w&u)!==0)&&(f[E]=qr(w,r)):D<=r&&(i.expiredLanes|=w),p&=~w}if(r=ae,o=Ft,o=Ls(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Xi(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||zn(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Xi(u),oi(o)){case 2:case 8:o=js;break;case 32:o=Wi;break;case 268435456:o=Ps;break;default:o=Wi}return u=X_.bind(null,i),o=$i(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Xi(u),i.callbackPriority=2,i.callbackNode=null,2}function X_(i,r){if(tn!==0&&tn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Eh()&&i.callbackNode!==o)return null;var u=Ft;return u=Ls(i,i===ae?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(M_(i,u,r),$_(i,bn()),i.callbackNode!=null&&i.callbackNode===o?X_.bind(null,i):null)}function W_(i,r){if(Eh())return null;M_(i,r,!0)}function C2(){P2(function(){($t&6)!==0?$i(Fr,S2):Q_()})}function Pm(){return Ea===0&&(Ea=Gr()),Ea}function Z_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Xa(""+i)}function J_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function R2(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var p=Z_((f[fe]||null).action),E=u.submitter;E&&(r=(r=E[fe]||null)?Z_(r.formAction):E.getAttribute("formAction"),r!==null&&(p=r,E=null));var w=new Wa("action","action",null,u,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ea!==0){var D=E?J_(f,E):new FormData(f);im(o,{pending:!0,data:D,method:f.method,action:p},null,D)}}else typeof p=="function"&&(w.preventDefault(),D=E?J_(f,E):new FormData(f),im(o,{pending:!0,data:D,method:f.method,action:p},p,D))},currentTarget:f}]})}}for(var Lm=0;Lm<Ed.length;Lm++){var Um=Ed[Lm],I2=Um.toLowerCase(),N2=Um[0].toUpperCase()+Um.slice(1);hi(I2,"on"+N2)}hi(M0,"onAnimationEnd"),hi(V0,"onAnimationIteration"),hi(k0,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(YS,"onTransitionRun"),hi(QS,"onTransitionStart"),hi($S,"onTransitionCancel"),hi(O0,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function tT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var E=u.length-1;0<=E;E--){var w=u[E],D=w.instance,H=w.currentTarget;if(w=w.listener,D!==p&&f.isPropagationStopped())break t;p=w,f.currentTarget=H;try{p(f)}catch(W){hh(W)}f.currentTarget=null,p=D}else for(E=0;E<u.length;E++){if(w=u[E],D=w.instance,H=w.currentTarget,w=w.listener,D!==p&&f.isPropagationStopped())break t;p=w,f.currentTarget=H;try{p(f)}catch(W){hh(W)}f.currentTarget=null,p=D}}}}function jt(i,r){var o=r[li];o===void 0&&(o=r[li]=new Set);var u=i+"__bubble";o.has(u)||(eT(r,i,2,!1),o.add(u))}function Bm(i,r,o){var u=0;r&&(u|=4),eT(o,i,u,r)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function zm(i){if(!i[Ah]){i[Ah]=!0,Tl.forEach(function(o){o!=="selectionchange"&&(D2.has(o)||Bm(o,!1,i),Bm(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Ah]||(r[Ah]=!0,Bm("selectionchange",!1,r))}}function eT(i,r,o,u){switch(AT(r)){case 2:var f=sC;break;case 8:f=rC;break;default:f=ep}o=f.bind(null,r,o,i),f=void 0,!Gn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function Fm(i,r,o,u,f){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var w=u.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=u.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=ts(w),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){u=p=E;continue t}w=w.parentNode}}u=u.return}Cc(function(){var H=p,W=qn(o),it=[];t:{var G=j0.get(i);if(G!==void 0){var Y=Wa,At=i;switch(i){case"keypress":if(Si(o)===0)break t;case"keydown":case"keyup":Y=io;break;case"focusin":At="focus",Y=to;break;case"focusout":At="blur",Y=to;break;case"beforeblur":case"afterblur":Y=to;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=md;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Oc;break;case M0:case V0:case k0:Y=eo;break;case O0:Y=Pc;break;case"scroll":case"scrollend":Y=Rc;break;case"wheel":Y=so;break;case"copy":case"cut":case"paste":Y=no;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Ml;break;case"toggle":case"beforetoggle":Y=Uc}var Tt=(r&4)!==0,ie=!Tt&&(i==="scroll"||i==="scrollend"),U=Tt?G!==null?G+"Capture":null:G;Tt=[];for(var O=H,F;O!==null;){var tt=O;if(F=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||F===null||U===null||(tt=ea(O,U),tt!=null&&Tt.push(uu(O,tt,F))),ie)break;O=O.return}0<Tt.length&&(G=new Y(G,At,null,o,W),it.push({event:G,listeners:Tt}))}}if((r&7)===0){t:{if(G=i==="mouseover"||i==="pointerover",Y=i==="mouseout"||i==="pointerout",G&&o!==ss&&(At=o.relatedTarget||o.fromElement)&&(ts(At)||At[Ie]))break t;if((Y||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(At=o.relatedTarget||o.toElement,Y=H,At=At?ts(At):null,At!==null&&(ie=l(At),Tt=At.tag,At!==ie||Tt!==5&&Tt!==27&&Tt!==6)&&(At=null)):(Y=null,At=H),Y!==At)){if(Tt=Kn,tt="onMouseLeave",U="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(Tt=Ml,tt="onPointerLeave",U="onPointerEnter",O="pointer"),ie=Y==null?G:Ei(Y),F=At==null?G:Ei(At),G=new Tt(tt,O+"leave",Y,o,W),G.target=ie,G.relatedTarget=F,tt=null,ts(W)===H&&(Tt=new Tt(U,O+"enter",At,o,W),Tt.target=F,Tt.relatedTarget=ie,tt=Tt),ie=tt,Y&&At)e:{for(Tt=Y,U=At,O=0,F=Tt;F;F=No(F))O++;for(F=0,tt=U;tt;tt=No(tt))F++;for(;0<O-F;)Tt=No(Tt),O--;for(;0<F-O;)U=No(U),F--;for(;O--;){if(Tt===U||U!==null&&Tt===U.alternate)break e;Tt=No(Tt),U=No(U)}Tt=null}else Tt=null;Y!==null&&nT(it,G,Y,Tt,!1),At!==null&&ie!==null&&nT(it,ie,At,Tt,!0)}}t:{if(G=H?Ei(H):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var pt=b0;else if(Le(G))if(E0)pt=qS;else{pt=FS;var Vt=zS}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Al(H.elementType)&&(pt=b0):pt=HS;if(pt&&(pt=pt(i,H))){us(it,pt,o,W);break t}Vt&&Vt(i,G,H),i==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Fs(G,"number",G.value)}switch(Vt=H?Ei(H):window,i){case"focusin":(Le(Vt)||Vt.contentEditable==="true")&&(ro=Vt,_d=H,Ol=null);break;case"focusout":Ol=_d=ro=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,N0(it,o,W);break;case"selectionchange":if(KS)break;case"keydown":case"keyup":N0(it,o,W)}var yt;if(Ii)t:{switch(i){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else Bt?Q(i,o)&&(bt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(bt="onCompositionStart");bt&&(b&&o.locale!=="ko"&&(Bt||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Bt&&(yt=Cl()):(Ai=W,Hs="value"in Ai?Ai.value:Ai.textContent,Bt=!0)),Vt=Sh(H,bt),0<Vt.length&&(bt=new Nl(bt,i,null,o,W),it.push({event:bt,listeners:Vt}),yt?bt.data=yt:(yt=ct(o),yt!==null&&(bt.data=yt)))),(yt=_?Pe(i,o):zt(i,o))&&(bt=Sh(H,"onBeforeInput"),0<bt.length&&(Vt=new Nl("onBeforeInput","beforeinput",null,o,W),it.push({event:Vt,listeners:bt}),Vt.data=yt)),R2(it,i,H,o,W)}tT(it,r)})}function uu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Sh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=ea(i,o),f!=null&&u.unshift(uu(i,f,p)),f=ea(i,r),f!=null&&u.push(uu(i,f,p))),i.tag===3)return u;i=i.return}return[]}function No(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function nT(i,r,o,u,f){for(var p=r._reactName,E=[];o!==null&&o!==u;){var w=o,D=w.alternate,H=w.stateNode;if(w=w.tag,D!==null&&D===u)break;w!==5&&w!==26&&w!==27||H===null||(D=H,f?(H=ea(o,p),H!=null&&E.unshift(uu(o,H,D))):f||(H=ea(o,p),H!=null&&E.push(uu(o,H,D)))),o=o.return}E.length!==0&&i.push({event:r,listeners:E})}var M2=/\r\n?/g,V2=/\u0000|\uFFFD/g;function iT(i){return(typeof i=="string"?i:""+i).replace(M2,`
`).replace(V2,"")}function sT(i,r){return r=iT(r),iT(i)===r}function Ch(){}function ne(i,r,o,u,f,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Hn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Hn(i,""+u);break;case"className":xi(i,"class",u);break;case"tabIndex":xi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":xi(i,o,u);break;case"style":wl(i,u,p);break;case"data":if(r!=="object"){xi(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Xa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&ne(i,r,"name",f.name,f,null),ne(i,r,"formEncType",f.formEncType,f,null),ne(i,r,"formMethod",f.formMethod,f,null),ne(i,r,"formTarget",f.formTarget,f,null)):(ne(i,r,"encType",f.encType,f,null),ne(i,r,"method",f.method,f,null),ne(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Xa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Ch);break;case"onScroll":u!=null&&jt("scroll",i);break;case"onScrollEnd":u!=null&&jt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Xa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":jt("beforetoggle",i),jt("toggle",i),zs(i,"popover",u);break;case"xlinkActuate":We(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":We(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":We(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":We(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":We(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":We(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":We(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":We(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":We(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":zs(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=fd.get(o)||o,zs(i,o,u))}}function Hm(i,r,o,u,f,p){switch(o){case"style":wl(i,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Hn(i,u):(typeof u=="number"||typeof u=="bigint")&&Hn(i,""+u);break;case"onScroll":u!=null&&jt("scroll",i);break;case"onScrollEnd":u!=null&&jt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Ch);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ga.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[fe]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):zs(i,o,u)}}}function en(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",i),jt("load",i);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ne(i,r,p,E,o,null)}}f&&ne(i,r,"srcSet",o.srcSet,o,null),u&&ne(i,r,"src",o.src,o,null);return;case"input":jt("invalid",i);var w=p=E=f=null,D=null,H=null;for(u in o)if(o.hasOwnProperty(u)){var W=o[u];if(W!=null)switch(u){case"name":f=W;break;case"type":E=W;break;case"checked":D=W;break;case"defaultChecked":H=W;break;case"value":p=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:ne(i,r,u,W,o,null)}}Zr(i,p,w,D,H,E,f,!1),$a(i);return;case"select":jt("invalid",i),u=E=p=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":p=w;break;case"defaultValue":E=w;break;case"multiple":u=w;default:ne(i,r,f,w,o,null)}r=p,o=E,i.multiple=!!u,r!=null?is(i,!!u,r,!1):o!=null&&is(i,!!u,o,!0);return;case"textarea":jt("invalid",i),p=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(w=o[E],w!=null))switch(E){case"value":u=w;break;case"defaultValue":f=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:ne(i,r,E,w,o,null)}Jr(i,u,f,p),$a(i);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ne(i,r,D,u,o,null)}return;case"dialog":jt("beforetoggle",i),jt("toggle",i),jt("cancel",i),jt("close",i);break;case"iframe":case"object":jt("load",i);break;case"video":case"audio":for(u=0;u<lu.length;u++)jt(lu[u],i);break;case"image":jt("error",i),jt("load",i);break;case"details":jt("toggle",i);break;case"embed":case"source":case"link":jt("error",i),jt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ne(i,r,H,u,o,null)}return;default:if(Al(r)){for(W in o)o.hasOwnProperty(W)&&(u=o[W],u!==void 0&&Hm(i,r,W,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&ne(i,r,w,u,o,null))}function k2(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,w=null,D=null,H=null,W=null;for(Y in o){var it=o[Y];if(o.hasOwnProperty(Y)&&it!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=it;default:u.hasOwnProperty(Y)||ne(i,r,Y,null,u,it)}}for(var G in u){var Y=u[G];if(it=o[G],u.hasOwnProperty(G)&&(Y!=null||it!=null))switch(G){case"type":p=Y;break;case"name":f=Y;break;case"checked":H=Y;break;case"defaultChecked":W=Y;break;case"value":E=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==it&&ne(i,r,G,Y,u,it)}}Dn(i,E,w,D,H,W,p,f);return;case"select":Y=E=w=G=null;for(p in o)if(D=o[p],o.hasOwnProperty(p)&&D!=null)switch(p){case"value":break;case"multiple":Y=D;default:u.hasOwnProperty(p)||ne(i,r,p,null,u,D)}for(f in u)if(p=u[f],D=o[f],u.hasOwnProperty(f)&&(p!=null||D!=null))switch(f){case"value":G=p;break;case"defaultValue":w=p;break;case"multiple":E=p;default:p!==D&&ne(i,r,f,p,u,D)}r=w,o=E,u=Y,G!=null?is(i,!!o,G,!1):!!u!=!!o&&(r!=null?is(i,!!o,r,!0):is(i,!!o,o?[]:"",!1));return;case"textarea":Y=G=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ne(i,r,w,null,u,f)}for(E in u)if(f=u[E],p=o[E],u.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":G=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&ne(i,r,E,f,u,p)}te(i,G,Y);return;case"option":for(var At in o)if(G=o[At],o.hasOwnProperty(At)&&G!=null&&!u.hasOwnProperty(At))switch(At){case"selected":i.selected=!1;break;default:ne(i,r,At,null,u,G)}for(D in u)if(G=u[D],Y=o[D],u.hasOwnProperty(D)&&G!==Y&&(G!=null||Y!=null))switch(D){case"selected":i.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ne(i,r,D,G,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in o)G=o[Tt],o.hasOwnProperty(Tt)&&G!=null&&!u.hasOwnProperty(Tt)&&ne(i,r,Tt,null,u,G);for(H in u)if(G=u[H],Y=o[H],u.hasOwnProperty(H)&&G!==Y&&(G!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:ne(i,r,H,G,u,Y)}return;default:if(Al(r)){for(var ie in o)G=o[ie],o.hasOwnProperty(ie)&&G!==void 0&&!u.hasOwnProperty(ie)&&Hm(i,r,ie,void 0,u,G);for(W in u)G=u[W],Y=o[W],!u.hasOwnProperty(W)||G===Y||G===void 0&&Y===void 0||Hm(i,r,W,G,u,Y);return}}for(var U in o)G=o[U],o.hasOwnProperty(U)&&G!=null&&!u.hasOwnProperty(U)&&ne(i,r,U,null,u,G);for(it in u)G=u[it],Y=o[it],!u.hasOwnProperty(it)||G===Y||G==null&&Y==null||ne(i,r,it,G,u,Y)}var qm=null,Gm=null;function Rh(i){return i.nodeType===9?i:i.ownerDocument}function rT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Km(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ym=null;function O2(){var i=window.event;return i&&i.type==="popstate"?i===Ym?!1:(Ym=i,!0):(Ym=null,!1)}var oT=typeof setTimeout=="function"?setTimeout:void 0,j2=typeof clearTimeout=="function"?clearTimeout:void 0,lT=typeof Promise=="function"?Promise:void 0,P2=typeof queueMicrotask=="function"?queueMicrotask:typeof lT<"u"?function(i){return lT.resolve(null).then(i).catch(L2)}:oT;function L2(i){setTimeout(function(){throw i})}function rr(i){return i==="head"}function uT(i,r){var o=r,u=0,f=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var E=i.ownerDocument;if(o&1&&cu(E.documentElement),o&2&&cu(E.body),o&4)for(o=E.head,cu(o),E=o.firstChild;E;){var w=E.nextSibling,D=E.nodeName;E[Qr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=w}}if(f===0){i.removeChild(p),vu(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);vu(r)}function Qm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Qm(o),Bs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function U2(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Qr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=di(i.nextSibling),i===null)break}return null}function B2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=di(i.nextSibling),i===null))return null;return i}function $m(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function z2(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function di(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Xm=null;function cT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function hT(i,r,o){switch(r=Rh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function cu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Bs(i)}var Jn=new Map,fT=new Set;function Ih(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Es=ot.d;ot.d={f:F2,r:H2,D:q2,C:G2,L:K2,m:Y2,X:$2,S:Q2,M:X2};function F2(){var i=Es.f(),r=Th();return i||r}function H2(i){var r=bi(i);r!==null&&r.tag===5&&r.type==="form"?Mv(r):Es.r(i)}var Do=typeof document>"u"?null:document;function dT(i,r,o){var u=Do;if(u&&typeof r=="string"&&r){var f=Ne(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),fT.has(f)||(fT.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),en(r,"link",i),Ee(r),u.head.appendChild(r)))}}function q2(i){Es.D(i),dT("dns-prefetch",i,null)}function G2(i,r){Es.C(i,r),dT("preconnect",i,r)}function K2(i,r,o){Es.L(i,r,o);var u=Do;if(u&&i&&r){var f='link[rel="preload"][as="'+Ne(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ne(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ne(o.imageSizes)+'"]')):f+='[href="'+Ne(i)+'"]';var p=f;switch(r){case"style":p=Mo(i);break;case"script":p=Vo(i)}Jn.has(p)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Jn.set(p,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(hu(p))||r==="script"&&u.querySelector(fu(p))||(r=u.createElement("link"),en(r,"link",i),Ee(r),u.head.appendChild(r)))}}function Y2(i,r){Es.m(i,r);var o=Do;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Ne(u)+'"][href="'+Ne(i)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Vo(i)}if(!Jn.has(p)&&(i=v({rel:"modulepreload",href:i},r),Jn.set(p,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(fu(p)))return}u=o.createElement("link"),en(u,"link",i),Ee(u),o.head.appendChild(u)}}}function Q2(i,r,o){Es.S(i,r,o);var u=Do;if(u&&i){var f=pn(u).hoistableStyles,p=Mo(i);r=r||"default";var E=f.get(p);if(!E){var w={loading:0,preload:null};if(E=u.querySelector(hu(p)))w.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Jn.get(p))&&Wm(i,o);var D=E=u.createElement("link");Ee(D),en(D,"link",i),D._p=new Promise(function(H,W){D.onload=H,D.onerror=W}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Nh(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(p,E)}}}function $2(i,r){Es.X(i,r);var o=Do;if(o&&i){var u=pn(o).hoistableScripts,f=Vo(i),p=u.get(f);p||(p=o.querySelector(fu(f)),p||(i=v({src:i,async:!0},r),(r=Jn.get(f))&&Zm(i,r),p=o.createElement("script"),Ee(p),en(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function X2(i,r){Es.M(i,r);var o=Do;if(o&&i){var u=pn(o).hoistableScripts,f=Vo(i),p=u.get(f);p||(p=o.querySelector(fu(f)),p||(i=v({src:i,async:!0,type:"module"},r),(r=Jn.get(f))&&Zm(i,r),p=o.createElement("script"),Ee(p),en(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function mT(i,r,o,u){var f=(f=xt.current)?Ih(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Mo(o.href),o=pn(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Mo(o.href);var p=pn(f).hoistableStyles,E=p.get(i);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,E),(p=f.querySelector(hu(i)))&&!p._p&&(E.instance=p,E.state.loading=5),Jn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Jn.set(i,o),p||W2(f,i,o,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Vo(o),o=pn(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Mo(i){return'href="'+Ne(i)+'"'}function hu(i){return'link[rel="stylesheet"]['+i+"]"}function pT(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function W2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),en(r,"link",o),Ee(r),i.head.appendChild(r))}function Vo(i){return'[src="'+Ne(i)+'"]'}function fu(i){return"script[async]"+i}function gT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Ne(o.href)+'"]');if(u)return r.instance=u,Ee(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ee(u),en(u,"style",f),Nh(u,o.precedence,i),r.instance=u;case"stylesheet":f=Mo(o.href);var p=i.querySelector(hu(f));if(p)return r.state.loading|=4,r.instance=p,Ee(p),p;u=pT(o),(f=Jn.get(f))&&Wm(u,f),p=(i.ownerDocument||i).createElement("link"),Ee(p);var E=p;return E._p=new Promise(function(w,D){E.onload=w,E.onerror=D}),en(p,"link",u),r.state.loading|=4,Nh(p,o.precedence,i),r.instance=p;case"script":return p=Vo(o.src),(f=i.querySelector(fu(p)))?(r.instance=f,Ee(f),f):(u=o,(f=Jn.get(p))&&(u=v({},o),Zm(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ee(f),en(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Nh(u,o.precedence,i));return r.instance}function Nh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,E=0;E<u.length;E++){var w=u[E];if(w.dataset.precedence===r)p=w;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Wm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Zm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Dh=null;function yT(i,r,o){if(Dh===null){var u=new Map,f=Dh=new Map;f.set(o,u)}else f=Dh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[Qr]||p[pe]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(r)||"";E=i+E;var w=u.get(E);w?w.push(p):u.set(E,[p])}}return u}function vT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function Z2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function _T(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var du=null;function J2(){}function tC(i,r,o){if(du===null)throw Error(s(475));var u=du;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Mo(o.href),p=i.querySelector(hu(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Mh.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=p,Ee(p);return}p=i.ownerDocument||i,o=pT(o),(f=Jn.get(f))&&Wm(o,f),p=p.createElement("link"),Ee(p);var E=p;E._p=new Promise(function(w,D){E.onload=w,E.onerror=D}),en(p,"link",o),r.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Mh.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function eC(){if(du===null)throw Error(s(475));var i=du;return i.stylesheets&&i.count===0&&Jm(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Jm(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Mh(){if(this.count--,this.count===0){if(this.stylesheets)Jm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Vh=null;function Jm(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Vh=new Map,r.forEach(nC,i),Vh=null,Mh.call(i))}function nC(i,r){if(!(r.state.loading&4)){var o=Vh.get(i);if(o)var u=o.get(null);else{o=new Map,Vh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=r.instance,E=f.getAttribute("data-precedence"),p=o.get(E)||u,p===u&&o.set(null,f),o.set(E,f),this.count++,u=Mh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var mu={$$typeof:B,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function iC(i,r,o,u,f,p,E,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function TT(i,r,o,u,f,p,E,w,D,H,W,it){return i=new iC(i,r,o,E,w,D,H,it),r=1,p===!0&&(r|=24),p=Vn(3,null,null,r),i.current=p,p.stateNode=i,r=kd(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},Ld(p),i}function bT(i){return i?(i=uo,i):uo}function ET(i,r,o,u,f,p){f=bT(f),u.context===null?u.context=f:u.pendingContext=f,u=Ks(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Ys(i,u,r),o!==null&&(Ln(o,i,r),ql(o,i,r))}function xT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function tp(i,r){xT(i,r),(i=i.alternate)&&xT(i,r)}function wT(i){if(i.tag===13){var r=lo(i,67108864);r!==null&&Ln(r,i,67108864),tp(i,67108864)}}var kh=!0;function sC(i,r,o,u){var f=$.T;$.T=null;var p=ot.p;try{ot.p=2,ep(i,r,o,u)}finally{ot.p=p,$.T=f}}function rC(i,r,o,u){var f=$.T;$.T=null;var p=ot.p;try{ot.p=8,ep(i,r,o,u)}finally{ot.p=p,$.T=f}}function ep(i,r,o,u){if(kh){var f=np(u);if(f===null)Fm(i,r,u,Oh,o),ST(i,u);else if(oC(f,i,r,o,u))u.stopPropagation();else if(ST(i,u),r&4&&-1<aC.indexOf(i)){for(;f!==null;){var p=bi(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=In(p.pendingLanes);if(E!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var D=1<<31-He(E);w.entanglements[1]|=D,E&=~D}Oi(p),($t&6)===0&&(vh=bn()+500,ou(0))}}break;case 13:w=lo(p,2),w!==null&&Ln(w,p,2),Th(),tp(p,2)}if(p=np(u),p===null&&Fm(i,r,u,Oh,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else Fm(i,r,u,null,o)}}function np(i){return i=qn(i),ip(i)}var Oh=null;function ip(i){if(Oh=null,i=ts(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Oh=i,null}function AT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vl()){case Fr:return 2;case js:return 8;case Wi:case _l:return 32;case Ps:return 268435456;default:return 32}default:return 32}}var sp=!1,ar=null,or=null,lr=null,pu=new Map,gu=new Map,ur=[],aC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ST(i,r){switch(i){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":pu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":gu.delete(r.pointerId)}}function yu(i,r,o,u,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},r!==null&&(r=bi(r),r!==null&&wT(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function oC(i,r,o,u,f){switch(r){case"focusin":return ar=yu(ar,i,r,o,u,f),!0;case"dragenter":return or=yu(or,i,r,o,u,f),!0;case"mouseover":return lr=yu(lr,i,r,o,u,f),!0;case"pointerover":var p=f.pointerId;return pu.set(p,yu(pu.get(p)||null,i,r,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,gu.set(p,yu(gu.get(p)||null,i,r,o,u,f)),!0}return!1}function CT(i){var r=ts(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,qe(i.priority,function(){if(o.tag===13){var u=Pn();u=he(u);var f=lo(o,u);f!==null&&Ln(f,o,u),tp(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function jh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=np(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);ss=u,o.target.dispatchEvent(u),ss=null}else return r=bi(o),r!==null&&wT(r),i.blockedOn=o,!1;r.shift()}return!0}function RT(i,r,o){jh(i)&&o.delete(r)}function lC(){sp=!1,ar!==null&&jh(ar)&&(ar=null),or!==null&&jh(or)&&(or=null),lr!==null&&jh(lr)&&(lr=null),pu.forEach(RT),gu.forEach(RT)}function Ph(i,r){i.blockedOn===r&&(i.blockedOn=null,sp||(sp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lC)))}var Lh=null;function IT(i){Lh!==i&&(Lh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Lh===i&&(Lh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(ip(u||o)===null)continue;break}var p=bi(o);p!==null&&(i.splice(r,3),r-=3,im(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function vu(i){function r(D){return Ph(D,i)}ar!==null&&Ph(ar,i),or!==null&&Ph(or,i),lr!==null&&Ph(lr,i),pu.forEach(r),gu.forEach(r);for(var o=0;o<ur.length;o++){var u=ur[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ur.length&&(o=ur[0],o.blockedOn===null);)CT(o),o.blockedOn===null&&ur.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],E=f[fe]||null;if(typeof p=="function")E||IT(o);else if(E){var w=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[fe]||null)w=E.formAction;else if(ip(f)!==null)continue}else w=E.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),IT(o)}}}function rp(i){this._internalRoot=i}Uh.prototype.render=rp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Pn();ET(o,u,i,r,null,null)},Uh.prototype.unmount=rp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;ET(i.current,2,null,i,null,null),Th(),r[Ie]=null}};function Uh(i){this._internalRoot=i}Uh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Fn();i={blockedOn:null,target:i,priority:r};for(var o=0;o<ur.length&&r!==0&&r<ur[o].priority;o++);ur.splice(o,0,i),o===0&&CT(i)}};var NT=t.version;if(NT!=="19.1.1")throw Error(s(527,NT,"19.1.1"));ot.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var uC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{ce=Bh.inject(uC),Gt=Bh}catch{}}return Tu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=Kv,p=Yv,E=Qv,w=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=TT(i,1,!1,null,null,o,u,f,p,E,w,null),i[Ie]=r.current,zm(i),new rp(r)},Tu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",p=Kv,E=Yv,w=Qv,D=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),r=TT(i,1,!0,r,o??null,u,f,p,E,w,D,H),r.context=bT(null),o=r.current,u=Pn(),u=he(u),f=Ks(u),f.callback=null,Ys(o,f,u),o=u,r.current.lanes=o,Nn(r,o),Oi(r),i[Ie]=r.current,zm(i),new Uh(r)},Tu.version="19.1.1",Tu}var BT;function TC(){if(BT)return lp.exports;BT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lp.exports=_C(),lp.exports}var bC=TC();const EC=()=>{};var zT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},xC=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},Vx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,g=m?e[a+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let x=(d&15)<<2|g>>6,C=g&63;m||(C=64,c||(x=64)),s.push(n[v],n[T],n[x],n[C])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Mx(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):xC(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const g=a<e.length?n[e.charAt(a)]:64;++a;const T=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||g==null||T==null)throw new wC;const x=l<<2|d>>4;if(s.push(x),g!==64){const C=d<<4&240|g>>2;if(s.push(C),T!==64){const R=g<<6&192|T;s.push(R)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class wC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AC=function(e){const t=Mx(e);return Vx.encodeByteArray(t,!0)},pf=function(e){return AC(e).replace(/\./g,"")},kx=function(e){try{return Vx.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=()=>SC().__FIREBASE_DEFAULTS__,RC=()=>{if(typeof process>"u"||typeof zT>"u")return;const e=zT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},IC=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&kx(e[1]);return t&&JSON.parse(t)},Uf=()=>{try{return EC()||CC()||RC()||IC()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ox=e=>Uf()?.emulatorHosts?.[e],NC=e=>{const t=Ox(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},jx=()=>Uf()?.config,Px=e=>Uf()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lx(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[pf(JSON.stringify(n)),pf(JSON.stringify(c)),""].join(".")}const Ru={};function VC(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ru))Ru[t]?e.emulator.push(t):e.prod.push(t);return e}function kC(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let FT=!1;function Ux(e,t){if(typeof window>"u"||typeof document>"u"||!ol(window.location.host)||Ru[e]===t||Ru[e]||FT)return;Ru[e]=t;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",l=VC().prod.length>0;function c(){const x=document.getElementById(s);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function m(x,C){x.setAttribute("width","24"),x.setAttribute("id",C),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{FT=!0,c()},x}function v(x,C){x.setAttribute("id",C),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function T(){const x=kC(s),C=n("text"),R=document.getElementById(C)||document.createElement("span"),L=n("learnmore"),q=document.getElementById(L)||document.createElement("a"),Z=n("preprendIcon"),J=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const B=x.element;d(B),v(q,L);const lt=g();m(J,Z),B.append(J,R,q,lt),document.body.appendChild(B)}l?(R.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function jC(){const e=Uf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LC(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function UC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BC(){const e=mn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function zC(){return!jC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FC(){try{return typeof indexedDB=="object"}catch{return!1}}function HC(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="FirebaseError";class Os extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=qC,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?GC(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Os(a,d,s)}}function GC(e,t){return e.replace(KC,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const KC=/\{\$([^}]+)}/g;function YC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ka(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(HT(l)&&HT(c)){if(!ka(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function HT(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function QC(e,t){const n=new $C(e,t);return n.subscribe.bind(n)}class $C{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");XC(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=fp),a.error===void 0&&(a.error=fp),a.complete===void 0&&(a.complete=fp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XC(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function fp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(e){return e&&e._delegate?e._delegate:e}class Oa{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new DC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(JC(t))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=Aa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Aa){return this.instances.has(t)}getOptions(t=Aa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ZC(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Aa){return this.component?this.component.multipleInstances?t:Aa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZC(e){return e===Aa?void 0:e}function JC(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new WC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Pt||(Pt={}));const eR={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},nR=Pt.INFO,iR={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},sR=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=iR[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zg{constructor(t){this.name=t,this._logLevel=nR,this._logHandler=sR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?eR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const rR=(e,t)=>t.some(n=>e instanceof n);let qT,GT;function aR(){return qT||(qT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oR(){return GT||(GT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bx=new WeakMap,Gp=new WeakMap,zx=new WeakMap,dp=new WeakMap,Fg=new WeakMap;function lR(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(Tr(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&Bx.set(n,e)}).catch(()=>{}),Fg.set(t,e),t}function uR(e){if(Gp.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});Gp.set(e,t)}let Kp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Gp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||zx.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function cR(e){Kp=e(Kp)}function hR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(mp(this),t,...n);return zx.set(s,t.sort?t.sort():[t]),Tr(s)}:oR().includes(e)?function(...t){return e.apply(mp(this),t),Tr(Bx.get(this))}:function(...t){return Tr(e.apply(mp(this),t))}}function fR(e){return typeof e=="function"?hR(e):(e instanceof IDBTransaction&&uR(e),rR(e,aR())?new Proxy(e,Kp):e)}function Tr(e){if(e instanceof IDBRequest)return lR(e);if(dp.has(e))return dp.get(e);const t=fR(e);return t!==e&&(dp.set(e,t),Fg.set(t,e)),t}const mp=e=>Fg.get(e);function dR(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=Tr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Tr(c.result),m.oldVersion,m.newVersion,Tr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const mR=["get","getKey","getAll","getAllKeys","count"],pR=["put","add","delete","clear"],pp=new Map;function KT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(pp.get(t))return pp.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=pR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||mR.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&m.done]))[0]};return pp.set(t,l),l}cR(e=>({...e,get:(t,n,s)=>KT(t,n)||e.get(t,n,s),has:(t,n)=>!!KT(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function yR(e){return e.getComponent()?.type==="VERSION"}const Yp="@firebase/app",YT="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new zg("@firebase/app"),vR="@firebase/app-compat",_R="@firebase/analytics-compat",TR="@firebase/analytics",bR="@firebase/app-check-compat",ER="@firebase/app-check",xR="@firebase/auth",wR="@firebase/auth-compat",AR="@firebase/database",SR="@firebase/data-connect",CR="@firebase/database-compat",RR="@firebase/functions",IR="@firebase/functions-compat",NR="@firebase/installations",DR="@firebase/installations-compat",MR="@firebase/messaging",VR="@firebase/messaging-compat",kR="@firebase/performance",OR="@firebase/performance-compat",jR="@firebase/remote-config",PR="@firebase/remote-config-compat",LR="@firebase/storage",UR="@firebase/storage-compat",BR="@firebase/firestore",zR="@firebase/ai",FR="@firebase/firestore-compat",HR="firebase",qR="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="[DEFAULT]",GR={[Yp]:"fire-core",[vR]:"fire-core-compat",[TR]:"fire-analytics",[_R]:"fire-analytics-compat",[ER]:"fire-app-check",[bR]:"fire-app-check-compat",[xR]:"fire-auth",[wR]:"fire-auth-compat",[AR]:"fire-rtdb",[SR]:"fire-data-connect",[CR]:"fire-rtdb-compat",[RR]:"fire-fn",[IR]:"fire-fn-compat",[NR]:"fire-iid",[DR]:"fire-iid-compat",[MR]:"fire-fcm",[VR]:"fire-fcm-compat",[kR]:"fire-perf",[OR]:"fire-perf-compat",[jR]:"fire-rc",[PR]:"fire-rc-compat",[LR]:"fire-gcs",[UR]:"fire-gcs-compat",[BR]:"fire-fst",[FR]:"fire-fst-compat",[zR]:"fire-vertex","fire-js":"fire-js",[HR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new Map,KR=new Map,$p=new Map;function QT(e,t){try{e.container.addComponent(t)}catch(n){Ss.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Wo(e){const t=e.name;if($p.has(t))return Ss.debug(`There were multiple attempts to register component ${t}.`),!1;$p.set(t,e);for(const n of gf.values())QT(n,e);for(const n of KR.values())QT(n,e);return!0}function Hg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ii(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new ec("app","Firebase",YR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=qR;function Fx(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Qp,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw br.create("bad-app-name",{appName:String(a)});if(n||(n=jx()),!n)throw br.create("no-options");const l=gf.get(a);if(l){if(ka(n,l.options)&&ka(s,l.config))return l;throw br.create("duplicate-app",{appName:a})}const c=new tR(a);for(const m of $p.values())c.addComponent(m);const d=new QR(n,s,c);return gf.set(a,d),d}function Hx(e=Qp){const t=gf.get(e);if(!t&&e===Qp&&jx())return Fx();if(!t)throw br.create("no-app",{appName:e});return t}function Er(e,t,n){let s=GR[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ss.warn(c.join(" "));return}Wo(new Oa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="firebase-heartbeat-database",XR=1,Uu="firebase-heartbeat-store";let gp=null;function qx(){return gp||(gp=dR($R,XR,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Uu)}catch(n){console.warn(n)}}}}).catch(e=>{throw br.create("idb-open",{originalErrorMessage:e.message})})),gp}async function WR(e){try{const n=(await qx()).transaction(Uu),s=await n.objectStore(Uu).get(Gx(e));return await n.done,s}catch(t){if(t instanceof Os)Ss.warn(t.message);else{const n=br.create("idb-get",{originalErrorMessage:t?.message});Ss.warn(n.message)}}}async function $T(e,t){try{const s=(await qx()).transaction(Uu,"readwrite");await s.objectStore(Uu).put(t,Gx(e)),await s.done}catch(n){if(n instanceof Os)Ss.warn(n.message);else{const s=br.create("idb-set",{originalErrorMessage:n?.message});Ss.warn(s.message)}}}function Gx(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=1024,JR=30;class tI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=XT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>JR){const a=iI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ss.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=XT(),{heartbeatsToSend:n,unsentEntries:s}=eI(this._heartbeatsCache.heartbeats),a=pf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ss.warn(t),""}}}function XT(){return new Date().toISOString().substring(0,10)}function eI(e,t=ZR){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),WT(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),WT(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class nI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FC()?HC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return $T(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return $T(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function WT(e){return pf(JSON.stringify({version:2,heartbeats:e})).length}function iI(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(e){Wo(new Oa("platform-logger",t=>new gR(t),"PRIVATE")),Wo(new Oa("heartbeat",t=>new tI(t),"PRIVATE")),Er(Yp,YT,e),Er(Yp,YT,"esm2020"),Er("fire-js","")}sI("");var rI="firebase",aI="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(rI,aI,"app");function Kx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oI=Kx,Yx=new ec("auth","Firebase",Kx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new zg("@firebase/auth");function lI(e,...t){yf.logLevel<=Pt.WARN&&yf.warn(`Auth (${ll}): ${e}`,...t)}function Jh(e,...t){yf.logLevel<=Pt.ERROR&&yf.error(`Auth (${ll}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(e,...t){throw qg(e,...t)}function Li(e,...t){return qg(e,...t)}function Qx(e,t,n){const s={...oI(),[t]:n};return new ec("auth","Firebase",s).create(t,{appName:e.name})}function As(e){return Qx(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qg(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return Yx.create(e,...t)}function Ct(e,t,...n){if(!e)throw qg(t,...n)}function xs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Jh(t),new Error(t)}function Rs(e,t){e||xs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(){return typeof self<"u"&&self.location?.href||""}function uI(){return ZT()==="http:"||ZT()==="https:"}function ZT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uI()||LC()||"connection"in navigator)?navigator.onLine:!0}function hI(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,n){this.shortDelay=t,this.longDelay=n,Rs(n>t,"Short delay should be less than long delay!"),this.isMobile=OC()||UC()}get(){return cI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(e,t){Rs(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mI=new ic(3e4,6e4);function sc(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function ul(e,t,n,s,a={}){return Xx(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=nc({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:m,...l};return PC()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&ol(e.emulatorConfig.host)&&(g.credentials="include"),$x.fetch()(await Wx(e,e.config.apiHost,n,d),g)})}async function Xx(e,t,n){e._canInitEmulator=!1;const s={...fI,...t};try{const a=new pI(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw zh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw zh(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw zh(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw zh(e,"user-disabled",c);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Qx(e,v,g);Cs(e,v)}}catch(a){if(a instanceof Os)throw a;Cs(e,"network-request-failed",{message:String(a)})}}async function Kg(e,t,n,s,a={}){const l=await ul(e,t,n,s,a);return"mfaPendingCredential"in l&&Cs(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function Wx(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?Gg(e.config,a):`${e.config.apiScheme}://${a}`;return dI.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class pI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Li(this.auth,"network-request-failed")),mI.get())})}}function zh(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Li(e,t,s);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(e,t){return ul(e,"POST","/v1/accounts:delete",t)}async function vf(e,t){return ul(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yI(e,t=!1){const n=Fe(e),s=await n.getIdToken(t),a=Yg(s);Ct(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Iu(yp(a.auth_time)),issuedAtTime:Iu(yp(a.iat)),expirationTime:Iu(yp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function yp(e){return Number(e)*1e3}function Yg(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const a=kx(n);return a?JSON.parse(a):(Jh("Failed to decode base64 JWT payload"),null)}catch(a){return Jh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function JT(e){const t=Yg(e);return Ct(t,"internal-error"),Ct(typeof t.exp<"u","internal-error"),Ct(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Os&&vI(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function vI({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iu(this.lastLoginAt),this.creationTime=Iu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _f(e){const t=e.auth,n=await e.getIdToken(),s=await Bu(e,vf(t,{idToken:n}));Ct(s?.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?Zx(a.providerUserInfo):[],c=bI(e.providerData,l),d=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!c?.length,g=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Wp(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(e,v)}async function TI(e){const t=Fe(e);await _f(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function bI(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function Zx(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(e,t){const n=await Xx(e,{},async()=>{const s=nc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await Wx(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return e.emulatorConfig&&ol(e.emulatorConfig.host)&&(m.credentials="include"),$x.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xI(e,t){return ul(e,"POST","/v2/accounts:revokeToken",sc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ct(t.idToken,"internal-error"),Ct(typeof t.idToken<"u","internal-error"),Ct(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):JT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ct(t.length!==0,"internal-error");const n=JT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await EI(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Go;return s&&(Ct(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(Ct(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Ct(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(e,t){Ct(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class pi{constructor({uid:t,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new _I(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Wp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await Bu(this,this.stsTokenManager.getToken(this.auth,t));return Ct(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return yI(this,t)}reload(){return TI(this)}_assign(t){this!==t&&(Ct(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new pi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await _f(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(As(this.auth));const t=await this.getIdToken();return await Bu(this,gI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:T,emailVerified:x,isAnonymous:C,providerData:R,stsTokenManager:L}=n;Ct(T&&L,t,"internal-error");const q=Go.fromJSON(this.name,L);Ct(typeof T=="string",t,"internal-error"),hr(s,t.name),hr(a,t.name),Ct(typeof x=="boolean",t,"internal-error"),Ct(typeof C=="boolean",t,"internal-error"),hr(l,t.name),hr(c,t.name),hr(d,t.name),hr(m,t.name),hr(g,t.name),hr(v,t.name);const Z=new pi({uid:T,auth:t,email:a,emailVerified:x,displayName:s,isAnonymous:C,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:q,createdAt:g,lastLoginAt:v});return R&&Array.isArray(R)&&(Z.providerData=R.map(J=>({...J}))),m&&(Z._redirectEventId=m),Z}static async _fromIdTokenResponse(t,n,s=!1){const a=new Go;a.updateFromServerResponse(n);const l=new pi({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await _f(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];Ct(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Zx(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Go;d.updateFromIdToken(s);const m=new pi({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Wp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=new Map;function ws(e){Rs(e instanceof Function,"Expected a class definition");let t=tb.get(e);return t?(Rs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,tb.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Jx.type="NONE";const eb=Jx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(e,t,n){return`firebase:${e}:${t}:${n}`}class Ko{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=tf(this.userKey,a.apiKey,l),this.fullPersistenceKey=tf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await vf(this.auth,{idToken:t}).catch(()=>{});return n?pi._fromGetAccountInfoResponse(this.auth,n,t):null}return pi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ko(ws(eb),t,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||ws(eb);const c=tf(s,t.config.apiKey,t.name);let d=null;for(const g of n)try{const v=await g._get(c);if(v){let T;if(typeof v=="string"){const x=await vf(t,{idToken:v}).catch(()=>{});if(!x)break;T=await pi._fromGetAccountInfoResponse(t,x,v)}else T=pi._fromJSON(t,v);g!==l&&(d=T),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Ko(l,t,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Ko(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(i1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(t1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(r1(t))return"Blackberry";if(a1(t))return"Webos";if(e1(t))return"Safari";if((t.includes("chrome/")||n1(t))&&!t.includes("edge/"))return"Chrome";if(s1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function t1(e=mn()){return/firefox\//i.test(e)}function e1(e=mn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function n1(e=mn()){return/crios\//i.test(e)}function i1(e=mn()){return/iemobile/i.test(e)}function s1(e=mn()){return/android/i.test(e)}function r1(e=mn()){return/blackberry/i.test(e)}function a1(e=mn()){return/webos/i.test(e)}function Qg(e=mn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function wI(e=mn()){return Qg(e)&&!!window.navigator?.standalone}function AI(){return BC()&&document.documentMode===10}function o1(e=mn()){return Qg(e)||s1(e)||a1(e)||r1(e)||/windows phone/i.test(e)||i1(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(e,t=[]){let n;switch(e){case"Browser":n=nb(mn());break;case"Worker":n=`${nb(mn())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ll}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(e,t={}){return ul(e,"GET","/v2/passwordPolicy",sc(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=6;class II{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??RI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ib(this),this.idTokenSubscription=new ib(this),this.beforeStateQueue=new SI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ws(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ko.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await vf(this,{idToken:t}),s=await pi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ii(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await _f(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ii(this.app))return Promise.reject(As(this));const n=t?Fe(t):null;return n&&Ct(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ct(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ii(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await CI(this),n=new II(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ec("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await xI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ws(t)||this._popupRedirectResolver;Ct(n,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=l1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&lI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function rc(e){return Fe(e)}class ib{constructor(t){this.auth=t,this.observer=null,this.addObserver=QC(n=>this.observer=n)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $g={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DI(e){$g=e}function MI(e){return $g.loadJS(e)}function VI(){return $g.gapiScript}function kI(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(e,t){const n=Hg(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(ka(l,t??{}))return a;Cs(a,"already-initialized")}return n.initialize({options:t})}function jI(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ws);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function PI(e,t,n){const s=rc(e);Ct(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=u1(t),{host:c,port:d}=LI(t),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ct(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ct(ka(g,s.config.emulator)&&ka(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,ol(c)?(Lx(`${l}//${c}${m}`),Ux("Auth",!0)):UI()}function u1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function LI(e){const t=u1(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:sb(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:sb(c)}}}function sb(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function UI(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return xs("not implemented")}_getIdTokenResponse(t){return xs("not implemented")}_linkToIdToken(t,n){return xs("not implemented")}_getReauthenticationResolver(t){return xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(e,t){return Kg(e,"POST","/v1/accounts:signInWithIdp",sc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="http://localhost";class ja extends c1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ja(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Cs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new ja(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Yo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Yo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Yo(t,n)}buildRequest(){const t={requestUri:BI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=nc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends h1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends ac{constructor(){super("facebook.com")}static credential(t){return ja._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return pr.credential(t.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends ac{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ja._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return gr.credentialFromTaggedObject(t)}static credentialFromError(t){return gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return gr.credential(n,s)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends ac{constructor(){super("github.com")}static credential(t){return ja._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yr.credentialFromTaggedObject(t)}static credentialFromError(t){return yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yr.credential(t.oauthAccessToken)}catch{return null}}}yr.GITHUB_SIGN_IN_METHOD="github.com";yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends ac{constructor(){super("twitter.com")}static credential(t,n){return ja._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return vr.credential(n,s)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(e,t){return Kg(e,"POST","/v1/accounts:signUp",sc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await pi._fromIdTokenResponse(t,s,a),c=rb(s);return new Is({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=rb(s);return new Is({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function rb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(e){if(ii(e.app))return Promise.reject(As(e));const t=rc(e);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Is({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await zI(t,{returnSecureToken:!0}),s=await Is._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends Os{constructor(t,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Tf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new Tf(t,n,s,a)}}function f1(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Tf._fromErrorAndOperation(e,l,t,s):l})}async function HI(e,t,n=!1){const s=await Bu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Is._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(e,t,n=!1){const{auth:s}=e;if(ii(s.app))return Promise.reject(As(s));const a="reauthenticate";try{const l=await Bu(e,f1(s,a,t,e),n);Ct(l.idToken,s,"internal-error");const c=Yg(l.idToken);Ct(c,s,"internal-error");const{sub:d}=c;return Ct(e.uid===d,s,"user-mismatch"),Is._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Cs(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(e,t,n=!1){if(ii(e.app))return Promise.reject(As(e));const s="signIn",a=await f1(e,s,t),l=await Is._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(e,t){return Kg(e,"POST","/v1/accounts:signInWithCustomToken",sc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(e,t){if(ii(e.app))return Promise.reject(As(e));const n=rc(e),s=await KI(n,{token:t,returnSecureToken:!0}),a=await Is._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(a.user),a}function QI(e,t,n,s){return Fe(e).onIdTokenChanged(t,n,s)}function $I(e,t,n){return Fe(e).beforeAuthStateChanged(t,n)}function XI(e,t,n,s){return Fe(e).onAuthStateChanged(t,n,s)}const bf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bf,"1"),this.storage.removeItem(bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=1e3,ZI=10;class m1 extends d1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);AI()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,ZI):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},WI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}m1.type="LOCAL";const JI=m1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1 extends d1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}p1.type="SESSION";const g1=p1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new Bf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,l)),m=await tN(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Xg("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(T){const x=T;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(x.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function nN(e){Ui().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function iN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sN(){return navigator?.serviceWorker?.controller||null}function rN(){return y1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="firebaseLocalStorageDb",aN=1,Ef="firebaseLocalStorage",_1="fbase_key";class oc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zf(e,t){return e.transaction([Ef],t?"readwrite":"readonly").objectStore(Ef)}function oN(){const e=indexedDB.deleteDatabase(v1);return new oc(e).toPromise()}function Zp(){const e=indexedDB.open(v1,aN);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(Ef,{keyPath:_1})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Ef)?t(s):(s.close(),await oN(),t(await Zp()))})})}async function ab(e,t,n){const s=zf(e,!0).put({[_1]:t,value:n});return new oc(s).toPromise()}async function lN(e,t){const n=zf(e,!1).get(t),s=await new oc(n).toPromise();return s===void 0?null:s.value}function ob(e,t){const n=zf(e,!0).delete(t);return new oc(n).toPromise()}const uN=800,cN=3;class T1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>cN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return y1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bf._getInstance(rN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iN(),!this.activeServiceWorker)return;this.sender=new eN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Zp();return await ab(t,bf,"1"),await ob(t,bf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>ab(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>lN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ob(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=zf(a,!1).getAll();return new oc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T1.type="LOCAL";const hN=T1;new ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(e,t){return t?ws(t):(Ct(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg extends c1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Yo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Yo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Yo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function dN(e){return GI(e.auth,new Wg(e),e.bypassAuthState)}function mN(e){const{auth:t,user:n}=e;return Ct(n,t,"internal-error"),qI(n,new Wg(e),e.bypassAuthState)}async function pN(e){const{auth:t,user:n}=e;return Ct(n,t,"internal-error"),HI(n,new Wg(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return dN;case"linkViaPopup":case"linkViaRedirect":return pN;case"reauthViaPopup":case"reauthViaRedirect":return mN;default:Cs(this.auth,"internal-error")}}resolve(t){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new ic(2e3,1e4);class Lo extends b1{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Lo.currentPopupAction&&Lo.currentPopupAction.cancel(),Lo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ct(t,this.auth,"internal-error"),t}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const t=Xg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,gN.get())};t()}}Lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="pendingRedirect",ef=new Map;class vN extends b1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=ef.get(this.auth._key());if(!t){try{const s=await _N(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}ef.set(this.auth._key(),t)}return this.bypassAuthState||ef.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _N(e,t){const n=EN(t),s=bN(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function TN(e,t){ef.set(e._key(),t)}function bN(e){return ws(e._redirectPersistence)}function EN(e){return tf(yN,e.config.apiKey,e.name)}async function xN(e,t,n=!1){if(ii(e.app))return Promise.reject(As(e));const s=rc(e),a=fN(s,t),c=await new vN(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=600*1e3;class AN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!SN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!E1(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Li(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wN&&this.cachedEventUids.clear(),this.cachedEventUids.has(lb(t))}saveEventToCache(t){this.cachedEventUids.add(lb(t)),this.lastProcessedEventTime=Date.now()}}function lb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function E1({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function SN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return E1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(e,t={}){return ul(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IN=/^https?/;async function NN(e){if(e.config.emulator)return;const{authorizedDomains:t}=await CN(e);for(const n of t)try{if(DN(n))return}catch{}Cs(e,"unauthorized-domain")}function DN(e){const t=Xp(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!IN.test(n))return!1;if(RN.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new ic(3e4,6e4);function ub(){const e=Ui().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function VN(e){return new Promise((t,n)=>{function s(){ub(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ub(),n(Li(e,"network-request-failed"))},timeout:MN.get()})}if(Ui().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ui().gapi?.load)s();else{const a=kI("iframefcb");return Ui()[a]=()=>{gapi.load?s():n(Li(e,"network-request-failed"))},MI(`${VI()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw nf=null,t})}let nf=null;function kN(e){return nf=nf||VN(e),nf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new ic(5e3,15e3),jN="__/auth/iframe",PN="emulator/auth/iframe",LN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BN(e){const t=e.config;Ct(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Gg(t,PN):`https://${e.config.authDomain}/${jN}`,s={apiKey:t.apiKey,appName:e.name,v:ll},a=UN.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${nc(s).slice(1)}`}async function zN(e){const t=await kN(e),n=Ui().gapi;return Ct(n,e,"internal-error"),t.open({where:document.body,url:BN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LN,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Li(e,"network-request-failed"),d=Ui().setTimeout(()=>{l(c)},ON.get());function m(){Ui().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HN=500,qN=600,GN="_blank",KN="http://localhost";class cb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YN(e,t,n,s=HN,a=qN){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...FN,width:s.toString(),height:a.toString(),top:l,left:c},g=mn().toLowerCase();n&&(d=n1(g)?GN:n),t1(g)&&(t=t||KN,m.scrollbars="yes");const v=Object.entries(m).reduce((x,[C,R])=>`${x}${C}=${R},`,"");if(wI(g)&&d!=="_self")return QN(t||"",d),new cb(null);const T=window.open(t||"",d,v);Ct(T,e,"popup-blocked");try{T.focus()}catch{}return new cb(T)}function QN(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="__/auth/handler",XN="emulator/auth/handler",WN=encodeURIComponent("fac");async function hb(e,t,n,s,a,l){Ct(e.config.authDomain,e,"auth-domain-config-required"),Ct(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:ll,eventId:a};if(t instanceof h1){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",YC(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(t instanceof ac){const v=t.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await e._getAppCheckToken(),g=m?`#${WN}=${encodeURIComponent(m)}`:"";return`${ZN(e)}?${nc(d).slice(1)}${g}`}function ZN({config:e}){return e.emulator?Gg(e,XN):`https://${e.authDomain}/${$N}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="webStorageSupport";class JN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=g1,this._completeRedirectFn=xN,this._overrideRedirectResult=TN}async _openPopup(t,n,s,a){Rs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await hb(t,n,s,Xp(),a);return YN(t,l,Xg())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await hb(t,n,s,Xp(),a);return nN(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Rs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await zN(t),s=new AN(t);return n.register("authEvent",a=>(Ct(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(vp,{type:vp},a=>{const l=a?.[0]?.[vp];l!==void 0&&n(!!l),Cs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return o1()||e1()||Qg()}}const tD=JN;var fb="@firebase/auth",db="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iD(e){Wo(new Oa("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Ct(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l1(e)},g=new NI(s,a,l,m);return jI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Wo(new Oa("auth-internal",t=>{const n=rc(t.getProvider("auth").getImmediate());return(s=>new eD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(fb,db,nD(e)),Er(fb,db,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=300,rD=Px("authIdTokenMaxAge")||sD;let mb=null;const aD=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>rD)return;const a=n?.token;mb!==a&&(mb=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function oD(e=Hx()){const t=Hg(e,"auth");if(t.isInitialized())return t.getImmediate();const n=OI(e,{popupRedirectResolver:tD,persistence:[hN,JI,g1]}),s=Px("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=aD(l.toString());$I(n,c,()=>c(n.currentUser)),QI(n,d=>c(d))}}const a=Ox("auth");return a&&PI(n,`http://${a}`),n}function lD(){return document.getElementsByTagName("head")?.[0]??document}DI({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=Li("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",lD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iD("Browser");var pb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xr,x1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,S){function I(){}I.prototype=S.prototype,N.D=S.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(V,j,P){for(var M=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)M[ue-2]=arguments[ue];return S.prototype[j].apply(V,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,S,I){I||(I=0);var V=Array(16);if(typeof S=="string")for(var j=0;16>j;++j)V[j]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(j=0;16>j;++j)V[j]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=N.g[0],I=N.g[1],j=N.g[2];var P=N.g[3],M=S+(P^I&(j^P))+V[0]+3614090360&4294967295;S=I+(M<<7&4294967295|M>>>25),M=P+(j^S&(I^j))+V[1]+3905402710&4294967295,P=S+(M<<12&4294967295|M>>>20),M=j+(I^P&(S^I))+V[2]+606105819&4294967295,j=P+(M<<17&4294967295|M>>>15),M=I+(S^j&(P^S))+V[3]+3250441966&4294967295,I=j+(M<<22&4294967295|M>>>10),M=S+(P^I&(j^P))+V[4]+4118548399&4294967295,S=I+(M<<7&4294967295|M>>>25),M=P+(j^S&(I^j))+V[5]+1200080426&4294967295,P=S+(M<<12&4294967295|M>>>20),M=j+(I^P&(S^I))+V[6]+2821735955&4294967295,j=P+(M<<17&4294967295|M>>>15),M=I+(S^j&(P^S))+V[7]+4249261313&4294967295,I=j+(M<<22&4294967295|M>>>10),M=S+(P^I&(j^P))+V[8]+1770035416&4294967295,S=I+(M<<7&4294967295|M>>>25),M=P+(j^S&(I^j))+V[9]+2336552879&4294967295,P=S+(M<<12&4294967295|M>>>20),M=j+(I^P&(S^I))+V[10]+4294925233&4294967295,j=P+(M<<17&4294967295|M>>>15),M=I+(S^j&(P^S))+V[11]+2304563134&4294967295,I=j+(M<<22&4294967295|M>>>10),M=S+(P^I&(j^P))+V[12]+1804603682&4294967295,S=I+(M<<7&4294967295|M>>>25),M=P+(j^S&(I^j))+V[13]+4254626195&4294967295,P=S+(M<<12&4294967295|M>>>20),M=j+(I^P&(S^I))+V[14]+2792965006&4294967295,j=P+(M<<17&4294967295|M>>>15),M=I+(S^j&(P^S))+V[15]+1236535329&4294967295,I=j+(M<<22&4294967295|M>>>10),M=S+(j^P&(I^j))+V[1]+4129170786&4294967295,S=I+(M<<5&4294967295|M>>>27),M=P+(I^j&(S^I))+V[6]+3225465664&4294967295,P=S+(M<<9&4294967295|M>>>23),M=j+(S^I&(P^S))+V[11]+643717713&4294967295,j=P+(M<<14&4294967295|M>>>18),M=I+(P^S&(j^P))+V[0]+3921069994&4294967295,I=j+(M<<20&4294967295|M>>>12),M=S+(j^P&(I^j))+V[5]+3593408605&4294967295,S=I+(M<<5&4294967295|M>>>27),M=P+(I^j&(S^I))+V[10]+38016083&4294967295,P=S+(M<<9&4294967295|M>>>23),M=j+(S^I&(P^S))+V[15]+3634488961&4294967295,j=P+(M<<14&4294967295|M>>>18),M=I+(P^S&(j^P))+V[4]+3889429448&4294967295,I=j+(M<<20&4294967295|M>>>12),M=S+(j^P&(I^j))+V[9]+568446438&4294967295,S=I+(M<<5&4294967295|M>>>27),M=P+(I^j&(S^I))+V[14]+3275163606&4294967295,P=S+(M<<9&4294967295|M>>>23),M=j+(S^I&(P^S))+V[3]+4107603335&4294967295,j=P+(M<<14&4294967295|M>>>18),M=I+(P^S&(j^P))+V[8]+1163531501&4294967295,I=j+(M<<20&4294967295|M>>>12),M=S+(j^P&(I^j))+V[13]+2850285829&4294967295,S=I+(M<<5&4294967295|M>>>27),M=P+(I^j&(S^I))+V[2]+4243563512&4294967295,P=S+(M<<9&4294967295|M>>>23),M=j+(S^I&(P^S))+V[7]+1735328473&4294967295,j=P+(M<<14&4294967295|M>>>18),M=I+(P^S&(j^P))+V[12]+2368359562&4294967295,I=j+(M<<20&4294967295|M>>>12),M=S+(I^j^P)+V[5]+4294588738&4294967295,S=I+(M<<4&4294967295|M>>>28),M=P+(S^I^j)+V[8]+2272392833&4294967295,P=S+(M<<11&4294967295|M>>>21),M=j+(P^S^I)+V[11]+1839030562&4294967295,j=P+(M<<16&4294967295|M>>>16),M=I+(j^P^S)+V[14]+4259657740&4294967295,I=j+(M<<23&4294967295|M>>>9),M=S+(I^j^P)+V[1]+2763975236&4294967295,S=I+(M<<4&4294967295|M>>>28),M=P+(S^I^j)+V[4]+1272893353&4294967295,P=S+(M<<11&4294967295|M>>>21),M=j+(P^S^I)+V[7]+4139469664&4294967295,j=P+(M<<16&4294967295|M>>>16),M=I+(j^P^S)+V[10]+3200236656&4294967295,I=j+(M<<23&4294967295|M>>>9),M=S+(I^j^P)+V[13]+681279174&4294967295,S=I+(M<<4&4294967295|M>>>28),M=P+(S^I^j)+V[0]+3936430074&4294967295,P=S+(M<<11&4294967295|M>>>21),M=j+(P^S^I)+V[3]+3572445317&4294967295,j=P+(M<<16&4294967295|M>>>16),M=I+(j^P^S)+V[6]+76029189&4294967295,I=j+(M<<23&4294967295|M>>>9),M=S+(I^j^P)+V[9]+3654602809&4294967295,S=I+(M<<4&4294967295|M>>>28),M=P+(S^I^j)+V[12]+3873151461&4294967295,P=S+(M<<11&4294967295|M>>>21),M=j+(P^S^I)+V[15]+530742520&4294967295,j=P+(M<<16&4294967295|M>>>16),M=I+(j^P^S)+V[2]+3299628645&4294967295,I=j+(M<<23&4294967295|M>>>9),M=S+(j^(I|~P))+V[0]+4096336452&4294967295,S=I+(M<<6&4294967295|M>>>26),M=P+(I^(S|~j))+V[7]+1126891415&4294967295,P=S+(M<<10&4294967295|M>>>22),M=j+(S^(P|~I))+V[14]+2878612391&4294967295,j=P+(M<<15&4294967295|M>>>17),M=I+(P^(j|~S))+V[5]+4237533241&4294967295,I=j+(M<<21&4294967295|M>>>11),M=S+(j^(I|~P))+V[12]+1700485571&4294967295,S=I+(M<<6&4294967295|M>>>26),M=P+(I^(S|~j))+V[3]+2399980690&4294967295,P=S+(M<<10&4294967295|M>>>22),M=j+(S^(P|~I))+V[10]+4293915773&4294967295,j=P+(M<<15&4294967295|M>>>17),M=I+(P^(j|~S))+V[1]+2240044497&4294967295,I=j+(M<<21&4294967295|M>>>11),M=S+(j^(I|~P))+V[8]+1873313359&4294967295,S=I+(M<<6&4294967295|M>>>26),M=P+(I^(S|~j))+V[15]+4264355552&4294967295,P=S+(M<<10&4294967295|M>>>22),M=j+(S^(P|~I))+V[6]+2734768916&4294967295,j=P+(M<<15&4294967295|M>>>17),M=I+(P^(j|~S))+V[13]+1309151649&4294967295,I=j+(M<<21&4294967295|M>>>11),M=S+(j^(I|~P))+V[4]+4149444226&4294967295,S=I+(M<<6&4294967295|M>>>26),M=P+(I^(S|~j))+V[11]+3174756917&4294967295,P=S+(M<<10&4294967295|M>>>22),M=j+(S^(P|~I))+V[2]+718787259&4294967295,j=P+(M<<15&4294967295|M>>>17),M=I+(P^(j|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(j+(M<<21&4294967295|M>>>11))&4294967295,N.g[2]=N.g[2]+j&4294967295,N.g[3]=N.g[3]+P&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var I=S-this.blockSize,V=this.B,j=this.h,P=0;P<S;){if(j==0)for(;P<=I;)a(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<S;)if(V[j++]=N.charCodeAt(P++),j==this.blockSize){a(this,V),j=0;break}}else for(;P<S;)if(V[j++]=N[P++],j==this.blockSize){a(this,V),j=0;break}}this.h=j,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var I=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=I&255,I/=256;for(this.u(N),N=Array(16),S=I=0;4>S;++S)for(var V=0;32>V;V+=8)N[I++]=this.g[S]>>>V&255;return N};function l(N,S){var I=d;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=S(N)}function c(N,S){this.h=S;for(var I=[],V=!0,j=N.length-1;0<=j;j--){var P=N[j]|0;V&&P==S||(I[j]=P,V=!1)}this.g=I}var d={};function m(N){return-128<=N&&128>N?l(N,function(S){return new c([S|0],0>S?-1:0)}):new c([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return T;if(0>N)return q(g(-N));for(var S=[],I=1,V=0;N>=I;V++)S[V]=N/I|0,I*=4294967296;return new c(S,0)}function v(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return q(v(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(S,8)),V=T,j=0;j<N.length;j+=8){var P=Math.min(8,N.length-j),M=parseInt(N.substring(j,j+P),S);8>P?(P=g(Math.pow(S,P)),V=V.j(P).add(g(M))):(V=V.j(I),V=V.add(g(M)))}return V}var T=m(0),x=m(1),C=m(16777216);e=c.prototype,e.m=function(){if(L(this))return-q(this).m();for(var N=0,S=1,I=0;I<this.g.length;I++){var V=this.i(I);N+=(0<=V?V:4294967296+V)*S,S*=4294967296}return N},e.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(R(this))return"0";if(L(this))return"-"+q(this).toString(N);for(var S=g(Math.pow(N,6)),I=this,V="";;){var j=lt(I,S).g;I=Z(I,j.j(S));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=j,R(I))return P+V;for(;6>P.length;)P="0"+P;V=P+V}},e.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function R(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function L(N){return N.h==-1}e.l=function(N){return N=Z(this,N),L(N)?-1:R(N)?0:1};function q(N){for(var S=N.g.length,I=[],V=0;V<S;V++)I[V]=~N.g[V];return new c(I,~N.h).add(x)}e.abs=function(){return L(this)?q(this):this},e.add=function(N){for(var S=Math.max(this.g.length,N.g.length),I=[],V=0,j=0;j<=S;j++){var P=V+(this.i(j)&65535)+(N.i(j)&65535),M=(P>>>16)+(this.i(j)>>>16)+(N.i(j)>>>16);V=M>>>16,P&=65535,M&=65535,I[j]=M<<16|P}return new c(I,I[I.length-1]&-2147483648?-1:0)};function Z(N,S){return N.add(q(S))}e.j=function(N){if(R(this)||R(N))return T;if(L(this))return L(N)?q(this).j(q(N)):q(q(this).j(N));if(L(N))return q(this.j(q(N)));if(0>this.l(C)&&0>N.l(C))return g(this.m()*N.m());for(var S=this.g.length+N.g.length,I=[],V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var j=0;j<N.g.length;j++){var P=this.i(V)>>>16,M=this.i(V)&65535,ue=N.i(j)>>>16,Wt=N.i(j)&65535;I[2*V+2*j]+=M*Wt,J(I,2*V+2*j),I[2*V+2*j+1]+=P*Wt,J(I,2*V+2*j+1),I[2*V+2*j+1]+=M*ue,J(I,2*V+2*j+1),I[2*V+2*j+2]+=P*ue,J(I,2*V+2*j+2)}for(V=0;V<S;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=S;V<2*S;V++)I[V]=0;return new c(I,0)};function J(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function B(N,S){this.g=N,this.h=S}function lt(N,S){if(R(S))throw Error("division by zero");if(R(N))return new B(T,T);if(L(N))return S=lt(q(N),S),new B(q(S.g),q(S.h));if(L(S))return S=lt(N,q(S)),new B(q(S.g),S.h);if(30<N.g.length){if(L(N)||L(S))throw Error("slowDivide_ only works with positive integers.");for(var I=x,V=S;0>=V.l(N);)I=at(I),V=at(V);var j=nt(I,1),P=nt(V,1);for(V=nt(V,2),I=nt(I,2);!R(V);){var M=P.add(V);0>=M.l(N)&&(j=j.add(I),P=M),V=nt(V,1),I=nt(I,1)}return S=Z(N,j.j(S)),new B(j,S)}for(j=T;0<=N.l(S);){for(I=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),P=g(I),M=P.j(S);L(M)||0<M.l(N);)I-=V,P=g(I),M=P.j(S);R(P)&&(P=x),j=j.add(P),N=Z(N,M)}return new B(j,N)}e.A=function(N){return lt(this,N).h},e.and=function(N){for(var S=Math.max(this.g.length,N.g.length),I=[],V=0;V<S;V++)I[V]=this.i(V)&N.i(V);return new c(I,this.h&N.h)},e.or=function(N){for(var S=Math.max(this.g.length,N.g.length),I=[],V=0;V<S;V++)I[V]=this.i(V)|N.i(V);return new c(I,this.h|N.h)},e.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),I=[],V=0;V<S;V++)I[V]=this.i(V)^N.i(V);return new c(I,this.h^N.h)};function at(N){for(var S=N.g.length+1,I=[],V=0;V<S;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new c(I,N.h)}function nt(N,S){var I=S>>5;S%=32;for(var V=N.g.length-I,j=[],P=0;P<V;P++)j[P]=0<S?N.i(P+I)>>>S|N.i(P+I+1)<<32-S:N.i(P+I);return new c(j,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,x1=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,xr=c}).apply(typeof pb<"u"?pb:typeof self<"u"?self:typeof window<"u"?window:{});var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w1,xu,A1,sf,Jp,S1,C1,R1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,b){return h==Array.prototype||h==Object.prototype||(h[_]=b.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fh=="object"&&Fh];for(var _=0;_<h.length;++_){var b=h[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)t:{var b=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var z=h[A];if(!(z in b))break t;b=b[z]}h=h[h.length-1],A=b[h],_=_(A),_!=A&&_!=null&&t(b,h,{configurable:!0,writable:!0,value:_})}}function l(h,_){h instanceof String&&(h+="");var b=0,A=!1,z={next:function(){if(!A&&b<h.length){var Q=b++;return{value:_(Q,h[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}a("Array.prototype.values",function(h){return h||function(){return l(this,function(_,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function g(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function v(h,_,b){return h.call.apply(h.bind,arguments)}function T(h,_,b){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),h.apply(_,z)}}return function(){return h.apply(_,arguments)}}function x(h,_,b){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,x.apply(null,arguments)}function C(h,_){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function R(h,_){function b(){}b.prototype=_.prototype,h.aa=_.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(A,z,Q){for(var ct=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)ct[Bt-2]=arguments[Bt];return _.prototype[z].apply(A,ct)}}function L(h){const _=h.length;if(0<_){const b=Array(_);for(let A=0;A<_;A++)b[A]=h[A];return b}return[]}function q(h,_){for(let b=1;b<arguments.length;b++){const A=arguments[b];if(m(A)){const z=h.length||0,Q=A.length||0;h.length=z+Q;for(let ct=0;ct<Q;ct++)h[z+ct]=A[ct]}else h.push(A)}}class Z{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function J(h){return/^[\s\xa0]*$/.test(h)}function B(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function lt(h){return lt[" "](h),h}lt[" "]=function(){};var at=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function nt(h,_,b){for(const A in h)_.call(b,h[A],A,h)}function N(h,_){for(const b in h)_.call(void 0,h[b],b,h)}function S(h){const _={};for(const b in h)_[b]=h[b];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(h,_){let b,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(b in A)h[b]=A[b];for(let Q=0;Q<I.length;Q++)b=I[Q],Object.prototype.hasOwnProperty.call(A,b)&&(h[b]=A[b])}}function j(h){var _=1;h=h.split(":");const b=[];for(;0<_&&h.length;)b.push(h.shift()),_--;return h.length&&b.push(h.join(":")),b}function P(h){d.setTimeout(()=>{throw h},0)}function M(){var h=_t;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class ue{constructor(){this.h=this.g=null}add(_,b){const A=Wt.get();A.set(_,b),this.h?this.h.next=A:this.g=A,this.h=A}}var Wt=new Z(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,ft=!1,_t=new ue,k=()=>{const h=d.Promise.resolve(void 0);ot=()=>{h.then(rt)}};var rt=()=>{for(var h;h=M();){try{h.h.call(h.g)}catch(b){P(b)}var _=Wt;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}ft=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var gt=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};d.addEventListener("test",b,_),d.removeEventListener("test",b,_)}catch{}return h})();function Dt(h,_){if(ut.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(at){t:{try{lt(_.nodeName);var z=!0;break t}catch{}z=!1}z||(_=null)}}else b=="mouseover"?_=h.fromElement:b=="mouseout"&&(_=h.toElement);this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:xt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Dt.aa.h.call(this)}}R(Dt,ut);var xt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Zt="closure_listenable_"+(1e6*Math.random()|0),kt=0;function Re(h,_,b,A,z){this.listener=h,this.proxy=null,this.src=_,this.type=b,this.capture=!!A,this.ha=z,this.key=++kt,this.da=this.fa=!1}function vi(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Rn(h){this.src=h,this.g={},this.h=0}Rn.prototype.add=function(h,_,b,A,z){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var ct=$i(h,_,A,z);return-1<ct?(_=h[ct],b||(_.fa=!1)):(_=new Re(_,this.src,Q,!!A,z),_.fa=b,h.push(_)),_};function _i(h,_){var b=_.type;if(b in h.g){var A=h.g[b],z=Array.prototype.indexOf.call(A,_,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(A,z,1),Q&&(vi(_),h.g[b].length==0&&(delete h.g[b],h.h--))}}function $i(h,_,b,A){for(var z=0;z<h.length;++z){var Q=h[z];if(!Q.da&&Q.listener==_&&Q.capture==!!b&&Q.ha==A)return z}return-1}var Xi="closure_lm_"+(1e6*Math.random()|0),zr={};function za(h,_,b,A,z){if(Array.isArray(_)){for(var Q=0;Q<_.length;Q++)za(h,_[Q],b,A,z);return null}return b=Fa(b),h&&h[Zt]?h.K(_,b,g(A)?!!A.capture:!1,z):bn(h,_,b,!1,A,z)}function bn(h,_,b,A,z,Q){if(!_)throw Error("Invalid event type");var ct=g(z)?!!z.capture:!!z,Bt=Ps(h);if(Bt||(h[Xi]=Bt=new Rn(h)),b=Bt.add(_,b,A,ct,Q),b.proxy)return b;if(A=vl(),b.proxy=A,A.src=h,A.listener=b,h.addEventListener)gt||(z=ct),z===void 0&&(z=!1),h.addEventListener(_.toString(),A,z);else if(h.attachEvent)h.attachEvent(Wi(_.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function vl(){function h(b){return _.call(h.src,h.listener,b)}const _=_l;return h}function Fr(h,_,b,A,z){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)Fr(h,_[Q],b,A,z);else A=g(A)?!!A.capture:!!A,b=Fa(b),h&&h[Zt]?(h=h.i,_=String(_).toString(),_ in h.g&&(Q=h.g[_],b=$i(Q,b,A,z),-1<b&&(vi(Q[b]),Array.prototype.splice.call(Q,b,1),Q.length==0&&(delete h.g[_],h.h--)))):h&&(h=Ps(h))&&(_=h.g[_.toString()],h=-1,_&&(h=$i(_,b,A,z)),(b=-1<h?_[h]:null)&&js(b))}function js(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Zt])_i(_.i,h);else{var b=h.type,A=h.proxy;_.removeEventListener?_.removeEventListener(b,A,h.capture):_.detachEvent?_.detachEvent(Wi(b),A):_.addListener&&_.removeListener&&_.removeListener(A),(b=Ps(_))?(_i(b,h),b.h==0&&(b.src=null,_[Xi]=null)):vi(h)}}}function Wi(h){return h in zr?zr[h]:zr[h]="on"+h}function _l(h,_){if(h.da)h=!0;else{_=new Dt(_,this);var b=h.listener,A=h.ha||h.src;h.fa&&js(h),h=b.call(A,_)}return h}function Ps(h){return h=h[Xi],h instanceof Rn?h:null}var Hr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fa(h){return typeof h=="function"?h:(h[Hr]||(h[Hr]=function(_){return h.handleEvent(_)}),h[Hr])}function ce(){ht.call(this),this.i=new Rn(this),this.M=this,this.F=null}R(ce,ht),ce.prototype[Zt]=!0,ce.prototype.removeEventListener=function(h,_,b,A){Fr(this,h,_,b,A)};function Gt(h,_){var b,A=h.F;if(A)for(b=[];A;A=A.F)b.push(A);if(h=h.M,A=_.type||_,typeof _=="string")_=new ut(_,h);else if(_ instanceof ut)_.target=_.target||h;else{var z=_;_=new ut(A,h),V(_,z)}if(z=!0,b)for(var Q=b.length-1;0<=Q;Q--){var ct=_.g=b[Q];z=on(ct,A,!0,_)&&z}if(ct=_.g=h,z=on(ct,A,!0,_)&&z,z=on(ct,A,!1,_)&&z,b)for(Q=0;Q<b.length;Q++)ct=_.g=b[Q],z=on(ct,A,!1,_)&&z}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var b=h.g[_],A=0;A<b.length;A++)vi(b[A]);delete h.g[_],h.h--}}this.F=null},ce.prototype.K=function(h,_,b,A){return this.i.add(String(h),_,!1,b,A)},ce.prototype.L=function(h,_,b,A){return this.i.add(String(h),_,!0,b,A)};function on(h,_,b,A){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var z=!0,Q=0;Q<_.length;++Q){var ct=_[Q];if(ct&&!ct.da&&ct.capture==b){var Bt=ct.listener,Pe=ct.ha||ct.src;ct.fa&&_i(h.i,ct),z=Bt.call(Pe,A)!==!1&&z}}return z&&!A.defaultPrevented}function He(h,_,b){if(typeof h=="function")b&&(h=x(h,b));else if(h&&typeof h.handleEvent=="function")h=x(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(h,_||0)}function Ha(h){h.g=He(()=>{h.g=null,h.i&&(h.i=!1,Ha(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class qa extends ht{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ha(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zi(h){ht.call(this),this.h=h,this.g={}}R(Zi,ht);var Ji=[];function Ti(h){nt(h.g,function(_,b){this.g.hasOwnProperty(b)&&js(_)},h),h.g={}}Zi.prototype.N=function(){Zi.aa.N.call(this),Ti(this)},Zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=d.JSON.stringify,Ls=d.JSON.parse,zn=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function qr(){}qr.prototype.h=null;function Gr(h){return h.h||(h.h=h.i())}function Kr(){}var ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nn(){ut.call(this,"d")}R(Nn,ut);function Yr(){ut.call(this,"c")}R(Yr,ut);var X={},wt=null;function he(){return wt=wt||new ce}X.La="serverreachability";function oi(h){ut.call(this,X.La,h)}R(oi,ut);function Fn(h){const _=he();Gt(_,new oi(_))}X.STAT_EVENT="statevent";function qe(h,_){ut.call(this,X.STAT_EVENT,h),this.stat=_}R(qe,ut);function Jt(h){const _=he();Gt(_,new qe(_,h))}X.Ma="timingevent";function pe(h,_){ut.call(this,X.Ma,h),this.size=_}R(pe,ut);function fe(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},_)}function Ie(){this.g=!0}Ie.prototype.xa=function(){this.g=!1};function li(h,_,b,A,z,Q){h.info(function(){if(h.g)if(Q)for(var ct="",Bt=Q.split("&"),Pe=0;Pe<Bt.length;Pe++){var zt=Bt[Pe].split("=");if(1<zt.length){var Ke=zt[0];zt=zt[1];var Le=Ke.split("_");ct=2<=Le.length&&Le[1]=="type"?ct+(Ke+"="+zt+"&"):ct+(Ke+"=redacted&")}}else ct=null;else ct=Q;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+_+`
`+b+`
`+ct})}function ud(h,_,b,A,z,Q,ct){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+_+`
`+b+`
`+Q+" "+ct})}function Us(h,_,b,A){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Qr(h,b)+(A?" "+A:"")})}function bc(h,_){h.info(function(){return"TIMEOUT: "+_})}Ie.prototype.info=function(){};function Qr(h,_){if(!h.g)return _;if(!_)return null;try{var b=JSON.parse(_);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var A=b[h];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ct=1;ct<z.length;ct++)z[ct]=""}}}}return In(b)}catch{return _}}var Bs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ts={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bi;function Ei(){}R(Ei,qr),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},bi=new Ei;function pn(h,_,b,A){this.j=h,this.i=_,this.l=b,this.R=A||1,this.U=new Zi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ee}function Ee(){this.i=null,this.g="",this.h=!1}var Tl={},Ga={};function ui(h,_,b){h.L=1,h.v=Jr(Dn(_)),h.m=b,h.P=!0,es(h,null)}function es(h,_){h.F=Date.now(),$r(h),h.A=Dn(h.v);var b=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Sl(b.i,"t",A),h.C=0,b=h.j.J,h.h=new Ee,h.g=Pc(h.j,b?_:null,!h.m),0<h.O&&(h.M=new qa(x(h.Y,h,h.g),h.O)),_=h.U,b=h.g,A=h.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ji[0]=z.toString()),z=Ji);for(var Q=0;Q<z.length;Q++){var ct=za(b,z[Q],A||_.handleEvent,!1,_.h||_);if(!ct)break;_.g[ct.key]=ct}_=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),Fn(),li(h.i,h.u,h.A,h.l,h.R,h.m)}pn.prototype.ca=function(h){h=h.target;const _=this.M;_&&Kn(h)==3?_.j():this.Y(h)},pn.prototype.Y=function(h){try{if(h==this.g)t:{const Le=Kn(this.g);var _=this.g.Ba();const us=this.g.Z();if(!(3>Le)&&(Le!=3||this.g&&(this.h.h||this.g.oa()||Ic(this.g)))){this.J||Le!=4||_==7||(_==8||0>=us?Fn(3):Fn(2)),zs(this);var b=this.g.Z();this.X=b;e:if(Ec(this)){var A=Ic(this.g);h="";var z=A.length,Q=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),xi(this);var ct="";break e}this.h.i=new d.TextDecoder}for(_=0;_<z;_++)this.h.h=!0,h+=this.h.i.decode(A[_],{stream:!(Q&&_==z-1)});A.length=0,this.h.g+=h,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=b==200,ud(this.i,this.u,this.A,this.l,this.R,Le,b),this.o){if(this.T&&!this.K){e:{if(this.g){var Bt,Pe=this.g;if((Bt=Pe.g?Pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Bt)){var zt=Bt;break e}}zt=null}if(b=zt)Us(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xr(this,b);else{this.o=!1,this.s=3,Jt(12),We(this),xi(this);break t}}if(this.P){b=!0;let Ze;for(;!this.J&&this.C<ct.length;)if(Ze=xc(this,ct),Ze==Ga){Le==4&&(this.s=4,Jt(14),b=!1),Us(this.i,this.l,null,"[Incomplete Response]");break}else if(Ze==Tl){this.s=4,Jt(15),Us(this.i,this.l,ct,"[Invalid Chunk]"),b=!1;break}else Us(this.i,this.l,Ze,null),Xr(this,Ze);if(Ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||ct.length!=0||this.h.h||(this.s=1,Jt(16),b=!1),this.o=this.o&&b,!b)Us(this.i,this.l,ct,"[Invalid Chunked Response]"),We(this),xi(this);else if(0<ct.length&&!this.W){this.W=!0;var Ke=this.j;Ke.g==this&&Ke.ba&&!Ke.M&&(Ke.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),oa(Ke),Ke.M=!0,Jt(11))}}else Us(this.i,this.l,ct,null),Xr(this,ct);Le==4&&We(this),this.o&&!this.J&&(Le==4?kc(this.j,this):(this.o=!1,$r(this)))}else md(this.g),b==400&&0<ct.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),We(this),xi(this)}}}catch{}finally{}};function Ec(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function xc(h,_){var b=h.C,A=_.indexOf(`
`,b);return A==-1?Ga:(b=Number(_.substring(b,A)),isNaN(b)?Tl:(A+=1,A+b>_.length?Ga:(_=_.slice(A,A+b),h.C=A+b,_)))}pn.prototype.cancel=function(){this.J=!0,We(this)};function $r(h){h.S=Date.now()+h.I,wc(h,h.I)}function wc(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=fe(x(h.ba,h),_)}function zs(h){h.B&&(d.clearTimeout(h.B),h.B=null)}pn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(bc(this.i,this.A),this.L!=2&&(Fn(),Jt(17)),We(this),this.s=2,xi(this)):wc(this,this.S-h)};function xi(h){h.j.G==0||h.J||kc(h.j,h)}function We(h){zs(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,Ti(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function Xr(h,_){try{var b=h.j;if(b.G!=0&&(b.g==h||bl(b.h,h))){if(!h.K&&bl(b.h,h)&&b.G==3){try{var A=b.Da.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)io(b),eo(b);else break t;Dl(b),Jt(18)}}else b.za=z[1],0<b.za-b.T&&37500>z[2]&&b.F&&b.v==0&&!b.C&&(b.C=fe(x(b.Za,b),6e3));if(1>=Ya(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else ls(b,11)}else if((h.K||b.g==h)&&io(b),!J(_))for(z=b.Da.g.parse(_),_=0;_<z.length;_++){let zt=z[_];if(b.T=zt[0],zt=zt[1],b.G==2)if(zt[0]=="c"){b.K=zt[1],b.ia=zt[2];const Ke=zt[3];Ke!=null&&(b.la=Ke,b.j.info("VER="+b.la));const Le=zt[4];Le!=null&&(b.Aa=Le,b.j.info("SVER="+b.Aa));const us=zt[5];us!=null&&typeof us=="number"&&0<us&&(A=1.5*us,b.L=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const Ze=h.g;if(Ze){const Ni=Ze.g?Ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ni){var Q=A.h;Q.g||Ni.indexOf("spdy")==-1&&Ni.indexOf("quic")==-1&&Ni.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Qa(Q,Q.h),Q.h=null))}if(A.D){const Vl=Ze.g?Ze.g.getResponseHeader("X-HTTP-Session-Id"):null;Vl&&(A.ya=Vl,te(A.I,A.D,Vl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),A=b;var ct=h;if(A.qa=jc(A,A.J?A.ia:null,A.W),ct.K){gn(A.h,ct);var Bt=ct,Pe=A.L;Pe&&(Bt.I=Pe),Bt.B&&(zs(Bt),$r(Bt)),A.g=ct}else Mc(A);0<b.i.length&&no(b)}else zt[0]!="stop"&&zt[0]!="close"||ls(b,7);else b.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?ls(b,7):Il(b):zt[0]!="noop"&&b.l&&b.l.ta(zt),b.v=0)}}Fn(4)}catch{}}var Ac=class{constructor(h,_){this.g=h,this.map=_}};function ns(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ka(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ya(h){return h.h?1:h.g?h.g.size:0}function bl(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Qa(h,_){h.g?h.g.add(_):h.h=_}function gn(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}ns.prototype.cancel=function(){if(this.i=El(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function El(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const b of h.g.values())_=_.concat(b.D);return _}return L(h.i)}function cd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var _=[],b=h.length,A=0;A<b;A++)_.push(h[A]);return _}_=[],b=0;for(A in h)_[b++]=h[A];return _}function $a(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var _=[];h=h.length;for(var b=0;b<h;b++)_.push(b);return _}_=[],b=0;for(const A in h)_[b++]=A;return _}}}function xl(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var b=$a(h),A=cd(h),z=A.length,Q=0;Q<z;Q++)_.call(void 0,A[Q],b&&b[Q],h)}var Wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hd(h,_){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var A=h[b].indexOf("="),z=null;if(0<=A){var Q=h[b].substring(0,A);z=h[b].substring(A+1)}else Q=h[b];_(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ne(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ne){this.h=h.h,Zr(this,h.j),this.o=h.o,this.g=h.g,Fs(this,h.s),this.l=h.l;var _=h.i,b=new ss;b.i=_.i,_.g&&(b.g=new Map(_.g),b.h=_.h),is(this,b),this.m=h.m}else h&&(_=String(h).match(Wr))?(this.h=!1,Zr(this,_[1]||"",!0),this.o=Hn(_[2]||""),this.g=Hn(_[3]||"",!0),Fs(this,_[4]),this.l=Hn(_[5]||"",!0),is(this,_[6]||"",!0),this.m=Hn(_[7]||"")):(this.h=!1,this.i=new ss(null,this.h))}Ne.prototype.toString=function(){var h=[],_=this.j;_&&h.push(ta(_,wl,!0),":");var b=this.g;return(b||_=="file")&&(h.push("//"),(_=this.o)&&h.push(ta(_,wl,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(ta(b,b.charAt(0)=="/"?fd:Al,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",ta(b,Xa)),h.join("")};function Dn(h){return new Ne(h)}function Zr(h,_,b){h.j=b?Hn(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Fs(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function is(h,_,b){_ instanceof ss?(h.i=_,Cc(h.i,h.h)):(b||(_=ta(_,dd)),h.i=new ss(_,h.h))}function te(h,_,b){h.i.set(_,b)}function Jr(h){return te(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Hn(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ta(h,_,b){return typeof h=="string"?(h=encodeURI(h).replace(_,Sc),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Sc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var wl=/[#\/\?@]/g,Al=/[#\?:]/g,fd=/[#\?]/g,dd=/[#\?@]/g,Xa=/#/g;function ss(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function qn(h){h.g||(h.g=new Map,h.h=0,h.i&&hd(h.i,function(_,b){h.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}e=ss.prototype,e.add=function(h,_){qn(this),this.i=null,h=wi(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(_),this.h+=1,this};function rs(h,_){qn(h),_=wi(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function as(h,_){return qn(h),_=wi(h,_),h.g.has(_)}e.forEach=function(h,_){qn(this),this.g.forEach(function(b,A){b.forEach(function(z){h.call(_,z,A,this)},this)},this)},e.na=function(){qn(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),b=[];for(let A=0;A<_.length;A++){const z=h[A];for(let Q=0;Q<z.length;Q++)b.push(_[A])}return b},e.V=function(h){qn(this);let _=[];if(typeof h=="string")as(this,h)&&(_=_.concat(this.g.get(wi(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)_=_.concat(h[b])}return _},e.set=function(h,_){return qn(this),this.i=null,h=wi(this,h),as(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},e.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function Sl(h,_,b){rs(h,_),0<b.length&&(h.i=null,h.g.set(wi(h,_),L(b)),h.h+=b.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var b=0;b<_.length;b++){var A=_[b];const Q=encodeURIComponent(String(A)),ct=this.V(A);for(A=0;A<ct.length;A++){var z=Q;ct[A]!==""&&(z+="="+encodeURIComponent(String(ct[A]))),h.push(z)}}return this.i=h.join("&")};function wi(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Cc(h,_){_&&!h.j&&(qn(h),h.i=null,h.g.forEach(function(b,A){var z=A.toLowerCase();A!=z&&(rs(this,A),Sl(this,z,b))},h)),h.j=_}function ea(h,_){const b=new Ie;if(d.Image){const A=new Image;A.onload=C(Gn,b,"TestLoadImage: loaded",!0,_,A),A.onerror=C(Gn,b,"TestLoadImage: error",!1,_,A),A.onabort=C(Gn,b,"TestLoadImage: abort",!1,_,A),A.ontimeout=C(Gn,b,"TestLoadImage: timeout",!1,_,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else _(!1)}function ci(h,_){const b=new Ie,A=new AbortController,z=setTimeout(()=>{A.abort(),Gn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:A.signal}).then(Q=>{clearTimeout(z),Q.ok?Gn(b,"TestPingServer: ok",!0,_):Gn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(z),Gn(b,"TestPingServer: error",!1,_)})}function Gn(h,_,b,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(b)}catch{}}function na(){this.g=new zn}function Ai(h,_,b){const A=b||"";try{xl(h,function(z,Q){let ct=z;g(z)&&(ct=In(z)),_.push(A+Q+"="+encodeURIComponent(ct))})}catch(z){throw _.push(A+"type="+encodeURIComponent("_badmap")),z}}function Hs(h){this.l=h.Ub||null,this.j=h.eb||!1}R(Hs,qr),Hs.prototype.g=function(){return new os(this.l,this.j)},Hs.prototype.i=(function(h){return function(){return h}})({});function os(h,_){ce.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(os,ce),e=os.prototype,e.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,Ci(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Si(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Si(this):Ci(this),this.readyState==3&&Cl(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,Si(this))},e.Qa=function(h){this.g&&(this.response=h,Si(this))},e.ga=function(){this.g&&Si(this)};function Si(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ci(h)}e.setRequestHeader=function(h,_){this.u.append(h,_)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=_.next();return h.join(`\r
`)};function Ci(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Rl(h){let _="";return nt(h,function(b,A){_+=A,_+=":",_+=b,_+=`\r
`}),_}function Ge(h,_,b){t:{for(A in b){var A=!1;break t}A=!0}A||(b=Rl(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):te(h,_,b))}function Yt(h){ce.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Yt,ce);var Wa=/^https?$/i,ia=["POST","PUT"];e=Yt.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,_,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bi.g(),this.v=this.o?Gr(this.o):Gr(bi),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(Q){Rc(this,Q);return}if(h=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)b.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())b.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ia,_,void 0))||A||z||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ct]of b)this.g.setRequestHeader(Q,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sa(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){Rc(this,Q)}};function Rc(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,Za(h),Ri(h)}function Za(h){h.A||(h.A=!0,Gt(h,"complete"),Gt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Gt(this,"complete"),Gt(this,"abort"),Ri(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),Yt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ja(this):this.bb())},e.bb=function(){Ja(this)};function Ja(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Kn(h)!=4||h.Z()!=2)){if(h.u&&Kn(h)==4)He(h.Ea,0,h);else if(Gt(h,"readystatechange"),Kn(h)==4){h.h=!1;try{const ct=h.Z();t:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var b;if(!(b=_)){var A;if(A=ct===0){var z=String(h.D).match(Wr)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),A=!Wa.test(z?z.toLowerCase():"")}b=A}if(b)Gt(h,"complete"),Gt(h,"success");else{h.m=6;try{var Q=2<Kn(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",Za(h)}}finally{Ri(h)}}}}function Ri(h,_){if(h.g){sa(h);const b=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||Gt(h,"ready");try{b.onreadystatechange=A}catch{}}}function sa(h){h.I&&(d.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function Kn(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Ls(_)}};function Ic(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function md(h){const _={};h=(h.g&&2<=Kn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(J(h[A]))continue;var b=j(h[A]);const z=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=_[z]||[];_[z]=Q,Q.push(b)}N(_,function(A){return A.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ra(h,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||_}function to(h){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ra("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ra("baseRetryDelayMs",5e3,h),this.cb=ra("retryDelaySeedMs",1e4,h),this.Wa=ra("forwardChannelMaxRetries",2,h),this.wa=ra("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ns(h&&h.concurrentRequestLimit),this.Da=new na,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=to.prototype,e.la=8,e.G=1,e.connect=function(h,_,b,A){Jt(0),this.W=h,this.H=_||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.I=jc(this,null,this.W),no(this)};function Il(h){if(Nc(h),h.G==3){var _=h.U++,b=Dn(h.I);if(te(b,"SID",h.K),te(b,"RID",_),te(b,"TYPE","terminate"),aa(h,b),_=new pn(h,h.j,_),_.L=2,_.v=Jr(Dn(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!b&&d.Image&&(new Image().src=_.v,b=!0),b||(_.g=Pc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),$r(_)}Oc(h)}function eo(h){h.g&&(oa(h),h.g.cancel(),h.g=null)}function Nc(h){eo(h),h.u&&(d.clearTimeout(h.u),h.u=null),io(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function no(h){if(!Ka(h.h)&&!h.s){h.s=!0;var _=h.Ga;ot||k(),ft||(ot(),ft=!0),_t.add(_,h),h.B=0}}function pd(h,_){return Ya(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=fe(x(h.Ga,h,_),Ml(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const z=new pn(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=S(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)t:{for(var _=0,b=0;b<this.i.length;b++){e:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(_+=A,4096<_){_=b;break t}if(_===4096||b===this.i.length-1){_=b+1;break t}}_=1e3}else _=1e3;_=Dc(this,z,_),b=Dn(this.I),te(b,"RID",h),te(b,"CVER",22),this.D&&te(b,"X-HTTP-Session-Id",this.D),aa(this,b),Q&&(this.O?_="headers="+encodeURIComponent(String(Rl(Q)))+"&"+_:this.m&&Ge(b,this.m,Q)),Qa(this.h,z),this.Ua&&te(b,"TYPE","init"),this.P?(te(b,"$req",_),te(b,"SID","null"),z.T=!0,ui(z,b,null)):ui(z,b,_),this.G=2}}else this.G==3&&(h?Nl(this,h):this.i.length==0||Ka(this.h)||Nl(this))};function Nl(h,_){var b;_?b=_.l:b=h.U++;const A=Dn(h.I);te(A,"SID",h.K),te(A,"RID",b),te(A,"AID",h.T),aa(h,A),h.m&&h.o&&Ge(A,h.m,h.o),b=new pn(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),_&&(h.i=_.D.concat(h.i)),_=Dc(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Qa(h.h,b),ui(b,A,_)}function aa(h,_){h.H&&nt(h.H,function(b,A){te(_,A,b)}),h.l&&xl({},function(b,A){te(_,A,b)})}function Dc(h,_,b){b=Math.min(h.i.length,b);var A=h.l?x(h.l.Na,h.l,h):null;t:{var z=h.i;let Q=-1;for(;;){const ct=["count="+b];Q==-1?0<b?(Q=z[0].g,ct.push("ofs="+Q)):Q=0:ct.push("ofs="+Q);let Bt=!0;for(let Pe=0;Pe<b;Pe++){let zt=z[Pe].g;const Ke=z[Pe].map;if(zt-=Q,0>zt)Q=Math.max(0,z[Pe].g-100),Bt=!1;else try{Ai(Ke,ct,"req"+zt+"_")}catch{A&&A(Ke)}}if(Bt){A=ct.join("&");break t}}}return h=h.i.splice(0,b),_.D=h,A}function Mc(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;ot||k(),ft||(ot(),ft=!0),_t.add(_,h),h.v=0}}function Dl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=fe(x(h.Fa,h),Ml(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,Vc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=fe(x(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),eo(this),Vc(this))};function oa(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Vc(h){h.g=new pn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=Dn(h.qa);te(_,"RID","rpc"),te(_,"SID",h.K),te(_,"AID",h.T),te(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&te(_,"TO",h.ja),te(_,"TYPE","xmlhttp"),aa(h,_),h.m&&h.o&&Ge(_,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=Jr(Dn(_)),b.m=null,b.P=!0,es(b,h)}e.Za=function(){this.C!=null&&(this.C=null,eo(this),Dl(this),Jt(19))};function io(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function kc(h,_){var b=null;if(h.g==_){io(h),oa(h),h.g=null;var A=2}else if(bl(h.h,_))b=_.D,gn(h.h,_),A=1;else return;if(h.G!=0){if(_.o)if(A==1){b=_.m?_.m.length:0,_=Date.now()-_.F;var z=h.B;A=he(),Gt(A,new pe(A,b)),no(h)}else Mc(h);else if(z=_.s,z==3||z==0&&0<_.X||!(A==1&&pd(h,_)||A==2&&Dl(h)))switch(b&&0<b.length&&(_=h.h,_.i=_.i.concat(b)),z){case 1:ls(h,5);break;case 4:ls(h,10);break;case 3:ls(h,6);break;default:ls(h,2)}}}function Ml(h,_){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*_}function ls(h,_){if(h.j.info("Error code "+_),_==2){var b=x(h.fb,h),A=h.Xa;const z=!A;A=new Ne(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Zr(A,"https"),Jr(A),z?ea(A.toString(),b):ci(A.toString(),b)}else Jt(2);h.G=0,h.l&&h.l.sa(_),Oc(h),Nc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function Oc(h){if(h.G=0,h.ka=[],h.l){const _=El(h.h);(_.length!=0||h.i.length!=0)&&(q(h.ka,_),q(h.ka,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.ra()}}function jc(h,_,b){var A=b instanceof Ne?Dn(b):new Ne(b);if(A.g!="")_&&(A.g=_+"."+A.g),Fs(A,A.s);else{var z=d.location;A=z.protocol,_=_?_+"."+z.hostname:z.hostname,z=+z.port;var Q=new Ne(null);A&&Zr(Q,A),_&&(Q.g=_),z&&Fs(Q,z),b&&(Q.l=b),A=Q}return b=h.D,_=h.ya,b&&_&&te(A,b,_),te(A,"VER",h.la),aa(h,A),A}function Pc(h,_,b){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new Yt(new Hs({eb:b})):new Yt(h.pa),_.Ha(h.J),_}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lc(){}e=Lc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function so(){}so.prototype.g=function(h,_){return new yn(h,_)};function yn(h,_){ce.call(this),this.g=new to(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!J(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!J(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Ii(this)}R(yn,ce),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Il(this.g)},yn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=In(h),h=b);_.i.push(new Ac(_.Ya++,h)),_.G==3&&no(_)},yn.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,yn.aa.N.call(this)};function Uc(h){Nn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){t:{for(const b in _){h=b;break t}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}R(Uc,Nn);function Bc(){Yr.call(this),this.status=1}R(Bc,Yr);function Ii(h){this.g=h}R(Ii,Lc),Ii.prototype.ua=function(){Gt(this.g,"a")},Ii.prototype.ta=function(h){Gt(this.g,new Uc(h))},Ii.prototype.sa=function(h){Gt(this.g,new Bc)},Ii.prototype.ra=function(){Gt(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,R1=function(){return new so},C1=function(){return he()},S1=X,Jp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bs.NO_ERROR=0,Bs.TIMEOUT=8,Bs.HTTP_ERROR=6,sf=Bs,ts.COMPLETE="complete",A1=ts,Kr.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",ce.prototype.listen=ce.prototype.K,xu=Kr,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,w1=Yt}).apply(typeof Fh<"u"?Fh:typeof self<"u"?self:typeof window<"u"?window:{});const gb="@firebase/firestore",yb="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new zg("@firebase/firestore");function ko(){return Pa.logLevel}function mt(e,...t){if(Pa.logLevel<=Pt.DEBUG){const n=t.map(Zg);Pa.debug(`Firestore (${cl}): ${e}`,...n)}}function Ns(e,...t){if(Pa.logLevel<=Pt.ERROR){const n=t.map(Zg);Pa.error(`Firestore (${cl}): ${e}`,...n)}}function Zo(e,...t){if(Pa.logLevel<=Pt.WARN){const n=t.map(Zg);Pa.warn(`Firestore (${cl}): ${e}`,...n)}}function Zg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,I1(e,s,n)}function I1(e,t,n){let s=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ns(s),new Error(s)}function Qt(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||I1(t,a,s)}function It(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Os{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(hn.UNAUTHENTICATED)))}shutdown(){}}class cD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hD{constructor(t){this.t=t,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Qt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new wr,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new wr)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt(typeof s.accessToken=="string",31837,{l:s}),new N1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new hn(t)}}class fD{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dD{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new fD(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mD{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Qt(this.o===void 0,3512);const s=l=>{l.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,mt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=pD(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function Lt(e,t){return e<t?-1:e>t?1:0}function tg(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return _p(a)===_p(l)?Lt(a,l):_p(a)?1:-1}return Lt(e.length,t.length)}const gD=55296,yD=57343;function _p(e){const t=e.charCodeAt(0);return t>=gD&&t<=yD}function Jo(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="__name__";class ji{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ji.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ji?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=ji.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Lt(t.length,n.length)}static compareSegments(t,n){const s=ji.isNumericId(t),a=ji.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?ji.extractNumericId(t).compare(ji.extractNumericId(n)):tg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return xr.fromString(t.substring(4,t.length-2))}}class oe extends ji{construct(t,n,s){return new oe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new dt(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new oe(n)}static emptyPath(){return new oe([])}}const vD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends ji{construct(t,n,s){return new rn(t,n,s)}static isValidIdentifier(t){return vD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_b}static keyField(){return new rn([_b])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new dt(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new dt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new dt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new dt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(oe.fromString(t))}static fromName(t){return new vt(oe.fromString(t).popFirst(5))}static empty(){return new vt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new oe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(e,t,n){if(!n)throw new dt(et.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function _D(e,t,n,s){if(t===!0&&s===!0)throw new dt(et.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Tb(e){if(!vt.isDocumentKey(e))throw new dt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function bb(e){if(vt.isDocumentKey(e))throw new dt(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function M1(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Ff(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Et(12329,{type:typeof e})}function Bn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new dt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ff(e);throw new dt(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(e,t){const n={typeString:e};return t&&(n.value=t),n}function lc(e,t){if(!M1(e))throw new dt(et.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new dt(et.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=-62135596800,xb=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*xb);return new le(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new dt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Eb)throw new dt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xb}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(lc(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Eb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:je("string",le._jsonSchemaVersion),seconds:je("number"),nanoseconds:je("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new le(0,0))}static max(){return new Rt(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=-1;function TD(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=Rt.fromTimestamp(s===1e9?new le(n+1,0):new le(n,s));return new Cr(a,vt.empty(),t)}function bD(e){return new Cr(e.readTime,e.key,zu)}class Cr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Cr(Rt.min(),vt.empty(),zu)}static max(){return new Cr(Rt.max(),vt.empty(),zu)}}function ED(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(e.documentKey,t.documentKey),n!==0?n:Lt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(e){if(e.code!==et.FAILED_PRECONDITION||e.message!==xD)throw e;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new st(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof st?n:st.resolve(n)}catch(n){return st.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):st.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):st.reject(n)}static resolve(t){return new st(((n,s)=>{n(t)}))}static reject(t){return new st(((n,s)=>{s(t)}))}static waitFor(t){return new st(((n,s)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(t){let n=st.resolve(!1);for(const s of t)n=n.next((a=>a?st.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new st(((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(t[g]).next((v=>{c[g]=v,++d,d===l&&s(c)}),(v=>a(v)))}}))}static doWhile(t,n){return new st(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function AD(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Hf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=-1;function qf(e){return e==null}function xf(e){return e===0&&1/e==-1/0}function SD(e){return typeof e=="number"&&Number.isInteger(e)&&!xf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="";function CD(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=wb(t)),t=RD(e.get(n),t);return wb(t)}function RD(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case V1:n+="";break;default:n+=l}}return n}function wb(e){return e+V1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function jr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function k1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,n){this.comparator=t,this.root=n||sn.EMPTY}insert(t,n){return new ve(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hh(this.root,t,this.comparator,!0)}}class Hh{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sn{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??sn.RED,this.left=a??sn.EMPTY,this.right=l??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new sn(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return sn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new sn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sb(this.data.getIterator())}getIteratorFrom(t){return new Sb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ze(this.comparator);return n.data=t,n}}class Sb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new Un([])}unionWith(t){let n=new ze(rn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Un(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Jo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new O1("Invalid base64 string: "+l):l}})(t);return new an(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new an(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const ID=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(e){if(Qt(!!e,39018),typeof e=="string"){let t=0;const n=ID.exec(e);if(Qt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Se(e.seconds),nanos:Se(e.nanos)}}function Se(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ir(e){return typeof e=="string"?an.fromBase64String(e):an.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="server_timestamp",P1="__type__",L1="__previous_value__",U1="__local_write_time__";function ey(e){return(e?.mapValue?.fields||{})[P1]?.stringValue===j1}function Gf(e){const t=e.mapValue.fields[L1];return ey(t)?Gf(t):t}function Fu(e){const t=Rr(e.mapValue.fields[U1].timestampValue);return new le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t,n,s,a,l,c,d,m,g,v){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const wf="(default)";class Hu{constructor(t,n){this.projectId=t,this.database=n||wf}static empty(){return new Hu("","")}get isDefaultDatabase(){return this.database===wf}isEqual(t){return t instanceof Hu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="__type__",DD="__max__",qh={mapValue:{}},z1="__vector__",Af="value";function Nr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ey(e)?4:VD(e)?9007199254740991:MD(e)?10:11:Et(28295,{value:e})}function Yi(e,t){if(e===t)return!0;const n=Nr(e);if(n!==Nr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fu(e).isEqual(Fu(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Rr(a.timestampValue),d=Rr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return Ir(a.bytesValue).isEqual(Ir(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Se(a.geoPointValue.latitude)===Se(l.geoPointValue.latitude)&&Se(a.geoPointValue.longitude)===Se(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Se(a.integerValue)===Se(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Se(a.doubleValue),d=Se(l.doubleValue);return c===d?xf(c)===xf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return Jo(e.arrayValue.values||[],t.arrayValue.values||[],Yi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Ab(c)!==Ab(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Yi(c[m],d[m])))return!1;return!0})(e,t);default:return Et(52216,{left:e})}}function qu(e,t){return(e.values||[]).find((n=>Yi(n,t)))!==void 0}function tl(e,t){if(e===t)return 0;const n=Nr(e),s=Nr(t);if(n!==s)return Lt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=Se(l.integerValue||l.doubleValue),m=Se(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(e,t);case 3:return Cb(e.timestampValue,t.timestampValue);case 4:return Cb(Fu(e),Fu(t));case 5:return tg(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=Ir(l),m=Ir(c);return d.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=Lt(d[g],m[g]);if(v!==0)return v}return Lt(d.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=Lt(Se(l.latitude),Se(c.latitude));return d!==0?d:Lt(Se(l.longitude),Se(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return Rb(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},g=d[Af]?.arrayValue,v=m[Af]?.arrayValue,T=Lt(g?.values?.length||0,v?.values?.length||0);return T!==0?T:Rb(g,v)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===qh.mapValue&&c===qh.mapValue)return 0;if(l===qh.mapValue)return 1;if(c===qh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let T=0;T<m.length&&T<v.length;++T){const x=tg(m[T],v[T]);if(x!==0)return x;const C=tl(d[m[T]],g[v[T]]);if(C!==0)return C}return Lt(m.length,v.length)})(e.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function Cb(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Lt(e,t);const n=Rr(e),s=Rr(t),a=Lt(n.seconds,s.seconds);return a!==0?a:Lt(n.nanos,s.nanos)}function Rb(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=tl(n[a],s[a]);if(l)return l}return Lt(n.length,s.length)}function el(e){return eg(e)}function eg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=Rr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Ir(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return vt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=eg(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${eg(n.fields[c])}`;return a+"}"})(e.mapValue):Et(61005,{value:e})}function rf(e){switch(Nr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Gf(e);return t?16+rf(t):16;case 5:return 2*e.stringValue.length;case 6:return Ir(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+rf(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return jr(s.fields,((l,c)=>{a+=l.length+rf(c)})),a})(e.mapValue);default:throw Et(13486,{value:e})}}function Ib(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ng(e){return!!e&&"integerValue"in e}function ny(e){return!!e&&"arrayValue"in e}function Nb(e){return!!e&&"nullValue"in e}function Db(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function af(e){return!!e&&"mapValue"in e}function MD(e){return(e?.mapValue?.fields||{})[B1]?.stringValue===z1}function Nu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return jr(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Nu(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Nu(e.arrayValue.values[n]);return t}return{...e}}function VD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===DD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.value=t}static empty(){return new Sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!af(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nu(n)}setAll(t){let n=rn.emptyPath(),s={},a=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Nu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());af(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Yi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];af(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){jr(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new Sn(Nu(this.value))}}function F1(e){const t=[];return jr(e.fields,((n,s)=>{const a=new rn([n]);if(af(s)){const l=F1(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new Un(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t,n,s,a,l,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new fn(t,0,Rt.min(),Rt.min(),Rt.min(),Sn.empty(),0)}static newFoundDocument(t,n,s,a){return new fn(t,1,n,Rt.min(),s,a,0)}static newNoDocument(t,n){return new fn(t,2,n,Rt.min(),Rt.min(),Sn.empty(),0)}static newUnknownDocument(t,n){return new fn(t,3,n,Rt.min(),Rt.min(),Sn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof fn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t,n){this.position=t,this.inclusive=n}}function Mb(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=vt.comparator(vt.fromName(c.referenceValue),n.key):s=tl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Vb(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Yi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t,n="asc"){this.field=t,this.dir=n}}function kD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{}class Oe extends H1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new jD(t,n,s):n==="array-contains"?new UD(t,s):n==="in"?new BD(t,s):n==="not-in"?new zD(t,s):n==="array-contains-any"?new FD(t,s):new Oe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new PD(t,s):new LD(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tl(n,this.value)):n!==null&&Nr(this.value)===Nr(n)&&this.matchesComparison(tl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends H1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new gi(t,n)}matches(t){return q1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function q1(e){return e.op==="and"}function G1(e){return OD(e)&&q1(e)}function OD(e){for(const t of e.filters)if(t instanceof gi)return!1;return!0}function ig(e){if(e instanceof Oe)return e.field.canonicalString()+e.op.toString()+el(e.value);if(G1(e))return e.filters.map((t=>ig(t))).join(",");{const t=e.filters.map((n=>ig(n))).join(",");return`${e.op}(${t})`}}function K1(e,t){return e instanceof Oe?(function(s,a){return a instanceof Oe&&s.op===a.op&&s.field.isEqual(a.field)&&Yi(s.value,a.value)})(e,t):e instanceof gi?(function(s,a){return a instanceof gi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&K1(c,a.filters[d])),!0):!1})(e,t):void Et(19439)}function Y1(e){return e instanceof Oe?(function(n){return`${n.field.canonicalString()} ${n.op} ${el(n.value)}`})(e):e instanceof gi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Y1).join(" ,")+"}"})(e):"Filter"}class jD extends Oe{constructor(t,n,s){super(t,n,s),this.key=vt.fromName(s.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class PD extends Oe{constructor(t,n){super(t,"in",n),this.keys=Q1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class LD extends Oe{constructor(t,n){super(t,"not-in",n),this.keys=Q1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Q1(e,t){return(t.arrayValue?.values||[]).map((n=>vt.fromName(n.referenceValue)))}class UD extends Oe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ny(n)&&qu(n.arrayValue,this.value)}}class BD extends Oe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&qu(this.value.arrayValue,n)}}class zD extends Oe{constructor(t,n){super(t,"not-in",n)}matches(t){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qu(this.value.arrayValue,n)}}class FD extends Oe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ny(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>qu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,n=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function kb(e,t=null,n=[],s=[],a=null,l=null,c=null){return new HD(e,t,n,s,a,l,c)}function iy(e){const t=It(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>ig(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),qf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>el(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>el(s))).join(",")),t.Te=n}return t.Te}function sy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!kD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!K1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Vb(e.startAt,t.startAt)&&Vb(e.endAt,t.endAt)}function sg(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qD(e,t,n,s,a,l,c,d){return new dl(e,t,n,s,a,l,c,d)}function ry(e){return new dl(e)}function Ob(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function $1(e){return e.collectionGroup!==null}function Du(e){const t=It(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new ze(rn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Gu(l,s))})),n.has(rn.keyField().canonicalString())||t.Ie.push(new Gu(rn.keyField(),s))}return t.Ie}function Bi(e){const t=It(e);return t.Ee||(t.Ee=GD(t,Du(e))),t.Ee}function GD(e,t){if(e.limitType==="F")return kb(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Gu(a.field,l)}));const n=e.endAt?new Sf(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Sf(e.startAt.position,e.startAt.inclusive):null;return kb(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function rg(e,t){const n=e.filters.concat([t]);return new dl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ag(e,t,n){return new dl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Kf(e,t){return sy(Bi(e),Bi(t))&&e.limitType===t.limitType}function X1(e){return`${iy(Bi(e))}|lt:${e.limitType}`}function Oo(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>Y1(a))).join(", ")}]`),qf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>el(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>el(a))).join(",")),`Target(${s})`})(Bi(e))}; limitType=${e.limitType})`}function Yf(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):vt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of Du(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const g=Mb(c,d,m);return c.inclusive?g<=0:g<0})(s.startAt,Du(s),a)||s.endAt&&!(function(c,d,m){const g=Mb(c,d,m);return c.inclusive?g>=0:g>0})(s.endAt,Du(s),a))})(e,t)}function KD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function W1(e){return(t,n)=>{let s=!1;for(const a of Du(e)){const l=YD(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function YD(e,t,n){const s=e.field.isKeyField()?vt.comparator(t.key,n.key):(function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?tl(m,g):Et(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){jr(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return k1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new ve(vt.comparator);function Ds(){return QD}const Z1=new ve(vt.comparator);function wu(...e){let t=Z1;for(const n of e)t=t.insert(n.key,n);return t}function J1(e){let t=Z1;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ca(){return Mu()}function tw(){return Mu()}function Mu(){return new Ua((e=>e.toString()),((e,t)=>e.isEqual(t)))}const $D=new ve(vt.comparator),XD=new ze(vt.comparator);function Ut(...e){let t=XD;for(const n of e)t=t.add(n);return t}const WD=new ze(Lt);function ZD(){return WD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(t)?"-0":t}}function ew(e){return{integerValue:""+e}}function JD(e,t){return SD(t)?ew(t):ay(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(){this._=void 0}}function t4(e,t,n){return e instanceof Ku?(function(a,l){const c={fields:{[P1]:{stringValue:j1},[U1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ey(l)&&(l=Gf(l)),l&&(c.fields[L1]=l),{mapValue:c}})(n,t):e instanceof Yu?iw(e,t):e instanceof Qu?sw(e,t):(function(a,l){const c=nw(a,l),d=jb(c)+jb(a.Ae);return ng(c)&&ng(a.Ae)?ew(d):ay(a.serializer,d)})(e,t)}function e4(e,t,n){return e instanceof Yu?iw(e,t):e instanceof Qu?sw(e,t):n}function nw(e,t){return e instanceof Cf?(function(s){return ng(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class Ku extends Qf{}class Yu extends Qf{constructor(t){super(),this.elements=t}}function iw(e,t){const n=rw(t);for(const s of e.elements)n.some((a=>Yi(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Qu extends Qf{constructor(t){super(),this.elements=t}}function sw(e,t){let n=rw(t);for(const s of e.elements)n=n.filter((a=>!Yi(a,s)));return{arrayValue:{values:n}}}class Cf extends Qf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function jb(e){return Se(e.integerValue||e.doubleValue)}function rw(e){return ny(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(t,n){this.field=t,this.transform=n}}function i4(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof Yu&&a instanceof Yu||s instanceof Qu&&a instanceof Qu?Jo(s.elements,a.elements,Yi):s instanceof Cf&&a instanceof Cf?Yi(s.Ae,a.Ae):s instanceof Ku&&a instanceof Ku})(e.transform,t.transform)}class s4{constructor(t,n){this.version=t,this.transformResults=n}}class Tn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Tn}static exists(t){return new Tn(void 0,t)}static updateTime(t){return new Tn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function of(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class $f{}function aw(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Xf(e.key,Tn.none()):new uc(e.key,e.data,Tn.none());{const n=e.data,s=Sn.empty();let a=new ze(rn.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Pr(e.key,s,new Un(a.toArray()),Tn.none())}}function r4(e,t,n){e instanceof uc?(function(a,l,c){const d=a.value.clone(),m=Lb(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof Pr?(function(a,l,c){if(!of(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Lb(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(ow(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Vu(e,t,n,s){return e instanceof uc?(function(l,c,d,m){if(!of(l.precondition,c))return d;const g=l.value.clone(),v=Ub(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,s):e instanceof Pr?(function(l,c,d,m){if(!of(l.precondition,c))return d;const g=Ub(l.fieldTransforms,m,c),v=c.data;return v.setAll(ow(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(e,t,n,s):(function(l,c,d){return of(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function a4(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=nw(s.transform,a||null);l!=null&&(n===null&&(n=Sn.empty()),n.set(s.field,l))}return n||null}function Pb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Jo(s,a,((l,c)=>i4(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class uc extends $f{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Pr extends $f{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ow(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function Lb(e,t,n){const s=new Map;Qt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,e4(c,d,n[a]))}return s}function Ub(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,t4(l,c,t))}return s}class Xf extends $f{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o4 extends $f{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&r4(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Vu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Vu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=tw();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=aw(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Rt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Jo(this.mutations,t.mutations,((n,s)=>Pb(n,s)))&&Jo(this.baseMutations,t.baseMutations,((n,s)=>Pb(n,s)))}}class oy{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){Qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return $D})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new oy(t,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,Ht;function h4(e){switch(e){case et.OK:return Et(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Et(15467,{code:e})}}function lw(e){if(e===void 0)return Ns("GRPC error has no .code"),et.UNKNOWN;switch(e){case Ve.OK:return et.OK;case Ve.CANCELLED:return et.CANCELLED;case Ve.UNKNOWN:return et.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return et.INTERNAL;case Ve.UNAVAILABLE:return et.UNAVAILABLE;case Ve.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ve.NOT_FOUND:return et.NOT_FOUND;case Ve.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ve.ABORTED:return et.ABORTED;case Ve.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ve.DATA_LOSS:return et.DATA_LOSS;default:return Et(39323,{code:e})}}(Ht=Ve||(Ve={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=new xr([4294967295,4294967295],0);function Bb(e){const t=f4().encode(e),n=new x1;return n.update(t),new Uint8Array(n.digest())}function zb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new xr([n,s],0),new xr([a,l],0)]}class ly{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Au(`Invalid padding: ${n}`);if(s<0)throw new Au(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Au(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Au(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=xr.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(xr.fromNumber(s)));return a.compare(d4)===1&&(a=new xr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Bb(t),[s,a]=zb(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new ly(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=Bb(t),[s,a]=zb(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,cc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Wf(Rt.min(),a,new ve(Lt),Ds(),Ut())}}class cc{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new cc(s,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,n,s,a){this.be=t,this.removedTargetIds=n,this.key=s,this.De=a}}class uw{constructor(t,n){this.targetId=t,this.Ce=n}}class cw{constructor(t,n,s=an.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Fb{constructor(){this.ve=0,this.Fe=Hb(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),s=Ut();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Et(38017,{changeType:l})}})),new cc(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=Hb()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class m4{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ds(),this.Je=Gh(),this.He=Gh(),this.Ye=new ve(Lt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(sg(l))if(s===0){const c=new vt(l.path);this.et(n,c,fn.newNoDocument(c,Rt.min()))}else Qt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Ir(s).toUint8Array()}catch(m){if(m instanceof O1)return Zo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new ly(c,a,l)}catch(m){return Zo(m instanceof Au?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&sg(d.target)){const m=new vt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,fn.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Ut();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new Wf(t,n,this.Ye,this.je,s);return this.je=Ds(),this.Je=Gh(),this.He=Gh(),this.Ye=new ve(Lt),a}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Fb,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ze(Lt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ze(Lt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||mt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Fb),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Gh(){return new ve(vt.comparator)}function Hb(){return new ve(vt.comparator)}const p4={asc:"ASCENDING",desc:"DESCENDING"},g4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y4={and:"AND",or:"OR"};class v4{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function og(e,t){return e.useProto3Json||qf(t)?t:{value:t}}function Rf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function _4(e,t){return Rf(e,t.toTimestamp())}function zi(e){return Qt(!!e,49232),Rt.fromTimestamp((function(n){const s=Rr(n);return new le(s.seconds,s.nanos)})(e))}function uy(e,t){return lg(e,t).canonicalString()}function lg(e,t){const n=(function(a){return new oe(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function fw(e){const t=oe.fromString(e);return Qt(yw(t),10190,{key:t.toString()}),t}function ug(e,t){return uy(e.databaseId,t.path)}function Tp(e,t){const n=fw(t);if(n.get(1)!==e.databaseId.projectId)throw new dt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new dt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vt(mw(n))}function dw(e,t){return uy(e.databaseId,t)}function T4(e){const t=fw(e);return t.length===4?oe.emptyPath():mw(t)}function cg(e){return new oe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mw(e){return Qt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function qb(e,t,n){return{name:ug(e,t),fields:n.value.mapValue.fields}}function b4(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Et(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(Qt(v===void 0||typeof v=="string",58123),an.fromBase64String(v||"")):(Qt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),an.fromUint8Array(v||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?et.UNKNOWN:lw(g.code);return new dt(v,g.message||"")})(c);n=new cw(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=Tp(e,s.document.name),l=zi(s.document.updateTime),c=s.document.createTime?zi(s.document.createTime):Rt.min(),d=new Sn({mapValue:{fields:s.document.fields}}),m=fn.newFoundDocument(a,l,c,d),g=s.targetIds||[],v=s.removedTargetIds||[];n=new lf(g,v,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=Tp(e,s.document),l=s.readTime?zi(s.readTime):Rt.min(),c=fn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new lf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=Tp(e,s.document),l=s.removedTargetIds||[];n=new lf([],l,a,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new c4(a,l),d=s.targetId;n=new uw(d,c)}}return n}function E4(e,t){let n;if(t instanceof uc)n={update:qb(e,t.key,t.value)};else if(t instanceof Xf)n={delete:ug(e,t.key)};else if(t instanceof Pr)n={update:qb(e,t.key,t.data),updateMask:D4(t.fieldMask)};else{if(!(t instanceof o4))return Et(16599,{Vt:t.type});n={verify:ug(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof Ku)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Yu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Qu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Cf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Et(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:_4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Et(27497)})(e,t.precondition)),n}function x4(e,t){return e&&e.length>0?(Qt(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?zi(a.updateTime):zi(l);return c.isEqual(Rt.min())&&(c=zi(l)),new s4(c,a.transformResults||[])})(n,t)))):[]}function w4(e,t){return{documents:[dw(e,t.path)]}}function A4(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dw(e,a);const l=(function(g){if(g.length!==0)return gw(gi.create(g,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(x){return{field:jo(x.field),direction:R4(x.dir)}})(v)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=og(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:a}}function S4(e){let t=T4(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Qt(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:t=t.child(v.collectionId)}let l=[];n.where&&(l=(function(T){const x=pw(T);return x instanceof gi&&G1(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((x=>(function(R){return new Gu(Po(R.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(T){let x;return x=typeof T=="object"?T.value:T,qf(x)?null:x})(n.limit));let m=null;n.startAt&&(m=(function(T){const x=!!T.before,C=T.values||[];return new Sf(C,x)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const x=!T.before,C=T.values||[];return new Sf(C,x)})(n.endAt)),qD(t,a,c,l,d,"F",m,g)}function C4(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function pw(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Po(n.unaryFilter.field);return Oe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Po(n.unaryFilter.field);return Oe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Po(n.unaryFilter.field);return Oe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Po(n.unaryFilter.field);return Oe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Oe.create(Po(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return gi.create(n.compositeFilter.filters.map((s=>pw(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(e):Et(30097,{filter:e})}function R4(e){return p4[e]}function I4(e){return g4[e]}function N4(e){return y4[e]}function jo(e){return{fieldPath:e.canonicalString()}}function Po(e){return rn.fromServerFormat(e.fieldPath)}function gw(e){return e instanceof Oe?(function(n){if(n.op==="=="){if(Db(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NAN"}};if(Nb(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Db(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NOT_NAN"}};if(Nb(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(n.field),op:I4(n.op),value:n.value}}})(e):e instanceof gi?(function(n){const s=n.getFilters().map((a=>gw(a)));return s.length===1?s[0]:{compositeFilter:{op:N4(n.op),filters:s}}})(e):Et(54877,{filter:e})}function D4(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function yw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t,n,s,a,l=Rt.min(),c=Rt.min(),d=an.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new _r(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(t){this.yt=t}}function V4(e){const t=S4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ag(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.Cn=new O4}addToCollectionParentIndex(t,n){return this.Cn.add(n),st.resolve()}getCollectionParents(t,n){return st.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return st.resolve()}deleteFieldIndex(t,n){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,n){return st.resolve()}getDocumentsMatchingTarget(t,n){return st.resolve(null)}getIndexType(t,n){return st.resolve(0)}getFieldIndexes(t,n){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,n){return st.resolve(Cr.min())}getMinOffsetFromCollectionGroup(t,n){return st.resolve(Cr.min())}updateCollectionGroup(t,n,s){return st.resolve()}updateIndexEntries(t,n){return st.resolve()}}class O4{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new ze(oe.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new ze(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vw=41943040;class An{static withCacheSize(t){return new An(t,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(vw,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="LruGarbageCollector",j4=1048576;function Yb([e,t],[n,s]){const a=Lt(e,n);return a===0?Lt(t,s):a}class P4{constructor(t){this.Ir=t,this.buffer=new ze(Yb),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Yb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class L4{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){mt(Kb,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fl(n)?mt(Kb,"Ignoring IndexedDB error during garbage collection: ",n):await hl(n)}await this.Vr(3e5)}))}}class U4{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return st.resolve(Hf.ce);const s=new P4(n);return this.mr.forEachTarget(t,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(Gb)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gb):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,a,l,c,d,m,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(t,a)))).next((T=>(s=T,d=Date.now(),this.removeTargets(t,s,n)))).next((T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),ko()<=Pt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function B4(e,t){return new U4(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.changes=new Ua((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,fn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?st.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&Vu(s.mutation,a,Un.empty(),le.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ut()){const a=Ca();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=wu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=Ca();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ut())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,a){let l=Ds();const c=Mu(),d=(function(){return Mu()})();return n.forEach(((m,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Pr)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Vu(v.mutation,g,v.mutation.getFieldMask(),le.now())):c.set(g.key,Un.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>d.set(g,new F4(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=Mu();let a=new ve(((c,d)=>c-d)),l=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let v=s.get(m)||Un.empty();v=d.applyToLocalView(g,v),s.set(m,v);const T=(a.get(d.batchId)||Ut()).add(m);a=a.insert(d.batchId,T)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,T=tw();v.forEach((x=>{if(!l.has(x)){const C=aw(n.get(x),s.get(x));C!==null&&T.set(x,C),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return st.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return(function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):$1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):st.resolve(Ca());let d=zu,m=l;return c.next((g=>st.forEach(g,((v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?st.resolve():this.remoteDocumentCache.getEntry(t,v).next((x=>{m=m.insert(v,x)}))))).next((()=>this.populateOverlays(t,g,l))).next((()=>this.computeViews(t,m,g,Ut()))).next((v=>({batchId:d,changes:J1(v)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next((s=>{let a=wu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=wu();return this.indexManager.getCollectionParents(t,l).next((d=>st.forEach(d,(m=>{const g=(function(T,x){return new dl(x,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,a).next((v=>{v.forEach(((T,x)=>{c=c.insert(T,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,fn.newInvalidDocument(v)))}));let d=wu();return c.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&Vu(v.mutation,g,Un.empty(),le.now()),Yf(n,g)&&(d=d.insert(m,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return st.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:zi(a.createTime)}})(n)),st.resolve()}getNamedQuery(t,n){return st.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:V4(a.bundledQuery),readTime:zi(a.readTime)}})(n)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(){this.overlays=new ve(vt.comparator),this.qr=new Map}getOverlay(t,n){return st.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ca();return st.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.St(t,n,l)})),st.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),st.resolve()}getOverlaysForCollection(t,n,s){const a=Ca(),l=n.length+1,c=new vt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return st.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new ve(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=Ca(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Ca(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return st.resolve(d)}St(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new u4(n,s));let l=this.qr.get(n);l===void 0&&(l=Ut(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(){this.Qr=new ze(Xe.$r),this.Ur=new ze(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Xe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Xe(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new vt(new oe([])),s=new Xe(n,t),a=new Xe(n,t+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new vt(new oe([])),s=new Xe(n,t),a=new Xe(n,t+1);let l=Ut();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new Xe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Xe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return vt.comparator(t.key,n.key)||Lt(t.Yr,n.Yr)}static Kr(t,n){return Lt(t.Yr,n.Yr)||vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ze(Xe.$r)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new l4(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Xe(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,n){return st.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return st.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?ty:this.tr-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Xe(n,0),a=new Xe(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),st.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new ze(Lt);return n.forEach((a=>{const l=new Xe(a,0),c=new Xe(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),st.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;vt.isDocumentKey(l)||(l=l.child(""));const c=new Xe(new vt(l),0);let d=new ze(Lt);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)}),c),st.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Qt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return st.forEach(n.mutations,(a=>{const l=new Xe(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Xe(n,0),a=this.Zr.firstAfterOrEqual(s);return st.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(t){this.ri=t,this.docs=(function(){return new ve(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return st.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(t,n){let s=Ds();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():fn.newInvalidDocument(a))})),st.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=Ds();const c=n.path,d=new vt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||ED(bD(v),s)<=0||(a.has(v.key)||Yf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return st.resolve(l)}getAllFromCollectionGroup(t,n,s,a){Et(9500)}ii(t,n){return st.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new $4(this)}getSize(t){return st.resolve(this.size)}}class $4 extends z4{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(s)})),st.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(t){this.persistence=t,this.si=new Ua((n=>iy(n)),sy),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new cy,this.targetCount=0,this.ai=nl.ur()}forEachTarget(t,n){return this.si.forEach(((s,a)=>n(a))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),st.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new nl(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,st.resolve()}updateTargetData(t,n){return this.Pr(n),st.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),st.waitFor(l).next((()=>a))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return st.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),st.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),st.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),st.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return st.resolve(s)}containsKey(t,n){return st.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t,n){this.ui={},this.overlays={},this.ci=new Hf(0),this.li=!1,this.li=!0,this.hi=new K4,this.referenceDelegate=t(this),this.Pi=new X4(this),this.indexManager=new k4,this.remoteDocumentCache=(function(a){return new Q4(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new M4(n),this.Ii=new q4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new G4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new Y4(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){mt("MemoryPersistence","Starting transaction:",t);const a=new W4(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,n){return st.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class W4 extends wD{constructor(t){super(),this.currentSequenceNumber=t}}class hy{constructor(t){this.persistence=t,this.Ri=new cy,this.Vi=null}static mi(t){return new hy(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),st.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),st.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),st.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.fi,(s=>{const a=vt.fromPath(s);return this.gi(t,a).next((l=>{l||n.removeEntry(a,Rt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return st.or([()=>st.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class If{constructor(t,n){this.persistence=t,this.pi=new Ua((s=>CD(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=B4(this,n)}static mi(t,n){return new If(t,n)}Ei(){}di(t){return st.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return st.forEach(this.pi,((s,a)=>this.br(t,s,a).next((l=>l?st.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,n).next((d=>{d||(s++,l.removeEntry(c,Rt.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),st.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),st.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),st.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=rf(t.data.value)),n}br(t,n,s){return st.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return st.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=a}static As(t,n){let s=Ut(),a=Ut();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new fy(t,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zC()?8:AD(mn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Z4;return this.Ss(t,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>l.result))}bs(t,n,s,a){return s.documentReadCount<this.fs?(ko()<=Pt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),st.resolve()):(ko()<=Pt.DEBUG&&mt("QueryEngine","Query:",Oo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(ko()<=Pt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Bi(n))):st.resolve())}ys(t,n){if(Ob(n))return st.resolve(null);let s=Bi(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ag(n,null,"F"),s=Bi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=Ut(...l);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((m=>{const g=this.Ds(n,d);return this.Cs(n,g,c,m.readTime)?this.ys(t,ag(n,null,"F")):this.vs(t,g,n,m)}))))})))))}ws(t,n,s,a){return Ob(n)||a.isEqual(Rt.min())?st.resolve(null):this.ps.getDocuments(t,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?st.resolve(null):(ko()<=Pt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Oo(n)),this.vs(t,c,n,TD(a,zu)).next((d=>d)))}))}Ds(t,n){let s=new ze(W1(t));return n.forEach(((a,l)=>{Yf(t,l)&&(s=s.add(l))})),s}Cs(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,s){return ko()<=Pt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Oo(n)),this.ps.getDocumentsMatchingQuery(t,n,Cr.min(),s)}vs(t,n,s,a){return this.ps.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="LocalStore",tM=3e8;class eM{constructor(t,n,s,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new ve(Lt),this.xs=new Ua((l=>iy(l)),sy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new H4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function nM(e,t,n,s){return new eM(e,t,n,s)}async function Tw(e,t){const n=It(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=Ut();for(const g of a){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function iM(e,t){const n=It(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,v){const T=g.batch,x=T.keys();let C=st.resolve();return x.forEach((R=>{C=C.next((()=>v.getEntry(m,R))).next((L=>{const q=g.docVersions.get(R);Qt(q!==null,48541),L.version.compareTo(q)<0&&(T.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),v.addEntry(L)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(m,T)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Ut();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function bw(e){const t=It(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function sM(e,t){const n=It(e),s=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];t.targetChanges.forEach(((v,T)=>{const x=a.get(T);if(!x)return;d.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,T))));let C=x.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(T)!==null?C=C.withResumeToken(an.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,s)),a=a.insert(T,C),(function(L,q,Z){return L.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=tM?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(x,C,v)&&d.push(n.Pi.updateTargetData(l,C))}));let m=Ds(),g=Ut();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(rM(l,c,t.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!s.isEqual(Rt.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(v)}return st.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function rM(e,t,n){let s=Ut(),a=Ut();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=Ds();return n.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Rt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):mt(dy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function aM(e,t){const n=It(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=ty),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function oM(e,t){const n=It(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,t).next((l=>l?(a=l,st.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new _r(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function hg(e,t,n){const s=It(e),a=s.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!fl(c))throw c;mt(dy,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(a.target)}function Qb(e,t,n){const s=It(e);let a=Rt.min(),l=Ut();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,v){const T=It(m),x=T.xs.get(v);return x!==void 0?st.resolve(T.Ms.get(x)):T.Pi.getTargetData(g,v)})(s,c,Bi(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?a:Rt.min(),n?l:Ut()))).next((d=>(lM(s,KD(t),d),{documents:d,Qs:l})))))}function lM(e,t,n){let s=e.Os.get(t)||Rt.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Os.set(t,s)}class $b{constructor(){this.activeTargetIds=ZD()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uM{constructor(){this.Mo=new $b,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new $b,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="ConnectivityMonitor";class Wb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){mt(Xb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){mt(Xb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh=null;function fg(){return Kh===null?Kh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kh++,"0x"+Kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="RestConnection",hM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===wf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(t,n,s,a,l){const c=fg(),d=this.zo(t,n.toUriEncodedString());mt(bp,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),v=ol(g);return this.Jo(t,d,m,s,v).then((T=>(mt(bp,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw Zo(bp,`RPC '${t}' ${c} failed with error: `,T,"url: ",d,"request:",s),T}))}Ho(t,n,s,a,l,c){return this.Go(t,n,s,a,l)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}zo(t,n){const s=hM[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class mM extends fM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,a,l){const c=fg();return new Promise(((d,m)=>{const g=new w1;g.setWithCredentials(!0),g.listenOnce(A1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case sf.NO_ERROR:const T=g.getResponseJson();mt(cn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),d(T);break;case sf.TIMEOUT:mt(cn,`RPC '${t}' ${c} timed out`),m(new dt(et.DEADLINE_EXCEEDED,"Request time out"));break;case sf.HTTP_ERROR:const x=g.getStatus();if(mt(cn,`RPC '${t}' ${c} failed with status:`,x,"response text:",g.getResponseText()),x>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const R=C?.error;if(R&&R.status&&R.message){const L=(function(Z){const J=Z.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(J)>=0?J:et.UNKNOWN})(R.status);m(new dt(L,R.message))}else m(new dt(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new dt(et.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{mt(cn,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(a);mt(cn,`RPC '${t}' ${c} sending request:`,a),g.send(n,"POST",v,s,15)}))}T_(t,n,s){const a=fg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=R1(),d=C1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=l.join("");mt(cn,`Creating RPC '${t}' stream ${a}: ${v}`,m);const T=c.createWebChannel(v,m);this.I_(T);let x=!1,C=!1;const R=new dM({Yo:q=>{C?mt(cn,`Not sending because RPC '${t}' stream ${a} is closed:`,q):(x||(mt(cn,`Opening RPC '${t}' stream ${a} transport.`),T.open(),x=!0),mt(cn,`RPC '${t}' stream ${a} sending:`,q),T.send(q))},Zo:()=>T.close()}),L=(q,Z,J)=>{q.listen(Z,(B=>{try{J(B)}catch(lt){setTimeout((()=>{throw lt}),0)}}))};return L(T,xu.EventType.OPEN,(()=>{C||(mt(cn,`RPC '${t}' stream ${a} transport opened.`),R.o_())})),L(T,xu.EventType.CLOSE,(()=>{C||(C=!0,mt(cn,`RPC '${t}' stream ${a} transport closed`),R.a_(),this.E_(T))})),L(T,xu.EventType.ERROR,(q=>{C||(C=!0,Zo(cn,`RPC '${t}' stream ${a} transport errored. Name:`,q.name,"Message:",q.message),R.a_(new dt(et.UNAVAILABLE,"The operation could not be completed")))})),L(T,xu.EventType.MESSAGE,(q=>{if(!C){const Z=q.data[0];Qt(!!Z,16349);const J=Z,B=J?.error||J[0]?.error;if(B){mt(cn,`RPC '${t}' stream ${a} received error:`,B);const lt=B.status;let at=(function(S){const I=Ve[S];if(I!==void 0)return lw(I)})(lt),nt=B.message;at===void 0&&(at=et.INTERNAL,nt="Unknown error status: "+lt+" with message "+B.message),C=!0,R.a_(new dt(at,nt)),T.close()}else mt(cn,`RPC '${t}' stream ${a} received:`,Z),R.u_(Z)}})),L(d,S1.STAT_EVENT,(q=>{q.stat===Jp.PROXY?mt(cn,`RPC '${t}' stream ${a} detected buffering proxy`):q.stat===Jp.NOPROXY&&mt(cn,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(e){return new v4(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&mt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="PersistentStream";class xw{constructor(t,n,s,a,l,c,d,m){this.Mi=t,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ew(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(Ns(n.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new dt(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(Zb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(mt(Zb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pM extends xw{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=b4(this.serializer,t),s=(function(l){if(!("targetChange"in l))return Rt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Rt.min():c.readTime?zi(c.readTime):Rt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=cg(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=sg(m)?{documents:w4(l,m)}:{query:A4(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=hw(l,c.resumeToken);const g=og(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Rt.min())>0){d.readTime=Rf(l,c.snapshotVersion.toTimestamp());const g=og(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=C4(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=cg(this.serializer),n.removeTarget=t,this.q_(n)}}class gM extends xw{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=x4(t.writeResults,t.commitTime),s=zi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=cg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>E4(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{}class vM extends yM{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new dt(et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,lg(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new dt(et.UNKNOWN,l.toString())}))}Ho(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,lg(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(et.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _M{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(n),this.aa=!1):mt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="RemoteStore";class TM{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Ba(this)&&(mt(La,"Restarting streams for network reachability change."),await(async function(m){const g=It(m);g.Ea.add(4),await hc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Jf(g)})(this))}))})),this.Ra=new _M(s,a)}}async function Jf(e){if(Ba(e))for(const t of e.da)await t(!0)}async function hc(e){for(const t of e.da)await t(!1)}function ww(e,t){const n=It(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),yy(n)?gy(n):ml(n).O_()&&py(n,t))}function my(e,t){const n=It(e),s=ml(n);n.Ia.delete(t),s.O_()&&Aw(n,t),n.Ia.size===0&&(s.O_()?s.L_():Ba(n)&&n.Ra.set("Unknown"))}function py(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ml(e).Y_(t)}function Aw(e,t){e.Va.Ue(t),ml(e).Z_(t)}function gy(e){e.Va=new m4({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),ml(e).start(),e.Ra.ua()}function yy(e){return Ba(e)&&!ml(e).x_()&&e.Ia.size>0}function Ba(e){return It(e).Ea.size===0}function Sw(e){e.Va=void 0}async function bM(e){e.Ra.set("Online")}async function EM(e){e.Ia.forEach(((t,n)=>{py(e,t)}))}async function xM(e,t){Sw(e),yy(e)?(e.Ra.ha(t),gy(e)):e.Ra.set("Unknown")}async function wM(e,t,n){if(e.Ra.set("Online"),t instanceof cw&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(e,t)}catch(s){mt(La,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Nf(e,s)}else if(t instanceof lf?e.Va.Ze(t):t instanceof uw?e.Va.st(t):e.Va.tt(t),!n.isEqual(Rt.min()))try{const s=await bw(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(an.EMPTY_BYTE_STRING,v.snapshotVersion)),Aw(l,m);const T=new _r(v.target,m,g,v.sequenceNumber);py(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){mt(La,"Failed to raise snapshot:",s),await Nf(e,s)}}async function Nf(e,t,n){if(!fl(t))throw t;e.Ea.add(1),await hc(e),e.Ra.set("Offline"),n||(n=()=>bw(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{mt(La,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Jf(e)}))}function Cw(e,t){return t().catch((n=>Nf(e,n,t)))}async function td(e){const t=It(e),n=Dr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ty;for(;AM(t);)try{const a=await aM(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,SM(t,a)}catch(a){await Nf(t,a)}Rw(t)&&Iw(t)}function AM(e){return Ba(e)&&e.Ta.length<10}function SM(e,t){e.Ta.push(t);const n=Dr(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Rw(e){return Ba(e)&&!Dr(e).x_()&&e.Ta.length>0}function Iw(e){Dr(e).start()}async function CM(e){Dr(e).ra()}async function RM(e){const t=Dr(e);for(const n of e.Ta)t.ea(n.mutations)}async function IM(e,t,n){const s=e.Ta.shift(),a=oy.from(s,t,n);await Cw(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await td(e)}async function NM(e,t){t&&Dr(e).X_&&await(async function(s,a){if((function(c){return h4(c)&&c!==et.ABORTED})(a.code)){const l=s.Ta.shift();Dr(s).B_(),await Cw(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await td(s)}})(e,t),Rw(e)&&Iw(e)}async function Jb(e,t){const n=It(e);n.asyncQueue.verifyOperationInProgress(),mt(La,"RemoteStore received new credentials");const s=Ba(n);n.Ea.add(3),await hc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Jf(n)}async function DM(e,t){const n=It(e);t?(n.Ea.delete(2),await Jf(n)):t||(n.Ea.add(2),await hc(n),n.Ra.set("Unknown"))}function ml(e){return e.ma||(e.ma=(function(n,s,a){const l=It(n);return l.sa(),new pM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:bM.bind(null,e),t_:EM.bind(null,e),r_:xM.bind(null,e),H_:wM.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),yy(e)?gy(e):e.Ra.set("Unknown")):(await e.ma.stop(),Sw(e))}))),e.ma}function Dr(e){return e.fa||(e.fa=(function(n,s,a){const l=It(n);return l.sa(),new gM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:CM.bind(null,e),r_:NM.bind(null,e),ta:RM.bind(null,e),na:IM.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await td(e)):(await e.fa.stop(),e.Ta.length>0&&(mt(La,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,d=new vy(t,n,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _y(e,t){if(Ns("AsyncQueue",`${t}: ${e}`),fl(e))return new dt(et.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static emptySet(t){return new Qo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||vt.comparator(n.key,s.key):(n,s)=>vt.comparator(n.key,s.key),this.keyedMap=wu(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Qo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Qo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(){this.ga=new ve(vt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class il{constructor(t,n,s,a,l,c,d,m,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new il(t,n,Qo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Kf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class VM{constructor(){this.queries=eE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=It(n),l=a.queries;a.queries=eE(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new dt(et.ABORTED,"Firestore shutting down"))}}function eE(){return new Ua((e=>X1(e)),Kf)}async function Nw(e,t){const n=It(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(s=2):(l=new MM,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=_y(c,`Initialization of query '${Oo(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&Ty(n)}async function Dw(e,t){const n=It(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function kM(e,t){const n=It(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&Ty(n)}function OM(e,t,n){const s=It(e),a=s.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(t)}function Ty(e){e.Ca.forEach((t=>{t.next()}))}var dg,nE;(nE=dg||(dg={})).Ma="default",nE.Cache="cache";class Mw{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new il(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=il.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t){this.key=t}}class kw{constructor(t){this.key=t}}class jM{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=W1(t),this.tu=new Qo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new tE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((v,T)=>{const x=a.get(v),C=Yf(this.query,T)?T:null,R=!!x&&this.mutatedKeys.has(x.key),L=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let q=!1;x&&C?x.data.isEqual(C.data)?R!==L&&(s.track({type:3,doc:C}),q=!0):this.su(x,C)||(s.track({type:2,doc:C}),q=!0,(m&&this.eu(C,m)>0||g&&this.eu(C,g)<0)&&(d=!0)):!x&&C?(s.track({type:0,doc:C}),q=!0):x&&!C&&(s.track({type:1,doc:x}),q=!0,(m||g)&&(d=!0)),q&&(C?(c=c.add(C),l=L?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,T)=>(function(C,R){const L=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:q})}};return L(C)-L(R)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new il(this.query,t.tu,l,c,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new kw(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new Vw(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const by="SyncEngine";class PM{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class LM{constructor(t){this.key=t,this.hu=!1}}class UM{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ua((d=>X1(d)),Kf),this.Iu=new Map,this.Eu=new Set,this.du=new ve(vt.comparator),this.Au=new Map,this.Ru=new cy,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BM(e,t,n=!0){const s=Bw(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Ow(s,t,n,!0),a}async function zM(e,t){const n=Bw(e);await Ow(n,t,!0,!1)}async function Ow(e,t,n,s){const a=await oM(e.localStore,Bi(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await FM(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&ww(e.remoteStore,a),d}async function FM(e,t,n,s,a){e.pu=(T,x,C)=>(async function(L,q,Z,J){let B=q.view.ru(Z);B.Cs&&(B=await Qb(L.localStore,q.query,!1).then((({documents:N})=>q.view.ru(N,B))));const lt=J&&J.targetChanges.get(q.targetId),at=J&&J.targetMismatches.get(q.targetId)!=null,nt=q.view.applyChanges(B,L.isPrimaryClient,lt,at);return sE(L,q.targetId,nt.au),nt.snapshot})(e,T,x,C);const l=await Qb(e.localStore,t,!0),c=new jM(t,l.Qs),d=c.ru(l.documents),m=cc.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),g=c.applyChanges(d,e.isPrimaryClient,m);sE(e,n,g.au);const v=new PM(t,n,c);return e.Tu.set(t,v),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function HM(e,t,n){const s=It(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Kf(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await hg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&my(s.remoteStore,a.targetId),mg(s,a.targetId)})).catch(hl)):(mg(s,a.targetId),await hg(s.localStore,a.targetId,!0))}async function qM(e,t){const n=It(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),my(n.remoteStore,s.targetId))}async function GM(e,t,n){const s=ZM(e);try{const a=await(function(c,d){const m=It(c),g=le.now(),v=d.reduce(((C,R)=>C.add(R.key)),Ut());let T,x;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let R=Ds(),L=Ut();return m.Ns.getEntries(C,v).next((q=>{R=q,R.forEach(((Z,J)=>{J.isValidDocument()||(L=L.add(Z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,R))).next((q=>{T=q;const Z=[];for(const J of d){const B=a4(J,T.get(J.key).overlayedDocument);B!=null&&Z.push(new Pr(J.key,B,F1(B.value.mapValue),Tn.exists(!0)))}return m.mutationQueue.addMutationBatch(C,g,Z,d)})).next((q=>{x=q;const Z=q.applyToLocalDocumentSet(T,L);return m.documentOverlayCache.saveOverlays(C,q.batchId,Z)}))})).then((()=>({batchId:x.batchId,changes:J1(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new ve(Lt)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g})(s,a.batchId,n),await fc(s,a.changes),await td(s.remoteStore)}catch(a){const l=_y(a,"Failed to persist write");n.reject(l)}}async function jw(e,t){const n=It(e);try{const s=await sM(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Qt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Qt(c.hu,14607):a.removedDocuments.size>0&&(Qt(c.hu,42227),c.hu=!1))})),await fc(n,s,t)}catch(s){await hl(s)}}function iE(e,t,n){const s=It(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=It(c);m.onlineState=d;let g=!1;m.queries.forEach(((v,T)=>{for(const x of T.Sa)x.va(d)&&(g=!0)})),g&&Ty(m)})(s.eventManager,t),a.length&&s.Pu.H_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function KM(e,t,n){const s=It(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new ve(vt.comparator);c=c.insert(l,fn.newNoDocument(l,Rt.min()));const d=Ut().add(l),m=new Wf(Rt.min(),new Map,new ve(Lt),c,d);await jw(s,m),s.du=s.du.remove(l),s.Au.delete(t),Ey(s)}else await hg(s.localStore,t,!1).then((()=>mg(s,t,n))).catch(hl)}async function YM(e,t){const n=It(e),s=t.batch.batchId;try{const a=await iM(n.localStore,t);Lw(n,s,null),Pw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fc(n,a)}catch(a){await hl(a)}}async function QM(e,t,n){const s=It(e);try{const a=await(function(c,d){const m=It(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next((T=>(Qt(T!==null,37113),v=T.keys(),m.mutationQueue.removeMutationBatch(g,T)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(s.localStore,t);Lw(s,t,n),Pw(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await fc(s,a)}catch(a){await hl(a)}}function Pw(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function Lw(e,t,n){const s=It(e);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.Vu[s.currentUser.toKey()]=a}}function mg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((s=>{e.Ru.containsKey(s)||Uw(e,s)}))}function Uw(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(my(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Ey(e))}function sE(e,t,n){for(const s of n)s instanceof Vw?(e.Ru.addReference(s.key,t),$M(e,s)):s instanceof kw?(mt(by,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||Uw(e,s.key)):Et(19791,{wu:s})}function $M(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(mt(by,"New document in limbo: "+n),e.Eu.add(s),Ey(e))}function Ey(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new vt(oe.fromString(t)),s=e.fu.next();e.Au.set(s,new LM(n)),e.du=e.du.insert(n,s),ww(e.remoteStore,new _r(Bi(ry(n.path)),s,"TargetPurposeLimboResolution",Hf.ce))}}async function fc(e,t,n){const s=It(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){a.push(g);const v=fy.As(m.targetId,g);l.push(v)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,g){const v=It(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>st.forEach(g,(x=>st.forEach(x.Es,(C=>v.persistence.referenceDelegate.addReference(T,x.targetId,C))).next((()=>st.forEach(x.ds,(C=>v.persistence.referenceDelegate.removeReference(T,x.targetId,C)))))))))}catch(T){if(!fl(T))throw T;mt(dy,"Failed to update sequence numbers: "+T)}for(const T of g){const x=T.targetId;if(!T.fromCache){const C=v.Ms.get(x),R=C.snapshotVersion,L=C.withLastLimboFreeSnapshotVersion(R);v.Ms=v.Ms.insert(x,L)}}})(s.localStore,l))}async function XM(e,t){const n=It(e);if(!n.currentUser.isEqual(t)){mt(by,"User change. New user:",t.toKey());const s=await Tw(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new dt(et.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await fc(n,s.Ls)}}function WM(e,t){const n=It(e),s=n.Au.get(t);if(s&&s.hu)return Ut().add(s.key);{let a=Ut();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function Bw(e){const t=It(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=WM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KM.bind(null,t),t.Pu.H_=kM.bind(null,t.eventManager),t.Pu.yu=OM.bind(null,t.eventManager),t}function ZM(e){const t=It(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=YM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=QM.bind(null,t),t}class Df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return nM(this.persistence,new J4,t.initialUser,this.serializer)}Cu(t){return new _w(hy.mi,this.serializer)}Du(t){return new uM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Df.provider={build:()=>new Df};class JM extends Df{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Qt(this.persistence.referenceDelegate instanceof If,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new L4(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new _w((s=>If.mi(s,n)),this.serializer)}}class pg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>iE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=XM.bind(null,this.syncEngine),await DM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new VM})()}createDatastore(t){const n=Zf(t.databaseInfo.databaseId),s=(function(l){return new mM(l)})(t.databaseInfo);return(function(l,c,d,m){return new vM(l,c,d,m)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,d){return new TM(s,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>iE(this.syncEngine,n,0)),(function(){return Wb.v()?new Wb:new cM})())}createSyncEngine(t,n){return(function(a,l,c,d,m,g,v){const T=new UM(a,l,c,d,m,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=It(n);mt(La,"RemoteStore shutting down."),s.Ea.add(5),await hc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pg.provider={build:()=>new pg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ns("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="FirestoreClient";class tV{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=Jg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{mt(Mr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(mt(Mr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=_y(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function xp(e,t){e.asyncQueue.verifyOperationInProgress(),mt(Mr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await Tw(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function rE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await eV(e);mt(Mr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>Jb(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>Jb(t.remoteStore,a))),e._onlineComponents=t}async function eV(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){mt(Mr,"Using user provided OfflineComponentProvider");try{await xp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===et.FAILED_PRECONDITION||a.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Zo("Error using user provided cache. Falling back to memory cache: "+n),await xp(e,new Df)}}else mt(Mr,"Using default OfflineComponentProvider"),await xp(e,new JM(void 0));return e._offlineComponents}async function Fw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(mt(Mr,"Using user provided OnlineComponentProvider"),await rE(e,e._uninitializedComponentsProvider._online)):(mt(Mr,"Using default OnlineComponentProvider"),await rE(e,new pg))),e._onlineComponents}function nV(e){return Fw(e).then((t=>t.syncEngine))}async function gg(e){const t=await Fw(e),n=t.eventManager;return n.onListen=BM.bind(null,t.syncEngine),n.onUnlisten=HM.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=zM.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=qM.bind(null,t.syncEngine),n}function iV(e,t,n={}){const s=new wr;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const v=new zw({next:x=>{v.Nu(),c.enqueueAndForget((()=>Dw(l,T))),x.fromCache&&m.source==="server"?g.reject(new dt(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),T=new Mw(d,v,{includeMetadataChanges:!0,qa:!0});return Nw(l,T)})(await gg(e),e.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="firestore.googleapis.com",oE=!0;class lE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new dt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qw,this.ssl=oE}else this.host=t.host,this.ssl=t.ssl??oE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<j4)throw new dt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_D("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hw(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new dt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new dt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new dt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ed{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new uD;switch(s.type){case"firstParty":return new dD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new dt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=aE.get(n);s&&(mt("ComponentProvider","Removing Datastore"),aE.delete(n),s.terminate())})(this),Promise.resolve()}}function sV(e,t,n,s={}){e=Bn(e,ed);const a=ol(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;a&&(Lx(`https://${d}`),Ux("Firestore",!0)),l.host!==qw&&l.host!==d&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!ka(m,c)&&(e._setSettings(m),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=hn.MOCK_USER;else{g=MC(s.mockUserToken,e._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new dt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new hn(T)}e._authCredentials=new cD(new N1(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Lr(this.firestore,t,this._query)}}class Ce{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(lc(n,Ce._jsonSchema))return new Ce(t,s||null,new vt(oe.fromString(n.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:je("string",Ce._jsonSchemaVersion),referencePath:je("string")};class Ar extends Lr{constructor(t,n,s){super(t,n,ry(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new vt(t))}withConverter(t){return new Ar(this.firestore,t,this._path)}}function Uo(e,t,...n){if(e=Fe(e),D1("collection","path",t),e instanceof ed){const s=oe.fromString(t,...n);return bb(s),new Ar(e,null,s)}{if(!(e instanceof Ce||e instanceof Ar))throw new dt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(oe.fromString(t,...n));return bb(s),new Ar(e.firestore,null,s)}}function Sr(e,t,...n){if(e=Fe(e),arguments.length===1&&(t=Jg.newId()),D1("doc","path",t),e instanceof ed){const s=oe.fromString(t,...n);return Tb(s),new Ce(e,null,new vt(s))}{if(!(e instanceof Ce||e instanceof Ar))throw new dt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(oe.fromString(t,...n));return Tb(s),new Ce(e.firestore,e instanceof Ar?e.converter:null,new vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="AsyncQueue";class cE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ew(this,"async_queue_retry"),this._c=()=>{const s=Ep();s&&mt(uE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!fl(t))throw t;mt(uE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",hE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=vy.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Et(47125,{Pc:hE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function hE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(e){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(e,["next","error","complete"])}class Ms extends ed{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new cE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new cE(t),this._firestoreClient=void 0,await t}}}function rV(e,t){const n=typeof e=="object"?e:Hx(),s=typeof e=="string"?e:wf,a=Hg(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=NC("firestore");l&&sV(a,...l)}return a}function nd(e){if(e._terminated)throw new dt(et.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||aV(e),e._firestoreClient}function aV(e){const t=e._freezeSettings(),n=(function(a,l,c,d){return new ND(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Hw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new tV(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t){this._byteString=t}static fromBase64String(t){try{return new si(an.fromBase64String(t))}catch(n){throw new dt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new si(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(lc(t,si._jsonSchema))return si.fromBase64String(t.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:je("string",si._jsonSchemaVersion),bytes:je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new dt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new dt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new dt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(t){if(lc(t,Fi._jsonSchema))return new Fi(t.latitude,t.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:je("string",Fi._jsonSchemaVersion),latitude:je("number"),longitude:je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(lc(t,Hi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Hi(t.vectorValues);throw new dt(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:je("string",Hi._jsonSchemaVersion),vectorValues:je("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=/^__.*__$/;class lV{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Pr(t,this.data,this.fieldMask,n,this.fieldTransforms):new uc(t,this.data,n,this.fieldTransforms)}}class Gw{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Pr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Kw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:e})}}class xy{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new xy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Mf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Kw(this.Ac)&&oV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class uV{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Zf(t)}Cc(t,n,s,a=!1){return new xy({Ac:t,methodName:n,Dc:s,path:rn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mc(e){const t=e._freezeSettings(),n=Zf(e._databaseId);return new uV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wy(e,t,n,s,a,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,a);Sy("Data must be an object, but it was:",c,s);const d=$w(s,c);let m,g;if(l.merge)m=new Un(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const x=yg(t,T,n);if(!c.contains(x))throw new dt(et.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Ww(v,x)||v.push(x)}m=new Un(v),g=c.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,g=c.fieldTransforms;return new lV(new Sn(d),m,g)}class sd extends id{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof sd}}class Ay extends id{_toFieldTransform(t){return new n4(t.path,new Ku)}isEqual(t){return t instanceof Ay}}function Yw(e,t,n,s){const a=e.Cc(1,t,n);Sy("Data must be an object, but it was:",a,s);const l=[],c=Sn.empty();jr(s,((m,g)=>{const v=Cy(t,m,n);g=Fe(g);const T=a.yc(v);if(g instanceof sd)l.push(v);else{const x=pc(g,T);x!=null&&(l.push(v),c.set(v,x))}}));const d=new Un(l);return new Gw(c,d,a.fieldTransforms)}function Qw(e,t,n,s,a,l){const c=e.Cc(1,t,n),d=[yg(t,s,n)],m=[a];if(l.length%2!=0)throw new dt(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)d.push(yg(t,l[x])),m.push(l[x+1]);const g=[],v=Sn.empty();for(let x=d.length-1;x>=0;--x)if(!Ww(g,d[x])){const C=d[x];let R=m[x];R=Fe(R);const L=c.yc(C);if(R instanceof sd)g.push(C);else{const q=pc(R,L);q!=null&&(g.push(C),v.set(C,q))}}const T=new Un(g);return new Gw(v,T,c.fieldTransforms)}function cV(e,t,n,s=!1){return pc(n,e.Cc(s?4:3,t))}function pc(e,t){if(Xw(e=Fe(e)))return Sy("Unsupported field value:",t,e),$w(e,t);if(e instanceof id)return(function(s,a){if(!Kw(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=pc(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,a){if((s=Fe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return JD(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=le.fromDate(s);return{timestampValue:Rf(a.serializer,l)}}if(s instanceof le){const l=new le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rf(a.serializer,l)}}if(s instanceof Fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof si)return{bytesValue:hw(a.serializer,s._byteString)};if(s instanceof Ce){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:uy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Hi)return(function(c,d){return{mapValue:{fields:{[B1]:{stringValue:z1},[Af]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return ay(d.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Ff(s)}`)})(e,t)}function $w(e,t){const n={};return k1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jr(e,((s,a)=>{const l=pc(a,t.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function Xw(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof le||e instanceof Fi||e instanceof si||e instanceof Ce||e instanceof id||e instanceof Hi)}function Sy(e,t,n){if(!Xw(n)||!M1(n)){const s=Ff(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function yg(e,t,n){if((t=Fe(t))instanceof dc)return t._internalPath;if(typeof t=="string")return Cy(e,t);throw Mf("Field path arguments must be of type string or ",e,!1,void 0,n)}const hV=new RegExp("[~\\*/\\[\\]]");function Cy(e,t,n){if(t.search(hV)>=0)throw Mf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new dc(...t.split("."))._internalPath}catch{throw Mf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Mf(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new dt(et.INVALID_ARGUMENT,d+e+m)}function Ww(e,t){return e.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new fV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ry("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fV extends Zw{data(){return super.data()}}function Ry(e,t){return typeof t=="string"?Cy(e,t):t instanceof dc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new dt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iy{}class tA extends Iy{}function wp(e,t,...n){let s=[];t instanceof Iy&&s.push(t),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof Dy)).length,d=l.filter((m=>m instanceof Ny)).length;if(c>1||c>0&&d>0)throw new dt(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)e=a._apply(e);return e}class Ny extends tA{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Ny(t,n,s)}_apply(t){const n=this._parse(t);return eA(t._query,n),new Lr(t.firestore,t.converter,rg(t._query,n))}_parse(t){const n=mc(t.firestore);return(function(l,c,d,m,g,v,T){let x;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new dt(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){mE(T,v);const R=[];for(const L of T)R.push(dE(m,l,L));x={arrayValue:{values:R}}}else x=dE(m,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||mE(T,v),x=cV(d,c,T,v==="in"||v==="not-in");return Oe.create(g,v,x)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Dy extends Iy{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Dy(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:gi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)eA(c,m),c=rg(c,m)})(t._query,n),new Lr(t.firestore,t.converter,rg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class My extends tA{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new My(t,n)}_apply(t){const n=(function(a,l,c){if(a.startAt!==null)throw new dt(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new dt(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gu(l,c)})(t._query,this._field,this._direction);return new Lr(t.firestore,t.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new dl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,n))}}function dV(e,t="asc"){const n=t,s=Ry("orderBy",e);return My._create(s,n)}function dE(e,t,n){if(typeof(n=Fe(n))=="string"){if(n==="")throw new dt(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$1(t)&&n.indexOf("/")!==-1)throw new dt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(oe.fromString(n));if(!vt.isDocumentKey(s))throw new dt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ib(e,new vt(s))}if(n instanceof Ce)return Ib(e,n._key);throw new dt(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ff(n)}.`)}function mE(e,t){if(!Array.isArray(e)||e.length===0)throw new dt(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function eA(e,t){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new dt(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new dt(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class mV{convertValue(t,n="none"){switch(Nr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ir(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return jr(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[Af].arrayValue?.values?.map((s=>Se(s.doubleValue)));return new Hi(n)}convertGeoPoint(t){return new Fi(Se(t.latitude),Se(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Gf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Fu(t));default:return null}}convertTimestamp(t){const n=Rr(t);return new le(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=oe.fromString(t);Qt(yw(s),9688,{name:t});const a=new Hu(s.get(1),s.get(3)),l=new vt(s.popFirst(5));return a.isEqual(n)||Ns(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class Su{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Na extends Zw{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Ry("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Na._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Na._jsonSchemaVersion="firestore/documentSnapshot/1.0",Na._jsonSchema={type:je("string",Na._jsonSchemaVersion),bundleSource:je("string","DocumentSnapshot"),bundleName:je("string"),bundle:je("string")};class uf extends Na{data(t={}){return super.data(t)}}class Da{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Su(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new uf(this._firestore,this._userDataWriter,s.key,s,new Su(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new dt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new uf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Su(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new uf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Su(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:pV(d.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Da._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Jg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function pV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:e})}}Da._jsonSchemaVersion="firestore/querySnapshot/1.0",Da._jsonSchema={type:je("string",Da._jsonSchemaVersion),bundleSource:je("string","QuerySnapshot"),bundleName:je("string"),bundle:je("string")};class ky extends mV{constructor(t){super(),this.firestore=t}convertBytes(t){return new si(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,n)}}function gV(e){e=Bn(e,Lr);const t=Bn(e.firestore,Ms),n=nd(t),s=new ky(t);return Jw(e._query),iV(n,e._query).then((a=>new Da(t,s,e,a)))}function yV(e,t,n){e=Bn(e,Ce);const s=Bn(e.firestore,Ms),a=Vy(e.converter,t,n);return gc(s,[wy(mc(s),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,Tn.none())])}function vV(e,t,n,...s){e=Bn(e,Ce);const a=Bn(e.firestore,Ms),l=mc(a);let c;return c=typeof(t=Fe(t))=="string"||t instanceof dc?Qw(l,"updateDoc",e._key,t,n,s):Yw(l,"updateDoc",e._key,t),gc(a,[c.toMutation(e._key,Tn.exists(!0))])}function _V(e){return gc(Bn(e.firestore,Ms),[new Xf(e._key,Tn.none())])}function TV(e,t){const n=Bn(e.firestore,Ms),s=Sr(e),a=Vy(e.converter,t);return gc(n,[wy(mc(e.firestore),"addDoc",s._key,a,e.converter!==null,{}).toMutation(s._key,Tn.exists(!1))]).then((()=>s))}function Ap(e,...t){e=Fe(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||fE(t[s])||(n=t[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(fE(t[s])){const m=t[s];t[s]=m.next?.bind(m),t[s+1]=m.error?.bind(m),t[s+2]=m.complete?.bind(m)}let l,c,d;if(e instanceof Ce)c=Bn(e.firestore,Ms),d=ry(e._key.path),l={next:m=>{t[s]&&t[s](bV(c,e,m))},error:t[s+1],complete:t[s+2]};else{const m=Bn(e,Lr);c=Bn(m.firestore,Ms),d=m._query;const g=new ky(c);l={next:v=>{t[s]&&t[s](new Da(c,g,m,v))},error:t[s+1],complete:t[s+2]},Jw(e._query)}return(function(g,v,T,x){const C=new zw(x),R=new Mw(v,C,T);return g.asyncQueue.enqueueAndForget((async()=>Nw(await gg(g),R))),()=>{C.Nu(),g.asyncQueue.enqueueAndForget((async()=>Dw(await gg(g),R)))}})(nd(c),d,a,l)}function gc(e,t){return(function(s,a){const l=new wr;return s.asyncQueue.enqueueAndForget((async()=>GM(await nV(s),a,l))),l.promise})(nd(e),t)}function bV(e,t,n){const s=n.docs.get(t._key),a=new ky(e);return new Na(e,a,t._key,s,new Su(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=mc(t)}set(t,n,s){this._verifyNotCommitted();const a=Sp(t,this._firestore),l=Vy(a.converter,n,s),c=wy(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,Tn.none())),this}update(t,n,s,...a){this._verifyNotCommitted();const l=Sp(t,this._firestore);let c;return c=typeof(n=Fe(n))=="string"||n instanceof dc?Qw(this._dataReader,"WriteBatch.update",l._key,n,s,a):Yw(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,Tn.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Sp(t,this._firestore);return this._mutations=this._mutations.concat(new Xf(n._key,Tn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new dt(et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sp(e,t){if((e=Fe(e)).firestore!==t)throw new dt(et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function $o(){return new Ay("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(e){return nd(e=Bn(e,Ms)),new EV(e,(t=>gc(e,t)))}(function(t,n=!0){(function(a){cl=a})(ll),Wo(new Oa("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Ms(new hD(s.getProvider("auth-internal")),new mD(c,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new dt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(g.options.projectId,v)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Er(gb,yb,t),Er(gb,yb,"esm2020")})();const Oy=K.createContext({});function jy(e){const t=K.useRef(null);return t.current===null&&(t.current=e()),t.current}const Py=typeof window<"u",iA=Py?K.useLayoutEffect:K.useEffect,rd=K.createContext(null);function Ly(e,t){e.indexOf(t)===-1&&e.push(t)}function Uy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Vs=(e,t,n)=>n>t?t:n<e?e:n;let By=()=>{};const ks={},sA=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function rA(e){return typeof e=="object"&&e!==null}const aA=e=>/^0[^.\s]+$/u.test(e);function zy(e){let t;return()=>(t===void 0&&(t=e()),t)}const ri=e=>e,xV=(e,t)=>n=>t(e(n)),yc=(...e)=>e.reduce(xV),$u=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Fy{constructor(){this.subscriptions=[]}add(t){return Ly(this.subscriptions,t),()=>Uy(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qi=e=>e*1e3,Gi=e=>e/1e3;function oA(e,t){return t?e*(1e3/t):0}const lA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,wV=1e-7,AV=12;function SV(e,t,n,s,a){let l,c,d=0;do c=t+(n-t)/2,l=lA(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>wV&&++d<AV);return c}function vc(e,t,n,s){if(e===t&&n===s)return ri;const a=l=>SV(l,0,1,e,n);return l=>l===0||l===1?l:lA(a(l),t,s)}const uA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,cA=e=>t=>1-e(1-t),hA=vc(.33,1.53,.69,.99),Hy=cA(hA),fA=uA(Hy),dA=e=>(e*=2)<1?.5*Hy(e):.5*(2-Math.pow(2,-10*(e-1))),qy=e=>1-Math.sin(Math.acos(e)),mA=cA(qy),pA=uA(qy),CV=vc(.42,0,1,1),RV=vc(0,0,.58,1),gA=vc(.42,0,.58,1),IV=e=>Array.isArray(e)&&typeof e[0]!="number",yA=e=>Array.isArray(e)&&typeof e[0]=="number",NV={linear:ri,easeIn:CV,easeInOut:gA,easeOut:RV,circIn:qy,circInOut:pA,circOut:mA,backIn:Hy,backInOut:fA,backOut:hA,anticipate:dA},DV=e=>typeof e=="string",pE=e=>{if(yA(e)){By(e.length===4);const[t,n,s,a]=e;return vc(t,n,s,a)}else if(DV(e))return NV[e];return e},Yh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function MV(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){c.has(v)&&(g.schedule(v),e()),v(d)}const g={schedule:(v,T=!1,x=!1)=>{const R=x&&a?n:s;return T&&c.add(v),R.has(v)||R.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const VV=40;function vA(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Yh.reduce((B,lt)=>(B[lt]=MV(l),B),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:v,update:T,preRender:x,render:C,postRender:R}=c,L=()=>{const B=ks.useManualTiming?a.timestamp:performance.now();n=!1,ks.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(B-a.timestamp,VV),1)),a.timestamp=B,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),v.process(a),T.process(a),x.process(a),C.process(a),R.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(L))},q=()=>{n=!0,s=!0,a.isProcessing||e(L)};return{schedule:Yh.reduce((B,lt)=>{const at=c[lt];return B[lt]=(nt,N=!1,S=!1)=>(n||q(),at.schedule(nt,N,S)),B},{}),cancel:B=>{for(let lt=0;lt<Yh.length;lt++)c[Yh[lt]].cancel(B)},state:a,steps:c}}const{schedule:me,cancel:Vr,state:nn,steps:Cp}=vA(typeof requestAnimationFrame<"u"?requestAnimationFrame:ri,!0);let cf;function kV(){cf=void 0}const Cn={now:()=>(cf===void 0&&Cn.set(nn.isProcessing||ks.useManualTiming?nn.timestamp:performance.now()),cf),set:e=>{cf=e,queueMicrotask(kV)}},_A=e=>t=>typeof t=="string"&&t.startsWith(e),Gy=_A("--"),OV=_A("var(--"),Ky=e=>OV(e)?jV.test(e.split("/*")[0].trim()):!1,jV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Xu={...pl,transform:e=>Vs(0,1,e)},Qh={...pl,default:1},ku=e=>Math.round(e*1e5)/1e5,Yy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PV(e){return e==null}const LV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qy=(e,t)=>n=>!!(typeof n=="string"&&LV.test(n)&&n.startsWith(e)||t&&!PV(n)&&Object.prototype.hasOwnProperty.call(n,t)),TA=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(Yy);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},UV=e=>Vs(0,255,e),Rp={...pl,transform:e=>Math.round(UV(e))},Ra={test:Qy("rgb","red"),parse:TA("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Rp.transform(e)+", "+Rp.transform(t)+", "+Rp.transform(n)+", "+ku(Xu.transform(s))+")"};function BV(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const vg={test:Qy("#"),parse:BV,transform:Ra.transform},_c=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),mr=_c("deg"),Ki=_c("%"),St=_c("px"),zV=_c("vh"),FV=_c("vw"),gE={...Ki,parse:e=>Ki.parse(e)/100,transform:e=>Ki.transform(e*100)},Bo={test:Qy("hsl","hue"),parse:TA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ki.transform(ku(t))+", "+Ki.transform(ku(n))+", "+ku(Xu.transform(s))+")"},ke={test:e=>Ra.test(e)||vg.test(e)||Bo.test(e),parse:e=>Ra.test(e)?Ra.parse(e):Bo.test(e)?Bo.parse(e):vg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ra.transform(e):Bo.transform(e),getAnimatableNone:e=>{const t=ke.parse(e);return t.alpha=0,ke.transform(t)}},HV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qV(e){return isNaN(e)&&typeof e=="string"&&(e.match(Yy)?.length||0)+(e.match(HV)?.length||0)>0}const bA="number",EA="color",GV="var",KV="var(",yE="${}",YV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wu(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(YV,m=>(ke.test(m)?(s.color.push(l),a.push(EA),n.push(ke.parse(m))):m.startsWith(KV)?(s.var.push(l),a.push(GV),n.push(m)):(s.number.push(l),a.push(bA),n.push(parseFloat(m))),++l,yE)).split(yE);return{values:n,split:d,indexes:s,types:a}}function xA(e){return Wu(e).values}function wA(e){const{split:t,types:n}=Wu(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===bA?l+=ku(a[c]):d===EA?l+=ke.transform(a[c]):l+=a[c]}return l}}const QV=e=>typeof e=="number"?0:ke.test(e)?ke.getAnimatableNone(e):e;function $V(e){const t=xA(e);return wA(e)(t.map(QV))}const kr={test:qV,parse:xA,createTransformer:wA,getAnimatableNone:$V};function Ip(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function XV({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;a=Ip(m,d,e+1/3),l=Ip(m,d,e),c=Ip(m,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Vf(e,t){return n=>n>0?t:e}const ye=(e,t,n)=>e+(t-e)*n,Np=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},WV=[vg,Ra,Bo],ZV=e=>WV.find(t=>t.test(e));function vE(e){const t=ZV(e);if(!t)return!1;let n=t.parse(e);return t===Bo&&(n=XV(n)),n}const _E=(e,t)=>{const n=vE(e),s=vE(t);if(!n||!s)return Vf(e,t);const a={...n};return l=>(a.red=Np(n.red,s.red,l),a.green=Np(n.green,s.green,l),a.blue=Np(n.blue,s.blue,l),a.alpha=ye(n.alpha,s.alpha,l),Ra.transform(a))},_g=new Set(["none","hidden"]);function JV(e,t){return _g.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function tk(e,t){return n=>ye(e,t,n)}function $y(e){return typeof e=="number"?tk:typeof e=="string"?Ky(e)?Vf:ke.test(e)?_E:ik:Array.isArray(e)?AA:typeof e=="object"?ke.test(e)?_E:ek:Vf}function AA(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>$y(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function ek(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=$y(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function nk(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],d=e.values[c]??0;n[a]=d,s[l]++}return n}const ik=(e,t)=>{const n=kr.createTransformer(t),s=Wu(e),a=Wu(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?_g.has(e)&&!a.values.length||_g.has(t)&&!s.values.length?JV(e,t):yc(AA(nk(s,a),a.values),n):Vf(e,t)};function SA(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ye(e,t,n):$y(e)(e,t)}const sk=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>me.update(t,n),stop:()=>Vr(t),now:()=>nn.isProcessing?nn.timestamp:Cn.now()}},CA=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},kf=2e4;function Xy(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<kf;)t+=n,s=e.next(t);return t>=kf?1/0:t}function rk(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(Xy(s),kf);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:Gi(a)}}const ak=5;function RA(e,t,n){const s=Math.max(t-ak,0);return oA(n-e(s),t-s)}const be={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dp=.001;function ok({duration:e=be.duration,bounce:t=be.bounce,velocity:n=be.velocity,mass:s=be.mass}){let a,l,c=1-t;c=Vs(be.minDamping,be.maxDamping,c),e=Vs(be.minDuration,be.maxDuration,Gi(e)),c<1?(a=g=>{const v=g*c,T=v*e,x=v-n,C=Tg(g,c),R=Math.exp(-T);return Dp-x/C*R},l=g=>{const T=g*c*e,x=T*n+n,C=Math.pow(c,2)*Math.pow(g,2)*e,R=Math.exp(-T),L=Tg(Math.pow(g,2),c);return(-a(g)+Dp>0?-1:1)*((x-C)*R)/L}):(a=g=>{const v=Math.exp(-g*e),T=(g-n)*e+1;return-Dp+v*T},l=g=>{const v=Math.exp(-g*e),T=(n-g)*(e*e);return v*T});const d=5/e,m=uk(a,l,d);if(e=qi(e),isNaN(m))return{stiffness:be.stiffness,damping:be.damping,duration:e};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:e}}}const lk=12;function uk(e,t,n){let s=n;for(let a=1;a<lk;a++)s=s-e(s)/t(s);return s}function Tg(e,t){return e*Math.sqrt(1-t*t)}const ck=["duration","bounce"],hk=["stiffness","damping","mass"];function TE(e,t){return t.some(n=>e[n]!==void 0)}function fk(e){let t={velocity:be.velocity,stiffness:be.stiffness,damping:be.damping,mass:be.mass,isResolvedFromDuration:!1,...e};if(!TE(e,hk)&&TE(e,ck))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Vs(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:be.mass,stiffness:a,damping:l}}else{const n=ok(e);t={...t,...n,mass:be.mass},t.isResolvedFromDuration=!0}return t}function Of(e=be.visualDuration,t=be.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:g,mass:v,duration:T,velocity:x,isResolvedFromDuration:C}=fk({...n,velocity:-Gi(n.velocity||0)}),R=x||0,L=g/(2*Math.sqrt(m*v)),q=c-l,Z=Gi(Math.sqrt(m/v)),J=Math.abs(q)<5;s||(s=J?be.restSpeed.granular:be.restSpeed.default),a||(a=J?be.restDelta.granular:be.restDelta.default);let B;if(L<1){const at=Tg(Z,L);B=nt=>{const N=Math.exp(-L*Z*nt);return c-N*((R+L*Z*q)/at*Math.sin(at*nt)+q*Math.cos(at*nt))}}else if(L===1)B=at=>c-Math.exp(-Z*at)*(q+(R+Z*q)*at);else{const at=Z*Math.sqrt(L*L-1);B=nt=>{const N=Math.exp(-L*Z*nt),S=Math.min(at*nt,300);return c-N*((R+L*Z*q)*Math.sinh(S)+at*q*Math.cosh(S))/at}}const lt={calculatedDuration:C&&T||null,next:at=>{const nt=B(at);if(C)d.done=at>=T;else{let N=at===0?R:0;L<1&&(N=at===0?qi(R):RA(B,at,nt));const S=Math.abs(N)<=s,I=Math.abs(c-nt)<=a;d.done=S&&I}return d.value=d.done?c:nt,d},toString:()=>{const at=Math.min(Xy(lt),kf),nt=CA(N=>lt.next(at*N).value,at,30);return at+"ms "+nt},toTransition:()=>{}};return lt}Of.applyToOptions=e=>{const t=rk(e,100,Of);return e.ease=t.ease,e.duration=qi(t.duration),e.type="keyframes",e};function bg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:v}){const T=e[0],x={done:!1,value:T},C=S=>d!==void 0&&S<d||m!==void 0&&S>m,R=S=>d===void 0?m:m===void 0||Math.abs(d-S)<Math.abs(m-S)?d:m;let L=n*t;const q=T+L,Z=c===void 0?q:c(q);Z!==q&&(L=Z-T);const J=S=>-L*Math.exp(-S/s),B=S=>Z+J(S),lt=S=>{const I=J(S),V=B(S);x.done=Math.abs(I)<=g,x.value=x.done?Z:V};let at,nt;const N=S=>{C(x.value)&&(at=S,nt=Of({keyframes:[x.value,R(x.value)],velocity:RA(B,S,x.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return N(0),{calculatedDuration:null,next:S=>{let I=!1;return!nt&&at===void 0&&(I=!0,lt(S),N(S)),at!==void 0&&S>=at?nt.next(S-at):(!I&&lt(S),x)}}}function dk(e,t,n){const s=[],a=n||ks.mix||SA,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||ri:t;d=yc(m,d)}s.push(d)}return s}function mk(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(By(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=dk(t,s,a),m=d.length,g=v=>{if(c&&v<e[0])return t[0];let T=0;if(m>1)for(;T<e.length-2&&!(v<e[T+1]);T++);const x=$u(e[T],e[T+1],v);return d[T](x)};return n?v=>g(Vs(e[0],e[l-1],v)):g}function pk(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=$u(0,t,s);e.push(ye(n,1,a))}}function gk(e){const t=[0];return pk(t,e.length-1),t}function yk(e,t){return e.map(n=>n*t)}function vk(e,t){return e.map(()=>t||gA).splice(0,e.length-1)}function Ou({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=IV(s)?s.map(pE):pE(s),l={done:!1,value:t[0]},c=yk(n&&n.length===t.length?n:gk(t),e),d=mk(c,t,{ease:Array.isArray(a)?a:vk(t,a)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const _k=e=>e!==null;function Wy(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(_k),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const Tk={decay:bg,inertia:bg,tween:Ou,keyframes:Ou,spring:Of};function IA(e){typeof e.type=="string"&&(e.type=Tk[e.type])}class Zy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const bk=e=>e/100;class Jy extends Zy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;IA(t);const{type:n=Ou,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const m=n||Ou;m!==Ou&&typeof d[0]!="number"&&(this.mixKeyframes=yc(bk,SA(d[0],d[1])),d=[0,100]);const g=m({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Xy(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:T,repeatType:x,repeatDelay:C,type:R,onUpdate:L,finalKeyframe:q}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const Z=this.currentTime-g*(this.playbackSpeed>=0?1:-1),J=this.playbackSpeed>=0?Z<0:Z>a;this.currentTime=Math.max(Z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let B=this.currentTime,lt=s;if(T){const S=Math.min(this.currentTime,a)/d;let I=Math.floor(S),V=S%1;!V&&S>=1&&(V=1),V===1&&I--,I=Math.min(I,T+1),!!(I%2)&&(x==="reverse"?(V=1-V,C&&(V-=C/d)):x==="mirror"&&(lt=c)),B=Vs(0,1,V)*d}const at=J?{done:!1,value:v[0]}:lt.next(B);l&&(at.value=l(at.value));let{done:nt}=at;!J&&m!==null&&(nt=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&nt);return N&&R!==bg&&(at.value=Wy(v,this.options,q,this.speed)),L&&L(at.value),N&&this.finish(),at}then(t,n){return this.finished.then(t,n)}get duration(){return Gi(this.calculatedDuration)}get time(){return Gi(this.currentTime)}set time(t){t=qi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Cn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Gi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=sk,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Ek(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ia=e=>e*180/Math.PI,Eg=e=>{const t=Ia(Math.atan2(e[1],e[0]));return xg(t)},xk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Eg,rotateZ:Eg,skewX:e=>Ia(Math.atan(e[1])),skewY:e=>Ia(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},xg=e=>(e=e%360,e<0&&(e+=360),e),bE=Eg,EE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),xE=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),wk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:EE,scaleY:xE,scale:e=>(EE(e)+xE(e))/2,rotateX:e=>xg(Ia(Math.atan2(e[6],e[5]))),rotateY:e=>xg(Ia(Math.atan2(-e[2],e[0]))),rotateZ:bE,rotate:bE,skewX:e=>Ia(Math.atan(e[4])),skewY:e=>Ia(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function wg(e){return e.includes("scale")?1:0}function Ag(e,t){if(!e||e==="none")return wg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=wk,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=xk,a=d}if(!a)return wg(t);const l=s[t],c=a[1].split(",").map(Sk);return typeof l=="function"?l(c):c[l]}const Ak=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Ag(n,t)};function Sk(e){return parseFloat(e.trim())}const gl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yl=new Set(gl),wE=e=>e===pl||e===St,Ck=new Set(["x","y","z"]),Rk=gl.filter(e=>!Ck.has(e));function Ik(e){const t=[];return Rk.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Ma={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ag(t,"x"),y:(e,{transform:t})=>Ag(t,"y")};Ma.translateX=Ma.x;Ma.translateY=Ma.y;const Va=new Set;let Sg=!1,Cg=!1,Rg=!1;function NA(){if(Cg){const e=Array.from(Va).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=Ik(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Cg=!1,Sg=!1,Va.forEach(e=>e.complete(Rg)),Va.clear()}function DA(){Va.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Cg=!0)})}function Nk(){Rg=!0,DA(),NA(),Rg=!1}class t0{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Va.add(this),Sg||(Sg=!0,me.read(DA),me.resolveKeyframes(NA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}Ek(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Va.delete(this)}cancel(){this.state==="scheduled"&&(Va.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Dk=e=>e.startsWith("--");function Mk(e,t,n){Dk(t)?e.style.setProperty(t,n):e.style[t]=n}const Vk=zy(()=>window.ScrollTimeline!==void 0),kk={};function Ok(e,t){const n=zy(e);return()=>kk[t]??n()}const MA=Ok(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Cu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,AE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cu([0,.65,.55,1]),circOut:Cu([.55,0,1,.45]),backIn:Cu([.31,.01,.66,-.59]),backOut:Cu([.33,1.53,.69,.99])};function VA(e,t){if(e)return typeof e=="function"?MA()?CA(e,t):"ease-out":yA(e)?Cu(e):Array.isArray(e)?e.map(n=>VA(n,t)||AE.easeOut):AE[e]}function jk(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const v={[t]:n};m&&(v.offset=m);const T=VA(d,a);Array.isArray(T)&&(v.easing=T);const x={delay:s,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(x.pseudoElement=g),e.animate(v,x)}function kA(e){return typeof e=="function"&&"applyToOptions"in e}function Pk({type:e,...t}){return kA(e)&&MA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Lk extends Zy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,By(typeof t.type!="string");const g=Pk(t);this.animation=jk(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Wy(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):Mk(n,s,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Gi(Number(t))}get time(){return Gi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=qi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Vk()?(this.animation.timeline=t,ri):n(this)}}const OA={anticipate:dA,backInOut:fA,circInOut:pA};function Uk(e){return e in OA}function Bk(e){typeof e.ease=="string"&&Uk(e.ease)&&(e.ease=OA[e.ease])}const SE=10;class zk extends Lk{constructor(t){Bk(t),IA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Jy({...c,autoplay:!1}),m=qi(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-SE).value,d.sample(m).value,SE),d.stop()}}const CE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(kr.test(e)||e==="0")&&!e.startsWith("url("));function Fk(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Hk(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=CE(a,t),d=CE(l,t);return!c||!d?!1:Fk(e)||(n==="spring"||kA(n))&&s}function Ig(e){e.duration=0,e.type}const qk=new Set(["opacity","clipPath","filter","transform"]),Gk=zy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Kk(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return Gk()&&n&&qk.has(n)&&(n!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const Yk=40;class Qk extends Zy{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:v,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Cn.now();const x={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:v,...T},C=v?.KeyframeResolver||t0;this.keyframeResolver=new C(d,(R,L,q)=>this.onKeyframesResolved(R,L,x,!q),m,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:v}=s;this.resolvedAt=Cn.now(),Hk(t,l,c,d)||((ks.instantAnimations||!m)&&v?.(Wy(t,s,n)),t[0]=t[t.length-1],Ig(s),s.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Yk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},C=!g&&Kk(x)?new zk({...x,element:x.motionValue.owner.current}):new Jy(x);C.finished.then(()=>this.notifyFinished()).catch(ri),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Nk()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const $k=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Xk(e){const t=$k.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function jA(e,t,n=1){const[s,a]=Xk(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return sA(c)?parseFloat(c):c}return Ky(a)?jA(a,t,n+1):a}function e0(e,t){return e?.[t]??e?.default??e}const PA=new Set(["width","height","top","left","right","bottom",...gl]),Wk={test:e=>e==="auto",parse:e=>e},LA=e=>t=>t.test(e),UA=[pl,St,Ki,mr,FV,zV,Wk],RE=e=>UA.find(LA(e));function Zk(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||aA(e):!0}const Jk=new Set(["brightness","contrast","saturate","opacity"]);function tO(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Yy)||[];if(!s)return e;const a=n.replace(s,"");let l=Jk.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const eO=/\b([a-z-]*)\(.*?\)/gu,Ng={...kr,getAnimatableNone:e=>{const t=e.match(eO);return t?t.map(tO).join(" "):e}},IE={...pl,transform:Math.round},nO={rotate:mr,rotateX:mr,rotateY:mr,rotateZ:mr,scale:Qh,scaleX:Qh,scaleY:Qh,scaleZ:Qh,skew:mr,skewX:mr,skewY:mr,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:Xu,originX:gE,originY:gE,originZ:St},n0={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St,...nO,zIndex:IE,fillOpacity:Xu,strokeOpacity:Xu,numOctaves:IE},iO={...n0,color:ke,backgroundColor:ke,outlineColor:ke,fill:ke,stroke:ke,borderColor:ke,borderTopColor:ke,borderRightColor:ke,borderBottomColor:ke,borderLeftColor:ke,filter:Ng,WebkitFilter:Ng},BA=e=>iO[e];function zA(e,t){let n=BA(e);return n!==Ng&&(n=kr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const sO=new Set(["auto","none","0"]);function rO(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!sO.has(l)&&Wu(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=zA(n,a)}class aO extends t0{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),Ky(g))){const v=jA(g,n.current);v!==void 0&&(t[m]=v),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!PA.has(s)||t.length!==2)return;const[a,l]=t,c=RE(a),d=RE(l);if(c!==d)if(wE(c)&&wE(d))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else Ma[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||Zk(t[a]))&&s.push(a);s.length&&rO(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ma[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Ma[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function oO(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const FA=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function HA(e){return rA(e)&&"offsetHeight"in e}const NE=30,lO=e=>!isNaN(parseFloat(e));class uO{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Cn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=lO(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Fy);const s=this.events[t].add(n);return t==="change"?()=>{s(),me.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>NE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,NE);return oA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sl(e,t){return new uO(e,t)}const{schedule:i0}=vA(queueMicrotask,!1),mi={x:!1,y:!1};function qA(){return mi.x||mi.y}function cO(e){return e==="x"||e==="y"?mi[e]?null:(mi[e]=!0,()=>{mi[e]=!1}):mi.x||mi.y?null:(mi.x=mi.y=!0,()=>{mi.x=mi.y=!1})}function GA(e,t){const n=oO(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function DE(e){return!(e.pointerType==="touch"||qA())}function hO(e,t,n={}){const[s,a,l]=GA(e,n),c=d=>{if(!DE(d))return;const{target:m}=d,g=t(m,d);if(typeof g!="function"||!m)return;const v=T=>{DE(T)&&(g(T),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const KA=(e,t)=>t?e===t?!0:KA(e,t.parentElement):!1,s0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,fO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dO(e){return fO.has(e.tagName)||e.tabIndex!==-1}const hf=new WeakSet;function ME(e){return t=>{t.key==="Enter"&&e(t)}}function Mp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const mO=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=ME(()=>{if(hf.has(n))return;Mp(n,"down");const a=ME(()=>{Mp(n,"up")}),l=()=>Mp(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function VE(e){return s0(e)&&!qA()}function pO(e,t,n={}){const[s,a,l]=GA(e,n),c=d=>{const m=d.currentTarget;if(!VE(d))return;hf.add(m);const g=t(m,d),v=(C,R)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",x),hf.has(m)&&hf.delete(m),VE(C)&&typeof g=="function"&&g(C,{success:R})},T=C=>{v(C,m===window||m===document||n.useGlobalTarget||KA(m,C.target))},x=C=>{v(C,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",x,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),HA(d)&&(d.addEventListener("focus",g=>mO(g,a)),!dO(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function YA(e){return rA(e)&&"ownerSVGElement"in e}function gO(e){return YA(e)&&e.tagName==="svg"}const dn=e=>!!(e&&e.getVelocity),yO=[...UA,ke,kr],vO=e=>yO.find(LA(e)),r0=K.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class _O extends K.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=HA(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function TO({children:e,isPresent:t,anchorX:n,root:s}){const a=K.useId(),l=K.useRef(null),c=K.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=K.useContext(r0);return K.useInsertionEffect(()=>{const{width:m,height:g,top:v,left:T,right:x}=c.current;if(t||!l.current||!m||!g)return;const C=n==="left"?`left: ${T}`:`right: ${x}`;l.current.dataset.motionPopId=a;const R=document.createElement("style");d&&(R.nonce=d);const L=s??document.head;return L.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${g}px !important;
            ${C}px !important;
            top: ${v}px !important;
          }
        `),()=>{L.contains(R)&&L.removeChild(R)}},[t]),y.jsx(_O,{isPresent:t,childRef:l,sizeRef:c,children:K.cloneElement(e,{ref:l})})}const bO=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,root:m})=>{const g=jy(EO),v=K.useId();let T=!0,x=K.useMemo(()=>(T=!1,{id:v,initial:t,isPresent:n,custom:a,onExitComplete:C=>{g.set(C,!0);for(const R of g.values())if(!R)return;s&&s()},register:C=>(g.set(C,!1),()=>g.delete(C))}),[n,g,s]);return l&&T&&(x={...x}),K.useMemo(()=>{g.forEach((C,R)=>g.set(R,!1))},[n]),K.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),c==="popLayout"&&(e=y.jsx(TO,{isPresent:n,anchorX:d,root:m,children:e})),y.jsx(rd.Provider,{value:x,children:e})};function EO(){return new Map}function QA(e=!0){const t=K.useContext(rd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=K.useId();K.useEffect(()=>{if(e)return a(l)},[e]);const c=K.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const $h=e=>e.key||"";function kE(e){const t=[];return K.Children.forEach(e,n=>{K.isValidElement(n)&&t.push(n)}),t}const Qi=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:m})=>{const[g,v]=QA(c),T=K.useMemo(()=>kE(e),[e]),x=c&&!g?[]:T.map($h),C=K.useRef(!0),R=K.useRef(T),L=jy(()=>new Map),[q,Z]=K.useState(T),[J,B]=K.useState(T);iA(()=>{C.current=!1,R.current=T;for(let nt=0;nt<J.length;nt++){const N=$h(J[nt]);x.includes(N)?L.delete(N):L.get(N)!==!0&&L.set(N,!1)}},[J,x.length,x.join("-")]);const lt=[];if(T!==q){let nt=[...T];for(let N=0;N<J.length;N++){const S=J[N],I=$h(S);x.includes(I)||(nt.splice(N,0,S),lt.push(S))}return l==="wait"&&lt.length&&(nt=lt),B(kE(nt)),Z(T),null}const{forceRender:at}=K.useContext(Oy);return y.jsx(y.Fragment,{children:J.map(nt=>{const N=$h(nt),S=c&&!g?!1:T===J||x.includes(N),I=()=>{if(L.has(N))L.set(N,!0);else return;let V=!0;L.forEach(j=>{j||(V=!1)}),V&&(at?.(),B(R.current),c&&v?.(),s&&s())};return y.jsx(bO,{isPresent:S,initial:!C.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:S?void 0:I,anchorX:d,children:nt},N)})})},$A=K.createContext({strict:!1}),OE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rl={};for(const e in OE)rl[e]={isEnabled:t=>OE[e].some(n=>!!t[n])};function xO(e){for(const t in e)rl[t]={...rl[t],...e[t]}}const wO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||wO.has(e)}let XA=e=>!jf(e);function AO(e){typeof e=="function"&&(XA=t=>t.startsWith("on")?!jf(t):e(t))}try{AO(require("@emotion/is-prop-valid").default)}catch{}function SO(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(XA(a)||n===!0&&jf(a)||!t&&!jf(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const ad=K.createContext({});function od(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Zu(e){return typeof e=="string"||Array.isArray(e)}const a0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],o0=["initial",...a0];function ld(e){return od(e.animate)||o0.some(t=>Zu(e[t]))}function WA(e){return!!(ld(e)||e.variants)}function CO(e,t){if(ld(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Zu(n)?n:void 0,animate:Zu(s)?s:void 0}}return e.inherit!==!1?t:{}}function RO(e){const{initial:t,animate:n}=CO(e,K.useContext(ad));return K.useMemo(()=>({initial:t,animate:n}),[jE(t),jE(n)])}function jE(e){return Array.isArray(e)?e.join(" "):e}const Ju={};function IO(e){for(const t in e)Ju[t]=e[t],Gy(t)&&(Ju[t].isCSSVariable=!0)}function ZA(e,{layout:t,layoutId:n}){return yl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ju[e]||e==="opacity")}const NO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DO=gl.length;function MO(e,t,n){let s="",a=!0;for(let l=0;l<DO;l++){const c=gl[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const g=FA(d,n0[c]);if(!m){a=!1;const v=NO[c]||c;s+=`${v}(${g}) `}n&&(t[c]=g)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function l0(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const g=t[m];if(yl.has(m)){c=!0;continue}else if(Gy(m)){a[m]=g;continue}else{const v=FA(g,n0[m]);m.startsWith("origin")?(d=!0,l[m]=v):s[m]=v}}if(t.transform||(c||n?s.transform=MO(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${g} ${v}`}}const u0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JA(e,t,n){for(const s in t)!dn(t[s])&&!ZA(s,n)&&(e[s]=t[s])}function VO({transformTemplate:e},t){return K.useMemo(()=>{const n=u0();return l0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function kO(e,t){const n=e.style||{},s={};return JA(s,n,e),Object.assign(s,VO(e,t)),s}function OO(e,t){const n={},s=kO(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const jO={offset:"stroke-dashoffset",array:"stroke-dasharray"},PO={offset:"strokeDashoffset",array:"strokeDasharray"};function LO(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?jO:PO;e[l.offset]=St.transform(-s);const c=St.transform(t),d=St.transform(n);e[l.array]=`${c} ${d}`}function tS(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,g,v){if(l0(e,d,g),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:T,style:x}=e;T.transform&&(x.transform=T.transform,delete T.transform),(x.transform||T.transformOrigin)&&(x.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),x.transform&&(x.transformBox=v?.transformBox??"fill-box",delete T.transformBox),t!==void 0&&(T.x=t),n!==void 0&&(T.y=n),s!==void 0&&(T.scale=s),a!==void 0&&LO(T,a,l,c,!1)}const eS=()=>({...u0(),attrs:{}}),nS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function UO(e,t,n,s){const a=K.useMemo(()=>{const l=eS();return tS(l,t,nS(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};JA(l,e.style,e),a.style={...l,...a.style}}return a}const BO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function c0(e){return typeof e!="string"||e.includes("-")?!1:!!(BO.indexOf(e)>-1||/[A-Z]/u.test(e))}function zO(e,t,n,{latestValues:s},a,l=!1){const d=(c0(e)?UO:OO)(t,s,a,e),m=SO(t,typeof e=="string",l),g=e!==K.Fragment?{...m,...d,ref:n}:{},{children:v}=t,T=K.useMemo(()=>dn(v)?v.get():v,[v]);return K.createElement(e,{...g,children:T})}function PE(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function h0(e,t,n,s){if(typeof t=="function"){const[a,l]=PE(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=PE(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function ff(e){return dn(e)?e.get():e}function FO({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:HO(n,s,a,e),renderState:t()}}function HO(e,t,n,s){const a={},l=s(e,{});for(const x in l)a[x]=ff(l[x]);let{initial:c,animate:d}=e;const m=ld(e),g=WA(e);t&&g&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const T=v?d:c;if(T&&typeof T!="boolean"&&!od(T)){const x=Array.isArray(T)?T:[T];for(let C=0;C<x.length;C++){const R=h0(e,x[C]);if(R){const{transitionEnd:L,transition:q,...Z}=R;for(const J in Z){let B=Z[J];if(Array.isArray(B)){const lt=v?B.length-1:0;B=B[lt]}B!==null&&(a[J]=B)}for(const J in L)a[J]=L[J]}}}return a}const iS=e=>(t,n)=>{const s=K.useContext(ad),a=K.useContext(rd),l=()=>FO(e,t,s,a);return n?l():jy(l)};function f0(e,t,n){const{style:s}=e,a={};for(const l in s)(dn(s[l])||t.style&&dn(t.style[l])||ZA(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const qO=iS({scrapeMotionValuesFromProps:f0,createRenderState:u0});function sS(e,t,n){const s=f0(e,t,n);for(const a in e)if(dn(e[a])||dn(t[a])){const l=gl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}const GO=iS({scrapeMotionValuesFromProps:sS,createRenderState:eS}),KO=Symbol.for("motionComponentSymbol");function zo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function YO(e,t,n){return K.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):zo(n)&&(n.current=s))},[t])}const d0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QO="framerAppearId",rS="data-"+d0(QO),aS=K.createContext({});function $O(e,t,n,s,a){const{visualElement:l}=K.useContext(ad),c=K.useContext($A),d=K.useContext(rd),m=K.useContext(r0).reducedMotion,g=K.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,T=K.useContext(aS);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&XO(g.current,n,a,T);const x=K.useRef(!1);K.useInsertionEffect(()=>{v&&x.current&&v.update(n,d)});const C=n[rS],R=K.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return iA(()=>{v&&(x.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),R.current&&v.animationState&&v.animationState.animateChanges())}),K.useEffect(()=>{v&&(!R.current&&v.animationState&&v.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),R.current=!1),v.enteringChildren=void 0)}),v}function XO(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:oS(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&zo(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:g})}function oS(e){if(e)return e.options.allowProjection!==!1?e.projection:oS(e.parent)}function Vp(e,{forwardMotionProps:t=!1}={},n,s){n&&xO(n);const a=c0(e)?GO:qO;function l(d,m){let g;const v={...K.useContext(r0),...d,layoutId:WO(d)},{isStatic:T}=v,x=RO(d),C=a(d,T);if(!T&&Py){ZO();const R=JO(v);g=R.MeasureLayout,x.visualElement=$O(e,C,v,s,R.ProjectionNode)}return y.jsxs(ad.Provider,{value:x,children:[g&&x.visualElement?y.jsx(g,{visualElement:x.visualElement,...v}):null,zO(e,d,YO(C,x.visualElement,m),C,T,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=K.forwardRef(l);return c[KO]=e,c}function WO({layoutId:e}){const t=K.useContext(Oy).id;return t&&e!==void 0?t+"-"+e:e}function ZO(e,t){K.useContext($A).strict}function JO(e){const{drag:t,layout:n}=rl;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function tj(e,t){if(typeof Proxy>"u")return Vp;const n=new Map,s=(l,c)=>Vp(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Vp(c,void 0,e,t)),n.get(c))})}function lS({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function ej({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function nj(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function kp(e){return e===void 0||e===1}function Dg({scale:e,scaleX:t,scaleY:n}){return!kp(e)||!kp(t)||!kp(n)}function Sa(e){return Dg(e)||uS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function uS(e){return LE(e.x)||LE(e.y)}function LE(e){return e&&e!=="0%"}function Pf(e,t,n){const s=e-n,a=t*s;return n+a}function UE(e,t,n,s,a){return a!==void 0&&(e=Pf(e,a,s)),Pf(e,n,s)+t}function Mg(e,t=0,n=1,s,a){e.min=UE(e.min,t,n,s,a),e.max=UE(e.max,t,n,s,a)}function cS(e,{x:t,y:n}){Mg(e.x,t.translate,t.scale,t.originPoint),Mg(e.y,n.translate,n.scale,n.originPoint)}const BE=.999999999999,zE=1.0000000000001;function ij(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ho(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,cS(e,c)),s&&Sa(l.latestValues)&&Ho(e,l.latestValues))}t.x<zE&&t.x>BE&&(t.x=1),t.y<zE&&t.y>BE&&(t.y=1)}function Fo(e,t){e.min=e.min+t,e.max=e.max+t}function FE(e,t,n,s,a=.5){const l=ye(e.min,e.max,a);Mg(e,t,n,l,s)}function Ho(e,t){FE(e.x,t.x,t.scaleX,t.scale,t.originX),FE(e.y,t.y,t.scaleY,t.scale,t.originY)}function hS(e,t){return lS(nj(e.getBoundingClientRect(),t))}function sj(e,t,n){const s=hS(e,n),{scroll:a}=t;return a&&(Fo(s.x,a.offset.x),Fo(s.y,a.offset.y)),s}const HE=()=>({translate:0,scale:1,origin:0,originPoint:0}),qo=()=>({x:HE(),y:HE()}),qE=()=>({min:0,max:0}),Ae=()=>({x:qE(),y:qE()}),Vg={current:null},fS={current:!1};function rj(){if(fS.current=!0,!!Py)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vg.current=e.matches;e.addEventListener("change",t),t()}else Vg.current=!1}const aj=new WeakMap;function oj(e,t,n){for(const s in t){const a=t[s],l=n[s];if(dn(a))e.addValue(s,a);else if(dn(l))e.addValue(s,sl(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,sl(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const GE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lj{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=t0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Cn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,me.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=ld(n),this.isVariantNode=WA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in T){const C=T[x];m[x]!==void 0&&dn(C)&&C.set(m[x])}}mount(t){this.current=t,aj.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),fS.current||rj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vr(this.notifyUpdate),Vr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=yl.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&me.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in rl){const n=rl[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ae()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<GE.length;s++){const a=GE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=oj(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=sl(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(sA(s)||aA(s))?s=parseFloat(s):!vO(s)&&kr.test(n)&&(s=zA(t,n)),this.setBaseTarget(t,dn(s)?s.get():s)),dn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=h0(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!dn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Fy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){i0.render(this.render)}}class dS extends lj{constructor(){super(...arguments),this.KeyframeResolver=aO}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;dn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function mS(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function uj(e){return window.getComputedStyle(e)}class cj extends dS{constructor(){super(...arguments),this.type="html",this.renderInstance=mS}readValueFromInstance(t,n){if(yl.has(n))return this.projection?.isProjecting?wg(n):Ak(t,n);{const s=uj(t),a=(Gy(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return hS(t,n)}build(t,n,s){l0(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return f0(t,n,s)}}const pS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hj(e,t,n,s){mS(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(pS.has(a)?a:d0(a),t.attrs[a])}class fj extends dS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ae}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(yl.has(n)){const s=BA(n);return s&&s.default||0}return n=pS.has(n)?n:d0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return sS(t,n,s)}build(t,n,s){tS(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){hj(t,n,s,a)}mount(t){this.isSVGTag=nS(t.tagName),super.mount(t)}}const dj=(e,t)=>c0(e)?new fj(t):new cj(t,{allowProjection:e!==K.Fragment});function Xo(e,t,n){const s=e.getProps();return h0(s,t,n!==void 0?n:s.custom,e)}const kg=e=>Array.isArray(e);function mj(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,sl(n))}function pj(e){return kg(e)?e[e.length-1]||0:e}function gj(e,t){const n=Xo(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=pj(l[c]);mj(e,c,d)}}function yj(e){return!!(dn(e)&&e.add)}function Og(e,t){const n=e.getValue("willChange");if(yj(n))return n.add(t);if(!n&&ks.WillChange){const s=new ks.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function gS(e){return e.props[rS]}const vj=e=>e!==null;function _j(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(vj),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const Tj={type:"spring",stiffness:500,damping:25,restSpeed:10},bj=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ej={type:"keyframes",duration:.8},xj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wj=(e,{keyframes:t})=>t.length>2?Ej:yl.has(e)?e.startsWith("scale")?bj(t[1]):Tj:xj;function Aj({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const m0=(e,t,n,s={},a,l)=>c=>{const d=e0(s,e)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-qi(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:x=>{t.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};Aj(d)||Object.assign(v,wj(e,v)),v.duration&&(v.duration=qi(v.duration)),v.repeatDelay&&(v.repeatDelay=qi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let T=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Ig(v),v.delay===0&&(T=!0)),(ks.instantAnimations||ks.skipAnimations)&&(T=!0,Ig(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,T&&!l&&t.get()!==void 0){const x=_j(v.keyframes,d);if(x!==void 0){me.update(()=>{v.onUpdate(x),v.onComplete()});return}}return d.isSync?new Jy(v):new Qk(v)};function Sj({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function yS(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const m=[],g=a&&e.animationState&&e.animationState.getState()[a];for(const v in d){const T=e.getValue(v,e.latestValues[v]??null),x=d[v];if(x===void 0||g&&Sj(g,v))continue;const C={delay:n,...e0(l||{},v)},R=T.get();if(R!==void 0&&!T.isAnimating&&!Array.isArray(x)&&x===R&&!C.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const Z=gS(e);if(Z){const J=window.MotionHandoffAnimation(Z,v,me);J!==null&&(C.startTime=J,L=!0)}}Og(e,v),T.start(m0(v,T,x,e.shouldReduceMotion&&PA.has(v)?{type:!1}:C,e,L));const q=T.animation;q&&m.push(q)}return c&&Promise.all(m).then(()=>{me.update(()=>{c&&gj(e,c)})}),m}function vS(e,t,n,s=0,a=1){const l=Array.from(e).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function jg(e,t,n={}){const s=Xo(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(yS(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:T}=a;return Cj(e,t,m,g,v,T,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,g]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function Cj(e,t,n=0,s=0,a=0,l=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(jg(m,t,{...c,delay:n+(typeof s=="function"?0:s)+vS(e.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function Rj(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>jg(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=jg(e,t,n);else{const a=typeof t=="function"?Xo(e,t,n.custom):t;s=Promise.all(yS(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function _S(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const Ij=o0.length;function TS(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?TS(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Ij;n++){const s=o0[n],a=e.props[s];(Zu(a)||a===!1)&&(t[s]=a)}return t}const Nj=[...a0].reverse(),Dj=a0.length;function Mj(e){return t=>Promise.all(t.map(({animation:n,options:s})=>Rj(e,n,s)))}function Vj(e){let t=Mj(e),n=KE(),s=!0;const a=m=>(g,v)=>{const T=Xo(e,v,m==="exit"?e.presenceContext?.custom:void 0);if(T){const{transition:x,transitionEnd:C,...R}=T;g={...g,...R,...C}}return g};function l(m){t=m(e)}function c(m){const{props:g}=e,v=TS(e.parent)||{},T=[],x=new Set;let C={},R=1/0;for(let q=0;q<Dj;q++){const Z=Nj[q],J=n[Z],B=g[Z]!==void 0?g[Z]:v[Z],lt=Zu(B),at=Z===m?J.isActive:null;at===!1&&(R=q);let nt=B===v[Z]&&B!==g[Z]&&lt;if(nt&&s&&e.manuallyAnimateOnMount&&(nt=!1),J.protectedKeys={...C},!J.isActive&&at===null||!B&&!J.prevProp||od(B)||typeof B=="boolean")continue;const N=kj(J.prevProp,B);let S=N||Z===m&&J.isActive&&!nt&&lt||q>R&&lt,I=!1;const V=Array.isArray(B)?B:[B];let j=V.reduce(a(Z),{});at===!1&&(j={});const{prevResolvedValues:P={}}=J,M={...P,...j},ue=ot=>{S=!0,x.has(ot)&&(I=!0,x.delete(ot)),J.needsAnimating[ot]=!0;const ft=e.getValue(ot);ft&&(ft.liveStyle=!1)};for(const ot in M){const ft=j[ot],_t=P[ot];if(C.hasOwnProperty(ot))continue;let k=!1;kg(ft)&&kg(_t)?k=!_S(ft,_t):k=ft!==_t,k?ft!=null?ue(ot):x.add(ot):ft!==void 0&&x.has(ot)?ue(ot):J.protectedKeys[ot]=!0}J.prevProp=B,J.prevResolvedValues=j,J.isActive&&(C={...C,...j}),s&&e.blockInitialAnimation&&(S=!1);const Wt=nt&&N;S&&(!Wt||I)&&T.push(...V.map(ot=>{const ft={type:Z};if(typeof ot=="string"&&s&&!Wt&&e.manuallyAnimateOnMount&&e.parent){const{parent:_t}=e,k=Xo(_t,ot);if(_t.enteringChildren&&k){const{delayChildren:rt}=k.transition||{};ft.delay=vS(_t.enteringChildren,e,rt)}}return{animation:ot,options:ft}}))}if(x.size){const q={};if(typeof g.initial!="boolean"){const Z=Xo(e,Array.isArray(g.initial)?g.initial[0]:g.initial);Z&&Z.transition&&(q.transition=Z.transition)}x.forEach(Z=>{const J=e.getBaseTarget(Z),B=e.getValue(Z);B&&(B.liveStyle=!0),q[Z]=J??null}),T.push({animation:q})}let L=!!T.length;return s&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(L=!1),s=!1,L?t(T):Promise.resolve()}function d(m,g){if(n[m].isActive===g)return Promise.resolve();e.variantChildren?.forEach(T=>T.animationState?.setActive(m,g)),n[m].isActive=g;const v=c(m);for(const T in n)n[T].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=KE(),s=!0}}}function kj(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!_S(t,e):!1}function xa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function KE(){return{animate:xa(!0),whileInView:xa(),whileHover:xa(),whileTap:xa(),whileDrag:xa(),whileFocus:xa(),exit:xa()}}class Ur{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Oj extends Ur{constructor(t){super(t),t.animationState||(t.animationState=Vj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();od(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let jj=0;class Pj extends Ur{constructor(){super(...arguments),this.id=jj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Lj={animation:{Feature:Oj},exit:{Feature:Pj}};function tc(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Tc(e){return{point:{x:e.pageX,y:e.pageY}}}const Uj=e=>t=>s0(t)&&e(t,Tc(t));function ju(e,t,n,s){return tc(e,t,Uj(n),s)}const bS=1e-4,Bj=1-bS,zj=1+bS,ES=.01,Fj=0-ES,Hj=0+ES;function _n(e){return e.max-e.min}function qj(e,t,n){return Math.abs(e-t)<=n}function YE(e,t,n,s=.5){e.origin=s,e.originPoint=ye(t.min,t.max,e.origin),e.scale=_n(n)/_n(t),e.translate=ye(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Bj&&e.scale<=zj||isNaN(e.scale))&&(e.scale=1),(e.translate>=Fj&&e.translate<=Hj||isNaN(e.translate))&&(e.translate=0)}function Pu(e,t,n,s){YE(e.x,t.x,n.x,s?s.originX:void 0),YE(e.y,t.y,n.y,s?s.originY:void 0)}function QE(e,t,n){e.min=n.min+t.min,e.max=e.min+_n(t)}function Gj(e,t,n){QE(e.x,t.x,n.x),QE(e.y,t.y,n.y)}function $E(e,t,n){e.min=t.min-n.min,e.max=e.min+_n(t)}function Lu(e,t,n){$E(e.x,t.x,n.x),$E(e.y,t.y,n.y)}function ei(e){return[e("x"),e("y")]}const xS=({current:e})=>e?e.ownerDocument.defaultView:null,XE=(e,t)=>Math.abs(e-t);function Kj(e,t){const n=XE(e.x,t.x),s=XE(e.y,t.y);return Math.sqrt(n**2+s**2)}class wS{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=jp(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,R=Kj(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!R)return;const{point:L}=x,{timestamp:q}=nn;this.history.push({...L,timestamp:q});const{onStart:Z,onMove:J}=this.handlers;C||(Z&&Z(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),J&&J(this.lastMoveEvent,x)},this.handlePointerMove=(x,C)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Op(C,this.transformPagePoint),me.update(this.updatePoint,!0)},this.handlePointerUp=(x,C)=>{this.end();const{onEnd:R,onSessionEnd:L,resumeAnimation:q}=this.handlers;if(this.dragSnapToOrigin&&q&&q(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Z=jp(x.type==="pointercancel"?this.lastMoveEventInfo:Op(C,this.transformPagePoint),this.history);this.startEvent&&R&&R(x,Z),L&&L(x,Z)},!s0(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=Tc(t),m=Op(d,this.transformPagePoint),{point:g}=m,{timestamp:v}=nn;this.history=[{...g,timestamp:v}];const{onSessionStart:T}=n;T&&T(t,jp(m,this.history)),this.removeListeners=yc(ju(this.contextWindow,"pointermove",this.handlePointerMove),ju(this.contextWindow,"pointerup",this.handlePointerUp),ju(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Vr(this.updatePoint)}}function Op(e,t){return t?{point:t(e.point)}:e}function WE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function jp({point:e},t){return{point:e,delta:WE(e,AS(t)),offset:WE(e,Yj(t)),velocity:Qj(t,.1)}}function Yj(e){return e[0]}function AS(e){return e[e.length-1]}function Qj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=AS(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>qi(t)));)n--;if(!s)return{x:0,y:0};const l=Gi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function $j(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?ye(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?ye(n,e,s.max):Math.min(e,n)),e}function ZE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Xj(e,{top:t,left:n,bottom:s,right:a}){return{x:ZE(e.x,n,a),y:ZE(e.y,t,s)}}function JE(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function Wj(e,t){return{x:JE(e.x,t.x),y:JE(e.y,t.y)}}function Zj(e,t){let n=.5;const s=_n(e),a=_n(t);return a>s?n=$u(t.min,t.max-s,e.min):s>a&&(n=$u(e.min,e.max-a,t.min)),Vs(0,1,n)}function Jj(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Pg=.35;function tP(e=Pg){return e===!1?e=0:e===!0&&(e=Pg),{x:tx(e,"left","right"),y:tx(e,"top","bottom")}}function tx(e,t,n){return{min:ex(e,t),max:ex(e,n)}}function ex(e,t){return typeof e=="number"?e:e[t]||0}const eP=new WeakMap;class nP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ae(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=T=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Tc(T).point)},c=(T,x)=>{const{drag:C,dragPropagation:R,onDragStart:L}=this.getProps();if(C&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cO(C),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ei(Z=>{let J=this.getAxisMotionValue(Z).get()||0;if(Ki.test(J)){const{projection:B}=this.visualElement;if(B&&B.layout){const lt=B.layout.layoutBox[Z];lt&&(J=_n(lt)*(parseFloat(J)/100))}}this.originPoint[Z]=J}),L&&me.postRender(()=>L(T,x)),Og(this.visualElement,"transform");const{animationState:q}=this.visualElement;q&&q.setActive("whileDrag",!0)},d=(T,x)=>{this.latestPointerEvent=T,this.latestPanInfo=x;const{dragPropagation:C,dragDirectionLock:R,onDirectionLock:L,onDrag:q}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:Z}=x;if(R&&this.currentDirection===null){this.currentDirection=iP(Z),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",x.point,Z),this.updateAxis("y",x.point,Z),this.visualElement.render(),q&&q(T,x)},m=(T,x)=>{this.latestPointerEvent=T,this.latestPanInfo=x,this.stop(T,x),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>ei(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new wS(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:xS(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&me.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Xh(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=$j(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&zo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=Xj(s.layoutBox,t):this.constraints=!1,this.elastic=tP(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ei(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Jj(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!zo(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=sj(s,a.root,this.visualElement.getTransformPagePoint());let c=Wj(a.layout.layoutBox,l);if(n){const d=n(ej(c));this.hasMutatedConstraints=!!d,d&&(c=lS(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=ei(v=>{if(!Xh(v,n,this.currentDirection))return;let T=m&&m[v]||{};c&&(T={min:0,max:0});const x=a?200:1e6,C=a?40:1e7,R={type:"inertia",velocity:s?t[v]:0,bounceStiffness:x,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(v,R)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Og(this.visualElement,t),s.start(m0(t,s,0,n,this.visualElement,!1))}stopAnimation(){ei(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ei(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ei(n=>{const{drag:s}=this.getProps();if(!Xh(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(t[n]-ye(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!zo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ei(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=Zj({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ei(c=>{if(!Xh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(ye(m,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;eP.set(this.visualElement,this);const t=this.visualElement.current,n=ju(t,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();zo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),me.read(s);const c=tc(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(ei(v=>{const T=this.getAxisMotionValue(v);T&&(this.originPoint[v]+=m[v].translate,T.set(T.get()+m[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Pg,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Xh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function iP(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class sP extends Ur{constructor(t){super(t),this.removeGroupControls=ri,this.removeListeners=ri,this.controls=new nP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ri}unmount(){this.removeGroupControls(),this.removeListeners()}}const nx=e=>(t,n)=>{e&&me.postRender(()=>e(t,n))};class rP extends Ur{constructor(){super(...arguments),this.removePointerDownListener=ri}onPointerDown(t){this.session=new wS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:nx(t),onStart:nx(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&me.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=ju(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const df={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ix(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const bu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(St.test(e))e=parseFloat(e);else return e;const n=ix(e,t.target.x),s=ix(e,t.target.y);return`${n}% ${s}%`}},aP={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=kr.parse(e);if(a.length>5)return s;const l=kr.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const g=ye(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}};let Pp=!1;class oP extends K.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;IO(lP),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Pp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),df.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Pp=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||me.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),i0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;Pp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function SS(e){const[t,n]=QA(),s=K.useContext(Oy);return y.jsx(oP,{...e,layoutGroup:s,switchLayoutGroup:K.useContext(aS),isPresent:t,safeToRemove:n})}const lP={borderRadius:{...bu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bu,borderTopRightRadius:bu,borderBottomLeftRadius:bu,borderBottomRightRadius:bu,boxShadow:aP};function uP(e,t,n){const s=dn(e)?e:sl(e);return s.start(m0("",s,t,n)),s.animation}const cP=(e,t)=>e.depth-t.depth;class hP{constructor(){this.children=[],this.isDirty=!1}add(t){Ly(this.children,t),this.isDirty=!0}remove(t){Uy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(cP),this.isDirty=!1,this.children.forEach(t)}}function fP(e,t){const n=Cn.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(Vr(s),e(l-t))};return me.setup(s,!0),()=>Vr(s)}const CS=["TopLeft","TopRight","BottomLeft","BottomRight"],dP=CS.length,sx=e=>typeof e=="string"?parseFloat(e):e,rx=e=>typeof e=="number"||St.test(e);function mP(e,t,n,s,a,l){a?(e.opacity=ye(0,n.opacity??1,pP(s)),e.opacityExit=ye(t.opacity??1,0,gP(s))):l&&(e.opacity=ye(t.opacity??1,n.opacity??1,s));for(let c=0;c<dP;c++){const d=`border${CS[c]}Radius`;let m=ax(t,d),g=ax(n,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||rx(m)===rx(g)?(e[d]=Math.max(ye(sx(m),sx(g),s),0),(Ki.test(g)||Ki.test(m))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=ye(t.rotate||0,n.rotate||0,s))}function ax(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const pP=RS(0,.5,mA),gP=RS(.5,.95,ri);function RS(e,t,n){return s=>s<e?0:s>t?1:n($u(e,t,s))}function ox(e,t){e.min=t.min,e.max=t.max}function ti(e,t){ox(e.x,t.x),ox(e.y,t.y)}function lx(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ux(e,t,n,s,a){return e-=t,e=Pf(e,1/n,s),a!==void 0&&(e=Pf(e,1/a,s)),e}function yP(e,t=0,n=1,s=.5,a,l=e,c=e){if(Ki.test(t)&&(t=parseFloat(t),t=ye(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=ye(l.min,l.max,s);e===l&&(d-=t),e.min=ux(e.min,t,n,d,a),e.max=ux(e.max,t,n,d,a)}function cx(e,t,[n,s,a],l,c){yP(e,t[n],t[s],t[a],t.scale,l,c)}const vP=["x","scaleX","originX"],_P=["y","scaleY","originY"];function hx(e,t,n,s){cx(e.x,t,vP,n?n.x:void 0,s?s.x:void 0),cx(e.y,t,_P,n?n.y:void 0,s?s.y:void 0)}function fx(e){return e.translate===0&&e.scale===1}function IS(e){return fx(e.x)&&fx(e.y)}function dx(e,t){return e.min===t.min&&e.max===t.max}function TP(e,t){return dx(e.x,t.x)&&dx(e.y,t.y)}function mx(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function NS(e,t){return mx(e.x,t.x)&&mx(e.y,t.y)}function px(e){return _n(e.x)/_n(e.y)}function gx(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class bP{constructor(){this.members=[]}add(t){Ly(this.members,t),t.scheduleRender()}remove(t){if(Uy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function EP(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:T,rotateY:x,skewX:C,skewY:R}=n;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),T&&(s+=`rotateX(${T}deg) `),x&&(s+=`rotateY(${x}deg) `),C&&(s+=`skewX(${C}deg) `),R&&(s+=`skewY(${R}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const Lp=["","X","Y","Z"],xP=1e3;let wP=0;function Up(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function DS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=gS(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",me,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&DS(s)}function MS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=wP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CP),this.nodes.forEach(DP),this.nodes.forEach(MP),this.nodes.forEach(RP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new hP)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Fy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=YA(c)&&!gO(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let v,T=0;const x=()=>this.root.updateBlockedByResize=!1;me.read(()=>{T=window.innerWidth}),e(c,()=>{const C=window.innerWidth;C!==T&&(T=C,this.root.updateBlockedByResize=!0,v&&v(),v=fP(x,250),df.hasAnimatedSinceResize&&(df.hasAnimatedSinceResize=!1,this.nodes.forEach(_x)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:T,hasRelativeLayoutChanged:x,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||g.getDefaultTransition()||PP,{onLayoutAnimationStart:L,onLayoutAnimationComplete:q}=g.getProps(),Z=!this.targetLayout||!NS(this.targetLayout,C),J=!T&&x;if(this.options.layoutRoot||this.resumeFrom||J||T&&(Z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...e0(R,"layout"),onPlay:L,onComplete:q};(g.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(v,J)}else T||_x(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(VP),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(vx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(NP),this.nodes.forEach(AP),this.nodes.forEach(SP)):this.nodes.forEach(vx),this.clearAllSnapshots();const d=Cn.now();nn.delta=Vs(0,1e3/60,d-nn.timestamp),nn.timestamp=d,nn.isProcessing=!0,Cp.update.process(nn),Cp.preRender.process(nn),Cp.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,i0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(IP),this.sharedNodes.forEach(kP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_n(this.snapshot.measuredBox.x)&&!_n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ae(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!IS(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||Sa(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),LP(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ae();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(UP))){const{scroll:g}=this.root;g&&(Fo(d.x,g.offset.x),Fo(d.y,g.offset.y))}return d}removeElementScroll(c){const d=Ae();if(ti(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:T}=g;g!==this.root&&v&&T.layoutScroll&&(v.wasRoot&&ti(d,c),Fo(d.x,v.offset.x),Fo(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const m=Ae();ti(m,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ho(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Sa(v.latestValues)&&Ho(m,v.latestValues)}return Sa(this.latestValues)&&Ho(m,this.latestValues),m}removeTransform(c){const d=Ae();ti(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Sa(g.latestValues))continue;Dg(g.latestValues)&&g.updateSnapshot();const v=Ae(),T=g.measurePageBox();ti(v,T),hx(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Sa(this.latestValues)&&hx(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:T}=this.options;if(!(!this.layout||!(v||T))){if(this.resolvedRelativeTargetAt=nn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ae(),this.relativeTargetOrigin=Ae(),Lu(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ae(),this.targetWithTransforms=Ae()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Gj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ti(this.target,this.layout.layoutBox),cS(this.target,this.targetDelta)):ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ae(),this.relativeTargetOrigin=Ae(),Lu(this.relativeTargetOrigin,this.target,x.target),ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Dg(this.parent.latestValues)||uS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;ti(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,x=this.treeScale.y;ij(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ae());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lx(this.prevProjectionDelta.x,this.projectionDelta.x),lx(this.prevProjectionDelta.y,this.projectionDelta.y)),Pu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==x||!gx(this.projectionDelta.x,this.prevProjectionDelta.x)||!gx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qo(),this.projectionDelta=qo(),this.projectionDeltaWithTransform=qo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},T=qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=Ae(),C=m?m.source:void 0,R=this.layout?this.layout.source:void 0,L=C!==R,q=this.getStack(),Z=!q||q.members.length<=1,J=!!(L&&!Z&&this.options.crossfade===!0&&!this.path.some(jP));this.animationProgress=0;let B;this.mixTargetDelta=lt=>{const at=lt/1e3;Tx(T.x,c.x,at),Tx(T.y,c.y,at),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lu(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OP(this.relativeTarget,this.relativeTargetOrigin,x,at),B&&TP(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Ae()),ti(B,this.relativeTarget)),L&&(this.animationValues=v,mP(v,g,this.latestValues,at,J,Z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=at},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Vr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=me.update(()=>{df.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=sl(0)),this.currentAnimation=uP(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:v}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&VS(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Ae();const T=_n(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+T;const x=_n(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+x}ti(d,m),Ho(d,v),Pu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new bP),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&Up("z",c,g,this.animationValues);for(let v=0;v<Lp.length;v++)Up(`rotate${Lp[v]}`,c,g,this.animationValues),Up(`skew${Lp[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=ff(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=ff(d?.pointerEvents)||""),this.hasProjected&&!Sa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let T=EP(this.projectionDeltaWithTransform,this.treeScale,v);m&&(T=m(v,T)),c.transform=T;const{x,y:C}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${C.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const R in Ju){if(v[R]===void 0)continue;const{correct:L,applyTo:q,isCSSVariable:Z}=Ju[R],J=T==="none"?v[R]:L(v[R],g);if(q){const B=q.length;for(let lt=0;lt<B;lt++)c[q[lt]]=J}else Z?this.options.visualElement.renderState.vars[R]=J:c[R]=J}this.options.layoutId&&(c.pointerEvents=g===this?ff(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(yx),this.root.sharedNodes.clear()}}}function AP(e){e.updateLayout()}function SP(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?ei(v=>{const T=l?t.measuredBox[v]:t.layoutBox[v],x=_n(T);T.min=n[v].min,T.max=T.min+x}):VS(a,t.layoutBox,n)&&ei(v=>{const T=l?t.measuredBox[v]:t.layoutBox[v],x=_n(n[v]);T.max=T.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+x)});const c=qo();Pu(c,n,t.layoutBox);const d=qo();l?Pu(d,e.applyTransform(s,!0),t.measuredBox):Pu(d,n,t.layoutBox);const m=!IS(c);let g=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:T,layout:x}=v;if(T&&x){const C=Ae();Lu(C,t.layoutBox,T.layoutBox);const R=Ae();Lu(R,n,x.layoutBox),NS(C,R)||(g=!0),v.options.layoutRoot&&(e.relativeTarget=R,e.relativeTargetOrigin=C,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function CP(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function RP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function IP(e){e.clearSnapshot()}function yx(e){e.clearMeasurements()}function vx(e){e.isLayoutDirty=!1}function NP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _x(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function DP(e){e.resolveTargetDelta()}function MP(e){e.calcProjection()}function VP(e){e.resetSkewAndRotation()}function kP(e){e.removeLeadSnapshot()}function Tx(e,t,n){e.translate=ye(t.translate,0,n),e.scale=ye(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function bx(e,t,n,s){e.min=ye(t.min,n.min,s),e.max=ye(t.max,n.max,s)}function OP(e,t,n,s){bx(e.x,t.x,n.x,s),bx(e.y,t.y,n.y,s)}function jP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const PP={duration:.45,ease:[.4,0,.1,1]},Ex=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),xx=Ex("applewebkit/")&&!Ex("chrome/")?Math.round:ri;function wx(e){e.min=xx(e.min),e.max=xx(e.max)}function LP(e){wx(e.x),wx(e.y)}function VS(e,t,n){return e==="position"||e==="preserve-aspect"&&!qj(px(t),px(n),.2)}function UP(e){return e!==e.root&&e.scroll?.wasRoot}const BP=MS({attachResizeListener:(e,t)=>tc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bp={current:void 0},kS=MS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Bp.current){const e=new BP({});e.mount(window),e.setOptions({layoutScroll:!0}),Bp.current=e}return Bp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),zP={pan:{Feature:rP},drag:{Feature:sP,ProjectionNode:kS,MeasureLayout:SS}};function Ax(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&me.postRender(()=>l(t,Tc(t)))}class FP extends Ur{mount(){const{current:t}=this.node;t&&(this.unmount=hO(t,(n,s)=>(Ax(this.node,s,"Start"),a=>Ax(this.node,a,"End"))))}unmount(){}}class HP extends Ur{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yc(tc(this.node.current,"focus",()=>this.onFocus()),tc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Sx(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&me.postRender(()=>l(t,Tc(t)))}class qP extends Ur{mount(){const{current:t}=this.node;t&&(this.unmount=pO(t,(n,s)=>(Sx(this.node,s,"Start"),(a,{success:l})=>Sx(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lg=new WeakMap,zp=new WeakMap,GP=e=>{const t=Lg.get(e.target);t&&t(e)},KP=e=>{e.forEach(GP)};function YP({root:e,...t}){const n=e||document;zp.has(n)||zp.set(n,{});const s=zp.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(KP,{root:e,...t})),s[a]}function QP(e,t,n){const s=YP(t);return Lg.set(e,n),s.observe(e),()=>{Lg.delete(e),s.unobserve(e)}}const $P={some:0,all:1};class XP extends Ur{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:$P[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),x=g?v:T;x&&x(m)};return QP(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(WP(t,n))&&this.startObserver()}unmount(){}}function WP({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ZP={inView:{Feature:XP},tap:{Feature:qP},focus:{Feature:HP},hover:{Feature:FP}},JP={layout:{ProjectionNode:kS,MeasureLayout:SS}},t3={...Lj,...ZP,...zP,...JP},re=tj(t3,dj),Ug=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M5 12h14"}),y.jsx("path",{d:"M12 5v14"})]}),e3=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"12",cy:"12",r:"1"}),y.jsx("circle",{cx:"19",cy:"12",r:"1"}),y.jsx("circle",{cx:"5",cy:"12",r:"1"})]}),yi=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),y.jsx("path",{d:"m15 5 4 4"})]}),Br=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M3 6h18"}),y.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),y.jsx("path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),y.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),y.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]}),n3=e=>y.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),p0=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),y.jsx("path",{d:"m9 12 2 2 4-4"})]}),g0=e=>y.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2z"})}),i3=e=>y.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"m15 18-6-6 6-6"})}),s3=e=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-spin",...e,children:y.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),y0=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M12 5a3 3 0 1 0-5.993.142"}),y.jsx("path",{d:"M18 5a3 3 0 1 0-5.993.142"}),y.jsx("path",{d:"M21 12a3 3 0 1 0-.142-5.993"}),y.jsx("path",{d:"M21 12a3 3 0 1 0 .142 5.993"}),y.jsx("path",{d:"M12 19a3 3 0 1 0 5.993-.142"}),y.jsx("path",{d:"M6 19a3 3 0 1 0 5.993-.142"}),y.jsx("path",{d:"M3 12a3 3 0 1 0 .142 5.993"}),y.jsx("path",{d:"M3 12a3 3 0 1 0-.142-5.993"}),y.jsx("path",{d:"M12 5a3 3 0 0 0 6 0"}),y.jsx("path",{d:"M12 5a3 3 0 0 1 6 0"}),y.jsx("path",{d:"M14.5 5.5A.5.5 0 0 1 15 5h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),y.jsx("path",{d:"M9.5 5.5A.5.5 0 0 1 10 5h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),y.jsx("path",{d:"M18 7.3a.5.5 0 0 0 .5-.5v0a.5.5 0 0 0-.5-.5h0a.5.5 0 0 0-.5.5Z"}),y.jsx("path",{d:"M19.7 9.5A.5.5 0 0 1 20 9h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),y.jsx("path",{d:"M19.7 14.5a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5v0a.5.5 0 0 0-.5-.5h0a.5.5 0 0 0-.5.5Z"}),y.jsx("path",{d:"M18 16.7a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),y.jsx("path",{d:"M14.5 18.5a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5v0a.5.5 0 0 0-.5-.5h0a.5.5 0 0 0-.5.5Z"}),y.jsx("path",{d:"M9.5 18.5a.5.5 0 0 1 .5-.5h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),y.jsx("path",{d:"M6 16.7a.5.5 0 0 0-.5.5v0a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5Z"}),y.jsx("path",{d:"M4.3 14.5a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5v0a.5.5 0 0 1 .5-.5h0a.5.5 0 0 1 .5.5Z"}),y.jsx("path",{d:"M4.3 9.5A.5.5 0 0 0 4 9h0a.5.5 0 0 0-.5.5v0a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5Z"}),y.jsx("path",{d:"M6 7.3a.5.5 0 0 1-.5-.5v0a.5.5 0 0 1 .5-.5h0a.5.5 0 0 1 .5.5Z"}),y.jsx("path",{d:"M12 12v0a3 3 0 0 0-3-3v0a3 3 0 0 0-3 3v0a3 3 0 0 0 3 3v0a3 3 0 0 0 3-3Z"}),y.jsx("path",{d:"M12 12h0a3 3 0 0 1 3 3v0a3 3 0 0 1-3 3v0a3 3 0 0 1-3-3v0a3 3 0 0 1 3-3Z"})]}),Or=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),y.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),y.jsx("path",{d:"M4 22h16"}),y.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),y.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),y.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),r3=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M18 6 6 18"}),y.jsx("path",{d:"M6 6l12 12"})]}),a3=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),OS=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("circle",{cx:"12",cy:"12",r:"6"}),y.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),jS=e=>y.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("circle",{cx:"12",cy:"12",r:"10"})}),o3=e=>y.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"m6 9 6 6 6-6"})}),l3=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"12",cy:"12",r:"4"}),y.jsx("path",{d:"M12 2v2"}),y.jsx("path",{d:"M12 20v2"}),y.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),y.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),y.jsx("path",{d:"M2 12h2"}),y.jsx("path",{d:"M20 12h2"}),y.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),y.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),u3=e=>y.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}),c3=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),y.jsx("path",{d:"M12 9v4"}),y.jsx("path",{d:"M12 17h.01"})]}),h3=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m5 8 6 6"}),y.jsx("path",{d:"m4 14 6-6 2-3"}),y.jsx("path",{d:"M2 5h12"}),y.jsx("path",{d:"M7 2h1"}),y.jsx("path",{d:"m22 22-5-10-5 10"}),y.jsx("path",{d:"M14 18h6"})]}),f3=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"12",cy:"8",r:"6"}),y.jsx("path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11"})]}),v0=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),y.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),PS=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m16 18 6-6-6-6"}),y.jsx("path",{d:"m8 6-6 6 6 6"})]}),d3=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M14.4 14.4 9.6 9.6"}),y.jsx("path",{d:"M18.657 5.343a2 2 0 1 0-2.829-2.828"}),y.jsx("path",{d:"m21.5 8.3-2.8-2.8"}),y.jsx("path",{d:"M8.3 21.5l-2.8-2.8"}),y.jsx("path",{d:"M5.343 18.657a2 2 0 1 0 2.829 2.828"}),y.jsx("path",{d:"M12 12V2l-2.8 2.8"}),y.jsx("path",{d:"m14.8 14.8 2.8 2.8"}),y.jsx("path",{d:"M12 12H2l2.8-2.8"}),y.jsx("path",{d:"m9.2 9.2-2.8-2.8"})]}),m3=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),y.jsx("line",{x1:"4",x2:"4",y1:"22",y2:"15"})]}),LS=e=>y.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"})}),US=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"}),y.jsx("path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"}),y.jsx("path",{d:"M7 21h10"}),y.jsx("path",{d:"M12 3v18"}),y.jsx("path",{d:"M3 7h18"})]}),p3=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L3 8.4a2.4 2.4 0 0 1 0-3.4l2.6-2.6a2.4 2.4 0 0 1 3.4 0Z"}),y.jsx("path",{d:"m14.5 12.5 2-2"}),y.jsx("path",{d:"m11.5 9.5 2-2"}),y.jsx("path",{d:"m8.5 6.5 2-2"}),y.jsx("path",{d:"m17.5 15.5 2-2"})]}),g3=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 2v6c0 7 4 8 8 8Z"}),y.jsx("path",{d:"M14 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2h-4c-1.25 0-2 .75-2 2v6c0 7 4 8 8 8Z"})]}),_0=e=>y.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),y3=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"12",cy:"10",r:"4"}),y.jsx("path",{d:"M12 14c-3.33 0-10 1.67-10 5v2h20v-2c0-3.33-6.67-5-10-5Z"}),y.jsx("path",{d:"M12 22v-2"}),y.jsx("path",{d:"M16 22v-2"}),y.jsx("path",{d:"M8 22v-2"}),y.jsx("path",{d:"M2 18h20"}),y.jsx("path",{d:"M12 2a5 5 0 0 0-5 5v3h10V7a5 5 0 0 0-5-5Z"})]}),v3=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M7 10v12"}),y.jsx("path",{d:"M18 10V4a2 2 0 0 0-2-2H8.5a2 2 0 0 0-1.9.9L3 10v10h12.5a2.5 2.5 0 0 0 2.5-2.5V10Z"})]}),Cx=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z"}),y.jsx("path",{d:"m6.2 5.3 3.1 3.9"}),y.jsx("path",{d:"m12.4 3.6 3.1 3.9"}),y.jsx("path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z"})]}),Rx=e=>y.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M9 18V5l12-2v13"}),y.jsx("circle",{cx:"6",cy:"18",r:"3"}),y.jsx("circle",{cx:"18",cy:"16",r:"3"})]}),mf={Trophy:Or,Award:f3,BookOpen:v0,Code:PS,Dumbbell:d3,Flag:m3,Heart:LS,Star:_0,Zap:g0,Target:OS},_3={Language:h3,Programming:PS,Design:g0},T0=e=>`hsl(${e/100*120}, 70%, 50%)`,T3=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyDrWCHmSHWYwWNjDYYqbV1lASEiJbXeT8U",authDomain:"personal-dashboard-e8c8f.firebaseapp.com",projectId:"personal-dashboard-e8c8f",storageBucket:"personal-dashboard-e8c8f.firebasestorage.app",messagingSenderId:"906260519522",appId:"1:906260519522:web:f7d2e9666e3ee20d260f3b",measurementId:"G-R2Z1CJ9TW6"},Pi=(typeof __app_id<"u"?__app_id:"default-app-id").replace(/\//g,"_"),BS=Fx(T3),Fp=oD(BS),ni=rV(BS),b3=()=>{const e=[];let n=70;for(let s=0;s<120;s++){const a=new Date().getFullYear()-9+Math.floor(s/12),l=s%12+1;s<36?n+=5/36:s<60?n-=3/24:s<96?n+=8/36:n=81+(Math.random()-.5)*2;const c=n+(Math.random()-.5)*1;e.push({year:a,month:l,weight:parseFloat(c.toFixed(1))})}return e},E3={2025:[{type:"big",title:"Health Reset",status:"in-progress",progress:70,month:3,children:[{type:"small",title:"Start daily 20-min walks",status:"completed",month:3},{type:"small",title:"Track sleep with app",status:"in-progress",month:3}]},{type:"big",title:"Professional Growth",status:"not-started",progress:0,month:null,children:[{type:"small",title:"Finish advanced React course",status:"not-started",month:7}]}],2024:[{type:"big",title:"Strength & Mobility",status:"completed",progress:100,month:8,children:[{type:"small",title:"Gym 3×/week program",status:"completed",month:8}]}]},x3=[{title:"Maintain a healthy lifestyle",status:"in-progress",progress:60,completedAt:null,createdAt:new Date("2023-01-10T10:00:00Z"),orderIndex:0},{title:"Continuously learn and grow",status:"in-progress",progress:80,completedAt:null,createdAt:new Date("2023-01-15T11:00:00Z"),orderIndex:1},{title:"Cultivate meaningful relationships",status:"in-progress",progress:75,completedAt:null,createdAt:new Date("2023-02-01T12:00:00Z"),orderIndex:2}],w3=[{title:"Launch side project by end of year",status:"in-progress",progress:45,completedAt:null,createdAt:new Date("2025-03-15T10:00:00Z"),orderIndex:0}],A3=[{name:"Japanese",expertise:60,section:"Language",tags:["speaking","reading"]},{name:"English",expertise:85,section:"Language",tags:["professional"]},{name:"Spanish",expertise:40,section:"Language",tags:["beginner"]},{name:"React",expertise:90,section:"Programming",tags:["frontend","hooks","state-management"]},{name:"Python",expertise:80,section:"Programming",tags:["backend","data-science"]},{name:"Firestore",expertise:75,section:"Programming",tags:["database","nosql"]},{name:"Figma",expertise:85,section:"Design",tags:["prototyping","ui-design"]},{name:"UI/UX Principles",expertise:70,section:"Design",tags:["research","wireframing"]}],S3=[{title:"Passed JLPT N1",date:"2025-01-25",type:"earned",icon:"Trophy"},{title:"Launched a successful side project",date:"2024-11-10",type:"earned",icon:"Code"},{title:"Run a full marathon",type:"planned",icon:"Flag"}],fr=(e,t)=>new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())),Eu=e=>new Date(e.getTime()+(14+Math.random()*60)*24*60*60*1e3),C3=["The Ruins of Gorlan","The Burning Bridge","The Icebound Land","The Battle for Skandia","The Sorcerer of the North","The Siege of Macindaw","Erak's Ransom","The Kings of Clonmel","Halt's Peril","The Emperor of Nihon-Ja","The Lost Stories","The Royal Ranger"],R3=["The Lightning Thief","The Sea of Monsters","The Titan's Curse","The Battle of the Labyrinth","The Last Olympian"],I3=[{title:"The Way of Kings",author:"Brandon Sanderson",status:"finished",progress:100,rating:5,tags:["Fantasy","Epic"],pageCount:1007,startedAt:fr(new Date(2023,0,1),new Date(2023,2,1)),completedAt:Eu(fr(new Date(2023,2,2),new Date(2023,3,1)))},{title:"Words of Radiance",author:"Brandon Sanderson",status:"finished",progress:100,rating:5,tags:["Fantasy","Epic"],pageCount:1087,startedAt:fr(new Date(2024,0,1),new Date(2024,2,1)),completedAt:Eu(fr(new Date(2024,2,2),new Date(2024,3,1)))},{title:"Oathbringer",author:"Brandon Sanderson",status:"finished",progress:100,rating:5,tags:["Fantasy","Epic"],pageCount:1248,startedAt:fr(new Date(2025,0,1),new Date(2025,2,1)),completedAt:Eu(fr(new Date(2025,2,2),new Date(2025,3,1)))},{title:"Rhythm of War",author:"Brandon Sanderson",status:"planned",progress:0,rating:0,tags:["Fantasy","Epic"],pageCount:1232},...C3.map(e=>{const t=fr(new Date(2014,0,1),new Date(2016,11,31));return{title:e,author:"John Flanagan",status:"finished",progress:100,rating:4,tags:["Fantasy","YA"],pageCount:280,startedAt:Eu(new Date(t.getTime()-720*60*60*1e3)),completedAt:t}}),...R3.map(e=>{const t=fr(new Date(2014,0,1),new Date(2017,11,31));return{title:e,author:"Rick Riordan",status:"finished",progress:100,rating:5,tags:["Fantasy","Mythology"],pageCount:377,startedAt:Eu(new Date(t.getTime()-504*60*60*1e3)),completedAt:t}}),{title:"The Art of Seduction",author:"Robert Greene",status:"reading",progress:40,rating:0,tags:["Psychology","Self-Improvement"],pageCount:461},{title:"Atomic Habits",author:"James Clear",status:"reading",progress:65,rating:0,tags:["Self-Improvement","Productivity"],pageCount:320},{title:"The Courage to be Disliked",author:"Ichiro Kishimi",status:"reading",progress:80,rating:0,tags:["Philosophy","Psychology"],pageCount:288},{title:"The Name of the Wind",author:"Patrick Rothfuss",status:"finished",progress:100,rating:5,tags:["Fantasy"],pageCount:662,hallOfFame:!0}],N3=[{name:"Coffee",expertise:95,tags:["espresso","pour-over"]},{name:"Reading",expertise:90,tags:["fantasy","non-fiction"]},{name:"Hiking",expertise:75,tags:["mountains","nature"]},{name:"Indie Rock",expertise:85,tags:["live-shows"]},{name:"Bonsai",expertise:60,hallOfFame:!0,tags:["patience","art"]}],D3=[{title:"Inception",director:"Christopher Nolan",status:"watched",rating:5,tags:["Sci-Fi","Thriller"],watchedDate:"2020-07-16",length:148},{title:"Dune: Part Two",director:"Denis Villeneuve",status:"planned",rating:0,tags:["Sci-Fi","Adventure"],length:166},{title:"The Lord of the Rings: The Fellowship of the Ring",director:"Peter Jackson",status:"watched",rating:5,tags:["Fantasy","Adventure"],hallOfFame:!0,length:178}],M3=[{title:"Currents",artist:"Tame Impala",status:"listened",rating:5,tags:["Psychedelic Pop","Rock"]},{title:"The New Abnormal",artist:"The Strokes",status:"planned",rating:0,tags:["Indie Rock"]},{title:"OK Computer",artist:"Radiohead",status:"listened",rating:5,tags:["Alternative Rock"],hallOfFame:!0}],V3={name:"Furkan AVCI",weight:"75",height:"180",mbti:"INTJ",university:"Kindai University",major:"Computer Science",motto:"Fortune favors the bold.",currentAim:"Become a proficient full-stack developer.",weightHistory:b3()},dr=async(e,t,n)=>{const s=nA(ni),a=Uo(ni,"artifacts",Pi,"users",e,t);n.forEach(l=>{const c=Sr(a);s.set(c,{...l,ownerId:e,createdAt:l.createdAt||$o()})}),await s.commit()},k3=async e=>{console.log("Seeding all data for new user:",e);try{const t=Uo(ni,"artifacts",Pi,"users",e,"objectives"),n=nA(ni);Object.entries(E3).forEach(([a,l])=>{l.forEach((c,d)=>{const m=Sr(t);n.set(m,{ownerId:e,year:parseInt(a),month:c.month||null,parentObjectiveId:null,type:"big",title:c.title,status:c.status||"not-started",progress:c.progress||0,orderIndex:d*100,createdAt:$o()}),c.children&&c.children.forEach((g,v)=>{const T=Sr(t);n.set(T,{ownerId:e,year:parseInt(a),month:g.month||null,parentObjectiveId:m.id,type:"small",title:g.title,status:g.status||"not-started",progress:g.status==="completed"?100:0,orderIndex:v*100,createdAt:$o()})})})}),await n.commit(),await dr(e,"lifeGoals",x3),await dr(e,"importantGoals",w3),await dr(e,"skills",A3),await dr(e,"achievements",S3),await dr(e,"books",I3),await dr(e,"likes",N3),await dr(e,"movies",D3),await dr(e,"music",M3);const s=Sr(ni,"artifacts",Pi,"users",e,"about","main");await yV(s,{...V3,ownerId:e,createdAt:$o()}),console.log("All data seeded successfully.")}catch(t){console.error("Error during initial data seeding:",t)}};function O3(){const[e,t]=K.useState(null),[n,s]=K.useState(!0),[a,l]=K.useState("light"),[c,d]=K.useState([]),[m,g]=K.useState([]),[v,T]=K.useState([]),[x,C]=K.useState([]),[R,L]=K.useState([]),[q,Z]=K.useState([]),[J,B]=K.useState([]),[lt,at]=K.useState([]),[nt,N]=K.useState([]),[S,I]=K.useState(null),[V,j]=K.useState(new Date().getFullYear()),[P,M]=K.useState(null),[ue,Wt]=K.useState(null),[$,ot]=K.useState({isOpen:!1,type:null,data:{}}),[ft,_t]=K.useState(null),[k,rt]=K.useState(()=>Array.from({length:5},(X,wt)=>new Date().getFullYear()-2+wt)),[ht,ut]=K.useState({item:null,type:null}),gt=(X,wt)=>ut({item:X,type:wt}),Dt=()=>ut({item:null,type:null}),xt=()=>l(X=>X==="light"?"dark":"light");K.useEffect(()=>{const X=window.document.documentElement;X.classList.remove(a==="light"?"dark":"light"),X.classList.add(a);const wt="hall-of-fame-style";let he=document.getElementById(wt);he||(he=document.createElement("style"),he.id=wt,document.head.appendChild(he));const oi="linear-gradient(rgba(38, 38, 38, 0.93), rgba(38, 38, 38, 0.93)), linear-gradient(145deg, #fef9c3, #fcd34d, #d97706, #fcd34d, #fef9c3)",Fn="linear-gradient(rgba(255, 251, 235, 0.8), rgba(255, 251, 235, 0.8)), linear-gradient(145deg, #fde68a, #fef08a, #fffbeb, #fef08a, #fde68a)";he.innerHTML=`
        @property --angle {
          syntax: '<angle>';
          initial-value: 0deg;
          inherits: false;
        }
        .hall-of-fame-glow { position: relative; }
        .hall-of-fame-glow::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0; margin: -4px; border-radius: inherit;
            background: conic-gradient(from var(--angle), #facc15, #fde047, #fefce8, #fde047, #facc15);
            animation: rotate 2s linear infinite; filter: blur(3px);
        }
        .dark .hof-bg-themed { background-image: ${oi}; }
        .hof-bg-themed { background-image: ${Fn}; }
        .identity-core-glow { position: relative; }
        .identity-core-glow::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0; margin: -8px; border-radius: inherit;
            background: conic-gradient(from var(--angle), #818cf8, #c084fc, #f0abfc, #c084fc, #818cf8);
            animation: rotate 2s linear infinite; filter: blur(6px);
        }
        .hall-of-fame-glow-button { position: relative; }
        .hall-of-fame-glow-button::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0; margin: -2px; border-radius: inherit;
            background: conic-gradient(from var(--angle), #facc15, #fde047, #fefce8, #fde047, #facc15);
            animation: rotate 2s linear infinite; filter: blur(2px);
        }
        .grey-glow-button { position: relative; }
        .grey-glow-button::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0; margin: -2px; border-radius: inherit;
            background: conic-gradient(from var(--angle), #a1a1aa, #e5e5e5, #fafafa, #e5e5e5, #a1a1aa);
            animation: rotate 3s linear infinite; filter: blur(2px);
        }
        .cyan-glow-button { position: relative; }
        .cyan-glow-button::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0; margin: -2px; border-radius: inherit;
            background: conic-gradient(from var(--angle), #22d3ee, #67e8f9, #a5f3fc, #67e8f9, #22d3ee);
            animation: rotate 3s linear infinite; filter: blur(3px);
        }
        .hall-of-fame-content { position: relative; z-index: 1; border-radius: inherit; height: 100%; }
        @keyframes rotate { from { --angle: 0deg; } to { --angle: 360deg; } }
    `},[a]),K.useEffect(()=>{const X=document.createElement("link");X.href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&display=swap",X.rel="stylesheet",document.head.appendChild(X)},[]),K.useEffect(()=>{const X=XI(Fp,async wt=>{if(wt){t(wt);const he=wp(Uo(ni,"artifacts",Pi,"users",wt.uid,"objectives"));(await gV(he)).empty&&await k3(wt.uid),s(!1)}else try{const he=typeof __initial_auth_token<"u"?__initial_auth_token:null;he?await YI(Fp,he):await FI(Fp)}catch(he){console.error("Critical authentication error:",he),s(!1)}});return()=>X()},[]),K.useEffect(()=>{if(!e)return;const X=[];Object.entries({objectives:d,lifeGoals:g,importantGoals:T}).forEach(([qe,Jt])=>{const pe=wp(Uo(ni,"artifacts",Pi,"users",e.uid,qe),dV("orderIndex")),fe=Ap(pe,Ie=>{Jt(Ie.docs.map(li=>({id:li.id,...li.data()})))},Ie=>console.error(`Error fetching ${qe}:`,Ie));X.push(fe)}),Object.entries({skills:C,achievements:L,books:Z,likes:B,movies:at,music:N}).forEach(([qe,Jt])=>{const pe=wp(Uo(ni,"artifacts",Pi,"users",e.uid,qe)),fe=Ap(pe,Ie=>{Jt(Ie.docs.map(li=>({id:li.id,...li.data()})))},Ie=>console.error(`Error fetching ${qe}:`,Ie));X.push(fe)});const oi=Sr(ni,"artifacts",Pi,"users",e.uid,"about","main"),Fn=Ap(oi,qe=>{I(qe.exists()?{id:qe.id,...qe.data()}:null)},qe=>console.error("Error fetching about info:",qe));return X.push(Fn),()=>X.forEach(qe=>qe())},[e]);const Zt=(X,wt)=>TV(Uo(ni,"artifacts",Pi,"users",e.uid,X),{...wt,ownerId:e.uid,createdAt:$o()}),kt=(X,wt,he)=>vV(Sr(ni,"artifacts",Pi,"users",e.uid,X,wt),{...he,updatedAt:$o()}),Re=(X,wt)=>_V(Sr(ni,"artifacts",Pi,"users",e.uid,X,wt)),vi=X=>Zt("objectives",{...X,month:P}),Rn=(X,wt)=>kt("objectives",X,wt),_i=X=>Re("objectives",X),$i=X=>Zt("lifeGoals",X),Xi=(X,wt)=>kt("lifeGoals",X,wt),zr=X=>Re("lifeGoals",X),za=X=>Zt("importantGoals",X),bn=(X,wt)=>kt("importantGoals",X,wt),vl=X=>Re("importantGoals",X),Fr=X=>Zt("skills",X),js=(X,wt)=>kt("skills",X,wt),Wi=X=>Re("skills",X),_l=X=>Zt("likes",X),Ps=(X,wt)=>kt("likes",X,wt),Hr=X=>Re("likes",X),Fa=X=>Zt("achievements",X),ce=X=>Re("achievements",X),Gt=X=>Zt("books",X),on=(X,wt)=>kt("books",X,wt),He=X=>Re("books",X),Ha=X=>Zt("movies",X),qa=(X,wt)=>kt("movies",X,wt),Zi=X=>Re("movies",X),Ji=X=>Zt("music",X),Ti=(X,wt)=>kt("music",X,wt),In=X=>Re("music",X),Ls=X=>kt("about","main",X),zn=K.useMemo(()=>c.filter(X=>X.year===V&&(P===null||X.month===P)).sort((X,wt)=>X.orderIndex-wt.orderIndex),[c,V,P]),qr=K.useMemo(()=>zn.filter(X=>X.type==="big"),[zn]),Gr=K.useMemo(()=>zn.filter(X=>X.type==="small"&&X.parentObjectiveId).reduce((X,wt)=>({...X,[wt.parentObjectiveId]:[...X[wt.parentObjectiveId]||[],wt]}),{}),[zn]),Kr=K.useMemo(()=>c.find(X=>X.id===ue),[ue,c]),ai=()=>rt(X=>[...X,Math.max(...X)+1]);if(n)return y.jsx(j3,{});if(!e)return y.jsx("div",{className:"flex items-center justify-center h-screen bg-neutral-900 text-white",children:"Connecting..."});const Nn=(X,wt={})=>ot({isOpen:!0,type:X,data:wt}),Yr=()=>ot({isOpen:!1,type:null,data:{}});return y.jsxs("div",{className:`${a} bg-neutral-50 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-50 min-h-screen font-sans antialiased transition-colors`,children:[y.jsx(wa,{isOpen:ft==="about",onClose:()=>_t(null),title:"IDENTITY_CORE",icon:y.jsx(a3,{}),children:y.jsx($3,{about:S,onUpdate:Ls})}),y.jsx(wa,{isOpen:ft==="skills",onClose:()=>_t(null),title:"My Skills",icon:y.jsx(y0,{}),children:y.jsx(Ix,{items:x,onAdd:Fr,onUpdate:js,onDelete:Wi,sectionIcons:_3,config:{name:"Skill",section:"Category",colorHue:120,hasTags:!0,hasExpertise:!0}})}),y.jsx(wa,{isOpen:ft==="likes",onClose:()=>_t(null),title:"Hobbies",icon:y.jsx(v3,{}),children:y.jsx(Ix,{items:J,onAdd:_l,onUpdate:Ps,onDelete:Hr,sectionIcons:{},config:{name:"Hobby",section:"Category",colorHue:200,hasTags:!0,hasExpertise:!0,hideSection:!0}})}),y.jsx(wa,{isOpen:ft==="achievements",onClose:()=>_t(null),title:"My Achievements",icon:y.jsx(Or,{}),children:y.jsx(W3,{achievements:R,onAdd:Fa,onUpdate:kt,onDelete:ce})}),y.jsx(wa,{isOpen:ft==="library",onClose:()=>_t(null),title:"My Library",icon:y.jsx(v0,{}),children:y.jsx(e5,{books:q,onAdd:Gt,onUpdate:on,onDelete:He,onEdit:X=>gt(X,"book")})}),y.jsx(wa,{isOpen:ft==="movies",onClose:()=>_t(null),title:"My Movies",icon:y.jsx(Cx,{}),children:y.jsx(Dx,{items:lt,onAdd:Ha,onUpdate:qa,onDelete:Zi,config:{type:"Movie",primaryField:"Director",mediaIcon:y.jsx(Cx,{}),colorHue:300,hasLength:!0},onEdit:X=>gt(X,"movie")})}),y.jsx(wa,{isOpen:ft==="music",onClose:()=>_t(null),title:"My Music",icon:y.jsx(Rx,{}),children:y.jsx(Dx,{items:nt,onAdd:Ji,onUpdate:Ti,onDelete:In,config:{type:"Album/Song",primaryField:"Artist",mediaIcon:y.jsx(Rx,{}),colorHue:250,hidePlanned:!0},onEdit:X=>gt(X,"music")})}),y.jsxs("main",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[y.jsxs("header",{className:"mb-8 flex justify-between items-center",children:[y.jsx("h1",{style:{fontFamily:"'Caveat', cursive"},className:"text-5xl font-bold tracking-tight text-neutral-800 dark:text-neutral-100",children:"Furkan AVCI"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(P3,{theme:a,toggleTheme:xt}),y.jsx("button",{onClick:()=>_t("about"),className:"hidden sm:inline-flex px-4 py-2 font-semibold text-sm rounded-lg bg-neutral-200 dark:bg-neutral-800 hover:bg-neutral-300 dark:hover:bg-neutral-700",children:"Me"}),y.jsx("button",{onClick:()=>_t("skills"),className:"hidden sm:inline-flex px-4 py-2 font-semibold text-sm rounded-lg bg-neutral-200 dark:bg-neutral-800 hover:bg-neutral-300 dark:hover:bg-neutral-700",children:"Skills"}),y.jsx("button",{onClick:()=>_t("likes"),className:"hidden sm:inline-flex px-4 py-2 font-semibold text-sm rounded-lg bg-neutral-200 dark:bg-neutral-800 hover:bg-neutral-300 dark:hover:bg-neutral-700",children:"Hobbies"}),y.jsx("button",{onClick:()=>_t("achievements"),className:"hidden sm:inline-flex px-4 py-2 font-semibold text-sm rounded-lg bg-neutral-200 dark:bg-neutral-800 hover:bg-neutral-300 dark:hover:bg-neutral-700",children:"Achievements"}),y.jsx("button",{onClick:()=>_t("library"),className:"hidden sm:inline-flex px-4 py-2 font-semibold text-sm rounded-lg bg-neutral-200 dark:bg-neutral-800 hover:bg-neutral-300 dark:hover:bg-neutral-700",children:"Library"}),y.jsx("button",{onClick:()=>_t("movies"),className:"hidden sm:inline-flex px-4 py-2 font-semibold text-sm rounded-lg bg-neutral-200 dark:bg-neutral-800 hover:bg-neutral-300 dark:hover:bg-neutral-700",children:"Movies"}),y.jsx("button",{onClick:()=>_t("music"),className:"hidden sm:inline-flex px-4 py-2 font-semibold text-sm rounded-lg bg-neutral-200 dark:bg-neutral-800 hover:bg-neutral-300 dark:hover:bg-neutral-700",children:"Music"})]})]}),y.jsx(L3,{goals:m.filter(X=>!X.parentGoalId),subGoals:m.filter(X=>X.parentGoalId),onAdd:$i,onUpdate:Xi,onDelete:zr}),y.jsx(B3,{goals:v.filter(X=>!X.parentGoalId),subGoals:v.filter(X=>X.parentGoalId),onAdd:za,onUpdate:bn,onDelete:vl}),y.jsx(Qi,{mode:"wait",children:ue?y.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:y.jsx(G3,{objective:Kr,onBack:()=>Wt(null),onUpdate:Rn,onDelete:_i})},"detail"):y.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:y.jsx(F3,{years:k,addNextYear:ai,currentYear:V,setCurrentYear:j,selectedMonth:P,setSelectedMonth:M,objectives:c,bigObjectives:qr,smallObjectivesByParent:Gr,onSelectObjective:Wt,onAddBigObjective:()=>Nn("addBig",{year:V}),onAddSmallObjective:X=>Nn("addSmall",{year:V,parentObjectiveId:X}),onUpdateObjective:Rn,onDeleteObjective:_i,onEditObjective:X=>Nn("edit",X)})},"timeline")})]}),y.jsxs(Qi,{children:[$.isOpen&&y.jsx(K3,{isOpen:$.isOpen,type:$.type,initialData:$.data,onClose:Yr,onSave:$.type==="edit"?Rn:vi}),ht.item&&y.jsx(s5,{isOpen:!!ht.item,onClose:Dt,item:ht.item,type:ht.type,onSave:ht.type==="book"?on:ht.type==="movie"?qa:Ti})]})]})}const j3=()=>y.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-neutral-900 text-white",children:[y.jsx(s3,{className:"w-12 h-12 mb-4"}),y.jsx("h1",{className:"text-2xl font-bold text-neutral-100",children:"Furkan AVCI"}),y.jsx("p",{className:"text-neutral-400",children:"Loading your goals..."})]}),P3=({theme:e,toggleTheme:t})=>y.jsx("div",{className:`flex items-center w-14 h-8 rounded-full p-1 cursor-pointer ${e==="light"?"bg-neutral-200 justify-start":"bg-blue-500 justify-end"}`,onClick:t,children:y.jsx(re.div,{layout:!0,transition:{type:"spring",stiffness:700,damping:30},className:"w-6 h-6 rounded-full bg-white flex items-center justify-center",children:e==="dark"?y.jsx(u3,{className:"w-4 h-4 text-blue-500"}):y.jsx(l3,{className:"w-4 h-4 text-yellow-500"})})});function L3({goals:e,subGoals:t,onAdd:n,onUpdate:s,onDelete:a}){const[l,c]=K.useState(""),[d,m]=K.useState(null),g=()=>{l.trim()&&(n({title:l,status:"in-progress",progress:0,completedAt:null,orderIndex:e.length}),c(""))},v=()=>{if(d&&d.title.trim()){const T={title:d.title};d.createdAt&&(T.createdAt=new Date(d.createdAt)),d.completedAt?T.completedAt=new Date(d.completedAt):T.completedAt=null,s(d.id,T),m(null)}};return y.jsxs("div",{className:"mb-12",children:[y.jsx("h2",{className:"text-3xl font-extrabold mb-4 tracking-tight text-blue-600 dark:text-blue-400",children:"My Life Goals"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(T=>y.jsx(U3,{goal:T,onUpdate:s,onDelete:a,onEdit:()=>m({...T,createdAt:T.createdAt?.toDate?T.createdAt.toDate().toISOString().split("T")[0]:"",completedAt:T.completedAt?.toDate?T.completedAt.toDate().toISOString().split("T")[0]:""})},T.id))}),y.jsxs("div",{className:"mt-4 flex gap-2",children:[y.jsx("input",{type:"text",value:l,onChange:T=>c(T.target.value),placeholder:"Add a new life goal...",className:"w-full bg-neutral-100 dark:bg-neutral-800 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),y.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg",children:"Add"})]}),d&&y.jsx(re.div,{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",onClick:()=>m(null),children:y.jsxs(re.div,{className:"bg-neutral-100 dark:bg-neutral-800 p-6 rounded-xl w-full max-w-md",onClick:T=>T.stopPropagation(),children:[y.jsx("h3",{className:"font-bold text-lg mb-4",children:"Edit Life Goal"}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",value:d.title,onChange:T=>m(x=>({...x,title:T.target.value})),className:"w-full bg-white dark:bg-neutral-700 p-2 rounded-lg"}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm",children:"Added On"}),y.jsx("input",{type:"date",value:d.createdAt,onChange:T=>m(x=>({...x,createdAt:T.target.value})),className:"w-full bg-white dark:bg-neutral-700 p-2 rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm",children:"Completed On"}),y.jsx("input",{type:"date",value:d.completedAt,onChange:T=>m(x=>({...x,completedAt:T.target.value})),className:"w-full bg-white dark:bg-neutral-700 p-2 rounded-lg"})]})]})]}),y.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[y.jsx("button",{onClick:()=>m(null),className:"px-3 py-1 rounded-lg bg-neutral-200 dark:bg-neutral-600",children:"Cancel"}),y.jsx("button",{onClick:v,className:"px-3 py-1 rounded-lg bg-blue-600 text-white",children:"Save"})]})]})})]})}function U3({goal:e,onUpdate:t,onDelete:n,onEdit:s}){const a=e.status==="completed",l=()=>{t(e.id,{status:a?"in-progress":"completed",completedAt:a?null:new Date,progress:a?e.progress||0:100})},c=g=>g?(g.toDate?g.toDate():new Date(g)).toLocaleDateString():"",d=K.useMemo(()=>{if(a&&e.createdAt&&e.completedAt){const g=e.createdAt.toDate?e.createdAt.toDate():new Date(e.createdAt),v=e.completedAt.toDate?e.completedAt.toDate():new Date(e.completedAt);if(g instanceof Date&&v instanceof Date&&!isNaN(g)&&!isNaN(v)){const T=Math.abs(v-g);return Math.ceil(T/(1e3*60*60*24))}}return null},[e.status,e.createdAt,e.completedAt]),m=T0(e.progress||0);return y.jsxs("div",{className:"bg-white dark:bg-neutral-800/50 rounded-xl border-l-4 p-4 group flex flex-col",style:{borderColor:m},children:[y.jsxs("div",{className:"flex-grow",children:[y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("button",{onClick:l,className:"mt-1",children:a?y.jsx(p0,{className:"w-6 h-6 text-green-500"}):y.jsx(jS,{className:"w-6 h-6 text-neutral-400 group-hover:text-blue-500"})}),y.jsxs("div",{children:[y.jsx("p",{className:`font-medium ${a?"line-through text-neutral-500":""}`,children:e.title}),y.jsxs("p",{className:"text-xs text-neutral-500",children:["Added on ",c(e.createdAt)]}),a&&e.completedAt&&y.jsxs("p",{className:"text-xs text-neutral-500",children:["Finished on ",c(e.completedAt)]})]})]}),y.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:s,children:y.jsx(yi,{className:"w-4 h-4 text-neutral-400"})}),y.jsx("button",{onClick:()=>n(e.id),children:y.jsx(Br,{className:"w-4 h-4 text-red-500"})})]})]}),a&&d!==null&&y.jsxs("p",{className:"text-xs text-green-500 font-semibold mt-2",children:["It took ",d," days to accomplish this!"]})]}),y.jsx("div",{className:"mt-auto pt-3",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("input",{type:"range",min:"0",max:"100",value:e.progress||0,onChange:g=>t(e.id,{progress:parseInt(g.target.value)}),className:"w-full h-2 bg-neutral-200 dark:bg-neutral-700 rounded-lg appearance-none cursor-pointer",style:{accentColor:m}}),y.jsxs("span",{className:"text-sm font-bold w-12 text-right",style:{color:m},children:[e.progress||0,"%"]})]})})]})}function B3({goals:e,subGoals:t,onAdd:n,onUpdate:s,onDelete:a}){const[l,c]=K.useState(""),[d,m]=K.useState(null),g=()=>{l.trim()&&(n({title:l,status:"in-progress",progress:0,completedAt:null,orderIndex:e.length}),c(""))},v=()=>{if(d&&d.title.trim()){const T={title:d.title};d.createdAt&&(T.createdAt=new Date(d.createdAt)),d.completedAt?T.completedAt=new Date(d.completedAt):T.completedAt=null,s(d.id,T),m(null)}};return y.jsxs("div",{className:"mb-12",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[y.jsx(c3,{className:"w-8 h-8 text-red-500"}),y.jsx("h2",{className:"text-3xl font-extrabold tracking-tight text-red-600 dark:text-red-400",children:"Important"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(T=>y.jsx(z3,{goal:T,onUpdate:s,onDelete:a,onEdit:()=>m({...T,createdAt:T.createdAt?.toDate?T.createdAt.toDate().toISOString().split("T")[0]:"",completedAt:T.completedAt?.toDate?T.completedAt.toDate().toISOString().split("T")[0]:""})},T.id))}),y.jsxs("div",{className:"mt-4 flex gap-2",children:[y.jsx("input",{type:"text",value:l,onChange:T=>c(T.target.value),placeholder:"Add a new important goal...",className:"w-full bg-red-100/50 dark:bg-red-900/20 border border-red-500/30 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"}),y.jsx("button",{onClick:g,className:"px-4 py-2 bg-red-600 text-white font-semibold rounded-lg",children:"Add"})]}),d&&y.jsx(re.div,{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",onClick:()=>m(null),children:y.jsxs(re.div,{className:"bg-neutral-100 dark:bg-neutral-800 p-6 rounded-xl w-full max-w-md",onClick:T=>T.stopPropagation(),children:[y.jsx("h3",{className:"font-bold text-lg mb-4",children:"Edit Important Goal"}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",value:d.title,onChange:T=>m(x=>({...x,title:T.target.value})),className:"w-full bg-white dark:bg-neutral-700 p-2 rounded-lg"}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm",children:"Added On"}),y.jsx("input",{type:"date",value:d.createdAt,onChange:T=>m(x=>({...x,createdAt:T.target.value})),className:"w-full bg-white dark:bg-neutral-700 p-2 rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm",children:"Completed On"}),y.jsx("input",{type:"date",value:d.completedAt,onChange:T=>m(x=>({...x,completedAt:T.target.value})),className:"w-full bg-white dark:bg-neutral-700 p-2 rounded-lg"})]})]})]}),y.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[y.jsx("button",{onClick:()=>m(null),className:"px-3 py-1 rounded-lg bg-neutral-200 dark:bg-neutral-600",children:"Cancel"}),y.jsx("button",{onClick:v,className:"px-3 py-1 rounded-lg bg-blue-600 text-white",children:"Save"})]})]})})]})}function z3({goal:e,onUpdate:t,onDelete:n,onEdit:s}){const a=e.status==="completed",l=()=>{t(e.id,{status:a?"in-progress":"completed",completedAt:a?null:new Date,progress:a?e.progress||0:100})},c=v=>v?(v.toDate?v.toDate():new Date(v)).toLocaleDateString():"",d=K.useMemo(()=>{if(a&&e.createdAt&&e.completedAt){const v=e.createdAt.toDate?e.createdAt.toDate():new Date(e.createdAt),T=e.completedAt.toDate?e.completedAt.toDate():new Date(e.completedAt);if(v instanceof Date&&T instanceof Date&&!isNaN(v)&&!isNaN(T)){const x=Math.abs(T-v);return Math.ceil(x/(1e3*60*60*24))}}return null},[e.status,e.createdAt,e.completedAt]),g=(v=>`hsl(${v/100*30}, 80%, 50%)`)(e.progress||0);return y.jsxs("div",{className:"bg-white dark:bg-neutral-800/50 rounded-xl border-l-4 p-4 group flex flex-col",style:{borderColor:g},children:[y.jsx("div",{className:"flex-grow",children:y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("button",{onClick:l,className:"mt-1",children:a?y.jsx(p0,{className:"w-6 h-6 text-green-500"}):y.jsx(jS,{className:"w-6 h-6 text-neutral-400 group-hover:text-red-500"})}),y.jsxs("div",{children:[y.jsx("p",{className:`font-medium ${a?"line-through text-neutral-500":""}`,children:e.title}),y.jsxs("p",{className:"text-xs text-neutral-500",children:["Added on ",c(e.createdAt)]}),a&&e.completedAt&&y.jsxs("p",{className:"text-xs text-neutral-500",children:["Finished on ",c(e.completedAt)]}),a&&d!==null&&y.jsxs("p",{className:"text-xs text-green-500 font-semibold",children:["It took ",d," days to accomplish this!"]})]})]}),y.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:s,children:y.jsx(yi,{className:"w-4 h-4 text-neutral-400"})}),y.jsx("button",{onClick:()=>n(e.id),children:y.jsx(Br,{className:"w-4 h-4 text-red-500"})})]})]})}),y.jsx("div",{className:"mt-auto pt-3",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("input",{type:"range",min:"0",max:"100",value:e.progress||0,onChange:v=>t(e.id,{progress:parseInt(v.target.value)}),className:"w-full h-2 bg-neutral-200 dark:bg-neutral-700 rounded-lg appearance-none cursor-pointer",style:{accentColor:g}}),y.jsxs("span",{className:"text-sm font-bold w-12 text-right",style:{color:g},children:[e.progress||0,"%"]})]})})]})}function F3({years:e,addNextYear:t,currentYear:n,setCurrentYear:s,selectedMonth:a,setSelectedMonth:l,objectives:c,bigObjectives:d,smallObjectivesByParent:m,onSelectObjective:g,onAddBigObjective:v,onAddSmallObjective:T,onUpdateObjective:x,onDeleteObjective:C,onEditObjective:R}){const L=K.useRef(null),q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];K.useEffect(()=>{const B=L.current;if(!B)return;const lt=B.querySelector(`[data-year="${n}"]`);lt&&lt.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[n]);const Z=K.useMemo(()=>{const B=c.filter(at=>at.year===n&&at.type==="small");if(B.length===0)return 0;const lt=B.filter(at=>at.status==="completed").length;return Math.round(lt/B.length*100)},[c,n]),J=B=>{s(B),l(null)};return y.jsxs("div",{children:[y.jsxs("div",{className:"sticky top-0 bg-neutral-50/80 dark:bg-neutral-900/80 backdrop-blur-sm py-4 z-10 -mx-4 px-4 space-y-3",children:[y.jsxs("div",{ref:L,className:"flex items-center space-x-2 overflow-x-auto snap-x snap-mandatory no-scrollbar pb-2",children:[e.map(B=>y.jsx("button",{"data-year":B,onClick:()=>J(B),className:`snap-center shrink-0 px-4 py-2 text-lg font-semibold rounded-full transition-colors ${n===B?"bg-blue-600 text-white shadow-lg":"bg-neutral-200 dark:bg-neutral-800 hover:bg-neutral-300 dark:hover:bg-neutral-700"}`,children:B},B)),y.jsx("button",{onClick:t,className:"snap-start shrink-0 w-10 h-10 flex items-center justify-center bg-neutral-200 dark:bg-neutral-800 rounded-full hover:bg-neutral-300 dark:hover:bg-neutral-700 transition-colors",children:y.jsx(Ug,{className:"w-6 h-6"})})]}),y.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[y.jsx("button",{onClick:()=>l(null),className:`shrink-0 px-3 py-1 text-sm rounded-full font-semibold ${a===null?"bg-blue-200 text-blue-800 dark:bg-blue-800 dark:text-blue-100":"bg-neutral-200 dark:bg-neutral-800"}`,children:"Year Overview"}),q.map((B,lt)=>y.jsx("button",{onClick:()=>l(lt+1),className:`shrink-0 px-3 py-1 text-sm rounded-full ${a===lt+1?"bg-blue-200 text-blue-800 dark:bg-blue-800 dark:text-blue-100":"bg-neutral-200 dark:bg-neutral-800"}`,children:B},B))]})]}),y.jsxs("div",{className:"flex justify-between items-center my-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold",children:a?`${q[a-1]} ${n}`:n}),a===null&&y.jsxs("p",{className:"text-neutral-500 dark:text-neutral-400",children:["Year completion: ",Z,"%"]})]}),y.jsxs(re.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md transition-all",children:[y.jsx(Ug,{className:"w-5 h-5"})," New Objective"]})]}),d.length>0?y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.jsx(Qi,{children:d.map(B=>y.jsx(H3,{objective:B,smallObjectives:m[B.id]||[],onSelect:()=>g(B.id),onAddSmallObjective:T,onUpdateObjective:x,onDeleteObjective:C,onEditObjective:R},B.id))})}):y.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-neutral-300 dark:border-neutral-700 rounded-2xl",children:[y.jsx(g0,{className:"w-12 h-12 mx-auto text-neutral-400 dark:text-neutral-500"}),y.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"No objectives yet"}),y.jsx("p",{className:"mt-1 text-neutral-500 dark:text-neutral-400",children:"Add your first objective for this period."})]})]})}function H3({objective:e,smallObjectives:t,onSelect:n,onAddSmallObjective:s,onUpdateObjective:a,onDeleteObjective:l,onEditObjective:c}){const d=K.useMemo(()=>{if(t.length===0)return e.progress||0;const g=t.filter(v=>v.status==="completed").length;return Math.round(g/t.length*100)},[t,e.progress]),m=T0(d);return y.jsxs(re.div,{layout:!0,initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",stiffness:260,damping:20},className:"bg-white dark:bg-neutral-800/50 rounded-2xl border-l-4 shadow-sm p-6 flex flex-col",style:{borderColor:m},children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(Q3,{progress:d}),y.jsx("h3",{onClick:n,className:"text-xl font-bold cursor-pointer hover:text-blue-500",children:e.title})]}),y.jsx(Y3,{onEdit:()=>c(e),onDelete:()=>l(e.id)})]}),y.jsx("div",{className:"space-y-3 flex-grow",children:t.map(g=>y.jsx(q3,{objective:g,onUpdate:a,onEdit:()=>c(g)},g.id))}),y.jsxs("button",{onClick:()=>s(e.id),className:"mt-4 text-sm flex items-center gap-2 text-blue-500 hover:text-blue-600 font-medium",children:[y.jsx(Ug,{className:"w-4 h-4"})," Add task"]})]})}function q3({objective:e,onUpdate:t,onEdit:n}){const s=e.status==="completed",a=()=>{t(e.id,{status:s?"in-progress":"completed"})};return y.jsxs("div",{className:"flex items-center gap-3 group",children:[y.jsx("button",{onClick:a,children:s?y.jsx(p0,{className:"w-6 h-6 text-green-500"}):y.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-neutral-300 dark:border-neutral-600 group-hover:border-blue-500 transition"})}),y.jsx("span",{onDoubleClick:n,className:`flex-grow ${s?"line-through text-neutral-400 dark:text-neutral-500":""}`,children:e.title}),y.jsx("button",{onClick:n,className:"opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsx(yi,{className:"w-4 h-4 text-neutral-500"})})]})}function G3({objective:e,onBack:t,onUpdate:n,onDelete:s}){return e?y.jsxs("div",{className:"max-w-3xl mx-auto",children:[y.jsxs("button",{onClick:t,className:"flex items-center gap-2 mb-6 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200",children:[y.jsx(i3,{className:"w-5 h-5"})," Back to Timeline"]}),y.jsxs("div",{className:"bg-white dark:bg-neutral-800/50 rounded-2xl border border-neutral-200 dark:border-neutral-700 shadow-sm p-8",children:[y.jsx("input",{type:"text",defaultValue:e.title,onBlur:a=>n(e.id,{title:a.target.value}),className:"text-4xl font-bold bg-transparent w-full focus:outline-none mb-4"}),y.jsx("textarea",{defaultValue:e.description,onBlur:a=>n(e.id,{description:a.target.value}),placeholder:"Add a description...",className:"w-full h-32 bg-transparent text-neutral-600 dark:text-neutral-300 focus:outline-none resize-none"}),y.jsxs("div",{className:"mt-8 pt-6 border-t border-neutral-200 dark:border-neutral-700",children:[y.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Comments"}),y.jsxs("div",{className:"text-center text-neutral-500",children:[y.jsx(n3,{className:"w-8 h-8 mx-auto mb-2"}),y.jsx("p",{children:"Comments feature coming soon!"})]})]}),y.jsx("div",{className:"mt-8 pt-6 border-t border-neutral-200 dark:border-neutral-700 flex justify-end",children:y.jsxs("button",{onClick:()=>{s(e.id),t()},className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white font-semibold rounded-lg shadow-md hover:bg-red-700 transition-all",children:[y.jsx(Br,{className:"w-5 h-5"})," Delete Objective"]})})]})]}):null}function K3({isOpen:e,type:t,initialData:n,onClose:s,onSave:a}){const[l,c]=K.useState(""),[d,m]=K.useState(!1);K.useEffect(()=>{e&&c(n.title||"")},[e,n]);const g=async()=>{if(!l.trim())return;m(!0);const T={...n,title:l,type:t==="addBig"?"big":"small",status:n.status||"not-started",progress:n.progress||0,orderIndex:n.orderIndex||Date.now()};t==="edit"?await a(n.id,{title:l}):await a(T),m(!1),s()},v=t==="addBig"?"New Big Objective":t==="addSmall"?"New Task":"Edit Objective";return y.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:s,children:y.jsxs(re.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-xl w-full max-w-md",onClick:T=>T.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:"text-xl font-bold mb-4",children:v}),y.jsx("input",{type:"text",value:l,onChange:T=>c(T.target.value),placeholder:"e.g., Learn to play the guitar",className:"w-full px-4 py-2 bg-neutral-100 dark:bg-neutral-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),y.jsxs("div",{className:"px-6 py-4 bg-neutral-50 dark:bg-neutral-800/50 flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:s,className:"px-4 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-700 hover:bg-neutral-300 dark:hover:bg-neutral-600 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:g,disabled:d,className:"px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold disabled:opacity-50",children:d?"Saving...":"Save"})]})]})})}function Y3({onEdit:e,onDelete:t}){const[n,s]=K.useState(!1),a=K.useRef(null);return K.useEffect(()=>{const l=c=>{a.current&&!a.current.contains(c.target)&&s(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),y.jsxs("div",{className:"relative",ref:a,children:[y.jsx("button",{onClick:()=>s(!n),className:"p-1 rounded-full hover:bg-neutral-200 dark:hover:bg-neutral-700",children:y.jsx(e3,{className:"w-5 h-5"})}),y.jsx(Qi,{children:n&&y.jsxs(re.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.1},className:"absolute right-0 mt-2 w-40 bg-white dark:bg-neutral-800 rounded-lg shadow-lg border border-neutral-200 dark:border-neutral-700 z-20",children:[y.jsxs("button",{onClick:()=>{e(),s(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm hover:bg-neutral-100 dark:hover:bg-neutral-700",children:[y.jsx(yi,{className:"w-4 h-4"})," Edit"]}),y.jsxs("button",{onClick:()=>{t(),s(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-red-500 hover:bg-red-500 hover:text-white",children:[y.jsx(Br,{className:"w-4 h-4"})," Delete"]})]})})]})}const Q3=({progress:e})=>{const a=40*Math.PI,l=a-e/100*a,c=T0(e);return y.jsxs("svg",{height:60,width:60,className:"-rotate-90",children:[y.jsx("circle",{className:"text-neutral-200 dark:text-neutral-700",stroke:"currentColor",fill:"transparent",strokeWidth:5,r:20,cx:30,cy:30}),y.jsx(re.circle,{stroke:c,fill:"transparent",strokeWidth:5,strokeDasharray:a+" "+a,style:{strokeDashoffset:l},r:20,cx:30,cy:30,initial:{strokeDashoffset:a},animate:{strokeDashoffset:l},transition:{duration:1,ease:"easeInOut"},strokeLinecap:"round"}),y.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dy:".3em",className:"text-sm font-bold fill-current text-neutral-700 dark:text-neutral-200",transform:"rotate(90 30,30)",children:`${e}`})]})};function wa({isOpen:e,onClose:t,title:n,icon:s,children:a}){return y.jsx(Qi,{children:e&&y.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/60 z-30 flex justify-center items-center p-4 sm:p-8",children:y.jsxs(re.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",stiffness:200,damping:25},onClick:l=>l.stopPropagation(),className:"bg-neutral-100 dark:bg-neutral-900 w-full h-full max-w-6xl rounded-2xl shadow-2xl flex flex-col",children:[y.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-800 shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-cyan-400",children:s}),y.jsx("h2",{className:"text-2xl font-bold",children:n})]}),y.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-neutral-200 dark:hover:bg-neutral-700",children:y.jsx(r3,{className:"w-6 h-6"})})]}),y.jsx("div",{className:"p-6 overflow-y-auto no-scrollbar bg-neutral-50 dark:bg-neutral-900",children:a})]})})})}function $3({about:e,onUpdate:t}){const[n,s]=K.useState({name:"",weight:"",height:"",mbti:"",university:"",major:"",motto:"",currentAim:"",weightHistory:[]}),[a,l]=K.useState(!1);K.useEffect(()=>{e&&s({name:e.name||"Furkan AVCI",weight:e.weight||"",height:e.height||"",mbti:e.mbti||"INTJ",university:e.university||"",major:e.major||"",motto:e.motto||"",currentAim:e.currentAim||"",weightHistory:Array.isArray(e.weightHistory)?e.weightHistory:[]})},[e]);const c=K.useCallback((v,T)=>{const x=parseFloat(v),C=parseFloat(T);if(x>0&&C>0){const R=C/100;return(x/(R*R)).toFixed(1)}return null},[]),d=K.useMemo(()=>c(n.weight,n.height),[n.weight,n.height,c]),m=K.useCallback((v,T)=>{t({[v]:T})},[t]),g=["INTJ","INTP","ENTJ","ENTP","INFJ","INFP","ENFJ","ENFP","ISTJ","ISFJ","ESTJ","ESFJ","ISTP","ISFP","ESTP","ESFP"];return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 text-slate-300",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsx(X3,{}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[y.jsx(Hp,{label:"WEIGHT (KG)",value:n.weight,onSave:v=>m("weight",v),icon:y.jsx(US,{})}),y.jsx(Hp,{label:"HEIGHT (CM)",value:n.height,onSave:v=>m("height",v),icon:y.jsx(p3,{})})]}),y.jsx(Hp,{label:"BMI",value:d||"N/A",isStatic:!0,icon:y.jsx(LS,{})}),y.jsx(Z3,{weightHistory:n.weightHistory,onEditClick:()=>l(!0)})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsx(al,{value:n.mbti,onChange:v=>m("mbti",v),options:g.map(v=>({label:v,value:v})),label:"MBTI Personality",icon:y.jsx(y0,{})}),y.jsx(Wh,{label:"UNIVERSITY",value:n.university,onSave:v=>m("university",v),icon:y.jsx(y3,{})}),y.jsx(Wh,{label:"MAJOR",value:n.major,onSave:v=>m("major",v),icon:y.jsx(v0,{})}),y.jsx(Wh,{label:"MOTTO",value:n.motto,onSave:v=>m("motto",v),icon:y.jsx(g3,{})}),y.jsx(Wh,{label:"CURRENT AIM",value:n.currentAim,onSave:v=>m("currentAim",v),icon:y.jsx(OS,{})})]})]}),y.jsx(Qi,{children:a&&y.jsx(t5,{isOpen:a,onClose:()=>l(!1),weightHistory:n.weightHistory,onSave:v=>m("weightHistory",v)})})]})}const X3=()=>y.jsx("div",{className:"identity-core-glow rounded-full w-56 h-56 flex items-center justify-center mx-auto",children:y.jsx("div",{className:"hall-of-fame-content bg-slate-900 rounded-full w-full h-full flex flex-col items-center justify-center border-2 border-cyan-400/50",children:y.jsx("span",{className:"text-8xl font-bold text-cyan-300 opacity-70",children:"FA"})})}),Hp=({label:e,value:t,onSave:n,icon:s,isStatic:a=!1})=>{const[l,c]=K.useState(t),[d,m]=K.useState(!1);K.useEffect(()=>{c(t)},[t]);const g=()=>{n(l),m(!1)},T=e==="BMI"?(x=>x<18.5?"text-cyan-400":x<25?"text-green-400":x<30?"text-yellow-400":"text-red-400")(t):"text-cyan-300";return y.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700 backdrop-blur-sm relative group",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[Lf.cloneElement(s,{className:"w-5 h-5 text-purple-400"}),y.jsx("label",{className:"text-sm font-semibold text-slate-400 tracking-widest",children:e})]}),d?y.jsx("input",{type:"text",value:l,onChange:x=>c(x.target.value),onBlur:g,onKeyPress:x=>x.key==="Enter"&&g(),className:"w-full bg-transparent text-3xl font-bold text-cyan-300 focus:outline-none focus:ring-1 focus:ring-cyan-500 rounded-md px-1",autoFocus:!0}):y.jsx("p",{className:`text-3xl font-bold ${T}`,children:t}),!a&&y.jsx("button",{onClick:()=>m(!0),className:"absolute top-3 right-3 p-1 opacity-20 group-hover:opacity-100 transition-opacity",children:y.jsx(yi,{className:"w-4 h-4 text-slate-400"})})]})},Wh=({label:e,value:t,onSave:n,icon:s})=>{const[a,l]=K.useState(t),[c,d]=K.useState(!1);K.useEffect(()=>{l(t)},[t]);const m=()=>{n(a),d(!1)};return y.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700 backdrop-blur-sm relative group",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[Lf.cloneElement(s,{className:"w-5 h-5 text-purple-400"}),y.jsx("label",{className:"text-sm font-semibold text-slate-400 tracking-widest",children:e})]}),c?y.jsx("textarea",{value:a,onChange:g=>l(g.target.value),onBlur:m,className:"w-full bg-slate-700 text-lg text-slate-200 focus:outline-none focus:ring-1 focus:ring-cyan-500 rounded-md p-1 resize-none",autoFocus:!0,rows:3}):y.jsx("p",{onDoubleClick:()=>d(!0),className:"text-lg text-slate-200 h-[72px] overflow-hidden",children:t}),y.jsx("button",{onClick:()=>d(!0),className:"absolute top-3 right-3 p-1 opacity-20 group-hover:opacity-100 transition-opacity",children:y.jsx(yi,{className:"w-4 h-4 text-slate-400"})})]})};function Ix({items:e,onAdd:t,onUpdate:n,onDelete:s,sectionIcons:a,config:l}){const[c,d]=K.useState(""),[m,g]=K.useState(""),[v,T]=K.useState(""),[x,C]=K.useState(!1),[R,L]=K.useState(null),q=()=>{if(c.trim()){const nt={name:c,expertise:50,section:l.hideSection?"":m,hallOfFame:x};l.hasTags&&(nt.tags=v.split(",").map(N=>N.trim()).filter(Boolean)),t(nt),d(""),l.hideSection||g(""),l.hasTags&&T(""),C(!1)}},Z=()=>{n(R.id,{name:R.name,section:R.section,tags:R.tags,expertise:R.expertise}),L(null)},J=nt=>`hsl(${nt/100*120+l.colorHue}, 70%, 50%)`,B=K.useMemo(()=>{const nt=e.filter(I=>!I.hallOfFame),N=e.filter(I=>I.hallOfFame),S=I=>I.reduce((V,j)=>{const P=j.section||"General";return V[P]||(V[P]=[]),V[P].push(j),V},{});return{regular:S(nt),hallOfFame:S(N)}},[e]),lt=(nt,N)=>{const S=y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("span",{className:`font-semibold ${N?"text-amber-400":"text-neutral-500 dark:text-neutral-400"}`,children:nt.name}),y.jsxs("div",{className:"flex items-center gap-2",children:[l.hasExpertise&&y.jsxs("span",{className:"text-sm font-semibold",style:{color:J(nt.expertise)},children:[nt.expertise,"%"]}),y.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>L({...nt,tags:Array.isArray(nt.tags)?nt.tags.join(", "):""}),children:y.jsx(yi,{className:`w-4 h-4 ${N?"text-neutral-300 hover:text-white":"text-neutral-400 hover:text-blue-500"}`})}),y.jsx("button",{onClick:()=>s(nt.id),children:y.jsx(Br,{className:`w-4 h-4 ${N?"text-neutral-300 hover:text-red-400":"text-neutral-400 hover:text-red-500"}`})})]})]})]}),l.hasExpertise&&y.jsx("input",{type:"range",min:"0",max:"100",value:nt.expertise,onChange:I=>n(nt.id,{expertise:parseInt(I.target.value)}),className:"w-full h-2 bg-neutral-200 dark:bg-neutral-700 rounded-lg appearance-none cursor-pointer",style:{accentColor:J(nt.expertise)}}),l.hasTags&&nt.tags&&y.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:nt.tags.map(I=>y.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${N?"bg-yellow-200/20 text-yellow-200":"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200"}`,children:I},I))})]});return N?y.jsx("div",{className:"hall-of-fame-glow rounded-lg",children:y.jsx("div",{className:"hall-of-fame-content p-3 rounded-lg border border-yellow-600/50 group hof-bg-themed",children:S})},nt.id):y.jsx("div",{className:"p-3 rounded-lg border-l-4 group bg-white dark:bg-neutral-800",style:{borderColor:J(nt.expertise)},children:S},nt.id)},at=(nt,N=!1)=>Object.entries(nt).map(([S,I])=>{const V=a[S]||y0;return y.jsxs("div",{children:[!l.hideSection&&y.jsxs("h3",{className:"flex items-center gap-2 font-bold text-lg mb-2",children:[y.jsx(V,{className:"w-5 h-5 text-blue-500"}),S]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:I.map(j=>lt(j,N))})]},S+(N?"hof":""))});return y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"md:col-span-1 space-y-3",children:[y.jsxs("h3",{className:"font-bold text-lg",children:["Add New ",l.name]}),y.jsx("input",{type:"text",value:c,onChange:nt=>d(nt.target.value),placeholder:`${l.name} name`,className:"w-full p-2 bg-neutral-200 dark:bg-neutral-800 rounded-md"}),!l.hideSection&&y.jsx("input",{type:"text",value:m,onChange:nt=>g(nt.target.value),placeholder:`${l.section} (e.g., Music)`,className:"w-full p-2 bg-neutral-200 dark:bg-neutral-800 rounded-md"}),l.hasTags&&y.jsx("input",{type:"text",value:v,onChange:nt=>T(nt.target.value),placeholder:"Tags (comma-separated)",className:"w-full p-2 bg-neutral-200 dark:bg-neutral-800 rounded-md"}),y.jsx("div",{className:`${x?"hall-of-fame-glow-button":"grey-glow-button"} rounded-md`,children:y.jsxs("button",{onClick:()=>C(!x),className:`w-full flex items-center justify-center gap-2 p-2 rounded-md transition-all hall-of-fame-content ${x?"bg-slate-200 text-slate-800 dark:bg-neutral-700 dark:text-white":"bg-neutral-200 dark:bg-neutral-800"}`,children:[y.jsx(Or,{className:`w-5 h-5 ${x?"text-amber-400":""}`}),y.jsxs("span",{children:[x?"Added to":"Add to"," Hall of Fame"]})]})}),y.jsx("button",{onClick:q,className:"w-full p-2 bg-blue-600 text-white rounded-md font-semibold",children:"Add Item"})]}),y.jsxs("div",{className:"md:col-span-2 space-y-6 md:pl-2",children:[Object.keys(B.hallOfFame).length>0&&y.jsxs("div",{children:[y.jsxs("h3",{className:"font-bold text-xl mb-4 text-amber-500 flex items-center gap-2",children:[y.jsx(Or,{})," Hall of Fame"]}),y.jsx("div",{className:"space-y-4",children:l.hideSection?y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:Object.values(B.hallOfFame).flat().map(nt=>lt(nt,!0))}):at(B.hallOfFame,!0)})]}),l.hideSection?y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:Object.values(B.regular).flat().map(nt=>lt(nt,!1))}):at(B.regular)]}),R&&y.jsx(re.div,{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",onClick:()=>L(null),children:y.jsxs(re.div,{className:"bg-neutral-100 dark:bg-neutral-800 p-6 rounded-xl w-full max-w-md",onClick:nt=>nt.stopPropagation(),children:[y.jsxs("h3",{className:"font-bold text-lg mb-4",children:["Edit ",l.name]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",value:R.name,onChange:nt=>L(N=>({...N,name:nt.target.value})),className:"w-full p-2 bg-white dark:bg-neutral-700 rounded-lg"}),!l.hideSection&&y.jsx("input",{type:"text",value:R.section,onChange:nt=>L(N=>({...N,section:nt.target.value})),className:"w-full p-2 bg-white dark:bg-neutral-700 rounded-lg"}),l.hasTags&&y.jsx("input",{type:"text",value:R.tags,onChange:nt=>L(N=>({...N,tags:nt.target.value})),className:"w-full p-2 bg-white dark:bg-neutral-700 rounded-lg"})]}),y.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[y.jsx("button",{onClick:()=>L(null),className:"px-3 py-1 rounded-lg bg-neutral-200 dark:bg-neutral-600",children:"Cancel"}),y.jsx("button",{onClick:Z,className:"px-3 py-1 rounded-lg bg-blue-600 text-white",children:"Save"})]})]})})]})}function W3({achievements:e,onAdd:t,onUpdate:n,onDelete:s}){const[a,l]=K.useState(""),[c,d]=K.useState(""),[m,g]=K.useState("earned"),[v,T]=K.useState("Trophy"),[x,C]=K.useState(null),R=e.filter(B=>B.type==="earned").sort((B,lt)=>new Date(lt.date)-new Date(B.date)),L=e.filter(B=>B.type==="planned"),q=()=>{if(a.trim()){const B={title:a,type:m,icon:v};m==="earned"&&c&&(B.date=c),t(B),l(""),d("")}},Z=()=>{n("achievements",x.id,{title:x.title,date:x.date,type:x.type,icon:x.icon}),C(null)},J=B=>{const lt=mf[B.icon]||Or;return y.jsxs("div",{className:"flex justify-between items-center bg-amber-50 dark:bg-amber-900/20 border-l-4 border-amber-500 p-3 rounded-lg group",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(lt,{className:"w-5 h-5 text-amber-500"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-neutral-600 dark:text-neutral-300",children:B.title}),B.date&&y.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:B.date})]})]}),y.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>C(B),children:y.jsx(yi,{className:"w-4 h-4 text-neutral-400"})}),y.jsx("button",{onClick:()=>s(B.id),children:y.jsx(Br,{className:"w-4 h-4 text-neutral-400 hover:text-red-500"})})]})]},B.id)};return y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"md:col-span-1 space-y-3",children:[y.jsx("h3",{className:"font-bold text-lg text-neutral-800 dark:text-neutral-200",children:"Add New Achievement"}),y.jsx("input",{type:"text",value:a,onChange:B=>l(B.target.value),placeholder:"Title",className:"w-full px-3 py-2 bg-neutral-200 dark:bg-neutral-800 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(al,{value:m,onChange:g,options:[{value:"earned",label:"Earned"},{value:"planned",label:"Planned"}]}),y.jsx(Nx,{value:v,onChange:T})]}),m==="earned"&&y.jsx("input",{type:"date",value:c,onChange:B=>d(B.target.value),className:"w-full px-3 py-2 bg-neutral-200 dark:bg-neutral-800 rounded-md"}),y.jsx("button",{onClick:q,className:"w-full px-4 py-2 bg-amber-500 text-white rounded-md font-semibold",children:"Add Achievement"})]}),y.jsxs("div",{className:"md:col-span-2 space-y-6",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-lg mb-2 text-neutral-800 dark:text-neutral-200",children:"Earned Achievements"}),y.jsx("div",{className:"space-y-2",children:R.map(J)})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-lg mb-2 text-neutral-800 dark:text-neutral-200",children:"Planned Achievements"}),y.jsx("div",{className:"space-y-2",children:L.map(J)})]})]}),x&&y.jsx(re.div,{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",onClick:()=>C(null),children:y.jsxs(re.div,{className:"bg-neutral-100 dark:bg-neutral-800 p-6 rounded-xl w-full max-w-md",onClick:B=>B.stopPropagation(),children:[y.jsx("h3",{className:"font-bold text-lg mb-4",children:"Edit Achievement"}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",value:x.title,onChange:B=>C(lt=>({...lt,title:B.target.value})),className:"w-full p-2 bg-white dark:bg-neutral-700 rounded-lg"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(al,{value:x.type,onChange:B=>C(lt=>({...lt,type:B})),options:[{value:"earned",label:"Earned"},{value:"planned",label:"Planned"}]}),y.jsx(Nx,{value:x.icon,onChange:B=>C(lt=>({...lt,icon:B}))})]}),x.type==="earned"&&y.jsx("input",{type:"date",value:x.date,onChange:B=>C(lt=>({...lt,date:B.target.value})),className:"w-full p-2 bg-white dark:bg-neutral-700 rounded-lg"})]}),y.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[y.jsx("button",{onClick:()=>C(null),className:"px-3 py-1 rounded-lg bg-neutral-200 dark:bg-neutral-600",children:"Cancel"}),y.jsx("button",{onClick:Z,className:"px-3 py-1 rounded-lg bg-blue-600 text-white",children:"Save"})]})]})})]})}function al({value:e,onChange:t,options:n,label:s,icon:a}){const[l,c]=K.useState(!1),d=n.find(T=>T.value===e),m=K.useRef(null);K.useEffect(()=>{const T=x=>{m.current&&!m.current.contains(x.target)&&c(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const g="flex items-center justify-between gap-2 w-full px-3 py-2 rounded-md",v=s==="MBTI Personality"?"bg-slate-800/50 border border-slate-700 text-slate-300":"bg-white dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700";return y.jsxs("div",{className:"relative w-full",ref:m,children:[s&&y.jsxs("label",{className:"flex items-center gap-2 font-semibold text-slate-400 mb-2",children:[Lf.cloneElement(a,{className:"w-5 h-5 text-purple-400"}),y.jsx("span",{className:"text-sm tracking-widest",children:s})]}),y.jsxs("button",{onClick:()=>c(!l),className:`${g} ${v}`,children:[y.jsx("span",{className:"flex items-center gap-2",children:d?.label}),y.jsx(o3,{className:`w-4 h-4 transition-transform ${l?"rotate-180":""}`})]}),y.jsx(Qi,{children:l&&y.jsx(re.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full mt-1 w-full bg-white dark:bg-neutral-700 rounded-md shadow-lg z-10",children:n.map(T=>y.jsx("button",{onClick:()=>{t(T.value),c(!1)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-neutral-100 dark:hover:bg-neutral-600",children:T.label},T.value))})})]})}function Nx({value:e,onChange:t}){const[n,s]=K.useState(!1),a=K.useRef(null),l=mf[e];return K.useEffect(()=>{const c=d=>{a.current&&!a.current.contains(d.target)&&s(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]),y.jsxs("div",{className:"relative",ref:a,children:[y.jsx("button",{onClick:()=>s(!n),className:"flex-grow flex items-center justify-center p-2 bg-neutral-200 dark:bg-neutral-800 rounded-md",children:y.jsx(l,{className:"w-5 h-5 text-blue-500"})}),y.jsx(Qi,{children:n&&y.jsx(re.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full mt-1 w-48 bg-white dark:bg-neutral-700 rounded-md shadow-lg z-10 p-2 grid grid-cols-5 gap-2",children:Object.keys(mf).map(c=>{const d=mf[c];return y.jsx("button",{onClick:()=>{t(c),s(!1)},className:"p-2 rounded hover:bg-neutral-100 dark:hover:bg-neutral-600",children:y.jsx(d,{className:"w-5 h-5 text-blue-500"})},c)})})})]})}function Z3({weightHistory:e,onEditClick:t}){return y.jsxs("div",{className:"w-full bg-slate-800/50 p-4 rounded-lg border border-slate-700 backdrop-blur-sm relative group",children:[y.jsxs("label",{className:"flex items-center gap-2 font-semibold text-slate-400 mb-2",children:[y.jsx(US,{className:"w-5 h-5 text-purple-400"}),y.jsx("span",{className:"text-sm tracking-widest",children:"WEIGHT HISTORY"})]}),y.jsx(J3,{data:e}),y.jsx("button",{onClick:t,className:"absolute top-3 right-3 p-1 opacity-20 group-hover:opacity-100 transition-opacity",children:y.jsx(yi,{className:"w-4 h-4 text-slate-400"})})]})}function J3({data:e}){if(!e||e.length===0)return null;const t=300,n=150,s={top:10,right:10,bottom:20,left:25},a=60,l=90,c=[...new Set(e.map(v=>v.year))].sort(),d=e.map(v=>{const x=(c.indexOf(v.year)+(v.month-1)/12)/c.length*(t-s.left-s.right)+s.left,C=n-s.bottom-(v.weight-a)/(l-a)*(n-s.top-s.bottom);return`${x},${C}`}).join(" "),m=`M${s.left},${n-s.bottom} L${d} L${t-s.right},${n-s.bottom} Z`,g=[60,70,80,90];return y.jsxs("svg",{viewBox:`0 0 ${t} ${n}`,className:"w-full h-auto",children:[y.jsxs("defs",{children:[y.jsxs("linearGradient",{id:"lineGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[y.jsx("stop",{offset:"0%",stopColor:"#818cf8"}),y.jsx("stop",{offset:"100%",stopColor:"#22d3ee"})]}),y.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[y.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),y.jsxs("feMerge",{children:[y.jsx("feMergeNode",{in:"coloredBlur"}),y.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),y.jsxs("linearGradient",{id:"areaGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"0%",stopColor:"#22d3ee",stopOpacity:"0.3"}),y.jsx("stop",{offset:"100%",stopColor:"#818cf8",stopOpacity:"0"})]})]}),g.map(v=>{const T=n-s.bottom-(v-a)/(l-a)*(n-s.top-s.bottom);return y.jsxs("g",{children:[y.jsx("line",{x1:s.left-4,y1:T,x2:t-s.right,y2:T,stroke:"currentColor",className:"text-slate-700",strokeWidth:"0.5",strokeDasharray:"2"}),y.jsxs("text",{x:s.left-8,y:T+3,className:"text-[8px] fill-current text-slate-500",textAnchor:"end",children:[v,"kg"]})]},v)}),y.jsx("path",{d:m,fill:"url(#areaGradient)"}),y.jsx("polyline",{fill:"none",stroke:"url(#lineGradient)",strokeWidth:"2",points:d,filter:"url(#glow)"}),y.jsx("text",{x:s.left,y:n-5,className:"text-[8px] fill-current text-slate-500",children:c[0]}),y.jsx("text",{x:t-s.right,y:n-5,textAnchor:"end",className:"text-[8px] fill-current text-slate-500",children:c[c.length-1]})]})}function t5({isOpen:e,onClose:t,weightHistory:n,onSave:s}){const[a,l]=K.useState(n),[c,d]=K.useState(new Date().getFullYear());K.useEffect(()=>{l(n)},[n]);const m=K.useMemo(()=>a?[...new Set(a.map(T=>T.year))].sort((T,x)=>x-T):[],[a]),g=(T,x)=>{const C=[...a],R=C.findIndex(q=>q.year===c&&q.month===T),L=parseFloat(x);isNaN(L)||(R>-1?C[R].weight=L:C.push({year:c,month:T,weight:L}),l(C))},v=()=>{s(a),t()};return y.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t,children:y.jsxs(re.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"bg-slate-800 rounded-2xl shadow-xl w-full max-w-lg border border-slate-700",onClick:T=>T.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-200",children:"Edit Weight History"}),y.jsx(al,{value:c,onChange:T=>d(parseInt(T)),options:m.map(T=>({label:T,value:T}))}),y.jsx("div",{className:"grid grid-cols-4 gap-4 text-sm mt-4",children:Array.from({length:12}).map((T,x)=>{const C=x+1,R=a.find(L=>L.year===c&&L.month===C);return y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-xs text-center text-slate-400 mb-1",children:new Date(0,x).toLocaleString("default",{month:"short"})}),y.jsx("input",{type:"number",defaultValue:R?.weight||"",onBlur:L=>g(C,L.target.value),className:"p-1 text-center bg-slate-700 text-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-cyan-400"})]},C)})})]}),y.jsxs("div",{className:"px-6 py-4 bg-slate-900/50 flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-600 font-semibold text-slate-200",children:"Cancel"}),y.jsx("button",{onClick:v,className:"px-4 py-2 rounded-lg bg-cyan-500 text-white font-semibold",children:"Save Changes"})]})]})})}function e5({books:e,onAdd:t,onUpdate:n,onDelete:s,onEdit:a}){const[l,c]=K.useState({title:"",author:"",tags:"",status:"planned",pageCount:0,startedAt:"",completedAt:"",hallOfFame:!1}),d=()=>{l.title.trim()&&l.author.trim()&&(t({...l,tags:l.tags.split(",").map(C=>C.trim()).filter(Boolean),progress:0,rating:0}),c({title:"",author:"",tags:"",status:"planned",pageCount:0,startedAt:"",completedAt:"",hallOfFame:!1}))},m=e.filter(C=>C.status==="reading"),g=e.filter(C=>C.status==="finished"&&!C.hallOfFame),v=e.filter(C=>C.status==="planned"),T=e.filter(C=>C.hallOfFame),x=K.useMemo(()=>e.filter(C=>C.status==="finished").reduce((C,R)=>C+(R.pageCount||0),0),[e]);return y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-full",children:[y.jsxs("div",{className:"md:col-span-1 space-y-6 flex flex-col",children:[y.jsxs("div",{className:"space-y-6 overflow-y-auto no-scrollbar flex-grow pb-6",children:[y.jsx(Zh,{title:"Currently Reading",books:m,onUpdate:n,onDelete:s,onEdit:a}),y.jsx(Zh,{title:"Planned",books:v,onUpdate:n,onDelete:s,onEdit:a})]}),y.jsxs("div",{className:"space-y-3 pt-4 border-t border-neutral-300 dark:border-neutral-700 shrink-0",children:[y.jsx("h3",{className:"font-bold text-lg",children:"Add New Book"}),y.jsx("input",{type:"text",value:l.title,onChange:C=>c(R=>({...R,title:C.target.value})),placeholder:"Book Title",className:"w-full p-2 bg-neutral-200 dark:bg-neutral-800 rounded-md"}),y.jsx("input",{type:"text",value:l.author,onChange:C=>c(R=>({...R,author:C.target.value})),placeholder:"Author",className:"w-full p-2 bg-neutral-200 dark:bg-neutral-800 rounded-md"}),y.jsx("input",{type:"number",value:l.pageCount,onChange:C=>c(R=>({...R,pageCount:parseInt(C.target.value)})),placeholder:"Total Page Number",className:"w-full p-2 bg-neutral-200 dark:bg-neutral-800 rounded-md"}),y.jsx("input",{type:"text",value:l.tags,onChange:C=>c(R=>({...R,tags:C.target.value})),placeholder:"Tags (comma-separated)",className:"w-full p-2 bg-neutral-200 dark:bg-neutral-800 rounded-md"}),y.jsx(al,{value:l.status,onChange:C=>c(R=>({...R,status:C})),options:[{value:"planned",label:"Planned"},{value:"reading",label:"Reading"},{value:"finished",label:"Finished"}]}),l.status==="reading"&&y.jsx("input",{type:"date",value:l.startedAt,onChange:C=>c(R=>({...R,startedAt:C.target.value})),className:"w-full p-2 bg-neutral-200 dark:bg-neutral-800 rounded-md"}),l.status==="finished"&&y.jsx("input",{type:"date",value:l.completedAt,onChange:C=>c(R=>({...R,completedAt:C.target.value})),className:"w-full p-2 bg-neutral-200 dark:bg-neutral-800 rounded-md"}),y.jsx("div",{className:`${l.hallOfFame?"hall-of-fame-glow-button":"grey-glow-button"} rounded-md`,children:y.jsxs("button",{onClick:()=>c(C=>({...C,hallOfFame:!C.hallOfFame})),className:`w-full flex items-center justify-center gap-2 p-2 rounded-md transition-all hall-of-fame-content ${l.hallOfFame?"bg-slate-200 text-slate-800 dark:bg-neutral-700 dark:text-white":"bg-neutral-200 dark:bg-neutral-800"}`,children:[y.jsx(Or,{className:`w-5 h-5 ${l.hallOfFame?"text-amber-400":""}`}),y.jsxs("span",{children:[l.hallOfFame?"Added to":"Add to"," Hall of Fame"]})]})}),y.jsx("button",{onClick:d,className:"w-full p-2 bg-blue-600 text-white rounded-md font-semibold",children:"Add to Library"})]})]}),y.jsxs("div",{className:"md:col-span-2 overflow-y-auto no-scrollbar pb-6 pr-2 -mr-2 md:pl-2",children:[T.length>0&&y.jsx(Zh,{title:"Hall of Fame",books:T,onUpdate:n,onDelete:s,onEdit:a,isGridView:!0,isHOF:!0}),y.jsxs("div",{className:"flex justify-between items-center my-4",children:[y.jsx("h3",{className:"font-bold text-xl text-neutral-800 dark:text-neutral-200",children:"Finished Books"}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"font-bold text-xl text-blue-500",children:x.toLocaleString()}),y.jsx("p",{className:"text-sm text-neutral-500",children:"Total Pages Read"})]})]}),y.jsx(Zh,{books:g,onUpdate:n,onDelete:s,isGridView:!0,onEdit:a})]})]})}const Zh=({title:e,books:t,onUpdate:n,onDelete:s,onEdit:a,isGridView:l=!1,isHOF:c=!1})=>y.jsxs("div",{className:"mb-6",children:[e&&y.jsx("h3",{className:`font-bold text-xl mb-4 ${c?"text-amber-500":"text-neutral-800 dark:text-neutral-200"}`,children:e}),y.jsxs("div",{className:l?"grid grid-cols-1 lg:grid-cols-2 gap-4":"space-y-4",children:[t.map(d=>y.jsx(n5,{book:d,onUpdate:n,onDelete:s,onEdit:a},d.id)),t.length===0&&y.jsx("p",{className:"text-sm text-neutral-500",children:"No books in this section."})]})]});function n5({book:e,onUpdate:t,onDelete:n,onEdit:s}){const a=T=>`hsl(${T/100*120+200}, 70%, 50%)`,l=e.hallOfFame?"#f59e0b":a(e.progress||0),[c,d]=K.useState(!1),m=T=>{const x={progress:T};T===100?(x.status="finished",x.completedAt=new Date):x.status="reading",t(e.id,x)},g=K.useMemo(()=>{if(e.status==="finished"&&(e.startedAt||e.createdAt)&&e.completedAt){const T=(e.startedAt||e.createdAt).toDate?(e.startedAt||e.createdAt).toDate():new Date(e.startedAt||e.createdAt),x=e.completedAt.toDate?e.completedAt.toDate():new Date(e.completedAt),C=Math.abs(x-T);return Math.ceil(C/(1e3*60*60*24))}return null},[e]),v=y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`w-20 h-30 object-cover rounded-md shrink-0 flex items-center justify-center p-1 text-center ${e.hallOfFame?"bg-black/20":"bg-neutral-200 dark:bg-neutral-700"}`,children:y.jsx("span",{className:`text-xs ${e.hallOfFame?"text-amber-400":"text-neutral-600 dark:text-neutral-300"}`,style:{wordBreak:"break-word"},children:e.title})}),y.jsxs("div",{className:"flex-grow flex flex-col justify-between",children:[y.jsx("div",{children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("p",{className:`font-bold text-lg ${e.hallOfFame?"text-amber-400":""}`,children:e.title}),y.jsx("p",{className:`text-sm ${e.hallOfFame?"text-neutral-300":"text-neutral-500"}`,children:e.author}),y.jsxs("p",{className:`text-xs ${e.hallOfFame,"text-neutral-400"}`,children:[e.pageCount," pages"]}),y.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(e.tags||[]).map(T=>y.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${e.hallOfFame?"bg-yellow-200/20 text-yellow-200":"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200"}`,children:T},T))})]}),y.jsx(Qi,{children:c&&y.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center gap-1",children:[y.jsx("button",{onClick:()=>s(e),children:y.jsx(yi,{className:`w-4 h-4 ${e.hallOfFame?"text-neutral-300 hover:text-white":"text-neutral-400 hover:text-blue-500"}`})}),y.jsx("button",{onClick:()=>n(e.id),children:y.jsx(Br,{className:`w-4 h-4 ${e.hallOfFame?"text-neutral-300 hover:text-red-400":"text-neutral-400 hover:text-red-500"}`})})]})})]})}),y.jsxs("div",{children:[e.status==="reading"&&y.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[y.jsx("input",{type:"range",min:"0",max:"100",value:e.progress,onChange:T=>m(parseInt(T.target.value)),className:"w-full h-2 bg-neutral-200 dark:bg-neutral-700 rounded-lg appearance-none cursor-pointer",style:{accentColor:l}}),y.jsxs("span",{className:"text-sm font-semibold",children:[e.progress,"%"]})]}),e.status==="finished"&&y.jsxs("div",{className:"mt-2 flex flex-col items-start gap-2",children:[g&&y.jsxs("p",{className:`text-xs font-semibold ${e.hallOfFame?"text-green-400":"text-green-500"}`,children:["Read in ",g," days"]}),!e.hallOfFame&&y.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(T=>y.jsx("button",{onClick:()=>t(e.id,{rating:T}),children:y.jsx(_0,{className:`w-5 h-5 ${e.rating>=T?"text-yellow-400 fill-current":"text-neutral-300 dark:text-neutral-600"}`})},T))})]}),e.status==="planned"&&y.jsx("button",{onClick:()=>t(e.id,{status:"reading",startedAt:new Date}),className:"mt-2 text-sm font-semibold text-blue-500",children:"Start Reading"})]})]})]});return e.hallOfFame?y.jsx("div",{className:"hall-of-fame-glow rounded-lg",children:y.jsx("div",{onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),className:"hall-of-fame-content p-4 rounded-lg flex gap-4 border border-yellow-600/50 hof-bg-themed",children:v})}):y.jsx("div",{onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),className:"p-4 rounded-lg flex gap-4 bg-white dark:bg-neutral-800/50",style:{borderColor:l},children:v})}function Dx({items:e,onAdd:t,onUpdate:n,onDelete:s,config:a,onEdit:l}){const[c,d]=K.useState({title:"",primaryField:"",tags:"",length:0,status:"planned",hallOfFame:!1,watchedDate:""}),m=()=>{c.title.trim()&&c.primaryField.trim()&&(t({title:c.title,[a.primaryField.toLowerCase()]:c.primaryField,tags:c.tags.split(",").map(R=>R.trim()).filter(Boolean),status:c.status,length:c.length,rating:0,hallOfFame:c.hallOfFame,watchedDate:c.watchedDate}),d({title:"",primaryField:"",tags:"",length:0,status:"planned",hallOfFame:!1,watchedDate:""}))},g=e.filter(R=>(R.status==="watched"||R.status==="listened")&&!R.hallOfFame),v=e.filter(R=>R.status==="planned"),T=e.filter(R=>R.hallOfFame),x=K.useMemo(()=>{if(!a.hasLength)return 0;const R=e.filter(L=>L.status==="watched").reduce((L,q)=>L+(q.length||0),0);return Math.round(R/60)},[e,a.hasLength]),C=K.useMemo(()=>a.type!=="Album/Song"?0:e.filter(R=>R.status==="listened").length,[e,a.type]);return y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-full",children:[y.jsxs("div",{className:`md:col-span-1 space-y-6 flex flex-col ${a.hidePlanned?"justify-end":""}`,children:[!a.hidePlanned&&y.jsx("div",{className:"space-y-6 overflow-y-auto no-scrollbar flex-grow pb-6",children:y.jsx(qp,{title:"Planned",items:v,onUpdate:n,onDelete:s,config:a,onEdit:l})}),y.jsxs("div",{className:"space-y-3 pt-4 border-t border-neutral-300 dark:border-neutral-700 shrink-0",children:[y.jsxs("h3",{className:"font-bold text-lg",children:["Add New ",a.type]}),y.jsx("input",{type:"text",value:c.title,onChange:R=>d(L=>({...L,title:R.target.value})),placeholder:a.type+" Title",className:"w-full p-2 bg-neutral-200 dark:bg-neutral-800 rounded-md"}),y.jsx("input",{type:"text",value:c.primaryField,onChange:R=>d(L=>({...L,primaryField:R.target.value})),placeholder:a.primaryField,className:"w-full p-2 bg-neutral-200 dark:bg-neutral-800 rounded-md"}),a.hasLength&&y.jsx("input",{type:"number",value:c.length,onChange:R=>d(L=>({...L,length:parseInt(R.target.value)})),placeholder:"Length (minutes)",className:"w-full p-2 bg-neutral-200 dark:bg-neutral-800 rounded-md"}),y.jsx("input",{type:"text",value:c.tags,onChange:R=>d(L=>({...L,tags:R.target.value})),placeholder:"Tags (comma-separated)",className:"w-full p-2 bg-neutral-200 dark:bg-neutral-800 rounded-md"}),!a.hidePlanned&&y.jsxs(y.Fragment,{children:[y.jsx(al,{value:c.status,onChange:R=>d(L=>({...L,status:R})),options:[{value:"planned",label:"Planned"},{value:"watched",label:"Watched"}]}),c.status==="watched"&&y.jsx("input",{type:"date",value:c.watchedDate,onChange:R=>d(L=>({...L,watchedDate:R.target.value})),className:"w-full p-2 bg-neutral-200 dark:bg-neutral-800 rounded-md"})]}),y.jsx("div",{className:`${c.hallOfFame?"hall-of-fame-glow-button":"grey-glow-button"} rounded-md`,children:y.jsxs("button",{onClick:()=>d(R=>({...R,hallOfFame:!R.hallOfFame})),className:`w-full flex items-center justify-center gap-2 p-2 rounded-md transition-all hall-of-fame-content ${c.hallOfFame?"bg-slate-200 text-slate-800 dark:bg-neutral-700 dark:text-white":"bg-neutral-200 dark:bg-neutral-800"}`,children:[y.jsx(Or,{className:`w-5 h-5 ${c.hallOfFame?"text-amber-400":""}`}),y.jsxs("span",{children:[c.hallOfFame?"Added to":"Add to"," Hall of Fame"]})]})}),y.jsx("button",{onClick:m,className:"w-full p-2 bg-blue-600 text-white rounded-md font-semibold",children:"Add to List"})]})]}),y.jsxs("div",{className:"md:col-span-2 overflow-y-auto no-scrollbar pb-6 md:pl-2",children:[T.length>0&&y.jsx(qp,{title:"Hall of Fame",items:T,onUpdate:n,onDelete:s,config:a,isGridView:!0,isHOF:!0,onEdit:l}),y.jsxs("div",{className:"flex justify-between items-center my-4",children:[y.jsx("h3",{className:"font-bold text-xl text-neutral-800 dark:text-neutral-200",children:a.type==="Movie"?"Watched":"Listened"}),a.hasLength?y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"font-bold text-xl text-blue-500",children:x}),y.jsx("p",{className:"text-sm text-neutral-500",children:"Total Hours Watched"})]}):a.type==="Album/Song"&&y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"font-bold text-xl text-blue-500",children:C}),y.jsx("p",{className:"text-sm text-neutral-500",children:"Total Listened"})]})]}),y.jsx(qp,{items:g,onUpdate:n,onDelete:s,config:a,isGridView:!0,onEdit:l})]})]})}const qp=({title:e,items:t,onUpdate:n,onDelete:s,config:a,onEdit:l,isGridView:c=!1,isHOF:d=!1})=>y.jsxs("div",{className:"mb-6",children:[e&&y.jsx("h3",{className:`font-bold text-xl mb-4 ${d?"text-amber-500":"text-neutral-800 dark:text-neutral-200"}`,children:e}),y.jsxs("div",{className:c?"grid grid-cols-1 md:grid-cols-2 gap-4":"space-y-4",children:[t.map(m=>y.jsx(i5,{item:m,onUpdate:n,onDelete:s,config:a,onEdit:l},m.id)),t.length===0&&y.jsx("p",{className:"text-sm text-neutral-500",children:"No items in this section."})]})]});function i5({item:e,onUpdate:t,onDelete:n,config:s,onEdit:a}){const l=e[s.primaryField.toLowerCase()],[c,d]=K.useState(!1),m=y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`text-neutral-300 shrink-0 ${e.hallOfFame?"dark:text-yellow-100/50 text-yellow-900/50":"dark:text-neutral-600"}`,children:Lf.cloneElement(s.mediaIcon,{className:"w-16 h-16"})}),y.jsxs("div",{className:"flex-grow",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("p",{className:`font-bold text-lg ${e.hallOfFame?"text-amber-400":""}`,children:e.title}),y.jsx("p",{className:`text-sm ${e.hallOfFame?"text-neutral-300":"text-neutral-500"}`,children:l}),e.length&&y.jsxs("p",{className:`text-xs ${e.hallOfFame,"text-neutral-400"}`,children:[e.length," min"]}),e.watchedDate&&y.jsxs("p",{className:`text-xs ${e.hallOfFame,"text-neutral-400"}`,children:["Watched on ",e.watchedDate]}),y.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(e.tags||[]).map(g=>y.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${e.hallOfFame?"bg-yellow-200/20 text-yellow-200":"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200"}`,children:g},g))})]}),y.jsx(Qi,{children:c&&y.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center gap-1",children:[y.jsx("button",{onClick:()=>a(e),children:y.jsx(yi,{className:`w-4 h-4 ${e.hallOfFame?"text-neutral-300 hover:text-white":"text-neutral-400 hover:text-blue-500"}`})}),y.jsx("button",{onClick:()=>n(e.id),children:y.jsx(Br,{className:`w-4 h-4 ${e.hallOfFame?"text-neutral-300 hover:text-red-400":"text-neutral-400 hover:text-red-500"}`})})]})})]}),y.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[e.hallOfFame?y.jsx("div",{}):y.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(g=>y.jsx("button",{onClick:()=>t(e.id,{rating:g,status:s.type==="Movie"?"watched":"listened"}),children:y.jsx(_0,{className:`w-5 h-5 ${e.rating>=g?"text-yellow-400 fill-current":"text-neutral-300 dark:text-neutral-600"}`})},g))}),e.status==="planned"&&y.jsx("button",{onClick:()=>t(e.id,{status:"watched",watchedDate:new Date().toISOString().split("T")[0]}),className:"text-sm font-semibold text-blue-500",children:"Watched"})]})]})]});return e.hallOfFame?y.jsx("div",{className:"hall-of-fame-glow rounded-lg",children:y.jsx("div",{onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),className:"hall-of-fame-content p-4 rounded-lg flex gap-4 border border-yellow-600/50 hof-bg-themed",children:m})}):y.jsx("div",{onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),className:"p-4 rounded-lg flex gap-4 bg-white dark:bg-neutral-800/50",children:m})}function s5({isOpen:e,onClose:t,item:n,type:s,onSave:a}){const[l,c]=K.useState({});K.useEffect(()=>{n&&c({...n,tags:Array.isArray(n.tags)?n.tags.join(", "):""})},[n]);const d=v=>{const{name:T,value:x,type:C,checked:R}=v.target;c(L=>({...L,[T]:C==="checkbox"?R:x}))},m=()=>{const v={...l,tags:l.tags.split(",").map(T=>T.trim()).filter(Boolean),pageCount:l.pageCount?parseInt(l.pageCount):0,length:l.length?parseInt(l.length):0};a(n.id,v),t()};if(!e)return null;const g={book:{title:"Book",primaryField:"author",hasPageCount:!0},movie:{title:"Movie",primaryField:"director",hasLength:!0,hasWatchedDate:!0},music:{title:"Music",primaryField:"artist"}}[s];return y.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t,children:y.jsxs(re.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-xl w-full max-w-md",onClick:v=>v.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Edit ",g.title]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("input",{type:"text",name:"title",value:l.title||"",onChange:d,placeholder:"Title",className:"w-full p-2 bg-neutral-100 dark:bg-neutral-700 rounded-md"}),y.jsx("input",{type:"text",name:g.primaryField,value:l[g.primaryField]||"",onChange:d,placeholder:g.primaryField.charAt(0).toUpperCase()+g.primaryField.slice(1),className:"w-full p-2 bg-neutral-100 dark:bg-neutral-700 rounded-md"}),g.hasPageCount&&y.jsx("input",{type:"number",name:"pageCount",value:l.pageCount||"",onChange:d,placeholder:"Page Count",className:"w-full p-2 bg-neutral-100 dark:bg-neutral-700 rounded-md"}),g.hasLength&&y.jsx("input",{type:"number",name:"length",value:l.length||"",onChange:d,placeholder:"Length (minutes)",className:"w-full p-2 bg-neutral-100 dark:bg-neutral-700 rounded-md"}),g.hasWatchedDate&&l.status==="watched"&&y.jsx("input",{type:"date",name:"watchedDate",value:l.watchedDate||"",onChange:d,className:"w-full p-2 bg-neutral-100 dark:bg-neutral-700 rounded-md"}),y.jsx("input",{type:"text",name:"tags",value:l.tags||"",onChange:d,placeholder:"Tags (comma-separated)",className:"w-full p-2 bg-neutral-100 dark:bg-neutral-700 rounded-md"}),y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[y.jsx("input",{type:"checkbox",name:"hallOfFame",checked:l.hallOfFame||!1,onChange:d}),y.jsx(Or,{className:"w-5 h-5 text-amber-500"}),y.jsx("span",{children:"Hall of Fame"})]})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-neutral-50 dark:bg-neutral-800/50 flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-700 hover:bg-neutral-300 dark:hover:bg-neutral-600 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:m,className:"px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold",children:"Save"})]})]})})}bC.createRoot(document.getElementById("root")).render(y.jsx(K.StrictMode,{children:y.jsx(O3,{})}));
