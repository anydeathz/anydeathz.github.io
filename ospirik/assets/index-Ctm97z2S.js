function VX(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Sa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yT={exports:{}},Lp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uj;function BX(){if(uj)return Lp;uj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Lp.Fragment=e,Lp.jsx=n,Lp.jsxs=n,Lp}var fj;function zX(){return fj||(fj=1,yT.exports=BX()),yT.exports}var y=zX(),vT={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dj;function UX(){if(dj)return Ye;dj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function A(q,X,me){this.props=q,this.context=X,this.refs=E,this.updater=me||x}A.prototype.isReactComponent={},A.prototype.setState=function(q,X){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,X,"setState")},A.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function C(){}C.prototype=A.prototype;function D(q,X,me){this.props=q,this.context=X,this.refs=E,this.updater=me||x}var L=D.prototype=new C;L.constructor=D,S(L,A.prototype),L.isPureReactComponent=!0;var j=Array.isArray;function B(){}var M={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function P(q,X,me){var we=me.ref;return{$$typeof:t,type:q,key:X,ref:we!==void 0?we:null,props:me}}function F(q,X){return P(q.type,X,q.props)}function V(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function $(q){var X={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(me){return X[me]})}var U=/\/+/g;function pe(q,X){return typeof q=="object"&&q!==null&&q.key!=null?$(""+q.key):X.toString(36)}function ve(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(B,B):(q.status="pending",q.then(function(X){q.status==="pending"&&(q.status="fulfilled",q.value=X)},function(X){q.status==="pending"&&(q.status="rejected",q.reason=X)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function G(q,X,me,we,Se){var Ie=typeof q;(Ie==="undefined"||Ie==="boolean")&&(q=null);var Be=!1;if(q===null)Be=!0;else switch(Ie){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(q.$$typeof){case t:case e:Be=!0;break;case d:return Be=q._init,G(Be(q._payload),X,me,we,Se)}}if(Be)return Se=Se(q),Be=we===""?"."+pe(q,0):we,j(Se)?(me="",Be!=null&&(me=Be.replace(U,"$&/")+"/"),G(Se,X,me,"",function(ze){return ze})):Se!=null&&(V(Se)&&(Se=F(Se,me+(Se.key==null||q&&q.key===Se.key?"":(""+Se.key).replace(U,"$&/")+"/")+Be)),X.push(Se)),1;Be=0;var it=we===""?".":we+":";if(j(q))for(var fe=0;fe<q.length;fe++)we=q[fe],Ie=it+pe(we,fe),Be+=G(we,X,me,Ie,Se);else if(fe=v(q),typeof fe=="function")for(q=fe.call(q),fe=0;!(we=q.next()).done;)we=we.value,Ie=it+pe(we,fe++),Be+=G(we,X,me,Ie,Se);else if(Ie==="object"){if(typeof q.then=="function")return G(ve(q),X,me,we,Se);throw X=String(q),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Be}function K(q,X,me){if(q==null)return q;var we=[],Se=0;return G(q,we,"","",function(Ie){return X.call(me,Ie,Se++)}),we}function ae(q){if(q._status===-1){var X=q._result;X=X(),X.then(function(me){(q._status===0||q._status===-1)&&(q._status=1,q._result=me)},function(me){(q._status===0||q._status===-1)&&(q._status=2,q._result=me)}),q._status===-1&&(q._status=0,q._result=X)}if(q._status===1)return q._result.default;throw q._result}var ge=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},xe={map:K,forEach:function(q,X,me){K(q,function(){X.apply(this,arguments)},me)},count:function(q){var X=0;return K(q,function(){X++}),X},toArray:function(q){return K(q,function(X){return X})||[]},only:function(q){if(!V(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Ye.Activity=p,Ye.Children=xe,Ye.Component=A,Ye.Fragment=n,Ye.Profiler=i,Ye.PureComponent=D,Ye.StrictMode=r,Ye.Suspense=u,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(q){return M.H.useMemoCache(q)}},Ye.cache=function(q){return function(){return q.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(q,X,me){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var we=S({},q.props),Se=q.key;if(X!=null)for(Ie in X.key!==void 0&&(Se=""+X.key),X)!N.call(X,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&X.ref===void 0||(we[Ie]=X[Ie]);var Ie=arguments.length-2;if(Ie===1)we.children=me;else if(1<Ie){for(var Be=Array(Ie),it=0;it<Ie;it++)Be[it]=arguments[it+2];we.children=Be}return P(q.type,Se,we)},Ye.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},Ye.createElement=function(q,X,me){var we,Se={},Ie=null;if(X!=null)for(we in X.key!==void 0&&(Ie=""+X.key),X)N.call(X,we)&&we!=="key"&&we!=="__self"&&we!=="__source"&&(Se[we]=X[we]);var Be=arguments.length-2;if(Be===1)Se.children=me;else if(1<Be){for(var it=Array(Be),fe=0;fe<Be;fe++)it[fe]=arguments[fe+2];Se.children=it}if(q&&q.defaultProps)for(we in Be=q.defaultProps,Be)Se[we]===void 0&&(Se[we]=Be[we]);return P(q,Ie,Se)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(q){return{$$typeof:l,render:q}},Ye.isValidElement=V,Ye.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:ae}},Ye.memo=function(q,X){return{$$typeof:f,type:q,compare:X===void 0?null:X}},Ye.startTransition=function(q){var X=M.T,me={};M.T=me;try{var we=q(),Se=M.S;Se!==null&&Se(me,we),typeof we=="object"&&we!==null&&typeof we.then=="function"&&we.then(B,ge)}catch(Ie){ge(Ie)}finally{X!==null&&me.types!==null&&(X.types=me.types),M.T=X}},Ye.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ye.use=function(q){return M.H.use(q)},Ye.useActionState=function(q,X,me){return M.H.useActionState(q,X,me)},Ye.useCallback=function(q,X){return M.H.useCallback(q,X)},Ye.useContext=function(q){return M.H.useContext(q)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(q,X){return M.H.useDeferredValue(q,X)},Ye.useEffect=function(q,X){return M.H.useEffect(q,X)},Ye.useEffectEvent=function(q){return M.H.useEffectEvent(q)},Ye.useId=function(){return M.H.useId()},Ye.useImperativeHandle=function(q,X,me){return M.H.useImperativeHandle(q,X,me)},Ye.useInsertionEffect=function(q,X){return M.H.useInsertionEffect(q,X)},Ye.useLayoutEffect=function(q,X){return M.H.useLayoutEffect(q,X)},Ye.useMemo=function(q,X){return M.H.useMemo(q,X)},Ye.useOptimistic=function(q,X){return M.H.useOptimistic(q,X)},Ye.useReducer=function(q,X,me){return M.H.useReducer(q,X,me)},Ye.useRef=function(q){return M.H.useRef(q)},Ye.useState=function(q){return M.H.useState(q)},Ye.useSyncExternalStore=function(q,X,me){return M.H.useSyncExternalStore(q,X,me)},Ye.useTransition=function(){return M.H.useTransition()},Ye.version="19.2.0",Ye}var hj;function Sh(){return hj||(hj=1,vT.exports=UX()),vT.exports}var _=Sh();const Pi=Sa(_),FX=VX({__proto__:null,default:Pi},[_]);var bT={exports:{}},Vp={},xT={exports:{}},wT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pj;function $X(){return pj||(pj=1,(function(t){function e(G,K){var ae=G.length;G.push(K);e:for(;0<ae;){var ge=ae-1>>>1,xe=G[ge];if(0<i(xe,K))G[ge]=K,G[ae]=xe,ae=ge;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var K=G[0],ae=G.pop();if(ae!==K){G[0]=ae;e:for(var ge=0,xe=G.length,q=xe>>>1;ge<q;){var X=2*(ge+1)-1,me=G[X],we=X+1,Se=G[we];if(0>i(me,ae))we<xe&&0>i(Se,me)?(G[ge]=Se,G[we]=ae,ge=we):(G[ge]=me,G[X]=ae,ge=X);else if(we<xe&&0>i(Se,ae))G[ge]=Se,G[we]=ae,ge=we;else break e}}return K}function i(G,K){var ae=G.sortIndex-K.sortIndex;return ae!==0?ae:G.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],f=[],d=1,p=null,g=3,v=!1,x=!1,S=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function L(G){for(var K=n(f);K!==null;){if(K.callback===null)r(f);else if(K.startTime<=G)r(f),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(f)}}function j(G){if(S=!1,L(G),!x)if(n(u)!==null)x=!0,B||(B=!0,$());else{var K=n(f);K!==null&&ve(j,K.startTime-G)}}var B=!1,M=-1,N=5,P=-1;function F(){return E?!0:!(t.unstable_now()-P<N)}function V(){if(E=!1,B){var G=t.unstable_now();P=G;var K=!0;try{e:{x=!1,S&&(S=!1,C(M),M=-1),v=!0;var ae=g;try{t:{for(L(G),p=n(u);p!==null&&!(p.expirationTime>G&&F());){var ge=p.callback;if(typeof ge=="function"){p.callback=null,g=p.priorityLevel;var xe=ge(p.expirationTime<=G);if(G=t.unstable_now(),typeof xe=="function"){p.callback=xe,L(G),K=!0;break t}p===n(u)&&r(u),L(G)}else r(u);p=n(u)}if(p!==null)K=!0;else{var q=n(f);q!==null&&ve(j,q.startTime-G),K=!1}}break e}finally{p=null,g=ae,v=!1}K=void 0}}finally{K?$():B=!1}}}var $;if(typeof D=="function")$=function(){D(V)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,pe=U.port2;U.port1.onmessage=V,$=function(){pe.postMessage(null)}}else $=function(){A(V,0)};function ve(G,K){M=A(function(){G(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(G){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var ae=g;g=K;try{return G()}finally{g=ae}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(G,K){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=g;g=G;try{return K()}finally{g=ae}},t.unstable_scheduleCallback=function(G,K,ae){var ge=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ge+ae:ge):ae=ge,G){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ae+xe,G={id:d++,callback:K,priorityLevel:G,startTime:ae,expirationTime:xe,sortIndex:-1},ae>ge?(G.sortIndex=ae,e(f,G),n(u)===null&&G===n(f)&&(S?(C(M),M=-1):S=!0,ve(j,ae-ge))):(G.sortIndex=xe,e(u,G),x||v||(x=!0,B||(B=!0,$()))),G},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(G){var K=g;return function(){var ae=g;g=K;try{return G.apply(this,arguments)}finally{g=ae}}}})(wT)),wT}var mj;function HX(){return mj||(mj=1,xT.exports=$X()),xT.exports}var ST={exports:{}},Ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gj;function qX(){if(gj)return Ur;gj=1;var t=Sh();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,f,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:d}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ur.createPortal=function(u,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(u,f,null,d)},Ur.flushSync=function(u){var f=a.T,d=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=f,r.p=d,r.d.f()}},Ur.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Ur.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Ur.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var d=f.as,p=l(d,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):d==="script"&&r.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ur.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=l(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Ur.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,p=l(d,f.crossOrigin);r.d.L(u,d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ur.preloadModule=function(u,f){if(typeof u=="string")if(f){var d=l(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Ur.requestFormReset=function(u){r.d.r(u)},Ur.unstable_batchedUpdates=function(u,f){return u(f)},Ur.useFormState=function(u,f,d){return a.H.useFormState(u,f,d)},Ur.useFormStatus=function(){return a.H.useHostTransitionStatus()},Ur.version="19.2.0",Ur}var yj;function G6(){if(yj)return ST.exports;yj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ST.exports=qX(),ST.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vj;function KX(){if(vj)return Vp;vj=1;var t=HX(),e=Sh(),n=G6();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(r(188))}function f(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(r(188));return c!==o?null:o}for(var h=o,m=c;;){var w=h.return;if(w===null)break;var T=w.alternate;if(T===null){if(m=w.return,m!==null){h=m;continue}break}if(w.child===T.child){for(T=w.child;T;){if(T===h)return u(w),o;if(T===m)return u(w),c;T=T.sibling}throw Error(r(188))}if(h.return!==m.return)h=w,m=T;else{for(var O=!1,R=w.child;R;){if(R===h){O=!0,h=w,m=T;break}if(R===m){O=!0,m=w,h=T;break}R=R.sibling}if(!O){for(R=T.child;R;){if(R===h){O=!0,h=T,m=w;break}if(R===m){O=!0,m=T,h=w;break}R=R.sibling}if(!O)throw Error(r(189))}}if(h.alternate!==m)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:c}function d(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=d(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function $(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}var U=Symbol.for("react.client.reference");function pe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===U?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case j:return"Suspense";case B:return"SuspenseList";case P:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case x:return"Portal";case D:return o.displayName||"Context";case C:return(o._context.displayName||"Context")+".Consumer";case L:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case M:return c=o.displayName||null,c!==null?c:pe(o.type)||"Memo";case N:c=o._payload,o=o._init;try{return pe(o(c))}catch{}}return null}var ve=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ge=[],xe=-1;function q(o){return{current:o}}function X(o){0>xe||(o.current=ge[xe],ge[xe]=null,xe--)}function me(o,c){xe++,ge[xe]=o.current,o.current=c}var we=q(null),Se=q(null),Ie=q(null),Be=q(null);function it(o,c){switch(me(Ie,c),me(Se,o),me(we,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?IP(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=IP(c),o=PP(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}X(we),me(we,o)}function fe(){X(we),X(Se),X(Ie)}function ze(o){o.memoizedState!==null&&me(Be,o);var c=we.current,h=PP(c,o.type);c!==h&&(me(Se,o),me(we,h))}function Ke(o){Se.current===o&&(X(we),X(Se)),Be.current===o&&(X(Be),Ip._currentValue=ae)}var de,kt;function Oe(o){if(de===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);de=c&&c[1]||"",kt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+o+kt}var bt=!1;function st(o,c){if(!o||bt)return"";bt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(re){var ee=re}Reflect.construct(o,[],ce)}else{try{ce.call()}catch(re){ee=re}o.call(ce.prototype)}}else{try{throw Error()}catch(re){ee=re}(ce=o())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(re){if(re&&ee&&typeof re.stack=="string")return[re.stack,ee.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=m.DetermineComponentFrameRoot(),O=T[0],R=T[1];if(O&&R){var H=O.split(`
`),Z=R.split(`
`);for(w=m=0;m<H.length&&!H[m].includes("DetermineComponentFrameRoot");)m++;for(;w<Z.length&&!Z[w].includes("DetermineComponentFrameRoot");)w++;if(m===H.length||w===Z.length)for(m=H.length-1,w=Z.length-1;1<=m&&0<=w&&H[m]!==Z[w];)w--;for(;1<=m&&0<=w;m--,w--)if(H[m]!==Z[w]){if(m!==1||w!==1)do if(m--,w--,0>w||H[m]!==Z[w]){var se=`
`+H[m].replace(" at new "," at ");return o.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",o.displayName)),se}while(1<=m&&0<=w);break}}}finally{bt=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?Oe(h):""}function Kt(o,c){switch(o.tag){case 26:case 27:case 5:return Oe(o.type);case 16:return Oe("Lazy");case 13:return o.child!==c&&c!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return st(o.type,!1);case 11:return st(o.type.render,!1);case 1:return st(o.type,!0);case 31:return Oe("Activity");default:return""}}function pi(o){try{var c="",h=null;do c+=Kt(o,h),h=o,o=o.return;while(o);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Dt=Object.prototype.hasOwnProperty,pn=t.unstable_scheduleCallback,us=t.unstable_cancelCallback,rr=t.unstable_shouldYield,Cn=t.unstable_requestPaint,Tt=t.unstable_now,Xs=t.unstable_getCurrentPriorityLevel,Qs=t.unstable_ImmediatePriority,io=t.unstable_UserBlockingPriority,Vi=t.unstable_NormalPriority,Js=t.unstable_LowPriority,Ea=t.unstable_IdlePriority,Aa=t.log,_a=t.unstable_setDisableYieldValue,Yn=null,vn=null;function Br(o){if(typeof Aa=="function"&&_a(o),vn&&typeof vn.setStrictMode=="function")try{vn.setStrictMode(Yn,o)}catch{}}var Wt=Math.clz32?Math.clz32:ul,so=Math.log,fs=Math.LN2;function ul(o){return o>>>=0,o===0?32:31-(so(o)/fs|0)|0}var Qr=256,Zs=262144,Jt=4194304;function It(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ut(o,c,h){var m=o.pendingLanes;if(m===0)return 0;var w=0,T=o.suspendedLanes,O=o.pingedLanes;o=o.warmLanes;var R=m&134217727;return R!==0?(m=R&~T,m!==0?w=It(m):(O&=R,O!==0?w=It(O):h||(h=R&~o,h!==0&&(w=It(h))))):(R=m&~T,R!==0?w=It(R):O!==0?w=It(O):h||(h=m&~o,h!==0&&(w=It(h)))),w===0?0:c!==0&&c!==w&&(c&T)===0&&(T=w&-w,h=c&-c,T>=h||T===32&&(h&4194048)!==0)?c:w}function ir(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Et(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xr(){var o=Jt;return Jt<<=1,(Jt&62914560)===0&&(Jt=4194304),o}function mi(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function gi(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function fl(o,c,h,m,w,T){var O=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var R=o.entanglements,H=o.expirationTimes,Z=o.hiddenUpdates;for(h=O&~h;0<h;){var se=31-Wt(h),ce=1<<se;R[se]=0,H[se]=-1;var ee=Z[se];if(ee!==null)for(Z[se]=null,se=0;se<ee.length;se++){var re=ee[se];re!==null&&(re.lane&=-536870913)}h&=~ce}m!==0&&ds(o,m,0),T!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=T&~(O&~c))}function ds(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var m=31-Wt(c);o.entangledLanes|=c,o.entanglements[m]=o.entanglements[m]|1073741824|h&261930}function hs(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var m=31-Wt(h),w=1<<m;w&c|o[m]&c&&(o[m]|=c),h&=~w}}function ps(o,c){var h=c&-c;return h=(h&42)!==0?1:Bi(h),(h&(o.suspendedLanes|c))!==0?0:h}function Bi(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Jr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ka(){var o=K.p;return o!==0?o:(o=window.event,o===void 0?32:rj(o.type))}function Zr(o,c){var h=K.p;try{return K.p=o,c()}finally{K.p=h}}var wr=Math.random().toString(36).slice(2),Zt="__reactFiber$"+wr,mn="__reactProps$"+wr,yi="__reactContainer$"+wr,We="__reactEvents$"+wr,Pt="__reactListeners$"+wr,At="__reactHandles$"+wr,sr="__reactResources$"+wr,en="__reactMarker$"+wr;function ms(o){delete o[Zt],delete o[mn],delete o[We],delete o[Pt],delete o[At]}function vi(o){var c=o[Zt];if(c)return c;for(var h=o.parentNode;h;){if(c=h[yi]||h[Zt]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=UP(o);o!==null;){if(h=o[Zt])return h;o=UP(o)}return c}o=h,h=o.parentNode}return null}function ar(o){if(o=o[Zt]||o[yi]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function ei(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function gs(o){var c=o[sr];return c||(c=o[sr]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function bn(o){o[en]=!0}var Jc=new Set,Zc={};function ti(o,c){zi(o,c),zi(o+"Capture",c)}function zi(o,c){for(Zc[o]=c,o=0;o<c.length;o++)Jc.add(c[o])}var eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tu={},te={};function Ne(o){return Dt.call(te,o)?!0:Dt.call(tu,o)?!1:eu.test(o)?te[o]=!0:(tu[o]=!0,!1)}function jt(o,c,h){if(Ne(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function Xn(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function Gt(o,c,h,m){if(m===null)o.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+m)}}function dt(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ys(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ao(o,c,h){var m=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,T=m.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return w.call(this)},set:function(O){h=""+O,T.call(this,O)}}),Object.defineProperty(o,c,{enumerable:m.enumerable}),{getValue:function(){return h},setValue:function(O){h=""+O},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function pt(o){if(!o._valueTracker){var c=ys(o)?"checked":"value";o._valueTracker=ao(o,c,""+o[c])}}function ni(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),m="";return o&&(m=ys(o)?o.checked?"true":"false":o.value),o=m,o!==h?(c.setValue(o),!0):!1}function zr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var nu=/[\n"\\]/g;function bi(o){return o.replace(nu,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Rf(o,c,h,m,w,T,O,R){o.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.type=O:o.removeAttribute("type"),c!=null?O==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+dt(c)):o.value!==""+dt(c)&&(o.value=""+dt(c)):O!=="submit"&&O!=="reset"||o.removeAttribute("value"),c!=null?Kh(o,O,dt(c)):h!=null?Kh(o,O,dt(h)):m!=null&&o.removeAttribute("value"),w==null&&T!=null&&(o.defaultChecked=!!T),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.name=""+dt(R):o.removeAttribute("name")}function py(o,c,h,m,w,T,O,R){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.type=T),c!=null||h!=null){if(!(T!=="submit"&&T!=="reset"||c!=null)){pt(o);return}h=h!=null?""+dt(h):"",c=c!=null?""+dt(c):h,R||c===o.value||(o.value=c),o.defaultValue=c}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=R?o.checked:!!m,o.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.name=O),pt(o)}function Kh(o,c,h){c==="number"&&zr(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function dl(o,c,h,m){if(o=o.options,c){c={};for(var w=0;w<h.length;w++)c["$"+h[w]]=!0;for(h=0;h<o.length;h++)w=c.hasOwnProperty("$"+o[h].value),o[h].selected!==w&&(o[h].selected=w),w&&m&&(o[h].defaultSelected=!0)}else{for(h=""+dt(h),c=null,w=0;w<o.length;w++){if(o[w].value===h){o[w].selected=!0,m&&(o[w].defaultSelected=!0);return}c!==null||o[w].disabled||(c=o[w])}c!==null&&(c.selected=!0)}}function my(o,c,h){if(c!=null&&(c=""+dt(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+dt(h):""}function hl(o,c,h,m){if(c==null){if(m!=null){if(h!=null)throw Error(r(92));if(ve(m)){if(1<m.length)throw Error(r(93));m=m[0]}h=m}h==null&&(h=""),c=h}h=dt(c),o.defaultValue=h,m=o.textContent,m===h&&m!==""&&m!==null&&(o.value=m),pt(o)}function xi(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var gy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wh(o,c,h){var m=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":m?o.setProperty(c,h):typeof h!="number"||h===0||gy.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function Gh(o,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var w in c)m=c[w],c.hasOwnProperty(w)&&h[w]!==m&&Wh(o,w,m)}else for(var T in c)c.hasOwnProperty(T)&&Wh(o,T,c[T])}function Lf(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vf(o){return pl.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function ea(){}var Yh=null;function vs(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ml=null,Ca=null;function ru(o){var c=ar(o);if(c&&(o=c.stateNode)){var h=o[mn]||null;e:switch(o=c.stateNode,c.type){case"input":if(Rf(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+bi(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var m=h[c];if(m!==o&&m.form===o.form){var w=m[mn]||null;if(!w)throw Error(r(90));Rf(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(c=0;c<h.length;c++)m=h[c],m.form===o.form&&ni(m)}break e;case"textarea":my(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&dl(o,!!h.multiple,c,!1)}}}var Bf=!1;function gl(o,c,h){if(Bf)return o(c,h);Bf=!0;try{var m=o(c);return m}finally{if(Bf=!1,(ml!==null||Ca!==null)&&(u0(),ml&&(c=ml,o=Ca,Ca=ml=null,ru(c),o)))for(c=0;c<o.length;c++)ru(o[c])}}function ta(o,c){var h=o.stateNode;if(h===null)return null;var m=h[mn]||null;if(m===null)return null;h=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iu=!1;if(bs)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){iu=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{iu=!1}var Oa=null,Xh=null,su=null;function Qh(){if(su)return su;var o,c=Xh,h=c.length,m,w="value"in Oa?Oa.value:Oa.textContent,T=w.length;for(o=0;o<h&&c[o]===w[o];o++);var O=h-o;for(m=1;m<=O&&c[h-m]===w[T-m];m++);return su=w.slice(o,1<m?1-m:void 0)}function au(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function oo(){return!0}function na(){return!1}function Sr(o){function c(h,m,w,T,O){this._reactName=h,this._targetInst=w,this.type=m,this.nativeEvent=T,this.target=O,this.currentTarget=null;for(var R in o)o.hasOwnProperty(R)&&(h=o[R],this[R]=h?h(T):T[R]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?oo:na,this.isPropagationStopped=na,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),c}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=Sr(lo),yl=p({},lo,{view:0,detail:0}),Jh=Sr(yl),vl,zf,Na,Uf=p({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bl,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Na&&(Na&&o.type==="mousemove"?(vl=o.screenX-Na.screenX,zf=o.screenY-Na.screenY):zf=vl=0,Na=o),vl)},movementY:function(o){return"movementY"in o?o.movementY:zf}}),Zh=Sr(Uf),ou=p({},Uf,{dataTransfer:0}),vy=Sr(ou),by=p({},yl,{relatedTarget:0}),lu=Sr(by),ep=p({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),xy=Sr(ep),Ff=p({},lo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),wy=Sr(Ff),Sy=p({},lo,{data:0}),Da=Sr(Sy),Ty={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ay={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _y(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Ay[o])?!!c[o]:!1}function bl(){return _y}var ri=p({},yl,{key:function(o){if(o.key){var c=Ty[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=au(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Ey[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bl,charCode:function(o){return o.type==="keypress"?au(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?au(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),ky=Sr(ri),Cy=p({},Uf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),co=Sr(Cy),b=p({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bl}),k=Sr(b),I=p({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=Sr(I),Q=p({},Uf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=Sr(Q),be=p({},lo,{newState:0,oldState:0}),Qe=Sr(be),On=[9,13,27,32],xt=bs&&"CompositionEvent"in window,ln=null;bs&&"documentMode"in document&&(ln=document.documentMode);var xs=bs&&"TextEvent"in window&&!ln,Ia=bs&&(!xt||ln&&8<ln&&11>=ln),ra=" ",ia=!1;function cu(o,c){switch(o){case"keyup":return On.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $f(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Hf=!1;function lY(o,c){switch(o){case"compositionend":return $f(c);case"keypress":return c.which!==32?null:(ia=!0,ra);case"textInput":return o=c.data,o===ra&&ia?null:o;default:return null}}function cY(o,c){if(Hf)return o==="compositionend"||!xt&&cu(o,c)?(o=Qh(),su=Xh=Oa=null,Hf=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Ia&&c.locale!=="ko"?null:c.data;default:return null}}var uY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HN(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!uY[o.type]:c==="textarea"}function qN(o,c,h,m){ml?Ca?Ca.push(m):Ca=[m]:ml=m,c=y0(c,"onChange"),0<c.length&&(h=new Ma("onChange","change",null,h,m),o.push({event:h,listeners:c}))}var tp=null,np=null;function fY(o){kP(o,0)}function Oy(o){var c=ei(o);if(ni(c))return o}function KN(o,c){if(o==="change")return c}var WN=!1;if(bs){var Ew;if(bs){var Aw="oninput"in document;if(!Aw){var GN=document.createElement("div");GN.setAttribute("oninput","return;"),Aw=typeof GN.oninput=="function"}Ew=Aw}else Ew=!1;WN=Ew&&(!document.documentMode||9<document.documentMode)}function YN(){tp&&(tp.detachEvent("onpropertychange",XN),np=tp=null)}function XN(o){if(o.propertyName==="value"&&Oy(np)){var c=[];qN(c,np,o,vs(o)),gl(fY,c)}}function dY(o,c,h){o==="focusin"?(YN(),tp=c,np=h,tp.attachEvent("onpropertychange",XN)):o==="focusout"&&YN()}function hY(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Oy(np)}function pY(o,c){if(o==="click")return Oy(c)}function mY(o,c){if(o==="input"||o==="change")return Oy(c)}function gY(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Ui=typeof Object.is=="function"?Object.is:gY;function rp(o,c){if(Ui(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),m=Object.keys(c);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var w=h[m];if(!Dt.call(c,w)||!Ui(o[w],c[w]))return!1}return!0}function QN(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function JN(o,c){var h=QN(o);o=0;for(var m;h;){if(h.nodeType===3){if(m=o+h.textContent.length,o<=c&&m>=c)return{node:h,offset:c-o};o=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=QN(h)}}function ZN(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?ZN(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function eD(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=zr(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=zr(o.document)}return c}function _w(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var yY=bs&&"documentMode"in document&&11>=document.documentMode,qf=null,kw=null,ip=null,Cw=!1;function tD(o,c,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Cw||qf==null||qf!==zr(m)||(m=qf,"selectionStart"in m&&_w(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ip&&rp(ip,m)||(ip=m,m=y0(kw,"onSelect"),0<m.length&&(c=new Ma("onSelect","select",null,c,h),o.push({event:c,listeners:m}),c.target=qf)))}function uu(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var Kf={animationend:uu("Animation","AnimationEnd"),animationiteration:uu("Animation","AnimationIteration"),animationstart:uu("Animation","AnimationStart"),transitionrun:uu("Transition","TransitionRun"),transitionstart:uu("Transition","TransitionStart"),transitioncancel:uu("Transition","TransitionCancel"),transitionend:uu("Transition","TransitionEnd")},Ow={},nD={};bs&&(nD=document.createElement("div").style,"AnimationEvent"in window||(delete Kf.animationend.animation,delete Kf.animationiteration.animation,delete Kf.animationstart.animation),"TransitionEvent"in window||delete Kf.transitionend.transition);function fu(o){if(Ow[o])return Ow[o];if(!Kf[o])return o;var c=Kf[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in nD)return Ow[o]=c[h];return o}var rD=fu("animationend"),iD=fu("animationiteration"),sD=fu("animationstart"),vY=fu("transitionrun"),bY=fu("transitionstart"),xY=fu("transitioncancel"),aD=fu("transitionend"),oD=new Map,Mw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mw.push("scrollEnd");function sa(o,c){oD.set(o,c),ti(c,[o])}var My=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},ws=[],Wf=0,Nw=0;function Ny(){for(var o=Wf,c=Nw=Wf=0;c<o;){var h=ws[c];ws[c++]=null;var m=ws[c];ws[c++]=null;var w=ws[c];ws[c++]=null;var T=ws[c];if(ws[c++]=null,m!==null&&w!==null){var O=m.pending;O===null?w.next=w:(w.next=O.next,O.next=w),m.pending=w}T!==0&&lD(h,w,T)}}function Dy(o,c,h,m){ws[Wf++]=o,ws[Wf++]=c,ws[Wf++]=h,ws[Wf++]=m,Nw|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function Dw(o,c,h,m){return Dy(o,c,h,m),Iy(o)}function du(o,c){return Dy(o,null,null,c),Iy(o)}function lD(o,c,h){o.lanes|=h;var m=o.alternate;m!==null&&(m.lanes|=h);for(var w=!1,T=o.return;T!==null;)T.childLanes|=h,m=T.alternate,m!==null&&(m.childLanes|=h),T.tag===22&&(o=T.stateNode,o===null||o._visibility&1||(w=!0)),o=T,T=T.return;return o.tag===3?(T=o.stateNode,w&&c!==null&&(w=31-Wt(h),o=T.hiddenUpdates,m=o[w],m===null?o[w]=[c]:m.push(c),c.lane=h|536870912),T):null}function Iy(o){if(50<_p)throw _p=0,US=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Gf={};function wY(o,c,h,m){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(o,c,h,m){return new wY(o,c,h,m)}function Iw(o){return o=o.prototype,!(!o||!o.isReactComponent)}function uo(o,c){var h=o.alternate;return h===null?(h=Fi(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function cD(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Py(o,c,h,m,w,T){var O=0;if(m=o,typeof o=="function")Iw(o)&&(O=1);else if(typeof o=="string")O=_X(o,h,we.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case P:return o=Fi(31,h,c,w),o.elementType=P,o.lanes=T,o;case S:return hu(h.children,w,T,c);case E:O=8,w|=24;break;case A:return o=Fi(12,h,c,w|2),o.elementType=A,o.lanes=T,o;case j:return o=Fi(13,h,c,w),o.elementType=j,o.lanes=T,o;case B:return o=Fi(19,h,c,w),o.elementType=B,o.lanes=T,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case D:O=10;break e;case C:O=9;break e;case L:O=11;break e;case M:O=14;break e;case N:O=16,m=null;break e}O=29,h=Error(r(130,o===null?"null":typeof o,"")),m=null}return c=Fi(O,h,c,w),c.elementType=o,c.type=m,c.lanes=T,c}function hu(o,c,h,m){return o=Fi(7,o,m,c),o.lanes=h,o}function Pw(o,c,h){return o=Fi(6,o,null,c),o.lanes=h,o}function uD(o){var c=Fi(18,null,null,0);return c.stateNode=o,c}function jw(o,c,h){return c=Fi(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var fD=new WeakMap;function Ss(o,c){if(typeof o=="object"&&o!==null){var h=fD.get(o);return h!==void 0?h:(c={value:o,source:c,stack:pi(c)},fD.set(o,c),c)}return{value:o,source:c,stack:pi(c)}}var Yf=[],Xf=0,jy=null,sp=0,Ts=[],Es=0,xl=null,Pa=1,ja="";function fo(o,c){Yf[Xf++]=sp,Yf[Xf++]=jy,jy=o,sp=c}function dD(o,c,h){Ts[Es++]=Pa,Ts[Es++]=ja,Ts[Es++]=xl,xl=o;var m=Pa;o=ja;var w=32-Wt(m)-1;m&=~(1<<w),h+=1;var T=32-Wt(c)+w;if(30<T){var O=w-w%5;T=(m&(1<<O)-1).toString(32),m>>=O,w-=O,Pa=1<<32-Wt(c)+w|h<<w|m,ja=T+o}else Pa=1<<T|h<<w|m,ja=o}function Rw(o){o.return!==null&&(fo(o,1),dD(o,1,0))}function Lw(o){for(;o===jy;)jy=Yf[--Xf],Yf[Xf]=null,sp=Yf[--Xf],Yf[Xf]=null;for(;o===xl;)xl=Ts[--Es],Ts[Es]=null,ja=Ts[--Es],Ts[Es]=null,Pa=Ts[--Es],Ts[Es]=null}function hD(o,c){Ts[Es++]=Pa,Ts[Es++]=ja,Ts[Es++]=xl,Pa=c.id,ja=c.overflow,xl=o}var Tr=null,tn=null,ft=!1,wl=null,As=!1,Vw=Error(r(519));function Sl(o){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ap(Ss(c,o)),Vw}function pD(o){var c=o.stateNode,h=o.type,m=o.memoizedProps;switch(c[Zt]=o,c[mn]=m,h){case"dialog":rt("cancel",c),rt("close",c);break;case"iframe":case"object":case"embed":rt("load",c);break;case"video":case"audio":for(h=0;h<Cp.length;h++)rt(Cp[h],c);break;case"source":rt("error",c);break;case"img":case"image":case"link":rt("error",c),rt("load",c);break;case"details":rt("toggle",c);break;case"input":rt("invalid",c),py(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":rt("invalid",c);break;case"textarea":rt("invalid",c),hl(c,m.value,m.defaultValue,m.children)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||m.suppressHydrationWarning===!0||NP(c.textContent,h)?(m.popover!=null&&(rt("beforetoggle",c),rt("toggle",c)),m.onScroll!=null&&rt("scroll",c),m.onScrollEnd!=null&&rt("scrollend",c),m.onClick!=null&&(c.onclick=ea),c=!0):c=!1,c||Sl(o,!0)}function mD(o){for(Tr=o.return;Tr;)switch(Tr.tag){case 5:case 31:case 13:As=!1;return;case 27:case 3:As=!0;return;default:Tr=Tr.return}}function Qf(o){if(o!==Tr)return!1;if(!ft)return mD(o),ft=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||nT(o.type,o.memoizedProps)),h=!h),h&&tn&&Sl(o),mD(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));tn=zP(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));tn=zP(o)}else c===27?(c=tn,Rl(o.type)?(o=oT,oT=null,tn=o):tn=c):tn=Tr?ks(o.stateNode.nextSibling):null;return!0}function pu(){tn=Tr=null,ft=!1}function Bw(){var o=wl;return o!==null&&(Ei===null?Ei=o:Ei.push.apply(Ei,o),wl=null),o}function ap(o){wl===null?wl=[o]:wl.push(o)}var zw=q(null),mu=null,ho=null;function Tl(o,c,h){me(zw,c._currentValue),c._currentValue=h}function po(o){o._currentValue=zw.current,X(zw)}function Uw(o,c,h){for(;o!==null;){var m=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),o===h)break;o=o.return}}function Fw(o,c,h,m){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var T=w.dependencies;if(T!==null){var O=w.child;T=T.firstContext;e:for(;T!==null;){var R=T;T=w;for(var H=0;H<c.length;H++)if(R.context===c[H]){T.lanes|=h,R=T.alternate,R!==null&&(R.lanes|=h),Uw(T.return,h,o),m||(O=null);break e}T=R.next}}else if(w.tag===18){if(O=w.return,O===null)throw Error(r(341));O.lanes|=h,T=O.alternate,T!==null&&(T.lanes|=h),Uw(O,h,o),O=null}else O=w.child;if(O!==null)O.return=w;else for(O=w;O!==null;){if(O===o){O=null;break}if(w=O.sibling,w!==null){w.return=O.return,O=w;break}O=O.return}w=O}}function Jf(o,c,h,m){o=null;for(var w=c,T=!1;w!==null;){if(!T){if((w.flags&524288)!==0)T=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var O=w.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var R=w.type;Ui(w.pendingProps.value,O.value)||(o!==null?o.push(R):o=[R])}}else if(w===Be.current){if(O=w.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(Ip):o=[Ip])}w=w.return}o!==null&&Fw(c,o,h,m),c.flags|=262144}function Ry(o){for(o=o.firstContext;o!==null;){if(!Ui(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function gu(o){mu=o,ho=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Er(o){return gD(mu,o)}function Ly(o,c){return mu===null&&gu(o),gD(o,c)}function gD(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},ho===null){if(o===null)throw Error(r(308));ho=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else ho=ho.next=c;return h}var SY=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,m){o.push(m)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},TY=t.unstable_scheduleCallback,EY=t.unstable_NormalPriority,Rn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $w(){return{controller:new SY,data:new Map,refCount:0}}function op(o){o.refCount--,o.refCount===0&&TY(EY,function(){o.controller.abort()})}var lp=null,Hw=0,Zf=0,ed=null;function AY(o,c){if(lp===null){var h=lp=[];Hw=0,Zf=WS(),ed={status:"pending",value:void 0,then:function(m){h.push(m)}}}return Hw++,c.then(yD,yD),c}function yD(){if(--Hw===0&&lp!==null){ed!==null&&(ed.status="fulfilled");var o=lp;lp=null,Zf=0,ed=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function _Y(o,c){var h=[],m={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return o.then(function(){m.status="fulfilled",m.value=c;for(var w=0;w<h.length;w++)(0,h[w])(c)},function(w){for(m.status="rejected",m.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),m}var vD=G.S;G.S=function(o,c){tP=Tt(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&AY(o,c),vD!==null&&vD(o,c)};var yu=q(null);function qw(){var o=yu.current;return o!==null?o:Ft.pooledCache}function Vy(o,c){c===null?me(yu,yu.current):me(yu,c.pool)}function bD(){var o=qw();return o===null?null:{parent:Rn._currentValue,pool:o}}var td=Error(r(460)),Kw=Error(r(474)),By=Error(r(542)),zy={then:function(){}};function xD(o){return o=o.status,o==="fulfilled"||o==="rejected"}function wD(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(ea,ea),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,TD(o),o;default:if(typeof c.status=="string")c.then(ea,ea);else{if(o=Ft,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(m){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=m}},function(m){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,TD(o),o}throw bu=c,td}}function vu(o){try{var c=o._init;return c(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(bu=h,td):h}}var bu=null;function SD(){if(bu===null)throw Error(r(459));var o=bu;return bu=null,o}function TD(o){if(o===td||o===By)throw Error(r(483))}var nd=null,cp=0;function Uy(o){var c=cp;return cp+=1,nd===null&&(nd=[]),wD(nd,o,c)}function up(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Fy(o,c){throw c.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function ED(o){function c(Y,W){if(o){var J=Y.deletions;J===null?(Y.deletions=[W],Y.flags|=16):J.push(W)}}function h(Y,W){if(!o)return null;for(;W!==null;)c(Y,W),W=W.sibling;return null}function m(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function w(Y,W){return Y=uo(Y,W),Y.index=0,Y.sibling=null,Y}function T(Y,W,J){return Y.index=J,o?(J=Y.alternate,J!==null?(J=J.index,J<W?(Y.flags|=67108866,W):J):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function O(Y){return o&&Y.alternate===null&&(Y.flags|=67108866),Y}function R(Y,W,J,oe){return W===null||W.tag!==6?(W=Pw(J,Y.mode,oe),W.return=Y,W):(W=w(W,J),W.return=Y,W)}function H(Y,W,J,oe){var Pe=J.type;return Pe===S?se(Y,W,J.props.children,oe,J.key):W!==null&&(W.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===N&&vu(Pe)===W.type)?(W=w(W,J.props),up(W,J),W.return=Y,W):(W=Py(J.type,J.key,J.props,null,Y.mode,oe),up(W,J),W.return=Y,W)}function Z(Y,W,J,oe){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=jw(J,Y.mode,oe),W.return=Y,W):(W=w(W,J.children||[]),W.return=Y,W)}function se(Y,W,J,oe,Pe){return W===null||W.tag!==7?(W=hu(J,Y.mode,oe,Pe),W.return=Y,W):(W=w(W,J),W.return=Y,W)}function ce(Y,W,J){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Pw(""+W,Y.mode,J),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return J=Py(W.type,W.key,W.props,null,Y.mode,J),up(J,W),J.return=Y,J;case x:return W=jw(W,Y.mode,J),W.return=Y,W;case N:return W=vu(W),ce(Y,W,J)}if(ve(W)||$(W))return W=hu(W,Y.mode,J,null),W.return=Y,W;if(typeof W.then=="function")return ce(Y,Uy(W),J);if(W.$$typeof===D)return ce(Y,Ly(Y,W),J);Fy(Y,W)}return null}function ee(Y,W,J,oe){var Pe=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Pe!==null?null:R(Y,W,""+J,oe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case v:return J.key===Pe?H(Y,W,J,oe):null;case x:return J.key===Pe?Z(Y,W,J,oe):null;case N:return J=vu(J),ee(Y,W,J,oe)}if(ve(J)||$(J))return Pe!==null?null:se(Y,W,J,oe,null);if(typeof J.then=="function")return ee(Y,W,Uy(J),oe);if(J.$$typeof===D)return ee(Y,W,Ly(Y,J),oe);Fy(Y,J)}return null}function re(Y,W,J,oe,Pe){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Y=Y.get(J)||null,R(W,Y,""+oe,Pe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case v:return Y=Y.get(oe.key===null?J:oe.key)||null,H(W,Y,oe,Pe);case x:return Y=Y.get(oe.key===null?J:oe.key)||null,Z(W,Y,oe,Pe);case N:return oe=vu(oe),re(Y,W,J,oe,Pe)}if(ve(oe)||$(oe))return Y=Y.get(J)||null,se(W,Y,oe,Pe,null);if(typeof oe.then=="function")return re(Y,W,J,Uy(oe),Pe);if(oe.$$typeof===D)return re(Y,W,J,Ly(W,oe),Pe);Fy(W,oe)}return null}function Ce(Y,W,J,oe){for(var Pe=null,mt=null,Me=W,Ze=W=0,ot=null;Me!==null&&Ze<J.length;Ze++){Me.index>Ze?(ot=Me,Me=null):ot=Me.sibling;var gt=ee(Y,Me,J[Ze],oe);if(gt===null){Me===null&&(Me=ot);break}o&&Me&&gt.alternate===null&&c(Y,Me),W=T(gt,W,Ze),mt===null?Pe=gt:mt.sibling=gt,mt=gt,Me=ot}if(Ze===J.length)return h(Y,Me),ft&&fo(Y,Ze),Pe;if(Me===null){for(;Ze<J.length;Ze++)Me=ce(Y,J[Ze],oe),Me!==null&&(W=T(Me,W,Ze),mt===null?Pe=Me:mt.sibling=Me,mt=Me);return ft&&fo(Y,Ze),Pe}for(Me=m(Me);Ze<J.length;Ze++)ot=re(Me,Y,Ze,J[Ze],oe),ot!==null&&(o&&ot.alternate!==null&&Me.delete(ot.key===null?Ze:ot.key),W=T(ot,W,Ze),mt===null?Pe=ot:mt.sibling=ot,mt=ot);return o&&Me.forEach(function(Ul){return c(Y,Ul)}),ft&&fo(Y,Ze),Pe}function Ue(Y,W,J,oe){if(J==null)throw Error(r(151));for(var Pe=null,mt=null,Me=W,Ze=W=0,ot=null,gt=J.next();Me!==null&&!gt.done;Ze++,gt=J.next()){Me.index>Ze?(ot=Me,Me=null):ot=Me.sibling;var Ul=ee(Y,Me,gt.value,oe);if(Ul===null){Me===null&&(Me=ot);break}o&&Me&&Ul.alternate===null&&c(Y,Me),W=T(Ul,W,Ze),mt===null?Pe=Ul:mt.sibling=Ul,mt=Ul,Me=ot}if(gt.done)return h(Y,Me),ft&&fo(Y,Ze),Pe;if(Me===null){for(;!gt.done;Ze++,gt=J.next())gt=ce(Y,gt.value,oe),gt!==null&&(W=T(gt,W,Ze),mt===null?Pe=gt:mt.sibling=gt,mt=gt);return ft&&fo(Y,Ze),Pe}for(Me=m(Me);!gt.done;Ze++,gt=J.next())gt=re(Me,Y,Ze,gt.value,oe),gt!==null&&(o&&gt.alternate!==null&&Me.delete(gt.key===null?Ze:gt.key),W=T(gt,W,Ze),mt===null?Pe=gt:mt.sibling=gt,mt=gt);return o&&Me.forEach(function(LX){return c(Y,LX)}),ft&&fo(Y,Ze),Pe}function Bt(Y,W,J,oe){if(typeof J=="object"&&J!==null&&J.type===S&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case v:e:{for(var Pe=J.key;W!==null;){if(W.key===Pe){if(Pe=J.type,Pe===S){if(W.tag===7){h(Y,W.sibling),oe=w(W,J.props.children),oe.return=Y,Y=oe;break e}}else if(W.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===N&&vu(Pe)===W.type){h(Y,W.sibling),oe=w(W,J.props),up(oe,J),oe.return=Y,Y=oe;break e}h(Y,W);break}else c(Y,W);W=W.sibling}J.type===S?(oe=hu(J.props.children,Y.mode,oe,J.key),oe.return=Y,Y=oe):(oe=Py(J.type,J.key,J.props,null,Y.mode,oe),up(oe,J),oe.return=Y,Y=oe)}return O(Y);case x:e:{for(Pe=J.key;W!==null;){if(W.key===Pe)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){h(Y,W.sibling),oe=w(W,J.children||[]),oe.return=Y,Y=oe;break e}else{h(Y,W);break}else c(Y,W);W=W.sibling}oe=jw(J,Y.mode,oe),oe.return=Y,Y=oe}return O(Y);case N:return J=vu(J),Bt(Y,W,J,oe)}if(ve(J))return Ce(Y,W,J,oe);if($(J)){if(Pe=$(J),typeof Pe!="function")throw Error(r(150));return J=Pe.call(J),Ue(Y,W,J,oe)}if(typeof J.then=="function")return Bt(Y,W,Uy(J),oe);if(J.$$typeof===D)return Bt(Y,W,Ly(Y,J),oe);Fy(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,W!==null&&W.tag===6?(h(Y,W.sibling),oe=w(W,J),oe.return=Y,Y=oe):(h(Y,W),oe=Pw(J,Y.mode,oe),oe.return=Y,Y=oe),O(Y)):h(Y,W)}return function(Y,W,J,oe){try{cp=0;var Pe=Bt(Y,W,J,oe);return nd=null,Pe}catch(Me){if(Me===td||Me===By)throw Me;var mt=Fi(29,Me,null,Y.mode);return mt.lanes=oe,mt.return=Y,mt}finally{}}}var xu=ED(!0),AD=ED(!1),El=!1;function Ww(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gw(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Al(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function _l(o,c,h){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(wt&2)!==0){var w=m.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),m.pending=c,c=Iy(o),lD(o,null,h),c}return Dy(o,m,c,h),Iy(o)}function fp(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var m=c.lanes;m&=o.pendingLanes,h|=m,c.lanes=h,hs(o,h)}}function Yw(o,c){var h=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var w=null,T=null;if(h=h.firstBaseUpdate,h!==null){do{var O={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};T===null?w=T=O:T=T.next=O,h=h.next}while(h!==null);T===null?w=T=c:T=T.next=c}else w=T=c;h={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:T,shared:m.shared,callbacks:m.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var Xw=!1;function dp(){if(Xw){var o=ed;if(o!==null)throw o}}function hp(o,c,h,m){Xw=!1;var w=o.updateQueue;El=!1;var T=w.firstBaseUpdate,O=w.lastBaseUpdate,R=w.shared.pending;if(R!==null){w.shared.pending=null;var H=R,Z=H.next;H.next=null,O===null?T=Z:O.next=Z,O=H;var se=o.alternate;se!==null&&(se=se.updateQueue,R=se.lastBaseUpdate,R!==O&&(R===null?se.firstBaseUpdate=Z:R.next=Z,se.lastBaseUpdate=H))}if(T!==null){var ce=w.baseState;O=0,se=Z=H=null,R=T;do{var ee=R.lane&-536870913,re=ee!==R.lane;if(re?(at&ee)===ee:(m&ee)===ee){ee!==0&&ee===Zf&&(Xw=!0),se!==null&&(se=se.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ce=o,Ue=R;ee=c;var Bt=h;switch(Ue.tag){case 1:if(Ce=Ue.payload,typeof Ce=="function"){ce=Ce.call(Bt,ce,ee);break e}ce=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ue.payload,ee=typeof Ce=="function"?Ce.call(Bt,ce,ee):Ce,ee==null)break e;ce=p({},ce,ee);break e;case 2:El=!0}}ee=R.callback,ee!==null&&(o.flags|=64,re&&(o.flags|=8192),re=w.callbacks,re===null?w.callbacks=[ee]:re.push(ee))}else re={lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},se===null?(Z=se=re,H=ce):se=se.next=re,O|=ee;if(R=R.next,R===null){if(R=w.shared.pending,R===null)break;re=R,R=re.next,re.next=null,w.lastBaseUpdate=re,w.shared.pending=null}}while(!0);se===null&&(H=ce),w.baseState=H,w.firstBaseUpdate=Z,w.lastBaseUpdate=se,T===null&&(w.shared.lanes=0),Nl|=O,o.lanes=O,o.memoizedState=ce}}function _D(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function kD(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)_D(h[o],c)}var rd=q(null),$y=q(0);function CD(o,c){o=To,me($y,o),me(rd,c),To=o|c.baseLanes}function Qw(){me($y,To),me(rd,rd.current)}function Jw(){To=$y.current,X(rd),X($y)}var $i=q(null),_s=null;function kl(o){var c=o.alternate;me(Mn,Mn.current&1),me($i,o),_s===null&&(c===null||rd.current!==null||c.memoizedState!==null)&&(_s=o)}function Zw(o){me(Mn,Mn.current),me($i,o),_s===null&&(_s=o)}function OD(o){o.tag===22?(me(Mn,Mn.current),me($i,o),_s===null&&(_s=o)):Cl()}function Cl(){me(Mn,Mn.current),me($i,$i.current)}function Hi(o){X($i),_s===o&&(_s=null),X(Mn)}var Mn=q(0);function Hy(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||sT(h)||aT(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var mo=0,Je=null,Lt=null,Ln=null,qy=!1,id=!1,wu=!1,Ky=0,pp=0,sd=null,kY=0;function xn(){throw Error(r(321))}function eS(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!Ui(o[h],c[h]))return!1;return!0}function tS(o,c,h,m,w,T){return mo=T,Je=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,G.H=o===null||o.memoizedState===null?dI:gS,wu=!1,T=h(m,w),wu=!1,id&&(T=ND(c,h,m,w)),MD(o),T}function MD(o){G.H=yp;var c=Lt!==null&&Lt.next!==null;if(mo=0,Ln=Lt=Je=null,qy=!1,pp=0,sd=null,c)throw Error(r(300));o===null||Vn||(o=o.dependencies,o!==null&&Ry(o)&&(Vn=!0))}function ND(o,c,h,m){Je=o;var w=0;do{if(id&&(sd=null),pp=0,id=!1,25<=w)throw Error(r(301));if(w+=1,Ln=Lt=null,o.updateQueue!=null){var T=o.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}G.H=hI,T=c(h,m)}while(id);return T}function CY(){var o=G.H,c=o.useState()[0];return c=typeof c.then=="function"?mp(c):c,o=o.useState()[0],(Lt!==null?Lt.memoizedState:null)!==o&&(Je.flags|=1024),c}function nS(){var o=Ky!==0;return Ky=0,o}function rS(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function iS(o){if(qy){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}qy=!1}mo=0,Ln=Lt=Je=null,id=!1,pp=Ky=0,sd=null}function ii(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?Je.memoizedState=Ln=o:Ln=Ln.next=o,Ln}function Nn(){if(Lt===null){var o=Je.alternate;o=o!==null?o.memoizedState:null}else o=Lt.next;var c=Ln===null?Je.memoizedState:Ln.next;if(c!==null)Ln=c,Lt=o;else{if(o===null)throw Je.alternate===null?Error(r(467)):Error(r(310));Lt=o,o={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ln===null?Je.memoizedState=Ln=o:Ln=Ln.next=o}return Ln}function Wy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mp(o){var c=pp;return pp+=1,sd===null&&(sd=[]),o=wD(sd,o,c),c=Je,(Ln===null?c.memoizedState:Ln.next)===null&&(c=c.alternate,G.H=c===null||c.memoizedState===null?dI:gS),o}function Gy(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return mp(o);if(o.$$typeof===D)return Er(o)}throw Error(r(438,String(o)))}function sS(o){var c=null,h=Je.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var m=Je.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=Wy(),Je.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),m=0;m<o;m++)h[m]=F;return c.index++,h}function go(o,c){return typeof c=="function"?c(o):c}function Yy(o){var c=Nn();return aS(c,Lt,o)}function aS(o,c,h){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=h;var w=o.baseQueue,T=m.pending;if(T!==null){if(w!==null){var O=w.next;w.next=T.next,T.next=O}c.baseQueue=w=T,m.pending=null}if(T=o.baseState,w===null)o.memoizedState=T;else{c=w.next;var R=O=null,H=null,Z=c,se=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(at&ce)===ce:(mo&ce)===ce){var ee=Z.revertLane;if(ee===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===Zf&&(se=!0);else if((mo&ee)===ee){Z=Z.next,ee===Zf&&(se=!0);continue}else ce={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(R=H=ce,O=T):H=H.next=ce,Je.lanes|=ee,Nl|=ee;ce=Z.action,wu&&h(T,ce),T=Z.hasEagerState?Z.eagerState:h(T,ce)}else ee={lane:ce,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(R=H=ee,O=T):H=H.next=ee,Je.lanes|=ce,Nl|=ce;Z=Z.next}while(Z!==null&&Z!==c);if(H===null?O=T:H.next=R,!Ui(T,o.memoizedState)&&(Vn=!0,se&&(h=ed,h!==null)))throw h;o.memoizedState=T,o.baseState=O,o.baseQueue=H,m.lastRenderedState=T}return w===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function oS(o){var c=Nn(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var m=h.dispatch,w=h.pending,T=c.memoizedState;if(w!==null){h.pending=null;var O=w=w.next;do T=o(T,O.action),O=O.next;while(O!==w);Ui(T,c.memoizedState)||(Vn=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),h.lastRenderedState=T}return[T,m]}function DD(o,c,h){var m=Je,w=Nn(),T=ft;if(T){if(h===void 0)throw Error(r(407));h=h()}else h=c();var O=!Ui((Lt||w).memoizedState,h);if(O&&(w.memoizedState=h,Vn=!0),w=w.queue,uS(jD.bind(null,m,w,o),[o]),w.getSnapshot!==c||O||Ln!==null&&Ln.memoizedState.tag&1){if(m.flags|=2048,ad(9,{destroy:void 0},PD.bind(null,m,w,h,c),null),Ft===null)throw Error(r(349));T||(mo&127)!==0||ID(m,c,h)}return h}function ID(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=Je.updateQueue,c===null?(c=Wy(),Je.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function PD(o,c,h,m){c.value=h,c.getSnapshot=m,RD(c)&&LD(o)}function jD(o,c,h){return h(function(){RD(c)&&LD(o)})}function RD(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!Ui(o,h)}catch{return!0}}function LD(o){var c=du(o,2);c!==null&&Ai(c,o,2)}function lS(o){var c=ii();if(typeof o=="function"){var h=o;if(o=h(),wu){Br(!0);try{h()}finally{Br(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:o},c}function VD(o,c,h,m){return o.baseState=h,aS(o,Lt,typeof m=="function"?m:go)}function OY(o,c,h,m,w){if(Jy(o))throw Error(r(485));if(o=c.action,o!==null){var T={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){T.listeners.push(O)}};G.T!==null?h(!0):T.isTransition=!1,m(T),h=c.pending,h===null?(T.next=c.pending=T,BD(c,T)):(T.next=h.next,c.pending=h.next=T)}}function BD(o,c){var h=c.action,m=c.payload,w=o.state;if(c.isTransition){var T=G.T,O={};G.T=O;try{var R=h(w,m),H=G.S;H!==null&&H(O,R),zD(o,c,R)}catch(Z){cS(o,c,Z)}finally{T!==null&&O.types!==null&&(T.types=O.types),G.T=T}}else try{T=h(w,m),zD(o,c,T)}catch(Z){cS(o,c,Z)}}function zD(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){UD(o,c,m)},function(m){return cS(o,c,m)}):UD(o,c,h)}function UD(o,c,h){c.status="fulfilled",c.value=h,FD(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,BD(o,h)))}function cS(o,c,h){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=h,FD(c),c=c.next;while(c!==m)}o.action=null}function FD(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function $D(o,c){return c}function HD(o,c){if(ft){var h=Ft.formState;if(h!==null){e:{var m=Je;if(ft){if(tn){t:{for(var w=tn,T=As;w.nodeType!==8;){if(!T){w=null;break t}if(w=ks(w.nextSibling),w===null){w=null;break t}}T=w.data,w=T==="F!"||T==="F"?w:null}if(w){tn=ks(w.nextSibling),m=w.data==="F!";break e}}Sl(m)}m=!1}m&&(c=h[0])}}return h=ii(),h.memoizedState=h.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$D,lastRenderedState:c},h.queue=m,h=cI.bind(null,Je,m),m.dispatch=h,m=lS(!1),T=mS.bind(null,Je,!1,m.queue),m=ii(),w={state:c,dispatch:null,action:o,pending:null},m.queue=w,h=OY.bind(null,Je,w,T,h),w.dispatch=h,m.memoizedState=o,[c,h,!1]}function qD(o){var c=Nn();return KD(c,Lt,o)}function KD(o,c,h){if(c=aS(o,c,$D)[0],o=Yy(go)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=mp(c)}catch(O){throw O===td?By:O}else m=c;c=Nn();var w=c.queue,T=w.dispatch;return h!==c.memoizedState&&(Je.flags|=2048,ad(9,{destroy:void 0},MY.bind(null,w,h),null)),[m,T,o]}function MY(o,c){o.action=c}function WD(o){var c=Nn(),h=Lt;if(h!==null)return KD(c,h,o);Nn(),c=c.memoizedState,h=Nn();var m=h.queue.dispatch;return h.memoizedState=o,[c,m,!1]}function ad(o,c,h,m){return o={tag:o,create:h,deps:m,inst:c,next:null},c=Je.updateQueue,c===null&&(c=Wy(),Je.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(m=h.next,h.next=o,o.next=m,c.lastEffect=o),o}function GD(){return Nn().memoizedState}function Xy(o,c,h,m){var w=ii();Je.flags|=o,w.memoizedState=ad(1|c,{destroy:void 0},h,m===void 0?null:m)}function Qy(o,c,h,m){var w=Nn();m=m===void 0?null:m;var T=w.memoizedState.inst;Lt!==null&&m!==null&&eS(m,Lt.memoizedState.deps)?w.memoizedState=ad(c,T,h,m):(Je.flags|=o,w.memoizedState=ad(1|c,T,h,m))}function YD(o,c){Xy(8390656,8,o,c)}function uS(o,c){Qy(2048,8,o,c)}function NY(o){Je.flags|=4;var c=Je.updateQueue;if(c===null)c=Wy(),Je.updateQueue=c,c.events=[o];else{var h=c.events;h===null?c.events=[o]:h.push(o)}}function XD(o){var c=Nn().memoizedState;return NY({ref:c,nextImpl:o}),function(){if((wt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function QD(o,c){return Qy(4,2,o,c)}function JD(o,c){return Qy(4,4,o,c)}function ZD(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function eI(o,c,h){h=h!=null?h.concat([o]):null,Qy(4,4,ZD.bind(null,c,o),h)}function fS(){}function tI(o,c){var h=Nn();c=c===void 0?null:c;var m=h.memoizedState;return c!==null&&eS(c,m[1])?m[0]:(h.memoizedState=[o,c],o)}function nI(o,c){var h=Nn();c=c===void 0?null:c;var m=h.memoizedState;if(c!==null&&eS(c,m[1]))return m[0];if(m=o(),wu){Br(!0);try{o()}finally{Br(!1)}}return h.memoizedState=[m,c],m}function dS(o,c,h){return h===void 0||(mo&1073741824)!==0&&(at&261930)===0?o.memoizedState=c:(o.memoizedState=h,o=rP(),Je.lanes|=o,Nl|=o,h)}function rI(o,c,h,m){return Ui(h,c)?h:rd.current!==null?(o=dS(o,h,m),Ui(o,c)||(Vn=!0),o):(mo&42)===0||(mo&1073741824)!==0&&(at&261930)===0?(Vn=!0,o.memoizedState=h):(o=rP(),Je.lanes|=o,Nl|=o,c)}function iI(o,c,h,m,w){var T=K.p;K.p=T!==0&&8>T?T:8;var O=G.T,R={};G.T=R,mS(o,!1,c,h);try{var H=w(),Z=G.S;if(Z!==null&&Z(R,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var se=_Y(H,m);gp(o,c,se,Wi(o))}else gp(o,c,m,Wi(o))}catch(ce){gp(o,c,{then:function(){},status:"rejected",reason:ce},Wi())}finally{K.p=T,O!==null&&R.types!==null&&(O.types=R.types),G.T=O}}function DY(){}function hS(o,c,h,m){if(o.tag!==5)throw Error(r(476));var w=sI(o).queue;iI(o,w,c,ae,h===null?DY:function(){return aI(o),h(m)})}function sI(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:ae},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function aI(o){var c=sI(o);c.next===null&&(c=o.alternate.memoizedState),gp(o,c.next.queue,{},Wi())}function pS(){return Er(Ip)}function oI(){return Nn().memoizedState}function lI(){return Nn().memoizedState}function IY(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=Wi();o=Al(h);var m=_l(c,o,h);m!==null&&(Ai(m,c,h),fp(m,c,h)),c={cache:$w()},o.payload=c;return}c=c.return}}function PY(o,c,h){var m=Wi();h={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Jy(o)?uI(c,h):(h=Dw(o,c,h,m),h!==null&&(Ai(h,o,m),fI(h,c,m)))}function cI(o,c,h){var m=Wi();gp(o,c,h,m)}function gp(o,c,h,m){var w={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Jy(o))uI(c,w);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var O=c.lastRenderedState,R=T(O,h);if(w.hasEagerState=!0,w.eagerState=R,Ui(R,O))return Dy(o,c,w,0),Ft===null&&Ny(),!1}catch{}finally{}if(h=Dw(o,c,w,m),h!==null)return Ai(h,o,m),fI(h,c,m),!0}return!1}function mS(o,c,h,m){if(m={lane:2,revertLane:WS(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Jy(o)){if(c)throw Error(r(479))}else c=Dw(o,h,m,2),c!==null&&Ai(c,o,2)}function Jy(o){var c=o.alternate;return o===Je||c!==null&&c===Je}function uI(o,c){id=qy=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function fI(o,c,h){if((h&4194048)!==0){var m=c.lanes;m&=o.pendingLanes,h|=m,c.lanes=h,hs(o,h)}}var yp={readContext:Er,use:Gy,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useInsertionEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useSyncExternalStore:xn,useId:xn,useHostTransitionStatus:xn,useFormState:xn,useActionState:xn,useOptimistic:xn,useMemoCache:xn,useCacheRefresh:xn};yp.useEffectEvent=xn;var dI={readContext:Er,use:Gy,useCallback:function(o,c){return ii().memoizedState=[o,c===void 0?null:c],o},useContext:Er,useEffect:YD,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,Xy(4194308,4,ZD.bind(null,c,o),h)},useLayoutEffect:function(o,c){return Xy(4194308,4,o,c)},useInsertionEffect:function(o,c){Xy(4,2,o,c)},useMemo:function(o,c){var h=ii();c=c===void 0?null:c;var m=o();if(wu){Br(!0);try{o()}finally{Br(!1)}}return h.memoizedState=[m,c],m},useReducer:function(o,c,h){var m=ii();if(h!==void 0){var w=h(c);if(wu){Br(!0);try{h(c)}finally{Br(!1)}}}else w=c;return m.memoizedState=m.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},m.queue=o,o=o.dispatch=PY.bind(null,Je,o),[m.memoizedState,o]},useRef:function(o){var c=ii();return o={current:o},c.memoizedState=o},useState:function(o){o=lS(o);var c=o.queue,h=cI.bind(null,Je,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:fS,useDeferredValue:function(o,c){var h=ii();return dS(h,o,c)},useTransition:function(){var o=lS(!1);return o=iI.bind(null,Je,o.queue,!0,!1),ii().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var m=Je,w=ii();if(ft){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),Ft===null)throw Error(r(349));(at&127)!==0||ID(m,c,h)}w.memoizedState=h;var T={value:h,getSnapshot:c};return w.queue=T,YD(jD.bind(null,m,T,o),[o]),m.flags|=2048,ad(9,{destroy:void 0},PD.bind(null,m,T,h,c),null),h},useId:function(){var o=ii(),c=Ft.identifierPrefix;if(ft){var h=ja,m=Pa;h=(m&~(1<<32-Wt(m)-1)).toString(32)+h,c="_"+c+"R_"+h,h=Ky++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=kY++,c="_"+c+"r_"+h.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:pS,useFormState:HD,useActionState:HD,useOptimistic:function(o){var c=ii();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=mS.bind(null,Je,!0,h),h.dispatch=c,[o,c]},useMemoCache:sS,useCacheRefresh:function(){return ii().memoizedState=IY.bind(null,Je)},useEffectEvent:function(o){var c=ii(),h={impl:o};return c.memoizedState=h,function(){if((wt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},gS={readContext:Er,use:Gy,useCallback:tI,useContext:Er,useEffect:uS,useImperativeHandle:eI,useInsertionEffect:QD,useLayoutEffect:JD,useMemo:nI,useReducer:Yy,useRef:GD,useState:function(){return Yy(go)},useDebugValue:fS,useDeferredValue:function(o,c){var h=Nn();return rI(h,Lt.memoizedState,o,c)},useTransition:function(){var o=Yy(go)[0],c=Nn().memoizedState;return[typeof o=="boolean"?o:mp(o),c]},useSyncExternalStore:DD,useId:oI,useHostTransitionStatus:pS,useFormState:qD,useActionState:qD,useOptimistic:function(o,c){var h=Nn();return VD(h,Lt,o,c)},useMemoCache:sS,useCacheRefresh:lI};gS.useEffectEvent=XD;var hI={readContext:Er,use:Gy,useCallback:tI,useContext:Er,useEffect:uS,useImperativeHandle:eI,useInsertionEffect:QD,useLayoutEffect:JD,useMemo:nI,useReducer:oS,useRef:GD,useState:function(){return oS(go)},useDebugValue:fS,useDeferredValue:function(o,c){var h=Nn();return Lt===null?dS(h,o,c):rI(h,Lt.memoizedState,o,c)},useTransition:function(){var o=oS(go)[0],c=Nn().memoizedState;return[typeof o=="boolean"?o:mp(o),c]},useSyncExternalStore:DD,useId:oI,useHostTransitionStatus:pS,useFormState:WD,useActionState:WD,useOptimistic:function(o,c){var h=Nn();return Lt!==null?VD(h,Lt,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:sS,useCacheRefresh:lI};hI.useEffectEvent=XD;function yS(o,c,h,m){c=o.memoizedState,h=h(m,c),h=h==null?c:p({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var vS={enqueueSetState:function(o,c,h){o=o._reactInternals;var m=Wi(),w=Al(m);w.payload=c,h!=null&&(w.callback=h),c=_l(o,w,m),c!==null&&(Ai(c,o,m),fp(c,o,m))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var m=Wi(),w=Al(m);w.tag=1,w.payload=c,h!=null&&(w.callback=h),c=_l(o,w,m),c!==null&&(Ai(c,o,m),fp(c,o,m))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=Wi(),m=Al(h);m.tag=2,c!=null&&(m.callback=c),c=_l(o,m,h),c!==null&&(Ai(c,o,h),fp(c,o,h))}};function pI(o,c,h,m,w,T,O){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,T,O):c.prototype&&c.prototype.isPureReactComponent?!rp(h,m)||!rp(w,T):!0}function mI(o,c,h,m){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,m),c.state!==o&&vS.enqueueReplaceState(c,c.state,null)}function Su(o,c){var h=c;if("ref"in c){h={};for(var m in c)m!=="ref"&&(h[m]=c[m])}if(o=o.defaultProps){h===c&&(h=p({},h));for(var w in o)h[w]===void 0&&(h[w]=o[w])}return h}function gI(o){My(o)}function yI(o){console.error(o)}function vI(o){My(o)}function Zy(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function bI(o,c,h){try{var m=o.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function bS(o,c,h){return h=Al(h),h.tag=3,h.payload={element:null},h.callback=function(){Zy(o,c)},h}function xI(o){return o=Al(o),o.tag=3,o}function wI(o,c,h,m){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var T=m.value;o.payload=function(){return w(T)},o.callback=function(){bI(c,h,m)}}var O=h.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(o.callback=function(){bI(c,h,m),typeof w!="function"&&(Dl===null?Dl=new Set([this]):Dl.add(this));var R=m.stack;this.componentDidCatch(m.value,{componentStack:R!==null?R:""})})}function jY(o,c,h,m,w){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=h.alternate,c!==null&&Jf(c,h,w,!0),h=$i.current,h!==null){switch(h.tag){case 31:case 13:return _s===null?f0():h.alternate===null&&wn===0&&(wn=3),h.flags&=-257,h.flags|=65536,h.lanes=w,m===zy?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([m]):c.add(m),HS(o,m,w)),!1;case 22:return h.flags|=65536,m===zy?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([m]):h.add(m)),HS(o,m,w)),!1}throw Error(r(435,h.tag))}return HS(o,m,w),f0(),!1}if(ft)return c=$i.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,m!==Vw&&(o=Error(r(422),{cause:m}),ap(Ss(o,h)))):(m!==Vw&&(c=Error(r(423),{cause:m}),ap(Ss(c,h))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,m=Ss(m,h),w=bS(o.stateNode,m,w),Yw(o,w),wn!==4&&(wn=2)),!1;var T=Error(r(520),{cause:m});if(T=Ss(T,h),Ap===null?Ap=[T]:Ap.push(T),wn!==4&&(wn=2),c===null)return!0;m=Ss(m,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=w&-w,h.lanes|=o,o=bS(h.stateNode,m,o),Yw(h,o),!1;case 1:if(c=h.type,T=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Dl===null||!Dl.has(T))))return h.flags|=65536,w&=-w,h.lanes|=w,w=xI(w),wI(w,o,h,m),Yw(h,w),!1}h=h.return}while(h!==null);return!1}var xS=Error(r(461)),Vn=!1;function Ar(o,c,h,m){c.child=o===null?AD(c,null,h,m):xu(c,o.child,h,m)}function SI(o,c,h,m,w){h=h.render;var T=c.ref;if("ref"in m){var O={};for(var R in m)R!=="ref"&&(O[R]=m[R])}else O=m;return gu(c),m=tS(o,c,h,O,T,w),R=nS(),o!==null&&!Vn?(rS(o,c,w),yo(o,c,w)):(ft&&R&&Rw(c),c.flags|=1,Ar(o,c,m,w),c.child)}function TI(o,c,h,m,w){if(o===null){var T=h.type;return typeof T=="function"&&!Iw(T)&&T.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=T,EI(o,c,T,m,w)):(o=Py(h.type,null,m,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(T=o.child,!CS(o,w)){var O=T.memoizedProps;if(h=h.compare,h=h!==null?h:rp,h(O,m)&&o.ref===c.ref)return yo(o,c,w)}return c.flags|=1,o=uo(T,m),o.ref=c.ref,o.return=c,c.child=o}function EI(o,c,h,m,w){if(o!==null){var T=o.memoizedProps;if(rp(T,m)&&o.ref===c.ref)if(Vn=!1,c.pendingProps=m=T,CS(o,w))(o.flags&131072)!==0&&(Vn=!0);else return c.lanes=o.lanes,yo(o,c,w)}return wS(o,c,h,m,w)}function AI(o,c,h,m){var w=m.children,T=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(T=T!==null?T.baseLanes|h:h,o!==null){for(m=c.child=o.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;m=w&~T}else m=0,c.child=null;return _I(o,c,T,h,m)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Vy(c,T!==null?T.cachePool:null),T!==null?CD(c,T):Qw(),OD(c);else return m=c.lanes=536870912,_I(o,c,T!==null?T.baseLanes|h:h,h,m)}else T!==null?(Vy(c,T.cachePool),CD(c,T),Cl(),c.memoizedState=null):(o!==null&&Vy(c,null),Qw(),Cl());return Ar(o,c,w,h),c.child}function vp(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function _I(o,c,h,m,w){var T=qw();return T=T===null?null:{parent:Rn._currentValue,pool:T},c.memoizedState={baseLanes:h,cachePool:T},o!==null&&Vy(c,null),Qw(),OD(c),o!==null&&Jf(o,c,m,!0),c.childLanes=w,null}function e0(o,c){return c=n0({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function kI(o,c,h){return xu(c,o.child,null,h),o=e0(c,c.pendingProps),o.flags|=2,Hi(c),c.memoizedState=null,o}function RY(o,c,h){var m=c.pendingProps,w=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(ft){if(m.mode==="hidden")return o=e0(c,m),c.lanes=536870912,vp(null,o);if(Zw(c),(o=tn)?(o=BP(o,As),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:xl!==null?{id:Pa,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},h=uD(o),h.return=c,c.child=h,Tr=c,tn=null)):o=null,o===null)throw Sl(c);return c.lanes=536870912,null}return e0(c,m)}var T=o.memoizedState;if(T!==null){var O=T.dehydrated;if(Zw(c),w)if(c.flags&256)c.flags&=-257,c=kI(o,c,h);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(r(558));else if(Vn||Jf(o,c,h,!1),w=(h&o.childLanes)!==0,Vn||w){if(m=Ft,m!==null&&(O=ps(m,h),O!==0&&O!==T.retryLane))throw T.retryLane=O,du(o,O),Ai(m,o,O),xS;f0(),c=kI(o,c,h)}else o=T.treeContext,tn=ks(O.nextSibling),Tr=c,ft=!0,wl=null,As=!1,o!==null&&hD(c,o),c=e0(c,m),c.flags|=4096;return c}return o=uo(o.child,{mode:m.mode,children:m.children}),o.ref=c.ref,c.child=o,o.return=c,o}function t0(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function wS(o,c,h,m,w){return gu(c),h=tS(o,c,h,m,void 0,w),m=nS(),o!==null&&!Vn?(rS(o,c,w),yo(o,c,w)):(ft&&m&&Rw(c),c.flags|=1,Ar(o,c,h,w),c.child)}function CI(o,c,h,m,w,T){return gu(c),c.updateQueue=null,h=ND(c,m,h,w),MD(o),m=nS(),o!==null&&!Vn?(rS(o,c,T),yo(o,c,T)):(ft&&m&&Rw(c),c.flags|=1,Ar(o,c,h,T),c.child)}function OI(o,c,h,m,w){if(gu(c),c.stateNode===null){var T=Gf,O=h.contextType;typeof O=="object"&&O!==null&&(T=Er(O)),T=new h(m,T),c.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=vS,c.stateNode=T,T._reactInternals=c,T=c.stateNode,T.props=m,T.state=c.memoizedState,T.refs={},Ww(c),O=h.contextType,T.context=typeof O=="object"&&O!==null?Er(O):Gf,T.state=c.memoizedState,O=h.getDerivedStateFromProps,typeof O=="function"&&(yS(c,h,O,m),T.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(O=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),O!==T.state&&vS.enqueueReplaceState(T,T.state,null),hp(c,m,T,w),dp(),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(o===null){T=c.stateNode;var R=c.memoizedProps,H=Su(h,R);T.props=H;var Z=T.context,se=h.contextType;O=Gf,typeof se=="object"&&se!==null&&(O=Er(se));var ce=h.getDerivedStateFromProps;se=typeof ce=="function"||typeof T.getSnapshotBeforeUpdate=="function",R=c.pendingProps!==R,se||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R||Z!==O)&&mI(c,T,m,O),El=!1;var ee=c.memoizedState;T.state=ee,hp(c,m,T,w),dp(),Z=c.memoizedState,R||ee!==Z||El?(typeof ce=="function"&&(yS(c,h,ce,m),Z=c.memoizedState),(H=El||pI(c,h,H,m,ee,Z,O))?(se||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(c.flags|=4194308)):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=Z),T.props=m,T.state=Z,T.context=O,m=H):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{T=c.stateNode,Gw(o,c),O=c.memoizedProps,se=Su(h,O),T.props=se,ce=c.pendingProps,ee=T.context,Z=h.contextType,H=Gf,typeof Z=="object"&&Z!==null&&(H=Er(Z)),R=h.getDerivedStateFromProps,(Z=typeof R=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(O!==ce||ee!==H)&&mI(c,T,m,H),El=!1,ee=c.memoizedState,T.state=ee,hp(c,m,T,w),dp();var re=c.memoizedState;O!==ce||ee!==re||El||o!==null&&o.dependencies!==null&&Ry(o.dependencies)?(typeof R=="function"&&(yS(c,h,R,m),re=c.memoizedState),(se=El||pI(c,h,se,m,ee,re,H)||o!==null&&o.dependencies!==null&&Ry(o.dependencies))?(Z||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(m,re,H),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(m,re,H)),typeof T.componentDidUpdate=="function"&&(c.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof T.componentDidUpdate!="function"||O===o.memoizedProps&&ee===o.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&ee===o.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=re),T.props=m,T.state=re,T.context=H,m=se):(typeof T.componentDidUpdate!="function"||O===o.memoizedProps&&ee===o.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&ee===o.memoizedState||(c.flags|=1024),m=!1)}return T=m,t0(o,c),m=(c.flags&128)!==0,T||m?(T=c.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:T.render(),c.flags|=1,o!==null&&m?(c.child=xu(c,o.child,null,w),c.child=xu(c,null,h,w)):Ar(o,c,h,w),c.memoizedState=T.state,o=c.child):o=yo(o,c,w),o}function MI(o,c,h,m){return pu(),c.flags|=256,Ar(o,c,h,m),c.child}var SS={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function TS(o){return{baseLanes:o,cachePool:bD()}}function ES(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=Ki),o}function NI(o,c,h){var m=c.pendingProps,w=!1,T=(c.flags&128)!==0,O;if((O=T)||(O=o!==null&&o.memoizedState===null?!1:(Mn.current&2)!==0),O&&(w=!0,c.flags&=-129),O=(c.flags&32)!==0,c.flags&=-33,o===null){if(ft){if(w?kl(c):Cl(),(o=tn)?(o=BP(o,As),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:xl!==null?{id:Pa,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},h=uD(o),h.return=c,c.child=h,Tr=c,tn=null)):o=null,o===null)throw Sl(c);return aT(o)?c.lanes=32:c.lanes=536870912,null}var R=m.children;return m=m.fallback,w?(Cl(),w=c.mode,R=n0({mode:"hidden",children:R},w),m=hu(m,w,h,null),R.return=c,m.return=c,R.sibling=m,c.child=R,m=c.child,m.memoizedState=TS(h),m.childLanes=ES(o,O,h),c.memoizedState=SS,vp(null,m)):(kl(c),AS(c,R))}var H=o.memoizedState;if(H!==null&&(R=H.dehydrated,R!==null)){if(T)c.flags&256?(kl(c),c.flags&=-257,c=_S(o,c,h)):c.memoizedState!==null?(Cl(),c.child=o.child,c.flags|=128,c=null):(Cl(),R=m.fallback,w=c.mode,m=n0({mode:"visible",children:m.children},w),R=hu(R,w,h,null),R.flags|=2,m.return=c,R.return=c,m.sibling=R,c.child=m,xu(c,o.child,null,h),m=c.child,m.memoizedState=TS(h),m.childLanes=ES(o,O,h),c.memoizedState=SS,c=vp(null,m));else if(kl(c),aT(R)){if(O=R.nextSibling&&R.nextSibling.dataset,O)var Z=O.dgst;O=Z,m=Error(r(419)),m.stack="",m.digest=O,ap({value:m,source:null,stack:null}),c=_S(o,c,h)}else if(Vn||Jf(o,c,h,!1),O=(h&o.childLanes)!==0,Vn||O){if(O=Ft,O!==null&&(m=ps(O,h),m!==0&&m!==H.retryLane))throw H.retryLane=m,du(o,m),Ai(O,o,m),xS;sT(R)||f0(),c=_S(o,c,h)}else sT(R)?(c.flags|=192,c.child=o.child,c=null):(o=H.treeContext,tn=ks(R.nextSibling),Tr=c,ft=!0,wl=null,As=!1,o!==null&&hD(c,o),c=AS(c,m.children),c.flags|=4096);return c}return w?(Cl(),R=m.fallback,w=c.mode,H=o.child,Z=H.sibling,m=uo(H,{mode:"hidden",children:m.children}),m.subtreeFlags=H.subtreeFlags&65011712,Z!==null?R=uo(Z,R):(R=hu(R,w,h,null),R.flags|=2),R.return=c,m.return=c,m.sibling=R,c.child=m,vp(null,m),m=c.child,R=o.child.memoizedState,R===null?R=TS(h):(w=R.cachePool,w!==null?(H=Rn._currentValue,w=w.parent!==H?{parent:H,pool:H}:w):w=bD(),R={baseLanes:R.baseLanes|h,cachePool:w}),m.memoizedState=R,m.childLanes=ES(o,O,h),c.memoizedState=SS,vp(o.child,m)):(kl(c),h=o.child,o=h.sibling,h=uo(h,{mode:"visible",children:m.children}),h.return=c,h.sibling=null,o!==null&&(O=c.deletions,O===null?(c.deletions=[o],c.flags|=16):O.push(o)),c.child=h,c.memoizedState=null,h)}function AS(o,c){return c=n0({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function n0(o,c){return o=Fi(22,o,null,c),o.lanes=0,o}function _S(o,c,h){return xu(c,o.child,null,h),o=AS(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function DI(o,c,h){o.lanes|=c;var m=o.alternate;m!==null&&(m.lanes|=c),Uw(o.return,c,h)}function kS(o,c,h,m,w,T){var O=o.memoizedState;O===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:w,treeForkCount:T}:(O.isBackwards=c,O.rendering=null,O.renderingStartTime=0,O.last=m,O.tail=h,O.tailMode=w,O.treeForkCount=T)}function II(o,c,h){var m=c.pendingProps,w=m.revealOrder,T=m.tail;m=m.children;var O=Mn.current,R=(O&2)!==0;if(R?(O=O&1|2,c.flags|=128):O&=1,me(Mn,O),Ar(o,c,m,h),m=ft?sp:0,!R&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&DI(o,h,c);else if(o.tag===19)DI(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(w){case"forwards":for(h=c.child,w=null;h!==null;)o=h.alternate,o!==null&&Hy(o)===null&&(w=h),h=h.sibling;h=w,h===null?(w=c.child,c.child=null):(w=h.sibling,h.sibling=null),kS(c,!1,w,h,T,m);break;case"backwards":case"unstable_legacy-backwards":for(h=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&Hy(o)===null){c.child=w;break}o=w.sibling,w.sibling=h,h=w,w=o}kS(c,!0,h,null,T,m);break;case"together":kS(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function yo(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),Nl|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(Jf(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,h=uo(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=uo(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function CS(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Ry(o)))}function LY(o,c,h){switch(c.tag){case 3:it(c,c.stateNode.containerInfo),Tl(c,Rn,o.memoizedState.cache),pu();break;case 27:case 5:ze(c);break;case 4:it(c,c.stateNode.containerInfo);break;case 10:Tl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Zw(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(kl(c),c.flags|=128,null):(h&c.child.childLanes)!==0?NI(o,c,h):(kl(c),o=yo(o,c,h),o!==null?o.sibling:null);kl(c);break;case 19:var w=(o.flags&128)!==0;if(m=(h&c.childLanes)!==0,m||(Jf(o,c,h,!1),m=(h&c.childLanes)!==0),w){if(m)return II(o,c,h);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),me(Mn,Mn.current),m)break;return null;case 22:return c.lanes=0,AI(o,c,h,c.pendingProps);case 24:Tl(c,Rn,o.memoizedState.cache)}return yo(o,c,h)}function PI(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)Vn=!0;else{if(!CS(o,h)&&(c.flags&128)===0)return Vn=!1,LY(o,c,h);Vn=(o.flags&131072)!==0}else Vn=!1,ft&&(c.flags&1048576)!==0&&dD(c,sp,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(o=vu(c.elementType),c.type=o,typeof o=="function")Iw(o)?(m=Su(o,m),c.tag=1,c=OI(null,c,o,m,h)):(c.tag=0,c=wS(null,c,o,m,h));else{if(o!=null){var w=o.$$typeof;if(w===L){c.tag=11,c=SI(null,c,o,m,h);break e}else if(w===M){c.tag=14,c=TI(null,c,o,m,h);break e}}throw c=pe(o)||o,Error(r(306,c,""))}}return c;case 0:return wS(o,c,c.type,c.pendingProps,h);case 1:return m=c.type,w=Su(m,c.pendingProps),OI(o,c,m,w,h);case 3:e:{if(it(c,c.stateNode.containerInfo),o===null)throw Error(r(387));m=c.pendingProps;var T=c.memoizedState;w=T.element,Gw(o,c),hp(c,m,null,h);var O=c.memoizedState;if(m=O.cache,Tl(c,Rn,m),m!==T.cache&&Fw(c,[Rn],h,!0),dp(),m=O.element,T.isDehydrated)if(T={element:m,isDehydrated:!1,cache:O.cache},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){c=MI(o,c,m,h);break e}else if(m!==w){w=Ss(Error(r(424)),c),ap(w),c=MI(o,c,m,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(tn=ks(o.firstChild),Tr=c,ft=!0,wl=null,As=!0,h=AD(c,null,m,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(pu(),m===w){c=yo(o,c,h);break e}Ar(o,c,m,h)}c=c.child}return c;case 26:return t0(o,c),o===null?(h=qP(c.type,null,c.pendingProps,null))?c.memoizedState=h:ft||(h=c.type,o=c.pendingProps,m=v0(Ie.current).createElement(h),m[Zt]=c,m[mn]=o,_r(m,h,o),bn(m),c.stateNode=m):c.memoizedState=qP(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return ze(c),o===null&&ft&&(m=c.stateNode=FP(c.type,c.pendingProps,Ie.current),Tr=c,As=!0,w=tn,Rl(c.type)?(oT=w,tn=ks(m.firstChild)):tn=w),Ar(o,c,c.pendingProps.children,h),t0(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&ft&&((w=m=tn)&&(m=hX(m,c.type,c.pendingProps,As),m!==null?(c.stateNode=m,Tr=c,tn=ks(m.firstChild),As=!1,w=!0):w=!1),w||Sl(c)),ze(c),w=c.type,T=c.pendingProps,O=o!==null?o.memoizedProps:null,m=T.children,nT(w,T)?m=null:O!==null&&nT(w,O)&&(c.flags|=32),c.memoizedState!==null&&(w=tS(o,c,CY,null,null,h),Ip._currentValue=w),t0(o,c),Ar(o,c,m,h),c.child;case 6:return o===null&&ft&&((o=h=tn)&&(h=pX(h,c.pendingProps,As),h!==null?(c.stateNode=h,Tr=c,tn=null,o=!0):o=!1),o||Sl(c)),null;case 13:return NI(o,c,h);case 4:return it(c,c.stateNode.containerInfo),m=c.pendingProps,o===null?c.child=xu(c,null,m,h):Ar(o,c,m,h),c.child;case 11:return SI(o,c,c.type,c.pendingProps,h);case 7:return Ar(o,c,c.pendingProps,h),c.child;case 8:return Ar(o,c,c.pendingProps.children,h),c.child;case 12:return Ar(o,c,c.pendingProps.children,h),c.child;case 10:return m=c.pendingProps,Tl(c,c.type,m.value),Ar(o,c,m.children,h),c.child;case 9:return w=c.type._context,m=c.pendingProps.children,gu(c),w=Er(w),m=m(w),c.flags|=1,Ar(o,c,m,h),c.child;case 14:return TI(o,c,c.type,c.pendingProps,h);case 15:return EI(o,c,c.type,c.pendingProps,h);case 19:return II(o,c,h);case 31:return RY(o,c,h);case 22:return AI(o,c,h,c.pendingProps);case 24:return gu(c),m=Er(Rn),o===null?(w=qw(),w===null&&(w=Ft,T=$w(),w.pooledCache=T,T.refCount++,T!==null&&(w.pooledCacheLanes|=h),w=T),c.memoizedState={parent:m,cache:w},Ww(c),Tl(c,Rn,w)):((o.lanes&h)!==0&&(Gw(o,c),hp(c,null,null,h),dp()),w=o.memoizedState,T=c.memoizedState,w.parent!==m?(w={parent:m,cache:m},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),Tl(c,Rn,m)):(m=T.cache,Tl(c,Rn,m),m!==w.cache&&Fw(c,[Rn],h,!0))),Ar(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function vo(o){o.flags|=4}function OS(o,c,h,m,w){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(w&335544128)===w)if(o.stateNode.complete)o.flags|=8192;else if(oP())o.flags|=8192;else throw bu=zy,Kw}else o.flags&=-16777217}function jI(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!XP(c))if(oP())o.flags|=8192;else throw bu=zy,Kw}function r0(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?xr():536870912,o.lanes|=c,ud|=c)}function bp(o,c){if(!ft)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function nn(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,m=0;if(c)for(var w=o.child;w!==null;)h|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)h|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=m,o.childLanes=h,c}function VY(o,c,h){var m=c.pendingProps;switch(Lw(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(c),null;case 1:return nn(c),null;case 3:return h=c.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),po(Rn),fe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(Qf(c)?vo(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Bw())),nn(c),null;case 26:var w=c.type,T=c.memoizedState;return o===null?(vo(c),T!==null?(nn(c),jI(c,T)):(nn(c),OS(c,w,null,m,h))):T?T!==o.memoizedState?(vo(c),nn(c),jI(c,T)):(nn(c),c.flags&=-16777217):(o=o.memoizedProps,o!==m&&vo(c),nn(c),OS(c,w,o,m,h)),null;case 27:if(Ke(c),h=Ie.current,w=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==m&&vo(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return nn(c),null}o=we.current,Qf(c)?pD(c):(o=FP(w,m,h),c.stateNode=o,vo(c))}return nn(c),null;case 5:if(Ke(c),w=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==m&&vo(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return nn(c),null}if(T=we.current,Qf(c))pD(c);else{var O=v0(Ie.current);switch(T){case 1:T=O.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:T=O.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":T=O.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":T=O.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":T=O.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof m.is=="string"?O.createElement("select",{is:m.is}):O.createElement("select"),m.multiple?T.multiple=!0:m.size&&(T.size=m.size);break;default:T=typeof m.is=="string"?O.createElement(w,{is:m.is}):O.createElement(w)}}T[Zt]=c,T[mn]=m;e:for(O=c.child;O!==null;){if(O.tag===5||O.tag===6)T.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===c)break e;for(;O.sibling===null;){if(O.return===null||O.return===c)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}c.stateNode=T;e:switch(_r(T,w,m),w){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&vo(c)}}return nn(c),OS(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,h),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==m&&vo(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(r(166));if(o=Ie.current,Qf(c)){if(o=c.stateNode,h=c.memoizedProps,m=null,w=Tr,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}o[Zt]=c,o=!!(o.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||NP(o.nodeValue,h)),o||Sl(c,!0)}else o=v0(o).createTextNode(m),o[Zt]=c,c.stateNode=o}return nn(c),null;case 31:if(h=c.memoizedState,o===null||o.memoizedState!==null){if(m=Qf(c),h!==null){if(o===null){if(!m)throw Error(r(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Zt]=c}else pu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;nn(c),o=!1}else h=Bw(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return c.flags&256?(Hi(c),c):(Hi(c),null);if((c.flags&128)!==0)throw Error(r(558))}return nn(c),null;case 13:if(m=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=Qf(c),m!==null&&m.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[Zt]=c}else pu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;nn(c),w=!1}else w=Bw(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(Hi(c),c):(Hi(c),null)}return Hi(c),(c.flags&128)!==0?(c.lanes=h,c):(h=m!==null,o=o!==null&&o.memoizedState!==null,h&&(m=c.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool),T=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(T=m.memoizedState.cachePool.pool),T!==w&&(m.flags|=2048)),h!==o&&h&&(c.child.flags|=8192),r0(c,c.updateQueue),nn(c),null);case 4:return fe(),o===null&&QS(c.stateNode.containerInfo),nn(c),null;case 10:return po(c.type),nn(c),null;case 19:if(X(Mn),m=c.memoizedState,m===null)return nn(c),null;if(w=(c.flags&128)!==0,T=m.rendering,T===null)if(w)bp(m,!1);else{if(wn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(T=Hy(o),T!==null){for(c.flags|=128,bp(m,!1),o=T.updateQueue,c.updateQueue=o,r0(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)cD(h,o),h=h.sibling;return me(Mn,Mn.current&1|2),ft&&fo(c,m.treeForkCount),c.child}o=o.sibling}m.tail!==null&&Tt()>l0&&(c.flags|=128,w=!0,bp(m,!1),c.lanes=4194304)}else{if(!w)if(o=Hy(T),o!==null){if(c.flags|=128,w=!0,o=o.updateQueue,c.updateQueue=o,r0(c,o),bp(m,!0),m.tail===null&&m.tailMode==="hidden"&&!T.alternate&&!ft)return nn(c),null}else 2*Tt()-m.renderingStartTime>l0&&h!==536870912&&(c.flags|=128,w=!0,bp(m,!1),c.lanes=4194304);m.isBackwards?(T.sibling=c.child,c.child=T):(o=m.last,o!==null?o.sibling=T:c.child=T,m.last=T)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Tt(),o.sibling=null,h=Mn.current,me(Mn,w?h&1|2:h&1),ft&&fo(c,m.treeForkCount),o):(nn(c),null);case 22:case 23:return Hi(c),Jw(),m=c.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(h&536870912)!==0&&(c.flags&128)===0&&(nn(c),c.subtreeFlags&6&&(c.flags|=8192)):nn(c),h=c.updateQueue,h!==null&&r0(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==h&&(c.flags|=2048),o!==null&&X(yu),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),po(Rn),nn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function BY(o,c){switch(Lw(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return po(Rn),fe(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ke(c),null;case 31:if(c.memoizedState!==null){if(Hi(c),c.alternate===null)throw Error(r(340));pu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Hi(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));pu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return X(Mn),null;case 4:return fe(),null;case 10:return po(c.type),null;case 22:case 23:return Hi(c),Jw(),o!==null&&X(yu),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return po(Rn),null;case 25:return null;default:return null}}function RI(o,c){switch(Lw(c),c.tag){case 3:po(Rn),fe();break;case 26:case 27:case 5:Ke(c);break;case 4:fe();break;case 31:c.memoizedState!==null&&Hi(c);break;case 13:Hi(c);break;case 19:X(Mn);break;case 10:po(c.type);break;case 22:case 23:Hi(c),Jw(),o!==null&&X(yu);break;case 24:po(Rn)}}function xp(o,c){try{var h=c.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var w=m.next;h=w;do{if((h.tag&o)===o){m=void 0;var T=h.create,O=h.inst;m=T(),O.destroy=m}h=h.next}while(h!==w)}}catch(R){Ot(c,c.return,R)}}function Ol(o,c,h){try{var m=c.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var T=w.next;m=T;do{if((m.tag&o)===o){var O=m.inst,R=O.destroy;if(R!==void 0){O.destroy=void 0,w=c;var H=h,Z=R;try{Z()}catch(se){Ot(w,H,se)}}}m=m.next}while(m!==T)}}catch(se){Ot(c,c.return,se)}}function LI(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{kD(c,h)}catch(m){Ot(o,o.return,m)}}}function VI(o,c,h){h.props=Su(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(m){Ot(o,c,m)}}function wp(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof h=="function"?o.refCleanup=h(m):h.current=m}}catch(w){Ot(o,c,w)}}function Ra(o,c){var h=o.ref,m=o.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(w){Ot(o,c,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){Ot(o,c,w)}else h.current=null}function BI(o){var c=o.type,h=o.memoizedProps,m=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break e;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(w){Ot(o,o.return,w)}}function MS(o,c,h){try{var m=o.stateNode;oX(m,o.type,h,c),m[mn]=c}catch(w){Ot(o,o.return,w)}}function zI(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Rl(o.type)||o.tag===4}function NS(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||zI(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Rl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function DS(o,c,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=ea));else if(m!==4&&(m===27&&Rl(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(DS(o,c,h),o=o.sibling;o!==null;)DS(o,c,h),o=o.sibling}function i0(o,c,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(m!==4&&(m===27&&Rl(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(i0(o,c,h),o=o.sibling;o!==null;)i0(o,c,h),o=o.sibling}function UI(o){var c=o.stateNode,h=o.memoizedProps;try{for(var m=o.type,w=c.attributes;w.length;)c.removeAttributeNode(w[0]);_r(c,m,h),c[Zt]=o,c[mn]=h}catch(T){Ot(o,o.return,T)}}var bo=!1,Bn=!1,IS=!1,FI=typeof WeakSet=="function"?WeakSet:Set,or=null;function zY(o,c){if(o=o.containerInfo,eT=A0,o=eD(o),_w(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var w=m.anchorOffset,T=m.focusNode;m=m.focusOffset;try{h.nodeType,T.nodeType}catch{h=null;break e}var O=0,R=-1,H=-1,Z=0,se=0,ce=o,ee=null;t:for(;;){for(var re;ce!==h||w!==0&&ce.nodeType!==3||(R=O+w),ce!==T||m!==0&&ce.nodeType!==3||(H=O+m),ce.nodeType===3&&(O+=ce.nodeValue.length),(re=ce.firstChild)!==null;)ee=ce,ce=re;for(;;){if(ce===o)break t;if(ee===h&&++Z===w&&(R=O),ee===T&&++se===m&&(H=O),(re=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=re}h=R===-1||H===-1?null:{start:R,end:H}}else h=null}h=h||{start:0,end:0}}else h=null;for(tT={focusedElem:o,selectionRange:h},A0=!1,or=c;or!==null;)if(c=or,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,or=o;else for(;or!==null;){switch(c=or,T=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)w=o[h],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&T!==null){o=void 0,h=c,w=T.memoizedProps,T=T.memoizedState,m=h.stateNode;try{var Ce=Su(h.type,w);o=m.getSnapshotBeforeUpdate(Ce,T),m.__reactInternalSnapshotBeforeUpdate=o}catch(Ue){Ot(h,h.return,Ue)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)iT(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":iT(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,or=o;break}or=c.return}}function $I(o,c,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:wo(o,h),m&4&&xp(5,h);break;case 1:if(wo(o,h),m&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(O){Ot(h,h.return,O)}else{var w=Su(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(w,c,o.__reactInternalSnapshotBeforeUpdate)}catch(O){Ot(h,h.return,O)}}m&64&&LI(h),m&512&&wp(h,h.return);break;case 3:if(wo(o,h),m&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{kD(o,c)}catch(O){Ot(h,h.return,O)}}break;case 27:c===null&&m&4&&UI(h);case 26:case 5:wo(o,h),c===null&&m&4&&BI(h),m&512&&wp(h,h.return);break;case 12:wo(o,h);break;case 31:wo(o,h),m&4&&KI(o,h);break;case 13:wo(o,h),m&4&&WI(o,h),m&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=YY.bind(null,h),mX(o,h))));break;case 22:if(m=h.memoizedState!==null||bo,!m){c=c!==null&&c.memoizedState!==null||Bn,w=bo;var T=Bn;bo=m,(Bn=c)&&!T?So(o,h,(h.subtreeFlags&8772)!==0):wo(o,h),bo=w,Bn=T}break;case 30:break;default:wo(o,h)}}function HI(o){var c=o.alternate;c!==null&&(o.alternate=null,HI(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&ms(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var cn=null,wi=!1;function xo(o,c,h){for(h=h.child;h!==null;)qI(o,c,h),h=h.sibling}function qI(o,c,h){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(Yn,h)}catch{}switch(h.tag){case 26:Bn||Ra(h,c),xo(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Bn||Ra(h,c);var m=cn,w=wi;Rl(h.type)&&(cn=h.stateNode,wi=!1),xo(o,c,h),Mp(h.stateNode),cn=m,wi=w;break;case 5:Bn||Ra(h,c);case 6:if(m=cn,w=wi,cn=null,xo(o,c,h),cn=m,wi=w,cn!==null)if(wi)try{(cn.nodeType===9?cn.body:cn.nodeName==="HTML"?cn.ownerDocument.body:cn).removeChild(h.stateNode)}catch(T){Ot(h,c,T)}else try{cn.removeChild(h.stateNode)}catch(T){Ot(h,c,T)}break;case 18:cn!==null&&(wi?(o=cn,LP(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),vd(o)):LP(cn,h.stateNode));break;case 4:m=cn,w=wi,cn=h.stateNode.containerInfo,wi=!0,xo(o,c,h),cn=m,wi=w;break;case 0:case 11:case 14:case 15:Ol(2,h,c),Bn||Ol(4,h,c),xo(o,c,h);break;case 1:Bn||(Ra(h,c),m=h.stateNode,typeof m.componentWillUnmount=="function"&&VI(h,c,m)),xo(o,c,h);break;case 21:xo(o,c,h);break;case 22:Bn=(m=Bn)||h.memoizedState!==null,xo(o,c,h),Bn=m;break;default:xo(o,c,h)}}function KI(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{vd(o)}catch(h){Ot(c,c.return,h)}}}function WI(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{vd(o)}catch(h){Ot(c,c.return,h)}}function UY(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new FI),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new FI),c;default:throw Error(r(435,o.tag))}}function s0(o,c){var h=UY(o);c.forEach(function(m){if(!h.has(m)){h.add(m);var w=XY.bind(null,o,m);m.then(w,w)}})}function Si(o,c){var h=c.deletions;if(h!==null)for(var m=0;m<h.length;m++){var w=h[m],T=o,O=c,R=O;e:for(;R!==null;){switch(R.tag){case 27:if(Rl(R.type)){cn=R.stateNode,wi=!1;break e}break;case 5:cn=R.stateNode,wi=!1;break e;case 3:case 4:cn=R.stateNode.containerInfo,wi=!0;break e}R=R.return}if(cn===null)throw Error(r(160));qI(T,O,w),cn=null,wi=!1,T=w.alternate,T!==null&&(T.return=null),w.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)GI(c,o),c=c.sibling}var aa=null;function GI(o,c){var h=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Si(c,o),Ti(o),m&4&&(Ol(3,o,o.return),xp(3,o),Ol(5,o,o.return));break;case 1:Si(c,o),Ti(o),m&512&&(Bn||h===null||Ra(h,h.return)),m&64&&bo&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var w=aa;if(Si(c,o),Ti(o),m&512&&(Bn||h===null||Ra(h,h.return)),m&4){var T=h!==null?h.memoizedState:null;if(m=o.memoizedState,h===null)if(m===null)if(o.stateNode===null){e:{m=o.type,h=o.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":T=w.getElementsByTagName("title")[0],(!T||T[en]||T[Zt]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=w.createElement(m),w.head.insertBefore(T,w.querySelector("head > title"))),_r(T,m,h),T[Zt]=o,bn(T),m=T;break e;case"link":var O=GP("link","href",w).get(m+(h.href||""));if(O){for(var R=0;R<O.length;R++)if(T=O[R],T.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&T.getAttribute("rel")===(h.rel==null?null:h.rel)&&T.getAttribute("title")===(h.title==null?null:h.title)&&T.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){O.splice(R,1);break t}}T=w.createElement(m),_r(T,m,h),w.head.appendChild(T);break;case"meta":if(O=GP("meta","content",w).get(m+(h.content||""))){for(R=0;R<O.length;R++)if(T=O[R],T.getAttribute("content")===(h.content==null?null:""+h.content)&&T.getAttribute("name")===(h.name==null?null:h.name)&&T.getAttribute("property")===(h.property==null?null:h.property)&&T.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&T.getAttribute("charset")===(h.charSet==null?null:h.charSet)){O.splice(R,1);break t}}T=w.createElement(m),_r(T,m,h),w.head.appendChild(T);break;default:throw Error(r(468,m))}T[Zt]=o,bn(T),m=T}o.stateNode=m}else YP(w,o.type,o.stateNode);else o.stateNode=WP(w,m,o.memoizedProps);else T!==m?(T===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):T.count--,m===null?YP(w,o.type,o.stateNode):WP(w,m,o.memoizedProps)):m===null&&o.stateNode!==null&&MS(o,o.memoizedProps,h.memoizedProps)}break;case 27:Si(c,o),Ti(o),m&512&&(Bn||h===null||Ra(h,h.return)),h!==null&&m&4&&MS(o,o.memoizedProps,h.memoizedProps);break;case 5:if(Si(c,o),Ti(o),m&512&&(Bn||h===null||Ra(h,h.return)),o.flags&32){w=o.stateNode;try{xi(w,"")}catch(Ce){Ot(o,o.return,Ce)}}m&4&&o.stateNode!=null&&(w=o.memoizedProps,MS(o,w,h!==null?h.memoizedProps:w)),m&1024&&(IS=!0);break;case 6:if(Si(c,o),Ti(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,h=o.stateNode;try{h.nodeValue=m}catch(Ce){Ot(o,o.return,Ce)}}break;case 3:if(w0=null,w=aa,aa=b0(c.containerInfo),Si(c,o),aa=w,Ti(o),m&4&&h!==null&&h.memoizedState.isDehydrated)try{vd(c.containerInfo)}catch(Ce){Ot(o,o.return,Ce)}IS&&(IS=!1,YI(o));break;case 4:m=aa,aa=b0(o.stateNode.containerInfo),Si(c,o),Ti(o),aa=m;break;case 12:Si(c,o),Ti(o);break;case 31:Si(c,o),Ti(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,s0(o,m)));break;case 13:Si(c,o),Ti(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(o0=Tt()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,s0(o,m)));break;case 22:w=o.memoizedState!==null;var H=h!==null&&h.memoizedState!==null,Z=bo,se=Bn;if(bo=Z||w,Bn=se||H,Si(c,o),Bn=se,bo=Z,Ti(o),m&8192)e:for(c=o.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(h===null||H||bo||Bn||Tu(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){H=h=c;try{if(T=H.stateNode,w)O=T.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{R=H.stateNode;var ce=H.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;R.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Ce){Ot(H,H.return,Ce)}}}else if(c.tag===6){if(h===null){H=c;try{H.stateNode.nodeValue=w?"":H.memoizedProps}catch(Ce){Ot(H,H.return,Ce)}}}else if(c.tag===18){if(h===null){H=c;try{var re=H.stateNode;w?VP(re,!0):VP(H.stateNode,!1)}catch(Ce){Ot(H,H.return,Ce)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=o.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,s0(o,h))));break;case 19:Si(c,o),Ti(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,s0(o,m)));break;case 30:break;case 21:break;default:Si(c,o),Ti(o)}}function Ti(o){var c=o.flags;if(c&2){try{for(var h,m=o.return;m!==null;){if(zI(m)){h=m;break}m=m.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var w=h.stateNode,T=NS(o);i0(o,T,w);break;case 5:var O=h.stateNode;h.flags&32&&(xi(O,""),h.flags&=-33);var R=NS(o);i0(o,R,O);break;case 3:case 4:var H=h.stateNode.containerInfo,Z=NS(o);DS(o,Z,H);break;default:throw Error(r(161))}}catch(se){Ot(o,o.return,se)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function YI(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;YI(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function wo(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)$I(o,c.alternate,c),c=c.sibling}function Tu(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Ol(4,c,c.return),Tu(c);break;case 1:Ra(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&VI(c,c.return,h),Tu(c);break;case 27:Mp(c.stateNode);case 26:case 5:Ra(c,c.return),Tu(c);break;case 22:c.memoizedState===null&&Tu(c);break;case 30:Tu(c);break;default:Tu(c)}o=o.sibling}}function So(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,w=o,T=c,O=T.flags;switch(T.tag){case 0:case 11:case 15:So(w,T,h),xp(4,T);break;case 1:if(So(w,T,h),m=T,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Z){Ot(m,m.return,Z)}if(m=T,w=m.updateQueue,w!==null){var R=m.stateNode;try{var H=w.shared.hiddenCallbacks;if(H!==null)for(w.shared.hiddenCallbacks=null,w=0;w<H.length;w++)_D(H[w],R)}catch(Z){Ot(m,m.return,Z)}}h&&O&64&&LI(T),wp(T,T.return);break;case 27:UI(T);case 26:case 5:So(w,T,h),h&&m===null&&O&4&&BI(T),wp(T,T.return);break;case 12:So(w,T,h);break;case 31:So(w,T,h),h&&O&4&&KI(w,T);break;case 13:So(w,T,h),h&&O&4&&WI(w,T);break;case 22:T.memoizedState===null&&So(w,T,h),wp(T,T.return);break;case 30:break;default:So(w,T,h)}c=c.sibling}}function PS(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&op(h))}function jS(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&op(o))}function oa(o,c,h,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)XI(o,c,h,m),c=c.sibling}function XI(o,c,h,m){var w=c.flags;switch(c.tag){case 0:case 11:case 15:oa(o,c,h,m),w&2048&&xp(9,c);break;case 1:oa(o,c,h,m);break;case 3:oa(o,c,h,m),w&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&op(o)));break;case 12:if(w&2048){oa(o,c,h,m),o=c.stateNode;try{var T=c.memoizedProps,O=T.id,R=T.onPostCommit;typeof R=="function"&&R(O,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(H){Ot(c,c.return,H)}}else oa(o,c,h,m);break;case 31:oa(o,c,h,m);break;case 13:oa(o,c,h,m);break;case 23:break;case 22:T=c.stateNode,O=c.alternate,c.memoizedState!==null?T._visibility&2?oa(o,c,h,m):Sp(o,c):T._visibility&2?oa(o,c,h,m):(T._visibility|=2,od(o,c,h,m,(c.subtreeFlags&10256)!==0||!1)),w&2048&&PS(O,c);break;case 24:oa(o,c,h,m),w&2048&&jS(c.alternate,c);break;default:oa(o,c,h,m)}}function od(o,c,h,m,w){for(w=w&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var T=o,O=c,R=h,H=m,Z=O.flags;switch(O.tag){case 0:case 11:case 15:od(T,O,R,H,w),xp(8,O);break;case 23:break;case 22:var se=O.stateNode;O.memoizedState!==null?se._visibility&2?od(T,O,R,H,w):Sp(T,O):(se._visibility|=2,od(T,O,R,H,w)),w&&Z&2048&&PS(O.alternate,O);break;case 24:od(T,O,R,H,w),w&&Z&2048&&jS(O.alternate,O);break;default:od(T,O,R,H,w)}c=c.sibling}}function Sp(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,m=c,w=m.flags;switch(m.tag){case 22:Sp(h,m),w&2048&&PS(m.alternate,m);break;case 24:Sp(h,m),w&2048&&jS(m.alternate,m);break;default:Sp(h,m)}c=c.sibling}}var Tp=8192;function ld(o,c,h){if(o.subtreeFlags&Tp)for(o=o.child;o!==null;)QI(o,c,h),o=o.sibling}function QI(o,c,h){switch(o.tag){case 26:ld(o,c,h),o.flags&Tp&&o.memoizedState!==null&&kX(h,aa,o.memoizedState,o.memoizedProps);break;case 5:ld(o,c,h);break;case 3:case 4:var m=aa;aa=b0(o.stateNode.containerInfo),ld(o,c,h),aa=m;break;case 22:o.memoizedState===null&&(m=o.alternate,m!==null&&m.memoizedState!==null?(m=Tp,Tp=16777216,ld(o,c,h),Tp=m):ld(o,c,h));break;default:ld(o,c,h)}}function JI(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Ep(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];or=m,eP(m,o)}JI(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ZI(o),o=o.sibling}function ZI(o){switch(o.tag){case 0:case 11:case 15:Ep(o),o.flags&2048&&Ol(9,o,o.return);break;case 3:Ep(o);break;case 12:Ep(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,a0(o)):Ep(o);break;default:Ep(o)}}function a0(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];or=m,eP(m,o)}JI(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Ol(8,c,c.return),a0(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,a0(c));break;default:a0(c)}o=o.sibling}}function eP(o,c){for(;or!==null;){var h=or;switch(h.tag){case 0:case 11:case 15:Ol(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:op(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,or=m;else e:for(h=o;or!==null;){m=or;var w=m.sibling,T=m.return;if(HI(m),m===h){or=null;break e}if(w!==null){w.return=T,or=w;break e}or=T}}}var FY={getCacheForType:function(o){var c=Er(Rn),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h},cacheSignal:function(){return Er(Rn).controller.signal}},$Y=typeof WeakMap=="function"?WeakMap:Map,wt=0,Ft=null,nt=null,at=0,Ct=0,qi=null,Ml=!1,cd=!1,RS=!1,To=0,wn=0,Nl=0,Eu=0,LS=0,Ki=0,ud=0,Ap=null,Ei=null,VS=!1,o0=0,tP=0,l0=1/0,c0=null,Dl=null,Qn=0,Il=null,fd=null,Eo=0,BS=0,zS=null,nP=null,_p=0,US=null;function Wi(){return(wt&2)!==0&&at!==0?at&-at:G.T!==null?WS():ka()}function rP(){if(Ki===0)if((at&536870912)===0||ft){var o=Zs;Zs<<=1,(Zs&3932160)===0&&(Zs=262144),Ki=o}else Ki=536870912;return o=$i.current,o!==null&&(o.flags|=32),Ki}function Ai(o,c,h){(o===Ft&&(Ct===2||Ct===9)||o.cancelPendingCommit!==null)&&(dd(o,0),Pl(o,at,Ki,!1)),gi(o,h),((wt&2)===0||o!==Ft)&&(o===Ft&&((wt&2)===0&&(Eu|=h),wn===4&&Pl(o,at,Ki,!1)),La(o))}function iP(o,c,h){if((wt&6)!==0)throw Error(r(327));var m=!h&&(c&127)===0&&(c&o.expiredLanes)===0||ir(o,c),w=m?KY(o,c):$S(o,c,!0),T=m;do{if(w===0){cd&&!m&&Pl(o,c,0,!1);break}else{if(h=o.current.alternate,T&&!HY(h)){w=$S(o,c,!1),T=!1;continue}if(w===2){if(T=c,o.errorRecoveryDisabledLanes&T)var O=0;else O=o.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){c=O;e:{var R=o;w=Ap;var H=R.current.memoizedState.isDehydrated;if(H&&(dd(R,O).flags|=256),O=$S(R,O,!1),O!==2){if(RS&&!H){R.errorRecoveryDisabledLanes|=T,Eu|=T,w=4;break e}T=Ei,Ei=w,T!==null&&(Ei===null?Ei=T:Ei.push.apply(Ei,T))}w=O}if(T=!1,w!==2)continue}}if(w===1){dd(o,0),Pl(o,c,0,!0);break}e:{switch(m=o,T=w,T){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Pl(m,c,Ki,!Ml);break e;case 2:Ei=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(w=o0+300-Tt(),10<w)){if(Pl(m,c,Ki,!Ml),Ut(m,0,!0)!==0)break e;Eo=c,m.timeoutHandle=jP(sP.bind(null,m,h,Ei,c0,VS,c,Ki,Eu,ud,Ml,T,"Throttled",-0,0),w);break e}sP(m,h,Ei,c0,VS,c,Ki,Eu,ud,Ml,T,null,-0,0)}}break}while(!0);La(o)}function sP(o,c,h,m,w,T,O,R,H,Z,se,ce,ee,re){if(o.timeoutHandle=-1,ce=c.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},QI(c,T,ce);var Ce=(T&62914560)===T?o0-Tt():(T&4194048)===T?tP-Tt():0;if(Ce=CX(ce,Ce),Ce!==null){Eo=T,o.cancelPendingCommit=Ce(hP.bind(null,o,c,T,h,m,w,O,R,H,se,ce,null,ee,re)),Pl(o,T,O,!Z);return}}hP(o,c,T,h,m,w,O,R,H)}function HY(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var w=h[m],T=w.getSnapshot;w=w.value;try{if(!Ui(T(),w))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Pl(o,c,h,m){c&=~LS,c&=~Eu,o.suspendedLanes|=c,o.pingedLanes&=~c,m&&(o.warmLanes|=c),m=o.expirationTimes;for(var w=c;0<w;){var T=31-Wt(w),O=1<<T;m[T]=-1,w&=~O}h!==0&&ds(o,h,c)}function u0(){return(wt&6)===0?(kp(0),!1):!0}function FS(){if(nt!==null){if(Ct===0)var o=nt.return;else o=nt,ho=mu=null,iS(o),nd=null,cp=0,o=nt;for(;o!==null;)RI(o.alternate,o),o=o.return;nt=null}}function dd(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,uX(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),Eo=0,FS(),Ft=o,nt=h=uo(o.current,null),at=c,Ct=0,qi=null,Ml=!1,cd=ir(o,c),RS=!1,ud=Ki=LS=Eu=Nl=wn=0,Ei=Ap=null,VS=!1,(c&8)!==0&&(c|=c&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=c;0<m;){var w=31-Wt(m),T=1<<w;c|=o[w],m&=~T}return To=c,Ny(),h}function aP(o,c){Je=null,G.H=yp,c===td||c===By?(c=SD(),Ct=3):c===Kw?(c=SD(),Ct=4):Ct=c===xS?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,qi=c,nt===null&&(wn=1,Zy(o,Ss(c,o.current)))}function oP(){var o=$i.current;return o===null?!0:(at&4194048)===at?_s===null:(at&62914560)===at||(at&536870912)!==0?o===_s:!1}function lP(){var o=G.H;return G.H=yp,o===null?yp:o}function cP(){var o=G.A;return G.A=FY,o}function f0(){wn=4,Ml||(at&4194048)!==at&&$i.current!==null||(cd=!0),(Nl&134217727)===0&&(Eu&134217727)===0||Ft===null||Pl(Ft,at,Ki,!1)}function $S(o,c,h){var m=wt;wt|=2;var w=lP(),T=cP();(Ft!==o||at!==c)&&(c0=null,dd(o,c)),c=!1;var O=wn;e:do try{if(Ct!==0&&nt!==null){var R=nt,H=qi;switch(Ct){case 8:FS(),O=6;break e;case 3:case 2:case 9:case 6:$i.current===null&&(c=!0);var Z=Ct;if(Ct=0,qi=null,hd(o,R,H,Z),h&&cd){O=0;break e}break;default:Z=Ct,Ct=0,qi=null,hd(o,R,H,Z)}}qY(),O=wn;break}catch(se){aP(o,se)}while(!0);return c&&o.shellSuspendCounter++,ho=mu=null,wt=m,G.H=w,G.A=T,nt===null&&(Ft=null,at=0,Ny()),O}function qY(){for(;nt!==null;)uP(nt)}function KY(o,c){var h=wt;wt|=2;var m=lP(),w=cP();Ft!==o||at!==c?(c0=null,l0=Tt()+500,dd(o,c)):cd=ir(o,c);e:do try{if(Ct!==0&&nt!==null){c=nt;var T=qi;t:switch(Ct){case 1:Ct=0,qi=null,hd(o,c,T,1);break;case 2:case 9:if(xD(T)){Ct=0,qi=null,fP(c);break}c=function(){Ct!==2&&Ct!==9||Ft!==o||(Ct=7),La(o)},T.then(c,c);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:xD(T)?(Ct=0,qi=null,fP(c)):(Ct=0,qi=null,hd(o,c,T,7));break;case 5:var O=null;switch(nt.tag){case 26:O=nt.memoizedState;case 5:case 27:var R=nt;if(O?XP(O):R.stateNode.complete){Ct=0,qi=null;var H=R.sibling;if(H!==null)nt=H;else{var Z=R.return;Z!==null?(nt=Z,d0(Z)):nt=null}break t}}Ct=0,qi=null,hd(o,c,T,5);break;case 6:Ct=0,qi=null,hd(o,c,T,6);break;case 8:FS(),wn=6;break e;default:throw Error(r(462))}}WY();break}catch(se){aP(o,se)}while(!0);return ho=mu=null,G.H=m,G.A=w,wt=h,nt!==null?0:(Ft=null,at=0,Ny(),wn)}function WY(){for(;nt!==null&&!rr();)uP(nt)}function uP(o){var c=PI(o.alternate,o,To);o.memoizedProps=o.pendingProps,c===null?d0(o):nt=c}function fP(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=CI(h,c,c.pendingProps,c.type,void 0,at);break;case 11:c=CI(h,c,c.pendingProps,c.type.render,c.ref,at);break;case 5:iS(c);default:RI(h,c),c=nt=cD(c,To),c=PI(h,c,To)}o.memoizedProps=o.pendingProps,c===null?d0(o):nt=c}function hd(o,c,h,m){ho=mu=null,iS(c),nd=null,cp=0;var w=c.return;try{if(jY(o,w,c,h,at)){wn=1,Zy(o,Ss(h,o.current)),nt=null;return}}catch(T){if(w!==null)throw nt=w,T;wn=1,Zy(o,Ss(h,o.current)),nt=null;return}c.flags&32768?(ft||m===1?o=!0:cd||(at&536870912)!==0?o=!1:(Ml=o=!0,(m===2||m===9||m===3||m===6)&&(m=$i.current,m!==null&&m.tag===13&&(m.flags|=16384))),dP(c,o)):d0(c)}function d0(o){var c=o;do{if((c.flags&32768)!==0){dP(c,Ml);return}o=c.return;var h=VY(c.alternate,c,To);if(h!==null){nt=h;return}if(c=c.sibling,c!==null){nt=c;return}nt=c=o}while(c!==null);wn===0&&(wn=5)}function dP(o,c){do{var h=BY(o.alternate,o);if(h!==null){h.flags&=32767,nt=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){nt=o;return}nt=o=h}while(o!==null);wn=6,nt=null}function hP(o,c,h,m,w,T,O,R,H){o.cancelPendingCommit=null;do h0();while(Qn!==0);if((wt&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(T=c.lanes|c.childLanes,T|=Nw,fl(o,h,T,O,R,H),o===Ft&&(nt=Ft=null,at=0),fd=c,Il=o,Eo=h,BS=T,zS=w,nP=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,QY(Vi,function(){return vP(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,w=K.p,K.p=2,O=wt,wt|=4;try{zY(o,c,h)}finally{wt=O,K.p=w,G.T=m}}Qn=1,pP(),mP(),gP()}}function pP(){if(Qn===1){Qn=0;var o=Il,c=fd,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=G.T,G.T=null;var m=K.p;K.p=2;var w=wt;wt|=4;try{GI(c,o);var T=tT,O=eD(o.containerInfo),R=T.focusedElem,H=T.selectionRange;if(O!==R&&R&&R.ownerDocument&&ZN(R.ownerDocument.documentElement,R)){if(H!==null&&_w(R)){var Z=H.start,se=H.end;if(se===void 0&&(se=Z),"selectionStart"in R)R.selectionStart=Z,R.selectionEnd=Math.min(se,R.value.length);else{var ce=R.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var re=ee.getSelection(),Ce=R.textContent.length,Ue=Math.min(H.start,Ce),Bt=H.end===void 0?Ue:Math.min(H.end,Ce);!re.extend&&Ue>Bt&&(O=Bt,Bt=Ue,Ue=O);var Y=JN(R,Ue),W=JN(R,Bt);if(Y&&W&&(re.rangeCount!==1||re.anchorNode!==Y.node||re.anchorOffset!==Y.offset||re.focusNode!==W.node||re.focusOffset!==W.offset)){var J=ce.createRange();J.setStart(Y.node,Y.offset),re.removeAllRanges(),Ue>Bt?(re.addRange(J),re.extend(W.node,W.offset)):(J.setEnd(W.node,W.offset),re.addRange(J))}}}}for(ce=[],re=R;re=re.parentNode;)re.nodeType===1&&ce.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ce.length;R++){var oe=ce[R];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}A0=!!eT,tT=eT=null}finally{wt=w,K.p=m,G.T=h}}o.current=c,Qn=2}}function mP(){if(Qn===2){Qn=0;var o=Il,c=fd,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=G.T,G.T=null;var m=K.p;K.p=2;var w=wt;wt|=4;try{$I(o,c.alternate,c)}finally{wt=w,K.p=m,G.T=h}}Qn=3}}function gP(){if(Qn===4||Qn===3){Qn=0,Cn();var o=Il,c=fd,h=Eo,m=nP;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Qn=5:(Qn=0,fd=Il=null,yP(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(Dl=null),Jr(h),c=c.stateNode,vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(Yn,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=G.T,w=K.p,K.p=2,G.T=null;try{for(var T=o.onRecoverableError,O=0;O<m.length;O++){var R=m[O];T(R.value,{componentStack:R.stack})}}finally{G.T=c,K.p=w}}(Eo&3)!==0&&h0(),La(o),w=o.pendingLanes,(h&261930)!==0&&(w&42)!==0?o===US?_p++:(_p=0,US=o):_p=0,kp(0)}}function yP(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,op(c)))}function h0(){return pP(),mP(),gP(),vP()}function vP(){if(Qn!==5)return!1;var o=Il,c=BS;BS=0;var h=Jr(Eo),m=G.T,w=K.p;try{K.p=32>h?32:h,G.T=null,h=zS,zS=null;var T=Il,O=Eo;if(Qn=0,fd=Il=null,Eo=0,(wt&6)!==0)throw Error(r(331));var R=wt;if(wt|=4,ZI(T.current),XI(T,T.current,O,h),wt=R,kp(0,!1),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(Yn,T)}catch{}return!0}finally{K.p=w,G.T=m,yP(o,c)}}function bP(o,c,h){c=Ss(h,c),c=bS(o.stateNode,c,2),o=_l(o,c,2),o!==null&&(gi(o,2),La(o))}function Ot(o,c,h){if(o.tag===3)bP(o,o,h);else for(;c!==null;){if(c.tag===3){bP(c,o,h);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Dl===null||!Dl.has(m))){o=Ss(h,o),h=xI(2),m=_l(c,h,2),m!==null&&(wI(h,m,c,o),gi(m,2),La(m));break}}c=c.return}}function HS(o,c,h){var m=o.pingCache;if(m===null){m=o.pingCache=new $Y;var w=new Set;m.set(c,w)}else w=m.get(c),w===void 0&&(w=new Set,m.set(c,w));w.has(h)||(RS=!0,w.add(h),o=GY.bind(null,o,c,h),c.then(o,o))}function GY(o,c,h){var m=o.pingCache;m!==null&&m.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Ft===o&&(at&h)===h&&(wn===4||wn===3&&(at&62914560)===at&&300>Tt()-o0?(wt&2)===0&&dd(o,0):LS|=h,ud===at&&(ud=0)),La(o)}function xP(o,c){c===0&&(c=xr()),o=du(o,c),o!==null&&(gi(o,c),La(o))}function YY(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),xP(o,h)}function XY(o,c){var h=0;switch(o.tag){case 31:case 13:var m=o.stateNode,w=o.memoizedState;w!==null&&(h=w.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(c),xP(o,h)}function QY(o,c){return pn(o,c)}var p0=null,pd=null,qS=!1,m0=!1,KS=!1,jl=0;function La(o){o!==pd&&o.next===null&&(pd===null?p0=pd=o:pd=pd.next=o),m0=!0,qS||(qS=!0,ZY())}function kp(o,c){if(!KS&&m0){KS=!0;do for(var h=!1,m=p0;m!==null;){if(o!==0){var w=m.pendingLanes;if(w===0)var T=0;else{var O=m.suspendedLanes,R=m.pingedLanes;T=(1<<31-Wt(42|o)+1)-1,T&=w&~(O&~R),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(h=!0,EP(m,T))}else T=at,T=Ut(m,m===Ft?T:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(T&3)===0||ir(m,T)||(h=!0,EP(m,T));m=m.next}while(h);KS=!1}}function JY(){wP()}function wP(){m0=qS=!1;var o=0;jl!==0&&cX()&&(o=jl);for(var c=Tt(),h=null,m=p0;m!==null;){var w=m.next,T=SP(m,c);T===0?(m.next=null,h===null?p0=w:h.next=w,w===null&&(pd=h)):(h=m,(o!==0||(T&3)!==0)&&(m0=!0)),m=w}Qn!==0&&Qn!==5||kp(o),jl!==0&&(jl=0)}function SP(o,c){for(var h=o.suspendedLanes,m=o.pingedLanes,w=o.expirationTimes,T=o.pendingLanes&-62914561;0<T;){var O=31-Wt(T),R=1<<O,H=w[O];H===-1?((R&h)===0||(R&m)!==0)&&(w[O]=Et(R,c)):H<=c&&(o.expiredLanes|=R),T&=~R}if(c=Ft,h=at,h=Ut(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,h===0||o===c&&(Ct===2||Ct===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&us(m),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||ir(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(m!==null&&us(m),Jr(h)){case 2:case 8:h=io;break;case 32:h=Vi;break;case 268435456:h=Ea;break;default:h=Vi}return m=TP.bind(null,o),h=pn(h,m),o.callbackPriority=c,o.callbackNode=h,c}return m!==null&&m!==null&&us(m),o.callbackPriority=2,o.callbackNode=null,2}function TP(o,c){if(Qn!==0&&Qn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(h0()&&o.callbackNode!==h)return null;var m=at;return m=Ut(o,o===Ft?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(iP(o,m,c),SP(o,Tt()),o.callbackNode!=null&&o.callbackNode===h?TP.bind(null,o):null)}function EP(o,c){if(h0())return null;iP(o,c,!0)}function ZY(){fX(function(){(wt&6)!==0?pn(Qs,JY):wP()})}function WS(){if(jl===0){var o=Zf;o===0&&(o=Qr,Qr<<=1,(Qr&261888)===0&&(Qr=256)),jl=o}return jl}function AP(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Vf(""+o)}function _P(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function eX(o,c,h,m,w){if(c==="submit"&&h&&h.stateNode===w){var T=AP((w[mn]||null).action),O=m.submitter;O&&(c=(c=O[mn]||null)?AP(c.formAction):O.getAttribute("formAction"),c!==null&&(T=c,O=null));var R=new Ma("action","action",null,m,w);o.push({event:R,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(jl!==0){var H=O?_P(w,O):new FormData(w);hS(h,{pending:!0,data:H,method:w.method,action:T},null,H)}}else typeof T=="function"&&(R.preventDefault(),H=O?_P(w,O):new FormData(w),hS(h,{pending:!0,data:H,method:w.method,action:T},T,H))},currentTarget:w}]})}}for(var GS=0;GS<Mw.length;GS++){var YS=Mw[GS],tX=YS.toLowerCase(),nX=YS[0].toUpperCase()+YS.slice(1);sa(tX,"on"+nX)}sa(rD,"onAnimationEnd"),sa(iD,"onAnimationIteration"),sa(sD,"onAnimationStart"),sa("dblclick","onDoubleClick"),sa("focusin","onFocus"),sa("focusout","onBlur"),sa(vY,"onTransitionRun"),sa(bY,"onTransitionStart"),sa(xY,"onTransitionCancel"),sa(aD,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cp));function kP(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var m=o[h],w=m.event;m=m.listeners;e:{var T=void 0;if(c)for(var O=m.length-1;0<=O;O--){var R=m[O],H=R.instance,Z=R.currentTarget;if(R=R.listener,H!==T&&w.isPropagationStopped())break e;T=R,w.currentTarget=Z;try{T(w)}catch(se){My(se)}w.currentTarget=null,T=H}else for(O=0;O<m.length;O++){if(R=m[O],H=R.instance,Z=R.currentTarget,R=R.listener,H!==T&&w.isPropagationStopped())break e;T=R,w.currentTarget=Z;try{T(w)}catch(se){My(se)}w.currentTarget=null,T=H}}}}function rt(o,c){var h=c[We];h===void 0&&(h=c[We]=new Set);var m=o+"__bubble";h.has(m)||(CP(c,o,2,!1),h.add(m))}function XS(o,c,h){var m=0;c&&(m|=4),CP(h,o,m,c)}var g0="_reactListening"+Math.random().toString(36).slice(2);function QS(o){if(!o[g0]){o[g0]=!0,Jc.forEach(function(h){h!=="selectionchange"&&(rX.has(h)||XS(h,!1,o),XS(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[g0]||(c[g0]=!0,XS("selectionchange",!1,c))}}function CP(o,c,h,m){switch(rj(c)){case 2:var w=NX;break;case 8:w=DX;break;default:w=dT}h=w.bind(null,c,h,o),w=void 0,!iu||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),m?w!==void 0?o.addEventListener(c,h,{capture:!0,passive:w}):o.addEventListener(c,h,!0):w!==void 0?o.addEventListener(c,h,{passive:w}):o.addEventListener(c,h,!1)}function JS(o,c,h,m,w){var T=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var R=m.stateNode.containerInfo;if(R===w)break;if(O===4)for(O=m.return;O!==null;){var H=O.tag;if((H===3||H===4)&&O.stateNode.containerInfo===w)return;O=O.return}for(;R!==null;){if(O=vi(R),O===null)return;if(H=O.tag,H===5||H===6||H===26||H===27){m=T=O;continue e}R=R.parentNode}}m=m.return}gl(function(){var Z=T,se=vs(h),ce=[];e:{var ee=oD.get(o);if(ee!==void 0){var re=Ma,Ce=o;switch(o){case"keypress":if(au(h)===0)break e;case"keydown":case"keyup":re=ky;break;case"focusin":Ce="focus",re=lu;break;case"focusout":Ce="blur",re=lu;break;case"beforeblur":case"afterblur":re=lu;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Zh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=vy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=k;break;case rD:case iD:case sD:re=xy;break;case aD:re=z;break;case"scroll":case"scrollend":re=Jh;break;case"wheel":re=ne;break;case"copy":case"cut":case"paste":re=wy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=co;break;case"toggle":case"beforetoggle":re=Qe}var Ue=(c&4)!==0,Bt=!Ue&&(o==="scroll"||o==="scrollend"),Y=Ue?ee!==null?ee+"Capture":null:ee;Ue=[];for(var W=Z,J;W!==null;){var oe=W;if(J=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||J===null||Y===null||(oe=ta(W,Y),oe!=null&&Ue.push(Op(W,oe,J))),Bt)break;W=W.return}0<Ue.length&&(ee=new re(ee,Ce,null,h,se),ce.push({event:ee,listeners:Ue}))}}if((c&7)===0){e:{if(ee=o==="mouseover"||o==="pointerover",re=o==="mouseout"||o==="pointerout",ee&&h!==Yh&&(Ce=h.relatedTarget||h.fromElement)&&(vi(Ce)||Ce[yi]))break e;if((re||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,re?(Ce=h.relatedTarget||h.toElement,re=Z,Ce=Ce?vi(Ce):null,Ce!==null&&(Bt=s(Ce),Ue=Ce.tag,Ce!==Bt||Ue!==5&&Ue!==27&&Ue!==6)&&(Ce=null)):(re=null,Ce=Z),re!==Ce)){if(Ue=Zh,oe="onMouseLeave",Y="onMouseEnter",W="mouse",(o==="pointerout"||o==="pointerover")&&(Ue=co,oe="onPointerLeave",Y="onPointerEnter",W="pointer"),Bt=re==null?ee:ei(re),J=Ce==null?ee:ei(Ce),ee=new Ue(oe,W+"leave",re,h,se),ee.target=Bt,ee.relatedTarget=J,oe=null,vi(se)===Z&&(Ue=new Ue(Y,W+"enter",Ce,h,se),Ue.target=J,Ue.relatedTarget=Bt,oe=Ue),Bt=oe,re&&Ce)t:{for(Ue=iX,Y=re,W=Ce,J=0,oe=Y;oe;oe=Ue(oe))J++;oe=0;for(var Pe=W;Pe;Pe=Ue(Pe))oe++;for(;0<J-oe;)Y=Ue(Y),J--;for(;0<oe-J;)W=Ue(W),oe--;for(;J--;){if(Y===W||W!==null&&Y===W.alternate){Ue=Y;break t}Y=Ue(Y),W=Ue(W)}Ue=null}else Ue=null;re!==null&&OP(ce,ee,re,Ue,!1),Ce!==null&&Bt!==null&&OP(ce,Bt,Ce,Ue,!0)}}e:{if(ee=Z?ei(Z):window,re=ee.nodeName&&ee.nodeName.toLowerCase(),re==="select"||re==="input"&&ee.type==="file")var mt=KN;else if(HN(ee))if(WN)mt=mY;else{mt=hY;var Me=dY}else re=ee.nodeName,!re||re.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Lf(Z.elementType)&&(mt=KN):mt=pY;if(mt&&(mt=mt(o,Z))){qN(ce,mt,h,se);break e}Me&&Me(o,ee,Z),o==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Kh(ee,"number",ee.value)}switch(Me=Z?ei(Z):window,o){case"focusin":(HN(Me)||Me.contentEditable==="true")&&(qf=Me,kw=Z,ip=null);break;case"focusout":ip=kw=qf=null;break;case"mousedown":Cw=!0;break;case"contextmenu":case"mouseup":case"dragend":Cw=!1,tD(ce,h,se);break;case"selectionchange":if(yY)break;case"keydown":case"keyup":tD(ce,h,se)}var Ze;if(xt)e:{switch(o){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Hf?cu(o,h)&&(ot="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(ot="onCompositionStart");ot&&(Ia&&h.locale!=="ko"&&(Hf||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Hf&&(Ze=Qh()):(Oa=se,Xh="value"in Oa?Oa.value:Oa.textContent,Hf=!0)),Me=y0(Z,ot),0<Me.length&&(ot=new Da(ot,o,null,h,se),ce.push({event:ot,listeners:Me}),Ze?ot.data=Ze:(Ze=$f(h),Ze!==null&&(ot.data=Ze)))),(Ze=xs?lY(o,h):cY(o,h))&&(ot=y0(Z,"onBeforeInput"),0<ot.length&&(Me=new Da("onBeforeInput","beforeinput",null,h,se),ce.push({event:Me,listeners:ot}),Me.data=Ze)),eX(ce,o,Z,h,se)}kP(ce,c)})}function Op(o,c,h){return{instance:o,listener:c,currentTarget:h}}function y0(o,c){for(var h=c+"Capture",m=[];o!==null;){var w=o,T=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||T===null||(w=ta(o,h),w!=null&&m.unshift(Op(o,w,T)),w=ta(o,c),w!=null&&m.push(Op(o,w,T))),o.tag===3)return m;o=o.return}return[]}function iX(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function OP(o,c,h,m,w){for(var T=c._reactName,O=[];h!==null&&h!==m;){var R=h,H=R.alternate,Z=R.stateNode;if(R=R.tag,H!==null&&H===m)break;R!==5&&R!==26&&R!==27||Z===null||(H=Z,w?(Z=ta(h,T),Z!=null&&O.unshift(Op(h,Z,H))):w||(Z=ta(h,T),Z!=null&&O.push(Op(h,Z,H)))),h=h.return}O.length!==0&&o.push({event:c,listeners:O})}var sX=/\r\n?/g,aX=/\u0000|\uFFFD/g;function MP(o){return(typeof o=="string"?o:""+o).replace(sX,`
`).replace(aX,"")}function NP(o,c){return c=MP(c),MP(o)===c}function Vt(o,c,h,m,w,T){switch(h){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||xi(o,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&xi(o,""+m);break;case"className":Xn(o,"class",m);break;case"tabIndex":Xn(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(o,h,m);break;case"style":Gh(o,m,T);break;case"data":if(c!=="object"){Xn(o,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(h);break}m=Vf(""+m),o.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(h==="formAction"?(c!=="input"&&Vt(o,c,"name",w.name,w,null),Vt(o,c,"formEncType",w.formEncType,w,null),Vt(o,c,"formMethod",w.formMethod,w,null),Vt(o,c,"formTarget",w.formTarget,w,null)):(Vt(o,c,"encType",w.encType,w,null),Vt(o,c,"method",w.method,w,null),Vt(o,c,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(h);break}m=Vf(""+m),o.setAttribute(h,m);break;case"onClick":m!=null&&(o.onclick=ea);break;case"onScroll":m!=null&&rt("scroll",o);break;case"onScrollEnd":m!=null&&rt("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}h=Vf(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,""+m):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":m===!0?o.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,m):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(h,m):o.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(h):o.setAttribute(h,m);break;case"popover":rt("beforetoggle",o),rt("toggle",o),jt(o,"popover",m);break;case"xlinkActuate":Gt(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Gt(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Gt(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Gt(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Gt(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Gt(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Gt(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Gt(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Gt(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":jt(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=yy.get(h)||h,jt(o,h,m))}}function ZS(o,c,h,m,w,T){switch(h){case"style":Gh(o,m,T);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof m=="string"?xi(o,m):(typeof m=="number"||typeof m=="bigint")&&xi(o,""+m);break;case"onScroll":m!=null&&rt("scroll",o);break;case"onScrollEnd":m!=null&&rt("scrollend",o);break;case"onClick":m!=null&&(o.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zc.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),c=h.slice(2,w?h.length-7:void 0),T=o[mn]||null,T=T!=null?T[h]:null,typeof T=="function"&&o.removeEventListener(c,T,w),typeof m=="function")){typeof T!="function"&&T!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,m,w);break e}h in o?o[h]=m:m===!0?o.setAttribute(h,""):jt(o,h,m)}}}function _r(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",o),rt("load",o);var m=!1,w=!1,T;for(T in h)if(h.hasOwnProperty(T)){var O=h[T];if(O!=null)switch(T){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Vt(o,c,T,O,h,null)}}w&&Vt(o,c,"srcSet",h.srcSet,h,null),m&&Vt(o,c,"src",h.src,h,null);return;case"input":rt("invalid",o);var R=T=O=w=null,H=null,Z=null;for(m in h)if(h.hasOwnProperty(m)){var se=h[m];if(se!=null)switch(m){case"name":w=se;break;case"type":O=se;break;case"checked":H=se;break;case"defaultChecked":Z=se;break;case"value":T=se;break;case"defaultValue":R=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,c));break;default:Vt(o,c,m,se,h,null)}}py(o,T,R,H,Z,O,w,!1);return;case"select":rt("invalid",o),m=O=T=null;for(w in h)if(h.hasOwnProperty(w)&&(R=h[w],R!=null))switch(w){case"value":T=R;break;case"defaultValue":O=R;break;case"multiple":m=R;default:Vt(o,c,w,R,h,null)}c=T,h=O,o.multiple=!!m,c!=null?dl(o,!!m,c,!1):h!=null&&dl(o,!!m,h,!0);return;case"textarea":rt("invalid",o),T=w=m=null;for(O in h)if(h.hasOwnProperty(O)&&(R=h[O],R!=null))switch(O){case"value":m=R;break;case"defaultValue":w=R;break;case"children":T=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:Vt(o,c,O,R,h,null)}hl(o,m,w,T);return;case"option":for(H in h)if(h.hasOwnProperty(H)&&(m=h[H],m!=null))switch(H){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Vt(o,c,H,m,h,null)}return;case"dialog":rt("beforetoggle",o),rt("toggle",o),rt("cancel",o),rt("close",o);break;case"iframe":case"object":rt("load",o);break;case"video":case"audio":for(m=0;m<Cp.length;m++)rt(Cp[m],o);break;case"image":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"embed":case"source":case"link":rt("error",o),rt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in h)if(h.hasOwnProperty(Z)&&(m=h[Z],m!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Vt(o,c,Z,m,h,null)}return;default:if(Lf(c)){for(se in h)h.hasOwnProperty(se)&&(m=h[se],m!==void 0&&ZS(o,c,se,m,h,void 0));return}}for(R in h)h.hasOwnProperty(R)&&(m=h[R],m!=null&&Vt(o,c,R,m,h,null))}function oX(o,c,h,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,T=null,O=null,R=null,H=null,Z=null,se=null;for(re in h){var ce=h[re];if(h.hasOwnProperty(re)&&ce!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":H=ce;default:m.hasOwnProperty(re)||Vt(o,c,re,null,m,ce)}}for(var ee in m){var re=m[ee];if(ce=h[ee],m.hasOwnProperty(ee)&&(re!=null||ce!=null))switch(ee){case"type":T=re;break;case"name":w=re;break;case"checked":Z=re;break;case"defaultChecked":se=re;break;case"value":O=re;break;case"defaultValue":R=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,c));break;default:re!==ce&&Vt(o,c,ee,re,m,ce)}}Rf(o,O,R,H,Z,se,T,w);return;case"select":re=O=R=ee=null;for(T in h)if(H=h[T],h.hasOwnProperty(T)&&H!=null)switch(T){case"value":break;case"multiple":re=H;default:m.hasOwnProperty(T)||Vt(o,c,T,null,m,H)}for(w in m)if(T=m[w],H=h[w],m.hasOwnProperty(w)&&(T!=null||H!=null))switch(w){case"value":ee=T;break;case"defaultValue":R=T;break;case"multiple":O=T;default:T!==H&&Vt(o,c,w,T,m,H)}c=R,h=O,m=re,ee!=null?dl(o,!!h,ee,!1):!!m!=!!h&&(c!=null?dl(o,!!h,c,!0):dl(o,!!h,h?[]:"",!1));return;case"textarea":re=ee=null;for(R in h)if(w=h[R],h.hasOwnProperty(R)&&w!=null&&!m.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Vt(o,c,R,null,m,w)}for(O in m)if(w=m[O],T=h[O],m.hasOwnProperty(O)&&(w!=null||T!=null))switch(O){case"value":ee=w;break;case"defaultValue":re=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==T&&Vt(o,c,O,w,m,T)}my(o,ee,re);return;case"option":for(var Ce in h)if(ee=h[Ce],h.hasOwnProperty(Ce)&&ee!=null&&!m.hasOwnProperty(Ce))switch(Ce){case"selected":o.selected=!1;break;default:Vt(o,c,Ce,null,m,ee)}for(H in m)if(ee=m[H],re=h[H],m.hasOwnProperty(H)&&ee!==re&&(ee!=null||re!=null))switch(H){case"selected":o.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Vt(o,c,H,ee,m,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in h)ee=h[Ue],h.hasOwnProperty(Ue)&&ee!=null&&!m.hasOwnProperty(Ue)&&Vt(o,c,Ue,null,m,ee);for(Z in m)if(ee=m[Z],re=h[Z],m.hasOwnProperty(Z)&&ee!==re&&(ee!=null||re!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,c));break;default:Vt(o,c,Z,ee,m,re)}return;default:if(Lf(c)){for(var Bt in h)ee=h[Bt],h.hasOwnProperty(Bt)&&ee!==void 0&&!m.hasOwnProperty(Bt)&&ZS(o,c,Bt,void 0,m,ee);for(se in m)ee=m[se],re=h[se],!m.hasOwnProperty(se)||ee===re||ee===void 0&&re===void 0||ZS(o,c,se,ee,m,re);return}}for(var Y in h)ee=h[Y],h.hasOwnProperty(Y)&&ee!=null&&!m.hasOwnProperty(Y)&&Vt(o,c,Y,null,m,ee);for(ce in m)ee=m[ce],re=h[ce],!m.hasOwnProperty(ce)||ee===re||ee==null&&re==null||Vt(o,c,ce,ee,m,re)}function DP(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lX(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,h=performance.getEntriesByType("resource"),m=0;m<h.length;m++){var w=h[m],T=w.transferSize,O=w.initiatorType,R=w.duration;if(T&&R&&DP(O)){for(O=0,R=w.responseEnd,m+=1;m<h.length;m++){var H=h[m],Z=H.startTime;if(Z>R)break;var se=H.transferSize,ce=H.initiatorType;se&&DP(ce)&&(H=H.responseEnd,O+=se*(H<R?1:(R-Z)/(H-Z)))}if(--m,c+=8*(T+O)/(w.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var eT=null,tT=null;function v0(o){return o.nodeType===9?o:o.ownerDocument}function IP(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function PP(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function nT(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var rT=null;function cX(){var o=window.event;return o&&o.type==="popstate"?o===rT?!1:(rT=o,!0):(rT=null,!1)}var jP=typeof setTimeout=="function"?setTimeout:void 0,uX=typeof clearTimeout=="function"?clearTimeout:void 0,RP=typeof Promise=="function"?Promise:void 0,fX=typeof queueMicrotask=="function"?queueMicrotask:typeof RP<"u"?function(o){return RP.resolve(null).then(o).catch(dX)}:jP;function dX(o){setTimeout(function(){throw o})}function Rl(o){return o==="head"}function LP(o,c){var h=c,m=0;do{var w=h.nextSibling;if(o.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"||h==="/&"){if(m===0){o.removeChild(w),vd(c);return}m--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")m++;else if(h==="html")Mp(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,Mp(h);for(var T=h.firstChild;T;){var O=T.nextSibling,R=T.nodeName;T[en]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&T.rel.toLowerCase()==="stylesheet"||h.removeChild(T),T=O}}else h==="body"&&Mp(o.ownerDocument.body);h=w}while(h);vd(c)}function VP(o,c){var h=o;o=0;do{var m=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),m&&m.nodeType===8)if(h=m.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=m}while(h)}function iT(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":iT(h),ms(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function hX(o,c,h,m){for(;o.nodeType===1;){var w=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[en])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(T=o.getAttribute("rel"),T==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(T!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(T=o.getAttribute("src"),(T!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&T&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var T=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===T)return o}else return o;if(o=ks(o.nextSibling),o===null)break}return null}function pX(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=ks(o.nextSibling),o===null))return null;return o}function BP(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=ks(o.nextSibling),o===null))return null;return o}function sT(o){return o.data==="$?"||o.data==="$~"}function aT(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function mX(o,c){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||h.readyState!=="loading")c();else{var m=function(){c(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function ks(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var oT=null;function zP(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(c===0)return ks(o.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}o=o.nextSibling}return null}function UP(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return o;c--}else h!=="/$"&&h!=="/&"||c++}o=o.previousSibling}return null}function FP(o,c,h){switch(c=v0(h),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Mp(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);ms(o)}var Cs=new Map,$P=new Set;function b0(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ao=K.d;K.d={f:gX,r:yX,D:vX,C:bX,L:xX,m:wX,X:TX,S:SX,M:EX};function gX(){var o=Ao.f(),c=u0();return o||c}function yX(o){var c=ar(o);c!==null&&c.tag===5&&c.type==="form"?aI(c):Ao.r(o)}var md=typeof document>"u"?null:document;function HP(o,c,h){var m=md;if(m&&typeof c=="string"&&c){var w=bi(c);w='link[rel="'+o+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),$P.has(w)||($P.add(w),o={rel:o,crossOrigin:h,href:c},m.querySelector(w)===null&&(c=m.createElement("link"),_r(c,"link",o),bn(c),m.head.appendChild(c)))}}function vX(o){Ao.D(o),HP("dns-prefetch",o,null)}function bX(o,c){Ao.C(o,c),HP("preconnect",o,c)}function xX(o,c,h){Ao.L(o,c,h);var m=md;if(m&&o&&c){var w='link[rel="preload"][as="'+bi(c)+'"]';c==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+bi(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+bi(h.imageSizes)+'"]')):w+='[href="'+bi(o)+'"]';var T=w;switch(c){case"style":T=gd(o);break;case"script":T=yd(o)}Cs.has(T)||(o=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),Cs.set(T,o),m.querySelector(w)!==null||c==="style"&&m.querySelector(Np(T))||c==="script"&&m.querySelector(Dp(T))||(c=m.createElement("link"),_r(c,"link",o),bn(c),m.head.appendChild(c)))}}function wX(o,c){Ao.m(o,c);var h=md;if(h&&o){var m=c&&typeof c.as=="string"?c.as:"script",w='link[rel="modulepreload"][as="'+bi(m)+'"][href="'+bi(o)+'"]',T=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=yd(o)}if(!Cs.has(T)&&(o=p({rel:"modulepreload",href:o},c),Cs.set(T,o),h.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Dp(T)))return}m=h.createElement("link"),_r(m,"link",o),bn(m),h.head.appendChild(m)}}}function SX(o,c,h){Ao.S(o,c,h);var m=md;if(m&&o){var w=gs(m).hoistableStyles,T=gd(o);c=c||"default";var O=w.get(T);if(!O){var R={loading:0,preload:null};if(O=m.querySelector(Np(T)))R.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},h),(h=Cs.get(T))&&lT(o,h);var H=O=m.createElement("link");bn(H),_r(H,"link",o),H._p=new Promise(function(Z,se){H.onload=Z,H.onerror=se}),H.addEventListener("load",function(){R.loading|=1}),H.addEventListener("error",function(){R.loading|=2}),R.loading|=4,x0(O,c,m)}O={type:"stylesheet",instance:O,count:1,state:R},w.set(T,O)}}}function TX(o,c){Ao.X(o,c);var h=md;if(h&&o){var m=gs(h).hoistableScripts,w=yd(o),T=m.get(w);T||(T=h.querySelector(Dp(w)),T||(o=p({src:o,async:!0},c),(c=Cs.get(w))&&cT(o,c),T=h.createElement("script"),bn(T),_r(T,"link",o),h.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},m.set(w,T))}}function EX(o,c){Ao.M(o,c);var h=md;if(h&&o){var m=gs(h).hoistableScripts,w=yd(o),T=m.get(w);T||(T=h.querySelector(Dp(w)),T||(o=p({src:o,async:!0,type:"module"},c),(c=Cs.get(w))&&cT(o,c),T=h.createElement("script"),bn(T),_r(T,"link",o),h.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},m.set(w,T))}}function qP(o,c,h,m){var w=(w=Ie.current)?b0(w):null;if(!w)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=gd(h.href),h=gs(w).hoistableStyles,m=h.get(c),m||(m={type:"style",instance:null,count:0,state:null},h.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=gd(h.href);var T=gs(w).hoistableStyles,O=T.get(o);if(O||(w=w.ownerDocument||w,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(o,O),(T=w.querySelector(Np(o)))&&!T._p&&(O.instance=T,O.state.loading=5),Cs.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Cs.set(o,h),T||AX(w,o,h,O.state))),c&&m===null)throw Error(r(528,""));return O}if(c&&m!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=yd(h),h=gs(w).hoistableScripts,m=h.get(c),m||(m={type:"script",instance:null,count:0,state:null},h.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function gd(o){return'href="'+bi(o)+'"'}function Np(o){return'link[rel="stylesheet"]['+o+"]"}function KP(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function AX(o,c,h,m){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=o.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),_r(c,"link",h),bn(c),o.head.appendChild(c))}function yd(o){return'[src="'+bi(o)+'"]'}function Dp(o){return"script[async]"+o}function WP(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var m=o.querySelector('style[data-href~="'+bi(h.href)+'"]');if(m)return c.instance=m,bn(m),m;var w=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),bn(m),_r(m,"style",w),x0(m,h.precedence,o),c.instance=m;case"stylesheet":w=gd(h.href);var T=o.querySelector(Np(w));if(T)return c.state.loading|=4,c.instance=T,bn(T),T;m=KP(h),(w=Cs.get(w))&&lT(m,w),T=(o.ownerDocument||o).createElement("link"),bn(T);var O=T;return O._p=new Promise(function(R,H){O.onload=R,O.onerror=H}),_r(T,"link",m),c.state.loading|=4,x0(T,h.precedence,o),c.instance=T;case"script":return T=yd(h.src),(w=o.querySelector(Dp(T)))?(c.instance=w,bn(w),w):(m=h,(w=Cs.get(T))&&(m=p({},h),cT(m,w)),o=o.ownerDocument||o,w=o.createElement("script"),bn(w),_r(w,"link",m),o.head.appendChild(w),c.instance=w);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,x0(m,h.precedence,o));return c.instance}function x0(o,c,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,T=w,O=0;O<m.length;O++){var R=m[O];if(R.dataset.precedence===c)T=R;else if(T!==w)break}T?T.parentNode.insertBefore(o,T.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function lT(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function cT(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var w0=null;function GP(o,c,h){if(w0===null){var m=new Map,w=w0=new Map;w.set(h,m)}else w=w0,m=w.get(h),m||(m=new Map,w.set(h,m));if(m.has(o))return m;for(m.set(o,null),h=h.getElementsByTagName(o),w=0;w<h.length;w++){var T=h[w];if(!(T[en]||T[Zt]||o==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var O=T.getAttribute(c)||"";O=o+O;var R=m.get(O);R?R.push(T):m.set(O,[T])}}return m}function YP(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function _X(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function XP(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function kX(o,c,h,m){if(h.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var w=gd(m.href),T=c.querySelector(Np(w));if(T){c=T._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=S0.bind(o),c.then(o,o)),h.state.loading|=4,h.instance=T,bn(T);return}T=c.ownerDocument||c,m=KP(m),(w=Cs.get(w))&&lT(m,w),T=T.createElement("link"),bn(T);var O=T;O._p=new Promise(function(R,H){O.onload=R,O.onerror=H}),_r(T,"link",m),h.instance=T}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=S0.bind(o),c.addEventListener("load",h),c.addEventListener("error",h))}}var uT=0;function CX(o,c){return o.stylesheets&&o.count===0&&E0(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var m=setTimeout(function(){if(o.stylesheets&&E0(o,o.stylesheets),o.unsuspend){var T=o.unsuspend;o.unsuspend=null,T()}},6e4+c);0<o.imgBytes&&uT===0&&(uT=62500*lX());var w=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&E0(o,o.stylesheets),o.unsuspend)){var T=o.unsuspend;o.unsuspend=null,T()}},(o.imgBytes>uT?50:800)+c);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(m),clearTimeout(w)}}:null}function S0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)E0(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var T0=null;function E0(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,T0=new Map,c.forEach(OX,o),T0=null,S0.call(o))}function OX(o,c){if(!(c.state.loading&4)){var h=T0.get(o);if(h)var m=h.get(null);else{h=new Map,T0.set(o,h);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<w.length;T++){var O=w[T];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(h.set(O.dataset.precedence,O),m=O)}m&&h.set(null,m)}w=c.instance,O=w.getAttribute("data-precedence"),T=h.get(O)||m,T===m&&h.set(null,w),h.set(O,w),this.count++,m=S0.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),T?T.parentNode.insertBefore(w,T.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),c.state.loading|=4}}var Ip={$$typeof:D,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function MX(o,c,h,m,w,T,O,R,H){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=T,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function QP(o,c,h,m,w,T,O,R,H,Z,se,ce){return o=new MX(o,c,h,O,H,Z,se,ce,R),c=1,T===!0&&(c|=24),T=Fi(3,null,null,c),o.current=T,T.stateNode=o,c=$w(),c.refCount++,o.pooledCache=c,c.refCount++,T.memoizedState={element:m,isDehydrated:h,cache:c},Ww(T),o}function JP(o){return o?(o=Gf,o):Gf}function ZP(o,c,h,m,w,T){w=JP(w),m.context===null?m.context=w:m.pendingContext=w,m=Al(c),m.payload={element:h},T=T===void 0?null:T,T!==null&&(m.callback=T),h=_l(o,m,c),h!==null&&(Ai(h,o,c),fp(h,o,c))}function ej(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function fT(o,c){ej(o,c),(o=o.alternate)&&ej(o,c)}function tj(o){if(o.tag===13||o.tag===31){var c=du(o,67108864);c!==null&&Ai(c,o,67108864),fT(o,67108864)}}function nj(o){if(o.tag===13||o.tag===31){var c=Wi();c=Bi(c);var h=du(o,c);h!==null&&Ai(h,o,c),fT(o,c)}}var A0=!0;function NX(o,c,h,m){var w=G.T;G.T=null;var T=K.p;try{K.p=2,dT(o,c,h,m)}finally{K.p=T,G.T=w}}function DX(o,c,h,m){var w=G.T;G.T=null;var T=K.p;try{K.p=8,dT(o,c,h,m)}finally{K.p=T,G.T=w}}function dT(o,c,h,m){if(A0){var w=hT(m);if(w===null)JS(o,c,m,_0,h),ij(o,m);else if(PX(w,o,c,h,m))m.stopPropagation();else if(ij(o,m),c&4&&-1<IX.indexOf(o)){for(;w!==null;){var T=ar(w);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var O=It(T.pendingLanes);if(O!==0){var R=T;for(R.pendingLanes|=2,R.entangledLanes|=2;O;){var H=1<<31-Wt(O);R.entanglements[1]|=H,O&=~H}La(T),(wt&6)===0&&(l0=Tt()+500,kp(0))}}break;case 31:case 13:R=du(T,2),R!==null&&Ai(R,T,2),u0(),fT(T,2)}if(T=hT(m),T===null&&JS(o,c,m,_0,h),T===w)break;w=T}w!==null&&m.stopPropagation()}else JS(o,c,m,null,h)}}function hT(o){return o=vs(o),pT(o)}var _0=null;function pT(o){if(_0=null,o=vi(o),o!==null){var c=s(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=a(c),o!==null)return o;o=null}else if(h===31){if(o=l(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return _0=o,null}function rj(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xs()){case Qs:return 2;case io:return 8;case Vi:case Js:return 32;case Ea:return 268435456;default:return 32}default:return 32}}var mT=!1,Ll=null,Vl=null,Bl=null,Pp=new Map,jp=new Map,zl=[],IX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ij(o,c){switch(o){case"focusin":case"focusout":Ll=null;break;case"dragenter":case"dragleave":Vl=null;break;case"mouseover":case"mouseout":Bl=null;break;case"pointerover":case"pointerout":Pp.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":jp.delete(c.pointerId)}}function Rp(o,c,h,m,w,T){return o===null||o.nativeEvent!==T?(o={blockedOn:c,domEventName:h,eventSystemFlags:m,nativeEvent:T,targetContainers:[w]},c!==null&&(c=ar(c),c!==null&&tj(c)),o):(o.eventSystemFlags|=m,c=o.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),o)}function PX(o,c,h,m,w){switch(c){case"focusin":return Ll=Rp(Ll,o,c,h,m,w),!0;case"dragenter":return Vl=Rp(Vl,o,c,h,m,w),!0;case"mouseover":return Bl=Rp(Bl,o,c,h,m,w),!0;case"pointerover":var T=w.pointerId;return Pp.set(T,Rp(Pp.get(T)||null,o,c,h,m,w)),!0;case"gotpointercapture":return T=w.pointerId,jp.set(T,Rp(jp.get(T)||null,o,c,h,m,w)),!0}return!1}function sj(o){var c=vi(o.target);if(c!==null){var h=s(c);if(h!==null){if(c=h.tag,c===13){if(c=a(h),c!==null){o.blockedOn=c,Zr(o.priority,function(){nj(h)});return}}else if(c===31){if(c=l(h),c!==null){o.blockedOn=c,Zr(o.priority,function(){nj(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function k0(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=hT(o.nativeEvent);if(h===null){h=o.nativeEvent;var m=new h.constructor(h.type,h);Yh=m,h.target.dispatchEvent(m),Yh=null}else return c=ar(h),c!==null&&tj(c),o.blockedOn=h,!1;c.shift()}return!0}function aj(o,c,h){k0(o)&&h.delete(c)}function jX(){mT=!1,Ll!==null&&k0(Ll)&&(Ll=null),Vl!==null&&k0(Vl)&&(Vl=null),Bl!==null&&k0(Bl)&&(Bl=null),Pp.forEach(aj),jp.forEach(aj)}function C0(o,c){o.blockedOn===c&&(o.blockedOn=null,mT||(mT=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jX)))}var O0=null;function oj(o){O0!==o&&(O0=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){O0===o&&(O0=null);for(var c=0;c<o.length;c+=3){var h=o[c],m=o[c+1],w=o[c+2];if(typeof m!="function"){if(pT(m||h)===null)continue;break}var T=ar(h);T!==null&&(o.splice(c,3),c-=3,hS(T,{pending:!0,data:w,method:h.method,action:m},m,w))}}))}function vd(o){function c(H){return C0(H,o)}Ll!==null&&C0(Ll,o),Vl!==null&&C0(Vl,o),Bl!==null&&C0(Bl,o),Pp.forEach(c),jp.forEach(c);for(var h=0;h<zl.length;h++){var m=zl[h];m.blockedOn===o&&(m.blockedOn=null)}for(;0<zl.length&&(h=zl[0],h.blockedOn===null);)sj(h),h.blockedOn===null&&zl.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var w=h[m],T=h[m+1],O=w[mn]||null;if(typeof T=="function")O||oj(h);else if(O){var R=null;if(T&&T.hasAttribute("formAction")){if(w=T,O=T[mn]||null)R=O.formAction;else if(pT(w)!==null)continue}else R=O.action;typeof R=="function"?h[m+1]=R:(h.splice(m,3),m-=3),oj(h)}}}function lj(){function o(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(O){return w=O})},focusReset:"manual",scroll:"manual"})}function c(){w!==null&&(w(),w=null),m||setTimeout(h,20)}function h(){if(!m&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,w=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){m=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),w!==null&&(w(),w=null)}}}function gT(o){this._internalRoot=o}M0.prototype.render=gT.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,m=Wi();ZP(h,m,o,c,null,null)},M0.prototype.unmount=gT.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;ZP(o.current,2,null,o,null,null),u0(),c[yi]=null}};function M0(o){this._internalRoot=o}M0.prototype.unstable_scheduleHydration=function(o){if(o){var c=ka();o={blockedOn:null,target:o,priority:c};for(var h=0;h<zl.length&&c!==0&&c<zl[h].priority;h++);zl.splice(h,0,o),h===0&&sj(o)}};var cj=e.version;if(cj!=="19.2.0")throw Error(r(527,cj,"19.2.0"));K.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(c),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var RX={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var N0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!N0.isDisabled&&N0.supportsFiber)try{Yn=N0.inject(RX),vn=N0}catch{}}return Vp.createRoot=function(o,c){if(!i(o))throw Error(r(299));var h=!1,m="",w=gI,T=yI,O=vI;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError)),c=QP(o,1,!1,null,null,h,m,null,w,T,O,lj),o[yi]=c.current,QS(o),new gT(c)},Vp.hydrateRoot=function(o,c,h){if(!i(o))throw Error(r(299));var m=!1,w="",T=gI,O=yI,R=vI,H=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(T=h.onUncaughtError),h.onCaughtError!==void 0&&(O=h.onCaughtError),h.onRecoverableError!==void 0&&(R=h.onRecoverableError),h.formState!==void 0&&(H=h.formState)),c=QP(o,1,!0,c,h??null,m,w,H,T,O,R,lj),c.context=JP(null),h=c.current,m=Wi(),m=Bi(m),w=Al(m),w.callback=null,_l(h,w,m),h=m,c.current.lanes=h,gi(c,h),La(c),o[yi]=c.current,QS(o),new M0(c)},Vp.version="19.2.0",Vp}var bj;function WX(){if(bj)return bT.exports;bj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bT.exports=KX(),bT.exports}var GX=WX();const YX=()=>{};var xj={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},XX=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},X6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,f=u?t[i+2]:0,d=s>>2,p=(s&3)<<4|l>>4;let g=(l&15)<<2|f>>6,v=f&63;u||(v=64,a||(g=64)),r.push(n[d],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Y6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XX(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||f==null||p==null)throw new QX;const g=s<<2|l>>4;if(r.push(g),f!==64){const v=l<<4&240|f>>2;if(r.push(v),p!==64){const x=f<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JX=function(t){const e=Y6(t);return X6.encodeByteArray(e,!0)},Kv=function(t){return JX(t).replace(/\./g,"")},Q6=function(t){try{return X6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eQ=()=>ZX().__FIREBASE_DEFAULTS__,tQ=()=>{if(typeof process>"u"||typeof xj>"u")return;const t=xj.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Q6(t[1]);return e&&JSON.parse(e)},$x=()=>{try{return YX()||eQ()||tQ()||nQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},J6=t=>$x()?.emulatorHosts?.[t],rQ=t=>{const e=J6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Z6=()=>$x()?.config,ez=t=>$x()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tz(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sQ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Kv(JSON.stringify(n)),Kv(JSON.stringify(a)),""].join(".")}const cm={};function aQ(){const t={prod:[],emulator:[]};for(const e of Object.keys(cm))cm[e]?t.emulator.push(e):t.prod.push(e);return t}function oQ(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let wj=!1;function nz(t,e){if(typeof window>"u"||typeof document>"u"||!Th(window.location.host)||cm[t]===e||cm[t]||wj)return;cm[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=aQ().prod.length>0;function a(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{wj=!0,a()},g}function d(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=oQ(r),v=n("text"),x=document.getElementById(v)||document.createElement("span"),S=n("learnmore"),E=document.getElementById(S)||document.createElement("a"),A=n("preprendIcon"),C=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const D=g.element;l(D),d(E,S);const L=f();u(C,A),D.append(C,x,E,L),document.body.appendChild(D)}s?(x.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yr())}function cQ(){const t=$x()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uQ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fQ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dQ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hQ(){const t=Yr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pQ(){return!cQ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mQ(){try{return typeof indexedDB=="object"}catch{return!1}}function gQ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yQ="FirebaseError";class el extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yQ,Object.setPrototypeOf(this,el.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sg.prototype.create)}}class Sg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?vQ(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new el(i,l,r)}}function vQ(t,e){return t.replace(bQ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bQ=/\{\$([^}]+)}/g;function xQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function af(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Sj(s)&&Sj(a)){if(!af(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Sj(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wQ(t,e){const n=new SQ(t,e);return n.subscribe.bind(n)}class SQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TQ(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=TT),i.error===void 0&&(i.error=TT),i.complete===void 0&&(i.complete=TT);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TQ(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function TT(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t){return t&&t._delegate?t._delegate:t}class of{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EQ=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new iQ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_Q(e))try{this.getOrInitializeService({instanceIdentifier:Cu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Cu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cu){return this.instances.has(e)}getOptions(e=Cu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AQ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cu){return this.component?this.component.multipleInstances?e:Cu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function AQ(t){return t===Cu?void 0:t}function _Q(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const CQ={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},OQ=lt.INFO,MQ={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},NQ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=MQ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class UC{constructor(e){this.name=e,this._logLevel=OQ,this._logHandler=NQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const DQ=(t,e)=>e.some(n=>t instanceof n);let Tj,Ej;function IQ(){return Tj||(Tj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PQ(){return Ej||(Ej=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rz=new WeakMap,d_=new WeakMap,iz=new WeakMap,ET=new WeakMap,FC=new WeakMap;function jQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(uc(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&rz.set(n,t)}).catch(()=>{}),FC.set(e,t),e}function RQ(t){if(d_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});d_.set(t,e)}let h_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return d_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iz.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LQ(t){h_=t(h_)}function VQ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(AT(this),e,...n);return iz.set(r,e.sort?e.sort():[e]),uc(r)}:PQ().includes(t)?function(...e){return t.apply(AT(this),e),uc(rz.get(this))}:function(...e){return uc(t.apply(AT(this),e))}}function BQ(t){return typeof t=="function"?VQ(t):(t instanceof IDBTransaction&&RQ(t),DQ(t,IQ())?new Proxy(t,h_):t)}function uc(t){if(t instanceof IDBRequest)return jQ(t);if(ET.has(t))return ET.get(t);const e=BQ(t);return e!==t&&(ET.set(t,e),FC.set(e,t)),e}const AT=t=>FC.get(t);function zQ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=uc(a);return r&&a.addEventListener("upgradeneeded",u=>{r(uc(a.result),u.oldVersion,u.newVersion,uc(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const UQ=["get","getKey","getAll","getAllKeys","count"],FQ=["put","add","delete","clear"],_T=new Map;function Aj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_T.get(e))return _T.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=FQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||UQ.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&u.done]))[0]};return _T.set(e,s),s}LQ(t=>({...t,get:(e,n,r)=>Aj(e,n)||t.get(e,n,r),has:(e,n)=>!!Aj(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HQ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HQ(t){return t.getComponent()?.type==="VERSION"}const p_="@firebase/app",_j="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new UC("@firebase/app"),qQ="@firebase/app-compat",KQ="@firebase/analytics-compat",WQ="@firebase/analytics",GQ="@firebase/app-check-compat",YQ="@firebase/app-check",XQ="@firebase/auth",QQ="@firebase/auth-compat",JQ="@firebase/database",ZQ="@firebase/data-connect",eJ="@firebase/database-compat",tJ="@firebase/functions",nJ="@firebase/functions-compat",rJ="@firebase/installations",iJ="@firebase/installations-compat",sJ="@firebase/messaging",aJ="@firebase/messaging-compat",oJ="@firebase/performance",lJ="@firebase/performance-compat",cJ="@firebase/remote-config",uJ="@firebase/remote-config-compat",fJ="@firebase/storage",dJ="@firebase/storage-compat",hJ="@firebase/firestore",pJ="@firebase/ai",mJ="@firebase/firestore-compat",gJ="firebase",yJ="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="[DEFAULT]",vJ={[p_]:"fire-core",[qQ]:"fire-core-compat",[WQ]:"fire-analytics",[KQ]:"fire-analytics-compat",[YQ]:"fire-app-check",[GQ]:"fire-app-check-compat",[XQ]:"fire-auth",[QQ]:"fire-auth-compat",[JQ]:"fire-rtdb",[ZQ]:"fire-data-connect",[eJ]:"fire-rtdb-compat",[tJ]:"fire-fn",[nJ]:"fire-fn-compat",[rJ]:"fire-iid",[iJ]:"fire-iid-compat",[sJ]:"fire-fcm",[aJ]:"fire-fcm-compat",[oJ]:"fire-perf",[lJ]:"fire-perf-compat",[cJ]:"fire-rc",[uJ]:"fire-rc-compat",[fJ]:"fire-gcs",[dJ]:"fire-gcs-compat",[hJ]:"fire-fst",[mJ]:"fire-fst-compat",[pJ]:"fire-vertex","fire-js":"fire-js",[gJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=new Map,bJ=new Map,g_=new Map;function kj(t,e){try{t.container.addComponent(e)}catch(n){Fo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zd(t){const e=t.name;if(g_.has(e))return Fo.debug(`There were multiple attempts to register component ${e}.`),!1;g_.set(e,t);for(const n of Wv.values())kj(n,t);for(const n of bJ.values())kj(n,t);return!0}function $C(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ua(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fc=new Sg("app","Firebase",xJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wJ{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new of("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=yJ;function sz(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:m_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw fc.create("bad-app-name",{appName:String(i)});if(n||(n=Z6()),!n)throw fc.create("no-options");const s=Wv.get(i);if(s){if(af(n,s.options)&&af(r,s.config))return s;throw fc.create("duplicate-app",{appName:i})}const a=new kQ(i);for(const u of g_.values())a.addComponent(u);const l=new wJ(n,r,a);return Wv.set(i,l),l}function az(t=m_){const e=Wv.get(t);if(!e&&t===m_&&Z6())return sz();if(!e)throw fc.create("no-app",{appName:t});return e}function dc(t,e,n){let r=vJ[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fo.warn(a.join(" "));return}Zd(new of(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SJ="firebase-heartbeat-database",TJ=1,Pm="firebase-heartbeat-store";let kT=null;function oz(){return kT||(kT=zQ(SJ,TJ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pm)}catch(n){console.warn(n)}}}}).catch(t=>{throw fc.create("idb-open",{originalErrorMessage:t.message})})),kT}async function EJ(t){try{const n=(await oz()).transaction(Pm),r=await n.objectStore(Pm).get(lz(t));return await n.done,r}catch(e){if(e instanceof el)Fo.warn(e.message);else{const n=fc.create("idb-get",{originalErrorMessage:e?.message});Fo.warn(n.message)}}}async function Cj(t,e){try{const r=(await oz()).transaction(Pm,"readwrite");await r.objectStore(Pm).put(e,lz(t)),await r.done}catch(n){if(n instanceof el)Fo.warn(n.message);else{const r=fc.create("idb-set",{originalErrorMessage:n?.message});Fo.warn(r.message)}}}function lz(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AJ=1024,_J=30;class kJ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OJ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Oj();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>_J){const i=MJ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Oj(),{heartbeatsToSend:n,unsentEntries:r}=CJ(this._heartbeatsCache.heartbeats),i=Kv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Fo.warn(e),""}}}function Oj(){return new Date().toISOString().substring(0,10)}function CJ(t,e=AJ){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Mj(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Mj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class OJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mQ()?gQ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EJ(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Mj(t){return Kv(JSON.stringify({version:2,heartbeats:t})).length}function MJ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NJ(t){Zd(new of("platform-logger",e=>new $Q(e),"PRIVATE")),Zd(new of("heartbeat",e=>new kJ(e),"PRIVATE")),dc(p_,_j,t),dc(p_,_j,"esm2020"),dc("fire-js","")}NJ("");var DJ="firebase",IJ="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dc(DJ,IJ,"app");function cz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PJ=cz,uz=new Sg("auth","Firebase",cz());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=new UC("@firebase/auth");function jJ(t,...e){Gv.logLevel<=lt.WARN&&Gv.warn(`Auth (${Eh}): ${t}`,...e)}function vv(t,...e){Gv.logLevel<=lt.ERROR&&Gv.error(`Auth (${Eh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t,...e){throw HC(t,...e)}function qa(t,...e){return HC(t,...e)}function fz(t,e,n){const r={...PJ(),[e]:n};return new Sg("auth","Firebase",r).create(e,{appName:t.name})}function hc(t){return fz(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uz.create(t,...e)}function He(t,e,...n){if(!t)throw HC(e,...n)}function Io(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vv(e),new Error(e)}function Ho(t,e){t||Io(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(){return typeof self<"u"&&self.location?.href||""}function RJ(){return Nj()==="http:"||Nj()==="https:"}function Nj(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RJ()||fQ()||"connection"in navigator)?navigator.onLine:!0}function VJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ho(n>e,"Short delay should be less than long delay!"),this.isMobile=lQ()||dQ()}get(){return LJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t,e){Ho(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Io("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Io("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Io("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zJ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UJ=new Eg(3e4,6e4);function Hx(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ah(t,e,n,r,i={}){return hz(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=Tg({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:u,...s};return uQ()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Th(t.emulatorConfig.host)&&(f.credentials="include"),dz.fetch()(await mz(t,t.config.apiHost,n,l),f)})}async function hz(t,e,n){t._canInitEmulator=!1;const r={...BJ,...e};try{const i=new FJ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw D0(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,f]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw D0(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw D0(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw D0(t,"user-disabled",a);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw fz(t,d,f);$o(t,d)}}catch(i){if(i instanceof el)throw i;$o(t,"network-request-failed",{message:String(i)})}}async function pz(t,e,n,r,i={}){const s=await Ah(t,e,n,r,i);return"mfaPendingCredential"in s&&$o(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function mz(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?qC(t.config,i):`${t.config.apiScheme}://${i}`;return zJ.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class FJ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qa(this.auth,"network-request-failed")),UJ.get())})}}function D0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qa(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $J(t,e){return Ah(t,"POST","/v1/accounts:delete",e)}async function Yv(t,e){return Ah(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HJ(t,e=!1){const n=er(t),r=await n.getIdToken(e),i=KC(r);He(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:um(CT(i.auth_time)),issuedAtTime:um(CT(i.iat)),expirationTime:um(CT(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function CT(t){return Number(t)*1e3}function KC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vv("JWT malformed, contained fewer than 3 sections"),null;try{const i=Q6(n);return i?JSON.parse(i):(vv("Failed to decode base64 JWT payload"),null)}catch(i){return vv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Dj(t){const e=KC(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jm(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof el&&qJ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qJ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=um(this.lastLoginAt),this.creationTime=um(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xv(t){const e=t.auth,n=await t.getIdToken(),r=await jm(t,Yv(e,{idToken:n}));He(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?gz(i.providerUserInfo):[],a=GJ(t.providerData,s),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!a?.length,f=l?u:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new v_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function WJ(t){const e=er(t);await Xv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GJ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gz(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YJ(t,e){const n=await hz(t,{},async()=>{const r=Tg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await mz(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&Th(t.emulatorConfig.host)&&(u.credentials="include"),dz.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XJ(t,e){return Ah(t,"POST","/v2/accounts:revokeToken",Hx(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=Dj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await YJ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Fd;return r&&(He(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(He(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(He(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fd,this.toJSON())}_performRefresh(){return Io("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pa{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new KJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new v_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await jm(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HJ(this,e)}reload(){return WJ(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ua(this.auth.app))return Promise.reject(hc(this.auth));const e=await this.getIdToken();return await jm(this,$J(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,f=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:v,providerData:x,stsTokenManager:S}=n;He(p&&S,e,"internal-error");const E=Fd.fromJSON(this.name,S);He(typeof p=="string",e,"internal-error"),Fl(r,e.name),Fl(i,e.name),He(typeof g=="boolean",e,"internal-error"),He(typeof v=="boolean",e,"internal-error"),Fl(s,e.name),Fl(a,e.name),Fl(l,e.name),Fl(u,e.name),Fl(f,e.name),Fl(d,e.name);const A=new pa({uid:p,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:v,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:E,createdAt:f,lastLoginAt:d});return x&&Array.isArray(x)&&(A.providerData=x.map(C=>({...C}))),u&&(A._redirectEventId=u),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fd;i.updateFromServerResponse(n);const s=new pa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xv(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];He(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?gz(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,l=new Fd;l.updateFromIdToken(r);const u=new pa({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new v_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=new Map;function Po(t){Ho(t instanceof Function,"Expected a class definition");let e=Ij.get(t);return e?(Ho(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ij.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yz.type="NONE";const Pj=yz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t,e,n){return`firebase:${t}:${e}:${n}`}class $d{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=bv(this.userKey,i.apiKey,s),this.fullPersistenceKey=bv("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yv(this.auth,{idToken:e}).catch(()=>{});return n?pa._fromGetAccountInfoResponse(this.auth,n,e):null}return pa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $d(Po(Pj),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Po(Pj);const a=bv(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const d=await f._get(a);if(d){let p;if(typeof d=="string"){const g=await Yv(e,{idToken:d}).catch(()=>{});if(!g)break;p=await pa._fromGetAccountInfoResponse(e,g,d)}else p=pa._fromJSON(e,d);f!==s&&(l=p),s=f;break}}catch{}const u=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new $d(s,e,r):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new $d(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Tz(e))return"Blackberry";if(Ez(e))return"Webos";if(bz(e))return"Safari";if((e.includes("chrome/")||xz(e))&&!e.includes("edge/"))return"Chrome";if(Sz(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function vz(t=Yr()){return/firefox\//i.test(t)}function bz(t=Yr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xz(t=Yr()){return/crios\//i.test(t)}function wz(t=Yr()){return/iemobile/i.test(t)}function Sz(t=Yr()){return/android/i.test(t)}function Tz(t=Yr()){return/blackberry/i.test(t)}function Ez(t=Yr()){return/webos/i.test(t)}function WC(t=Yr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QJ(t=Yr()){return WC(t)&&!!window.navigator?.standalone}function JJ(){return hQ()&&document.documentMode===10}function Az(t=Yr()){return WC(t)||Sz(t)||Ez(t)||Tz(t)||/windows phone/i.test(t)||wz(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(t,e=[]){let n;switch(t){case"Browser":n=jj(Yr());break;case"Worker":n=`${jj(Yr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eZ(t,e={}){return Ah(t,"GET","/v2/passwordPolicy",Hx(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tZ=6;class nZ{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??tZ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rj(this),this.idTokenSubscription=new Rj(this),this.beforeStateQueue=new ZJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Po(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $d.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yv(this,{idToken:e}),r=await pa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ua(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,a=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xv(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ua(this.app))return Promise.reject(hc(this));const n=e?er(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ua(this.app)?Promise.reject(hc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ua(this.app)?Promise.reject(hc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Po(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eZ(this),n=new nZ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sg("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await XJ(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Po(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await $d.create(this,[Po(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_z(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ua(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&jJ(`Error while retrieving App Check token: ${e.error}`),e?.token}}function qx(t){return er(t)}class Rj{constructor(e){this.auth=e,this.observer=null,this.addObserver=wQ(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GC={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iZ(t){GC=t}function sZ(t){return GC.loadJS(t)}function aZ(){return GC.gapiScript}function oZ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lZ(t,e){const n=$C(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(af(s,e??{}))return i;$o(i,"already-initialized")}return n.initialize({options:e})}function cZ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Po);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function uZ(t,e,n){const r=qx(t);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=kz(e),{host:a,port:l}=fZ(e),u=l===null?"":`:${l}`,f={url:`${s}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(af(f,r.config.emulator)&&af(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Th(a)?(tz(`${s}//${a}${u}`),nz("Auth",!0)):dZ()}function kz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fZ(t){const e=kz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Lj(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:Lj(a)}}}function Lj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dZ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Io("not implemented")}_getIdTokenResponse(e){return Io("not implemented")}_linkToIdToken(e,n){return Io("not implemented")}_getReauthenticationResolver(e){return Io("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(t,e){return pz(t,"POST","/v1/accounts:signInWithIdp",Hx(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hZ="http://localhost";class lf extends Cz{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new lf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$o("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new lf(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Hd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Hd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hd(e,n)}buildRequest(){const e={requestUri:hZ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tg(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends Oz{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends Ag{constructor(){super("facebook.com")}static credential(e){return lf._fromParams({providerId:Jl.PROVIDER_ID,signInMethod:Jl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jl.credentialFromTaggedObject(e)}static credentialFromError(e){return Jl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jl.credential(e.oauthAccessToken)}catch{return null}}}Jl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends Ag{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return lf._fromParams({providerId:Zl.PROVIDER_ID,signInMethod:Zl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zl.credentialFromTaggedObject(e)}static credentialFromError(e){return Zl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zl.credential(n,r)}catch{return null}}}Zl.GOOGLE_SIGN_IN_METHOD="google.com";Zl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends Ag{constructor(){super("github.com")}static credential(e){return lf._fromParams({providerId:ec.PROVIDER_ID,signInMethod:ec.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ec.credentialFromTaggedObject(e)}static credentialFromError(e){return ec.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ec.credential(e.oauthAccessToken)}catch{return null}}}ec.GITHUB_SIGN_IN_METHOD="github.com";ec.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends Ag{constructor(){super("twitter.com")}static credential(e,n){return lf._fromParams({providerId:tc.PROVIDER_ID,signInMethod:tc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return tc.credentialFromTaggedObject(e)}static credentialFromError(e){return tc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return tc.credential(n,r)}catch{return null}}}tc.TWITTER_SIGN_IN_METHOD="twitter.com";tc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pZ(t,e){return pz(t,"POST","/v1/accounts:signUp",Hx(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await pa._fromIdTokenResponse(e,r,i),a=Vj(r);return new Sc({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Vj(r);return new Sc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Vj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mZ(t){if(ua(t.app))return Promise.reject(hc(t));const e=qx(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Sc({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await pZ(e,{returnSecureToken:!0}),r=await Sc._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends el{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Qv(e,n,r,i)}}function Mz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Qv._fromErrorAndOperation(t,s,e,r):s})}async function gZ(t,e,n=!1){const r=await jm(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Sc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yZ(t,e,n=!1){const{auth:r}=t;if(ua(r.app))return Promise.reject(hc(r));const i="reauthenticate";try{const s=await jm(t,Mz(r,i,e,t),n);He(s.idToken,r,"internal-error");const a=KC(s.idToken);He(a,r,"internal-error");const{sub:l}=a;return He(t.uid===l,r,"user-mismatch"),Sc._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&$o(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vZ(t,e,n=!1){if(ua(t.app))return Promise.reject(hc(t));const r="signIn",i=await Mz(t,r,e),s=await Sc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function bZ(t,e,n,r){return er(t).onIdTokenChanged(e,n,r)}function xZ(t,e,n){return er(t).beforeAuthStateChanged(e,n)}function wZ(t,e,n,r){return er(t).onAuthStateChanged(e,n,r)}const Jv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jv,"1"),this.storage.removeItem(Jv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SZ=1e3,TZ=10;class Dz extends Nz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Az(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);JJ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,TZ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},SZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Dz.type="LOCAL";const EZ=Dz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz extends Nz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Iz.type="SESSION";const Pz=Iz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AZ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Kx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async f=>f(n.origin,s)),u=await AZ(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const f=YC("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(){return window}function kZ(t){Ka().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(){return typeof Ka().WorkerGlobalScope<"u"&&typeof Ka().importScripts=="function"}async function CZ(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OZ(){return navigator?.serviceWorker?.controller||null}function MZ(){return jz()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz="firebaseLocalStorageDb",NZ=1,Zv="firebaseLocalStorage",Lz="fbase_key";class _g{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wx(t,e){return t.transaction([Zv],e?"readwrite":"readonly").objectStore(Zv)}function DZ(){const t=indexedDB.deleteDatabase(Rz);return new _g(t).toPromise()}function b_(){const t=indexedDB.open(Rz,NZ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zv,{keyPath:Lz})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zv)?e(r):(r.close(),await DZ(),e(await b_()))})})}async function Bj(t,e,n){const r=Wx(t,!0).put({[Lz]:e,value:n});return new _g(r).toPromise()}async function IZ(t,e){const n=Wx(t,!1).get(e),r=await new _g(n).toPromise();return r===void 0?null:r.value}function zj(t,e){const n=Wx(t,!0).delete(e);return new _g(n).toPromise()}const PZ=800,jZ=3;class Vz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await b_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>jZ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kx._getInstance(MZ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CZ(),!this.activeServiceWorker)return;this.sender=new _Z(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OZ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await b_();return await Bj(e,Jv,"1"),await zj(e,Jv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Bj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IZ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Wx(i,!1).getAll();return new _g(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vz.type="LOCAL";const RZ=Vz;new Eg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LZ(t,e){return e?Po(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC extends Cz{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VZ(t){return vZ(t.auth,new XC(t),t.bypassAuthState)}function BZ(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),yZ(n,new XC(t),t.bypassAuthState)}async function zZ(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),gZ(n,new XC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VZ;case"linkViaPopup":case"linkViaRedirect":return zZ;case"reauthViaPopup":case"reauthViaRedirect":return BZ;default:$o(this.auth,"internal-error")}}resolve(e){Ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UZ=new Eg(2e3,1e4);class Nd extends Bz{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Nd.currentPopupAction&&Nd.currentPopupAction.cancel(),Nd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Ho(this.filter.length===1,"Popup operations only handle one event");const e=YC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nd.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UZ.get())};e()}}Nd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FZ="pendingRedirect",xv=new Map;class $Z extends Bz{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xv.get(this.auth._key());if(!e){try{const r=await HZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xv.set(this.auth._key(),e)}return this.bypassAuthState||xv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HZ(t,e){const n=WZ(e),r=KZ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function qZ(t,e){xv.set(t._key(),e)}function KZ(t){return Po(t._redirectPersistence)}function WZ(t){return bv(FZ,t.config.apiKey,t.name)}async function GZ(t,e,n=!1){if(ua(t.app))return Promise.reject(hc(t));const r=qx(t),i=LZ(r,e),a=await new $Z(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YZ=600*1e3;class XZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QZ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!zz(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(qa(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uj(e))}saveEventToCache(e){this.cachedEventUids.add(Uj(e)),this.lastProcessedEventTime=Date.now()}}function Uj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zz({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function QZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zz(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JZ(t,e={}){return Ah(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eee=/^https?/;async function tee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JZ(t);for(const n of e)try{if(nee(n))return}catch{}$o(t,"unauthorized-domain")}function nee(t){const e=y_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!eee.test(n))return!1;if(ZZ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ree=new Eg(3e4,6e4);function Fj(){const t=Ka().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iee(t){return new Promise((e,n)=>{function r(){Fj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fj(),n(qa(t,"network-request-failed"))},timeout:ree.get()})}if(Ka().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ka().gapi?.load)r();else{const i=oZ("iframefcb");return Ka()[i]=()=>{gapi.load?r():n(qa(t,"network-request-failed"))},sZ(`${aZ()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw wv=null,e})}let wv=null;function see(t){return wv=wv||iee(t),wv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aee=new Eg(5e3,15e3),oee="__/auth/iframe",lee="emulator/auth/iframe",cee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fee(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qC(e,lee):`https://${t.config.authDomain}/${oee}`,r={apiKey:e.apiKey,appName:t.name,v:Eh},i=uee.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Tg(r).slice(1)}`}async function dee(t){const e=await see(t),n=Ka().gapi;return He(n,t,"internal-error"),e.open({where:document.body,url:fee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cee,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=qa(t,"network-request-failed"),l=Ka().setTimeout(()=>{s(a)},aee.get());function u(){Ka().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pee=500,mee=600,gee="_blank",yee="http://localhost";class $j{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vee(t,e,n,r=pee,i=mee){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...hee,width:r.toString(),height:i.toString(),top:s,left:a},f=Yr().toLowerCase();n&&(l=xz(f)?gee:n),vz(f)&&(e=e||yee,u.scrollbars="yes");const d=Object.entries(u).reduce((g,[v,x])=>`${g}${v}=${x},`,"");if(QJ(f)&&l!=="_self")return bee(e||"",l),new $j(null);const p=window.open(e||"",l,d);He(p,t,"popup-blocked");try{p.focus()}catch{}return new $j(p)}function bee(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xee="__/auth/handler",wee="emulator/auth/handler",See=encodeURIComponent("fac");async function Hj(t,e,n,r,i,s){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Eh,eventId:i};if(e instanceof Oz){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",xQ(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))a[d]=p}if(e instanceof Ag){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),f=u?`#${See}=${encodeURIComponent(u)}`:"";return`${Tee(t)}?${Tg(l).slice(1)}${f}`}function Tee({config:t}){return t.emulator?qC(t,wee):`https://${t.authDomain}/${xee}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="webStorageSupport";class Eee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pz,this._completeRedirectFn=GZ,this._overrideRedirectResult=qZ}async _openPopup(e,n,r,i){Ho(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await Hj(e,n,r,y_(),i);return vee(e,s,YC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Hj(e,n,r,y_(),i);return kZ(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ho(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dee(e),r=new XZ(e);return n.register("authEvent",i=>(He(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(OT,{type:OT},i=>{const s=i?.[0]?.[OT];s!==void 0&&n(!!s),$o(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tee(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Az()||bz()||WC()}}const Aee=Eee;var qj="@firebase/auth",Kj="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kee(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cee(t){Zd(new of("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;He(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_z(t)},f=new rZ(r,i,s,u);return cZ(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zd(new of("auth-internal",e=>{const n=qx(e.getProvider("auth").getImmediate());return(r=>new _ee(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dc(qj,Kj,kee(t)),dc(qj,Kj,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oee=300,Mee=ez("authIdTokenMaxAge")||Oee;let Wj=null;const Nee=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Mee)return;const i=n?.token;Wj!==i&&(Wj=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Dee(t=az()){const e=$C(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lZ(t,{popupRedirectResolver:Aee,persistence:[RZ,EZ,Pz]}),r=ez("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=Nee(s.toString());xZ(n,a,()=>a(n.currentUser)),bZ(n,l=>a(l))}}const i=J6("auth");return i&&uZ(n,`http://${i}`),n}function Iee(){return document.getElementsByTagName("head")?.[0]??document}iZ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=qa("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Iee().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cee("Browser");var Gj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pc,Uz;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,N){function P(){}P.prototype=N.prototype,M.F=N.prototype,M.prototype=new P,M.prototype.constructor=M,M.D=function(F,V,$){for(var U=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)U[pe-2]=arguments[pe];return N.prototype[V].apply(F,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,N,P){P||(P=0);const F=Array(16);if(typeof N=="string")for(var V=0;V<16;++V)F[V]=N.charCodeAt(P++)|N.charCodeAt(P++)<<8|N.charCodeAt(P++)<<16|N.charCodeAt(P++)<<24;else for(V=0;V<16;++V)F[V]=N[P++]|N[P++]<<8|N[P++]<<16|N[P++]<<24;N=M.g[0],P=M.g[1],V=M.g[2];let $=M.g[3],U;U=N+($^P&(V^$))+F[0]+3614090360&4294967295,N=P+(U<<7&4294967295|U>>>25),U=$+(V^N&(P^V))+F[1]+3905402710&4294967295,$=N+(U<<12&4294967295|U>>>20),U=V+(P^$&(N^P))+F[2]+606105819&4294967295,V=$+(U<<17&4294967295|U>>>15),U=P+(N^V&($^N))+F[3]+3250441966&4294967295,P=V+(U<<22&4294967295|U>>>10),U=N+($^P&(V^$))+F[4]+4118548399&4294967295,N=P+(U<<7&4294967295|U>>>25),U=$+(V^N&(P^V))+F[5]+1200080426&4294967295,$=N+(U<<12&4294967295|U>>>20),U=V+(P^$&(N^P))+F[6]+2821735955&4294967295,V=$+(U<<17&4294967295|U>>>15),U=P+(N^V&($^N))+F[7]+4249261313&4294967295,P=V+(U<<22&4294967295|U>>>10),U=N+($^P&(V^$))+F[8]+1770035416&4294967295,N=P+(U<<7&4294967295|U>>>25),U=$+(V^N&(P^V))+F[9]+2336552879&4294967295,$=N+(U<<12&4294967295|U>>>20),U=V+(P^$&(N^P))+F[10]+4294925233&4294967295,V=$+(U<<17&4294967295|U>>>15),U=P+(N^V&($^N))+F[11]+2304563134&4294967295,P=V+(U<<22&4294967295|U>>>10),U=N+($^P&(V^$))+F[12]+1804603682&4294967295,N=P+(U<<7&4294967295|U>>>25),U=$+(V^N&(P^V))+F[13]+4254626195&4294967295,$=N+(U<<12&4294967295|U>>>20),U=V+(P^$&(N^P))+F[14]+2792965006&4294967295,V=$+(U<<17&4294967295|U>>>15),U=P+(N^V&($^N))+F[15]+1236535329&4294967295,P=V+(U<<22&4294967295|U>>>10),U=N+(V^$&(P^V))+F[1]+4129170786&4294967295,N=P+(U<<5&4294967295|U>>>27),U=$+(P^V&(N^P))+F[6]+3225465664&4294967295,$=N+(U<<9&4294967295|U>>>23),U=V+(N^P&($^N))+F[11]+643717713&4294967295,V=$+(U<<14&4294967295|U>>>18),U=P+($^N&(V^$))+F[0]+3921069994&4294967295,P=V+(U<<20&4294967295|U>>>12),U=N+(V^$&(P^V))+F[5]+3593408605&4294967295,N=P+(U<<5&4294967295|U>>>27),U=$+(P^V&(N^P))+F[10]+38016083&4294967295,$=N+(U<<9&4294967295|U>>>23),U=V+(N^P&($^N))+F[15]+3634488961&4294967295,V=$+(U<<14&4294967295|U>>>18),U=P+($^N&(V^$))+F[4]+3889429448&4294967295,P=V+(U<<20&4294967295|U>>>12),U=N+(V^$&(P^V))+F[9]+568446438&4294967295,N=P+(U<<5&4294967295|U>>>27),U=$+(P^V&(N^P))+F[14]+3275163606&4294967295,$=N+(U<<9&4294967295|U>>>23),U=V+(N^P&($^N))+F[3]+4107603335&4294967295,V=$+(U<<14&4294967295|U>>>18),U=P+($^N&(V^$))+F[8]+1163531501&4294967295,P=V+(U<<20&4294967295|U>>>12),U=N+(V^$&(P^V))+F[13]+2850285829&4294967295,N=P+(U<<5&4294967295|U>>>27),U=$+(P^V&(N^P))+F[2]+4243563512&4294967295,$=N+(U<<9&4294967295|U>>>23),U=V+(N^P&($^N))+F[7]+1735328473&4294967295,V=$+(U<<14&4294967295|U>>>18),U=P+($^N&(V^$))+F[12]+2368359562&4294967295,P=V+(U<<20&4294967295|U>>>12),U=N+(P^V^$)+F[5]+4294588738&4294967295,N=P+(U<<4&4294967295|U>>>28),U=$+(N^P^V)+F[8]+2272392833&4294967295,$=N+(U<<11&4294967295|U>>>21),U=V+($^N^P)+F[11]+1839030562&4294967295,V=$+(U<<16&4294967295|U>>>16),U=P+(V^$^N)+F[14]+4259657740&4294967295,P=V+(U<<23&4294967295|U>>>9),U=N+(P^V^$)+F[1]+2763975236&4294967295,N=P+(U<<4&4294967295|U>>>28),U=$+(N^P^V)+F[4]+1272893353&4294967295,$=N+(U<<11&4294967295|U>>>21),U=V+($^N^P)+F[7]+4139469664&4294967295,V=$+(U<<16&4294967295|U>>>16),U=P+(V^$^N)+F[10]+3200236656&4294967295,P=V+(U<<23&4294967295|U>>>9),U=N+(P^V^$)+F[13]+681279174&4294967295,N=P+(U<<4&4294967295|U>>>28),U=$+(N^P^V)+F[0]+3936430074&4294967295,$=N+(U<<11&4294967295|U>>>21),U=V+($^N^P)+F[3]+3572445317&4294967295,V=$+(U<<16&4294967295|U>>>16),U=P+(V^$^N)+F[6]+76029189&4294967295,P=V+(U<<23&4294967295|U>>>9),U=N+(P^V^$)+F[9]+3654602809&4294967295,N=P+(U<<4&4294967295|U>>>28),U=$+(N^P^V)+F[12]+3873151461&4294967295,$=N+(U<<11&4294967295|U>>>21),U=V+($^N^P)+F[15]+530742520&4294967295,V=$+(U<<16&4294967295|U>>>16),U=P+(V^$^N)+F[2]+3299628645&4294967295,P=V+(U<<23&4294967295|U>>>9),U=N+(V^(P|~$))+F[0]+4096336452&4294967295,N=P+(U<<6&4294967295|U>>>26),U=$+(P^(N|~V))+F[7]+1126891415&4294967295,$=N+(U<<10&4294967295|U>>>22),U=V+(N^($|~P))+F[14]+2878612391&4294967295,V=$+(U<<15&4294967295|U>>>17),U=P+($^(V|~N))+F[5]+4237533241&4294967295,P=V+(U<<21&4294967295|U>>>11),U=N+(V^(P|~$))+F[12]+1700485571&4294967295,N=P+(U<<6&4294967295|U>>>26),U=$+(P^(N|~V))+F[3]+2399980690&4294967295,$=N+(U<<10&4294967295|U>>>22),U=V+(N^($|~P))+F[10]+4293915773&4294967295,V=$+(U<<15&4294967295|U>>>17),U=P+($^(V|~N))+F[1]+2240044497&4294967295,P=V+(U<<21&4294967295|U>>>11),U=N+(V^(P|~$))+F[8]+1873313359&4294967295,N=P+(U<<6&4294967295|U>>>26),U=$+(P^(N|~V))+F[15]+4264355552&4294967295,$=N+(U<<10&4294967295|U>>>22),U=V+(N^($|~P))+F[6]+2734768916&4294967295,V=$+(U<<15&4294967295|U>>>17),U=P+($^(V|~N))+F[13]+1309151649&4294967295,P=V+(U<<21&4294967295|U>>>11),U=N+(V^(P|~$))+F[4]+4149444226&4294967295,N=P+(U<<6&4294967295|U>>>26),U=$+(P^(N|~V))+F[11]+3174756917&4294967295,$=N+(U<<10&4294967295|U>>>22),U=V+(N^($|~P))+F[2]+718787259&4294967295,V=$+(U<<15&4294967295|U>>>17),U=P+($^(V|~N))+F[9]+3951481745&4294967295,M.g[0]=M.g[0]+N&4294967295,M.g[1]=M.g[1]+(V+(U<<21&4294967295|U>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+$&4294967295}r.prototype.v=function(M,N){N===void 0&&(N=M.length);const P=N-this.blockSize,F=this.C;let V=this.h,$=0;for(;$<N;){if(V==0)for(;$<=P;)i(this,M,$),$+=this.blockSize;if(typeof M=="string"){for(;$<N;)if(F[V++]=M.charCodeAt($++),V==this.blockSize){i(this,F),V=0;break}}else for(;$<N;)if(F[V++]=M[$++],V==this.blockSize){i(this,F),V=0;break}}this.h=V,this.o+=N},r.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var N=1;N<M.length-8;++N)M[N]=0;N=this.o*8;for(var P=M.length-8;P<M.length;++P)M[P]=N&255,N/=256;for(this.v(M),M=Array(16),N=0,P=0;P<4;++P)for(let F=0;F<32;F+=8)M[N++]=this.g[P]>>>F&255;return M};function s(M,N){var P=l;return Object.prototype.hasOwnProperty.call(P,M)?P[M]:P[M]=N(M)}function a(M,N){this.h=N;const P=[];let F=!0;for(let V=M.length-1;V>=0;V--){const $=M[V]|0;F&&$==N||(P[V]=$,F=!1)}this.g=P}var l={};function u(M){return-128<=M&&M<128?s(M,function(N){return new a([N|0],N<0?-1:0)}):new a([M|0],M<0?-1:0)}function f(M){if(isNaN(M)||!isFinite(M))return p;if(M<0)return E(f(-M));const N=[];let P=1;for(let F=0;M>=P;F++)N[F]=M/P|0,P*=4294967296;return new a(N,0)}function d(M,N){if(M.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(M.charAt(0)=="-")return E(d(M.substring(1),N));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=f(Math.pow(N,8));let F=p;for(let $=0;$<M.length;$+=8){var V=Math.min(8,M.length-$);const U=parseInt(M.substring($,$+V),N);V<8?(V=f(Math.pow(N,V)),F=F.j(V).add(f(U))):(F=F.j(P),F=F.add(f(U)))}return F}var p=u(0),g=u(1),v=u(16777216);t=a.prototype,t.m=function(){if(S(this))return-E(this).m();let M=0,N=1;for(let P=0;P<this.g.length;P++){const F=this.i(P);M+=(F>=0?F:4294967296+F)*N,N*=4294967296}return M},t.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(x(this))return"0";if(S(this))return"-"+E(this).toString(M);const N=f(Math.pow(M,6));var P=this;let F="";for(;;){const V=L(P,N).g;P=A(P,V.j(N));let $=((P.g.length>0?P.g[0]:P.h)>>>0).toString(M);if(P=V,x(P))return $+F;for(;$.length<6;)$="0"+$;F=$+F}},t.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function x(M){if(M.h!=0)return!1;for(let N=0;N<M.g.length;N++)if(M.g[N]!=0)return!1;return!0}function S(M){return M.h==-1}t.l=function(M){return M=A(this,M),S(M)?-1:x(M)?0:1};function E(M){const N=M.g.length,P=[];for(let F=0;F<N;F++)P[F]=~M.g[F];return new a(P,~M.h).add(g)}t.abs=function(){return S(this)?E(this):this},t.add=function(M){const N=Math.max(this.g.length,M.g.length),P=[];let F=0;for(let V=0;V<=N;V++){let $=F+(this.i(V)&65535)+(M.i(V)&65535),U=($>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);F=U>>>16,$&=65535,U&=65535,P[V]=U<<16|$}return new a(P,P[P.length-1]&-2147483648?-1:0)};function A(M,N){return M.add(E(N))}t.j=function(M){if(x(this)||x(M))return p;if(S(this))return S(M)?E(this).j(E(M)):E(E(this).j(M));if(S(M))return E(this.j(E(M)));if(this.l(v)<0&&M.l(v)<0)return f(this.m()*M.m());const N=this.g.length+M.g.length,P=[];for(var F=0;F<2*N;F++)P[F]=0;for(F=0;F<this.g.length;F++)for(let V=0;V<M.g.length;V++){const $=this.i(F)>>>16,U=this.i(F)&65535,pe=M.i(V)>>>16,ve=M.i(V)&65535;P[2*F+2*V]+=U*ve,C(P,2*F+2*V),P[2*F+2*V+1]+=$*ve,C(P,2*F+2*V+1),P[2*F+2*V+1]+=U*pe,C(P,2*F+2*V+1),P[2*F+2*V+2]+=$*pe,C(P,2*F+2*V+2)}for(M=0;M<N;M++)P[M]=P[2*M+1]<<16|P[2*M];for(M=N;M<2*N;M++)P[M]=0;return new a(P,0)};function C(M,N){for(;(M[N]&65535)!=M[N];)M[N+1]+=M[N]>>>16,M[N]&=65535,N++}function D(M,N){this.g=M,this.h=N}function L(M,N){if(x(N))throw Error("division by zero");if(x(M))return new D(p,p);if(S(M))return N=L(E(M),N),new D(E(N.g),E(N.h));if(S(N))return N=L(M,E(N)),new D(E(N.g),N.h);if(M.g.length>30){if(S(M)||S(N))throw Error("slowDivide_ only works with positive integers.");for(var P=g,F=N;F.l(M)<=0;)P=j(P),F=j(F);var V=B(P,1),$=B(F,1);for(F=B(F,2),P=B(P,2);!x(F);){var U=$.add(F);U.l(M)<=0&&(V=V.add(P),$=U),F=B(F,1),P=B(P,1)}return N=A(M,V.j(N)),new D(V,N)}for(V=p;M.l(N)>=0;){for(P=Math.max(1,Math.floor(M.m()/N.m())),F=Math.ceil(Math.log(P)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),$=f(P),U=$.j(N);S(U)||U.l(M)>0;)P-=F,$=f(P),U=$.j(N);x($)&&($=g),V=V.add($),M=A(M,U)}return new D(V,M)}t.B=function(M){return L(this,M).h},t.and=function(M){const N=Math.max(this.g.length,M.g.length),P=[];for(let F=0;F<N;F++)P[F]=this.i(F)&M.i(F);return new a(P,this.h&M.h)},t.or=function(M){const N=Math.max(this.g.length,M.g.length),P=[];for(let F=0;F<N;F++)P[F]=this.i(F)|M.i(F);return new a(P,this.h|M.h)},t.xor=function(M){const N=Math.max(this.g.length,M.g.length),P=[];for(let F=0;F<N;F++)P[F]=this.i(F)^M.i(F);return new a(P,this.h^M.h)};function j(M){const N=M.g.length+1,P=[];for(let F=0;F<N;F++)P[F]=M.i(F)<<1|M.i(F-1)>>>31;return new a(P,M.h)}function B(M,N){const P=N>>5;N%=32;const F=M.g.length-P,V=[];for(let $=0;$<F;$++)V[$]=N>0?M.i($+P)>>>N|M.i($+P+1)<<32-N:M.i($+P);return new a(V,M.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Uz=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=d,pc=a}).apply(typeof Gj<"u"?Gj:typeof self<"u"?self:typeof window<"u"?window:{});var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fz,Qp,$z,Sv,x_,Hz,qz,Kz;(function(){var t,e=Object.defineProperty;function n(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof I0=="object"&&I0];for(var k=0;k<b.length;++k){var I=b[k];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(b,k){if(k)e:{var I=r;b=b.split(".");for(var z=0;z<b.length-1;z++){var Q=b[z];if(!(Q in I))break e;I=I[Q]}b=b[b.length-1],z=I[b],k=k(z),k!=z&&k!=null&&e(I,b,{configurable:!0,writable:!0,value:k})}}i("Symbol.dispose",function(b){return b||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(b){return b||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(b){return b||function(k){var I=[],z;for(z in k)Object.prototype.hasOwnProperty.call(k,z)&&I.push([z,k[z]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(b){var k=typeof b;return k=="object"&&b!=null||k=="function"}function u(b,k,I){return b.call.apply(b.bind,arguments)}function f(b,k,I){return f=u,f.apply(null,arguments)}function d(b,k){var I=Array.prototype.slice.call(arguments,1);return function(){var z=I.slice();return z.push.apply(z,arguments),b.apply(this,z)}}function p(b,k){function I(){}I.prototype=k.prototype,b.Z=k.prototype,b.prototype=new I,b.prototype.constructor=b,b.Ob=function(z,Q,ne){for(var be=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)be[Qe-2]=arguments[Qe];return k.prototype[Q].apply(z,be)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?b=>b&&AsyncContext.Snapshot.wrap(b):b=>b;function v(b){const k=b.length;if(k>0){const I=Array(k);for(let z=0;z<k;z++)I[z]=b[z];return I}return[]}function x(b,k){for(let z=1;z<arguments.length;z++){const Q=arguments[z];var I=typeof Q;if(I=I!="object"?I:Q?Array.isArray(Q)?"array":I:"null",I=="array"||I=="object"&&typeof Q.length=="number"){I=b.length||0;const ne=Q.length||0;b.length=I+ne;for(let be=0;be<ne;be++)b[I+be]=Q[be]}else b.push(Q)}}class S{constructor(k,I){this.i=k,this.j=I,this.h=0,this.g=null}get(){let k;return this.h>0?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function E(b){a.setTimeout(()=>{throw b},0)}function A(){var b=M;let k=null;return b.g&&(k=b.g,b.g=b.g.next,b.g||(b.h=null),k.next=null),k}class C{constructor(){this.h=this.g=null}add(k,I){const z=D.get();z.set(k,I),this.h?this.h.next=z:this.g=z,this.h=z}}var D=new S(()=>new L,b=>b.reset());class L{constructor(){this.next=this.g=this.h=null}set(k,I){this.h=k,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let j,B=!1,M=new C,N=()=>{const b=Promise.resolve(void 0);j=()=>{b.then(P)}};function P(){for(var b;b=A();){try{b.h.call(b.g)}catch(I){E(I)}var k=D;k.j(b),k.h<100&&(k.h++,b.next=k.g,k.g=b)}B=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(b,k){this.type=b,this.g=this.target=k,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var b=!1,k=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const I=()=>{};a.addEventListener("test",I,k),a.removeEventListener("test",I,k)}catch{}return b})();function U(b){return/^[\s\xa0]*$/.test(b)}function pe(b,k){V.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b&&this.init(b,k)}p(pe,V),pe.prototype.init=function(b,k){const I=this.type=b.type,z=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;this.target=b.target||b.srcElement,this.g=k,k=b.relatedTarget,k||(I=="mouseover"?k=b.fromElement:I=="mouseout"&&(k=b.toElement)),this.relatedTarget=k,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=b.pointerType,this.state=b.state,this.i=b,b.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),G=0;function K(b,k,I,z,Q){this.listener=b,this.proxy=null,this.src=k,this.type=I,this.capture=!!z,this.ha=Q,this.key=++G,this.da=this.fa=!1}function ae(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function ge(b,k,I){for(const z in b)k.call(I,b[z],z,b)}function xe(b,k){for(const I in b)k.call(void 0,b[I],I,b)}function q(b){const k={};for(const I in b)k[I]=b[I];return k}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(b,k){let I,z;for(let Q=1;Q<arguments.length;Q++){z=arguments[Q];for(I in z)b[I]=z[I];for(let ne=0;ne<X.length;ne++)I=X[ne],Object.prototype.hasOwnProperty.call(z,I)&&(b[I]=z[I])}}function we(b){this.src=b,this.g={},this.h=0}we.prototype.add=function(b,k,I,z,Q){const ne=b.toString();b=this.g[ne],b||(b=this.g[ne]=[],this.h++);const be=Ie(b,k,z,Q);return be>-1?(k=b[be],I||(k.fa=!1)):(k=new K(k,this.src,ne,!!z,Q),k.fa=I,b.push(k)),k};function Se(b,k){const I=k.type;if(I in b.g){var z=b.g[I],Q=Array.prototype.indexOf.call(z,k,void 0),ne;(ne=Q>=0)&&Array.prototype.splice.call(z,Q,1),ne&&(ae(k),b.g[I].length==0&&(delete b.g[I],b.h--))}}function Ie(b,k,I,z){for(let Q=0;Q<b.length;++Q){const ne=b[Q];if(!ne.da&&ne.listener==k&&ne.capture==!!I&&ne.ha==z)return Q}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),it={};function fe(b,k,I,z,Q){if(Array.isArray(k)){for(let ne=0;ne<k.length;ne++)fe(b,k[ne],I,z,Q);return null}return I=pi(I),b&&b[ve]?b.J(k,I,l(z)?!!z.capture:!1,Q):ze(b,k,I,!1,z,Q)}function ze(b,k,I,z,Q,ne){if(!k)throw Error("Invalid event type");const be=l(Q)?!!Q.capture:!!Q;let Qe=st(b);if(Qe||(b[Be]=Qe=new we(b)),I=Qe.add(k,I,z,be,ne),I.proxy)return I;if(z=Ke(),I.proxy=z,z.src=b,z.listener=I,b.addEventListener)$||(Q=be),Q===void 0&&(Q=!1),b.addEventListener(k.toString(),z,Q);else if(b.attachEvent)b.attachEvent(Oe(k.toString()),z);else if(b.addListener&&b.removeListener)b.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Ke(){function b(I){return k.call(b.src,b.listener,I)}const k=bt;return b}function de(b,k,I,z,Q){if(Array.isArray(k))for(var ne=0;ne<k.length;ne++)de(b,k[ne],I,z,Q);else z=l(z)?!!z.capture:!!z,I=pi(I),b&&b[ve]?(b=b.i,ne=String(k).toString(),ne in b.g&&(k=b.g[ne],I=Ie(k,I,z,Q),I>-1&&(ae(k[I]),Array.prototype.splice.call(k,I,1),k.length==0&&(delete b.g[ne],b.h--)))):b&&(b=st(b))&&(k=b.g[k.toString()],b=-1,k&&(b=Ie(k,I,z,Q)),(I=b>-1?k[b]:null)&&kt(I))}function kt(b){if(typeof b!="number"&&b&&!b.da){var k=b.src;if(k&&k[ve])Se(k.i,b);else{var I=b.type,z=b.proxy;k.removeEventListener?k.removeEventListener(I,z,b.capture):k.detachEvent?k.detachEvent(Oe(I),z):k.addListener&&k.removeListener&&k.removeListener(z),(I=st(k))?(Se(I,b),I.h==0&&(I.src=null,k[Be]=null)):ae(b)}}}function Oe(b){return b in it?it[b]:it[b]="on"+b}function bt(b,k){if(b.da)b=!0;else{k=new pe(k,this);const I=b.listener,z=b.ha||b.src;b.fa&&kt(b),b=I.call(z,k)}return b}function st(b){return b=b[Be],b instanceof we?b:null}var Kt="__closure_events_fn_"+(Math.random()*1e9>>>0);function pi(b){return typeof b=="function"?b:(b[Kt]||(b[Kt]=function(k){return b.handleEvent(k)}),b[Kt])}function Dt(){F.call(this),this.i=new we(this),this.M=this,this.G=null}p(Dt,F),Dt.prototype[ve]=!0,Dt.prototype.removeEventListener=function(b,k,I,z){de(this,b,k,I,z)};function pn(b,k){var I,z=b.G;if(z)for(I=[];z;z=z.G)I.push(z);if(b=b.M,z=k.type||k,typeof k=="string")k=new V(k,b);else if(k instanceof V)k.target=k.target||b;else{var Q=k;k=new V(z,b),me(k,Q)}Q=!0;let ne,be;if(I)for(be=I.length-1;be>=0;be--)ne=k.g=I[be],Q=us(ne,z,!0,k)&&Q;if(ne=k.g=b,Q=us(ne,z,!0,k)&&Q,Q=us(ne,z,!1,k)&&Q,I)for(be=0;be<I.length;be++)ne=k.g=I[be],Q=us(ne,z,!1,k)&&Q}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var b=this.i;for(const k in b.g){const I=b.g[k];for(let z=0;z<I.length;z++)ae(I[z]);delete b.g[k],b.h--}}this.G=null},Dt.prototype.J=function(b,k,I,z){return this.i.add(String(b),k,!1,I,z)},Dt.prototype.K=function(b,k,I,z){return this.i.add(String(b),k,!0,I,z)};function us(b,k,I,z){if(k=b.i.g[String(k)],!k)return!0;k=k.concat();let Q=!0;for(let ne=0;ne<k.length;++ne){const be=k[ne];if(be&&!be.da&&be.capture==I){const Qe=be.listener,On=be.ha||be.src;be.fa&&Se(b.i,be),Q=Qe.call(On,z)!==!1&&Q}}return Q&&!z.defaultPrevented}function rr(b,k){if(typeof b!="function")if(b&&typeof b.handleEvent=="function")b=f(b.handleEvent,b);else throw Error("Invalid listener argument");return Number(k)>2147483647?-1:a.setTimeout(b,k||0)}function Cn(b){b.g=rr(()=>{b.g=null,b.i&&(b.i=!1,Cn(b))},b.l);const k=b.h;b.h=null,b.m.apply(null,k)}class Tt extends F{constructor(k,I){super(),this.m=k,this.l=I,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Cn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xs(b){F.call(this),this.h=b,this.g={}}p(Xs,F);var Qs=[];function io(b){ge(b.g,function(k,I){this.g.hasOwnProperty(I)&&kt(k)},b),b.g={}}Xs.prototype.N=function(){Xs.Z.N.call(this),io(this)},Xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vi=a.JSON.stringify,Js=a.JSON.parse,Ea=class{stringify(b){return a.JSON.stringify(b,void 0)}parse(b){return a.JSON.parse(b,void 0)}};function Aa(){}function _a(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vn(){V.call(this,"d")}p(vn,V);function Br(){V.call(this,"c")}p(Br,V);var Wt={},so=null;function fs(){return so=so||new Dt}Wt.Ia="serverreachability";function ul(b){V.call(this,Wt.Ia,b)}p(ul,V);function Qr(b){const k=fs();pn(k,new ul(k))}Wt.STAT_EVENT="statevent";function Zs(b,k){V.call(this,Wt.STAT_EVENT,b),this.stat=k}p(Zs,V);function Jt(b){const k=fs();pn(k,new Zs(k,b))}Wt.Ja="timingevent";function It(b,k){V.call(this,Wt.Ja,b),this.size=k}p(It,V);function Ut(b,k){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){b()},k)}function ir(){this.g=!0}ir.prototype.ua=function(){this.g=!1};function Et(b,k,I,z,Q,ne){b.info(function(){if(b.g)if(ne){var be="",Qe=ne.split("&");for(let xt=0;xt<Qe.length;xt++){var On=Qe[xt].split("=");if(On.length>1){const ln=On[0];On=On[1];const xs=ln.split("_");be=xs.length>=2&&xs[1]=="type"?be+(ln+"="+On+"&"):be+(ln+"=redacted&")}}}else be=null;else be=ne;return"XMLHTTP REQ ("+z+") [attempt "+Q+"]: "+k+`
`+I+`
`+be})}function xr(b,k,I,z,Q,ne,be){b.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+Q+"]: "+k+`
`+I+`
`+ne+" "+be})}function mi(b,k,I,z){b.info(function(){return"XMLHTTP TEXT ("+k+"): "+fl(b,I)+(z?" "+z:"")})}function gi(b,k){b.info(function(){return"TIMEOUT: "+k})}ir.prototype.info=function(){};function fl(b,k){if(!b.g)return k;if(!k)return null;try{const ne=JSON.parse(k);if(ne){for(b=0;b<ne.length;b++)if(Array.isArray(ne[b])){var I=ne[b];if(!(I.length<2)){var z=I[1];if(Array.isArray(z)&&!(z.length<1)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let be=1;be<z.length;be++)z[be]=""}}}}return Vi(ne)}catch{return k}}var ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ps;function Bi(){}p(Bi,Aa),Bi.prototype.g=function(){return new XMLHttpRequest},ps=new Bi;function Jr(b){return encodeURIComponent(String(b))}function ka(b){var k=1;b=b.split(":");const I=[];for(;k>0&&b.length;)I.push(b.shift()),k--;return b.length&&I.push(b.join(":")),I}function Zr(b,k,I,z){this.j=b,this.i=k,this.l=I,this.S=z||1,this.V=new Xs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wr}function wr(){this.i=null,this.g="",this.h=!1}var Zt={},mn={};function yi(b,k,I){b.M=1,b.A=ni(Gt(k)),b.u=I,b.R=!0,We(b,null)}function We(b,k){b.F=Date.now(),en(b),b.B=Gt(b.A);var I=b.B,z=b.S;Array.isArray(z)||(z=[String(z)]),Lf(I.i,"t",z),b.C=0,I=b.j.L,b.h=new wr,b.g=Ay(b.j,I?k:null,!b.u),b.P>0&&(b.O=new Tt(f(b.Y,b,b.g),b.P)),k=b.V,I=b.g,z=b.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Qs[0]=Q.toString()),Q=Qs);for(let ne=0;ne<Q.length;ne++){const be=fe(I,Q[ne],z||k.handleEvent,!1,k.h||k);if(!be)break;k.g[be.key]=be}k=b.J?q(b.J):{},b.u?(b.v||(b.v="POST"),k["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.B,b.v,b.u,k)):(b.v="GET",b.g.ea(b.B,b.v,null,k)),Qr(),Et(b.i,b.v,b.B,b.l,b.S,b.u)}Zr.prototype.ba=function(b){b=b.target;const k=this.O;k&&na(b)==3?k.j():this.Y(b)},Zr.prototype.Y=function(b){try{if(b==this.g)e:{const Qe=na(this.g),On=this.g.ya(),xt=this.g.ca();if(!(Qe<3)&&(Qe!=3||this.g&&(this.h.h||this.g.la()||Sr(this.g)))){this.K||Qe!=4||On==7||(On==8||xt<=0?Qr(3):Qr(2)),vi(this);var k=this.g.ca();this.X=k;var I=Pt(this);if(this.o=k==200,xr(this.i,this.v,this.B,this.l,this.S,Qe,k),this.o){if(this.U&&!this.L){t:{if(this.g){var z,Q=this.g;if((z=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(z)){var ne=z;break t}}ne=null}if(b=ne)mi(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gs(this,b);else{this.o=!1,this.m=3,Jt(12),ei(this),ar(this);break e}}if(this.R){b=!0;let ln;for(;!this.K&&this.C<I.length;)if(ln=sr(this,I),ln==mn){Qe==4&&(this.m=4,Jt(14),b=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==Zt){this.m=4,Jt(15),mi(this.i,this.l,I,"[Invalid Chunk]"),b=!1;break}else mi(this.i,this.l,ln,null),gs(this,ln);if(At(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||I.length!=0||this.h.h||(this.m=1,Jt(16),b=!1),this.o=this.o&&b,!b)mi(this.i,this.l,I,"[Invalid Chunked Response]"),ei(this),ar(this);else if(I.length>0&&!this.W){this.W=!0;var be=this.j;be.g==this&&be.aa&&!be.P&&(be.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),ep(be),be.P=!0,Jt(11))}}else mi(this.i,this.l,I,null),gs(this,I);Qe==4&&ei(this),this.o&&!this.K&&(Qe==4?wy(this.j,this):(this.o=!1,en(this)))}else lo(this.g),k==400&&I.indexOf("Unknown SID")>0?(this.m=3,Jt(12)):(this.m=0,Jt(13)),ei(this),ar(this)}}}catch{}finally{}};function Pt(b){if(!At(b))return b.g.la();const k=Sr(b.g);if(k==="")return"";let I="";const z=k.length,Q=na(b.g)==4;if(!b.h.i){if(typeof TextDecoder>"u")return ei(b),ar(b),"";b.h.i=new a.TextDecoder}for(let ne=0;ne<z;ne++)b.h.h=!0,I+=b.h.i.decode(k[ne],{stream:!(Q&&ne==z-1)});return k.length=0,b.h.g+=I,b.C=0,b.h.g}function At(b){return b.g?b.v=="GET"&&b.M!=2&&b.j.Aa:!1}function sr(b,k){var I=b.C,z=k.indexOf(`
`,I);return z==-1?mn:(I=Number(k.substring(I,z)),isNaN(I)?Zt:(z+=1,z+I>k.length?mn:(k=k.slice(z,z+I),b.C=z+I,k)))}Zr.prototype.cancel=function(){this.K=!0,ei(this)};function en(b){b.T=Date.now()+b.H,ms(b,b.H)}function ms(b,k){if(b.D!=null)throw Error("WatchDog timer not null");b.D=Ut(f(b.aa,b),k)}function vi(b){b.D&&(a.clearTimeout(b.D),b.D=null)}Zr.prototype.aa=function(){this.D=null;const b=Date.now();b-this.T>=0?(gi(this.i,this.B),this.M!=2&&(Qr(),Jt(17)),ei(this),this.m=2,ar(this)):ms(this,this.T-b)};function ar(b){b.j.I==0||b.K||wy(b.j,b)}function ei(b){vi(b);var k=b.O;k&&typeof k.dispose=="function"&&k.dispose(),b.O=null,io(b.V),b.g&&(k=b.g,b.g=null,k.abort(),k.dispose())}function gs(b,k){try{var I=b.j;if(I.I!=0&&(I.g==b||zi(I.h,b))){if(!b.L&&zi(I.h,b)&&I.I==3){try{var z=I.Ba.g.parse(k)}catch{z=null}if(Array.isArray(z)&&z.length==3){var Q=z;if(Q[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<b.F)Ff(I),vl(I);else break e;lu(I),Jt(18)}}else I.xa=Q[1],0<I.xa-I.K&&Q[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=Ut(f(I.Va,I),6e3));ti(I.h)<=1&&I.ta&&(I.ta=void 0)}else Da(I,11)}else if((b.L||I.g==b)&&Ff(I),!U(k))for(Q=I.Ba.g.parse(k),k=0;k<Q.length;k++){let xt=Q[k];const ln=xt[0];if(!(ln<=I.K))if(I.K=ln,xt=xt[1],I.I==2)if(xt[0]=="c"){I.M=xt[1],I.ba=xt[2];const xs=xt[3];xs!=null&&(I.ka=xs,I.j.info("VER="+I.ka));const Ia=xt[4];Ia!=null&&(I.za=Ia,I.j.info("SVER="+I.za));const ra=xt[5];ra!=null&&typeof ra=="number"&&ra>0&&(z=1.5*ra,I.O=z,I.j.info("backChannelRequestTimeoutMs_="+z)),z=I;const ia=b.g;if(ia){const cu=ia.g?ia.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cu){var ne=z.h;ne.g||cu.indexOf("spdy")==-1&&cu.indexOf("quic")==-1&&cu.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(eu(ne,ne.h),ne.h=null))}if(z.G){const $f=ia.g?ia.g.getResponseHeader("X-HTTP-Session-Id"):null;$f&&(z.wa=$f,pt(z.J,z.G,$f))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-b.F,I.j.info("Handshake RTT: "+I.T+"ms")),z=I;var be=b;if(z.na=Ey(z,z.L?z.ba:null,z.W),be.L){tu(z.h,be);var Qe=be,On=z.O;On&&(Qe.H=On),Qe.D&&(vi(Qe),en(Qe)),z.g=be}else by(z);I.i.length>0&&Na(I)}else xt[0]!="stop"&&xt[0]!="close"||Da(I,7);else I.I==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Da(I,7):Jh(I):xt[0]!="noop"&&I.l&&I.l.qa(xt),I.A=0)}}Qr(4)}catch{}}var bn=class{constructor(b,k){this.g=b,this.map=k}};function Jc(b){this.l=b||10,a.PerformanceNavigationTiming?(b=a.performance.getEntriesByType("navigation"),b=b.length>0&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zc(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function ti(b){return b.h?1:b.g?b.g.size:0}function zi(b,k){return b.h?b.h==k:b.g?b.g.has(k):!1}function eu(b,k){b.g?b.g.add(k):b.h=k}function tu(b,k){b.h&&b.h==k?b.h=null:b.g&&b.g.has(k)&&b.g.delete(k)}Jc.prototype.cancel=function(){if(this.i=te(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function te(b){if(b.h!=null)return b.i.concat(b.h.G);if(b.g!=null&&b.g.size!==0){let k=b.i;for(const I of b.g.values())k=k.concat(I.G);return k}return v(b.i)}var Ne=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jt(b,k){if(b){b=b.split("&");for(let I=0;I<b.length;I++){const z=b[I].indexOf("=");let Q,ne=null;z>=0?(Q=b[I].substring(0,z),ne=b[I].substring(z+1)):Q=b[I],k(Q,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Xn(b){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let k;b instanceof Xn?(this.l=b.l,dt(this,b.j),this.o=b.o,this.g=b.g,ys(this,b.u),this.h=b.h,ao(this,yy(b.i)),this.m=b.m):b&&(k=String(b).match(Ne))?(this.l=!1,dt(this,k[1]||"",!0),this.o=zr(k[2]||""),this.g=zr(k[3]||"",!0),ys(this,k[4]),this.h=zr(k[5]||"",!0),ao(this,k[6]||"",!0),this.m=zr(k[7]||"")):(this.l=!1,this.i=new hl(null,this.l))}Xn.prototype.toString=function(){const b=[];var k=this.j;k&&b.push(nu(k,Rf,!0),":");var I=this.g;return(I||k=="file")&&(b.push("//"),(k=this.o)&&b.push(nu(k,Rf,!0),"@"),b.push(Jr(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&b.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&b.push("/"),b.push(nu(I,I.charAt(0)=="/"?Kh:py,!0))),(I=this.i.toString())&&b.push("?",I),(I=this.m)&&b.push("#",nu(I,my)),b.join("")},Xn.prototype.resolve=function(b){const k=Gt(this);let I=!!b.j;I?dt(k,b.j):I=!!b.o,I?k.o=b.o:I=!!b.g,I?k.g=b.g:I=b.u!=null;var z=b.h;if(I)ys(k,b.u);else if(I=!!b.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var Q=k.h.lastIndexOf("/");Q!=-1&&(z=k.h.slice(0,Q+1)+z)}if(Q=z,Q==".."||Q==".")z="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){z=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ne=[];for(let be=0;be<Q.length;){const Qe=Q[be++];Qe=="."?z&&be==Q.length&&ne.push(""):Qe==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),z&&be==Q.length&&ne.push("")):(ne.push(Qe),z=!0)}z=ne.join("/")}else z=Q}return I?k.h=z:I=b.i.toString()!=="",I?ao(k,yy(b.i)):I=!!b.m,I&&(k.m=b.m),k};function Gt(b){return new Xn(b)}function dt(b,k,I){b.j=I?zr(k,!0):k,b.j&&(b.j=b.j.replace(/:$/,""))}function ys(b,k){if(k){if(k=Number(k),isNaN(k)||k<0)throw Error("Bad port number "+k);b.u=k}else b.u=null}function ao(b,k,I){k instanceof hl?(b.i=k,Vf(b.i,b.l)):(I||(k=nu(k,dl)),b.i=new hl(k,b.l))}function pt(b,k,I){b.i.set(k,I)}function ni(b){return pt(b,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),b}function zr(b,k){return b?k?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function nu(b,k,I){return typeof b=="string"?(b=encodeURI(b).replace(k,bi),I&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function bi(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Rf=/[#\/\?@]/g,py=/[#\?:]/g,Kh=/[#\?]/g,dl=/[#\?@]/g,my=/#/g;function hl(b,k){this.h=this.g=null,this.i=b||null,this.j=!!k}function xi(b){b.g||(b.g=new Map,b.h=0,b.i&&jt(b.i,function(k,I){b.add(decodeURIComponent(k.replace(/\+/g," ")),I)}))}t=hl.prototype,t.add=function(b,k){xi(this),this.i=null,b=pl(this,b);let I=this.g.get(b);return I||this.g.set(b,I=[]),I.push(k),this.h+=1,this};function gy(b,k){xi(b),k=pl(b,k),b.g.has(k)&&(b.i=null,b.h-=b.g.get(k).length,b.g.delete(k))}function Wh(b,k){return xi(b),k=pl(b,k),b.g.has(k)}t.forEach=function(b,k){xi(this),this.g.forEach(function(I,z){I.forEach(function(Q){b.call(k,Q,z,this)},this)},this)};function Gh(b,k){xi(b);let I=[];if(typeof k=="string")Wh(b,k)&&(I=I.concat(b.g.get(pl(b,k))));else for(b=Array.from(b.g.values()),k=0;k<b.length;k++)I=I.concat(b[k]);return I}t.set=function(b,k){return xi(this),this.i=null,b=pl(this,b),Wh(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[k]),this.h+=1,this},t.get=function(b,k){return b?(b=Gh(this,b),b.length>0?String(b[0]):k):k};function Lf(b,k,I){gy(b,k),I.length>0&&(b.i=null,b.g.set(pl(b,k),v(I)),b.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],k=Array.from(this.g.keys());for(let z=0;z<k.length;z++){var I=k[z];const Q=Jr(I);I=Gh(this,I);for(let ne=0;ne<I.length;ne++){let be=Q;I[ne]!==""&&(be+="="+Jr(I[ne])),b.push(be)}}return this.i=b.join("&")};function yy(b){const k=new hl;return k.i=b.i,b.g&&(k.g=new Map(b.g),k.h=b.h),k}function pl(b,k){return k=String(k),b.j&&(k=k.toLowerCase()),k}function Vf(b,k){k&&!b.j&&(xi(b),b.i=null,b.g.forEach(function(I,z){const Q=z.toLowerCase();z!=Q&&(gy(this,z),Lf(this,Q,I))},b)),b.j=k}function ea(b,k){const I=new ir;if(a.Image){const z=new Image;z.onload=d(vs,I,"TestLoadImage: loaded",!0,k,z),z.onerror=d(vs,I,"TestLoadImage: error",!1,k,z),z.onabort=d(vs,I,"TestLoadImage: abort",!1,k,z),z.ontimeout=d(vs,I,"TestLoadImage: timeout",!1,k,z),a.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=b}else k(!1)}function Yh(b,k){const I=new ir,z=new AbortController,Q=setTimeout(()=>{z.abort(),vs(I,"TestPingServer: timeout",!1,k)},1e4);fetch(b,{signal:z.signal}).then(ne=>{clearTimeout(Q),ne.ok?vs(I,"TestPingServer: ok",!0,k):vs(I,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(Q),vs(I,"TestPingServer: error",!1,k)})}function vs(b,k,I,z,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),z(I)}catch{}}function ml(){this.g=new Ea}function Ca(b){this.i=b.Sb||null,this.h=b.ab||!1}p(Ca,Aa),Ca.prototype.g=function(){return new ru(this.i,this.h)};function ru(b,k){Dt.call(this),this.H=b,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(ru,Dt),t=ru.prototype,t.open=function(b,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=b,this.D=k,this.readyState=1,ta(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const k={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};b&&(k.body=b),(this.H||a).fetch(new Request(this.D,k)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gl(this)),this.readyState=0},t.Pa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,ta(this)),this.g&&(this.readyState=3,ta(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Bf(this)}else b.text().then(this.Oa.bind(this),this.ga.bind(this))};function Bf(b){b.j.read().then(b.Ma.bind(b)).catch(b.ga.bind(b))}t.Ma=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var k=b.value?b.value:new Uint8Array(0);(k=this.B.decode(k,{stream:!b.done}))&&(this.response=this.responseText+=k)}b.done?gl(this):ta(this),this.readyState==3&&Bf(this)}},t.Oa=function(b){this.g&&(this.response=this.responseText=b,gl(this))},t.Na=function(b){this.g&&(this.response=b,gl(this))},t.ga=function(){this.g&&gl(this)};function gl(b){b.readyState=4,b.l=null,b.j=null,b.B=null,ta(b)}t.setRequestHeader=function(b,k){this.A.append(b,k)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],k=this.h.entries();for(var I=k.next();!I.done;)I=I.value,b.push(I[0]+": "+I[1]),I=k.next();return b.join(`\r
`)};function ta(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(ru.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function bs(b){let k="";return ge(b,function(I,z){k+=z,k+=":",k+=I,k+=`\r
`}),k}function iu(b,k,I){e:{for(z in I){var z=!1;break e}z=!0}z||(I=bs(I),typeof b=="string"?I!=null&&Jr(I):pt(b,k,I))}function Rt(b){Dt.call(this),this.headers=new Map,this.L=b||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Rt,Dt);var Oa=/^https?$/i,Xh=["POST","PUT"];t=Rt.prototype,t.Fa=function(b){this.H=b},t.ea=function(b,k,I,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);k=k?k.toUpperCase():"GET",this.D=b,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ps.g(),this.g.onreadystatechange=g(f(this.Ca,this));try{this.B=!0,this.g.open(k,String(b),!0),this.B=!1}catch(ne){su(this,ne);return}if(b=I||"",I=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var Q in z)I.set(Q,z[Q]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ne of z.keys())I.set(ne,z.get(ne));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(I.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=a.FormData&&b instanceof a.FormData,!(Array.prototype.indexOf.call(Xh,k,void 0)>=0)||z||Q||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,be]of I)this.g.setRequestHeader(ne,be);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(b),this.v=!1}catch(ne){su(this,ne)}};function su(b,k){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=k,b.o=5,Qh(b),oo(b)}function Qh(b){b.A||(b.A=!0,pn(b,"complete"),pn(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=b||7,pn(this,"complete"),pn(this,"abort"),oo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oo(this,!0)),Rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?au(this):this.Xa())},t.Xa=function(){au(this)};function au(b){if(b.h&&typeof s<"u"){if(b.v&&na(b)==4)setTimeout(b.Ca.bind(b),0);else if(pn(b,"readystatechange"),na(b)==4){b.h=!1;try{const ne=b.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var I;if(!(I=k)){var z;if(z=ne===0){let be=String(b.D).match(Ne)[1]||null;!be&&a.self&&a.self.location&&(be=a.self.location.protocol.slice(0,-1)),z=!Oa.test(be?be.toLowerCase():"")}I=z}if(I)pn(b,"complete"),pn(b,"success");else{b.o=6;try{var Q=na(b)>2?b.g.statusText:""}catch{Q=""}b.l=Q+" ["+b.ca()+"]",Qh(b)}}finally{oo(b)}}}}function oo(b,k){if(b.g){b.m&&(clearTimeout(b.m),b.m=null);const I=b.g;b.g=null,k||pn(b,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function na(b){return b.g?b.g.readyState:0}t.ca=function(){try{return na(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(b){if(this.g){var k=this.g.responseText;return b&&k.indexOf(b)==0&&(k=k.substring(b.length)),Js(k)}};function Sr(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.F){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function lo(b){const k={};b=(b.g&&na(b)>=2&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<b.length;z++){if(U(b[z]))continue;var I=ka(b[z]);const Q=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ne=k[Q]||[];k[Q]=ne,ne.push(I)}xe(k,function(z){return z.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ma(b,k,I){return I&&I.internalChannelParams&&I.internalChannelParams[b]||k}function yl(b){this.za=0,this.i=[],this.j=new ir,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ma("failFast",!1,b),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ma("baseRetryDelayMs",5e3,b),this.Za=Ma("retryDelaySeedMs",1e4,b),this.Ta=Ma("forwardChannelMaxRetries",2,b),this.va=Ma("forwardChannelRequestTimeoutMs",2e4,b),this.ma=b&&b.xmlHttpFactory||void 0,this.Ua=b&&b.Rb||void 0,this.Aa=b&&b.useFetchStreams||!1,this.O=void 0,this.L=b&&b.supportsCrossDomainXhr||!1,this.M="",this.h=new Jc(b&&b.concurrentRequestLimit),this.Ba=new ml,this.S=b&&b.fastHandshake||!1,this.R=b&&b.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=b&&b.Pb||!1,b&&b.ua&&this.j.ua(),b&&b.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&b&&b.detectBufferingProxy||!1,this.ia=void 0,b&&b.longPollingTimeout&&b.longPollingTimeout>0&&(this.ia=b.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=yl.prototype,t.ka=8,t.I=1,t.connect=function(b,k,I,z){Jt(0),this.W=b,this.H=k||{},I&&z!==void 0&&(this.H.OSID=I,this.H.OAID=z),this.F=this.X,this.J=Ey(this,null,this.W),Na(this)};function Jh(b){if(zf(b),b.I==3){var k=b.V++,I=Gt(b.J);if(pt(I,"SID",b.M),pt(I,"RID",k),pt(I,"TYPE","terminate"),ou(b,I),k=new Zr(b,b.j,k),k.M=2,k.A=ni(Gt(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(k.A.toString(),"")}catch{}!I&&a.Image&&(new Image().src=k.A,I=!0),I||(k.g=Ay(k.j,null),k.g.ea(k.A)),k.F=Date.now(),en(k)}Ty(b)}function vl(b){b.g&&(ep(b),b.g.cancel(),b.g=null)}function zf(b){vl(b),b.v&&(a.clearTimeout(b.v),b.v=null),Ff(b),b.h.cancel(),b.m&&(typeof b.m=="number"&&a.clearTimeout(b.m),b.m=null)}function Na(b){if(!Zc(b.h)&&!b.m){b.m=!0;var k=b.Ea;j||N(),B||(j(),B=!0),M.add(k,b),b.D=0}}function Uf(b,k){return ti(b.h)>=b.h.j-(b.m?1:0)?!1:b.m?(b.i=k.G.concat(b.i),!0):b.I==1||b.I==2||b.D>=(b.Sa?0:b.Ta)?!1:(b.m=Ut(f(b.Ea,b,k),Sy(b,b.D)),b.D++,!0)}t.Ea=function(b){if(this.m)if(this.m=null,this.I==1){if(!b){this.V=Math.floor(Math.random()*1e5),b=this.V++;const Q=new Zr(this,this.j,b);let ne=this.o;if(this.U&&(ne?(ne=q(ne),me(ne,this.U)):ne=this.U),this.u!==null||this.R||(Q.J=ne,ne=null),this.S)e:{for(var k=0,I=0;I<this.i.length;I++){t:{var z=this.i[I];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(k+=z,k>4096){k=I;break e}if(k===4096||I===this.i.length-1){k=I+1;break e}}k=1e3}else k=1e3;k=vy(this,Q,k),I=Gt(this.J),pt(I,"RID",b),pt(I,"CVER",22),this.G&&pt(I,"X-HTTP-Session-Id",this.G),ou(this,I),ne&&(this.R?k="headers="+Jr(bs(ne))+"&"+k:this.u&&iu(I,this.u,ne)),eu(this.h,Q),this.Ra&&pt(I,"TYPE","init"),this.S?(pt(I,"$req",k),pt(I,"SID","null"),Q.U=!0,yi(Q,I,null)):yi(Q,I,k),this.I=2}}else this.I==3&&(b?Zh(this,b):this.i.length==0||Zc(this.h)||Zh(this))};function Zh(b,k){var I;k?I=k.l:I=b.V++;const z=Gt(b.J);pt(z,"SID",b.M),pt(z,"RID",I),pt(z,"AID",b.K),ou(b,z),b.u&&b.o&&iu(z,b.u,b.o),I=new Zr(b,b.j,I,b.D+1),b.u===null&&(I.J=b.o),k&&(b.i=k.G.concat(b.i)),k=vy(b,I,1e3),I.H=Math.round(b.va*.5)+Math.round(b.va*.5*Math.random()),eu(b.h,I),yi(I,z,k)}function ou(b,k){b.H&&ge(b.H,function(I,z){pt(k,z,I)}),b.l&&ge({},function(I,z){pt(k,z,I)})}function vy(b,k,I){I=Math.min(b.i.length,I);const z=b.l?f(b.l.Ka,b.l,b):null;e:{var Q=b.i;let Qe=-1;for(;;){const On=["count="+I];Qe==-1?I>0?(Qe=Q[0].g,On.push("ofs="+Qe)):Qe=0:On.push("ofs="+Qe);let xt=!0;for(let ln=0;ln<I;ln++){var ne=Q[ln].g;const xs=Q[ln].map;if(ne-=Qe,ne<0)Qe=Math.max(0,Q[ln].g-100),xt=!1;else try{ne="req"+ne+"_"||"";try{var be=xs instanceof Map?xs:Object.entries(xs);for(const[Ia,ra]of be){let ia=ra;l(ra)&&(ia=Vi(ra)),On.push(ne+Ia+"="+encodeURIComponent(ia))}}catch(Ia){throw On.push(ne+"type="+encodeURIComponent("_badmap")),Ia}}catch{z&&z(xs)}}if(xt){be=On.join("&");break e}}be=void 0}return b=b.i.splice(0,I),k.G=b,be}function by(b){if(!b.g&&!b.v){b.Y=1;var k=b.Da;j||N(),B||(j(),B=!0),M.add(k,b),b.A=0}}function lu(b){return b.g||b.v||b.A>=3?!1:(b.Y++,b.v=Ut(f(b.Da,b),Sy(b,b.A)),b.A++,!0)}t.Da=function(){if(this.v=null,xy(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var b=4*this.T;this.j.info("BP detection timer enabled: "+b),this.B=Ut(f(this.Wa,this),b)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Jt(10),vl(this),xy(this))};function ep(b){b.B!=null&&(a.clearTimeout(b.B),b.B=null)}function xy(b){b.g=new Zr(b,b.j,"rpc",b.Y),b.u===null&&(b.g.J=b.o),b.g.P=0;var k=Gt(b.na);pt(k,"RID","rpc"),pt(k,"SID",b.M),pt(k,"AID",b.K),pt(k,"CI",b.F?"0":"1"),!b.F&&b.ia&&pt(k,"TO",b.ia),pt(k,"TYPE","xmlhttp"),ou(b,k),b.u&&b.o&&iu(k,b.u,b.o),b.O&&(b.g.H=b.O);var I=b.g;b=b.ba,I.M=1,I.A=ni(Gt(k)),I.u=null,I.R=!0,We(I,b)}t.Va=function(){this.C!=null&&(this.C=null,vl(this),lu(this),Jt(19))};function Ff(b){b.C!=null&&(a.clearTimeout(b.C),b.C=null)}function wy(b,k){var I=null;if(b.g==k){Ff(b),ep(b),b.g=null;var z=2}else if(zi(b.h,k))I=k.G,tu(b.h,k),z=1;else return;if(b.I!=0){if(k.o)if(z==1){I=k.u?k.u.length:0,k=Date.now()-k.F;var Q=b.D;z=fs(),pn(z,new It(z,I)),Na(b)}else by(b);else if(Q=k.m,Q==3||Q==0&&k.X>0||!(z==1&&Uf(b,k)||z==2&&lu(b)))switch(I&&I.length>0&&(k=b.h,k.i=k.i.concat(I)),Q){case 1:Da(b,5);break;case 4:Da(b,10);break;case 3:Da(b,6);break;default:Da(b,2)}}}function Sy(b,k){let I=b.Qa+Math.floor(Math.random()*b.Za);return b.isActive()||(I*=2),I*k}function Da(b,k){if(b.j.info("Error code "+k),k==2){var I=f(b.bb,b),z=b.Ua;const Q=!z;z=new Xn(z||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||dt(z,"https"),ni(z),Q?ea(z.toString(),I):Yh(z.toString(),I)}else Jt(2);b.I=0,b.l&&b.l.pa(k),Ty(b),zf(b)}t.bb=function(b){b?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function Ty(b){if(b.I=0,b.ja=[],b.l){const k=te(b.h);(k.length!=0||b.i.length!=0)&&(x(b.ja,k),x(b.ja,b.i),b.h.i.length=0,v(b.i),b.i.length=0),b.l.oa()}}function Ey(b,k,I){var z=I instanceof Xn?Gt(I):new Xn(I);if(z.g!="")k&&(z.g=k+"."+z.g),ys(z,z.u);else{var Q=a.location;z=Q.protocol,k=k?k+"."+Q.hostname:Q.hostname,Q=+Q.port;const ne=new Xn(null);z&&dt(ne,z),k&&(ne.g=k),Q&&ys(ne,Q),I&&(ne.h=I),z=ne}return I=b.G,k=b.wa,I&&k&&pt(z,I,k),pt(z,"VER",b.ka),ou(b,z),z}function Ay(b,k,I){if(k&&!b.L)throw Error("Can't create secondary domain capable XhrIo object.");return k=b.Aa&&!b.ma?new Rt(new Ca({ab:I})):new Rt(b.ma),k.Fa(b.L),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _y(){}t=_y.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function bl(){}bl.prototype.g=function(b,k){return new ri(b,k)};function ri(b,k){Dt.call(this),this.g=new yl(k),this.l=b,this.h=k&&k.messageUrlParams||null,b=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(b?b["X-WebChannel-Content-Type"]=k.messageContentType:b={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.sa&&(b?b["X-WebChannel-Client-Profile"]=k.sa:b={"X-WebChannel-Client-Profile":k.sa}),this.g.U=b,(b=k&&k.Qb)&&!U(b)&&(this.g.u=b),this.A=k&&k.supportsCrossDomainXhr||!1,this.v=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!U(k)&&(this.g.G=k,b=this.h,b!==null&&k in b&&(b=this.h,k in b&&delete b[k])),this.j=new co(this)}p(ri,Dt),ri.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ri.prototype.close=function(){Jh(this.g)},ri.prototype.o=function(b){var k=this.g;if(typeof b=="string"){var I={};I.__data__=b,b=I}else this.v&&(I={},I.__data__=Vi(b),b=I);k.i.push(new bn(k.Ya++,b)),k.I==3&&Na(k)},ri.prototype.N=function(){this.g.l=null,delete this.j,Jh(this.g),delete this.g,ri.Z.N.call(this)};function ky(b){vn.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var k=b.__sm__;if(k){e:{for(const I in k){b=I;break e}b=void 0}(this.i=b)&&(b=this.i,k=k!==null&&b in k?k[b]:void 0),this.data=k}else this.data=b}p(ky,vn);function Cy(){Br.call(this),this.status=1}p(Cy,Br);function co(b){this.g=b}p(co,_y),co.prototype.ra=function(){pn(this.g,"a")},co.prototype.qa=function(b){pn(this.g,new ky(b))},co.prototype.pa=function(b){pn(this.g,new Cy)},co.prototype.oa=function(){pn(this.g,"b")},bl.prototype.createWebChannel=bl.prototype.g,ri.prototype.send=ri.prototype.o,ri.prototype.open=ri.prototype.m,ri.prototype.close=ri.prototype.close,Kz=function(){return new bl},qz=function(){return fs()},Hz=Wt,x_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,Sv=ds,hs.COMPLETE="complete",$z=hs,_a.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,Qp=_a,Rt.prototype.listenOnce=Rt.prototype.K,Rt.prototype.getLastError=Rt.prototype.Ha,Rt.prototype.getLastErrorCode=Rt.prototype.ya,Rt.prototype.getStatus=Rt.prototype.ca,Rt.prototype.getResponseJson=Rt.prototype.La,Rt.prototype.getResponseText=Rt.prototype.la,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Fa,Fz=Rt}).apply(typeof I0<"u"?I0:typeof self<"u"?self:typeof window<"u"?window:{});const Yj="@firebase/firestore",Xj="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qr.UNAUTHENTICATED=new qr(null),qr.GOOGLE_CREDENTIALS=new qr("google-credentials-uid"),qr.FIRST_PARTY=new qr("first-party-uid"),qr.MOCK_USER=new qr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new UC("@firebase/firestore");function Td(){return cf.logLevel}function Ae(t,...e){if(cf.logLevel<=lt.DEBUG){const n=e.map(QC);cf.debug(`Firestore (${_h}): ${t}`,...n)}}function qo(t,...e){if(cf.logLevel<=lt.ERROR){const n=e.map(QC);cf.error(`Firestore (${_h}): ${t}`,...n)}}function eh(t,...e){if(cf.logLevel<=lt.WARN){const n=e.map(QC);cf.warn(`Firestore (${_h}): ${t}`,...n)}}function QC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Wz(t,r,n)}function Wz(t,e,n){let r=`FIRESTORE (${_h}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qo(r),new Error(r)}function _t(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Wz(e,i,r)}function Xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends el{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(qr.UNAUTHENTICATED)))}shutdown(){}}class jee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Ree{constructor(e){this.t=e,this.currentUser=qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new qu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qu,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const u=s;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},l=u=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qu)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string",31837,{l:r}),new Gz(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new qr(e)}}class Lee{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=qr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Vee{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Lee(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(qr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Qj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bee{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ua(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_t(this.o===void 0,3512);const r=s=>{s.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Ae("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Qj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Qj(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zee(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=zee(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function w_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return MT(i)===MT(s)?ct(i,s):MT(i)?1:-1}return ct(t.length,e.length)}const Uee=55296,Fee=57343;function MT(t){const e=t.charCodeAt(0);return e>=Uee&&e<=Fee}function th(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj="__name__";class $a{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $a.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $a?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=$a.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ct(e.length,n.length)}static compareSegments(e,n){const r=$a.isNumericId(e),i=$a.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?$a.extractNumericId(e).compare($a.extractNumericId(n)):w_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pc.fromString(e.substring(4,e.length-2))}}class Xt extends $a{construct(e,n,r){return new Xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Xt(n)}static emptyPath(){return new Xt([])}}const $ee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends $a{construct(e,n,r){return new Pr(e,n,r)}static isValidIdentifier(e){return $ee.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jj}static keyField(){return new Pr([Jj])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Te(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Te(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Te(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new Te(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pr(n)}static emptyPath(){return new Pr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(Xt.fromString(e))}static fromName(e){return new Re(Xt.fromString(e).popFirst(5))}static empty(){return new Re(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new Xt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(t,e,n){if(!n)throw new Te(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Hee(t,e,n,r){if(e===!0&&r===!0)throw new Te(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Zj(t){if(!Re.isDocumentKey(t))throw new Te(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eR(t){if(Re.isDocumentKey(t))throw new Te(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xz(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Gx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe(12329,{type:typeof t})}function ga(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gx(t);throw new Te(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t,e){const n={typeString:t};return e&&(n.value=e),n}function kg(t,e){if(!Xz(t))throw new Te(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Te(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=-62135596800,nR=1e6;class an{static now(){return an.fromMillis(Date.now())}static fromDate(e){return an.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*nR);return new an(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tR)throw new Te(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nR}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:an._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kg(e,an._jsonSchema))return new an(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}an._jsonSchemaVersion="firestore/timestamp/1.0",an._jsonSchema={type:Hn("string",an._jsonSchemaVersion),seconds:Hn("number"),nanoseconds:Hn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new an(0,0))}static max(){return new Ge(new an(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=-1;function qee(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(r===1e9?new an(n+1,0):new an(n,r));return new Tc(i,Re.empty(),e)}function Kee(t){return new Tc(t.readTime,t.key,Rm)}class Tc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Tc(Ge.min(),Re.empty(),Rm)}static max(){return new Tc(Ge.max(),Re.empty(),Rm)}}function Wee(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==Gee)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,r)=>{n(e)}))}static reject(e){return new ue(((n,r)=>{r(e)}))}static waitFor(e){return new ue(((n,r)=>{let i=0,s=0,a=!1;e.forEach((l=>{++i,l.next((()=>{++s,a&&s===i&&n()}),(u=>r(u)))})),a=!0,s===i&&n()}))}static or(e){let n=ue.resolve(!1);for(const r of e)n=n.next((i=>i?ue.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new ue(((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const f=u;n(e[f]).next((d=>{a[f]=d,++l,l===s&&r(a)}),(d=>i(d)))}}))}static doWhile(e,n){return new ue(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function Xee(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ch(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=-1;function Xx(t){return t==null}function eb(t){return t===0&&1/t==-1/0}function Qee(t){return typeof t=="number"&&Number.isInteger(t)&&!eb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz="";function Jee(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=rR(e)),e=Zee(t.get(n),e);return rR(e)}function Zee(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Qz:n+="";break;default:n+=s}}return n}function rR(t){return t+Qz+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Jz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n){this.comparator=e,this.root=n||Mr.EMPTY}insert(e,n){return new yn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mr.BLACK,null,null))}remove(e){return new yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new P0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new P0(this.root,e,this.comparator,!1)}getReverseIterator(){return new P0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new P0(this.root,e,this.comparator,!0)}}class P0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Mr.RED,this.left=i??Mr.EMPTY,this.right=s??Mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Mr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Mr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}Mr.EMPTY=null,Mr.RED=!0,Mr.BLACK=!1;Mr.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.comparator=e,this.data=new yn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sR(this.data.getIterator())}getIteratorFrom(e){return new sR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Zn(this.comparator);return n.data=e,n}}class sR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.fields=e,e.sort(Pr.comparator)}static empty(){return new es([])}unionWith(e){let n=new Zn(Pr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new es(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return th(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Zz("Invalid base64 string: "+s):s}})(e);return new Vr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new Vr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vr.EMPTY_BYTE_STRING=new Vr("");const ete=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ec(t){if(_t(!!t,39018),typeof t=="string"){let e=0;const n=ete.exec(t);if(_t(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:In(t.seconds),nanos:In(t.nanos)}}function In(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ac(t){return typeof t=="string"?Vr.fromBase64String(t):Vr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU="server_timestamp",tU="__type__",nU="__previous_value__",rU="__local_write_time__";function e2(t){return(t?.mapValue?.fields||{})[tU]?.stringValue===eU}function Qx(t){const e=t.mapValue.fields[nU];return e2(e)?Qx(e):e}function Lm(t){const e=Ec(t.mapValue.fields[rU].timestampValue);return new an(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tte{constructor(e,n,r,i,s,a,l,u,f,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=d}}const tb="(default)";class Vm{constructor(e,n){this.projectId=e,this.database=n||tb}static empty(){return new Vm("","")}get isDefaultDatabase(){return this.database===tb}isEqual(e){return e instanceof Vm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU="__type__",nte="__max__",j0={mapValue:{}},sU="__vector__",nb="value";function _c(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?e2(t)?4:ite(t)?9007199254740991:rte(t)?10:11:Fe(28295,{value:t})}function Za(t,e){if(t===e)return!0;const n=_c(t);if(n!==_c(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lm(t).isEqual(Lm(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Ec(i.timestampValue),l=Ec(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Ac(i.bytesValue).isEqual(Ac(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return In(i.geoPointValue.latitude)===In(s.geoPointValue.latitude)&&In(i.geoPointValue.longitude)===In(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return In(i.integerValue)===In(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=In(i.doubleValue),l=In(s.doubleValue);return a===l?eb(a)===eb(l):isNaN(a)&&isNaN(l)}return!1})(t,e);case 9:return th(t.arrayValue.values||[],e.arrayValue.values||[],Za);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(iR(a)!==iR(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Za(a[u],l[u])))return!1;return!0})(t,e);default:return Fe(52216,{left:t})}}function Bm(t,e){return(t.values||[]).find((n=>Za(n,e)))!==void 0}function nh(t,e){if(t===e)return 0;const n=_c(t),r=_c(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const l=In(s.integerValue||s.doubleValue),u=In(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return aR(t.timestampValue,e.timestampValue);case 4:return aR(Lm(t),Lm(e));case 5:return w_(t.stringValue,e.stringValue);case 6:return(function(s,a){const l=Ac(s),u=Ac(a);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const l=s.split("/"),u=a.split("/");for(let f=0;f<l.length&&f<u.length;f++){const d=ct(l[f],u[f]);if(d!==0)return d}return ct(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const l=ct(In(s.latitude),In(a.latitude));return l!==0?l:ct(In(s.longitude),In(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return oR(t.arrayValue,e.arrayValue);case 10:return(function(s,a){const l=s.fields||{},u=a.fields||{},f=l[nb]?.arrayValue,d=u[nb]?.arrayValue,p=ct(f?.values?.length||0,d?.values?.length||0);return p!==0?p:oR(f,d)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===j0.mapValue&&a===j0.mapValue)return 0;if(s===j0.mapValue)return 1;if(a===j0.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),f=a.fields||{},d=Object.keys(f);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const g=w_(u[p],d[p]);if(g!==0)return g;const v=nh(l[u[p]],f[d[p]]);if(v!==0)return v}return ct(u.length,d.length)})(t.mapValue,e.mapValue);default:throw Fe(23264,{he:n})}}function aR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=Ec(t),r=Ec(e),i=ct(n.seconds,r.seconds);return i!==0?i:ct(n.nanos,r.nanos)}function oR(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=nh(n[i],r[i]);if(s)return s}return ct(n.length,r.length)}function rh(t){return S_(t)}function S_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ec(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ac(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Re.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=S_(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${S_(n.fields[a])}`;return i+"}"})(t.mapValue):Fe(61005,{value:t})}function Tv(t){switch(_c(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qx(t);return e?16+Tv(e):16;case 5:return 2*t.stringValue.length;case 6:return Ac(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Tv(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Bc(r.fields,((s,a)=>{i+=s.length+Tv(a)})),i})(t.mapValue);default:throw Fe(13486,{value:t})}}function lR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function T_(t){return!!t&&"integerValue"in t}function t2(t){return!!t&&"arrayValue"in t}function cR(t){return!!t&&"nullValue"in t}function uR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ev(t){return!!t&&"mapValue"in t}function rte(t){return(t?.mapValue?.fields||{})[iU]?.stringValue===sU}function fm(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=fm(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fm(t.arrayValue.values[n]);return e}return{...t}}function ite(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nte}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.value=e}static empty(){return new Oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ev(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fm(n)}setAll(e){let n=Pr.emptyPath(),r={},i=[];e.forEach(((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=fm(a):i.push(l.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ev(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Za(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ev(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bc(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Oi(fm(this.value))}}function aU(t){const e=[];return Bc(t.fields,((n,r)=>{const i=new Pr([n]);if(Ev(r)){const s=aU(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new es(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Kr(e,0,Ge.min(),Ge.min(),Ge.min(),Oi.empty(),0)}static newFoundDocument(e,n,r,i){return new Kr(e,1,n,Ge.min(),r,i,0)}static newNoDocument(e,n){return new Kr(e,2,n,Ge.min(),Ge.min(),Oi.empty(),0)}static newUnknownDocument(e,n){return new Kr(e,3,n,Ge.min(),Ge.min(),Oi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n){this.position=e,this.inclusive=n}}function fR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Re.comparator(Re.fromName(a.referenceValue),n.key):r=nh(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function dR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Za(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n="asc"){this.field=e,this.dir=n}}function ste(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{}class $n extends oU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ote(e,n,r):n==="array-contains"?new ute(e,r):n==="in"?new fte(e,r):n==="not-in"?new dte(e,r):n==="array-contains-any"?new hte(e,r):new $n(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lte(e,r):new cte(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(nh(n,this.value)):n!==null&&_c(this.value)===_c(n)&&this.matchesComparison(nh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ba extends oU{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ba(e,n)}matches(e){return lU(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lU(t){return t.op==="and"}function cU(t){return ate(t)&&lU(t)}function ate(t){for(const e of t.filters)if(e instanceof ba)return!1;return!0}function E_(t){if(t instanceof $n)return t.field.canonicalString()+t.op.toString()+rh(t.value);if(cU(t))return t.filters.map((e=>E_(e))).join(",");{const e=t.filters.map((n=>E_(n))).join(",");return`${t.op}(${e})`}}function uU(t,e){return t instanceof $n?(function(r,i){return i instanceof $n&&r.op===i.op&&r.field.isEqual(i.field)&&Za(r.value,i.value)})(t,e):t instanceof ba?(function(r,i){return i instanceof ba&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,l)=>s&&uU(a,i.filters[l])),!0):!1})(t,e):void Fe(19439)}function fU(t){return t instanceof $n?(function(n){return`${n.field.canonicalString()} ${n.op} ${rh(n.value)}`})(t):t instanceof ba?(function(n){return n.op.toString()+" {"+n.getFilters().map(fU).join(" ,")+"}"})(t):"Filter"}class ote extends $n{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class lte extends $n{constructor(e,n){super(e,"in",n),this.keys=dU("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class cte extends $n{constructor(e,n){super(e,"not-in",n),this.keys=dU("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function dU(t,e){return(e.arrayValue?.values||[]).map((n=>Re.fromName(n.referenceValue)))}class ute extends $n{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return t2(n)&&Bm(n.arrayValue,this.value)}}class fte extends $n{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bm(this.value.arrayValue,n)}}class dte extends $n{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bm(this.value.arrayValue,n)}}class hte extends $n{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!t2(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Bm(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pte{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function hR(t,e=null,n=[],r=[],i=null,s=null,a=null){return new pte(t,e,n,r,i,s,a)}function n2(t){const e=Xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>E_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Xx(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>rh(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>rh(r))).join(",")),e.Te=n}return e.Te}function r2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ste(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dR(t.startAt,e.startAt)&&dR(t.endAt,e.endAt)}function A_(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mte(t,e,n,r,i,s,a,l){return new Oh(t,e,n,r,i,s,a,l)}function i2(t){return new Oh(t)}function pR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hU(t){return t.collectionGroup!==null}function dm(t){const e=Xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Zn(Pr.comparator);return a.filters.forEach((u=>{u.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new zm(s,r))})),n.has(Pr.keyField().canonicalString())||e.Ie.push(new zm(Pr.keyField(),r))}return e.Ie}function Wa(t){const e=Xe(t);return e.Ee||(e.Ee=gte(e,dm(t))),e.Ee}function gte(t,e){if(t.limitType==="F")return hR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new zm(i.field,s)}));const n=t.endAt?new rb(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rb(t.startAt.position,t.startAt.inclusive):null;return hR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function __(t,e){const n=t.filters.concat([e]);return new Oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function k_(t,e,n){return new Oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jx(t,e){return r2(Wa(t),Wa(e))&&t.limitType===e.limitType}function pU(t){return`${n2(Wa(t))}|lt:${t.limitType}`}function Ed(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>fU(i))).join(", ")}]`),Xx(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>rh(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>rh(i))).join(",")),`Target(${r})`})(Wa(t))}; limitType=${t.limitType})`}function Zx(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of dm(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,l,u){const f=fR(a,l,u);return a.inclusive?f<=0:f<0})(r.startAt,dm(r),i)||r.endAt&&!(function(a,l,u){const f=fR(a,l,u);return a.inclusive?f>=0:f>0})(r.endAt,dm(r),i))})(t,e)}function yte(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mU(t){return(e,n)=>{let r=!1;for(const i of dm(t)){const s=vte(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function vte(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):(function(s,a,l){const u=a.data.field(s),f=l.data.field(s);return u!==null&&f!==null?nh(u,f):Fe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bc(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return Jz(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte=new yn(Re.comparator);function Ko(){return bte}const gU=new yn(Re.comparator);function Jp(...t){let e=gU;for(const n of t)e=e.insert(n.key,n);return e}function yU(t){let e=gU;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Pu(){return hm()}function vU(){return hm()}function hm(){return new Af((t=>t.toString()),((t,e)=>t.isEqual(e)))}const xte=new yn(Re.comparator),wte=new Zn(Re.comparator);function ut(...t){let e=wte;for(const n of t)e=e.add(n);return e}const Ste=new Zn(ct);function Tte(){return Ste}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eb(e)?"-0":e}}function bU(t){return{integerValue:""+t}}function Ete(t,e){return Qee(e)?bU(e):s2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this._=void 0}}function Ate(t,e,n){return t instanceof Um?(function(i,s){const a={fields:{[tU]:{stringValue:eU},[rU]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&e2(s)&&(s=Qx(s)),s&&(a.fields[nU]=s),{mapValue:a}})(n,e):t instanceof Fm?wU(t,e):t instanceof $m?SU(t,e):(function(i,s){const a=xU(i,s),l=mR(a)+mR(i.Ae);return T_(a)&&T_(i.Ae)?bU(l):s2(i.serializer,l)})(t,e)}function _te(t,e,n){return t instanceof Fm?wU(t,e):t instanceof $m?SU(t,e):n}function xU(t,e){return t instanceof ib?(function(r){return T_(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Um extends e1{}class Fm extends e1{constructor(e){super(),this.elements=e}}function wU(t,e){const n=TU(e);for(const r of t.elements)n.some((i=>Za(i,r)))||n.push(r);return{arrayValue:{values:n}}}class $m extends e1{constructor(e){super(),this.elements=e}}function SU(t,e){let n=TU(e);for(const r of t.elements)n=n.filter((i=>!Za(i,r)));return{arrayValue:{values:n}}}class ib extends e1{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function mR(t){return In(t.integerValue||t.doubleValue)}function TU(t){return t2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kte{constructor(e,n){this.field=e,this.transform=n}}function Cte(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Fm&&i instanceof Fm||r instanceof $m&&i instanceof $m?th(r.elements,i.elements,Za):r instanceof ib&&i instanceof ib?Za(r.Ae,i.Ae):r instanceof Um&&i instanceof Um})(t.transform,e.transform)}class Ote{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Av(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class t1{}function EU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new n1(t.key,ci.none()):new Cg(t.key,t.data,ci.none());{const n=t.data,r=Oi.empty();let i=new Zn(Pr.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new zc(t.key,r,new es(i.toArray()),ci.none())}}function Mte(t,e,n){t instanceof Cg?(function(i,s,a){const l=i.value.clone(),u=yR(i.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):t instanceof zc?(function(i,s,a){if(!Av(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=yR(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(AU(i)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function pm(t,e,n,r){return t instanceof Cg?(function(s,a,l,u){if(!Av(s.precondition,a))return l;const f=s.value.clone(),d=vR(s.fieldTransforms,u,a);return f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof zc?(function(s,a,l,u){if(!Av(s.precondition,a))return l;const f=vR(s.fieldTransforms,u,a),d=a.data;return d.setAll(AU(s)),d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,a,l){return Av(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(t,e,n)}function Nte(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=xU(r.transform,i||null);s!=null&&(n===null&&(n=Oi.empty()),n.set(r.field,s))}return n||null}function gR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&th(r,i,((s,a)=>Cte(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cg extends t1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zc extends t1{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AU(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function yR(t,e,n){const r=new Map;_t(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,_te(a,l,n[i]))}return r}function vR(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,Ate(s,a,e))}return r}class n1 extends t1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dte extends t1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ite{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Mte(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vU();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const u=EU(a,l);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(Ge.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ut())}isEqual(e){return this.batchId===e.batchId&&th(this.mutations,e.mutations,((n,r)=>gR(n,r)))&&th(this.baseMutations,e.baseMutations,((n,r)=>gR(n,r)))}}class a2{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_t(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return xte})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new a2(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn,ht;function Rte(t){switch(t){case le.OK:return Fe(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Fe(15467,{code:t})}}function _U(t){if(t===void 0)return qo("GRPC error has no .code"),le.UNKNOWN;switch(t){case zn.OK:return le.OK;case zn.CANCELLED:return le.CANCELLED;case zn.UNKNOWN:return le.UNKNOWN;case zn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case zn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case zn.INTERNAL:return le.INTERNAL;case zn.UNAVAILABLE:return le.UNAVAILABLE;case zn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case zn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case zn.NOT_FOUND:return le.NOT_FOUND;case zn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case zn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case zn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case zn.ABORTED:return le.ABORTED;case zn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case zn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case zn.DATA_LOSS:return le.DATA_LOSS;default:return Fe(39323,{code:t})}}(ht=zn||(zn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lte(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vte=new pc([4294967295,4294967295],0);function bR(t){const e=Lte().encode(t),n=new Uz;return n.update(e),new Uint8Array(n.digest())}function xR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new pc([n,r],0),new pc([i,s],0)]}class o2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zp(`Invalid padding: ${n}`);if(r<0)throw new Zp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zp(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zp(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=pc.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(pc.fromNumber(r)));return i.compare(Vte)===1&&(i=new pc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bR(e),[r,i]=xR(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new o2(s,i,n);return r.forEach((l=>a.insert(l))),a}insert(e){if(this.ge===0)return;const n=bR(e),[r,i]=xR(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Og.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new r1(Ge.min(),i,new yn(ct),Ko(),ut())}}class Og{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Og(r,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class kU{constructor(e,n){this.targetId=e,this.Ce=n}}class CU{constructor(e,n,r=Vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class wR{constructor(){this.ve=0,this.Fe=SR(),this.Me=Vr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),n=ut(),r=ut();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Fe(38017,{changeType:s})}})),new Og(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=SR()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Bte{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ko(),this.Je=R0(),this.He=R0(),this.Ye=new yn(ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Fe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(A_(s))if(r===0){const a=new Re(s.path);this.et(n,a,Kr.newNoDocument(a,Ge.min()))}else _t(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),u=l?this.ct(l,e,a):1;if(u!==0){this.it(n);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=Ac(r).toUint8Array()}catch(u){if(u instanceof Zz)return eh("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new o2(a,i,s)}catch(u){return eh(u instanceof Zp?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,a)=>{const l=this.ot(a);if(l){if(s.current&&A_(l.target)){const u=new Re(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,Kr.newNoDocument(u,e))}s.Be&&(n.set(a,s.ke()),s.qe())}}));let r=ut();this.He.forEach(((s,a)=>{let l=!0;a.forEachWhile((u=>{const f=this.ot(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new r1(e,n,this.Ye,this.je,r);return this.je=Ko(),this.Je=R0(),this.He=R0(),this.Ye=new yn(ct),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new wR,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Zn(ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Zn(ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ae("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wR),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function R0(){return new yn(Re.comparator)}function SR(){return new yn(Re.comparator)}const zte={asc:"ASCENDING",desc:"DESCENDING"},Ute={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fte={and:"AND",or:"OR"};class $te{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function C_(t,e){return t.useProto3Json||Xx(e)?e:{value:e}}function sb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Hte(t,e){return sb(t,e.toTimestamp())}function Ga(t){return _t(!!t,49232),Ge.fromTimestamp((function(n){const r=Ec(n);return new an(r.seconds,r.nanos)})(t))}function l2(t,e){return O_(t,e).canonicalString()}function O_(t,e){const n=(function(i){return new Xt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function MU(t){const e=Xt.fromString(t);return _t(jU(e),10190,{key:e.toString()}),e}function M_(t,e){return l2(t.databaseId,e.path)}function NT(t,e){const n=MU(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(DU(n))}function NU(t,e){return l2(t.databaseId,e)}function qte(t){const e=MU(t);return e.length===4?Xt.emptyPath():DU(e)}function N_(t){return new Xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DU(t){return _t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function TR(t,e,n){return{name:M_(t,e),fields:n.value.mapValue.fields}}function Kte(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Fe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,d){return f.useProto3Json?(_t(d===void 0||typeof d=="string",58123),Vr.fromBase64String(d||"")):(_t(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Vr.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&(function(f){const d=f.code===void 0?le.UNKNOWN:_U(f.code);return new Te(d,f.message||"")})(a);n=new CU(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=NT(t,r.document.name),s=Ga(r.document.updateTime),a=r.document.createTime?Ga(r.document.createTime):Ge.min(),l=new Oi({mapValue:{fields:r.document.fields}}),u=Kr.newFoundDocument(i,s,a,l),f=r.targetIds||[],d=r.removedTargetIds||[];n=new _v(f,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=NT(t,r.document),s=r.readTime?Ga(r.readTime):Ge.min(),a=Kr.newNoDocument(i,s),l=r.removedTargetIds||[];n=new _v([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=NT(t,r.document),s=r.removedTargetIds||[];n=new _v([],s,i,null)}else{if(!("filter"in e))return Fe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new jte(i,s),l=r.targetId;n=new kU(l,a)}}return n}function Wte(t,e){let n;if(e instanceof Cg)n={update:TR(t,e.key,e.value)};else if(e instanceof n1)n={delete:M_(t,e.key)};else if(e instanceof zc)n={update:TR(t,e.key,e.data),updateMask:nne(e.fieldMask)};else{if(!(e instanceof Dte))return Fe(16599,{Vt:e.type});n={verify:M_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const l=a.transform;if(l instanceof Um)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Fm)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof $m)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ib)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Fe(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:Hte(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Fe(27497)})(t,e.precondition)),n}function Gte(t,e){return t&&t.length>0?(_t(e!==void 0,14353),t.map((n=>(function(i,s){let a=i.updateTime?Ga(i.updateTime):Ga(s);return a.isEqual(Ge.min())&&(a=Ga(s)),new Ote(a,i.transformResults||[])})(n,e)))):[]}function Yte(t,e){return{documents:[NU(t,e.path)]}}function Xte(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NU(t,i);const s=(function(f){if(f.length!==0)return PU(ba.create(f,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(f){if(f.length!==0)return f.map((d=>(function(g){return{field:Ad(g.field),direction:Zte(g.dir)}})(d)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=C_(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function Qte(t){let e=qte(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_t(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=(function(p){const g=IU(p);return g instanceof ba&&cU(g)?g.getFilters():[g]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((g=>(function(x){return new zm(_d(x.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(g)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let g;return g=typeof p=="object"?p.value:p,Xx(g)?null:g})(n.limit));let u=null;n.startAt&&(u=(function(p){const g=!!p.before,v=p.values||[];return new rb(v,g)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const g=!p.before,v=p.values||[];return new rb(v,g)})(n.endAt)),mte(e,i,a,s,l,"F",u,f)}function Jte(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IU(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_d(n.unaryFilter.field);return $n.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_d(n.unaryFilter.field);return $n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_d(n.unaryFilter.field);return $n.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=_d(n.unaryFilter.field);return $n.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return $n.create(_d(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ba.create(n.compositeFilter.filters.map((r=>IU(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(n.compositeFilter.op))})(t):Fe(30097,{filter:t})}function Zte(t){return zte[t]}function ene(t){return Ute[t]}function tne(t){return Fte[t]}function Ad(t){return{fieldPath:t.canonicalString()}}function _d(t){return Pr.fromServerFormat(t.fieldPath)}function PU(t){return t instanceof $n?(function(n){if(n.op==="=="){if(uR(n.value))return{unaryFilter:{field:Ad(n.field),op:"IS_NAN"}};if(cR(n.value))return{unaryFilter:{field:Ad(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(uR(n.value))return{unaryFilter:{field:Ad(n.field),op:"IS_NOT_NAN"}};if(cR(n.value))return{unaryFilter:{field:Ad(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ad(n.field),op:ene(n.op),value:n.value}}})(t):t instanceof ba?(function(n){const r=n.getFilters().map((i=>PU(i)));return r.length===1?r[0]:{compositeFilter:{op:tne(n.op),filters:r}}})(t):Fe(54877,{filter:t})}function nne(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function jU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n,r,i,s=Ge.min(),a=Ge.min(),l=Vr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new sc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(e){this.yt=e}}function ine(t){const e=Qte({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?k_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sne{constructor(){this.Cn=new ane}addToCollectionParentIndex(e,n){return this.Cn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(Tc.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(Tc.min())}updateCollectionGroup(e,n,r){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class ane{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zn(Xt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zn(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RU=41943040;class ki{static withCacheSize(e){return new ki(e,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki.DEFAULT_COLLECTION_PERCENTILE=10,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ki.DEFAULT=new ki(RU,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ki.DISABLED=new ki(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ih(0)}static cr(){return new ih(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="LruGarbageCollector",one=1048576;function _R([t,e],[n,r]){const i=ct(t,n);return i===0?ct(e,r):i}class lne{constructor(e){this.Ir=e,this.buffer=new Zn(_R),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();_R(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cne{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ae(AR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ch(n)?Ae(AR,"Ignoring IndexedDB error during garbage collection: ",n):await kh(n)}await this.Vr(3e5)}))}}class une{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(Yx.ce);const r=new lne(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(ER)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ER):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,l,u,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),Td()<=lt.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(f-u)+`ms
Total Duration: ${f-d}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function fne(t,e){return new une(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dne{constructor(){this.changes=new Af((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pne{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&pm(r.mutation,i,es.empty(),an.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ut()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ut()){const i=Pu();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=Jp();return s.forEach(((l,u)=>{a=a.insert(l,u.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Pu();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ut())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,l)=>{n.set(a,l)}))}))}computeViews(e,n,r,i){let s=Ko();const a=hm(),l=(function(){return hm()})();return n.forEach(((u,f)=>{const d=r.get(f.key);i.has(f.key)&&(d===void 0||d.mutation instanceof zc)?s=s.insert(f.key,f):d!==void 0?(a.set(f.key,d.mutation.getFieldMask()),pm(d.mutation,f,d.mutation.getFieldMask(),an.now())):a.set(f.key,es.empty())})),this.recalculateAndSaveOverlays(e,s).next((u=>(u.forEach(((f,d)=>a.set(f,d))),n.forEach(((f,d)=>l.set(f,new hne(d,a.get(f)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=hm();let i=new yn(((a,l)=>a-l)),s=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const l of a)l.keys().forEach((u=>{const f=n.get(u);if(f===null)return;let d=r.get(u)||es.empty();d=l.applyToLocalView(f,d),r.set(u,d);const p=(i.get(l.batchId)||ut()).add(u);i=i.insert(l.batchId,p)}))})).next((()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),f=u.key,d=u.value,p=vU();d.forEach((g=>{if(!s.has(g)){const v=EU(n.get(g),r.get(g));v!==null&&p.set(g,v),s=s.add(g)}})),a.push(this.documentOverlayCache.saveOverlays(e,f,p))}return ue.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return Re.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ue.resolve(Pu());let l=Rm,u=s;return a.next((f=>ue.forEach(f,((d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(d)?ue.resolve():this.remoteDocumentCache.getEntry(e,d).next((g=>{u=u.insert(d,g)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,u,f,ut()))).next((d=>({batchId:l,changes:yU(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((r=>{let i=Jp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Jp();return this.indexManager.getCollectionParents(e,s).next((l=>ue.forEach(l,(u=>{const f=(function(p,g){return new Oh(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((d=>{d.forEach(((p,g)=>{a=a.insert(p,g)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((u,f)=>{const d=f.getKey();a.get(d)===null&&(a=a.insert(d,Kr.newInvalidDocument(d)))}));let l=Jp();return a.forEach(((u,f)=>{const d=s.get(u);d!==void 0&&pm(d.mutation,f,es.empty(),an.now()),Zx(n,f)&&(l=l.insert(u,f))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mne{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ue.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ga(i.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:ine(i.bundledQuery),readTime:Ga(i.readTime)}})(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gne{constructor(){this.overlays=new yn(Re.comparator),this.qr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pu();return ue.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),ue.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),ue.resolve()}getOverlaysForCollection(e,n,r){const i=Pu(),s=n.length+1,a=new Re(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,f=u.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new yn(((f,d)=>f-d));const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let d=s.get(f.largestBatchId);d===null&&(d=Pu(),s=s.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const l=Pu(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((f,d)=>l.set(f,d))),!(l.size()>=i)););return ue.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Pte(n,r));let s=this.qr.get(n);s===void 0&&(s=ut(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yne{constructor(){this.sessionToken=Vr.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.Qr=new Zn(lr.$r),this.Ur=new Zn(lr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new lr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new lr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Re(new Xt([])),r=new lr(n,e),i=new lr(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Re(new Xt([])),r=new lr(n,e),i=new lr(n,e+1);let s=ut();return this.Ur.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new lr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Re.comparator(e.key,n.key)||ct(e.Yr,n.Yr)}static Kr(e,n){return ct(e.Yr,n.Yr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vne{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Zn(lr.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Ite(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Zr=this.Zr.add(new lr(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ue.resolve(a)}lookupMutationBatch(e,n){return ue.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ue.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?ZC:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lr(n,0),i=new lr(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(a=>{const l=this.Xr(a.Yr);s.push(l)})),ue.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zn(ct);return n.forEach((i=>{const s=new lr(i,0),a=new lr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(l=>{r=r.add(l.Yr)}))})),ue.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Re.isDocumentKey(s)||(s=s.child(""));const a=new lr(new Re(s),0);let l=new Zn(ct);return this.Zr.forEachWhile((u=>{const f=u.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(u.Yr)),!0)}),a),ue.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){_t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ue.forEach(n.mutations,(i=>{const s=new lr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new lr(n,0),i=this.Zr.firstAfterOrEqual(r);return ue.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bne{constructor(e){this.ri=e,this.docs=(function(){return new yn(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ue.resolve(r?r.document.mutableCopy():Kr.newInvalidDocument(n))}getEntries(e,n){let r=Ko();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Kr.newInvalidDocument(i))})),ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ko();const a=n.path,l=new Re(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:d}}=u.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||Wee(Kee(d),r)<=0||(i.has(d.key)||Zx(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return ue.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Fe(9500)}ii(e,n){return ue.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new xne(this)}getSize(e){return ue.resolve(this.size)}}class xne extends dne{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ue.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(e){this.persistence=e,this.si=new Af((n=>n2(n)),r2),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.oi=0,this._i=new c2,this.targetCount=0,this.ai=ih.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ue.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ih(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.Pr(n),ue.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),ue.waitFor(s).next((()=>i))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ue.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ue.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),ue.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ue.resolve(r)}containsKey(e,n){return ue.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,n){this.ui={},this.overlays={},this.ci=new Yx(0),this.li=!1,this.li=!0,this.hi=new yne,this.referenceDelegate=e(this),this.Pi=new wne(this),this.indexManager=new sne,this.remoteDocumentCache=(function(i){return new bne(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new rne(n),this.Ii=new mne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gne,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new vne(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ae("MemoryPersistence","Starting transaction:",e);const i=new Sne(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return ue.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Sne extends Yee{constructor(e){super(),this.currentSequenceNumber=e}}class u2{constructor(e){this.persistence=e,this.Ri=new c2,this.Vi=null}static mi(e){return new u2(e)}get fi(){if(this.Vi)return this.Vi;throw Fe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ue.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(r=>{const i=Re.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Ge.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ue.or([()=>ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ab{constructor(e,n){this.persistence=e,this.pi=new Af((r=>Jee(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=fne(this,n)}static mi(e,n){return new ab(e,n)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ue.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?ue.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((l=>{l||(r++,s.removeEntry(a,Ge.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Tv(e.data.value)),n}br(e,n,r){return ue.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ue.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ut(),i=ut();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new f2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ene{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pQ()?8:Xee(Yr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new Tne;return this.Ss(e,n,a).next((l=>{if(s.result=l,this.Vs)return this.bs(e,n,a,l.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Td()<=lt.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Ed(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(Td()<=lt.DEBUG&&Ae("QueryEngine","Query:",Ed(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Td()<=lt.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Ed(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wa(n))):ue.resolve())}ys(e,n){if(pR(n))return ue.resolve(null);let r=Wa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=k_(n,null,"F"),r=Wa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=ut(...s);return this.ps.getDocuments(e,a).next((l=>this.indexManager.getMinOffset(e,r).next((u=>{const f=this.Ds(n,l);return this.Cs(n,f,a,u.readTime)?this.ys(e,k_(n,null,"F")):this.vs(e,f,n,u)}))))})))))}ws(e,n,r,i){return pR(n)||i.isEqual(Ge.min())?ue.resolve(null):this.ps.getDocuments(e,r).next((s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?ue.resolve(null):(Td()<=lt.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ed(n)),this.vs(e,a,n,qee(i,Rm)).next((l=>l)))}))}Ds(e,n){let r=new Zn(mU(e));return n.forEach(((i,s)=>{Zx(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Td()<=lt.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Ed(n)),this.ps.getDocumentsMatchingQuery(e,n,Tc.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="LocalStore",Ane=3e8;class _ne{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new yn(ct),this.xs=new Af((s=>n2(s)),r2),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pne(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function kne(t,e,n,r){return new _ne(t,e,n,r)}async function VU(t,e){const n=Xe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],l=[];let u=ut();for(const f of i){a.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}for(const f of s){l.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next((f=>({Ls:f,removedBatchIds:a,addedBatchIds:l})))}))}))}function Cne(t,e){const n=Xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,f,d){const p=f.batch,g=p.keys();let v=ue.resolve();return g.forEach((x=>{v=v.next((()=>d.getEntry(u,x))).next((S=>{const E=f.docVersions.get(x);_t(E!==null,48541),S.version.compareTo(E)<0&&(p.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),d.addEntry(S)))}))})),v.next((()=>l.mutationQueue.removeMutationBatch(u,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let u=ut();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(u=u.add(l.batch.mutations[f].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function BU(t){const e=Xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function One(t,e){const n=Xe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((d,p)=>{const g=i.get(p);if(!g)return;l.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(s,d.addedDocuments,p))));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Vr.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(p,v),(function(S,E,A){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=Ane?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0})(g,v,d)&&l.push(n.Pi.updateTargetData(s,v))}));let u=Ko(),f=ut();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))})),l.push(Mne(s,a,e.documentUpdates).next((d=>{u=d.ks,f=d.qs}))),!r.isEqual(Ge.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next((p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));l.push(d)}return ue.waitFor(l).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,u,f))).next((()=>u))})).then((s=>(n.Ms=i,s)))}function Mne(t,e,n){let r=ut(),i=ut();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=Ko();return n.forEach(((l,u)=>{const f=s.get(l);u.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Ge.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):Ae(d2,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",u.version)})),{ks:a,qs:i}}))}function Nne(t,e){const n=Xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ZC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Dne(t,e){const n=Xe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,ue.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new sc(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function D_(t,e,n){const r=Xe(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Ch(a))throw a;Ae(d2,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function kR(t,e,n){const r=Xe(t);let i=Ge.min(),s=ut();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,f,d){const p=Xe(u),g=p.xs.get(d);return g!==void 0?ue.resolve(p.Ms.get(g)):p.Pi.getTargetData(f,d)})(r,a,Wa(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next((u=>{s=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:Ge.min(),n?s:ut()))).next((l=>(Ine(r,yte(e),l),{documents:l,Qs:s})))))}function Ine(t,e,n){let r=t.Os.get(e)||Ge.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class CR{constructor(){this.activeTargetIds=Tte()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pne{constructor(){this.Mo=new CR,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new CR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jne{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="ConnectivityMonitor";class MR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ae(OR,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ae(OR,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L0=null;function I_(){return L0===null?L0=(function(){return 268435456+Math.round(2147483648*Math.random())})():L0++,"0x"+L0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="RestConnection",Rne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Lne{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===tb?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=I_(),l=this.zo(e,n.toUriEncodedString());Ae(DT,`Sending RPC '${e}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:f}=new URL(l),d=Th(f);return this.Jo(e,l,u,r,d).then((p=>(Ae(DT,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw eh(DT,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_h})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=Rne[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="WebChannelConnection";class Bne extends Lne{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=I_();return new Promise(((l,u)=>{const f=new Fz;f.setWithCredentials(!0),f.listenOnce($z.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Sv.NO_ERROR:const p=f.getResponseJson();Ae(Fr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Sv.TIMEOUT:Ae(Fr,`RPC '${e}' ${a} timed out`),u(new Te(le.DEADLINE_EXCEEDED,"Request time out"));break;case Sv.HTTP_ERROR:const g=f.getStatus();if(Ae(Fr,`RPC '${e}' ${a} failed with status:`,g,"response text:",f.getResponseText()),g>0){let v=f.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v?.error;if(x&&x.status&&x.message){const S=(function(A){const C=A.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(C)>=0?C:le.UNKNOWN})(x.status);u(new Te(S,x.message))}else u(new Te(le.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Te(le.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:e,streamId:a,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ae(Fr,`RPC '${e}' ${a} completed.`)}}));const d=JSON.stringify(i);Ae(Fr,`RPC '${e}' ${a} sending request:`,i),f.send(n,"POST",d,r,15)}))}T_(e,n,r){const i=I_(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Kz(),l=qz(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");Ae(Fr,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=a.createWebChannel(d,u);this.I_(p);let g=!1,v=!1;const x=new Vne({Yo:E=>{v?Ae(Fr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(g||(Ae(Fr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Ae(Fr,`RPC '${e}' stream ${i} sending:`,E),p.send(E))},Zo:()=>p.close()}),S=(E,A,C)=>{E.listen(A,(D=>{try{C(D)}catch(L){setTimeout((()=>{throw L}),0)}}))};return S(p,Qp.EventType.OPEN,(()=>{v||(Ae(Fr,`RPC '${e}' stream ${i} transport opened.`),x.o_())})),S(p,Qp.EventType.CLOSE,(()=>{v||(v=!0,Ae(Fr,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(p))})),S(p,Qp.EventType.ERROR,(E=>{v||(v=!0,eh(Fr,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),x.a_(new Te(le.UNAVAILABLE,"The operation could not be completed")))})),S(p,Qp.EventType.MESSAGE,(E=>{if(!v){const A=E.data[0];_t(!!A,16349);const C=A,D=C?.error||C[0]?.error;if(D){Ae(Fr,`RPC '${e}' stream ${i} received error:`,D);const L=D.status;let j=(function(N){const P=zn[N];if(P!==void 0)return _U(P)})(L),B=D.message;j===void 0&&(j=le.INTERNAL,B="Unknown error status: "+L+" with message "+D.message),v=!0,x.a_(new Te(j,B)),p.close()}else Ae(Fr,`RPC '${e}' stream ${i} received:`,A),x.u_(A)}})),S(l,Hz.STAT_EVENT,(E=>{E.stat===x_.PROXY?Ae(Fr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===x_.NOPROXY&&Ae(Fr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function IT(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t){return new $te(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="PersistentStream";class UU{constructor(e,n,r,i,s,a,l,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zU(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(qo(n.toString()),qo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Te(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ae(NR,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ae(NR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zne extends UU{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Kte(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ge.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ge.min():a.readTime?Ga(a.readTime):Ge.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=N_(this.serializer),n.addTarget=(function(s,a){let l;const u=a.target;if(l=A_(u)?{documents:Yte(s,u)}:{query:Xte(s,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=OU(s,a.resumeToken);const f=C_(s,a.expectedCount);f!==null&&(l.expectedCount=f)}else if(a.snapshotVersion.compareTo(Ge.min())>0){l.readTime=sb(s,a.snapshotVersion.toTimestamp());const f=C_(s,a.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const r=Jte(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=N_(this.serializer),n.removeTarget=e,this.q_(n)}}class Une extends UU{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Gte(e.writeResults,e.commitTime),r=Ga(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=N_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Wte(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fne{}class $ne extends Fne{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Te(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,O_(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Te(le.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Ho(e,O_(n,r),i,a,l,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(le.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Hne{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qo(n),this.aa=!1):Ae("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="RemoteStore";class qne{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{_f(this)&&(Ae(uf,"Restarting streams for network reachability change."),await(async function(u){const f=Xe(u);f.Ea.add(4),await Mg(f),f.Ra.set("Unknown"),f.Ea.delete(4),await s1(f)})(this))}))})),this.Ra=new Hne(r,i)}}async function s1(t){if(_f(t))for(const e of t.da)await e(!0)}async function Mg(t){for(const e of t.da)await e(!1)}function FU(t,e){const n=Xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),g2(n)?m2(n):Mh(n).O_()&&p2(n,e))}function h2(t,e){const n=Xe(t),r=Mh(n);n.Ia.delete(e),r.O_()&&$U(n,e),n.Ia.size===0&&(r.O_()?r.L_():_f(n)&&n.Ra.set("Unknown"))}function p2(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mh(t).Y_(e)}function $U(t,e){t.Va.Ue(e),Mh(t).Z_(e)}function m2(t){t.Va=new Bte({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Mh(t).start(),t.Ra.ua()}function g2(t){return _f(t)&&!Mh(t).x_()&&t.Ia.size>0}function _f(t){return Xe(t).Ea.size===0}function HU(t){t.Va=void 0}async function Kne(t){t.Ra.set("Online")}async function Wne(t){t.Ia.forEach(((e,n)=>{p2(t,e)}))}async function Gne(t,e){HU(t),g2(t)?(t.Ra.ha(e),m2(t)):t.Ra.set("Unknown")}async function Yne(t,e,n){if(t.Ra.set("Online"),e instanceof CU&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){Ae(uf,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ob(t,r)}else if(e instanceof _v?t.Va.Ze(e):e instanceof kU?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ge.min()))try{const r=await BU(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const l=s.Va.Tt(a);return l.targetChanges.forEach(((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ia.get(f);d&&s.Ia.set(f,d.withResumeToken(u.resumeToken,a))}})),l.targetMismatches.forEach(((u,f)=>{const d=s.Ia.get(u);if(!d)return;s.Ia.set(u,d.withResumeToken(Vr.EMPTY_BYTE_STRING,d.snapshotVersion)),$U(s,u);const p=new sc(d.target,u,f,d.sequenceNumber);p2(s,p)})),s.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Ae(uf,"Failed to raise snapshot:",r),await ob(t,r)}}async function ob(t,e,n){if(!Ch(e))throw e;t.Ea.add(1),await Mg(t),t.Ra.set("Offline"),n||(n=()=>BU(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ae(uf,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await s1(t)}))}function qU(t,e){return e().catch((n=>ob(t,n,e)))}async function a1(t){const e=Xe(t),n=kc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ZC;for(;Xne(e);)try{const i=await Nne(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Qne(e,i)}catch(i){await ob(e,i)}KU(e)&&WU(e)}function Xne(t){return _f(t)&&t.Ta.length<10}function Qne(t,e){t.Ta.push(e);const n=kc(t);n.O_()&&n.X_&&n.ea(e.mutations)}function KU(t){return _f(t)&&!kc(t).x_()&&t.Ta.length>0}function WU(t){kc(t).start()}async function Jne(t){kc(t).ra()}async function Zne(t){const e=kc(t);for(const n of t.Ta)e.ea(n.mutations)}async function ere(t,e,n){const r=t.Ta.shift(),i=a2.from(r,e,n);await qU(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await a1(t)}async function tre(t,e){e&&kc(t).X_&&await(async function(r,i){if((function(a){return Rte(a)&&a!==le.ABORTED})(i.code)){const s=r.Ta.shift();kc(r).B_(),await qU(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await a1(r)}})(t,e),KU(t)&&WU(t)}async function DR(t,e){const n=Xe(t);n.asyncQueue.verifyOperationInProgress(),Ae(uf,"RemoteStore received new credentials");const r=_f(n);n.Ea.add(3),await Mg(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await s1(n)}async function nre(t,e){const n=Xe(t);e?(n.Ea.delete(2),await s1(n)):e||(n.Ea.add(2),await Mg(n),n.Ra.set("Unknown"))}function Mh(t){return t.ma||(t.ma=(function(n,r,i){const s=Xe(n);return s.sa(),new zne(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Kne.bind(null,t),t_:Wne.bind(null,t),r_:Gne.bind(null,t),H_:Yne.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),g2(t)?m2(t):t.Ra.set("Unknown")):(await t.ma.stop(),HU(t))}))),t.ma}function kc(t){return t.fa||(t.fa=(function(n,r,i){const s=Xe(n);return s.sa(),new Une(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Jne.bind(null,t),r_:tre.bind(null,t),ta:Zne.bind(null,t),na:ere.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await a1(t)):(await t.fa.stop(),t.Ta.length>0&&(Ae(uf,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new qu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new y2(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v2(t,e){if(qo("AsyncQueue",`${e}: ${t}`),Ch(t))return new Te(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{static emptySet(e){return new qd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=Jp(),this.sortedSet=new yn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.ga=new yn(Re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Fe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class sh{constructor(e,n,r,i,s,a,l,u,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((l=>{a.push({type:0,doc:l})})),new sh(e,n,qd.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rre{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ire{constructor(){this.queries=PR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Xe(n),s=i.queries;i.queries=PR(),s.forEach(((a,l)=>{for(const u of l.Sa)u.onError(r)}))})(this,new Te(le.ABORTED,"Firestore shutting down"))}}function PR(){return new Af((t=>pU(t)),Jx)}async function sre(t,e){const n=Xe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new rre,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=v2(a,`Initialization of query '${Ed(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&b2(n)}async function are(t,e){const n=Xe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ore(t,e){const n=Xe(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Fa(i)&&(r=!0);a.wa=i}}r&&b2(n)}function lre(t,e,n){const r=Xe(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function b2(t){t.Ca.forEach((e=>{e.next()}))}var P_,jR;(jR=P_||(P_={})).Ma="default",jR.Cache="cache";class cre{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new sh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==P_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.key=e}}class YU{constructor(e){this.key=e}}class ure{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ut(),this.mutatedKeys=ut(),this.eu=mU(e),this.tu=new qd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new IR,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,p)=>{const g=i.get(d),v=Zx(this.query,p)?p:null,x=!!g&&this.mutatedKeys.has(g.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;g&&v?g.data.isEqual(v.data)?x!==S&&(r.track({type:3,doc:v}),E=!0):this.su(g,v)||(r.track({type:2,doc:v}),E=!0,(u&&this.eu(v,u)>0||f&&this.eu(v,f)<0)&&(l=!0)):!g&&v?(r.track({type:0,doc:v}),E=!0):g&&!v&&(r.track({type:1,doc:g}),E=!0,(u||f)&&(l=!0)),E&&(v?(a=a.add(v),s=S?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:a,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((d,p)=>(function(v,x){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Rt:E})}};return S(v)-S(x)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,f=u!==this.Za;return this.Za=u,a.length!==0||f?{snapshot:new sh(this.query,e.tu,s,a,e.mutatedKeys,u===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new YU(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new GU(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const x2="SyncEngine";class fre{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dre{constructor(e){this.key=e,this.hu=!1}}class hre{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Af((l=>pU(l)),Jx),this.Iu=new Map,this.Eu=new Set,this.du=new yn(Re.comparator),this.Au=new Map,this.Ru=new c2,this.Vu={},this.mu=new Map,this.fu=ih.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pre(t,e,n=!0){const r=tF(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await XU(r,e,n,!0),i}async function mre(t,e){const n=tF(t);await XU(n,e,!0,!1)}async function XU(t,e,n,r){const i=await Dne(t.localStore,Wa(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await gre(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&FU(t.remoteStore,i),l}async function gre(t,e,n,r,i){t.pu=(p,g,v)=>(async function(S,E,A,C){let D=E.view.ru(A);D.Cs&&(D=await kR(S.localStore,E.query,!1).then((({documents:M})=>E.view.ru(M,D))));const L=C&&C.targetChanges.get(E.targetId),j=C&&C.targetMismatches.get(E.targetId)!=null,B=E.view.applyChanges(D,S.isPrimaryClient,L,j);return LR(S,E.targetId,B.au),B.snapshot})(t,p,g,v);const s=await kR(t.localStore,e,!0),a=new ure(e,s.Qs),l=a.ru(s.documents),u=Og.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(l,t.isPrimaryClient,u);LR(t,n,f.au);const d=new fre(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function yre(t,e,n){const r=Xe(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!Jx(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await D_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&h2(r.remoteStore,i.targetId),j_(r,i.targetId)})).catch(kh)):(j_(r,i.targetId),await D_(r.localStore,i.targetId,!0))}async function vre(t,e){const n=Xe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),h2(n.remoteStore,r.targetId))}async function bre(t,e,n){const r=_re(t);try{const i=await(function(a,l){const u=Xe(a),f=an.now(),d=l.reduce(((v,x)=>v.add(x.key)),ut());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let x=Ko(),S=ut();return u.Ns.getEntries(v,d).next((E=>{x=E,x.forEach(((A,C)=>{C.isValidDocument()||(S=S.add(A))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,x))).next((E=>{p=E;const A=[];for(const C of l){const D=Nte(C,p.get(C.key).overlayedDocument);D!=null&&A.push(new zc(C.key,D,aU(D.value.mapValue),ci.exists(!0)))}return u.mutationQueue.addMutationBatch(v,f,A,l)})).next((E=>{g=E;const A=E.applyToLocalDocumentSet(p,S);return u.documentOverlayCache.saveOverlays(v,E.batchId,A)}))})).then((()=>({batchId:g.batchId,changes:yU(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,l,u){let f=a.Vu[a.currentUser.toKey()];f||(f=new yn(ct)),f=f.insert(l,u),a.Vu[a.currentUser.toKey()]=f})(r,i.batchId,n),await Ng(r,i.changes),await a1(r.remoteStore)}catch(i){const s=v2(i,"Failed to persist write");n.reject(s)}}async function QU(t,e){const n=Xe(t);try{const r=await One(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Au.get(s);a&&(_t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?_t(a.hu,14607):i.removedDocuments.size>0&&(_t(a.hu,42227),a.hu=!1))})),await Ng(n,r,e)}catch(r){await kh(r)}}function RR(t,e,n){const r=Xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,a)=>{const l=a.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(a,l){const u=Xe(a);u.onlineState=l;let f=!1;u.queries.forEach(((d,p)=>{for(const g of p.Sa)g.va(l)&&(f=!0)})),f&&b2(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xre(t,e,n){const r=Xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new yn(Re.comparator);a=a.insert(s,Kr.newNoDocument(s,Ge.min()));const l=ut().add(s),u=new r1(Ge.min(),new Map,new yn(ct),a,l);await QU(r,u),r.du=r.du.remove(s),r.Au.delete(e),w2(r)}else await D_(r.localStore,e,!1).then((()=>j_(r,e,n))).catch(kh)}async function wre(t,e){const n=Xe(t),r=e.batch.batchId;try{const i=await Cne(n.localStore,e);ZU(n,r,null),JU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ng(n,i)}catch(i){await kh(i)}}async function Sre(t,e,n){const r=Xe(t);try{const i=await(function(a,l){const u=Xe(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let d;return u.mutationQueue.lookupMutationBatch(f,l).next((p=>(_t(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(f,p)))).next((()=>u.mutationQueue.performConsistencyCheck(f))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(f,d,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d))).next((()=>u.localDocuments.getDocuments(f,d)))}))})(r.localStore,e);ZU(r,e,n),JU(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ng(r,i)}catch(i){await kh(i)}}function JU(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function ZU(t,e,n){const r=Xe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function j_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||eF(t,r)}))}function eF(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(h2(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),w2(t))}function LR(t,e,n){for(const r of n)r instanceof GU?(t.Ru.addReference(r.key,e),Tre(t,r)):r instanceof YU?(Ae(x2,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||eF(t,r.key)):Fe(19791,{wu:r})}function Tre(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ae(x2,"New document in limbo: "+n),t.Eu.add(r),w2(t))}function w2(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Re(Xt.fromString(e)),r=t.fu.next();t.Au.set(r,new dre(n)),t.du=t.du.insert(n,r),FU(t.remoteStore,new sc(Wa(i2(n.path)),r,"TargetPurposeLimboResolution",Yx.ce))}}async function Ng(t,e,n){const r=Xe(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,u)=>{a.push(r.pu(u,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const d=f?!f.fromCache:n?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(f){i.push(f);const d=f2.As(u.targetId,f);s.push(d)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(u,f){const d=Xe(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>ue.forEach(f,(g=>ue.forEach(g.Es,(v=>d.persistence.referenceDelegate.addReference(p,g.targetId,v))).next((()=>ue.forEach(g.ds,(v=>d.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))))))}catch(p){if(!Ch(p))throw p;Ae(d2,"Failed to update sequence numbers: "+p)}for(const p of f){const g=p.targetId;if(!p.fromCache){const v=d.Ms.get(g),x=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(x);d.Ms=d.Ms.insert(g,S)}}})(r.localStore,s))}async function Ere(t,e){const n=Xe(t);if(!n.currentUser.isEqual(e)){Ae(x2,"User change. New user:",e.toKey());const r=await VU(n.localStore,e);n.currentUser=e,(function(s,a){s.mu.forEach((l=>{l.forEach((u=>{u.reject(new Te(le.CANCELLED,a))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ng(n,r.Ls)}}function Are(t,e){const n=Xe(t),r=n.Au.get(e);if(r&&r.hu)return ut().add(r.key);{let i=ut();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const l=n.Tu.get(a);i=i.unionWith(l.view.nu)}return i}}function tF(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Are.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xre.bind(null,e),e.Pu.H_=ore.bind(null,e.eventManager),e.Pu.yu=lre.bind(null,e.eventManager),e}function _re(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sre.bind(null,e),e}class lb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=i1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return kne(this.persistence,new Ene,e.initialUser,this.serializer)}Cu(e){return new LU(u2.mi,this.serializer)}Du(e){return new Pne}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lb.provider={build:()=>new lb};class kre extends lb{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_t(this.persistence.referenceDelegate instanceof ab,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cne(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ki.withCacheSize(this.cacheSizeBytes):ki.DEFAULT;return new LU((r=>ab.mi(r,n)),this.serializer)}}class R_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ere.bind(null,this.syncEngine),await nre(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ire})()}createDatastore(e){const n=i1(e.databaseInfo.databaseId),r=(function(s){return new Bne(s)})(e.databaseInfo);return(function(s,a,l,u){return new $ne(s,a,l,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,l){return new qne(r,i,s,a,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>RR(this.syncEngine,n,0)),(function(){return MR.v()?new MR:new jne})())}createSyncEngine(e,n){return(function(i,s,a,l,u,f,d){const p=new hre(i,s,a,l,u,f);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Xe(n);Ae(uf,"RemoteStore shutting down."),r.Ea.add(5),await Mg(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}R_.provider={build:()=>new R_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cre{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc="FirestoreClient";class Ore{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qr.UNAUTHENTICATED,this.clientId=JC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{Ae(Cc,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(Ae(Cc,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=v2(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function PT(t,e){t.asyncQueue.verifyOperationInProgress(),Ae(Cc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await VU(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function VR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Mre(t);Ae(Cc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>DR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>DR(e.remoteStore,i))),t._onlineComponents=e}async function Mre(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae(Cc,"Using user provided OfflineComponentProvider");try{await PT(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===le.FAILED_PRECONDITION||i.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;eh("Error using user provided cache. Falling back to memory cache: "+n),await PT(t,new lb)}}else Ae(Cc,"Using default OfflineComponentProvider"),await PT(t,new kre(void 0));return t._offlineComponents}async function nF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae(Cc,"Using user provided OnlineComponentProvider"),await VR(t,t._uninitializedComponentsProvider._online)):(Ae(Cc,"Using default OnlineComponentProvider"),await VR(t,new R_))),t._onlineComponents}function Nre(t){return nF(t).then((e=>e.syncEngine))}async function BR(t){const e=await nF(t),n=e.eventManager;return n.onListen=pre.bind(null,e.syncEngine),n.onUnlisten=yre.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mre.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vre.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF="firestore.googleapis.com",UR=!0;class FR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iF,this.ssl=UR}else this.host=e.host,this.ssl=e.ssl??UR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<one)throw new Te(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hee("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rF(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Te(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Te(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Te(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class o1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Pee;switch(r.type){case"firstParty":return new Vee(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=zR.get(n);r&&(Ae("ComponentProvider","Removing Datastore"),zR.delete(n),r.terminate())})(this),Promise.resolve()}}function Dre(t,e,n,r={}){t=ga(t,o1);const i=Th(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(tz(`https://${l}`),nz("Firestore",!0)),s.host!==iF&&s.host!==l&&eh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:i,emulatorOptions:r};if(!af(u,a)&&(t._setSettings(u),r.mockUserToken)){let f,d;if(typeof r.mockUserToken=="string")f=r.mockUserToken,d=qr.MOCK_USER;else{f=sQ(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Te(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new qr(p)}t._authCredentials=new jee(new Gz(f,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kf(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}toJSON(){return{type:Pn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(kg(n,Pn._jsonSchema))return new Pn(e,r||null,new Re(Xt.fromString(n.referencePath)))}}Pn._jsonSchemaVersion="firestore/documentReference/1.0",Pn._jsonSchema={type:Hn("string",Pn._jsonSchemaVersion),referencePath:Hn("string")};class mc extends kf{constructor(e,n,r){super(e,n,i2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new Re(e))}withConverter(e){return new mc(this.firestore,e,this._path)}}function jT(t,e,...n){if(t=er(t),Yz("collection","path",e),t instanceof o1){const r=Xt.fromString(e,...n);return eR(r),new mc(t,null,r)}{if(!(t instanceof Pn||t instanceof mc))throw new Te(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return eR(r),new mc(t.firestore,null,r)}}function Hl(t,e,...n){if(t=er(t),arguments.length===1&&(e=JC.newId()),Yz("doc","path",e),t instanceof o1){const r=Xt.fromString(e,...n);return Zj(r),new Pn(t,null,new Re(r))}{if(!(t instanceof Pn||t instanceof mc))throw new Te(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return Zj(r),new Pn(t.firestore,t instanceof mc?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="AsyncQueue";class HR{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zU(this,"async_queue_retry"),this._c=()=>{const r=IT();r&&Ae($R,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=IT();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=IT();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ch(e))throw e;Ae($R,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,qo("INTERNAL UNHANDLED ERROR: ",qR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=y2.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Fe(47125,{Pc:qR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function qR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Oc extends o1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new HR,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HR(e),this._firestoreClient=void 0,await e}}}function Ire(t,e){const n=typeof t=="object"?t:az(),r=typeof t=="string"?t:tb,i=$C(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=rQ("firestore");s&&Dre(i,...s)}return i}function S2(t){if(t._terminated)throw new Te(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Pre(t),t._firestoreClient}function Pre(t){const e=t._freezeSettings(),n=(function(i,s,a,l){return new tte(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,rF(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Ore(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bs(Vr.fromBase64String(e))}catch(n){throw new Te(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bs(Vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kg(e,Bs._jsonSchema))return Bs.fromBase64String(e.bytes)}}Bs._jsonSchemaVersion="firestore/bytes/1.0",Bs._jsonSchema={type:Hn("string",Bs._jsonSchemaVersion),bytes:Hn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ya._jsonSchemaVersion}}static fromJSON(e){if(kg(e,Ya._jsonSchema))return new Ya(e.latitude,e.longitude)}}Ya._jsonSchemaVersion="firestore/geoPoint/1.0",Ya._jsonSchema={type:Hn("string",Ya._jsonSchemaVersion),latitude:Hn("number"),longitude:Hn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kg(e,Xa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Xa(e.vectorValues);throw new Te(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xa._jsonSchemaVersion="firestore/vectorValue/1.0",Xa._jsonSchema={type:Hn("string",Xa._jsonSchemaVersion),vectorValues:Hn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jre=/^__.*__$/;class Rre{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cg(e,this.data,n,this.fieldTransforms)}}class sF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ac:t})}}class T2{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new T2({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aF(this.Ac)&&jre.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Lre{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||i1(e)}Cc(e,n,r,i=!1){return new T2({Ac:e,methodName:n,Dc:r,path:Pr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ig(t){const e=t._freezeSettings(),n=i1(t._databaseId);return new Lre(t._databaseId,!!e.ignoreUndefinedProperties,n)}function E2(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);_2("Data must be an object, but it was:",a,r);const l=cF(r,a);let u,f;if(s.merge)u=new es(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const g=L_(e,p,n);if(!a.contains(g))throw new Te(le.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);fF(d,g)||d.push(g)}u=new es(d),f=a.fieldTransforms.filter((p=>u.covers(p.field)))}else u=null,f=a.fieldTransforms;return new Rre(new Oi(l),u,f)}class c1 extends l1{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof c1}}class A2 extends l1{_toFieldTransform(e){return new kte(e.path,new Um)}isEqual(e){return e instanceof A2}}function oF(t,e,n,r){const i=t.Cc(1,e,n);_2("Data must be an object, but it was:",i,r);const s=[],a=Oi.empty();Bc(r,((u,f)=>{const d=k2(e,u,n);f=er(f);const p=i.yc(d);if(f instanceof c1)s.push(d);else{const g=Pg(f,p);g!=null&&(s.push(d),a.set(d,g))}}));const l=new es(s);return new sF(a,l,i.fieldTransforms)}function lF(t,e,n,r,i,s){const a=t.Cc(1,e,n),l=[L_(e,r,n)],u=[i];if(s.length%2!=0)throw new Te(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(L_(e,s[g])),u.push(s[g+1]);const f=[],d=Oi.empty();for(let g=l.length-1;g>=0;--g)if(!fF(f,l[g])){const v=l[g];let x=u[g];x=er(x);const S=a.yc(v);if(x instanceof c1)f.push(v);else{const E=Pg(x,S);E!=null&&(f.push(v),d.set(v,E))}}const p=new es(f);return new sF(d,p,a.fieldTransforms)}function Vre(t,e,n,r=!1){return Pg(n,t.Cc(r?4:3,e))}function Pg(t,e){if(uF(t=er(t)))return _2("Unsupported field value:",e,t),cF(t,e);if(t instanceof l1)return(function(r,i){if(!aF(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const l of r){let u=Pg(l,i.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=er(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ete(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=an.fromDate(r);return{timestampValue:sb(i.serializer,s)}}if(r instanceof an){const s=new an(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sb(i.serializer,s)}}if(r instanceof Ya)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bs)return{bytesValue:OU(i.serializer,r._byteString)};if(r instanceof Pn){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:l2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Xa)return(function(a,l){return{mapValue:{fields:{[iU]:{stringValue:sU},[nb]:{arrayValue:{values:a.toArray().map((f=>{if(typeof f!="number")throw l.Sc("VectorValues must only contain numeric values.");return s2(l.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Gx(r)}`)})(t,e)}function cF(t,e){const n={};return Jz(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bc(t,((r,i)=>{const s=Pg(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function uF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof an||t instanceof Ya||t instanceof Bs||t instanceof Pn||t instanceof l1||t instanceof Xa)}function _2(t,e,n){if(!uF(n)||!Xz(n)){const r=Gx(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function L_(t,e,n){if((e=er(e))instanceof Dg)return e._internalPath;if(typeof e=="string")return k2(t,e);throw cb("Field path arguments must be of type string or ",t,!1,void 0,n)}const Bre=new RegExp("[~\\*/\\[\\]]");function k2(t,e,n){if(e.search(Bre)>=0)throw cb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dg(...e.split("."))._internalPath}catch{throw cb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cb(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new Te(le.INVALID_ARGUMENT,l+t+u)}function fF(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(C2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zre extends dF{data(){return super.data()}}function C2(t,e){return typeof e=="string"?k2(t,e):e instanceof Dg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ure(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O2{}class hF extends O2{}function WR(t,e,...n){let r=[];e instanceof O2&&r.push(e),r=r.concat(n),(function(s){const a=s.filter((u=>u instanceof N2)).length,l=s.filter((u=>u instanceof M2)).length;if(a>1||a>0&&l>0)throw new Te(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class M2 extends hF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new M2(e,n,r)}_apply(e){const n=this._parse(e);return pF(e._query,n),new kf(e.firestore,e.converter,__(e._query,n))}_parse(e){const n=Ig(e.firestore);return(function(s,a,l,u,f,d,p){let g;if(f.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Te(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){YR(p,d);const x=[];for(const S of p)x.push(GR(u,s,S));g={arrayValue:{values:x}}}else g=GR(u,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||YR(p,d),g=Vre(l,a,p,d==="in"||d==="not-in");return $n.create(f,d,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class N2 extends O2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new N2(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ba.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let a=i;const l=s.getFlattenedFilters();for(const u of l)pF(a,u),a=__(a,u)})(e._query,n),new kf(e.firestore,e.converter,__(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class D2 extends hF{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new D2(e,n)}_apply(e){const n=(function(i,s,a){if(i.startAt!==null)throw new Te(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Te(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zm(s,a)})(e._query,this._field,this._direction);return new kf(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new Oh(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Fre(t,e="asc"){const n=e,r=C2("orderBy",t);return D2._create(r,n)}function GR(t,e,n){if(typeof(n=er(n))=="string"){if(n==="")throw new Te(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hU(e)&&n.indexOf("/")!==-1)throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xt.fromString(n));if(!Re.isDocumentKey(r))throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lR(t,new Re(r))}if(n instanceof Pn)return lR(t,n._key);throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gx(n)}.`)}function YR(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pF(t,e){const n=(function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Te(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $re{convertValue(e,n="none"){switch(_c(e)){case 0:return null;case 1:return e.booleanValue;case 2:return In(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ac(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bc(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[nb].arrayValue?.values?.map((r=>In(r.doubleValue)));return new Xa(n)}convertGeoPoint(e){return new Ya(In(e.latitude),In(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lm(e));default:return null}}convertTimestamp(e){const n=Ec(e);return new an(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xt.fromString(e);_t(jU(r),9688,{name:e});const i=new Vm(r.get(1),r.get(3)),s=new Re(r.popFirst(5));return i.isEqual(n)||qo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class em{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ku extends dF{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(C2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ku._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ku._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ku._jsonSchema={type:Hn("string",Ku._jsonSchemaVersion),bundleSource:Hn("string","DocumentSnapshot"),bundleName:Hn("string"),bundle:Hn("string")};class kv extends Ku{data(e={}){return super.data(e)}}class Kd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new em(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new kv(this._firestore,this._userDataWriter,r.key,r,new em(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((l=>{const u=new kv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new em(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const u=new kv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new em(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,d=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:Hre(l.type),doc:u,oldIndex:f,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=JC.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Hre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:t})}}Kd._jsonSchemaVersion="firestore/querySnapshot/1.0",Kd._jsonSchema={type:Hn("string",Kd._jsonSchemaVersion),bundleSource:Hn("string","QuerySnapshot"),bundleName:Hn("string"),bundle:Hn("string")};class mF extends $re{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function qre(t,e,n){t=ga(t,Pn);const r=ga(t.firestore,Oc),i=I2(t.converter,e,n);return jg(r,[E2(Ig(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ci.none())])}function Kre(t,e,n,...r){t=ga(t,Pn);const i=ga(t.firestore,Oc),s=Ig(i);let a;return a=typeof(e=er(e))=="string"||e instanceof Dg?lF(s,"updateDoc",t._key,e,n,r):oF(s,"updateDoc",t._key,e),jg(i,[a.toMutation(t._key,ci.exists(!0))])}function XR(t){return jg(ga(t.firestore,Oc),[new n1(t._key,ci.none())])}function Wre(t,e){const n=ga(t.firestore,Oc),r=Hl(t),i=I2(t.converter,e);return jg(n,[E2(Ig(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ci.exists(!1))]).then((()=>r))}function RT(t,...e){t=er(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||KR(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(KR(e[r])){const u=e[r];e[r]=u.next?.bind(u),e[r+1]=u.error?.bind(u),e[r+2]=u.complete?.bind(u)}let s,a,l;if(t instanceof Pn)a=ga(t.firestore,Oc),l=i2(t._key.path),s={next:u=>{e[r]&&e[r](Gre(a,t,u))},error:e[r+1],complete:e[r+2]};else{const u=ga(t,kf);a=ga(u.firestore,Oc),l=u._query;const f=new mF(a);s={next:d=>{e[r]&&e[r](new Kd(a,f,u,d))},error:e[r+1],complete:e[r+2]},Ure(t._query)}return(function(f,d,p,g){const v=new Cre(g),x=new cre(d,v,p);return f.asyncQueue.enqueueAndForget((async()=>sre(await BR(f),x))),()=>{v.Nu(),f.asyncQueue.enqueueAndForget((async()=>are(await BR(f),x)))}})(S2(a),l,i,s)}function jg(t,e){return(function(r,i){const s=new qu;return r.asyncQueue.enqueueAndForget((async()=>bre(await Nre(r),i,s))),s.promise})(S2(t),e)}function Gre(t,e,n){const r=n.docs.get(e._key),i=new mF(t);return new Ku(t,i,e._key,r,new em(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yre{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ig(e)}set(e,n,r){this._verifyNotCommitted();const i=LT(e,this._firestore),s=I2(i.converter,n,r),a=E2(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,ci.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=LT(e,this._firestore);let a;return a=typeof(n=er(n))=="string"||n instanceof Dg?lF(this._dataReader,"WriteBatch.update",s._key,n,r,i):oF(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,ci.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=LT(e,this._firestore);return this._mutations=this._mutations.concat(new n1(n._key,ci.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function LT(t,e){if((t=er(t)).firestore!==e)throw new Te(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Wd(){return new A2("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xre(t){return S2(t=ga(t,Oc)),new Yre(t,(e=>jg(t,e)))}(function(e,n=!0){(function(i){_h=i})(Eh),Zd(new of("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new Oc(new Ree(r.getProvider("auth-internal")),new Bee(a,r.getProvider("app-check-internal")),(function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Te(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vm(f.options.projectId,d)})(a,i),a);return s={useFetchStreams:n,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),dc(Yj,Xj,e),dc(Yj,Xj,"esm2020")})();const P2=_.createContext({});function Rg(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const j2=typeof window<"u",R2=j2?_.useLayoutEffect:_.useEffect,u1=_.createContext(null);function L2(t,e){t.indexOf(e)===-1&&t.push(e)}function f1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Wo=(t,e,n)=>n>e?e:n<t?t:n;let V2=()=>{};const Go={},gF=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function yF(t){return typeof t=="object"&&t!==null}const vF=t=>/^0[^.\s]+$/u.test(t);function B2(t){let e;return()=>(e===void 0&&(e=t()),e)}const $s=t=>t,Qre=(t,e)=>n=>e(t(n)),Lg=(...t)=>t.reduce(Qre),ah=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class z2{constructor(){this.subscriptions=[]}add(e){return L2(this.subscriptions,e),()=>f1(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ya=t=>t*1e3,Us=t=>t/1e3;function bF(t,e){return e?t*(1e3/e):0}const Jre=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t},xF=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Zre=1e-7,eie=12;function tie(t,e,n,r,i){let s,a,l=0;do a=e+(n-e)/2,s=xF(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>Zre&&++l<eie);return a}function Vg(t,e,n,r){if(t===e&&n===r)return $s;const i=s=>tie(s,0,1,t,n);return s=>s===0||s===1?s:xF(i(s),e,r)}const wF=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,SF=t=>e=>1-t(1-e),TF=Vg(.33,1.53,.69,.99),U2=SF(TF),EF=wF(U2),AF=t=>(t*=2)<1?.5*U2(t):.5*(2-Math.pow(2,-10*(t-1))),F2=t=>1-Math.sin(Math.acos(t)),_F=SF(F2),kF=wF(F2),nie=Vg(.42,0,1,1),rie=Vg(0,0,.58,1),CF=Vg(.42,0,.58,1),OF=t=>Array.isArray(t)&&typeof t[0]!="number";function MF(t,e){return OF(t)?t[Jre(0,t.length,e)]:t}const NF=t=>Array.isArray(t)&&typeof t[0]=="number",iie={linear:$s,easeIn:nie,easeInOut:CF,easeOut:rie,circIn:F2,circInOut:kF,circOut:_F,backIn:U2,backInOut:EF,backOut:TF,anticipate:AF},sie=t=>typeof t=="string",QR=t=>{if(NF(t)){V2(t.length===4);const[e,n,r,i]=t;return Vg(e,n,r,i)}else if(sie(t))return iie[t];return t},V0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function aie(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(d){a.has(d)&&(f.schedule(d),t()),d(l)}const f={schedule:(d,p=!1,g=!1)=>{const x=g&&i?n:r;return p&&a.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(l=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,s&&(s=!1,f.process(d))}};return f}const oie=40;function DF(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=V0.reduce((D,L)=>(D[L]=aie(s),D),{}),{setup:l,read:u,resolveKeyframes:f,preUpdate:d,update:p,preRender:g,render:v,postRender:x}=a,S=()=>{const D=Go.useManualTiming?i.timestamp:performance.now();n=!1,Go.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(D-i.timestamp,oie),1)),i.timestamp=D,i.isProcessing=!0,l.process(i),u.process(i),f.process(i),d.process(i),p.process(i),g.process(i),v.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},E=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:V0.reduce((D,L)=>{const j=a[L];return D[L]=(B,M=!1,N=!1)=>(n||E(),j.schedule(B,M,N)),D},{}),cancel:D=>{for(let L=0;L<V0.length;L++)a[V0[L]].cancel(D)},state:i,steps:a}}const{schedule:on,cancel:Yo,state:Or,steps:VT}=DF(typeof requestAnimationFrame<"u"?requestAnimationFrame:$s,!0);let Cv;function lie(){Cv=void 0}const Mi={now:()=>(Cv===void 0&&Mi.set(Or.isProcessing||Go.useManualTiming?Or.timestamp:performance.now()),Cv),set:t=>{Cv=t,queueMicrotask(lie)}},IF=t=>e=>typeof e=="string"&&e.startsWith(t),$2=IF("--"),cie=IF("var(--"),H2=t=>cie(t)?uie.test(t.split("/*")[0].trim()):!1,uie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Hm={...Nh,transform:t=>Wo(0,1,t)},B0={...Nh,default:1},mm=t=>Math.round(t*1e5)/1e5,q2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fie(t){return t==null}const die=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,K2=(t,e)=>n=>!!(typeof n=="string"&&die.test(n)&&n.startsWith(t)||e&&!fie(n)&&Object.prototype.hasOwnProperty.call(n,e)),PF=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,l]=r.match(q2);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},hie=t=>Wo(0,255,t),BT={...Nh,transform:t=>Math.round(hie(t))},ju={test:K2("rgb","red"),parse:PF("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+BT.transform(t)+", "+BT.transform(e)+", "+BT.transform(n)+", "+mm(Hm.transform(r))+")"};function pie(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const V_={test:K2("#"),parse:pie,transform:ju.transform},Bg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ql=Bg("deg"),Qa=Bg("%"),$e=Bg("px"),mie=Bg("vh"),gie=Bg("vw"),JR={...Qa,parse:t=>Qa.parse(t)/100,transform:t=>Qa.transform(t*100)},Dd={test:K2("hsl","hue"),parse:PF("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Qa.transform(mm(e))+", "+Qa.transform(mm(n))+", "+mm(Hm.transform(r))+")"},Un={test:t=>ju.test(t)||V_.test(t)||Dd.test(t),parse:t=>ju.test(t)?ju.parse(t):Dd.test(t)?Dd.parse(t):V_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ju.transform(t):Dd.transform(t),getAnimatableNone:t=>{const e=Un.parse(t);return e.alpha=0,Un.transform(e)}},yie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vie(t){return isNaN(t)&&typeof t=="string"&&(t.match(q2)?.length||0)+(t.match(yie)?.length||0)>0}const jF="number",RF="color",bie="var",xie="var(",ZR="${}",wie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qm(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(wie,u=>(Un.test(u)?(r.color.push(s),i.push(RF),n.push(Un.parse(u))):u.startsWith(xie)?(r.var.push(s),i.push(bie),n.push(u)):(r.number.push(s),i.push(jF),n.push(parseFloat(u))),++s,ZR)).split(ZR);return{values:n,split:l,indexes:r,types:i}}function LF(t){return qm(t).values}function VF(t){const{split:e,types:n}=qm(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const l=n[a];l===jF?s+=mm(i[a]):l===RF?s+=Un.transform(i[a]):s+=i[a]}return s}}const Sie=t=>typeof t=="number"?0:Un.test(t)?Un.getAnimatableNone(t):t;function Tie(t){const e=LF(t);return VF(t)(e.map(Sie))}const Mc={test:vie,parse:LF,createTransformer:VF,getAnimatableNone:Tie};function zT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Eie({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;i=zT(u,l,t+1/3),s=zT(u,l,t),a=zT(u,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function ub(t,e){return n=>n>0?e:t}const un=(t,e,n)=>t+(e-t)*n,UT=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Aie=[V_,ju,Dd],_ie=t=>Aie.find(e=>e.test(t));function e4(t){const e=_ie(t);if(!e)return!1;let n=e.parse(t);return e===Dd&&(n=Eie(n)),n}const t4=(t,e)=>{const n=e4(t),r=e4(e);if(!n||!r)return ub(t,e);const i={...n};return s=>(i.red=UT(n.red,r.red,s),i.green=UT(n.green,r.green,s),i.blue=UT(n.blue,r.blue,s),i.alpha=un(n.alpha,r.alpha,s),ju.transform(i))},B_=new Set(["none","hidden"]);function kie(t,e){return B_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Cie(t,e){return n=>un(t,e,n)}function W2(t){return typeof t=="number"?Cie:typeof t=="string"?H2(t)?ub:Un.test(t)?t4:Nie:Array.isArray(t)?BF:typeof t=="object"?Un.test(t)?t4:Oie:ub}function BF(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>W2(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function Oie(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=W2(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Mie(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],l=t.values[a]??0;n[i]=l,r[s]++}return n}const Nie=(t,e)=>{const n=Mc.createTransformer(e),r=qm(t),i=qm(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?B_.has(t)&&!i.values.length||B_.has(e)&&!r.values.length?kie(t,e):Lg(BF(Mie(r,i),i.values),n):ub(t,e)};function zF(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?un(t,e,n):W2(t)(t,e)}const Die=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>on.update(e,n),stop:()=>Yo(e),now:()=>Or.isProcessing?Or.timestamp:Mi.now()}},UF=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},fb=2e4;function G2(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<fb;)e+=n,r=t.next(e);return e>=fb?1/0:e}function FF(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(G2(r),fb);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Us(i)}}const Iie=5;function $F(t,e,n){const r=Math.max(e-Iie,0);return bF(n-t(r),e-r)}const En={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},FT=.001;function Pie({duration:t=En.duration,bounce:e=En.bounce,velocity:n=En.velocity,mass:r=En.mass}){let i,s,a=1-e;a=Wo(En.minDamping,En.maxDamping,a),t=Wo(En.minDuration,En.maxDuration,Us(t)),a<1?(i=f=>{const d=f*a,p=d*t,g=d-n,v=z_(f,a),x=Math.exp(-p);return FT-g/v*x},s=f=>{const p=f*a*t,g=p*n+n,v=Math.pow(a,2)*Math.pow(f,2)*t,x=Math.exp(-p),S=z_(Math.pow(f,2),a);return(-i(f)+FT>0?-1:1)*((g-v)*x)/S}):(i=f=>{const d=Math.exp(-f*t),p=(f-n)*t+1;return-FT+d*p},s=f=>{const d=Math.exp(-f*t),p=(n-f)*(t*t);return d*p});const l=5/t,u=Rie(i,s,l);if(t=ya(t),isNaN(u))return{stiffness:En.stiffness,damping:En.damping,duration:t};{const f=Math.pow(u,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const jie=12;function Rie(t,e,n){let r=n;for(let i=1;i<jie;i++)r=r-t(r)/e(r);return r}function z_(t,e){return t*Math.sqrt(1-e*e)}const Lie=["duration","bounce"],Vie=["stiffness","damping","mass"];function n4(t,e){return e.some(n=>t[n]!==void 0)}function Bie(t){let e={velocity:En.velocity,stiffness:En.stiffness,damping:En.damping,mass:En.mass,isResolvedFromDuration:!1,...t};if(!n4(t,Vie)&&n4(t,Lie))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Wo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:En.mass,stiffness:i,damping:s}}else{const n=Pie(t);e={...e,...n,mass:En.mass},e.isResolvedFromDuration=!0}return e}function Km(t=En.visualDuration,e=En.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:u,damping:f,mass:d,duration:p,velocity:g,isResolvedFromDuration:v}=Bie({...n,velocity:-Us(n.velocity||0)}),x=g||0,S=f/(2*Math.sqrt(u*d)),E=a-s,A=Us(Math.sqrt(u/d)),C=Math.abs(E)<5;r||(r=C?En.restSpeed.granular:En.restSpeed.default),i||(i=C?En.restDelta.granular:En.restDelta.default);let D;if(S<1){const j=z_(A,S);D=B=>{const M=Math.exp(-S*A*B);return a-M*((x+S*A*E)/j*Math.sin(j*B)+E*Math.cos(j*B))}}else if(S===1)D=j=>a-Math.exp(-A*j)*(E+(x+A*E)*j);else{const j=A*Math.sqrt(S*S-1);D=B=>{const M=Math.exp(-S*A*B),N=Math.min(j*B,300);return a-M*((x+S*A*E)*Math.sinh(N)+j*E*Math.cosh(N))/j}}const L={calculatedDuration:v&&p||null,next:j=>{const B=D(j);if(v)l.done=j>=p;else{let M=j===0?x:0;S<1&&(M=j===0?ya(x):$F(D,j,B));const N=Math.abs(M)<=r,P=Math.abs(a-B)<=i;l.done=N&&P}return l.value=l.done?a:B,l},toString:()=>{const j=Math.min(G2(L),fb),B=UF(M=>L.next(j*M).value,j,30);return j+"ms "+B},toTransition:()=>{}};return L}Km.applyToOptions=t=>{const e=FF(t,100,Km);return t.ease=e.ease,t.duration=ya(e.duration),t.type="keyframes",t};function U_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:u,restDelta:f=.5,restSpeed:d}){const p=t[0],g={done:!1,value:p},v=N=>l!==void 0&&N<l||u!==void 0&&N>u,x=N=>l===void 0?u:u===void 0||Math.abs(l-N)<Math.abs(u-N)?l:u;let S=n*e;const E=p+S,A=a===void 0?E:a(E);A!==E&&(S=A-p);const C=N=>-S*Math.exp(-N/r),D=N=>A+C(N),L=N=>{const P=C(N),F=D(N);g.done=Math.abs(P)<=f,g.value=g.done?A:F};let j,B;const M=N=>{v(g.value)&&(j=N,B=Km({keyframes:[g.value,x(g.value)],velocity:$F(D,N,g.value),damping:i,stiffness:s,restDelta:f,restSpeed:d}))};return M(0),{calculatedDuration:null,next:N=>{let P=!1;return!B&&j===void 0&&(P=!0,L(N),M(N)),j!==void 0&&N>=j?B.next(N-j):(!P&&L(N),g)}}}function zie(t,e,n){const r=[],i=n||Go.mix||zF,s=t.length-1;for(let a=0;a<s;a++){let l=i(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||$s:e;l=Lg(u,l)}r.push(l)}return r}function HF(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(V2(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=zie(e,r,i),u=l.length,f=d=>{if(a&&d<t[0])return e[0];let p=0;if(u>1)for(;p<t.length-2&&!(d<t[p+1]);p++);const g=ah(t[p],t[p+1],d);return l[p](g)};return n?d=>f(Wo(t[0],t[s-1],d)):f}function qF(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ah(0,e,r);t.push(un(n,1,i))}}function KF(t){const e=[0];return qF(e,t.length-1),e}function Uie(t,e){return t.map(n=>n*e)}function Fie(t,e){return t.map(()=>e||CF).splice(0,t.length-1)}function gm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=OF(r)?r.map(QR):QR(r),s={done:!1,value:e[0]},a=Uie(n&&n.length===e.length?n:KF(e),t),l=HF(a,e,{ease:Array.isArray(i)?i:Fie(e,i)});return{calculatedDuration:t,next:u=>(s.value=l(u),s.done=u>=t,s)}}const $ie=t=>t!==null;function Y2(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter($ie),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const Hie={decay:U_,inertia:U_,tween:gm,keyframes:gm,spring:Km};function WF(t){typeof t.type=="string"&&(t.type=Hie[t.type])}class X2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const qie=t=>t/100;class Q2 extends X2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Mi.now()&&this.tick(Mi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;WF(e);const{type:n=gm,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:l}=e;const u=n||gm;u!==gm&&typeof l[0]!="number"&&(this.mixKeyframes=Lg(qie,zF(l[0],l[1])),l=[0,100]);const f=u({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...l].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=G2(f));const{calculatedDuration:d}=f;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:d,repeat:p,repeatType:g,repeatDelay:v,type:x,onUpdate:S,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const A=this.currentTime-f*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?A<0:A>i;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let D=this.currentTime,L=r;if(p){const N=Math.min(this.currentTime,i)/l;let P=Math.floor(N),F=N%1;!F&&N>=1&&(F=1),F===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(g==="reverse"?(F=1-F,v&&(F-=v/l)):g==="mirror"&&(L=a)),D=Wo(0,1,F)*l}const j=C?{done:!1,value:d[0]}:L.next(D);s&&(j.value=s(j.value));let{done:B}=j;!C&&u!==null&&(B=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return M&&x!==U_&&(j.value=Y2(d,this.options,E,this.speed)),S&&S(j.value),M&&this.finish(),j}then(e,n){return this.finished.then(e,n)}get duration(){return Us(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Us(e)}get time(){return Us(this.currentTime)}set time(e){e=ya(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Mi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Us(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Die,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Kie(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ru=t=>t*180/Math.PI,F_=t=>{const e=Ru(Math.atan2(t[1],t[0]));return $_(e)},Wie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:F_,rotateZ:F_,skewX:t=>Ru(Math.atan(t[1])),skewY:t=>Ru(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},$_=t=>(t=t%360,t<0&&(t+=360),t),r4=F_,i4=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),s4=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Gie={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:i4,scaleY:s4,scale:t=>(i4(t)+s4(t))/2,rotateX:t=>$_(Ru(Math.atan2(t[6],t[5]))),rotateY:t=>$_(Ru(Math.atan2(-t[2],t[0]))),rotateZ:r4,rotate:r4,skewX:t=>Ru(Math.atan(t[4])),skewY:t=>Ru(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function H_(t){return t.includes("scale")?1:0}function q_(t,e){if(!t||t==="none")return H_(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Gie,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Wie,i=l}if(!i)return H_(e);const s=r[e],a=i[1].split(",").map(Xie);return typeof s=="function"?s(a):a[s]}const Yie=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return q_(n,e)};function Xie(t){return parseFloat(t.trim())}const Dh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ih=new Set(Dh),a4=t=>t===Nh||t===$e,Qie=new Set(["x","y","z"]),Jie=Dh.filter(t=>!Qie.has(t));function Zie(t){const e=[];return Jie.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Wu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>q_(e,"x"),y:(t,{transform:e})=>q_(e,"y")};Wu.translateX=Wu.x;Wu.translateY=Wu.y;const Gu=new Set;let K_=!1,W_=!1,G_=!1;function GF(){if(W_){const t=Array.from(Gu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Zie(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}W_=!1,K_=!1,Gu.forEach(t=>t.complete(G_)),Gu.clear()}function YF(){Gu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(W_=!0)})}function ese(){G_=!0,YF(),GF(),G_=!1}class J2{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Gu.add(this),K_||(K_=!0,on.read(YF),on.resolveKeyframes(GF))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}Kie(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Gu.delete(this)}cancel(){this.state==="scheduled"&&(Gu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const tse=t=>t.startsWith("--");function nse(t,e,n){tse(e)?t.style.setProperty(e,n):t.style[e]=n}const rse=B2(()=>window.ScrollTimeline!==void 0),ise={};function sse(t,e){const n=B2(t);return()=>ise[e]??n()}const XF=sse(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,o4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tm([0,.65,.55,1]),circOut:tm([.55,0,1,.45]),backIn:tm([.31,.01,.66,-.59]),backOut:tm([.33,1.53,.69,.99])};function QF(t,e){if(t)return typeof t=="function"?XF()?UF(t,e):"ease-out":NF(t)?tm(t):Array.isArray(t)?t.map(n=>QF(n,e)||o4.easeOut):o4[t]}function ase(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:u}={},f=void 0){const d={[e]:n};u&&(d.offset=u);const p=QF(l,i);Array.isArray(p)&&(d.easing=p);const g={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),t.animate(d,g)}function Z2(t){return typeof t=="function"&&"applyToOptions"in t}function ose({type:t,...e}){return Z2(t)&&XF()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class lse extends X2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,V2(typeof e.type!="string");const f=ose(e);this.animation=ase(n,r,i,f,s),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=Y2(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):nse(n,r,d),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Us(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Us(e)}get time(){return Us(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ya(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&rse()?(this.animation.timeline=e,$s):n(this)}}const JF={anticipate:AF,backInOut:EF,circInOut:kF};function cse(t){return t in JF}function use(t){typeof t.ease=="string"&&cse(t.ease)&&(t.ease=JF[t.ease])}const l4=10;class fse extends lse{constructor(e){use(e),WF(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new Q2({...a,autoplay:!1}),u=ya(this.finishedTime??this.time);n.setWithVelocity(l.sample(u-l4).value,l.sample(u).value,l4),l.stop()}}const c4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Mc.test(t)||t==="0")&&!t.startsWith("url("));function dse(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function hse(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=c4(i,e),l=c4(s,e);return!a||!l?!1:dse(t)||(n==="spring"||Z2(n))&&r}function Y_(t){t.duration=0,t.type="keyframes"}const pse=new Set(["opacity","clipPath","filter","transform"]),mse=B2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function gse(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=e.owner.getProps();return mse()&&n&&pse.has(n)&&(n!=="transform"||!f)&&!u&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const yse=40;class vse extends X2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:u,motionValue:f,element:d,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Mi.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:u,motionValue:f,element:d,...p},v=d?.KeyframeResolver||J2;this.keyframeResolver=new v(l,(x,S,E)=>this.onKeyframesResolved(x,S,g,!E),u,f,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:u,isHandoff:f,onUpdate:d}=r;this.resolvedAt=Mi.now(),hse(e,s,a,l)||((Go.instantAnimations||!u)&&d?.(Y2(e,r,n)),e[0]=e[e.length-1],Y_(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>yse?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!f&&gse(g)?new fse({...g,element:g.motionValue.owner.current}):new Q2(g);v.finished.then(()=>this.notifyFinished()).catch($s),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),ese()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}class bse{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>r.attachTimeline(e));return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return u4(this.animations,"duration")}get iterationDuration(){return u4(this.animations,"iterationDuration")}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function u4(t,e){let n=0;for(let r=0;r<t.length;r++){const i=t[r][e];i!==null&&i>n&&(n=i)}return n}class xse extends bse{then(e,n){return this.finished.finally(e).then(()=>{})}}const wse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Sse(t){const e=wse.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function ZF(t,e,n=1){const[r,i]=Sse(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return gF(a)?parseFloat(a):a}return H2(i)?ZF(i,e,n+1):i}function eO(t,e){return t?.[e]??t?.default??t}const e9=new Set(["width","height","top","left","right","bottom",...Dh]),Tse={test:t=>t==="auto",parse:t=>t},t9=t=>e=>e.test(t),n9=[Nh,$e,Qa,ql,gie,mie,Tse],f4=t=>n9.find(t9(t));function Ese(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||vF(t):!0}const Ase=new Set(["brightness","contrast","saturate","opacity"]);function _se(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(q2)||[];if(!r)return t;const i=n.replace(r,"");let s=Ase.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const kse=/\b([a-z-]*)\(.*?\)/gu,X_={...Mc,getAnimatableNone:t=>{const e=t.match(kse);return e?e.map(_se).join(" "):t}},d4={...Nh,transform:Math.round},Cse={rotate:ql,rotateX:ql,rotateY:ql,rotateZ:ql,scale:B0,scaleX:B0,scaleY:B0,scaleZ:B0,skew:ql,skewX:ql,skewY:ql,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:Hm,originX:JR,originY:JR,originZ:$e},tO={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,backgroundPositionX:$e,backgroundPositionY:$e,...Cse,zIndex:d4,fillOpacity:Hm,strokeOpacity:Hm,numOctaves:d4},Ose={...tO,color:Un,backgroundColor:Un,outlineColor:Un,fill:Un,stroke:Un,borderColor:Un,borderTopColor:Un,borderRightColor:Un,borderBottomColor:Un,borderLeftColor:Un,filter:X_,WebkitFilter:X_},r9=t=>Ose[t];function i9(t,e){let n=r9(t);return n!==X_&&(n=Mc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Mse=new Set(["auto","none","0"]);function Nse(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Mse.has(s)&&qm(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=i9(n,i)}class Dse extends J2{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let f=e[u];if(typeof f=="string"&&(f=f.trim(),H2(f))){const d=ZF(f,n.current);d!==void 0&&(e[u]=d),u===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!e9.has(r)||e.length!==2)return;const[i,s]=e,a=f4(i),l=f4(s);if(a!==l)if(a4(a)&&a4(l))for(let u=0;u<e.length;u++){const f=e[u];typeof f=="string"&&(e[u]=parseFloat(f))}else Wu[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Ese(e[i]))&&r.push(i);r.length&&Nse(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Wu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function s9(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const a9=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function o9(t){return yF(t)&&"offsetHeight"in t}const h4=30,Ise=t=>!isNaN(parseFloat(t)),ym={current:void 0};class Pse{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Mi.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Mi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ise(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new z2);const r=this.events[e].add(n);return e==="change"?()=>{r(),on.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return ym.current&&ym.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Mi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>h4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,h4);return bF(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ff(t,e){return new Pse(t,e)}const{schedule:nO}=DF(queueMicrotask,!1),ca={x:!1,y:!1};function l9(){return ca.x||ca.y}function jse(t){return t==="x"||t==="y"?ca[t]?null:(ca[t]=!0,()=>{ca[t]=!1}):ca.x||ca.y?null:(ca.x=ca.y=!0,()=>{ca.x=ca.y=!1})}function c9(t,e){const n=s9(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function p4(t){return!(t.pointerType==="touch"||l9())}function Rse(t,e,n={}){const[r,i,s]=c9(t,n),a=l=>{if(!p4(l))return;const{target:u}=l,f=e(u,l);if(typeof f!="function"||!u)return;const d=p=>{p4(p)&&(f(p),u.removeEventListener("pointerleave",d))};u.addEventListener("pointerleave",d,i)};return r.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const u9=(t,e)=>e?t===e?!0:u9(t,e.parentElement):!1,rO=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Lse=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Vse(t){return Lse.has(t.tagName)||t.tabIndex!==-1}const Ov=new WeakSet;function m4(t){return e=>{e.key==="Enter"&&t(e)}}function $T(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Bse=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=m4(()=>{if(Ov.has(n))return;$T(n,"down");const i=m4(()=>{$T(n,"up")}),s=()=>$T(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function g4(t){return rO(t)&&!l9()}function zse(t,e,n={}){const[r,i,s]=c9(t,n),a=l=>{const u=l.currentTarget;if(!g4(l))return;Ov.add(u);const f=e(u,l),d=(v,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),Ov.has(u)&&Ov.delete(u),g4(v)&&typeof f=="function"&&f(v,{success:x})},p=v=>{d(v,u===window||u===document||n.useGlobalTarget||u9(u,v.target))},g=v=>{d(v,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),o9(l)&&(l.addEventListener("focus",f=>Bse(f,i)),!Vse(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function iO(t){return yF(t)&&"ownerSVGElement"in t}function f9(t){return iO(t)&&t.tagName==="svg"}function Use(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],s=t[2+n],a=t[3+n],l=HF(i,s,a);return e?l(r):l}const fr=t=>!!(t&&t.getVelocity),Fse=[...n9,Un,Mc],$se=t=>Fse.find(t9(t)),d1=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function y4(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Hse(...t){return e=>{let n=!1;const r=t.map(i=>{const s=y4(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():y4(t[i],null)}}}}function qse(...t){return _.useCallback(Hse(...t),t)}class Kse extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=o9(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Wse({children:t,isPresent:e,anchorX:n,root:r}){const i=_.useId(),s=_.useRef(null),a=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=_.useContext(d1),u=qse(s,t?.ref);return _.useInsertionEffect(()=>{const{width:f,height:d,top:p,left:g,right:v}=a.current;if(e||!s.current||!f||!d)return;const x=n==="left"?`left: ${g}`:`right: ${v}`;s.current.dataset.motionPopId=i;const S=document.createElement("style");l&&(S.nonce=l);const E=r??document.head;return E.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${p}px !important;
          }
        `),()=>{E.contains(S)&&E.removeChild(S)}},[e]),y.jsx(Kse,{isPresent:e,childRef:s,sizeRef:a,children:_.cloneElement(t,{ref:u})})}const Gse=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:l,root:u})=>{const f=Rg(Yse),d=_.useId();let p=!0,g=_.useMemo(()=>(p=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:v=>{f.set(v,!0);for(const x of f.values())if(!x)return;r&&r()},register:v=>(f.set(v,!1),()=>f.delete(v))}),[n,f,r]);return s&&p&&(g={...g}),_.useMemo(()=>{f.forEach((v,x)=>f.set(x,!1))},[n]),_.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),a==="popLayout"&&(t=y.jsx(Wse,{isPresent:n,anchorX:l,root:u,children:t})),y.jsx(u1.Provider,{value:g,children:t})};function Yse(){return new Map}function d9(t=!0){const e=_.useContext(u1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=_.useId();_.useEffect(()=>{if(t)return i(s)},[t]);const a=_.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const z0=t=>t.key||"";function v4(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const qt=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:l="left",root:u})=>{const[f,d]=d9(a),p=_.useMemo(()=>v4(t),[t]),g=a&&!f?[]:p.map(z0),v=_.useRef(!0),x=_.useRef(p),S=Rg(()=>new Map),[E,A]=_.useState(p),[C,D]=_.useState(p);R2(()=>{v.current=!1,x.current=p;for(let B=0;B<C.length;B++){const M=z0(C[B]);g.includes(M)?S.delete(M):S.get(M)!==!0&&S.set(M,!1)}},[C,g.length,g.join("-")]);const L=[];if(p!==E){let B=[...p];for(let M=0;M<C.length;M++){const N=C[M],P=z0(N);g.includes(P)||(B.splice(M,0,N),L.push(N))}return s==="wait"&&L.length&&(B=L),D(v4(B)),A(p),null}const{forceRender:j}=_.useContext(P2);return y.jsx(y.Fragment,{children:C.map(B=>{const M=z0(B),N=a&&!f?!1:p===C||g.includes(M),P=()=>{if(S.has(M))S.set(M,!0);else return;let F=!0;S.forEach(V=>{V||(F=!1)}),F&&(j?.(),D(x.current),a&&d?.(),r&&r())};return y.jsx(Gse,{isPresent:N,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:u,onExitComplete:N?void 0:P,anchorX:l,children:B},M)})})},h9=_.createContext({strict:!1}),b4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oh={};for(const t in b4)oh[t]={isEnabled:e=>b4[t].some(n=>!!e[n])};function Xse(t){for(const e in t)oh[e]={...oh[e],...t[e]}}const Qse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function db(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Qse.has(t)}let p9=t=>!db(t);function Jse(t){typeof t=="function"&&(p9=e=>e.startsWith("on")?!db(e):t(e))}try{Jse(require("@emotion/is-prop-valid").default)}catch{}function Zse(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(p9(i)||n===!0&&db(i)||!e&&!db(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const h1=_.createContext({});function p1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Wm(t){return typeof t=="string"||Array.isArray(t)}const sO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],aO=["initial",...sO];function m1(t){return p1(t.animate)||aO.some(e=>Wm(t[e]))}function m9(t){return!!(m1(t)||t.variants)}function eae(t,e){if(m1(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Wm(n)?n:void 0,animate:Wm(r)?r:void 0}}return t.inherit!==!1?e:{}}function tae(t){const{initial:e,animate:n}=eae(t,_.useContext(h1));return _.useMemo(()=>({initial:e,animate:n}),[x4(e),x4(n)])}function x4(t){return Array.isArray(t)?t.join(" "):t}const Gm={};function nae(t){for(const e in t)Gm[e]=t[e],$2(e)&&(Gm[e].isCSSVariable=!0)}function g9(t,{layout:e,layoutId:n}){return Ih.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Gm[t]||t==="opacity")}const rae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iae=Dh.length;function sae(t,e,n){let r="",i=!0;for(let s=0;s<iae;s++){const a=Dh[s],l=t[a];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(a.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const f=a9(l,tO[a]);if(!u){i=!1;const d=rae[a]||a;r+=`${d}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function oO(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,l=!1;for(const u in e){const f=e[u];if(Ih.has(u)){a=!0;continue}else if($2(u)){i[u]=f;continue}else{const d=a9(f,tO[u]);u.startsWith("origin")?(l=!0,s[u]=d):r[u]=d}}if(e.transform||(a||n?r.transform=sae(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:f="50%",originZ:d=0}=s;r.transformOrigin=`${u} ${f} ${d}`}}const lO=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function y9(t,e,n){for(const r in e)!fr(e[r])&&!g9(r,n)&&(t[r]=e[r])}function aae({transformTemplate:t},e){return _.useMemo(()=>{const n=lO();return oO(n,e,t),Object.assign({},n.vars,n.style)},[e])}function oae(t,e){const n=t.style||{},r={};return y9(r,n,t),Object.assign(r,aae(t,e)),r}function lae(t,e){const n={},r=oae(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const cae={offset:"stroke-dashoffset",array:"stroke-dasharray"},uae={offset:"strokeDashoffset",array:"strokeDasharray"};function fae(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?cae:uae;t[s.offset]=$e.transform(-r);const a=$e.transform(e),l=$e.transform(n);t[s.array]=`${a} ${l}`}function v9(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},u,f,d){if(oO(t,l,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=d?.transformBox??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&fae(p,i,s,a,!1)}const b9=()=>({...lO(),attrs:{}}),x9=t=>typeof t=="string"&&t.toLowerCase()==="svg";function dae(t,e,n,r){const i=_.useMemo(()=>{const s=b9();return v9(s,e,x9(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};y9(s,t.style,t),i.style={...s,...i.style}}return i}const hae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cO(t){return typeof t!="string"||t.includes("-")?!1:!!(hae.indexOf(t)>-1||/[A-Z]/u.test(t))}function pae(t,e,n,{latestValues:r},i,s=!1){const l=(cO(t)?dae:lae)(e,r,i,t),u=Zse(e,typeof t=="string",s),f=t!==_.Fragment?{...u,...l,ref:n}:{},{children:d}=e,p=_.useMemo(()=>fr(d)?d.get():d,[d]);return _.createElement(t,{...f,children:p})}function w4(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function uO(t,e,n,r){if(typeof e=="function"){const[i,s]=w4(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=w4(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Mv(t){return fr(t)?t.get():t}function mae({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:gae(n,r,i,t),renderState:e()}}function gae(t,e,n,r){const i={},s=r(t,{});for(const g in s)i[g]=Mv(s[g]);let{initial:a,animate:l}=t;const u=m1(t),f=m9(t);e&&f&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const p=d?l:a;if(p&&typeof p!="boolean"&&!p1(p)){const g=Array.isArray(p)?p:[p];for(let v=0;v<g.length;v++){const x=uO(t,g[v]);if(x){const{transitionEnd:S,transition:E,...A}=x;for(const C in A){let D=A[C];if(Array.isArray(D)){const L=d?D.length-1:0;D=D[L]}D!==null&&(i[C]=D)}for(const C in S)i[C]=S[C]}}}return i}const w9=t=>(e,n)=>{const r=_.useContext(h1),i=_.useContext(u1),s=()=>mae(t,e,r,i);return n?s():Rg(s)};function fO(t,e,n){const{style:r}=t,i={};for(const s in r)(fr(r[s])||e.style&&fr(e.style[s])||g9(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const yae=w9({scrapeMotionValuesFromProps:fO,createRenderState:lO});function S9(t,e,n){const r=fO(t,e,n);for(const i in t)if(fr(t[i])||fr(e[i])){const s=Dh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const vae=w9({scrapeMotionValuesFromProps:S9,createRenderState:b9}),bae=Symbol.for("motionComponentSymbol");function Id(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function xae(t,e,n){return _.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Id(n)&&(n.current=r))},[e])}const dO=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),wae="framerAppearId",T9="data-"+dO(wae),E9=_.createContext({});function Sae(t,e,n,r,i){const{visualElement:s}=_.useContext(h1),a=_.useContext(h9),l=_.useContext(u1),u=_.useContext(d1).reducedMotion,f=_.useRef(null);r=r||a.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const d=f.current,p=_.useContext(E9);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&Tae(f.current,n,i,p);const g=_.useRef(!1);_.useInsertionEffect(()=>{d&&g.current&&d.update(n,l)});const v=n[T9],x=_.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return R2(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),_.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),x.current=!1),d.enteringChildren=void 0)}),d}function Tae(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:u,layoutRoot:f,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:A9(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&Id(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:u,layoutRoot:f})}function A9(t){if(t)return t.options.allowProjection!==!1?t.projection:A9(t.parent)}function HT(t,{forwardMotionProps:e=!1}={},n,r){n&&Xse(n);const i=cO(t)?vae:yae;function s(l,u){let f;const d={..._.useContext(d1),...l,layoutId:Eae(l)},{isStatic:p}=d,g=tae(l),v=i(l,p);if(!p&&j2){Aae();const x=_ae(d);f=x.MeasureLayout,g.visualElement=Sae(t,v,d,r,x.ProjectionNode)}return y.jsxs(h1.Provider,{value:g,children:[f&&g.visualElement?y.jsx(f,{visualElement:g.visualElement,...d}):null,pae(t,l,xae(v,g.visualElement,u),v,p,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=_.forwardRef(s);return a[bae]=t,a}function Eae({layoutId:t}){const e=_.useContext(P2).id;return e&&t!==void 0?e+"-"+t:t}function Aae(t,e){_.useContext(h9).strict}function _ae(t){const{drag:e,layout:n}=oh;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function kae(t,e){if(typeof Proxy>"u")return HT;const n=new Map,r=(s,a)=>HT(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,HT(a,void 0,t,e)),n.get(a))})}function _9({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Cae({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Oae(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function qT(t){return t===void 0||t===1}function Q_({scale:t,scaleX:e,scaleY:n}){return!qT(t)||!qT(e)||!qT(n)}function Ou(t){return Q_(t)||k9(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function k9(t){return S4(t.x)||S4(t.y)}function S4(t){return t&&t!=="0%"}function hb(t,e,n){const r=t-n,i=e*r;return n+i}function T4(t,e,n,r,i){return i!==void 0&&(t=hb(t,i,r)),hb(t,n,r)+e}function J_(t,e=0,n=1,r,i){t.min=T4(t.min,e,n,r,i),t.max=T4(t.max,e,n,r,i)}function C9(t,{x:e,y:n}){J_(t.x,e.translate,e.scale,e.originPoint),J_(t.y,n.translate,n.scale,n.originPoint)}const E4=.999999999999,A4=1.0000000000001;function Mae(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let l=0;l<i;l++){s=n[l],a=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&jd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,C9(t,a)),r&&Ou(s.latestValues)&&jd(t,s.latestValues))}e.x<A4&&e.x>E4&&(e.x=1),e.y<A4&&e.y>E4&&(e.y=1)}function Pd(t,e){t.min=t.min+e,t.max=t.max+e}function _4(t,e,n,r,i=.5){const s=un(t.min,t.max,i);J_(t,e,n,s,r)}function jd(t,e){_4(t.x,e.x,e.scaleX,e.scale,e.originX),_4(t.y,e.y,e.scaleY,e.scale,e.originY)}function O9(t,e){return _9(Oae(t.getBoundingClientRect(),e))}function Nae(t,e,n){const r=O9(t,n),{scroll:i}=e;return i&&(Pd(r.x,i.offset.x),Pd(r.y,i.offset.y)),r}const k4=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rd=()=>({x:k4(),y:k4()}),C4=()=>({min:0,max:0}),Tn=()=>({x:C4(),y:C4()}),Z_={current:null},M9={current:!1};function Dae(){if(M9.current=!0,!!j2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Z_.current=t.matches;t.addEventListener("change",e),e()}else Z_.current=!1}const Ym=new WeakMap;function Iae(t,e,n){for(const r in e){const i=e[r],s=n[r];if(fr(i))t.addValue(r,i);else if(fr(s))t.addValue(r,ff(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,ff(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const O4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class N9{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=J2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Mi.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,on.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=m1(n),this.isVariantNode=m9(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const v=p[g];u[g]!==void 0&&fr(v)&&v.set(u[g])}}mount(e){this.current=e,Ym.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),M9.current||Dae(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Z_.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Yo(this.notifyUpdate),Yo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ih.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&on.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in oh){const n=oh[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<O4.length;r++){const i=O4[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Iae(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ff(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(gF(r)||vF(r))?r=parseFloat(r):!$se(r)&&Mc.test(n)&&(r=i9(e,n)),this.setBaseTarget(e,fr(r)?r.get():r)),fr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=uO(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!fr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new z2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){nO.render(this.render)}}class D9 extends N9{constructor(){super(...arguments),this.KeyframeResolver=Dse}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;fr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function I9(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function Pae(t){return window.getComputedStyle(t)}class P9 extends D9{constructor(){super(...arguments),this.type="html",this.renderInstance=I9}readValueFromInstance(e,n){if(Ih.has(n))return this.projection?.isProjecting?H_(n):Yie(e,n);{const r=Pae(e),i=($2(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return O9(e,n)}build(e,n,r){oO(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return fO(e,n,r)}}const j9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jae(t,e,n,r){I9(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(j9.has(i)?i:dO(i),e.attrs[i])}class R9 extends D9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ih.has(n)){const r=r9(n);return r&&r.default||0}return n=j9.has(n)?n:dO(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return S9(e,n,r)}build(e,n,r){v9(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){jae(e,n,r,i)}mount(e){this.isSVGTag=x9(e.tagName),super.mount(e)}}const Rae=(t,e)=>cO(t)?new R9(e):new P9(e,{allowProjection:t!==_.Fragment});function Gd(t,e,n){const r=t.getProps();return uO(r,e,n!==void 0?n:r.custom,t)}const ek=t=>Array.isArray(t);function Lae(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ff(n))}function Vae(t){return ek(t)?t[t.length-1]||0:t}function Bae(t,e){const n=Gd(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const l=Vae(s[a]);Lae(t,a,l)}}function zae(t){return!!(fr(t)&&t.add)}function tk(t,e){const n=t.getValue("willChange");if(zae(n))return n.add(e);if(!n&&Go.WillChange){const r=new Go.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function L9(t){return t.props[T9]}const Uae=t=>t!==null;function Fae(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Uae),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const $ae={type:"spring",stiffness:500,damping:25,restSpeed:10},Hae=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),qae={type:"keyframes",duration:.8},Kae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wae=(t,{keyframes:e})=>e.length>2?qae:Ih.has(t)?t.startsWith("scale")?Hae(e[1]):$ae:Kae;function Gae({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:u,elapsed:f,...d}){return!!Object.keys(d).length}const hO=(t,e,n,r={},i,s)=>a=>{const l=eO(r,t)||{},u=l.delay||r.delay||0;let{elapsed:f=0}=r;f=f-ya(u);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-f,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};Gae(l)||Object.assign(d,Wae(t,d)),d.duration&&(d.duration=ya(d.duration)),d.repeatDelay&&(d.repeatDelay=ya(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Y_(d),d.delay===0&&(p=!0)),(Go.instantAnimations||Go.skipAnimations)&&(p=!0,Y_(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,p&&!s&&e.get()!==void 0){const g=Fae(d.keyframes,l);if(g!==void 0){on.update(()=>{d.onUpdate(g),d.onComplete()});return}}return l.isSync?new Q2(d):new vse(d)};function Yae({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function pO(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(s=r);const u=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const p=t.getValue(d,t.latestValues[d]??null),g=l[d];if(g===void 0||f&&Yae(f,d))continue;const v={delay:n,...eO(s||{},d)},x=p.get();if(x!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===x&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const A=L9(t);if(A){const C=window.MotionHandoffAnimation(A,d,on);C!==null&&(v.startTime=C,S=!0)}}tk(t,d),p.start(hO(d,p,g,t.shouldReduceMotion&&e9.has(d)?{type:!1}:v,t,S));const E=p.animation;E&&u.push(E)}return a&&Promise.all(u).then(()=>{on.update(()=>{a&&Bae(t,a)})}),u}function V9(t,e,n,r=0,i=1){const s=Array.from(t).sort((f,d)=>f.sortNodePosition(d)).indexOf(e),a=t.size,l=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:l-s*r}function nk(t,e,n={}){const r=Gd(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(pO(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:p}=i;return Xae(t,e,u,f,d,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,f]=l==="beforeChildren"?[s,a]:[a,s];return u().then(()=>f())}else return Promise.all([s(),a(n.delay)])}function Xae(t,e,n=0,r=0,i=0,s=1,a){const l=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),l.push(nk(u,e,{...a,delay:n+(typeof r=="function"?0:r)+V9(t.variantChildren,u,r,i,s)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(l)}function Qae(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>nk(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=nk(t,e,n);else{const i=typeof e=="function"?Gd(t,e,n.custom):e;r=Promise.all(pO(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function B9(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Jae=aO.length;function z9(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?z9(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Jae;n++){const r=aO[n],i=t.props[r];(Wm(i)||i===!1)&&(e[r]=i)}return e}const Zae=[...sO].reverse(),eoe=sO.length;function toe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Qae(t,n,r)))}function noe(t){let e=toe(t),n=M4(),r=!0;const i=u=>(f,d)=>{const p=Gd(t,d,u==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:g,transitionEnd:v,...x}=p;f={...f,...x,...v}}return f};function s(u){e=u(t)}function a(u){const{props:f}=t,d=z9(t.parent)||{},p=[],g=new Set;let v={},x=1/0;for(let E=0;E<eoe;E++){const A=Zae[E],C=n[A],D=f[A]!==void 0?f[A]:d[A],L=Wm(D),j=A===u?C.isActive:null;j===!1&&(x=E);let B=D===d[A]&&D!==f[A]&&L;if(B&&r&&t.manuallyAnimateOnMount&&(B=!1),C.protectedKeys={...v},!C.isActive&&j===null||!D&&!C.prevProp||p1(D)||typeof D=="boolean")continue;const M=roe(C.prevProp,D);let N=M||A===u&&C.isActive&&!B&&L||E>x&&L,P=!1;const F=Array.isArray(D)?D:[D];let V=F.reduce(i(A),{});j===!1&&(V={});const{prevResolvedValues:$={}}=C,U={...$,...V},pe=K=>{N=!0,g.has(K)&&(P=!0,g.delete(K)),C.needsAnimating[K]=!0;const ae=t.getValue(K);ae&&(ae.liveStyle=!1)};for(const K in U){const ae=V[K],ge=$[K];if(v.hasOwnProperty(K))continue;let xe=!1;ek(ae)&&ek(ge)?xe=!B9(ae,ge):xe=ae!==ge,xe?ae!=null?pe(K):g.add(K):ae!==void 0&&g.has(K)?pe(K):C.protectedKeys[K]=!0}C.prevProp=D,C.prevResolvedValues=V,C.isActive&&(v={...v,...V}),r&&t.blockInitialAnimation&&(N=!1);const ve=B&&M;N&&(!ve||P)&&p.push(...F.map(K=>{const ae={type:A};if(typeof K=="string"&&r&&!ve&&t.manuallyAnimateOnMount&&t.parent){const{parent:ge}=t,xe=Gd(ge,K);if(ge.enteringChildren&&xe){const{delayChildren:q}=xe.transition||{};ae.delay=V9(ge.enteringChildren,t,q)}}return{animation:K,options:ae}}))}if(g.size){const E={};if(typeof f.initial!="boolean"){const A=Gd(t,Array.isArray(f.initial)?f.initial[0]:f.initial);A&&A.transition&&(E.transition=A.transition)}g.forEach(A=>{const C=t.getBaseTarget(A),D=t.getValue(A);D&&(D.liveStyle=!0),E[A]=C??null}),p.push({animation:E})}let S=!!p.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(p):Promise.resolve()}function l(u,f){if(n[u].isActive===f)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(u,f)),n[u].isActive=f;const d=a(u);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=M4(),r=!0}}}function roe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!B9(e,t):!1}function Au(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function M4(){return{animate:Au(!0),whileInView:Au(),whileHover:Au(),whileTap:Au(),whileDrag:Au(),whileFocus:Au(),exit:Au()}}class Uc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ioe extends Uc{constructor(e){super(e),e.animationState||(e.animationState=noe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();p1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let soe=0;class aoe extends Uc{constructor(){super(...arguments),this.id=soe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ooe={animation:{Feature:ioe},exit:{Feature:aoe}};function Xm(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function zg(t){return{point:{x:t.pageX,y:t.pageY}}}const loe=t=>e=>rO(e)&&t(e,zg(e));function vm(t,e,n,r){return Xm(t,e,loe(n),r)}const U9=1e-4,coe=1-U9,uoe=1+U9,F9=.01,foe=0-F9,doe=0+F9;function ai(t){return t.max-t.min}function hoe(t,e,n){return Math.abs(t-e)<=n}function N4(t,e,n,r=.5){t.origin=r,t.originPoint=un(e.min,e.max,t.origin),t.scale=ai(n)/ai(e),t.translate=un(n.min,n.max,t.origin)-t.originPoint,(t.scale>=coe&&t.scale<=uoe||isNaN(t.scale))&&(t.scale=1),(t.translate>=foe&&t.translate<=doe||isNaN(t.translate))&&(t.translate=0)}function bm(t,e,n,r){N4(t.x,e.x,n.x,r?r.originX:void 0),N4(t.y,e.y,n.y,r?r.originY:void 0)}function D4(t,e,n){t.min=n.min+e.min,t.max=t.min+ai(e)}function poe(t,e,n){D4(t.x,e.x,n.x),D4(t.y,e.y,n.y)}function I4(t,e,n){t.min=e.min-n.min,t.max=t.min+ai(e)}function xm(t,e,n){I4(t.x,e.x,n.x),I4(t.y,e.y,n.y)}function js(t){return[t("x"),t("y")]}const $9=({current:t})=>t?t.ownerDocument.defaultView:null,P4=(t,e)=>Math.abs(t-e);function moe(t,e){const n=P4(t.x,e.x),r=P4(t.y,e.y);return Math.sqrt(n**2+r**2)}class H9{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=WT(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=moe(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!x)return;const{point:S}=g,{timestamp:E}=Or;this.history.push({...S,timestamp:E});const{onStart:A,onMove:C}=this.handlers;v||(A&&A(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=KT(v,this.transformPagePoint),on.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:x,onSessionEnd:S,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=WT(g.type==="pointercancel"?this.lastMoveEventInfo:KT(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,A),S&&S(g,A)},!rO(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const l=zg(e),u=KT(l,this.transformPagePoint),{point:f}=u,{timestamp:d}=Or;this.history=[{...f,timestamp:d}];const{onSessionStart:p}=n;p&&p(e,WT(u,this.history)),this.removeListeners=Lg(vm(this.contextWindow,"pointermove",this.handlePointerMove),vm(this.contextWindow,"pointerup",this.handlePointerUp),vm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Yo(this.updatePoint)}}function KT(t,e){return e?{point:e(t.point)}:t}function j4(t,e){return{x:t.x-e.x,y:t.y-e.y}}function WT({point:t},e){return{point:t,delta:j4(t,q9(e)),offset:j4(t,goe(e)),velocity:yoe(e,.1)}}function goe(t){return t[0]}function q9(t){return t[t.length-1]}function yoe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=q9(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ya(e)));)n--;if(!r)return{x:0,y:0};const s=Us(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function voe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?un(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?un(n,t,r.max):Math.min(t,n)),t}function R4(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function boe(t,{top:e,left:n,bottom:r,right:i}){return{x:R4(t.x,n,i),y:R4(t.y,e,r)}}function L4(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function xoe(t,e){return{x:L4(t.x,e.x),y:L4(t.y,e.y)}}function woe(t,e){let n=.5;const r=ai(t),i=ai(e);return i>r?n=ah(e.min,e.max-r,t.min):r>i&&(n=ah(t.min,t.max-i,e.min)),Wo(0,1,n)}function Soe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const rk=.35;function Toe(t=rk){return t===!1?t=0:t===!0&&(t=rk),{x:V4(t,"left","right"),y:V4(t,"top","bottom")}}function V4(t,e,n){return{min:B4(t,e),max:B4(t,n)}}function B4(t,e){return typeof t=="number"?t:t[e]||0}const Eoe=new WeakMap;class Aoe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zg(p).point)},a=(p,g)=>{const{drag:v,dragPropagation:x,onDragStart:S}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jse(v),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),js(A=>{let C=this.getAxisMotionValue(A).get()||0;if(Qa.test(C)){const{projection:D}=this.visualElement;if(D&&D.layout){const L=D.layout.layoutBox[A];L&&(C=ai(L)*(parseFloat(C)/100))}}this.originPoint[A]=C}),S&&on.postRender(()=>S(p,g)),tk(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},l=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:S,onDrag:E}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:A}=g;if(x&&this.currentDirection===null){this.currentDirection=_oe(A),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,A),this.updateAxis("y",g.point,A),this.visualElement.render(),E&&E(p,g)},u=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>js(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new H9(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:$9(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&on.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!U0(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=voe(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Id(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=boe(r.layoutBox,e):this.constraints=!1,this.elastic=Toe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&js(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Soe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Id(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Nae(r,i.root,this.visualElement.getTransformPagePoint());let a=xoe(i.layout.layoutBox,s);if(n){const l=n(Cae(a));this.hasMutatedConstraints=!!l,l&&(a=_9(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},f=js(d=>{if(!U0(d,n,this.currentDirection))return;let p=u&&u[d]||{};a&&(p={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(d,x)});return Promise.all(f).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return tk(this.visualElement,e),r.start(hO(e,r,0,n,this.visualElement,!1))}stopAnimation(){js(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){js(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){js(n=>{const{drag:r}=this.getProps();if(!U0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[n];s.set(e[n]-un(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Id(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};js(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const u=l.get();i[a]=woe({min:u,max:u},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),js(a=>{if(!U0(a,e,null))return;const l=this.getAxisMotionValue(a),{min:u,max:f}=this.constraints[a];l.set(un(u,f,i[a]))})}addListeners(){if(!this.visualElement.current)return;Eoe.set(this.visualElement,this);const e=this.visualElement.current,n=vm(e,"pointerdown",u=>{const{drag:f,dragListener:d=!0}=this.getProps();f&&d&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Id(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),on.read(r);const a=Xm(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(js(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=u[d].translate,p.set(p.get()+u[d].translate))}),this.visualElement.render())}));return()=>{a(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=rk,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function U0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function _oe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class koe extends Uc{constructor(e){super(e),this.removeGroupControls=$s,this.removeListeners=$s,this.controls=new Aoe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$s}unmount(){this.removeGroupControls(),this.removeListeners()}}const z4=t=>(e,n)=>{t&&on.postRender(()=>t(e,n))};class Coe extends Uc{constructor(){super(...arguments),this.removePointerDownListener=$s}onPointerDown(e){this.session=new H9(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$9(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:z4(e),onStart:z4(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&on.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=vm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function U4(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($e.test(t))t=parseFloat(t);else return t;const n=U4(t,e.target.x),r=U4(t,e.target.y);return`${n}% ${r}%`}},Ooe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Mc.parse(t);if(i.length>5)return r;const s=Mc.createTransformer(t),a=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;i[0+a]/=l,i[1+a]/=u;const f=un(l,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=f),typeof i[3+a]=="number"&&(i[3+a]/=f),s(i)}};let GT=!1;class Moe extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;nae(Noe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),GT&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Nv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,GT=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||on.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),nO.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;GT=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function K9(t){const[e,n]=d9(),r=_.useContext(P2);return y.jsx(Moe,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(E9),isPresent:e,safeToRemove:n})}const Noe={borderRadius:{...Bp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bp,borderTopRightRadius:Bp,borderBottomLeftRadius:Bp,borderBottomRightRadius:Bp,boxShadow:Ooe};function W9(t,e,n){const r=fr(t)?t:ff(t);return r.start(hO("",r,e,n)),r.animation}const Doe=(t,e)=>t.depth-e.depth;class Ioe{constructor(){this.children=[],this.isDirty=!1}add(e){L2(this.children,e),this.isDirty=!0}remove(e){f1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Doe),this.isDirty=!1,this.children.forEach(e)}}function Poe(t,e){const n=Mi.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Yo(r),t(s-e))};return on.setup(r,!0),()=>Yo(r)}const G9=["TopLeft","TopRight","BottomLeft","BottomRight"],joe=G9.length,F4=t=>typeof t=="string"?parseFloat(t):t,$4=t=>typeof t=="number"||$e.test(t);function Roe(t,e,n,r,i,s){i?(t.opacity=un(0,n.opacity??1,Loe(r)),t.opacityExit=un(e.opacity??1,0,Voe(r))):s&&(t.opacity=un(e.opacity??1,n.opacity??1,r));for(let a=0;a<joe;a++){const l=`border${G9[a]}Radius`;let u=H4(e,l),f=H4(n,l);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||$4(u)===$4(f)?(t[l]=Math.max(un(F4(u),F4(f),r),0),(Qa.test(f)||Qa.test(u))&&(t[l]+="%")):t[l]=f}(e.rotate||n.rotate)&&(t.rotate=un(e.rotate||0,n.rotate||0,r))}function H4(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Loe=Y9(0,.5,_F),Voe=Y9(.5,.95,$s);function Y9(t,e,n){return r=>r<t?0:r>e?1:n(ah(t,e,r))}function q4(t,e){t.min=e.min,t.max=e.max}function Os(t,e){q4(t.x,e.x),q4(t.y,e.y)}function K4(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function W4(t,e,n,r,i){return t-=e,t=hb(t,1/n,r),i!==void 0&&(t=hb(t,1/i,r)),t}function Boe(t,e=0,n=1,r=.5,i,s=t,a=t){if(Qa.test(e)&&(e=parseFloat(e),e=un(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=un(s.min,s.max,r);t===s&&(l-=e),t.min=W4(t.min,e,n,l,i),t.max=W4(t.max,e,n,l,i)}function G4(t,e,[n,r,i],s,a){Boe(t,e[n],e[r],e[i],e.scale,s,a)}const zoe=["x","scaleX","originX"],Uoe=["y","scaleY","originY"];function Y4(t,e,n,r){G4(t.x,e,zoe,n?n.x:void 0,r?r.x:void 0),G4(t.y,e,Uoe,n?n.y:void 0,r?r.y:void 0)}function X4(t){return t.translate===0&&t.scale===1}function X9(t){return X4(t.x)&&X4(t.y)}function Q4(t,e){return t.min===e.min&&t.max===e.max}function Foe(t,e){return Q4(t.x,e.x)&&Q4(t.y,e.y)}function J4(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Q9(t,e){return J4(t.x,e.x)&&J4(t.y,e.y)}function Z4(t){return ai(t.x)/ai(t.y)}function e5(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class $oe{constructor(){this.members=[]}add(e){L2(this.members,e),e.scheduleRender()}remove(e){if(f1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hoe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:d,rotateX:p,rotateY:g,skewX:v,skewY:x}=n;f&&(r=`perspective(${f}px) ${r}`),d&&(r+=`rotate(${d}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),v&&(r+=`skewX(${v}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const YT=["","X","Y","Z"],qoe=1e3;let Koe=0;function XT(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function J9(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=L9(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",on,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&J9(r)}function Z9({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},l=e?.()){this.id=Koe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Yoe),this.nodes.forEach(Zoe),this.nodes.forEach(ele),this.nodes.forEach(Xoe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ioe)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new z2),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const u=this.eventHandlers.get(a);u&&u.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=iO(a)&&!f9(a),this.instance=a;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),t){let d,p=0;const g=()=>this.root.updateBlockedByResize=!1;on.read(()=>{p=window.innerWidth}),t(a,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,d&&d(),d=Poe(g,250),Nv.hasAnimatedSinceResize&&(Nv.hasAnimatedSinceResize=!1,this.nodes.forEach(r5)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||f.getDefaultTransition()||sle,{onLayoutAnimationStart:S,onLayoutAnimationComplete:E}=f.getProps(),A=!this.targetLayout||!Q9(this.targetLayout,v),C=!p&&g;if(this.options.layoutRoot||this.resumeFrom||C||p&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...eO(x,"layout"),onPlay:S,onComplete:E};(f.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(d,C)}else p||r5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Yo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tle),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&J9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t5);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(n5);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Joe),this.nodes.forEach(Woe),this.nodes.forEach(Goe)):this.nodes.forEach(n5),this.clearAllSnapshots();const l=Mi.now();Or.delta=Wo(0,1e3/60,l-Or.timestamp),Or.timestamp=l,Or.isProcessing=!0,VT.update.process(Or),VT.preRender.process(Or),VT.render.process(Or),Or.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,nO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Qoe),this.sharedNodes.forEach(nle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,on.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){on.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ai(this.snapshot.measuredBox.x)&&!ai(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!X9(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,d=f!==this.prevTransformTemplateValue;a&&this.instance&&(l||Ou(this.latestValues)||d)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return a&&(u=this.removeTransform(u)),ale(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Tn();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ole))){const{scroll:f}=this.root;f&&(Pd(l.x,f.offset.x),Pd(l.y,f.offset.y))}return l}removeElementScroll(a){const l=Tn();if(Os(l,a),this.scroll?.wasRoot)return l;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:d,options:p}=f;f!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&Os(l,a),Pd(l.x,d.offset.x),Pd(l.y,d.offset.y))}return l}applyTransform(a,l=!1){const u=Tn();Os(u,a);for(let f=0;f<this.path.length;f++){const d=this.path[f];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&jd(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ou(d.latestValues)&&jd(u,d.latestValues)}return Ou(this.latestValues)&&jd(u,this.latestValues),u}removeTransform(a){const l=Tn();Os(l,a);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!Ou(f.latestValues))continue;Q_(f.latestValues)&&f.updateSnapshot();const d=Tn(),p=f.measurePageBox();Os(d,p),Y4(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,d)}return Ou(this.latestValues)&&Y4(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Or.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=Or.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),xm(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tn(),this.targetWithTransforms=Tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),poe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Os(this.target,this.layout.layoutBox),C9(this.target,this.targetDelta)):Os(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),xm(this.relativeTargetOrigin,this.target,g.target),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Q_(this.parent.latestValues)||k9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Or.timestamp&&(u=!1),u)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;Os(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;Mae(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Tn());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(K4(this.prevProjectionDelta.x,this.projectionDelta.x),K4(this.prevProjectionDelta.y,this.projectionDelta.y)),bm(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!e5(this.projectionDelta.x,this.prevProjectionDelta.x)||!e5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Rd(),this.projectionDelta=Rd(),this.projectionDeltaWithTransform=Rd()}setAnimationOrigin(a,l=!1){const u=this.snapshot,f=u?u.latestValues:{},d={...this.latestValues},p=Rd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Tn(),v=u?u.source:void 0,x=this.layout?this.layout.source:void 0,S=v!==x,E=this.getStack(),A=!E||E.members.length<=1,C=!!(S&&!A&&this.options.crossfade===!0&&!this.path.some(ile));this.animationProgress=0;let D;this.mixTargetDelta=L=>{const j=L/1e3;i5(p.x,a.x,j),i5(p.y,a.y,j),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xm(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rle(this.relativeTarget,this.relativeTargetOrigin,g,j),D&&Foe(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Tn()),Os(D,this.relativeTarget)),S&&(this.animationValues=d,Roe(d,f,this.latestValues,j,C,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Yo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=on.update(()=>{Nv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ff(0)),this.currentAnimation=W9(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qoe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:u,layout:f,latestValues:d}=a;if(!(!l||!u||!f)){if(this!==a&&this.layout&&f&&e$(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||Tn();const p=ai(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+p;const g=ai(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+g}Os(l,u),jd(l,d),bm(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new $oe),this.sharedNodes.get(a).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const f={};u.z&&XT("z",a,f,this.animationValues);for(let d=0;d<YT.length;d++)XT(`rotate${YT[d]}`,a,f,this.animationValues),XT(`skew${YT[d]}`,a,f,this.animationValues);a.render();for(const d in f)a.setStaticValue(d,f[d]),this.animationValues&&(this.animationValues[d]=f[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Mv(l?.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Mv(l?.pointerEvents)||""),this.hasProjected&&!Ou(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=Hoe(this.projectionDeltaWithTransform,this.treeScale,d);u&&(p=u(d,p)),a.transform=p;const{x:g,y:v}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,f.animationValues?a.opacity=f===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in Gm){if(d[x]===void 0)continue;const{correct:S,applyTo:E,isCSSVariable:A}=Gm[x],C=p==="none"?d[x]:S(d[x],f);if(E){const D=E.length;for(let L=0;L<D;L++)a[E[L]]=C}else A?this.options.visualElement.renderState.vars[x]=C:a[x]=C}this.options.layoutId&&(a.pointerEvents=f===this?Mv(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(t5),this.root.sharedNodes.clear()}}}function Woe(t){t.updateLayout()}function Goe(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?js(d=>{const p=s?e.measuredBox[d]:e.layoutBox[d],g=ai(p);p.min=n[d].min,p.max=p.min+g}):e$(i,e.layoutBox,n)&&js(d=>{const p=s?e.measuredBox[d]:e.layoutBox[d],g=ai(n[d]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=Rd();bm(a,n,e.layoutBox);const l=Rd();s?bm(l,t.applyTransform(r,!0),e.measuredBox):bm(l,n,e.layoutBox);const u=!X9(a);let f=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const v=Tn();xm(v,e.layoutBox,p.layoutBox);const x=Tn();xm(x,n,g.layoutBox),Q9(v,x)||(f=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Yoe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Xoe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Qoe(t){t.clearSnapshot()}function t5(t){t.clearMeasurements()}function n5(t){t.isLayoutDirty=!1}function Joe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function r5(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Zoe(t){t.resolveTargetDelta()}function ele(t){t.calcProjection()}function tle(t){t.resetSkewAndRotation()}function nle(t){t.removeLeadSnapshot()}function i5(t,e,n){t.translate=un(e.translate,0,n),t.scale=un(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function s5(t,e,n,r){t.min=un(e.min,n.min,r),t.max=un(e.max,n.max,r)}function rle(t,e,n,r){s5(t.x,e.x,n.x,r),s5(t.y,e.y,n.y,r)}function ile(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const sle={duration:.45,ease:[.4,0,.1,1]},a5=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),o5=a5("applewebkit/")&&!a5("chrome/")?Math.round:$s;function l5(t){t.min=o5(t.min),t.max=o5(t.max)}function ale(t){l5(t.x),l5(t.y)}function e$(t,e,n){return t==="position"||t==="preserve-aspect"&&!hoe(Z4(e),Z4(n),.2)}function ole(t){return t!==t.root&&t.scroll?.wasRoot}const lle=Z9({attachResizeListener:(t,e)=>Xm(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),QT={current:void 0},t$=Z9({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!QT.current){const t=new lle({});t.mount(window),t.setOptions({layoutScroll:!0}),QT.current=t}return QT.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),cle={pan:{Feature:Coe},drag:{Feature:koe,ProjectionNode:t$,MeasureLayout:K9}};function c5(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&on.postRender(()=>s(e,zg(e)))}class ule extends Uc{mount(){const{current:e}=this.node;e&&(this.unmount=Rse(e,(n,r)=>(c5(this.node,r,"Start"),i=>c5(this.node,i,"End"))))}unmount(){}}class fle extends Uc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lg(Xm(this.node.current,"focus",()=>this.onFocus()),Xm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function u5(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&on.postRender(()=>s(e,zg(e)))}class dle extends Uc{mount(){const{current:e}=this.node;e&&(this.unmount=zse(e,(n,r)=>(u5(this.node,r,"Start"),(i,{success:s})=>u5(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ik=new WeakMap,JT=new WeakMap,hle=t=>{const e=ik.get(t.target);e&&e(t)},ple=t=>{t.forEach(hle)};function mle({root:t,...e}){const n=t||document;JT.has(n)||JT.set(n,{});const r=JT.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(ple,{root:t,...e})),r[i]}function gle(t,e,n){const r=mle(e);return ik.set(t,n),r.observe(t),()=>{ik.delete(t),r.unobserve(t)}}const yle={some:0,all:1};class vle extends Uc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:yle[i]},l=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),g=f?d:p;g&&g(u)};return gle(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ble(e,n))&&this.startObserver()}unmount(){}}function ble({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const xle={inView:{Feature:vle},tap:{Feature:dle},focus:{Feature:fle},hover:{Feature:ule}},wle={layout:{ProjectionNode:t$,MeasureLayout:K9}},Sle={...ooe,...xle,...cle,...wle},_e=kae(Sle,Rae);function mO(t){const e=Rg(()=>ff(t)),{isStatic:n}=_.useContext(d1);if(n){const[,r]=_.useState(t);_.useEffect(()=>e.on("change",r),[])}return e}function n$(t,e){const n=mO(e()),r=()=>n.set(e());return r(),R2(()=>{const i=()=>on.preRender(r,!1,!0),s=t.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),Yo(r)}}),n}function Tle(t){ym.current=[],t();const e=n$(ym.current,t);return ym.current=void 0,e}function sk(t,e,n,r){if(typeof t=="function")return Tle(t);const i=typeof e=="function"?e:Use(e,n,r);return Array.isArray(t)?f5(t,i):f5([t],([s])=>i(s))}function f5(t,e){const n=Rg(()=>[]);return n$(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function gO(t){return typeof t=="object"&&!Array.isArray(t)}function r$(t,e,n,r){return typeof t=="string"&&gO(e)?s9(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function Ele(t,e,n){return t*(e+1)}function d5(t,e,n,r){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:e.startsWith("<")?Math.max(0,n+parseFloat(e.slice(1))):r.get(e)??t}function Ale(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(f1(t,i),r--)}}function _le(t,e,n,r,i,s){Ale(t,i,s);for(let a=0;a<e.length;a++)t.push({value:e[a],at:un(i,s,r[a]),easing:MF(n,a)})}function kle(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function Cle(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const Ole="easeInOut";function Mle(t,{defaultTransition:e={},...n}={},r,i){const s=e.duration||.3,a=new Map,l=new Map,u={},f=new Map;let d=0,p=0,g=0;for(let v=0;v<t.length;v++){const x=t[v];if(typeof x=="string"){f.set(x,p);continue}else if(!Array.isArray(x)){f.set(x.name,d5(p,x.at,d,f));continue}let[S,E,A={}]=x;A.at!==void 0&&(p=d5(p,A.at,d,f));let C=0;const D=(L,j,B,M=0,N=0)=>{const P=Nle(L),{delay:F=0,times:V=KF(P),type:$="keyframes",repeat:U,repeatType:pe,repeatDelay:ve=0,...G}=j;let{ease:K=e.ease||"easeOut",duration:ae}=j;const ge=typeof F=="function"?F(M,N):F,xe=P.length,q=Z2($)?$:i?.[$||"keyframes"];if(xe<=2&&q){let Se=100;if(xe===2&&Ple(P)){const it=P[1]-P[0];Se=Math.abs(it)}const Ie={...G};ae!==void 0&&(Ie.duration=ya(ae));const Be=FF(Ie,Se,q);K=Be.ease,ae=Be.duration}ae??(ae=s);const X=p+ge;V.length===1&&V[0]===0&&(V[1]=1);const me=V.length-P.length;if(me>0&&qF(V,me),P.length===1&&P.unshift(null),U){ae=Ele(ae,U);const Se=[...P],Ie=[...V];K=Array.isArray(K)?[...K]:[K];const Be=[...K];for(let it=0;it<U;it++){P.push(...Se);for(let fe=0;fe<Se.length;fe++)V.push(Ie[fe]+(it+1)),K.push(fe===0?"linear":MF(Be,fe-1))}kle(V,U)}const we=X+ae;_le(B,P,K,V,X,we),C=Math.max(ge+ae,C),g=Math.max(we,g)};if(fr(S)){const L=h5(S,l);D(E,A,p5("default",L))}else{const L=r$(S,E,r,u),j=L.length;for(let B=0;B<j;B++){E=E,A=A;const M=L[B],N=h5(M,l);for(const P in E)D(E[P],Dle(A,P),p5(P,N),B,j)}}d=p,p+=C}return l.forEach((v,x)=>{for(const S in v){const E=v[S];E.sort(Cle);const A=[],C=[],D=[];for(let j=0;j<E.length;j++){const{at:B,value:M,easing:N}=E[j];A.push(M),C.push(ah(0,g,B)),D.push(N||"easeOut")}C[0]!==0&&(C.unshift(0),A.unshift(A[0]),D.unshift(Ole)),C[C.length-1]!==1&&(C.push(1),A.push(null)),a.has(x)||a.set(x,{keyframes:{},transition:{}});const L=a.get(x);L.keyframes[S]=A,L.transition[S]={...e,duration:g,ease:D,times:C,...n}}}),a}function h5(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function p5(t,e){return e[t]||(e[t]=[]),e[t]}function Nle(t){return Array.isArray(t)?t:[t]}function Dle(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const Ile=t=>typeof t=="number",Ple=t=>t.every(Ile);function jle(t,e){return t in e}class Rle extends N9{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(jle(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return Tn()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function Lle(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=iO(t)&&!f9(t)?new R9(e):new P9(e);n.mount(t),Ym.set(t,n)}function Vle(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new Rle(e);n.mount(t),Ym.set(t,n)}function Ble(t,e){return fr(t)||typeof t=="number"||typeof t=="string"&&!gO(e)}function i$(t,e,n,r){const i=[];if(Ble(t,e))i.push(W9(t,gO(e)&&e.default||e,n&&(n.default||n)));else{const s=r$(t,e,r),a=s.length;for(let l=0;l<a;l++){const u=s[l],f=u instanceof Element?Lle:Vle;Ym.has(u)||f(u);const d=Ym.get(u),p={...n};"delay"in p&&typeof p.delay=="function"&&(p.delay=p.delay(l,a)),i.push(...pO(d,{...e,transition:p},{}))}}return i}function zle(t,e,n){const r=[];return Mle(t,e,n,{spring:Km}).forEach(({keyframes:s,transition:a},l)=>{r.push(...i$(l,s,a))}),r}function Ule(t){return Array.isArray(t)&&t.some(Array.isArray)}function Fle(t){function e(n,r,i){let s=[],a;if(Ule(n))s=zle(n,r,t);else{const{onComplete:u,...f}=i||{};typeof u=="function"&&(a=u),s=i$(n,r,f,t)}const l=new xse(s);return a&&l.finished.then(a),l}return e}const s$=Fle();function a$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=a$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=a$(t))&&(r&&(r+=" "),r+=e);return r}var ZT={},eE={},m5;function $le(){return m5||(m5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(eE)),eE}var tE={},g5;function o$(){return g5||(g5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(tE)),tE}var nE={},y5;function l$(){return y5||(y5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(nE)),nE}var rE={},v5;function yO(){return v5||(v5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let s=0,a="",l="",u=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const f=n[s];l?f==="\\"&&s+1<i?(s++,a+=n[s]):f===l?l="":a+=f:u?f==='"'||f==="'"?l=f:f==="]"?(u=!1,r.push(a),a=""):a+=f:f==="["?(u=!0,a&&(r.push(a),a="")):f==="."?a&&(r.push(a),a=""):a+=f,s++}return a&&r.push(a),r}t.toPath=e})(rE)),rE}var b5;function vO(){return b5||(b5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$le(),n=o$(),r=l$(),i=yO();function s(l,u,f){if(l==null)return f;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return f;const d=l[u];return d===void 0?n.isDeepKey(u)?s(l,i.toPath(u),f):f:d}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const d=l[u];return d===void 0?f:d}default:{if(Array.isArray(u))return a(l,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return f;const d=l[u];return d===void 0?f:d}}}function a(l,u,f){if(u.length===0)return f;let d=l;for(let p=0;p<u.length;p++){if(d==null||e.isUnsafeProperty(u[p]))return f;d=d[u[p]]}return d===void 0?f:d}t.get=s})(ZT)),ZT}var iE,x5;function Hle(){return x5||(x5=1,iE=vO().get),iE}var qle=Hle();const lh=Sa(qle);var sE={exports:{}},zt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w5;function Kle(){if(w5)return zt;w5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function x(S){if(typeof S=="object"&&S!==null){var E=S.$$typeof;switch(E){case t:switch(S=S.type,S){case n:case i:case r:case u:case f:case g:return S;default:switch(S=S&&S.$$typeof,S){case a:case l:case p:case d:return S;case s:return S;default:return E}}case e:return E}}}return zt.ContextConsumer=s,zt.ContextProvider=a,zt.Element=t,zt.ForwardRef=l,zt.Fragment=n,zt.Lazy=p,zt.Memo=d,zt.Portal=e,zt.Profiler=i,zt.StrictMode=r,zt.Suspense=u,zt.SuspenseList=f,zt.isContextConsumer=function(S){return x(S)===s},zt.isContextProvider=function(S){return x(S)===a},zt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},zt.isForwardRef=function(S){return x(S)===l},zt.isFragment=function(S){return x(S)===n},zt.isLazy=function(S){return x(S)===p},zt.isMemo=function(S){return x(S)===d},zt.isPortal=function(S){return x(S)===e},zt.isProfiler=function(S){return x(S)===i},zt.isStrictMode=function(S){return x(S)===r},zt.isSuspense=function(S){return x(S)===u},zt.isSuspenseList=function(S){return x(S)===f},zt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===u||S===f||typeof S=="object"&&S!==null&&(S.$$typeof===p||S.$$typeof===d||S.$$typeof===a||S.$$typeof===s||S.$$typeof===l||S.$$typeof===v||S.getModuleId!==void 0)},zt.typeOf=x,zt}var S5;function Wle(){return S5||(S5=1,sE.exports=Kle()),sE.exports}var Gle=Wle(),Ni=t=>t===0?0:t>0?1:-1,rs=t=>typeof t=="number"&&t!=+t,Lu=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ve=t=>(typeof t=="number"||t instanceof Number)&&!rs(t),eo=t=>Ve(t)||typeof t=="string",Yle=0,Qm=t=>{var e=++Yle;return"".concat(t||"").concat(e)},xa=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(e)&&typeof e!="string")return r;var s;if(Lu(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return rs(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},c$=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Fn(t,e,n){return Ve(t)&&Ve(e)?t+n*(e-t):e}function u$(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):lh(r,e))===n)}var dn=t=>t===null||typeof t>"u",Ug=t=>dn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Xle=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function bO(t){if(typeof t!="string")return!1;var e=Xle;return e.includes(t)}var Qle=["viewBox","children"],T5=["points","pathLength"],aE={svg:Qle,polygon:T5,polyline:T5},xO=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{bO(i)&&(r[i]=(s=>n[i](n,s)))}),r},Jle=(t,e,n)=>r=>(t(e,n,r),null),wO=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];bO(i)&&typeof s=="function"&&(r||(r={}),r[i]=Jle(s,e,n))}),r},Zle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function f$(t){if(typeof t!="string")return!1;var e=Zle;return e.includes(t)}function Fc(t){var e=Object.entries(t).filter(n=>{var[r]=n;return f$(r)});return Object.fromEntries(e)}var E5=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",A5=null,oE=null,d$=t=>{if(t===A5&&Array.isArray(oE))return oE;var e=[];return _.Children.forEach(t,n=>{dn(n)||(Gle.isFragment(n)?e=e.concat(d$(n.props.children)):e.push(n))}),oE=e,A5=t,e};function ece(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>E5(i)):r=[E5(e)],d$(t).forEach(i=>{var s=lh(i,"type.displayName")||lh(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var h$=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,tce=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(i=r&&aE?.[r])!==null&&i!==void 0?i:[],a=e.startsWith("data-"),l=typeof t!="function"&&(!!r&&s.includes(e)||f$(e)),u=!!n&&bO(e);return a||l||u},jn=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(_.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(s=>{var a;tce((a=r)===null||a===void 0?void 0:a[s],s,e,n)&&(i[s]=r[s])}),i},nce=["children","width","height","viewBox","className","style","title","desc"];function ak(){return ak=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ak.apply(null,arguments)}function rce(t,e){if(t==null)return{};var n,r,i=ice(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ice(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var p$=_.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:l,title:u,desc:f}=t,d=rce(t,nce),p=s||{width:r,height:i,x:0,y:0},g=yt("recharts-surface",a);return _.createElement("svg",ak({},jn(d,!0,"svg"),{className:g,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),_.createElement("title",null,u),_.createElement("desc",null,f),n)}),sce=["children","className"];function ok(){return ok=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ok.apply(null,arguments)}function ace(t,e){if(t==null)return{};var n,r,i=oce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wa=_.forwardRef((t,e)=>{var{children:n,className:r}=t,i=ace(t,sce),s=yt("recharts-layer",r);return _.createElement("g",ok({className:s},jn(i,!0),{ref:e}),n)}),m$=G6();const lce=Sa(m$);var cce=_.createContext(null);function Yt(t){return function(){return t}}const g$=Math.cos,pb=Math.sin,Ta=Math.sqrt,mb=Math.PI,g1=2*mb,lk=Math.PI,ck=2*lk,Mu=1e-6,uce=ck-Mu;function y$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function fce(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return y$;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let dce=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?y$:fce(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,u=r-e,f=i-n,d=a-e,p=l-n,g=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>Mu)if(!(Math.abs(p*u-f*d)>Mu)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-a,x=i-l,S=u*u+f*f,E=v*v+x*x,A=Math.sqrt(S),C=Math.sqrt(g),D=s*Math.tan((lk-Math.acos((S+g-E)/(2*A*C)))/2),L=D/C,j=D/A;Math.abs(L-1)>Mu&&this._append`L${e+L*d},${n+L*p}`,this._append`A${s},${s},0,0,${+(p*v>d*x)},${this._x1=e+j*u},${this._y1=n+j*f}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),f=e+l,d=n+u,p=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>Mu||Math.abs(this._y1-d)>Mu)&&this._append`L${f},${d}`,r&&(g<0&&(g=g%ck+ck),g>uce?this._append`A${r},${r},0,1,${p},${e-l},${n-u}A${r},${r},0,1,${p},${this._x1=f},${this._y1=d}`:g>Mu&&this._append`A${r},${r},0,${+(g>=lk)},${p},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function SO(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new dce(e)}function TO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function v$(t){this._context=t}v$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function y1(t){return new v$(t)}function b$(t){return t[0]}function x$(t){return t[1]}function w$(t,e){var n=Yt(!0),r=null,i=y1,s=null,a=SO(l);t=typeof t=="function"?t:t===void 0?b$:Yt(t),e=typeof e=="function"?e:e===void 0?x$:Yt(e);function l(u){var f,d=(u=TO(u)).length,p,g=!1,v;for(r==null&&(s=i(v=a())),f=0;f<=d;++f)!(f<d&&n(p=u[f],f,u))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(p,f,u),+e(p,f,u));if(v)return s=null,v+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:Yt(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:Yt(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Yt(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),l):r},l}function F0(t,e,n){var r=null,i=Yt(!0),s=null,a=y1,l=null,u=SO(f);t=typeof t=="function"?t:t===void 0?b$:Yt(+t),e=typeof e=="function"?e:Yt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?x$:Yt(+n);function f(p){var g,v,x,S=(p=TO(p)).length,E,A=!1,C,D=new Array(S),L=new Array(S);for(s==null&&(l=a(C=u())),g=0;g<=S;++g){if(!(g<S&&i(E=p[g],g,p))===A)if(A=!A)v=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=g-1;x>=v;--x)l.point(D[x],L[x]);l.lineEnd(),l.areaEnd()}A&&(D[g]=+t(E,g,p),L[g]=+e(E,g,p),l.point(r?+r(E,g,p):D[g],n?+n(E,g,p):L[g]))}if(C)return l=null,C+""||null}function d(){return w$().defined(i).curve(a).context(s)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Yt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Yt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Yt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Yt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Yt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Yt(+p),f):n},f.lineX0=f.lineY0=function(){return d().x(t).y(e)},f.lineY1=function(){return d().x(t).y(n)},f.lineX1=function(){return d().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Yt(!!p),f):i},f.curve=function(p){return arguments.length?(a=p,s!=null&&(l=a(s)),f):a},f.context=function(p){return arguments.length?(p==null?s=l=null:l=a(s=p),f):s},f}class S${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function hce(t){return new S$(t,!0)}function pce(t){return new S$(t,!1)}const EO={draw(t,e){const n=Ta(e/mb);t.moveTo(n,0),t.arc(0,0,n,0,g1)}},mce={draw(t,e){const n=Ta(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},T$=Ta(1/3),gce=T$*2,yce={draw(t,e){const n=Ta(e/gce),r=n*T$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},vce={draw(t,e){const n=Ta(e),r=-n/2;t.rect(r,r,n,n)}},bce=.8908130915292852,E$=pb(mb/10)/pb(7*mb/10),xce=pb(g1/10)*E$,wce=-g$(g1/10)*E$,Sce={draw(t,e){const n=Ta(e*bce),r=xce*n,i=wce*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=g1*s/5,l=g$(a),u=pb(a);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*i,u*r+l*i)}t.closePath()}},lE=Ta(3),Tce={draw(t,e){const n=-Ta(e/(lE*3));t.moveTo(0,n*2),t.lineTo(-lE*n,-n),t.lineTo(lE*n,-n),t.closePath()}},Ms=-.5,Ns=Ta(3)/2,uk=1/Ta(12),Ece=(uk/2+1)*3,Ace={draw(t,e){const n=Ta(e/Ece),r=n/2,i=n*uk,s=r,a=n*uk+n,l=-s,u=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,u),t.lineTo(Ms*r-Ns*i,Ns*r+Ms*i),t.lineTo(Ms*s-Ns*a,Ns*s+Ms*a),t.lineTo(Ms*l-Ns*u,Ns*l+Ms*u),t.lineTo(Ms*r+Ns*i,Ms*i-Ns*r),t.lineTo(Ms*s+Ns*a,Ms*a-Ns*s),t.lineTo(Ms*l+Ns*u,Ms*u-Ns*l),t.closePath()}};function _ce(t,e){let n=null,r=SO(i);t=typeof t=="function"?t:Yt(t||EO),e=typeof e=="function"?e:Yt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Yt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Yt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function gb(){}function yb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function A$(t){this._context=t}A$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kce(t){return new A$(t)}function _$(t){this._context=t}_$.prototype={areaStart:gb,areaEnd:gb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:yb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Cce(t){return new _$(t)}function k$(t){this._context=t}k$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:yb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Oce(t){return new k$(t)}function C$(t){this._context=t}C$.prototype={areaStart:gb,areaEnd:gb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Mce(t){return new C$(t)}function _5(t){return t<0?-1:1}function k5(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(_5(s)+_5(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function C5(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function cE(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function vb(t){this._context=t}vb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cE(this,this._t0,C5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,cE(this,C5(this,n=k5(this,t,e)),n);break;default:cE(this,this._t0,n=k5(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function O$(t){this._context=new M$(t)}(O$.prototype=Object.create(vb.prototype)).point=function(t,e){vb.prototype.point.call(this,e,t)};function M$(t){this._context=t}M$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Nce(t){return new vb(t)}function Dce(t){return new O$(t)}function N$(t){this._context=t}N$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=O5(t),i=O5(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function O5(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Ice(t){return new N$(t)}function v1(t,e){this._context=t,this._t=e}v1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Pce(t){return new v1(t,.5)}function jce(t){return new v1(t,0)}function Rce(t){return new v1(t,1)}function ch(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,l=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function fk(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Lce(t,e){return t[e]}function Vce(t){const e=[];return e.key=t,e}function Bce(){var t=Yt([]),e=fk,n=ch,r=Lce;function i(s){var a=Array.from(t.apply(this,arguments),Vce),l,u=a.length,f=-1,d;for(const p of s)for(l=0,++f;l<u;++l)(a[l][f]=[0,+r(p,a[l].key,f,s)]).data=p;for(l=0,d=TO(e(a));l<u;++l)a[d[l]].index=l;return n(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Yt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Yt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?fk:typeof s=="function"?s:Yt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??ch,i):n},i}function zce(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}ch(t,e)}}function Uce(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}ch(t,e)}}function Fce(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var l=0,u=0,f=0;l<a;++l){for(var d=t[e[l]],p=d[r][1]||0,g=d[r-1][1]||0,v=(p-g)/2,x=0;x<l;++x){var S=t[e[x]],E=S[r][1]||0,A=S[r-1][1]||0;v+=E-A}u+=p,f+=v*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=f/u)}i[r-1][1]+=i[r-1][0]=n,ch(t,e)}}var $ce=["type","size","sizeType"];function dk(){return dk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dk.apply(null,arguments)}function M5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M5(Object(n),!0).forEach(function(r){Hce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hce(t,e,n){return(e=qce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qce(t){var e=Kce(t,"string");return typeof e=="symbol"?e:e+""}function Kce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wce(t,e){if(t==null)return{};var n,r,i=Gce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var D$={symbolCircle:EO,symbolCross:mce,symbolDiamond:yce,symbolSquare:vce,symbolStar:Sce,symbolTriangle:Tce,symbolWye:Ace},Yce=Math.PI/180,Xce=t=>{var e="symbol".concat(Ug(t));return D$[e]||EO},Qce=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Yce;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Jce=(t,e)=>{D$["symbol".concat(Ug(t))]=e},I$=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Wce(t,$ce),s=N5(N5({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var l=()=>{var g=Xce(a),v=_ce().type(g).size(Qce(n,r,a));return v()},{className:u,cx:f,cy:d}=s,p=jn(s,!0);return f===+f&&d===+d&&n===+n?_.createElement("path",dk({},p,{className:yt("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(d,")"),d:l()})):null};I$.registerSymbol=Jce;var uE={},fE={},D5;function Zce(){return D5||(D5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],l=r(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}t.uniqBy=e})(fE)),fE}var dE={},I5;function P$(){return I5||(I5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(dE)),dE}var hE={},pE={},mE={},P5;function eue(){return P5||(P5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(mE)),mE}var j5;function AO(){return j5||(j5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eue();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(pE)),pE}var gE={},R5;function tue(){return R5||(R5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(gE)),gE}var L5;function nue(){return L5||(L5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AO(),n=tue();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(hE)),hE}var yE={},vE={},V5;function rue(){return V5||(V5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vO();function n(r){return function(i){return e.get(i,r)}}t.property=n})(vE)),vE}var bE={},xE={},wE={},SE={},B5;function j$(){return B5||(B5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(SE)),SE}var TE={},z5;function R$(){return z5||(z5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(TE)),TE}var EE={},U5;function L$(){return U5||(U5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(EE)),EE}var F5;function iue(){return F5||(F5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_O(),n=j$(),r=R$(),i=L$();function s(p,g,v){return typeof v!="function"?e.isMatch(p,g):a(p,g,function x(S,E,A,C,D,L){const j=v(S,E,A,C,D,L);return j!==void 0?!!j:a(S,E,x,L)},new Map)}function a(p,g,v,x){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,v,x);case"function":return Object.keys(g).length>0?a(p,{...g},v,x):i.eq(p,g);default:return n.isObject(p)?typeof g=="string"?g==="":!0:i.eq(p,g)}}function l(p,g,v,x){if(g==null)return!0;if(Array.isArray(g))return f(p,g,v,x);if(g instanceof Map)return u(p,g,v,x);if(g instanceof Set)return d(p,g,v,x);const S=Object.keys(g);if(p==null)return S.length===0;if(S.length===0)return!0;if(x&&x.has(g))return x.get(g)===p;x&&x.set(g,p);try{for(let E=0;E<S.length;E++){const A=S[E];if(!r.isPrimitive(p)&&!(A in p)||g[A]===void 0&&p[A]!==void 0||g[A]===null&&p[A]!==null||!v(p[A],g[A],A,p,g,x))return!1}return!0}finally{x&&x.delete(g)}}function u(p,g,v,x){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[S,E]of g.entries()){const A=p.get(S);if(v(A,E,S,p,g,x)===!1)return!1}return!0}function f(p,g,v,x){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const S=new Set;for(let E=0;E<g.length;E++){const A=g[E];let C=!1;for(let D=0;D<p.length;D++){if(S.has(D))continue;const L=p[D];let j=!1;if(v(L,A,E,p,g,x)&&(j=!0),j){S.add(D),C=!0;break}}if(!C)return!1}return!0}function d(p,g,v,x){return g.size===0?!0:p instanceof Set?f([...p],[...g],v,x):!1}t.isMatchWith=s,t.isSetMatch=d})(wE)),wE}var $5;function _O(){return $5||($5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iue();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(xE)),xE}var AE={},_E={},kE={},H5;function sue(){return H5||(H5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(kE)),kE}var CE={},q5;function V$(){return q5||(q5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(CE)),CE}var OE={},K5;function B$(){return K5||(K5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",u="[object Map]",f="[object Set]",d="[object Array]",p="[object Function]",g="[object ArrayBuffer]",v="[object Object]",x="[object Error]",S="[object DataView]",E="[object Uint8Array]",A="[object Uint8ClampedArray]",C="[object Uint16Array]",D="[object Uint32Array]",L="[object BigUint64Array]",j="[object Int8Array]",B="[object Int16Array]",M="[object Int32Array]",N="[object BigInt64Array]",P="[object Float32Array]",F="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=g,t.arrayTag=d,t.bigInt64ArrayTag=N,t.bigUint64ArrayTag=L,t.booleanTag=i,t.dataViewTag=S,t.dateTag=l,t.errorTag=x,t.float32ArrayTag=P,t.float64ArrayTag=F,t.functionTag=p,t.int16ArrayTag=B,t.int32ArrayTag=M,t.int8ArrayTag=j,t.mapTag=u,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=C,t.uint32ArrayTag=D,t.uint8ArrayTag=E,t.uint8ClampedArrayTag=A})(OE)),OE}var ME={},W5;function aue(){return W5||(W5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(ME)),ME}var G5;function z$(){return G5||(G5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sue(),n=V$(),r=B$(),i=R$(),s=aue();function a(d,p){return l(d,void 0,d,new Map,p)}function l(d,p,g,v=new Map,x=void 0){const S=x?.(d,p,g,v);if(S!==void 0)return S;if(i.isPrimitive(d))return d;if(v.has(d))return v.get(d);if(Array.isArray(d)){const E=new Array(d.length);v.set(d,E);for(let A=0;A<d.length;A++)E[A]=l(d[A],A,g,v,x);return Object.hasOwn(d,"index")&&(E.index=d.index),Object.hasOwn(d,"input")&&(E.input=d.input),E}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const E=new RegExp(d.source,d.flags);return E.lastIndex=d.lastIndex,E}if(d instanceof Map){const E=new Map;v.set(d,E);for(const[A,C]of d)E.set(A,l(C,A,g,v,x));return E}if(d instanceof Set){const E=new Set;v.set(d,E);for(const A of d)E.add(l(A,void 0,g,v,x));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const E=new(Object.getPrototypeOf(d)).constructor(d.length);v.set(d,E);for(let A=0;A<d.length;A++)E[A]=l(d[A],A,g,v,x);return E}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const E=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return v.set(d,E),u(E,d,g,v,x),E}if(typeof File<"u"&&d instanceof File){const E=new File([d],d.name,{type:d.type});return v.set(d,E),u(E,d,g,v,x),E}if(d instanceof Blob){const E=new Blob([d],{type:d.type});return v.set(d,E),u(E,d,g,v,x),E}if(d instanceof Error){const E=new d.constructor;return v.set(d,E),E.message=d.message,E.name=d.name,E.stack=d.stack,E.cause=d.cause,u(E,d,g,v,x),E}if(typeof d=="object"&&f(d)){const E=Object.create(Object.getPrototypeOf(d));return v.set(d,E),u(E,d,g,v,x),E}return d}function u(d,p,g=d,v,x){const S=[...Object.keys(p),...e.getSymbols(p)];for(let E=0;E<S.length;E++){const A=S[E],C=Object.getOwnPropertyDescriptor(d,A);(C==null||C.writable)&&(d[A]=l(p[A],A,g,v,x))}}function f(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=l,t.copyProperties=u})(_E)),_E}var Y5;function oue(){return Y5||(Y5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z$();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(AE)),AE}var X5;function lue(){return X5||(X5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_O(),n=oue();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(bE)),bE}var NE={},DE={},IE={},Q5;function cue(){return Q5||(Q5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z$(),n=B$();function r(i,s){return e.cloneDeepWith(i,(a,l,u,f)=>{const d=s?.(a,l,u,f);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(IE)),IE}var J5;function uue(){return J5||(J5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cue();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(DE)),DE}var PE={},jE={},Z5;function U$(){return Z5||(Z5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(jE)),jE}var RE={},eL;function fue(){return eL||(eL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V$();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(RE)),RE}var tL;function due(){return tL||(tL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o$(),n=U$(),r=fue(),i=yO();function s(a,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&e.isDeepKey(l)&&a?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let f=a;for(let d=0;d<u.length;d++){const p=u[d];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=s})(PE)),PE}var nL;function hue(){return nL||(nL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_O(),n=l$(),r=uue(),i=vO(),s=due();function a(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(f){const d=i.get(f,l);return d===void 0?s.has(f,l):u===void 0?d===void 0:e.isMatch(d,u)}}t.matchesProperty=a})(NE)),NE}var rL;function pue(){return rL||(rL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P$(),n=rue(),r=lue(),i=hue();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(yE)),yE}var iL;function mue(){return iL||(iL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zce(),n=P$(),r=nue(),i=pue();function s(a,l=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(l)):[]}t.uniqBy=s})(uE)),uE}var LE,sL;function gue(){return sL||(sL=1,LE=mue().uniqBy),LE}var yue=gue();const aL=Sa(yue);function vue(t,e,n){return e===!0?aL(t,n):typeof e=="function"?aL(t,e):t}var VE={exports:{}},BE={},zE={exports:{}},UE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oL;function bue(){if(oL)return UE;oL=1;var t=Sh();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function l(p,g){var v=g(),x=r({inst:{value:v,getSnapshot:g}}),S=x[0].inst,E=x[1];return s(function(){S.value=v,S.getSnapshot=g,u(S)&&E({inst:S})},[p,v,g]),i(function(){return u(S)&&E({inst:S}),p(function(){u(S)&&E({inst:S})})},[p]),a(v),v}function u(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!n(p,v)}catch{return!0}}function f(p,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return UE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,UE}var lL;function F$(){return lL||(lL=1,zE.exports=bue()),zE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cL;function xue(){if(cL)return BE;cL=1;var t=Sh(),e=F$();function n(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return BE.useSyncExternalStoreWithSelector=function(f,d,p,g,v){var x=s(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=l(function(){function A(B){if(!C){if(C=!0,D=B,B=g(B),v!==void 0&&S.hasValue){var M=S.value;if(v(M,B))return L=M}return L=B}if(M=L,r(D,B))return M;var N=g(B);return v!==void 0&&v(M,N)?(D=B,M):(D=B,L=N)}var C=!1,D,L,j=p===void 0?null:p;return[function(){return A(d())},j===null?void 0:function(){return A(j())}]},[d,p,g,v]);var E=i(f,x[0],x[1]);return a(function(){S.hasValue=!0,S.value=E},[E]),u(E),E},BE}var uL;function wue(){return uL||(uL=1,VE.exports=xue()),VE.exports}var $$=wue(),kO=_.createContext(null),Sue=t=>t,mr=()=>{var t=_.useContext(kO);return t?t.store.dispatch:Sue},Dv=()=>{},Tue=()=>Dv,Eue=(t,e)=>t===e;function De(t){var e=_.useContext(kO);return $$.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Tue,e?e.store.getState:Dv,e?e.store.getState:Dv,e?t:Dv,Eue)}function Aue(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function _ue(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function kue(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var fL=t=>Array.isArray(t)?t:[t];function Cue(t){const e=Array.isArray(t[0])?t[0]:t;return kue(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Oue(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Mue=class{constructor(t){this.value=t}deref(){return this.value}},Nue=typeof WeakRef<"u"?WeakRef:Mue,Due=0,dL=1;function $0(){return{s:Due,v:void 0,o:null,p:null}}function H$(t,e={}){let n=$0();const{resultEqualityCheck:r}=e;let i,s=0;function a(){let l=n;const{length:u}=arguments;for(let p=0,g=u;p<g;p++){const v=arguments[p];if(typeof v=="function"||typeof v=="object"&&v!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const S=x.get(v);S===void 0?(l=$0(),x.set(v,l)):l=S}else{let x=l.p;x===null&&(l.p=x=new Map);const S=x.get(v);S===void 0?(l=$0(),x.set(v,l)):l=S}}const f=l;let d;if(l.s===dL)d=l.v;else if(d=t.apply(null,arguments),s++,r){const p=i?.deref?.()??i;p!=null&&r(p,d)&&(d=p,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new Nue(d):d}return f.s=dL,f.v=d,d}return a.clearCache=()=>{n=$0(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function Iue(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,l,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),Aue(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const d={...n,...u},{memoize:p,memoizeOptions:g=[],argsMemoize:v=H$,argsMemoizeOptions:x=[]}=d,S=fL(g),E=fL(x),A=Cue(i),C=p(function(){return s++,f.apply(null,arguments)},...S),D=v(function(){a++;const j=Oue(A,arguments);return l=C.apply(null,j),l},...E);return Object.assign(D,{resultFunc:f,memoizedResultFunc:C,dependencies:A,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var ie=Iue(H$),Pue=Object.assign((t,e=ie)=>{_ue(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,l,u)=>(a[n[u]]=l,a),{}))},{withTypes:()=>Pue}),FE={},$E={},HE={},hL;function jue(){return hL||(hL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),l=e(i);if(a===l&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};t.compareValues=n})(HE)),HE}var qE={},KE={},pL;function q$(){return pL||(pL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(KE)),KE}var mL;function Rue(){return mL||(mL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q$(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(qE)),qE}var gL;function Lue(){return gL||(gL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jue(),n=Rue(),r=yO();function i(s,a,l,u){if(s==null)return[];l=u?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const f=(v,x)=>{let S=v;for(let E=0;E<x.length&&S!=null;++E)S=S[x[E]];return S},d=(v,x)=>x==null||v==null?x:typeof v=="object"&&"key"in v?Object.hasOwn(x,v.key)?x[v.key]:f(x,v.path):typeof v=="function"?v(x):Array.isArray(v)?f(x,v):typeof x=="object"?x[v]:x,p=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return s.map(v=>({original:v,criteria:p.map(x=>d(x,v))})).slice().sort((v,x)=>{for(let S=0;S<p.length;S++){const E=e.compareValues(v.criteria[S],x.criteria[S],l[S]);if(E!==0)return E}return 0}).map(v=>v.original)}t.orderBy=i})($E)),$E}var WE={},yL;function Vue(){return yL||(yL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(l,u)=>{for(let f=0;f<l.length;f++){const d=l[f];Array.isArray(d)&&u<s?a(d,u+1):i.push(d)}};return a(n,0),i}t.flatten=e})(WE)),WE}var GE={},vL;function K$(){return vL||(vL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U$(),n=AO(),r=j$(),i=L$();function s(a,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&e.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],a):!1}t.isIterateeCall=s})(GE)),GE}var bL;function Bue(){return bL||(bL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lue(),n=Vue(),r=K$();function i(s,...a){const l=a.length;return l>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(FE)),FE}var YE,xL;function zue(){return xL||(xL=1,YE=Bue().sortBy),YE}var Uue=zue();const b1=Sa(Uue);var W$=t=>t.legend.settings,Fue=t=>t.legend.size,$ue=t=>t.legend.payload;ie([$ue,W$],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?b1(r,n):r});var H0=1;function Hue(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>H0||Math.abs(a.left-e.left)>H0||Math.abs(a.top-e.top)>H0||Math.abs(a.width-e.width)>H0)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function kr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var que=typeof Symbol=="function"&&Symbol.observable||"@@observable",wL=que,XE=()=>Math.random().toString(36).substring(7).split("").join("."),Kue={INIT:`@@redux/INIT${XE()}`,REPLACE:`@@redux/REPLACE${XE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${XE()}`},bb=Kue;function CO(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function G$(t,e,n){if(typeof t!="function")throw new Error(kr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(kr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(kr(1));return n(G$)(t,e)}let r=t,i=e,s=new Map,a=s,l=0,u=!1;function f(){a===s&&(a=new Map,s.forEach((E,A)=>{a.set(A,E)}))}function d(){if(u)throw new Error(kr(3));return i}function p(E){if(typeof E!="function")throw new Error(kr(4));if(u)throw new Error(kr(5));let A=!0;f();const C=l++;return a.set(C,E),function(){if(A){if(u)throw new Error(kr(6));A=!1,f(),a.delete(C),s=null}}}function g(E){if(!CO(E))throw new Error(kr(7));if(typeof E.type>"u")throw new Error(kr(8));if(typeof E.type!="string")throw new Error(kr(17));if(u)throw new Error(kr(9));try{u=!0,i=r(i,E)}finally{u=!1}return(s=a).forEach(C=>{C()}),E}function v(E){if(typeof E!="function")throw new Error(kr(10));r=E,g({type:bb.REPLACE})}function x(){const E=p;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(kr(11));function C(){const L=A;L.next&&L.next(d())}return C(),{unsubscribe:E(C)}},[wL](){return this}}}return g({type:bb.INIT}),{dispatch:g,subscribe:p,getState:d,replaceReducer:v,[wL]:x}}function Wue(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:bb.INIT})>"u")throw new Error(kr(12));if(typeof n(void 0,{type:bb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(kr(13))})}function Y$(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{Wue(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let u=!1;const f={};for(let d=0;d<r.length;d++){const p=r[d],g=n[p],v=a[p],x=g(v,l);if(typeof x>"u")throw l&&l.type,new Error(kr(14));f[p]=x,u=u||x!==v}return u=u||r.length!==Object.keys(a).length,u?f:a}}function xb(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Gue(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(kr(15))};const a={getState:i.getState,dispatch:(u,...f)=>s(u,...f)},l=t.map(u=>u(a));return s=xb(...l)(i.dispatch),{...i,dispatch:s}}}function X$(t){return CO(t)&&"type"in t&&typeof t.type=="string"}var Q$=Symbol.for("immer-nothing"),SL=Symbol.for("immer-draftable"),is=Symbol.for("immer-state");function fa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var uh=Object.getPrototypeOf;function df(t){return!!t&&!!t[is]}function Xo(t){return t?J$(t)||Array.isArray(t)||!!t[SL]||!!t.constructor?.[SL]||Fg(t)||w1(t):!1}var Yue=Object.prototype.constructor.toString();function J$(t){if(!t||typeof t!="object")return!1;const e=uh(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Yue}function wb(t,e){x1(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function x1(t){const e=t[is];return e?e.type_:Array.isArray(t)?1:Fg(t)?2:w1(t)?3:0}function hk(t,e){return x1(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Z$(t,e,n){const r=x1(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Xue(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Fg(t){return t instanceof Map}function w1(t){return t instanceof Set}function Nu(t){return t.copy_||t.base_}function pk(t,e){if(Fg(t))return new Map(t);if(w1(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=J$(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[is];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(uh(t),r)}else{const r=uh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function OO(t,e=!1){return S1(t)||df(t)||!Xo(t)||(x1(t)>1&&Object.defineProperties(t,{set:{value:q0},add:{value:q0},clear:{value:q0},delete:{value:q0}}),Object.freeze(t),e&&Object.values(t).forEach(n=>OO(n,!0))),t}function q0(){fa(2)}function S1(t){return Object.isFrozen(t)}var Que={};function hf(t){const e=Que[t];return e||fa(0,t),e}var Jm;function e8(){return Jm}function Jue(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function TL(t,e){e&&(hf("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mk(t){gk(t),t.drafts_.forEach(Zue),t.drafts_=null}function gk(t){t===Jm&&(Jm=t.parent_)}function EL(t){return Jm=Jue(Jm,t)}function Zue(t){const e=t[is];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function AL(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[is].modified_&&(mk(e),fa(4)),Xo(t)&&(t=Sb(e,t),e.parent_||Tb(e,t)),e.patches_&&hf("Patches").generateReplacementPatches_(n[is].base_,t,e.patches_,e.inversePatches_)):t=Sb(e,n,[]),mk(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Q$?t:void 0}function Sb(t,e,n){if(S1(e))return e;const r=e[is];if(!r)return wb(e,(i,s)=>_L(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Tb(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),wb(s,(l,u)=>_L(t,r,i,l,u,n,a)),Tb(t,i,!1),n&&t.patches_&&hf("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function _L(t,e,n,r,i,s,a){if(df(i)){const l=s&&e&&e.type_!==3&&!hk(e.assigned_,r)?s.concat(r):void 0,u=Sb(t,i,l);if(Z$(n,r,u),df(u))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Xo(i)&&!S1(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Sb(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Fg(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Tb(t,i)}}function Tb(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&OO(e,n)}function efe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:e8(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=MO;n&&(i=[r],s=Zm);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,l}var MO={get(t,e){if(e===is)return t;const n=Nu(t);if(!hk(n,e))return tfe(t,n,e);const r=n[e];return t.finalized_||!Xo(r)?r:r===QE(t.base_,e)?(JE(t),t.copy_[e]=vk(r,t)):r},has(t,e){return e in Nu(t)},ownKeys(t){return Reflect.ownKeys(Nu(t))},set(t,e,n){const r=t8(Nu(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=QE(Nu(t),e),s=i?.[is];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Xue(n,i)&&(n!==void 0||hk(t.base_,e)))return!0;JE(t),yk(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return QE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,JE(t),yk(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Nu(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){fa(11)},getPrototypeOf(t){return uh(t.base_)},setPrototypeOf(){fa(12)}},Zm={};wb(MO,(t,e)=>{Zm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Zm.deleteProperty=function(t,e){return Zm.set.call(this,t,e,void 0)};Zm.set=function(t,e,n){return MO.set.call(this,t[0],e,n,t[0])};function QE(t,e){const n=t[is];return(n?Nu(n):t)[e]}function tfe(t,e,n){const r=t8(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function t8(t,e){if(!(e in t))return;let n=uh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=uh(n)}}function yk(t){t.modified_||(t.modified_=!0,t.parent_&&yk(t.parent_))}function JE(t){t.copy_||(t.copy_=pk(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var nfe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(u=s,...f){return a.produce(u,d=>n.call(this,d,...f))}}typeof n!="function"&&fa(6),r!==void 0&&typeof r!="function"&&fa(7);let i;if(Xo(e)){const s=EL(this),a=vk(e,void 0);let l=!0;try{i=n(a),l=!1}finally{l?mk(s):gk(s)}return TL(s,r),AL(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Q$&&(i=void 0),this.autoFreeze_&&OO(i,!0),r){const s=[],a=[];hf("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else fa(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,u=>e(u,...l));let r,i;return[this.produce(e,n,(a,l)=>{r=a,i=l}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Xo(t)||fa(8),df(t)&&(t=Vo(t));const e=EL(this),n=vk(t,void 0);return n[is].isManual_=!0,gk(e),n}finishDraft(t,e){const n=t&&t[is];(!n||!n.isManual_)&&fa(9);const{scope_:r}=n;return TL(r,e),AL(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=hf("Patches").applyPatches_;return df(t)?r(t,e):this.produce(t,i=>r(i,e))}};function vk(t,e){const n=Fg(t)?hf("MapSet").proxyMap_(t,e):w1(t)?hf("MapSet").proxySet_(t,e):efe(t,e);return(e?e.scope_:e8()).drafts_.push(n),n}function Vo(t){return df(t)||fa(10,t),n8(t)}function n8(t){if(!Xo(t)||S1(t))return t;const e=t[is];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=pk(t,e.scope_.immer_.useStrictShallowCopy_)}else n=pk(t,!0);return wb(n,(r,i)=>{Z$(n,r,n8(i))}),e&&(e.finalized_=!1),n}var rfe=new nfe,r8=rfe.produce;function i8(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var ife=i8(),sfe=i8,afe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?xb:xb.apply(null,arguments)};function Ks(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ts(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>X$(r)&&r.type===t,n}var s8=class nm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,nm.prototype)}static get[Symbol.species](){return nm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new nm(...e[0].concat(this)):new nm(...e.concat(this))}};function kL(t){return Xo(t)?r8(t,()=>{}):t}function K0(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function ofe(t){return typeof t=="boolean"}var lfe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new s8;return n&&(ofe(n)?a.push(ife):a.push(sfe(n.extraArgument))),a},cfe="RTK_autoBatch",CL=t=>e=>{setTimeout(e,t)},ufe=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:CL(10):t.type==="callback"?t.queueNotification:CL(t.timeout),f=()=>{a=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const p=()=>i&&d(),g=r.subscribe(p);return l.add(d),()=>{g(),l.delete(d)}},dispatch(d){try{return i=!d?.meta?.[cfe],s=!i,s&&(a||(a=!0,u(f))),r.dispatch(d)}finally{i=!0}}})},ffe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new s8(t);return r&&i.push(ufe(typeof r=="object"?r:void 0)),i};function dfe(t){const e=lfe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(CO(n))l=Y$(n);else throw new Error(ts(1));let u;typeof r=="function"?u=r(e):u=e();let f=xb;i&&(f=afe({trace:!1,...typeof i=="object"&&i}));const d=Gue(...u),p=ffe(d);let g=typeof a=="function"?a(p):p();const v=f(...g);return G$(l,s,v)}function a8(t){const e={},n=[];let r;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(ts(28));if(l in e)throw new Error(ts(29));return e[l]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function hfe(t){return typeof t=="function"}function pfe(t,e){let[n,r,i]=a8(e),s;if(hfe(t))s=()=>kL(t());else{const l=kL(t);s=()=>l}function a(l=s(),u){let f=[n[u.type],...r.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return f.filter(d=>!!d).length===0&&(f=[i]),f.reduce((d,p)=>{if(p)if(df(d)){const v=p(d,u);return v===void 0?d:v}else{if(Xo(d))return r8(d,g=>p(g,u));{const g=p(d,u);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},l)}return a.getInitialState=s,a}var mfe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",gfe=(t=21)=>{let e="",n=t;for(;n--;)e+=mfe[Math.random()*64|0];return e},yfe=Symbol.for("rtk-slice-createasyncthunk");function vfe(t,e){return`${t}/${e}`}function bfe({creators:t}={}){const e=t?.asyncThunk?.[yfe];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(ts(11));const a=(typeof r.reducers=="function"?r.reducers(wfe()):r.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(D,L){const j=typeof D=="string"?D:D.type;if(!j)throw new Error(ts(12));if(j in u.sliceCaseReducersByType)throw new Error(ts(13));return u.sliceCaseReducersByType[j]=L,f},addMatcher(D,L){return u.sliceMatchers.push({matcher:D,reducer:L}),f},exposeAction(D,L){return u.actionCreators[D]=L,f},exposeCaseReducer(D,L){return u.sliceCaseReducersByName[D]=L,f}};l.forEach(D=>{const L=a[D],j={reducerName:D,type:vfe(i,D),createNotation:typeof r.reducers=="function"};Tfe(L)?Afe(j,L,f,e):Sfe(j,L,f)});function d(){const[D={},L=[],j=void 0]=typeof r.extraReducers=="function"?a8(r.extraReducers):[r.extraReducers],B={...D,...u.sliceCaseReducersByType};return pfe(r.initialState,M=>{for(let N in B)M.addCase(N,B[N]);for(let N of u.sliceMatchers)M.addMatcher(N.matcher,N.reducer);for(let N of L)M.addMatcher(N.matcher,N.reducer);j&&M.addDefaultCase(j)})}const p=D=>D,g=new Map,v=new WeakMap;let x;function S(D,L){return x||(x=d()),x(D,L)}function E(){return x||(x=d()),x.getInitialState()}function A(D,L=!1){function j(M){let N=M[D];return typeof N>"u"&&L&&(N=K0(v,j,E)),N}function B(M=p){const N=K0(g,L,()=>new WeakMap);return K0(N,M,()=>{const P={};for(const[F,V]of Object.entries(r.selectors??{}))P[F]=xfe(V,M,()=>K0(v,M,E),L);return P})}return{reducerPath:D,getSelectors:B,get selectors(){return B(j)},selectSlice:j}}const C={name:i,reducer:S,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:E,...A(s),injectInto(D,{reducerPath:L,...j}={}){const B=L??s;return D.inject({reducerPath:B,reducer:S},j),{...C,...A(B,!0)}}};return C}}function xfe(t,e,n,r){function i(s,...a){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...a)}return i.unwrapped=t,i}var ls=bfe();function wfe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Sfe({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!Efe(r))throw new Error(ts(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Ks(t,a):Ks(t))}function Tfe(t){return t._reducerDefinitionType==="asyncThunk"}function Efe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Afe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ts(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:u,settled:f,options:d}=n,p=i(t,s,d);r.exposeAction(e,p),a&&r.addCase(p.fulfilled,a),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:a||W0,pending:l||W0,rejected:u||W0,settled:f||W0})}function W0(){}var _fe="task",o8="listener",l8="completed",NO="cancelled",kfe=`task-${NO}`,Cfe=`task-${l8}`,bk=`${o8}-${NO}`,Ofe=`${o8}-${l8}`,T1=class{constructor(t){this.code=t,this.message=`${_fe} ${NO} (reason: ${t})`}name="TaskAbortError";message},DO=(t,e)=>{if(typeof t!="function")throw new TypeError(ts(32))},Eb=()=>{},c8=(t,e=Eb)=>(t.catch(e),t),u8=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Yu=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Xu=t=>{if(t.aborted){const{reason:e}=t;throw new T1(e)}};function f8(t,e){let n=Eb;return new Promise((r,i)=>{const s=()=>i(new T1(t.reason));if(t.aborted){s();return}n=u8(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Eb})}var Mfe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof T1?"cancelled":"rejected",error:n}}finally{e?.()}},Ab=t=>e=>c8(f8(t,e).then(n=>(Xu(t),n))),d8=t=>{const e=Ab(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Yd}=Object,OL={},E1="listenerMiddleware",Nfe=(t,e)=>{const n=r=>u8(t,()=>Yu(r,t.reason));return(r,i)=>{DO(r);const s=new AbortController;n(s);const a=Mfe(async()=>{Xu(t),Xu(s.signal);const l=await r({pause:Ab(s.signal),delay:d8(s.signal),signal:s.signal});return Xu(s.signal),l},()=>Yu(s,Cfe));return i?.autoJoin&&e.push(a.catch(Eb)),{result:Ab(t)(a),cancel(){Yu(s,kfe)}}}},Dfe=(t,e)=>{const n=async(r,i)=>{Xu(e);let s=()=>{};const l=[new Promise((u,f)=>{let d=t({predicate:r,effect:(p,g)=>{g.unsubscribe(),u([p,g.getState(),g.getOriginalState()])}});s=()=>{d(),f()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await f8(e,Promise.race(l));return Xu(e),u}finally{s()}};return(r,i)=>c8(n(r,i))},h8=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Ks(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ts(21));return DO(s),{predicate:i,type:e,effect:s}},p8=Yd(t=>{const{type:e,predicate:n,effect:r}=h8(t);return{id:gfe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ts(22))}}},{withTypes:()=>p8}),ML=(t,e)=>{const{type:n,effect:r,predicate:i}=h8(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},xk=t=>{t.pending.forEach(e=>{Yu(e,bk)})},Ife=t=>()=>{t.forEach(xk),t.clear()},NL=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},m8=Yd(Ks(`${E1}/add`),{withTypes:()=>m8}),Pfe=Ks(`${E1}/removeAll`),g8=Yd(Ks(`${E1}/remove`),{withTypes:()=>g8}),jfe=(...t)=>{console.error(`${E1}/error`,...t)},$g=(t={})=>{const e=new Map,{extra:n,onError:r=jfe}=t;DO(r);const i=d=>(d.unsubscribe=()=>e.delete(d.id),e.set(d.id,d),p=>{d.unsubscribe(),p?.cancelActive&&xk(d)}),s=d=>{const p=ML(e,d)??p8(d);return i(p)};Yd(s,{withTypes:()=>s});const a=d=>{const p=ML(e,d);return p&&(p.unsubscribe(),d.cancelActive&&xk(p)),!!p};Yd(a,{withTypes:()=>a});const l=async(d,p,g,v)=>{const x=new AbortController,S=Dfe(s,x.signal),E=[];try{d.pending.add(x),await Promise.resolve(d.effect(p,Yd({},g,{getOriginalState:v,condition:(A,C)=>S(A,C).then(Boolean),take:S,delay:d8(x.signal),pause:Ab(x.signal),extra:n,signal:x.signal,fork:Nfe(x.signal,E),unsubscribe:d.unsubscribe,subscribe:()=>{e.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((A,C,D)=>{A!==x&&(Yu(A,bk),D.delete(A))})},cancel:()=>{Yu(x,bk),d.pending.delete(x)},throwIfCancelled:()=>{Xu(x.signal)}})))}catch(A){A instanceof T1||NL(r,A,{raisedBy:"effect"})}finally{await Promise.all(E),Yu(x,Ofe),d.pending.delete(x)}},u=Ife(e);return{middleware:d=>p=>g=>{if(!X$(g))return p(g);if(m8.match(g))return s(g.payload);if(Pfe.match(g)){u();return}if(g8.match(g))return a(g.payload);let v=d.getState();const x=()=>{if(v===OL)throw new Error(ts(23));return v};let S;try{if(S=p(g),e.size>0){const E=d.getState(),A=Array.from(e.values());for(const C of A){let D=!1;try{D=C.predicate(g,E,v)}catch(L){D=!1,NL(r,L,{raisedBy:"predicate"})}D&&l(C,g,d,x)}}}finally{v=OL}return S},startListening:s,stopListening:a,clearListeners:u}};function ts(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Rfe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},y8=ls({name:"chartLayout",initialState:Rfe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Lfe,setLayout:Vfe,setChartSize:Bfe,setScale:zfe}=y8.actions,Ufe=y8.reducer;function DL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DL(Object(n),!0).forEach(function(r){Ffe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ffe(t,e,n){return(e=$fe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $fe(t){var e=Hfe(t,"string");return typeof e=="symbol"?e:e+""}function Hfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _b=Math.PI/180,qfe=t=>t*180/Math.PI,Rr=(t,e,n,r)=>({x:t+Math.cos(-_b*r)*n,y:e+Math.sin(-_b*r)*n}),Kfe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Wfe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},Gfe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=Wfe({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(n-i)/a,u=Math.acos(l);return r>s&&(u=2*Math.PI-u),{radius:a,angle:qfe(u),angleInRadian:u}},Yfe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},Xfe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},Qfe=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:s}=Gfe({x:n,y:r},e),{innerRadius:a,outerRadius:l}=e;if(i<a||i>l||i===0)return null;var{startAngle:u,endAngle:f}=Yfe(e),d=s,p;if(u<=f){for(;d>f;)d-=360;for(;d<u;)d+=360;p=d>=u&&d<=f}else{for(;d>u;)d-=360;for(;d<f;)d+=360;p=d>=f&&d<=u}return p?IL(IL({},e),{},{radius:i,angle:Xfe(d,e)}):null};function v8(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function PL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(n),!0).forEach(function(r){Jfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jfe(t,e,n){return(e=Zfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zfe(t){var e=ede(t,"string");return typeof e=="symbol"?e:e+""}function ede(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dr(t,e,n){return dn(t)||dn(e)?n:eo(e)?lh(t,e,n):typeof e=="function"?e(t):n}var tde=(t,e,n,r,i)=>{var s,a=-1,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var f=u>0?n[u-1].coordinate:n[l-1].coordinate,d=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,g=void 0;if(Ni(d-f)!==Ni(p-d)){var v=[];if(Ni(p-d)===Ni(i[1]-i[0])){g=p;var x=d+i[1]-i[0];v[0]=Math.min(x,(x+f)/2),v[1]=Math.max(x,(x+f)/2)}else{g=f;var S=p+i[1]-i[0];v[0]=Math.min(d,(S+d)/2),v[1]=Math.max(d,(S+d)/2)}var E=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(t>E[0]&&t<=E[1]||t>=v[0]&&t<=v[1]){({index:a}=n[u]);break}}else{var A=Math.min(f,p),C=Math.max(f,p);if(t>(A+d)/2&&t<=(C+d)/2){({index:a}=n[u]);break}}}else if(e){for(var D=0;D<l;D++)if(D===0&&t<=(e[D].coordinate+e[D+1].coordinate)/2||D>0&&D<l-1&&t>(e[D].coordinate+e[D-1].coordinate)/2&&t<=(e[D].coordinate+e[D+1].coordinate)/2||D===l-1&&t>(e[D].coordinate+e[D-1].coordinate)/2){({index:a}=e[D]);break}}return a},nde=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:l}=e;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&Ve(t[s]))return Vs(Vs({},t),{},{[s]:t[s]+(r||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&Ve(t[a]))return Vs(Vs({},t),{},{[a]:t[a]+(i||0)})}return t},$c=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",b8=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,s,a=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate));return i||a.push(e),s||a.push(n),a},x8=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:l,isCategorical:u,categoricalDomain:f,tickCount:d,ticks:p,niceTicks:g,axisType:v}=t;if(!a)return null;var x=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,S=i==="category"&&a.bandwidth?a.bandwidth()/x:0;if(S=v==="angleAxis"&&s&&s.length>=2?Ni(s[0]-s[1])*2*S:S,p||g){var E=(p||g||[]).map((A,C)=>{var D=r?r.indexOf(A):A;return{coordinate:a(D)+S,value:A,offset:S,index:C}});return E.filter(A=>!rs(A.coordinate))}return u&&f?f.map((A,C)=>({coordinate:a(A)+S,value:A,index:C,offset:S})):a.ticks&&d!=null?a.ticks(d).map((A,C)=>({coordinate:a(A)+S,value:A,offset:S,index:C})):a.domain().map((A,C)=>({coordinate:a(A)+S,value:r?r[A]:A,index:C,offset:S}))},jL=1e-4,rde=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-jL,s=Math.max(r[0],r[1])+jL,a=t(e[0]),l=t(e[n-1]);(a<i||a>s||l<i||l>s)&&t.domain([e[0],e[n-1]])}},ide=(t,e)=>{if(!e||e.length!==2||!Ve(e[0])||!Ve(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ve(t[0])||t[0]<n)&&(i[0]=n),(!Ve(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},sde=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,a=0;a<e;++a){var l=rs(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=i,t[a][n][1]=i+l,i=t[a][n][1]):(t[a][n][0]=s,t[a][n][1]=s+l,s=t[a][n][1])}},ade=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var a=rs(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=i,t[s][n][1]=i+a,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},ode={sign:sde,expand:zce,none:ch,silhouette:Uce,wiggle:Fce,positive:ade},lde=(t,e,n)=>{var r=ode[n],i=Bce().keys(e).value((s,a)=>+dr(s,a,0)).order(fk).offset(r);return i(t)};function cde(t){return t==null?void 0:String(t)}function RL(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!dn(i[e.dataKey])){var l=u$(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var u=dr(i,dn(a)?e.dataKey:a);return dn(u)?null:e.scale(u)}var LL=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var l=dr(s,e.dataKey,e.scale.domain()[a]);return dn(l)?null:e.scale(l)-i/2+r},ude=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},fde=t=>{var e=t.flat(2).filter(Ve);return[Math.min(...e),Math.max(...e)]},dde=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],hde=(t,e,n)=>{if(t!=null)return dde(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:a}=s,l=a.reduce((u,f)=>{var d=v8(f,e,n),p=fde(d);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},VL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eg=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=b1(e,d=>d.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var u=i[a],f=i[a-1];s=Math.min((u.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function zL(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Vs(Vs({},e),{},{dataKey:n,payload:r,value:i,name:s})}function A1(t,e){if(t)return String(t);if(typeof e=="string")return e}function pde(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return r?Qfe({x:t,y:e},r):null}var mde=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:a}=r;return Vs(Vs(Vs({},r),Rr(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:u}=r;return Vs(Vs(Vs({},r),Rr(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{x:0,y:0}},gde=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,tl=t=>t.layout.width,nl=t=>t.layout.height,yde=t=>t.layout.scale,w8=t=>t.layout.margin,_1=ie(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),k1=ie(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),vde="data-recharts-item-index",bde="data-recharts-item-data-key",Hg=60;function UL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(n),!0).forEach(function(r){xde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xde(t,e,n){return(e=wde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wde(t){var e=Sde(t,"string");return typeof e=="symbol"?e:e+""}function Sde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tde=t=>t.brush.height;function Ede(t){var e=k1(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Hg;return n+i}return n},0)}function Ade(t){var e=k1(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Hg;return n+i}return n},0)}function _de(t){var e=_1(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function kde(t){var e=_1(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var gr=ie([tl,nl,w8,Tde,Ede,Ade,_de,kde,W$,Fue],(t,e,n,r,i,s,a,l,u,f)=>{var d={left:(n.left||0)+i,right:(n.right||0)+s},p={top:(n.top||0)+a,bottom:(n.bottom||0)+l},g=G0(G0({},p),d),v=g.bottom;g.bottom+=r,g=nde(g,u,f);var x=t-g.left-g.right,S=e-g.top-g.bottom;return G0(G0({brushBottom:v},g),{},{width:Math.max(x,0),height:Math.max(S,0)})}),Cde=ie(gr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),IO=ie(tl,nl,(t,e)=>({x:0,y:0,width:t,height:e})),Ode=_.createContext(null),ji=()=>_.useContext(Ode)!=null,C1=t=>t.brush,O1=ie([C1,gr,w8],(t,e,n)=>({height:t.height,x:Ve(t.x)?t.x:e.left,y:Ve(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ve(t.width)?t.width:e.width})),PO=()=>{var t,e=ji(),n=De(Cde),r=De(O1),i=(t=De(C1))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Mde={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},S8=()=>{var t;return(t=De(gr))!==null&&t!==void 0?t:Mde},T8=()=>De(tl),E8=()=>De(nl),St=t=>t.layout.layoutType,M1=()=>De(St),Nde={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},A8=ls({name:"legend",initialState:Nde,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Vo(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:IDe,setLegendSettings:PDe,addLegendPayload:Dde,removeLegendPayload:Ide}=A8.actions,Pde=A8.reducer;function wk(){return wk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wk.apply(null,arguments)}function FL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(n),!0).forEach(function(r){jde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jde(t,e,n){return(e=Rde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rde(t){var e=Lde(t,"string");return typeof e=="symbol"?e:e+""}function Lde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vde(t){return Array.isArray(t)&&eo(t[0])&&eo(t[1])?t.join(" ~ "):t}var Bde=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:u,labelClassName:f,label:d,labelFormatter:p,accessibilityLayer:g=!1}=t,v=()=>{if(s&&s.length){var j={padding:0,margin:0},B=(l?b1(s,l):s).map((M,N)=>{if(M.type==="none")return null;var P=M.formatter||a||Vde,{value:F,name:V}=M,$=F,U=V;if(P){var pe=P(F,V,M,N,s);if(Array.isArray(pe))[$,U]=pe;else if(pe!=null)$=pe;else return null}var ve=ZE({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:ve},eo(U)?_.createElement("span",{className:"recharts-tooltip-item-name"},U):null,eo(U)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},$),_.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:j},B)}return null},x=ZE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=ZE({margin:0},i),E=!dn(d),A=E?d:"",C=yt("recharts-default-tooltip",u),D=yt("recharts-tooltip-label",f);E&&p&&s!==void 0&&s!==null&&(A=p(d,s));var L=g?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",wk({className:C,style:x},L),_.createElement("p",{className:D,style:S},_.isValidElement(A)?A:"".concat(A)),v())},zp="recharts-tooltip-wrapper",zde={visibility:"hidden"};function Ude(t){var{coordinate:e,translateX:n,translateY:r}=t;return yt(zp,{["".concat(zp,"-right")]:Ve(n)&&e&&Ve(e.x)&&n>=e.x,["".concat(zp,"-left")]:Ve(n)&&e&&Ve(e.x)&&n<e.x,["".concat(zp,"-bottom")]:Ve(r)&&e&&Ve(e.y)&&r>=e.y,["".concat(zp,"-top")]:Ve(r)&&e&&Ve(e.y)&&r<e.y})}function $L(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:u,viewBoxDimension:f}=t;if(s&&Ve(s[r]))return s[r];var d=n[r]-l-(i>0?i:0),p=n[r]+i;if(e[r])return a[r]?d:p;var g=u[r];if(g==null)return 0;if(a[r]){var v=d,x=g;return v<x?Math.max(p,g):Math.max(d,g)}if(f==null)return 0;var S=p+l,E=g+f;return S>E?Math.max(d,g):Math.max(p,g)}function Fde(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function $de(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:u}=t,f,d,p;return a.height>0&&a.width>0&&n?(d=$L({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:u,viewBoxDimension:u.width}),p=$L({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:u,viewBoxDimension:u.height}),f=Fde({translateX:d,translateY:p,useTranslate3d:l})):f=zde,{cssProperties:f,cssClasses:Ude({translateX:d,translateY:p,coordinate:n})}}function HL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(n),!0).forEach(function(r){Sk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sk(t,e,n){return(e=Hde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hde(t){var e=qde(t,"string");return typeof e=="symbol"?e:e+""}function qde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Kde extends _.PureComponent{constructor(){super(...arguments),Sk(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Sk(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:u,offset:f,position:d,reverseDirection:p,useTranslate3d:g,viewBox:v,wrapperStyle:x,lastBoundingBox:S,innerRef:E,hasPortalFromProps:A}=this.props,{cssClasses:C,cssProperties:D}=$de({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:f,position:d,reverseDirection:p,tooltipBox:{height:S.height,width:S.width},useTranslate3d:g,viewBox:v}),L=A?{}:Y0(Y0({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=Y0(Y0({},L),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},x);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:j,ref:E},s)}}var Wde=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Cf={devToolsEnabled:!1,isSsr:Wde()},_8=()=>De(t=>t.rootProps.accessibilityLayer);function ss(t){return Number.isFinite(t)}function kb(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Tk(){return Tk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tk.apply(null,arguments)}function qL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(n),!0).forEach(function(r){Gde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gde(t,e,n){return(e=Yde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yde(t){var e=Xde(t,"string");return typeof e=="symbol"?e:e+""}function Xde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WL={curveBasisClosed:Cce,curveBasisOpen:Oce,curveBasis:kce,curveBumpX:hce,curveBumpY:pce,curveLinearClosed:Mce,curveLinear:y1,curveMonotoneX:Nce,curveMonotoneY:Dce,curveNatural:Ice,curveStep:Pce,curveStepAfter:Rce,curveStepBefore:jce},X0=t=>ss(t.x)&&ss(t.y),Up=t=>t.x,Fp=t=>t.y,Qde=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Ug(t));return(n==="curveMonotone"||n==="curveBump")&&e?WL["".concat(n).concat(e==="vertical"?"Y":"X")]:WL[n]||y1},Jde=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,a=Qde(e,i),l=s?n.filter(X0):n,u;if(Array.isArray(r)){var f=s?r.filter(p=>X0(p)):r,d=l.map((p,g)=>KL(KL({},p),{},{base:f[g]}));return i==="vertical"?u=F0().y(Fp).x1(Up).x0(p=>p.base.x):u=F0().x(Up).y1(Fp).y0(p=>p.base.y),u.defined(X0).curve(a),u(d)}return i==="vertical"&&Ve(r)?u=F0().y(Fp).x1(Up).x0(r):Ve(r)?u=F0().x(Up).y1(Fp).y0(r):u=w$().x(Up).y(Fp),u.defined(X0).curve(a),u(l)},k8=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?Jde(t):r;return _.createElement("path",Tk({},Fc(t),xO(t),{className:yt("recharts-curve",e),d:s===null?void 0:s,ref:i}))},Zde=["x","y","top","left","width","height","className"];function Ek(){return Ek=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ek.apply(null,arguments)}function GL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ehe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GL(Object(n),!0).forEach(function(r){the(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function the(t,e,n){return(e=nhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nhe(t){var e=rhe(t,"string");return typeof e=="symbol"?e:e+""}function rhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ihe(t,e){if(t==null)return{};var n,r,i=she(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function she(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ahe=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),ohe=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:l}=t,u=ihe(t,Zde),f=ehe({x:e,y:n,top:r,left:i,width:s,height:a},u);return!Ve(e)||!Ve(n)||!Ve(s)||!Ve(a)||!Ve(r)||!Ve(i)?null:_.createElement("path",Ek({},jn(f,!0),{className:yt("recharts-cross",l),d:ahe(e,n,s,a,r,i)}))};function lhe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function YL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function che(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(n),!0).forEach(function(r){uhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uhe(t,e,n){return(e=fhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fhe(t){var e=dhe(t,"string");return typeof e=="symbol"?e:e+""}function dhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ri(t,e){var n=che({},t),r=e,i=Object.keys(e),s=i.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return s}function hhe(){}function XL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(n),!0).forEach(function(r){phe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function phe(t,e,n){return(e=mhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mhe(t){var e=ghe(t,"string");return typeof e=="symbol"?e:e+""}function ghe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yhe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),C8=(t,e,n)=>t.map(r=>"".concat(yhe(r)," ").concat(e,"ms ").concat(n)).join(","),vhe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),tg=(t,e)=>Object.keys(e).reduce((n,r)=>QL(QL({},n),{},{[r]:t(r,e[r])}),{});function JL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(n),!0).forEach(function(r){bhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bhe(t,e,n){return(e=xhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xhe(t){var e=whe(t,"string");return typeof e=="symbol"?e:e+""}function whe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cb=(t,e,n)=>t+(e-t)*n,Ak=t=>{var{from:e,to:n}=t;return e!==n},O8=(t,e,n)=>{var r=tg((i,s)=>{if(Ak(s)){var[a,l]=t(s.from,s.to,s.velocity);return Nr(Nr({},s),{},{from:a,velocity:l})}return s},e);return n<1?tg((i,s)=>Ak(s)?Nr(Nr({},s),{},{velocity:Cb(s.velocity,r[i].velocity,n),from:Cb(s.from,r[i].from,n)}):s,e):O8(t,r,n-1)};function She(t,e,n,r,i,s){var a,l=r.reduce((g,v)=>Nr(Nr({},g),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),u=()=>tg((g,v)=>v.from,l),f=()=>!Object.values(l).filter(Ak).length,d=null,p=g=>{a||(a=g);var v=g-a,x=v/n.dt;l=O8(n,l,x),i(Nr(Nr(Nr({},t),e),u())),a=g,f()||(d=s.setTimeout(p))};return()=>(d=s.setTimeout(p),()=>{d()})}function The(t,e,n,r,i,s,a){var l=null,u=i.reduce((p,g)=>Nr(Nr({},p),{},{[g]:[t[g],e[g]]}),{}),f,d=p=>{f||(f=p);var g=(p-f)/r,v=tg((S,E)=>Cb(...E,n(g)),u);if(s(Nr(Nr(Nr({},t),e),v)),g<1)l=a.setTimeout(d);else{var x=tg((S,E)=>Cb(...E,n(1)),u);s(Nr(Nr(Nr({},t),e),x))}};return()=>(l=a.setTimeout(d),()=>{l()})}const Ehe=(t,e,n,r,i,s)=>{var a=vhe(t,e);return n.isStepper===!0?She(t,e,n,a,i,s):The(t,e,n,r,a,i,s)};var Ob=1e-4,M8=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],N8=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),ZL=(t,e)=>n=>{var r=M8(t,e);return N8(r,n)},Ahe=(t,e)=>n=>{var r=M8(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return N8(i,n)},e3=function(){for(var e,n,r,i,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];if(a.length===1)switch(a[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var u=a[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([e,r,n,i]=u[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else a.length===4&&([e,r,n,i]=a);var f=ZL(e,n),d=ZL(r,i),p=Ahe(e,n),g=x=>x>1?1:x<0?0:x,v=x=>{for(var S=x>1?1:x,E=S,A=0;A<8;++A){var C=f(E)-S,D=p(E);if(Math.abs(C-S)<Ob||D<Ob)return d(E);E=g(E-C/D)}return d(E)};return v.isStepper=!1,v},_he=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,l,u)=>{var f=-(a-l)*n,d=u*r,p=u+(f-d)*i/1e3,g=u*i/1e3+a;return Math.abs(g-l)<Ob&&Math.abs(p)<Ob?[l,0]:[g,p]};return s.isStepper=!0,s.dt=i,s},khe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return e3(t);case"spring":return _he();default:if(t.split("(")[0]==="cubic-bezier")return e3(t)}return typeof t=="function"?t:null};function Che(t){var e,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[u,...f]=l;if(typeof u=="number"){i=t.setTimeout(s.bind(null,f),u);return}s(u),i=t.setTimeout(s.bind(null,f));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class Ohe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function Mhe(){return Che(new Ohe)}var Nhe=_.createContext(Mhe);function Dhe(t,e){var n=_.useContext(Nhe);return _.useMemo(()=>e??n(t),[t,e,n])}var Ihe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},t3={t:0},eA={t:1};function N1(t){var e=Ri(t,Ihe),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:u,children:f}=e,d=Dhe(e.animationId,e.animationManager),[p,g]=_.useState(n?t3:eA),v=_.useRef(null);return _.useEffect(()=>{n||g(eA)},[n]),_.useEffect(()=>{if(!n||!r)return hhe;var x=Ehe(t3,eA,khe(s),i,g,d.getTimeoutController()),S=()=>{v.current=x()};return d.start([u,a,S,i,l]),()=>{d.stop(),v.current&&v.current(),l()}},[n,r,i,s,a,u,l,d]),f(p.t)}function D1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(Qm(e)),r=_.useRef(t);return r.current!==t&&(n.current=Qm(e),r.current=t),n.current}function n3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n3(Object(n),!0).forEach(function(r){Phe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Phe(t,e,n){return(e=jhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jhe(t){var e=Rhe(t,"string");return typeof e=="symbol"?e:e+""}function Rhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mb(){return Mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mb.apply(null,arguments)}var i3=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,f;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],p=0,g=4;p<g;p++)d[p]=i[p]>s?s:i[p];f="M".concat(t,",").concat(e+a*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+l*d[0],",").concat(e)),f+="L ".concat(t+n-l*d[1],",").concat(e),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(e+a*d[1])),f+="L ".concat(t+n,",").concat(e+r-a*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-l*d[2],",").concat(e+r)),f+="L ".concat(t+l*d[3],",").concat(e+r),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+r-a*d[3])),f+="Z"}else if(s>0&&i===+i&&i>0){var v=Math.min(s,i);f="M ".concat(t,",").concat(e+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+l*v,",").concat(e,`
            L `).concat(t+n-l*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(e+a*v,`
            L `).concat(t+n,",").concat(e+r-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-l*v,",").concat(e+r,`
            L `).concat(t+l*v,",").concat(e+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(e+r-a*v," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},Lhe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},D8=t=>{var e=Ri(t,Lhe),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var pe=n.current.getTotalLength();pe&&i(pe)}catch{}},[]);var{x:s,y:a,width:l,height:u,radius:f,className:d}=e,{animationEasing:p,animationDuration:g,animationBegin:v,isAnimationActive:x,isUpdateAnimationActive:S}=e,E=_.useRef(l),A=_.useRef(u),C=_.useRef(s),D=_.useRef(a),L=_.useMemo(()=>({x:s,y:a,width:l,height:u,radius:f}),[s,a,l,u,f]),j=D1(L,"rectangle-");if(s!==+s||a!==+a||l!==+l||u!==+u||l===0||u===0)return null;var B=yt("recharts-rectangle",d);if(!S)return _.createElement("path",Mb({},jn(e,!0),{className:B,d:i3(s,a,l,u,f)}));var M=E.current,N=A.current,P=C.current,F=D.current,V="0px ".concat(r===-1?1:r,"px"),$="".concat(r,"px 0px"),U=C8(["strokeDasharray"],g,typeof p=="string"?p:void 0);return _.createElement(N1,{animationId:j,key:j,canBegin:r>0,duration:g,easing:p,isActive:S,begin:v},pe=>{var ve=Fn(M,l,pe),G=Fn(N,u,pe),K=Fn(P,s,pe),ae=Fn(F,a,pe);n.current&&(E.current=ve,A.current=G,C.current=K,D.current=ae);var ge;return x?pe>0?ge={transition:U,strokeDasharray:$}:ge={strokeDasharray:V}:ge={strokeDasharray:$},_.createElement("path",Mb({},jn(e,!0),{className:B,d:i3(K,ae,ve,G,f),ref:n,style:r3(r3({},ge),e.style)}))})};function I8(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=Rr(e,n,r,i),l=Rr(e,n,r,s);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function _k(){return _k=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_k.apply(null,arguments)}var Vhe=(t,e)=>{var n=Ni(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Q0=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:u}=t,f=l*(a?1:-1)+r,d=Math.asin(l/f)/_b,p=u?i:i+s*d,g=Rr(e,n,f,p),v=Rr(e,n,r,p),x=u?i-s*d:i,S=Rr(e,n,f*Math.cos(d*_b),x);return{center:g,circleTangency:v,lineTangency:S,theta:d}},P8=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,l=Vhe(s,a),u=s+l,f=Rr(e,n,i,s),d=Rr(e,n,i,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var g=Rr(e,n,r,s),v=Rr(e,n,r,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},Bhe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:f}=t,d=Ni(f-u),{circleTangency:p,lineTangency:g,theta:v}=Q0({cx:e,cy:n,radius:i,angle:u,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:x,lineTangency:S,theta:E}=Q0({cx:e,cy:n,radius:i,angle:f,sign:-d,cornerRadius:s,cornerIsExternal:l}),A=l?Math.abs(u-f):Math.abs(u-f)-v-E;if(A<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):P8({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:f});var C="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:D,lineTangency:L,theta:j}=Q0({cx:e,cy:n,radius:r,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:B,lineTangency:M,theta:N}=Q0({cx:e,cy:n,radius:r,angle:f,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),P=l?Math.abs(u-f):Math.abs(u-f)-j-N;if(P<0&&s===0)return"".concat(C,"L").concat(e,",").concat(n,"Z");C+="L".concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(P>180),",").concat(+(d>0),",").concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(L.x,",").concat(L.y,"Z")}else C+="L".concat(e,",").concat(n,"Z");return C},zhe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},j8=t=>{var e=Ri(t,zhe),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d,className:p}=e;if(s<i||f===d)return null;var g=yt("recharts-sector",p),v=s-i,x=xa(a,v,0,!0),S;return x>0&&Math.abs(f-d)<360?S=Bhe({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(x,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}):S=P8({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:f,endAngle:d}),_.createElement("path",_k({},jn(e,!0),{className:g,d:S}))};function Uhe(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:l,cy:u,innerRadius:f,outerRadius:d,angle:p}=e,g=Rr(l,u,f,p),v=Rr(l,u,d,p);r=g.x,i=g.y,s=v.x,a=v.y}else return I8(e);return[{x:r,y:i},{x:s,y:a}]}var tA={},nA={},rA={},s3;function Fhe(){return s3||(s3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q$();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(rA)),rA}var a3;function $he(){return a3||(a3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fhe();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(nA)),nA}var o3;function Hhe(){return o3||(o3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K$(),n=$he();function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),u=new Array(l);for(let f=0;f<l;f++)u[f]=i,i+=a;return u}t.range=r})(tA)),tA}var iA,l3;function qhe(){return l3||(l3=1,iA=Hhe().range),iA}var Khe=qhe();const R8=Sa(Khe);function gc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Whe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jO(t){let e,n,r;t.length!==2?(e=gc,n=(l,u)=>gc(t(l),u),r=(l,u)=>t(l)-u):(e=t===gc||t===Whe?t:Ghe,n=t,r=t);function i(l,u,f=0,d=l.length){if(f<d){if(e(u,u)!==0)return d;do{const p=f+d>>>1;n(l[p],u)<0?f=p+1:d=p}while(f<d)}return f}function s(l,u,f=0,d=l.length){if(f<d){if(e(u,u)!==0)return d;do{const p=f+d>>>1;n(l[p],u)<=0?f=p+1:d=p}while(f<d)}return f}function a(l,u,f=0,d=l.length){const p=i(l,u,f,d-1);return p>f&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:a,right:s}}function Ghe(){return 0}function L8(t){return t===null?NaN:+t}function*Yhe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Xhe=jO(gc),qg=Xhe.right;jO(L8).center;class c3 extends Map{constructor(e,n=Zhe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(u3(this,e))}has(e){return super.has(u3(this,e))}set(e,n){return super.set(Qhe(this,e),n)}delete(e){return super.delete(Jhe(this,e))}}function u3({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Qhe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Jhe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Zhe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function epe(t=gc){if(t===gc)return V8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function V8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const tpe=Math.sqrt(50),npe=Math.sqrt(10),rpe=Math.sqrt(2);function Nb(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=tpe?10:s>=npe?5:s>=rpe?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/a,l=Math.round(t*f),u=Math.round(e*f),l/f<t&&++l,u/f>e&&--u,f=-f):(f=Math.pow(10,i)*a,l=Math.round(t/f),u=Math.round(e/f),l*f<t&&++l,u*f>e&&--u),u<l&&.5<=n&&n<2?Nb(t,e,n*2):[l,u,f]}function kk(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?Nb(e,t,n):Nb(t,e,n);if(!(s>=i))return[];const l=s-i+1,u=new Array(l);if(r)if(a<0)for(let f=0;f<l;++f)u[f]=(s-f)/-a;else for(let f=0;f<l;++f)u[f]=(s-f)*a;else if(a<0)for(let f=0;f<l;++f)u[f]=(i+f)/-a;else for(let f=0;f<l;++f)u[f]=(i+f)*a;return u}function Ck(t,e,n){return e=+e,t=+t,n=+n,Nb(t,e,n)[2]}function Ok(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Ck(e,t,n):Ck(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function f3(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function d3(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function B8(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?V8:epe(i);r>n;){if(r-n>600){const u=r-n+1,f=e-n+1,d=Math.log(u),p=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*p*(u-p)/u)*(f-u/2<0?-1:1),v=Math.max(n,Math.floor(e-f*p/u+g)),x=Math.min(r,Math.floor(e+(u-f)*p/u+g));B8(t,e,v,x,i)}const s=t[e];let a=n,l=r;for($p(t,n,e),i(t[r],s)>0&&$p(t,n,r);a<l;){for($p(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?$p(t,n,l):(++l,$p(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function $p(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ipe(t,e,n){if(t=Float64Array.from(Yhe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return d3(t);if(e>=1)return f3(t);var r,i=(r-1)*e,s=Math.floor(i),a=f3(B8(t,s).subarray(0,s+1)),l=d3(t.subarray(s+1));return a+(l-a)*(i-s)}}function spe(t,e,n=L8){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function ape(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ys(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function rl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Mk=Symbol("implicit");function RO(){var t=new c3,e=[],n=[],r=Mk;function i(s){let a=t.get(s);if(a===void 0){if(r!==Mk)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new c3;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return RO(e,n).unknown(r)},Ys.apply(i,arguments),i}function LO(){var t=RO().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,u=0,f=0,d=.5;delete t.unknown;function p(){var g=e().length,v=i<r,x=v?i:r,S=v?r:i;s=(S-x)/Math.max(1,g-u+f*2),l&&(s=Math.floor(s)),x+=(S-x-s*(g-u))*d,a=s*(1-u),l&&(x=Math.round(x),a=Math.round(a));var E=ape(g).map(function(A){return x+s*A});return n(v?E.reverse():E)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(g){return arguments.length?(l=!!g,p()):l},t.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),p()):u},t.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},t.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},t.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),p()):d},t.copy=function(){return LO(e(),[r,i]).round(l).paddingInner(u).paddingOuter(f).align(d)},Ys.apply(p(),arguments)}function z8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return z8(e())},t}function ope(){return z8(LO.apply(null,arguments).paddingInner(1))}function VO(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function U8(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Kg(){}var ng=.7,Db=1/ng,Xd="\\s*([+-]?\\d+)\\s*",rg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ja="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lpe=/^#([0-9a-f]{3,8})$/,cpe=new RegExp(`^rgb\\(${Xd},${Xd},${Xd}\\)$`),upe=new RegExp(`^rgb\\(${Ja},${Ja},${Ja}\\)$`),fpe=new RegExp(`^rgba\\(${Xd},${Xd},${Xd},${rg}\\)$`),dpe=new RegExp(`^rgba\\(${Ja},${Ja},${Ja},${rg}\\)$`),hpe=new RegExp(`^hsl\\(${rg},${Ja},${Ja}\\)$`),ppe=new RegExp(`^hsla\\(${rg},${Ja},${Ja},${rg}\\)$`),h3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};VO(Kg,ig,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:p3,formatHex:p3,formatHex8:mpe,formatHsl:gpe,formatRgb:m3,toString:m3});function p3(){return this.rgb().formatHex()}function mpe(){return this.rgb().formatHex8()}function gpe(){return F8(this).formatHsl()}function m3(){return this.rgb().formatRgb()}function ig(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=lpe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?g3(e):n===3?new Di(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?J0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?J0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=cpe.exec(t))?new Di(e[1],e[2],e[3],1):(e=upe.exec(t))?new Di(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=fpe.exec(t))?J0(e[1],e[2],e[3],e[4]):(e=dpe.exec(t))?J0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=hpe.exec(t))?b3(e[1],e[2]/100,e[3]/100,1):(e=ppe.exec(t))?b3(e[1],e[2]/100,e[3]/100,e[4]):h3.hasOwnProperty(t)?g3(h3[t]):t==="transparent"?new Di(NaN,NaN,NaN,0):null}function g3(t){return new Di(t>>16&255,t>>8&255,t&255,1)}function J0(t,e,n,r){return r<=0&&(t=e=n=NaN),new Di(t,e,n,r)}function ype(t){return t instanceof Kg||(t=ig(t)),t?(t=t.rgb(),new Di(t.r,t.g,t.b,t.opacity)):new Di}function Nk(t,e,n,r){return arguments.length===1?ype(t):new Di(t,e,n,r??1)}function Di(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}VO(Di,Nk,U8(Kg,{brighter(t){return t=t==null?Db:Math.pow(Db,t),new Di(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ng:Math.pow(ng,t),new Di(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Di(Qu(this.r),Qu(this.g),Qu(this.b),Ib(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:y3,formatHex:y3,formatHex8:vpe,formatRgb:v3,toString:v3}));function y3(){return`#${Vu(this.r)}${Vu(this.g)}${Vu(this.b)}`}function vpe(){return`#${Vu(this.r)}${Vu(this.g)}${Vu(this.b)}${Vu((isNaN(this.opacity)?1:this.opacity)*255)}`}function v3(){const t=Ib(this.opacity);return`${t===1?"rgb(":"rgba("}${Qu(this.r)}, ${Qu(this.g)}, ${Qu(this.b)}${t===1?")":`, ${t})`}`}function Ib(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Vu(t){return t=Qu(t),(t<16?"0":"")+t.toString(16)}function b3(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new da(t,e,n,r)}function F8(t){if(t instanceof da)return new da(t.h,t.s,t.l,t.opacity);if(t instanceof Kg||(t=ig(t)),!t)return new da;if(t instanceof da)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,u=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=u<.5?s+i:2-s-i,a*=60):l=u>0&&u<1?0:a,new da(a,l,u,t.opacity)}function bpe(t,e,n,r){return arguments.length===1?F8(t):new da(t,e,n,r??1)}function da(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}VO(da,bpe,U8(Kg,{brighter(t){return t=t==null?Db:Math.pow(Db,t),new da(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ng:Math.pow(ng,t),new da(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Di(sA(t>=240?t-240:t+120,i,r),sA(t,i,r),sA(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new da(x3(this.h),Z0(this.s),Z0(this.l),Ib(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ib(this.opacity);return`${t===1?"hsl(":"hsla("}${x3(this.h)}, ${Z0(this.s)*100}%, ${Z0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function x3(t){return t=(t||0)%360,t<0?t+360:t}function Z0(t){return Math.max(0,Math.min(1,t||0))}function sA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const BO=t=>()=>t;function xpe(t,e){return function(n){return t+n*e}}function wpe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Spe(t){return(t=+t)==1?$8:function(e,n){return n-e?wpe(e,n,t):BO(isNaN(e)?n:e)}}function $8(t,e){var n=e-t;return n?xpe(t,n):BO(isNaN(t)?e:t)}const w3=(function t(e){var n=Spe(e);function r(i,s){var a=n((i=Nk(i)).r,(s=Nk(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),f=$8(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=u(d),i.opacity=f(d),i+""}}return r.gamma=t,r})(1);function Tpe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Epe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ape(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Ph(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function _pe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Pb(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function kpe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ph(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Dk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aA=new RegExp(Dk.source,"g");function Cpe(t){return function(){return t}}function Ope(t){return function(e){return t(e)+""}}function Mpe(t,e){var n=Dk.lastIndex=aA.lastIndex=0,r,i,s,a=-1,l=[],u=[];for(t=t+"",e=e+"";(r=Dk.exec(t))&&(i=aA.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,u.push({i:a,x:Pb(r,i)})),n=aA.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?u[0]?Ope(u[0].x):Cpe(e):(e=u.length,function(f){for(var d=0,p;d<e;++d)l[(p=u[d]).i]=p.x(f);return l.join("")})}function Ph(t,e){var n=typeof e,r;return e==null||n==="boolean"?BO(e):(n==="number"?Pb:n==="string"?(r=ig(e))?(e=r,w3):Mpe:e instanceof ig?w3:e instanceof Date?_pe:Epe(e)?Tpe:Array.isArray(e)?Ape:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?kpe:Pb)(t,e)}function zO(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Npe(t,e){e===void 0&&(e=t,t=Ph);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function Dpe(t){return function(){return t}}function jb(t){return+t}var S3=[0,1];function oi(t){return t}function Ik(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Dpe(isNaN(e)?NaN:.5)}function Ipe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Ppe(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=Ik(i,r),s=n(a,s)):(r=Ik(r,i),s=n(s,a)),function(l){return s(r(l))}}function jpe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Ik(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var u=qg(t,l,1,r)-1;return s[u](i[u](l))}}function Wg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function I1(){var t=S3,e=S3,n=Ph,r,i,s,a=oi,l,u,f;function d(){var g=Math.min(t.length,e.length);return a!==oi&&(a=Ipe(t[0],t[g-1])),l=g>2?jpe:Ppe,u=f=null,p}function p(g){return g==null||isNaN(g=+g)?s:(u||(u=l(t.map(r),e,n)))(r(a(g)))}return p.invert=function(g){return a(i((f||(f=l(e,t.map(r),Pb)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,jb),d()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=zO,d()},p.clamp=function(g){return arguments.length?(a=g?!0:oi,d()):a!==oi},p.interpolate=function(g){return arguments.length?(n=g,d()):n},p.unknown=function(g){return arguments.length?(s=g,p):s},function(g,v){return r=g,i=v,d()}}function UO(){return I1()(oi,oi)}function Rpe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Rb(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function fh(t){return t=Rb(Math.abs(t)),t?t[1]:NaN}function Lpe(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Vpe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Bpe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sg(t){if(!(e=Bpe.exec(t)))throw new Error("invalid format: "+t);var e;return new FO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}sg.prototype=FO.prototype;function FO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}FO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zpe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var H8;function Upe(t,e){var n=Rb(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(H8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Rb(t,Math.max(0,e+s-1))[0]}function T3(t,e){var n=Rb(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const E3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Rpe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>T3(t*100,e),r:T3,s:Upe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function A3(t){return t}var _3=Array.prototype.map,k3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Fpe(t){var e=t.grouping===void 0||t.thousands===void 0?A3:Lpe(_3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?A3:Vpe(_3.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(p){p=sg(p);var g=p.fill,v=p.align,x=p.sign,S=p.symbol,E=p.zero,A=p.width,C=p.comma,D=p.precision,L=p.trim,j=p.type;j==="n"?(C=!0,j="g"):E3[j]||(D===void 0&&(D=12),L=!0,j="g"),(E||g==="0"&&v==="=")&&(E=!0,g="0",v="=");var B=S==="$"?n:S==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",M=S==="$"?r:/[%p]/.test(j)?a:"",N=E3[j],P=/[defgprs%]/.test(j);D=D===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function F(V){var $=B,U=M,pe,ve,G;if(j==="c")U=N(V)+U,V="";else{V=+V;var K=V<0||1/V<0;if(V=isNaN(V)?u:N(Math.abs(V),D),L&&(V=zpe(V)),K&&+V==0&&x!=="+"&&(K=!1),$=(K?x==="("?x:l:x==="-"||x==="("?"":x)+$,U=(j==="s"?k3[8+H8/3]:"")+U+(K&&x==="("?")":""),P){for(pe=-1,ve=V.length;++pe<ve;)if(G=V.charCodeAt(pe),48>G||G>57){U=(G===46?i+V.slice(pe+1):V.slice(pe))+U,V=V.slice(0,pe);break}}}C&&!E&&(V=e(V,1/0));var ae=$.length+V.length+U.length,ge=ae<A?new Array(A-ae+1).join(g):"";switch(C&&E&&(V=e(ge+V,ge.length?A-U.length:1/0),ge=""),v){case"<":V=$+V+U+ge;break;case"=":V=$+ge+V+U;break;case"^":V=ge.slice(0,ae=ge.length>>1)+$+V+U+ge.slice(ae);break;default:V=ge+$+V+U;break}return s(V)}return F.toString=function(){return p+""},F}function d(p,g){var v=f((p=sg(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(fh(g)/3)))*3,S=Math.pow(10,-x),E=k3[8+x/3];return function(A){return v(S*A)+E}}return{format:f,formatPrefix:d}}var ev,$O,q8;$pe({thousands:",",grouping:[3],currency:["$",""]});function $pe(t){return ev=Fpe(t),$O=ev.format,q8=ev.formatPrefix,ev}function Hpe(t){return Math.max(0,-fh(Math.abs(t)))}function qpe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fh(e)/3)))*3-fh(Math.abs(t)))}function Kpe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,fh(e)-fh(t))+1}function K8(t,e,n,r){var i=Ok(t,e,n),s;switch(r=sg(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=qpe(i,a))&&(r.precision=s),q8(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Kpe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Hpe(i))&&(r.precision=s-(r.type==="%")*2);break}}return $O(r)}function Hc(t){var e=t.domain;return t.ticks=function(n){var r=e();return kk(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return K8(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],u,f,d=10;for(l<a&&(f=a,a=l,l=f,f=i,i=s,s=f);d-- >0;){if(f=Ck(a,l,n),f===u)return r[i]=a,r[s]=l,e(r);if(f>0)a=Math.floor(a/f)*f,l=Math.ceil(l/f)*f;else if(f<0)a=Math.ceil(a*f)/f,l=Math.floor(l*f)/f;else break;u=f}return t},t}function W8(){var t=UO();return t.copy=function(){return Wg(t,W8())},Ys.apply(t,arguments),Hc(t)}function G8(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,jb),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return G8(t).unknown(e)},t=arguments.length?Array.from(t,jb):[0,1],Hc(n)}function Y8(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function C3(t){return Math.log(t)}function O3(t){return Math.exp(t)}function Wpe(t){return-Math.log(-t)}function Gpe(t){return-Math.exp(-t)}function Ype(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Xpe(t){return t===10?Ype:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Qpe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function M3(t){return(e,n)=>-t(-e,n)}function HO(t){const e=t(C3,O3),n=e.domain;let r=10,i,s;function a(){return i=Qpe(r),s=Xpe(r),n()[0]<0?(i=M3(i),s=M3(s),t(Wpe,Gpe)):t(C3,O3),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const u=n();let f=u[0],d=u[u.length-1];const p=d<f;p&&([f,d]=[d,f]);let g=i(f),v=i(d),x,S;const E=l==null?10:+l;let A=[];if(!(r%1)&&v-g<E){if(g=Math.floor(g),v=Math.ceil(v),f>0){for(;g<=v;++g)for(x=1;x<r;++x)if(S=g<0?x/s(-g):x*s(g),!(S<f)){if(S>d)break;A.push(S)}}else for(;g<=v;++g)for(x=r-1;x>=1;--x)if(S=g>0?x/s(-g):x*s(g),!(S<f)){if(S>d)break;A.push(S)}A.length*2<E&&(A=kk(f,d,E))}else A=kk(g,v,Math.min(v-g,E)).map(s);return p?A.reverse():A},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=sg(u)).precision==null&&(u.trim=!0),u=$O(u)),l===1/0)return u;const f=Math.max(1,r*l/e.ticks().length);return d=>{let p=d/s(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=f?u(d):""}},e.nice=()=>n(Y8(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function X8(){const t=HO(I1()).domain([1,10]);return t.copy=()=>Wg(t,X8()).base(t.base()),Ys.apply(t,arguments),t}function N3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function D3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function qO(t){var e=1,n=t(N3(e),D3(e));return n.constant=function(r){return arguments.length?t(N3(e=+r),D3(e)):e},Hc(n)}function Q8(){var t=qO(I1());return t.copy=function(){return Wg(t,Q8()).constant(t.constant())},Ys.apply(t,arguments)}function I3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Jpe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Zpe(t){return t<0?-t*t:t*t}function KO(t){var e=t(oi,oi),n=1;function r(){return n===1?t(oi,oi):n===.5?t(Jpe,Zpe):t(I3(n),I3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Hc(e)}function WO(){var t=KO(I1());return t.copy=function(){return Wg(t,WO()).exponent(t.exponent())},Ys.apply(t,arguments),t}function eme(){return WO.apply(null,arguments).exponent(.5)}function P3(t){return Math.sign(t)*t*t}function tme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function J8(){var t=UO(),e=[0,1],n=!1,r;function i(s){var a=tme(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(P3(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,jb)).map(P3)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return J8(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ys.apply(i,arguments),Hc(i)}function Z8(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=spe(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[qg(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(gc),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return Z8().domain(t).range(e).unknown(r)},Ys.apply(s,arguments)}function eH(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(u){return u!=null&&u<=u?i[qg(r,u,0,n)]:s}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return a}return a.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},a.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},a.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},a.unknown=function(u){return arguments.length&&(s=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return eH().domain([t,e]).range(i).unknown(s)},Ys.apply(Hc(a),arguments)}function tH(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[qg(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return tH().domain(t).range(e).unknown(n)},Ys.apply(i,arguments)}const oA=new Date,lA=new Date;function tr(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const u=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return u;let f;do u.push(f=new Date(+s)),e(s,l),t(s);while(f<s&&s<a);return u},i.filter=s=>tr(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(oA.setTime(+s),lA.setTime(+a),t(oA),t(lA),Math.floor(n(oA,lA))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Lb=tr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Lb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?tr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Lb);Lb.range;const jo=1e3,Fs=jo*60,Ro=Fs*60,Qo=Ro*24,GO=Qo*7,j3=Qo*30,cA=Qo*365,Bu=tr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*jo)},(t,e)=>(e-t)/jo,t=>t.getUTCSeconds());Bu.range;const YO=tr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*jo)},(t,e)=>{t.setTime(+t+e*Fs)},(t,e)=>(e-t)/Fs,t=>t.getMinutes());YO.range;const XO=tr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Fs)},(t,e)=>(e-t)/Fs,t=>t.getUTCMinutes());XO.range;const QO=tr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*jo-t.getMinutes()*Fs)},(t,e)=>{t.setTime(+t+e*Ro)},(t,e)=>(e-t)/Ro,t=>t.getHours());QO.range;const JO=tr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ro)},(t,e)=>(e-t)/Ro,t=>t.getUTCHours());JO.range;const Gg=tr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Fs)/Qo,t=>t.getDate()-1);Gg.range;const P1=tr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qo,t=>t.getUTCDate()-1);P1.range;const nH=tr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qo,t=>Math.floor(t/Qo));nH.range;function Of(t){return tr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Fs)/GO)}const j1=Of(0),Vb=Of(1),nme=Of(2),rme=Of(3),dh=Of(4),ime=Of(5),sme=Of(6);j1.range;Vb.range;nme.range;rme.range;dh.range;ime.range;sme.range;function Mf(t){return tr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/GO)}const R1=Mf(0),Bb=Mf(1),ame=Mf(2),ome=Mf(3),hh=Mf(4),lme=Mf(5),cme=Mf(6);R1.range;Bb.range;ame.range;ome.range;hh.range;lme.range;cme.range;const ZO=tr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ZO.range;const eM=tr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());eM.range;const Jo=tr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Jo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Jo.range;const Zo=tr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Zo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Zo.range;function rH(t,e,n,r,i,s){const a=[[Bu,1,jo],[Bu,5,5*jo],[Bu,15,15*jo],[Bu,30,30*jo],[s,1,Fs],[s,5,5*Fs],[s,15,15*Fs],[s,30,30*Fs],[i,1,Ro],[i,3,3*Ro],[i,6,6*Ro],[i,12,12*Ro],[r,1,Qo],[r,2,2*Qo],[n,1,GO],[e,1,j3],[e,3,3*j3],[t,1,cA]];function l(f,d,p){const g=d<f;g&&([f,d]=[d,f]);const v=p&&typeof p.range=="function"?p:u(f,d,p),x=v?v.range(f,+d+1):[];return g?x.reverse():x}function u(f,d,p){const g=Math.abs(d-f)/p,v=jO(([,,E])=>E).right(a,g);if(v===a.length)return t.every(Ok(f/cA,d/cA,p));if(v===0)return Lb.every(Math.max(Ok(f,d,p),1));const[x,S]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return x.every(S)}return[l,u]}const[ume,fme]=rH(Zo,eM,R1,nH,JO,XO),[dme,hme]=rH(Jo,ZO,j1,Gg,QO,YO);function uA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function fA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Hp(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function pme(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,u=t.shortMonths,f=qp(i),d=Kp(i),p=qp(s),g=Kp(s),v=qp(a),x=Kp(a),S=qp(l),E=Kp(l),A=qp(u),C=Kp(u),D={a:K,A:ae,b:ge,B:xe,c:null,d:U3,e:U3,f:Lme,g:Wme,G:Yme,H:Pme,I:jme,j:Rme,L:iH,m:Vme,M:Bme,p:q,q:X,Q:H3,s:q3,S:zme,u:Ume,U:Fme,V:$me,w:Hme,W:qme,x:null,X:null,y:Kme,Y:Gme,Z:Xme,"%":$3},L={a:me,A:we,b:Se,B:Ie,c:null,d:F3,e:F3,f:ege,g:uge,G:dge,H:Qme,I:Jme,j:Zme,L:aH,m:tge,M:nge,p:Be,q:it,Q:H3,s:q3,S:rge,u:ige,U:sge,V:age,w:oge,W:lge,x:null,X:null,y:cge,Y:fge,Z:hge,"%":$3},j={a:F,A:V,b:$,B:U,c:pe,d:B3,e:B3,f:Mme,g:V3,G:L3,H:z3,I:z3,j:_me,L:Ome,m:Ame,M:kme,p:P,q:Eme,Q:Dme,s:Ime,S:Cme,u:bme,U:xme,V:wme,w:vme,W:Sme,x:ve,X:G,y:V3,Y:L3,Z:Tme,"%":Nme};D.x=B(n,D),D.X=B(r,D),D.c=B(e,D),L.x=B(n,L),L.X=B(r,L),L.c=B(e,L);function B(fe,ze){return function(Ke){var de=[],kt=-1,Oe=0,bt=fe.length,st,Kt,pi;for(Ke instanceof Date||(Ke=new Date(+Ke));++kt<bt;)fe.charCodeAt(kt)===37&&(de.push(fe.slice(Oe,kt)),(Kt=R3[st=fe.charAt(++kt)])!=null?st=fe.charAt(++kt):Kt=st==="e"?" ":"0",(pi=ze[st])&&(st=pi(Ke,Kt)),de.push(st),Oe=kt+1);return de.push(fe.slice(Oe,kt)),de.join("")}}function M(fe,ze){return function(Ke){var de=Hp(1900,void 0,1),kt=N(de,fe,Ke+="",0),Oe,bt;if(kt!=Ke.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(ze&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Oe=fA(Hp(de.y,0,1)),bt=Oe.getUTCDay(),Oe=bt>4||bt===0?Bb.ceil(Oe):Bb(Oe),Oe=P1.offset(Oe,(de.V-1)*7),de.y=Oe.getUTCFullYear(),de.m=Oe.getUTCMonth(),de.d=Oe.getUTCDate()+(de.w+6)%7):(Oe=uA(Hp(de.y,0,1)),bt=Oe.getDay(),Oe=bt>4||bt===0?Vb.ceil(Oe):Vb(Oe),Oe=Gg.offset(Oe,(de.V-1)*7),de.y=Oe.getFullYear(),de.m=Oe.getMonth(),de.d=Oe.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),bt="Z"in de?fA(Hp(de.y,0,1)).getUTCDay():uA(Hp(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(bt+5)%7:de.w+de.U*7-(bt+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,fA(de)):uA(de)}}function N(fe,ze,Ke,de){for(var kt=0,Oe=ze.length,bt=Ke.length,st,Kt;kt<Oe;){if(de>=bt)return-1;if(st=ze.charCodeAt(kt++),st===37){if(st=ze.charAt(kt++),Kt=j[st in R3?ze.charAt(kt++):st],!Kt||(de=Kt(fe,Ke,de))<0)return-1}else if(st!=Ke.charCodeAt(de++))return-1}return de}function P(fe,ze,Ke){var de=f.exec(ze.slice(Ke));return de?(fe.p=d.get(de[0].toLowerCase()),Ke+de[0].length):-1}function F(fe,ze,Ke){var de=v.exec(ze.slice(Ke));return de?(fe.w=x.get(de[0].toLowerCase()),Ke+de[0].length):-1}function V(fe,ze,Ke){var de=p.exec(ze.slice(Ke));return de?(fe.w=g.get(de[0].toLowerCase()),Ke+de[0].length):-1}function $(fe,ze,Ke){var de=A.exec(ze.slice(Ke));return de?(fe.m=C.get(de[0].toLowerCase()),Ke+de[0].length):-1}function U(fe,ze,Ke){var de=S.exec(ze.slice(Ke));return de?(fe.m=E.get(de[0].toLowerCase()),Ke+de[0].length):-1}function pe(fe,ze,Ke){return N(fe,e,ze,Ke)}function ve(fe,ze,Ke){return N(fe,n,ze,Ke)}function G(fe,ze,Ke){return N(fe,r,ze,Ke)}function K(fe){return a[fe.getDay()]}function ae(fe){return s[fe.getDay()]}function ge(fe){return u[fe.getMonth()]}function xe(fe){return l[fe.getMonth()]}function q(fe){return i[+(fe.getHours()>=12)]}function X(fe){return 1+~~(fe.getMonth()/3)}function me(fe){return a[fe.getUTCDay()]}function we(fe){return s[fe.getUTCDay()]}function Se(fe){return u[fe.getUTCMonth()]}function Ie(fe){return l[fe.getUTCMonth()]}function Be(fe){return i[+(fe.getUTCHours()>=12)]}function it(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var ze=B(fe+="",D);return ze.toString=function(){return fe},ze},parse:function(fe){var ze=M(fe+="",!1);return ze.toString=function(){return fe},ze},utcFormat:function(fe){var ze=B(fe+="",L);return ze.toString=function(){return fe},ze},utcParse:function(fe){var ze=M(fe+="",!0);return ze.toString=function(){return fe},ze}}}var R3={"-":"",_:" ",0:"0"},yr=/^\s*\d+/,mme=/^%/,gme=/[\\^$*+?|[\]().{}]/g;function vt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function yme(t){return t.replace(gme,"\\$&")}function qp(t){return new RegExp("^(?:"+t.map(yme).join("|")+")","i")}function Kp(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function vme(t,e,n){var r=yr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function bme(t,e,n){var r=yr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function xme(t,e,n){var r=yr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function wme(t,e,n){var r=yr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Sme(t,e,n){var r=yr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function L3(t,e,n){var r=yr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function V3(t,e,n){var r=yr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Tme(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Eme(t,e,n){var r=yr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Ame(t,e,n){var r=yr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function B3(t,e,n){var r=yr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _me(t,e,n){var r=yr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function z3(t,e,n){var r=yr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function kme(t,e,n){var r=yr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Cme(t,e,n){var r=yr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ome(t,e,n){var r=yr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Mme(t,e,n){var r=yr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Nme(t,e,n){var r=mme.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Dme(t,e,n){var r=yr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ime(t,e,n){var r=yr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function U3(t,e){return vt(t.getDate(),e,2)}function Pme(t,e){return vt(t.getHours(),e,2)}function jme(t,e){return vt(t.getHours()%12||12,e,2)}function Rme(t,e){return vt(1+Gg.count(Jo(t),t),e,3)}function iH(t,e){return vt(t.getMilliseconds(),e,3)}function Lme(t,e){return iH(t,e)+"000"}function Vme(t,e){return vt(t.getMonth()+1,e,2)}function Bme(t,e){return vt(t.getMinutes(),e,2)}function zme(t,e){return vt(t.getSeconds(),e,2)}function Ume(t){var e=t.getDay();return e===0?7:e}function Fme(t,e){return vt(j1.count(Jo(t)-1,t),e,2)}function sH(t){var e=t.getDay();return e>=4||e===0?dh(t):dh.ceil(t)}function $me(t,e){return t=sH(t),vt(dh.count(Jo(t),t)+(Jo(t).getDay()===4),e,2)}function Hme(t){return t.getDay()}function qme(t,e){return vt(Vb.count(Jo(t)-1,t),e,2)}function Kme(t,e){return vt(t.getFullYear()%100,e,2)}function Wme(t,e){return t=sH(t),vt(t.getFullYear()%100,e,2)}function Gme(t,e){return vt(t.getFullYear()%1e4,e,4)}function Yme(t,e){var n=t.getDay();return t=n>=4||n===0?dh(t):dh.ceil(t),vt(t.getFullYear()%1e4,e,4)}function Xme(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+vt(e/60|0,"0",2)+vt(e%60,"0",2)}function F3(t,e){return vt(t.getUTCDate(),e,2)}function Qme(t,e){return vt(t.getUTCHours(),e,2)}function Jme(t,e){return vt(t.getUTCHours()%12||12,e,2)}function Zme(t,e){return vt(1+P1.count(Zo(t),t),e,3)}function aH(t,e){return vt(t.getUTCMilliseconds(),e,3)}function ege(t,e){return aH(t,e)+"000"}function tge(t,e){return vt(t.getUTCMonth()+1,e,2)}function nge(t,e){return vt(t.getUTCMinutes(),e,2)}function rge(t,e){return vt(t.getUTCSeconds(),e,2)}function ige(t){var e=t.getUTCDay();return e===0?7:e}function sge(t,e){return vt(R1.count(Zo(t)-1,t),e,2)}function oH(t){var e=t.getUTCDay();return e>=4||e===0?hh(t):hh.ceil(t)}function age(t,e){return t=oH(t),vt(hh.count(Zo(t),t)+(Zo(t).getUTCDay()===4),e,2)}function oge(t){return t.getUTCDay()}function lge(t,e){return vt(Bb.count(Zo(t)-1,t),e,2)}function cge(t,e){return vt(t.getUTCFullYear()%100,e,2)}function uge(t,e){return t=oH(t),vt(t.getUTCFullYear()%100,e,2)}function fge(t,e){return vt(t.getUTCFullYear()%1e4,e,4)}function dge(t,e){var n=t.getUTCDay();return t=n>=4||n===0?hh(t):hh.ceil(t),vt(t.getUTCFullYear()%1e4,e,4)}function hge(){return"+0000"}function $3(){return"%"}function H3(t){return+t}function q3(t){return Math.floor(+t/1e3)}var bd,lH,cH;pge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pge(t){return bd=pme(t),lH=bd.format,bd.parse,cH=bd.utcFormat,bd.utcParse,bd}function mge(t){return new Date(t)}function gge(t){return t instanceof Date?+t:+new Date(+t)}function tM(t,e,n,r,i,s,a,l,u,f){var d=UO(),p=d.invert,g=d.domain,v=f(".%L"),x=f(":%S"),S=f("%I:%M"),E=f("%I %p"),A=f("%a %d"),C=f("%b %d"),D=f("%B"),L=f("%Y");function j(B){return(u(B)<B?v:l(B)<B?x:a(B)<B?S:s(B)<B?E:r(B)<B?i(B)<B?A:C:n(B)<B?D:L)(B)}return d.invert=function(B){return new Date(p(B))},d.domain=function(B){return arguments.length?g(Array.from(B,gge)):g().map(mge)},d.ticks=function(B){var M=g();return t(M[0],M[M.length-1],B??10)},d.tickFormat=function(B,M){return M==null?j:f(M)},d.nice=function(B){var M=g();return(!B||typeof B.range!="function")&&(B=e(M[0],M[M.length-1],B??10)),B?g(Y8(M,B)):d},d.copy=function(){return Wg(d,tM(t,e,n,r,i,s,a,l,u,f))},d}function yge(){return Ys.apply(tM(dme,hme,Jo,ZO,j1,Gg,QO,YO,Bu,lH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vge(){return Ys.apply(tM(ume,fme,Zo,eM,R1,P1,JO,XO,Bu,cH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function L1(){var t=0,e=1,n,r,i,s,a=oi,l=!1,u;function f(p){return p==null||isNaN(p=+p)?u:a(i===0?.5:(p=(s(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(a=p,f):a};function d(p){return function(g){var v,x;return arguments.length?([v,x]=g,a=p(v,x),f):[a(0),a(1)]}}return f.range=d(Ph),f.rangeRound=d(zO),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return s=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function qc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function uH(){var t=Hc(L1()(oi));return t.copy=function(){return qc(t,uH())},rl.apply(t,arguments)}function fH(){var t=HO(L1()).domain([1,10]);return t.copy=function(){return qc(t,fH()).base(t.base())},rl.apply(t,arguments)}function dH(){var t=qO(L1());return t.copy=function(){return qc(t,dH()).constant(t.constant())},rl.apply(t,arguments)}function nM(){var t=KO(L1());return t.copy=function(){return qc(t,nM()).exponent(t.exponent())},rl.apply(t,arguments)}function bge(){return nM.apply(null,arguments).exponent(.5)}function hH(){var t=[],e=oi;function n(r){if(r!=null&&!isNaN(r=+r))return e((qg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(gc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>ipe(t,s/r))},n.copy=function(){return hH(e).domain(t)},rl.apply(n,arguments)}function V1(){var t=0,e=.5,n=1,r=1,i,s,a,l,u,f=oi,d,p=!1,g;function v(S){return isNaN(S=+S)?g:(S=.5+((S=+d(S))-s)*(r*S<r*s?l:u),f(p?Math.max(0,Math.min(1,S)):S))}v.domain=function(S){return arguments.length?([t,e,n]=S,i=d(t=+t),s=d(e=+e),a=d(n=+n),l=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),r=s<i?-1:1,v):[t,e,n]},v.clamp=function(S){return arguments.length?(p=!!S,v):p},v.interpolator=function(S){return arguments.length?(f=S,v):f};function x(S){return function(E){var A,C,D;return arguments.length?([A,C,D]=E,f=Npe(S,[A,C,D]),v):[f(0),f(.5),f(1)]}}return v.range=x(Ph),v.rangeRound=x(zO),v.unknown=function(S){return arguments.length?(g=S,v):g},function(S){return d=S,i=S(t),s=S(e),a=S(n),l=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),r=s<i?-1:1,v}}function pH(){var t=Hc(V1()(oi));return t.copy=function(){return qc(t,pH())},rl.apply(t,arguments)}function mH(){var t=HO(V1()).domain([.1,1,10]);return t.copy=function(){return qc(t,mH()).base(t.base())},rl.apply(t,arguments)}function gH(){var t=qO(V1());return t.copy=function(){return qc(t,gH()).constant(t.constant())},rl.apply(t,arguments)}function rM(){var t=KO(V1());return t.copy=function(){return qc(t,rM()).exponent(t.exponent())},rl.apply(t,arguments)}function xge(){return rM.apply(null,arguments).exponent(.5)}const rm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:LO,scaleDiverging:pH,scaleDivergingLog:mH,scaleDivergingPow:rM,scaleDivergingSqrt:xge,scaleDivergingSymlog:gH,scaleIdentity:G8,scaleImplicit:Mk,scaleLinear:W8,scaleLog:X8,scaleOrdinal:RO,scalePoint:ope,scalePow:WO,scaleQuantile:Z8,scaleQuantize:eH,scaleRadial:J8,scaleSequential:uH,scaleSequentialLog:fH,scaleSequentialPow:nM,scaleSequentialQuantile:hH,scaleSequentialSqrt:bge,scaleSequentialSymlog:dH,scaleSqrt:eme,scaleSymlog:Q8,scaleThreshold:tH,scaleTime:yge,scaleUtc:vge,tickFormat:K8},Symbol.toStringTag,{value:"Module"}));var Kc=t=>t.chartData,wge=ie([Kc],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),B1=(t,e,n,r)=>r?wge(t):Kc(t);function ph(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(ss(e)&&ss(n))return!0}return!1}function K3(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Sge(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(ss(n))i=n;else if(typeof n=="function")return;if(ss(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(ph(a))return a}}function Tge(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ph(r))return K3(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,l;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Ve(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e?.[0]))}catch{}else if(typeof i=="string"&&VL.test(i)){var u=VL.exec(i);if(u==null||e==null)a=void 0;else{var f=+u[1];a=e[0]-f}}else a=e?.[0];if(s==="auto")e!=null&&(l=Math.max(...e));else if(Ve(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e?.[1]))}catch{}else if(typeof s=="string"&&BL.test(s)){var d=BL.exec(s);if(d==null||e==null)l=void 0;else{var p=+d[1];l=e[1]+p}}else l=e?.[1];var g=[a,l];if(ph(g))return e==null?g:K3(g,e,n)}}}var jh=1e9,Ege={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sM,fn=!0,Ws="[DecimalError] ",Ju=Ws+"Invalid argument: ",iM=Ws+"Exponent out of range: ",Rh=Math.floor,Du=Math.pow,Age=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ji,cr=1e7,sn=7,yH=9007199254740991,zb=Rh(yH/sn),ke={};ke.absoluteValue=ke.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ke.comparedTo=ke.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*sn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ke.dividedBy=ke.div=function(t){return Bo(this,new this.constructor(t))};ke.dividedToIntegerBy=ke.idiv=function(t){var e=this,n=e.constructor;return Ht(Bo(e,new n(t),0,1),n.precision)};ke.equals=ke.eq=function(t){return!this.cmp(t)};ke.exponent=function(){return Kn(this)};ke.greaterThan=ke.gt=function(t){return this.cmp(t)>0};ke.greaterThanOrEqualTo=ke.gte=function(t){return this.cmp(t)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(t){return this.cmp(t)<0};ke.lessThanOrEqualTo=ke.lte=function(t){return this.cmp(t)<1};ke.logarithm=ke.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ji))throw Error(Ws+"NaN");if(n.s<1)throw Error(Ws+(n.s?"NaN":"-Infinity"));return n.eq(Ji)?new r(0):(fn=!1,e=Bo(ag(n,s),ag(t,s),s),fn=!0,Ht(e,i))};ke.minus=ke.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?xH(e,t):vH(e,(t.s=-t.s,t))};ke.modulo=ke.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ws+"NaN");return n.s?(fn=!1,e=Bo(n,t,0,1).times(t),fn=!0,n.minus(e)):Ht(new r(n),i)};ke.naturalExponential=ke.exp=function(){return bH(this)};ke.naturalLogarithm=ke.ln=function(){return ag(this)};ke.negated=ke.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ke.plus=ke.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?vH(e,t):xH(e,(t.s=-t.s,t))};ke.precision=ke.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ju+t);if(e=Kn(i)+1,r=i.d.length-1,n=r*sn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ke.squareRoot=ke.sqrt=function(){var t,e,n,r,i,s,a,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Ws+"NaN")}for(t=Kn(l),fn=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Ha(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Rh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=a=n+3;;)if(s=r,r=s.plus(Bo(l,s,a+2)).times(.5),Ha(s.d).slice(0,a)===(e=Ha(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ht(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;a+=4}return fn=!0,Ht(r,n)};ke.times=ke.mul=function(t){var e,n,r,i,s,a,l,u,f,d=this,p=d.constructor,g=d.d,v=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,n=d.e+t.e,u=g.length,f=v.length,u<f&&(s=g,g=v,v=s,a=u,u=f,f=a),s=[],a=u+f,r=a;r--;)s.push(0);for(r=f;--r>=0;){for(e=0,i=u+r;i>r;)l=s[i]+v[r]*g[i-r-1]+e,s[i--]=l%cr|0,e=l/cr|0;s[i]=(s[i]+e)%cr|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,fn?Ht(t,p.precision):t};ke.toDecimalPlaces=ke.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(to(t,0,jh),e===void 0?e=r.rounding:to(e,0,8),Ht(n,t+Kn(n)+1,e))};ke.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=pf(r,!0):(to(t,0,jh),e===void 0?e=i.rounding:to(e,0,8),r=Ht(new i(r),t+1,e),n=pf(r,!0,t+1)),n};ke.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?pf(i):(to(t,0,jh),e===void 0?e=s.rounding:to(e,0,8),r=Ht(new s(i),t+Kn(i)+1,e),n=pf(r.abs(),!1,t+Kn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ke.toInteger=ke.toint=function(){var t=this,e=t.constructor;return Ht(new e(t),Kn(t)+1,e.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(t){var e,n,r,i,s,a,l=this,u=l.constructor,f=12,d=+(t=new u(t));if(!t.s)return new u(Ji);if(l=new u(l),!l.s){if(t.s<1)throw Error(Ws+"Infinity");return l}if(l.eq(Ji))return l;if(r=u.precision,t.eq(Ji))return Ht(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=l.s,a){if((n=d<0?-d:d)<=yH){for(i=new u(Ji),e=Math.ceil(r/sn+4),fn=!1;n%2&&(i=i.times(l),G3(i.d,e)),n=Rh(n/2),n!==0;)l=l.times(l),G3(l.d,e);return fn=!0,t.s<0?new u(Ji).div(i):Ht(i,r)}}else if(s<0)throw Error(Ws+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,fn=!1,i=t.times(ag(l,r+f)),fn=!0,i=bH(i),i.s=s,i};ke.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Kn(i),r=pf(i,n<=s.toExpNeg||n>=s.toExpPos)):(to(t,1,jh),e===void 0?e=s.rounding:to(e,0,8),i=Ht(new s(i),t,e),n=Kn(i),r=pf(i,t<=n||n<=s.toExpNeg,t)),r};ke.toSignificantDigits=ke.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(to(t,1,jh),e===void 0?e=r.rounding:to(e,0,8)),Ht(new r(n),t,e)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Kn(t),n=t.constructor;return pf(t,e<=n.toExpNeg||e>=n.toExpPos)};function vH(t,e){var n,r,i,s,a,l,u,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),fn?Ht(e,p):e;if(u=t.d,f=e.d,a=t.e,i=e.e,u=u.slice(),s=a-i,s){for(s<0?(r=u,s=-s,l=f.length):(r=f,i=a,l=u.length),a=Math.ceil(p/sn),l=a>l?a+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=u.length,s=f.length,l-s<0&&(s=l,r=f,f=u,u=r),n=0;s;)n=(u[--s]=u[s]+f[s]+n)/cr|0,u[s]%=cr;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,fn?Ht(e,p):e}function to(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ju+t)}function Ha(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=sn-r.length,n&&(s+=Wl(n)),s+=r;a=t[e],r=a+"",n=sn-r.length,n&&(s+=Wl(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Bo=(function(){function t(r,i){var s,a=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+a,r[l]=s%cr|0,a=s/cr|0;return a&&r.unshift(a),r}function e(r,i,s,a){var l,u;if(s!=a)u=s>a?1:-1;else for(l=u=0;l<s;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*cr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var l,u,f,d,p,g,v,x,S,E,A,C,D,L,j,B,M,N,P=r.constructor,F=r.s==i.s?1:-1,V=r.d,$=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Ws+"Division by zero");for(u=r.e-i.e,M=$.length,j=V.length,v=new P(F),x=v.d=[],f=0;$[f]==(V[f]||0);)++f;if($[f]>(V[f]||0)&&--u,s==null?C=s=P.precision:a?C=s+(Kn(r)-Kn(i))+1:C=s,C<0)return new P(0);if(C=C/sn+2|0,f=0,M==1)for(d=0,$=$[0],C++;(f<j||d)&&C--;f++)D=d*cr+(V[f]||0),x[f]=D/$|0,d=D%$|0;else{for(d=cr/($[0]+1)|0,d>1&&($=t($,d),V=t(V,d),M=$.length,j=V.length),L=M,S=V.slice(0,M),E=S.length;E<M;)S[E++]=0;N=$.slice(),N.unshift(0),B=$[0],$[1]>=cr/2&&++B;do d=0,l=e($,S,M,E),l<0?(A=S[0],M!=E&&(A=A*cr+(S[1]||0)),d=A/B|0,d>1?(d>=cr&&(d=cr-1),p=t($,d),g=p.length,E=S.length,l=e(p,S,g,E),l==1&&(d--,n(p,M<g?N:$,g))):(d==0&&(l=d=1),p=$.slice()),g=p.length,g<E&&p.unshift(0),n(S,p,E),l==-1&&(E=S.length,l=e($,S,M,E),l<1&&(d++,n(S,M<E?N:$,E))),E=S.length):l===0&&(d++,S=[0]),x[f++]=d,l&&S[0]?S[E++]=V[L]||0:(S=[V[L]],E=1);while((L++<j||S[0]!==void 0)&&C--)}return x[0]||x.shift(),v.e=u,Ht(v,a?s+Kn(v)+1:s)}})();function bH(t,e){var n,r,i,s,a,l,u=0,f=0,d=t.constructor,p=d.precision;if(Kn(t)>16)throw Error(iM+Kn(t));if(!t.s)return new d(Ji);for(fn=!1,l=p,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),f+=5;for(r=Math.log(Du(2,f))/Math.LN10*2+5|0,l+=r,n=i=s=new d(Ji),d.precision=l;;){if(i=Ht(i.times(t),l),n=n.times(++u),a=s.plus(Bo(i,n,l)),Ha(a.d).slice(0,l)===Ha(s.d).slice(0,l)){for(;f--;)s=Ht(s.times(s),l);return d.precision=p,e==null?(fn=!0,Ht(s,p)):s}s=a}}function Kn(t){for(var e=t.e*sn,n=t.d[0];n>=10;n/=10)e++;return e}function dA(t,e,n){if(e>t.LN10.sd())throw fn=!0,n&&(t.precision=n),Error(Ws+"LN10 precision limit exceeded");return Ht(new t(t.LN10),e)}function Wl(t){for(var e="";t--;)e+="0";return e}function ag(t,e){var n,r,i,s,a,l,u,f,d,p=1,g=10,v=t,x=v.d,S=v.constructor,E=S.precision;if(v.s<1)throw Error(Ws+(v.s?"NaN":"-Infinity"));if(v.eq(Ji))return new S(0);if(e==null?(fn=!1,f=E):f=e,v.eq(10))return e==null&&(fn=!0),dA(S,f);if(f+=g,S.precision=f,n=Ha(x),r=n.charAt(0),s=Kn(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=Ha(v.d),r=n.charAt(0),p++;s=Kn(v),r>1?(v=new S("0."+n),s++):v=new S(r+"."+n.slice(1))}else return u=dA(S,f+2,E).times(s+""),v=ag(new S(r+"."+n.slice(1)),f-g).plus(u),S.precision=E,e==null?(fn=!0,Ht(v,E)):v;for(l=a=v=Bo(v.minus(Ji),v.plus(Ji),f),d=Ht(v.times(v),f),i=3;;){if(a=Ht(a.times(d),f),u=l.plus(Bo(a,new S(i),f)),Ha(u.d).slice(0,f)===Ha(l.d).slice(0,f))return l=l.times(2),s!==0&&(l=l.plus(dA(S,f+2,E).times(s+""))),l=Bo(l,new S(p),f),S.precision=E,e==null?(fn=!0,Ht(l,E)):l;l=u,i+=2}}function W3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Rh(n/sn),t.d=[],r=(n+1)%sn,n<0&&(r+=sn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=sn;r<i;)t.d.push(+e.slice(r,r+=sn));e=e.slice(r),r=sn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),fn&&(t.e>zb||t.e<-zb))throw Error(iM+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ht(t,e,n){var r,i,s,a,l,u,f,d,p=t.d;for(a=1,s=p[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=sn,i=e,f=p[d=0];else{if(d=Math.ceil((r+1)/sn),s=p.length,d>=s)return t;for(f=s=p[d],a=1;s>=10;s/=10)a++;r%=sn,i=r-sn+a}if(n!==void 0&&(s=Du(10,a-i-1),l=f/s%10|0,u=e<0||p[d+1]!==void 0||f%s,u=n<4?(l||u)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?f/Du(10,a-i):0:p[d-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return u?(s=Kn(t),p.length=1,e=e-s-1,p[0]=Du(10,(sn-e%sn)%sn),t.e=Rh(-e/sn)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=d,s=1,d--):(p.length=d+1,s=Du(10,sn-r),p[d]=i>0?(f/Du(10,a-i)%Du(10,i)|0)*s:0),u)for(;;)if(d==0){(p[0]+=s)==cr&&(p[0]=1,++t.e);break}else{if(p[d]+=s,p[d]!=cr)break;p[d--]=0,s=1}for(r=p.length;p[--r]===0;)p.pop();if(fn&&(t.e>zb||t.e<-zb))throw Error(iM+Kn(t));return t}function xH(t,e){var n,r,i,s,a,l,u,f,d,p,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),fn?Ht(e,v):e;if(u=t.d,p=e.d,r=e.e,f=t.e,u=u.slice(),a=f-r,a){for(d=a<0,d?(n=u,a=-a,l=p.length):(n=p,r=f,l=u.length),i=Math.max(Math.ceil(v/sn),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){d=u[i]<p[i];break}a=0}for(d&&(n=u,u=p,p=n,e.s=-e.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>a;){if(u[--i]<p[i]){for(s=i;s&&u[--s]===0;)u[s]=cr-1;--u[s],u[i]+=cr}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,fn?Ht(e,v):e):new g(0)}function pf(t,e,n){var r,i=Kn(t),s=Ha(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Wl(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Wl(-i-1)+s,n&&(r=n-a)>0&&(s+=Wl(r))):i>=a?(s+=Wl(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Wl(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Wl(r))),t.s<0?"-"+s:s}function G3(t,e){if(t.length>e)return t.length=e,!0}function wH(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ju+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return W3(a,s.toString())}else if(typeof s!="string")throw Error(Ju+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,Age.test(s))W3(a,s);else throw Error(Ju+s)}if(i.prototype=ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=wH,i.config=i.set=_ge,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function _ge(t){if(!t||typeof t!="object")throw Error(Ws+"Object expected");var e,n,r,i=["precision",1,jh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Rh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ju+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ju+n+": "+r);return this}var sM=wH(Ege);Ji=new sM(1);const Nt=sM;var kge=t=>t,SH={},TH=t=>t===SH,Y3=t=>function e(){return arguments.length===0||arguments.length===1&&TH(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},EH=(t,e)=>t===1?e:Y3(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==SH).length;return s>=t?e(...r):EH(t-s,Y3(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var f=r.map(d=>TH(d)?l.shift():d);return e(...f,...l)}))}),z1=t=>EH(t.length,t),Pk=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Cge=z1((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Oge=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return kge;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,u)=>u(l),s(...arguments))}},jk=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),AH=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((a,l)=>{var u;return a===((u=e)===null||u===void 0?void 0:u[l])})||(e=i,n=t(...i)),n}};function _H(t){var e;return t===0?e=1:e=Math.floor(new Nt(t).abs().log(10).toNumber())+1,e}function kH(t,e,n){for(var r=new Nt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}z1((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});z1((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});z1((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var CH=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},OH=(t,e,n)=>{if(t.lte(0))return new Nt(0);var r=_H(t.toNumber()),i=new Nt(10).pow(r),s=t.div(i),a=r!==1?.05:.1,l=new Nt(Math.ceil(s.div(a).toNumber())).add(n).mul(a),u=l.mul(i);return e?new Nt(u.toNumber()):new Nt(Math.ceil(u.toNumber()))},Mge=(t,e,n)=>{var r=new Nt(1),i=new Nt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Nt(10).pow(_H(t)-1),i=new Nt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Nt(Math.floor(t)))}else t===0?i=new Nt(Math.floor((e-1)/2)):n||(i=new Nt(Math.floor(t)));var a=Math.floor((e-1)/2),l=Oge(Cge(u=>i.add(new Nt(u-a).mul(r)).toNumber()),Pk);return l(0,e)},MH=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Nt(0),tickMin:new Nt(0),tickMax:new Nt(0)};var a=OH(new Nt(n).sub(e).div(r-1),i,s),l;e<=0&&n>=0?l=new Nt(0):(l=new Nt(e).add(n).div(2),l=l.sub(new Nt(l).mod(a)));var u=Math.ceil(l.sub(e).div(a).toNumber()),f=Math.ceil(new Nt(n).sub(l).div(a).toNumber()),d=u+f+1;return d>r?MH(e,n,r,i,s+1):(d<r&&(f=n>0?f+(r-d):f,u=n>0?u:u+(r-d)),{step:a,tickMin:l.sub(new Nt(u).mul(a)),tickMax:l.add(new Nt(f).mul(a))})};function Nge(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[a,l]=CH([e,n]);if(a===-1/0||l===1/0){var u=l===1/0?[a,...Pk(0,r-1).map(()=>1/0)]:[...Pk(0,r-1).map(()=>-1/0),l];return e>n?jk(u):u}if(a===l)return Mge(a,r,i);var{step:f,tickMin:d,tickMax:p}=MH(a,l,s,i,0),g=kH(d,p.add(new Nt(.1).mul(f)),f);return e>n?jk(g):g}function Dge(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=CH([n,r]);if(s===-1/0||a===1/0)return[n,r];if(s===a)return[s];var l=Math.max(e,2),u=OH(new Nt(a).sub(s).div(l-1),i,0),f=[...kH(new Nt(s),new Nt(a),u),a];return i===!1&&(f=f.map(d=>Math.round(d))),n>r?jk(f):f}var Ige=AH(Nge),Pge=AH(Dge),NH=t=>t.rootProps.maxBarSize,jge=t=>t.rootProps.barGap,DH=t=>t.rootProps.barCategoryGap,Rge=t=>t.rootProps.barSize,U1=t=>t.rootProps.stackOffset,aM=t=>t.options.chartName,oM=t=>t.rootProps.syncId,IH=t=>t.rootProps.syncMethod,lM=t=>t.options.eventEmitter,No={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Xi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},F1=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Lge={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:No.angleAxisId,includeHidden:!1,name:void 0,reversed:No.reversed,scale:No.scale,tick:No.tick,tickCount:void 0,ticks:void 0,type:No.type,unit:void 0},Vge={allowDataOverflow:Xi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xi.scale,tick:Xi.tick,tickCount:Xi.tickCount,ticks:void 0,type:Xi.type,unit:void 0},Bge={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:No.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:No.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:No.scale,tick:No.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},zge={allowDataOverflow:Xi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xi.scale,tick:Xi.tick,tickCount:Xi.tickCount,ticks:void 0,type:"category",unit:void 0},cM=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Bge:Lge,uM=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?zge:Vge,$1=t=>t.polarOptions,fM=ie([tl,nl,gr],Kfe),PH=ie([$1,fM],(t,e)=>{if(t!=null)return xa(t.innerRadius,e,0)}),jH=ie([$1,fM],(t,e)=>{if(t!=null)return xa(t.outerRadius,e,e*.8)}),Uge=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},RH=ie([$1],Uge);ie([cM,RH],F1);var LH=ie([fM,PH,jH],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ie([uM,LH],F1);var VH=ie([St,$1,PH,jH,tl,nl],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:l,startAngle:u,endAngle:f}=e;return{cx:xa(a,i,i/2),cy:xa(l,s,s/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:f,clockWise:!1}}}),Gn=(t,e)=>e,H1=(t,e,n)=>n;function dM(t){return t?.id}var nr=t=>{var e=St(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Lh=t=>t.tooltip.settings.axisId,vr=t=>{var e=nr(t),n=Lh(t);return Yg(t,e,n)},BH=ie([vr],t=>t?.dataKey);function zH(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return t.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var d=dM(l);f.forEach((p,g)=>{var v=s==null||i?g:String(dr(p,s,null)),x=dr(p,l.dataKey,0),S;a.has(v)?S=a.get(v):S={},Object.assign(S,{[d]:x}),a.set(v,S)})}}),Array.from(a.values())}function q1(t){return t.stackId!=null&&t.dataKey!=null}function X3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ub(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(n),!0).forEach(function(r){Fge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fge(t,e,n){return(e=$ge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ge(t){var e=Hge(t,"string");return typeof e=="symbol"?e:e+""}function Hge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rk=[0,"auto"],Gi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},UH=(t,e)=>t.cartesianAxis.xAxis[e],il=(t,e)=>{var n=UH(t,e);return n??Gi},Yi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Rk,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Hg},FH=(t,e)=>t.cartesianAxis.yAxis[e],sl=(t,e)=>{var n=FH(t,e);return n??Yi},qge={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},hM=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??qge},Li=(t,e,n)=>{switch(e){case"xAxis":return il(t,n);case"yAxis":return sl(t,n);case"zAxis":return hM(t,n);case"angleAxis":return cM(t,n);case"radiusAxis":return uM(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Kge=(t,e,n)=>{switch(e){case"xAxis":return il(t,n);case"yAxis":return sl(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Yg=(t,e,n)=>{switch(e){case"xAxis":return il(t,n);case"yAxis":return sl(t,n);case"angleAxis":return cM(t,n);case"radiusAxis":return uM(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},$H=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function HH(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var K1=t=>t.graphicalItems.cartesianItems,Wge=ie([Gn,H1],HH),qH=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Xg=ie([K1,Li,Wge],qH),KH=ie([Xg],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(q1)),WH=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),GH=ie([Xg],WH),YH=t=>t.map(e=>e.data).filter(Boolean).flat(1),Gge=ie([Xg],YH),XH=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},pM=ie([Gge,B1],XH),QH=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:dr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:dr(i,r)}))):t.map(r=>({value:r})),W1=ie([pM,Li,Xg],QH);function JH(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Nf(t){return t.filter(e=>eo(e)||e instanceof Date).map(Number).filter(e=>rs(e)===!1)}function Yge(t,e,n){return!n||typeof e!="number"||rs(e)?[]:n.length?Nf(n.flatMap(r=>{var i=dr(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!ss(s)||!ss(a)))return[e-s,e+a]})):[]}var Xge=ie([KH,B1,vr],zH),ZH=(t,e,n)=>{var r={},i=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[a,l]=s,u=l.map(dM);return[a,{stackedData:lde(t,u,n),graphicalItems:l}]}))},Lk=ie([Xge,KH,U1],ZH),e7=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var s=hde(t,r,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Qge=ie([Lk,Kc,Gn],e7),t7=(t,e,n,r,i)=>n.length>0?t.flatMap(s=>n.flatMap(a=>{var l,u,f=(l=r[a.id])===null||l===void 0?void 0:l.filter(p=>JH(i,p)),d=dr(s,(u=e.dataKey)!==null&&u!==void 0?u:a.dataKey);return{value:d,errorDomain:Yge(s,d,f)}})).filter(Boolean):e?.dataKey!=null?t.map(s=>({value:dr(s,e.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]})),G1=t=>t.errorBars,n7=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>JH(n,r));ie([GH,G1,Gn],n7);var Jge=ie([pM,Li,GH,G1,Gn],t7);function Zge(t){var{value:e}=t;if(eo(e)||e instanceof Date)return e}var Q3=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Nf(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},eye=(t,e,n)=>{var r=t.map(Zge).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&c$(r))?R8(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},mM=t=>{var e;if(t==null||!("domain"in t))return Rk;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Nf(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Rk},Fb=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},r7=t=>t.referenceElements.dots,Vh=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),tye=ie([r7,Gn,H1],Vh),i7=t=>t.referenceElements.areas,nye=ie([i7,Gn,H1],Vh),s7=t=>t.referenceElements.lines,rye=ie([s7,Gn,H1],Vh),a7=(t,e)=>{var n=Nf(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},iye=ie(tye,Gn,a7),o7=(t,e)=>{var n=Nf(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},sye=ie([nye,Gn],o7),l7=(t,e)=>{var n=Nf(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},aye=ie(rye,Gn,l7),oye=ie(iye,aye,sye,(t,e,n)=>Fb(t,n,e)),lye=ie([Li],mM),c7=(t,e,n,r,i,s,a)=>{var l=Sge(e,t.allowDataOverflow);if(l!=null)return l;var u=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",f=u?Fb(n,i,Q3(r)):Fb(i,Q3(r));return Tge(e,f,t.allowDataOverflow)},cye=ie([Li,lye,Qge,Jge,oye,St,Gn],c7),uye=[0,1],u7=(t,e,n,r,i,s,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:l,type:u}=t,f=$c(e,s);return f&&l==null?R8(0,n.length):u==="category"?eye(r,t,f):i==="expand"?uye:a}},gM=ie([Li,St,pM,W1,U1,Gn,cye],u7),f7=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(Ug(s));return l in rm?l:"point"}}},Qg=ie([Li,St,$H,aM,Gn],f7);function fye(t){if(t!=null){if(t in rm)return rm[t]();var e="scale".concat(Ug(t));if(e in rm)return rm[e]()}}function yM(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=fye(e);if(i!=null){var s=i.domain(n).range(r);return rde(s),s}}}var d7=(t,e,n)=>{var r=mM(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ph(t))return Ige(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ph(t))return Pge(t,e.tickCount,e.allowDecimals)}},vM=ie([gM,Yg,Qg],d7),h7=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&ph(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],a=e[1],l=n[n.length-1];return[Math.min(i,s),Math.max(a,l)]}return e},dye=ie([Li,gM,vM,Gn],h7),hye=ie(W1,Li,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Nf(t.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];n=Math.min(n,a)}return n/i}}),p7=ie(hye,St,DH,gr,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!ss(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=xa(n,t*s),l=t*s/2;return l-a-(l-a)/s*a}return 0}),pye=(t,e)=>{var n=il(t,e);return n==null||typeof n.padding!="string"?0:p7(t,"xAxis",e,n.padding)},mye=(t,e)=>{var n=sl(t,e);return n==null||typeof n.padding!="string"?0:p7(t,"yAxis",e,n.padding)},gye=ie(il,pye,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),yye=ie(sl,mye,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),vye=ie([gr,gye,O1,C1,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),bye=ie([gr,St,yye,O1,C1,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Jg=(t,e,n,r)=>{var i;switch(e){case"xAxis":return vye(t,n,r);case"yAxis":return bye(t,n,r);case"zAxis":return(i=hM(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return RH(t);case"radiusAxis":return LH(t,n);default:return}},m7=ie([Li,Jg],F1),Bh=ie([Li,Qg,dye,m7],yM);ie([Xg,G1,Gn],n7);function g7(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Y1=(t,e)=>e,X1=(t,e,n)=>n,xye=ie(_1,Y1,X1,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(g7)),wye=ie(k1,Y1,X1,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(g7)),y7=(t,e)=>({width:t.width,height:e.height}),Sye=(t,e)=>{var n=typeof e.width=="number"?e.width:Hg;return{width:n,height:t.height}},v7=ie(gr,il,y7),Tye=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Eye=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Aye=ie(nl,gr,xye,Y1,X1,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var u=y7(e,l);a==null&&(a=Tye(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;s[l.id]=a-Number(f)*u.height,a+=(f?-1:1)*u.height}),s}),_ye=ie(tl,gr,wye,Y1,X1,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var u=Sye(e,l);a==null&&(a=Eye(e,r,t));var f=r==="left"&&!i||r==="right"&&i;s[l.id]=a-Number(f)*u.width,a+=(f?-1:1)*u.width}),s}),kye=(t,e)=>{var n=il(t,e);if(n!=null)return Aye(t,n.orientation,n.mirror)},Cye=ie([gr,il,kye,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Oye=(t,e)=>{var n=sl(t,e);if(n!=null)return _ye(t,n.orientation,n.mirror)},Mye=ie([gr,sl,Oye,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),b7=ie(gr,sl,(t,e)=>{var n=typeof e.width=="number"?e.width:Hg;return{width:n,height:t.height}}),J3=(t,e,n)=>{switch(e){case"xAxis":return v7(t,n).width;case"yAxis":return b7(t,n).height;default:return}},x7=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,l=$c(t,r),u=e.map(f=>f.value);if(a&&l&&s==="category"&&i&&c$(u))return u}},bM=ie([St,W1,Li,Gn],x7),w7=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=$c(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(l=>l.value)}},xM=ie([St,W1,Yg,Gn],w7),Z3=ie([St,Kge,Qg,Bh,bM,xM,Jg,vM,Gn],(t,e,n,r,i,s,a,l,u)=>{if(e==null)return null;var f=$c(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:s,duplicateDomain:i,isCategorical:f,niceTicks:l,range:a,realScaleType:n,scale:r}}),Nye=(t,e,n,r,i,s,a,l,u)=>{if(!(e==null||r==null)){var f=$c(t,u),{type:d,ticks:p,tickCount:g}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=d==="category"&&r.bandwidth?r.bandwidth()/v:0;x=u==="angleAxis"&&s!=null&&s.length>=2?Ni(s[0]-s[1])*2*x:x;var S=p||i;if(S){var E=S.map((A,C)=>{var D=a?a.indexOf(A):A;return{index:C,coordinate:r(D)+x,value:A,offset:x}});return E.filter(A=>!rs(A.coordinate))}return f&&l?l.map((A,C)=>({coordinate:r(A)+x,value:A,index:C,offset:x})):r.ticks?r.ticks(g).map(A=>({coordinate:r(A)+x,value:A,offset:x})):r.domain().map((A,C)=>({coordinate:r(A)+x,value:a?a[A]:A,index:C,offset:x}))}},S7=ie([St,Yg,Qg,Bh,vM,Jg,bM,xM,Gn],Nye),Dye=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=$c(t,a),{tickCount:u}=e,f=0;return f=a==="angleAxis"&&r?.length>=2?Ni(r[0]-r[1])*2*f:f,l&&s?s.map((d,p)=>({coordinate:n(d)+f,value:d,index:p,offset:f})):n.ticks?n.ticks(u).map(d=>({coordinate:n(d)+f,value:d,offset:f})):n.domain().map((d,p)=>({coordinate:n(d)+f,value:i?i[d]:d,index:p,offset:f}))}},Nc=ie([St,Yg,Bh,Jg,bM,xM,Gn],Dye),Dc=ie(Li,Bh,(t,e)=>{if(!(t==null||e==null))return Ub(Ub({},t),{},{scale:e})}),Iye=ie([Li,Qg,gM,m7],yM);ie((t,e,n)=>hM(t,n),Iye,(t,e)=>{if(!(t==null||e==null))return Ub(Ub({},t),{},{scale:e})});var Pye=ie([St,_1,k1],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),T7=t=>t.options.defaultTooltipEventType,E7=t=>t.options.validateTooltipEventTypes;function A7(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function wM(t,e){var n=T7(t),r=E7(t);return A7(e,n,r)}function jye(t){return De(e=>wM(e,t))}var _7=(t,e)=>{var n,r=Number(e);if(!(rs(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Rye=t=>t.tooltip.settings,nc={active:!1,index:null,dataKey:void 0,coordinate:void 0},Lye={itemInteraction:{click:nc,hover:nc},axisInteraction:{click:nc,hover:nc},keyboardInteraction:nc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},k7=ls({name:"tooltip",initialState:Lye,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Vo(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Vye,removeTooltipEntrySettings:Bye,setTooltipSettingsState:zye,setActiveMouseOverItemIndex:C7,mouseLeaveItem:Uye,mouseLeaveChart:O7,setActiveClickItemIndex:Fye,setMouseOverAxisIndex:M7,setMouseClickAxisIndex:$ye,setSyncInteraction:Vk,setKeyboardInteraction:Bk}=k7.actions,Hye=k7.reducer;function eV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eV(Object(n),!0).forEach(function(r){qye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qye(t,e,n){return(e=Kye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kye(t){var e=Wye(t,"string");return typeof e=="symbol"?e:e+""}function Wye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gye(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Yye(t){return t.index!=null}var N7=(t,e,n,r)=>{if(e==null)return nc;var i=Gye(t,e,n);if(i==null)return nc;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Yye(i)){if(s)return tv(tv({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return tv(tv({},nc),{},{coordinate:i.coordinate})},SM=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!ss(r))return n;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},D7=(t,e,n,r,i,s,a,l)=>{if(!(s==null||l==null)){var u=a[0],f=u==null?void 0:l(u.positions,s);if(f!=null)return f;var d=i?.[Number(s)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:d.coordinate}}}},I7=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Zg=t=>t.options.tooltipPayloadSearcher,zh=t=>t.tooltip;function tV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tV(Object(n),!0).forEach(function(r){Xye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xye(t,e,n){return(e=Qye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qye(t){var e=Jye(t,"string");return typeof e=="symbol"?e:e+""}function Jye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zye(t,e){return t??e}var P7=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:l,computedData:u,dataStartIndex:f,dataEndIndex:d}=n,p=[];return t.reduce((g,v)=>{var x,{dataDefinedOnItem:S,settings:E}=v,A=Zye(S,l),C=Array.isArray(A)?v8(A,f,d):A,D=(x=E?.dataKey)!==null&&x!==void 0?x:r,L=E?.nameKey,j;if(r&&Array.isArray(C)&&!Array.isArray(C[0])&&a==="axis"?j=u$(C,r,i):j=s(C,e,u,L),Array.isArray(j))j.forEach(M=>{var N=nV(nV({},E),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});g.push(zL({tooltipEntrySettings:N,dataKey:M.dataKey,payload:M.payload,value:dr(M.payload,M.dataKey),name:M.name}))});else{var B;g.push(zL({tooltipEntrySettings:E,dataKey:D,payload:j,value:dr(j,D),name:(B=dr(j,L))!==null&&B!==void 0?B:E?.name}))}return g},p)}},TM=ie([vr,St,$H,aM,nr],f7),e0e=ie([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),t0e=ie([nr,Lh],HH),ey=ie([e0e,vr,t0e],qH),n0e=ie([ey],t=>t.filter(q1)),r0e=ie([ey],YH),Uh=ie([r0e,Kc],XH),i0e=ie([n0e,Kc,vr],zH),EM=ie([Uh,vr,ey],QH),s0e=ie([vr],mM),a0e=ie([ey],t=>t.filter(q1)),o0e=ie([i0e,a0e,U1],ZH),l0e=ie([o0e,Kc,nr],e7),c0e=ie([ey],WH),u0e=ie([Uh,vr,c0e,G1,nr],t7),f0e=ie([r7,nr,Lh],Vh),d0e=ie([f0e,nr],a7),h0e=ie([i7,nr,Lh],Vh),p0e=ie([h0e,nr],o7),m0e=ie([s7,nr,Lh],Vh),g0e=ie([m0e,nr],l7),y0e=ie([d0e,g0e,p0e],Fb),v0e=ie([vr,s0e,l0e,u0e,y0e,St,nr],c7),j7=ie([vr,St,Uh,EM,U1,nr,v0e],u7),b0e=ie([j7,vr,TM],d7),x0e=ie([vr,j7,b0e,nr],h7),R7=t=>{var e=nr(t),n=Lh(t),r=!1;return Jg(t,e,n,r)},L7=ie([vr,R7],F1),V7=ie([vr,TM,x0e,L7],yM),w0e=ie([St,EM,vr,nr],x7),S0e=ie([St,EM,vr,nr],w7),T0e=(t,e,n,r,i,s,a,l)=>{if(e){var{type:u}=e,f=$c(t,l);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/d:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?Ni(i[0]-i[1])*2*p:p,f&&a?a.map((g,v)=>({coordinate:r(g)+p,value:g,index:v,offset:p})):r.domain().map((g,v)=>({coordinate:r(g)+p,value:s?s[g]:g,index:v,offset:p}))}}},al=ie([St,vr,TM,V7,R7,w0e,S0e,nr],T0e),AM=ie([T7,E7,Rye],(t,e,n)=>A7(n.shared,t,e)),B7=t=>t.tooltip.settings.trigger,_M=t=>t.tooltip.settings.defaultIndex,Q1=ie([zh,AM,B7,_M],N7),mf=ie([Q1,Uh],SM),z7=ie([al,mf],_7),U7=ie([Q1],t=>{if(t)return t.dataKey}),F7=ie([zh,AM,B7,_M],I7),E0e=ie([tl,nl,St,gr,al,_M,F7,Zg],D7),A0e=ie([Q1,E0e],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),_0e=ie([Q1],t=>t.active),k0e=ie([F7,mf,Kc,BH,z7,Zg,AM],P7),C0e=ie([k0e],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function rV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rV(Object(n),!0).forEach(function(r){O0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O0e(t,e,n){return(e=M0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M0e(t){var e=N0e(t,"string");return typeof e=="symbol"?e:e+""}function N0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D0e=()=>De(vr),I0e=()=>{var t=D0e(),e=De(al),n=De(V7);return eg(iV(iV({},t),{},{scale:n}),e)},P0e=()=>De(aM),kM=(t,e)=>e,$7=(t,e,n)=>n,CM=(t,e,n,r)=>r,j0e=ie(al,t=>b1(t,e=>e.coordinate)),OM=ie([zh,kM,$7,CM],N7),H7=ie([OM,Uh],SM),R0e=(t,e,n)=>{if(e!=null){var r=zh(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},q7=ie([zh,kM,$7,CM],I7),$b=ie([tl,nl,St,gr,al,CM,q7,Zg],D7),L0e=ie([OM,$b],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),K7=ie(al,H7,_7),V0e=ie([q7,H7,Kc,BH,K7,Zg,kM],P7),B0e=ie([OM],t=>({isActive:t.active,activeIndex:t.index})),z0e=(t,e,n,r,i,s,a,l)=>{if(!(!t||!e||!r||!i||!s)){var u=pde(t.chartX,t.chartY,e,n,l);if(u){var f=gde(u,e),d=tde(f,a,s,r,i),p=mde(e,s,d,u);return{activeIndex:String(d),activeCoordinate:p}}}};function zk(){return zk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zk.apply(null,arguments)}function sV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sV(Object(n),!0).forEach(function(r){U0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U0e(t,e,n){return(e=F0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F0e(t){var e=$0e(t,"string");return typeof e=="symbol"?e:e+""}function $0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H0e(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:a,cursor:l,tooltipEventType:u,chartName:f}=t,d=e,p=n,g=r;if(!l||!d||f!=="ScatterChart"&&u!=="axis")return null;var v,x;if(f==="ScatterChart")v=d,x=ohe;else if(f==="BarChart")v=lhe(a,d,i,s),x=D8;else if(a==="radial"){var{cx:S,cy:E,radius:A,startAngle:C,endAngle:D}=I8(d);v={cx:S,cy:E,startAngle:C,endAngle:D,innerRadius:A,outerRadius:A},x=j8}else v={points:Uhe(a,d,i)},x=k8;var L=typeof l=="object"&&"className"in l?l.className:void 0,j=nv(nv(nv(nv({stroke:"#ccc",pointerEvents:"none"},i),v),jn(l,!1)),{},{payload:p,payloadIndex:g,className:yt("recharts-tooltip-cursor",L)});return _.isValidElement(l)?_.cloneElement(l,j):_.createElement(x,j)}function q0e(t){var e=I0e(),n=S8(),r=M1(),i=P0e();return _.createElement(H0e,zk({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var W7=_.createContext(null),K0e=()=>_.useContext(W7),hA={exports:{}},aV;function W0e(){return aV||(aV=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,f,d){this.fn=u,this.context=f,this.once=d||!1}function s(u,f,d,p,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new i(d,p||u,g),x=n?n+f:f;return u._events[x]?u._events[x].fn?u._events[x]=[u._events[x],v]:u._events[x].push(v):(u._events[x]=v,u._eventsCount++),u}function a(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],d,p;if(this._eventsCount===0)return f;for(p in d=this._events)e.call(d,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},l.prototype.listeners=function(f){var d=n?n+f:f,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,x=new Array(v);g<v;g++)x[g]=p[g].fn;return x},l.prototype.listenerCount=function(f){var d=n?n+f:f,p=this._events[d];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,d,p,g,v,x){var S=n?n+f:f;if(!this._events[S])return!1;var E=this._events[S],A=arguments.length,C,D;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),A){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,p),!0;case 4:return E.fn.call(E.context,d,p,g),!0;case 5:return E.fn.call(E.context,d,p,g,v),!0;case 6:return E.fn.call(E.context,d,p,g,v,x),!0}for(D=1,C=new Array(A-1);D<A;D++)C[D-1]=arguments[D];E.fn.apply(E.context,C)}else{var L=E.length,j;for(D=0;D<L;D++)switch(E[D].once&&this.removeListener(f,E[D].fn,void 0,!0),A){case 1:E[D].fn.call(E[D].context);break;case 2:E[D].fn.call(E[D].context,d);break;case 3:E[D].fn.call(E[D].context,d,p);break;case 4:E[D].fn.call(E[D].context,d,p,g);break;default:if(!C)for(j=1,C=new Array(A-1);j<A;j++)C[j-1]=arguments[j];E[D].fn.apply(E[D].context,C)}}return!0},l.prototype.on=function(f,d,p){return s(this,f,d,p,!1)},l.prototype.once=function(f,d,p){return s(this,f,d,p,!0)},l.prototype.removeListener=function(f,d,p,g){var v=n?n+f:f;if(!this._events[v])return this;if(!d)return a(this,v),this;var x=this._events[v];if(x.fn)x.fn===d&&(!g||x.once)&&(!p||x.context===p)&&a(this,v);else{for(var S=0,E=[],A=x.length;S<A;S++)(x[S].fn!==d||g&&!x[S].once||p&&x[S].context!==p)&&E.push(x[S]);E.length?this._events[v]=E.length===1?E[0]:E:a(this,v)}return this},l.prototype.removeAllListeners=function(f){var d;return f?(d=n?n+f:f,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(hA)),hA.exports}var G0e=W0e();const Y0e=Sa(G0e);var og=new Y0e,Uk="recharts.syncEvent.tooltip",oV="recharts.syncEvent.brush";function G7(t,e){if(e){var n=Number.parseInt(e,10);if(!rs(n))return t?.[n]}}var X0e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Y7=ls({name:"options",initialState:X0e,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Q0e=Y7.reducer,{createEventEmitter:J0e}=Y7.actions;function Z0e(t){return t.tooltip.syncInteraction}var eve={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},X7=ls({name:"chartData",initialState:eve,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:lV,setDataStartEndIndexes:tve,setComputedData:jDe}=X7.actions,nve=X7.reducer,rve=["x","y"];function cV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cV(Object(n),!0).forEach(function(r){ive(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ive(t,e,n){return(e=sve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sve(t){var e=ave(t,"string");return typeof e=="symbol"?e:e+""}function ave(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ove(t,e){if(t==null)return{};var n,r,i=lve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Q7=()=>{};function cve(){var t=De(oM),e=De(lM),n=mr(),r=De(IH),i=De(al),s=M1(),a=PO(),l=De(u=>u.rootProps.className);_.useEffect(()=>{if(t==null)return Q7;var u=(f,d,p)=>{if(e!==p&&t===f){if(r==="index"){var g;if(a&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate){var v=d.payload.coordinate,{x,y:S}=v,E=ove(v,rve),A=_u(_u(_u({},E),typeof x=="number"&&{x:Math.max(a.x,Math.min(x,a.x+a.width))}),typeof S=="number"&&{y:Math.max(a.y,Math.min(S,a.y+a.height))}),C=_u(_u({},d),{},{payload:_u(_u({},d.payload),{},{coordinate:A})});n(C)}else n(d);return}if(i!=null){var D;if(typeof r=="function"){var L={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},j=r(i,L);D=i[j]}else r==="value"&&(D=i.find(U=>String(U.value)===d.payload.label));var{coordinate:B}=d.payload;if(D==null||d.payload.active===!1||B==null||a==null){n(Vk({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:M,y:N}=B,P=Math.min(M,a.x+a.width),F=Math.min(N,a.y+a.height),V={x:s==="horizontal"?D.coordinate:P,y:s==="horizontal"?F:D.coordinate},$=Vk({active:d.payload.active,coordinate:V,dataKey:d.payload.dataKey,index:String(D.index),label:d.payload.label});n($)}}};return og.on(Uk,u),()=>{og.off(Uk,u)}},[l,n,e,t,r,i,s,a])}function uve(){var t=De(oM),e=De(lM),n=mr();_.useEffect(()=>{if(t==null)return Q7;var r=(i,s,a)=>{e!==a&&t===i&&n(tve(s))};return og.on(oV,r),()=>{og.off(oV,r)}},[n,e,t])}function fve(){var t=mr();_.useEffect(()=>{t(J0e())},[t]),cve(),uve()}function dve(t,e,n,r,i,s){var a=De(g=>R0e(g,t,e)),l=De(lM),u=De(oM),f=De(IH),d=De(Z0e),p=d?.active;_.useEffect(()=>{if(!p&&u!=null&&l!=null){var g=Vk({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r});og.emit(Uk,u,g,l)}},[p,n,a,i,r,l,u,f,s])}function uV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uV(Object(n),!0).forEach(function(r){hve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hve(t,e,n){return(e=pve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pve(t){var e=mve(t,"string");return typeof e=="symbol"?e:e+""}function mve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gve(t){return t.dataKey}function yve(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement(Bde,e)}var dV=[],vve={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Cf.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function pA(t){var e=Ri(t,vve),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:a,filterNull:l,isAnimationActive:u,offset:f,payloadUniqBy:d,position:p,reverseDirection:g,useTranslate3d:v,wrapperStyle:x,cursor:S,shared:E,trigger:A,defaultIndex:C,portal:D,axisId:L}=e,j=mr(),B=typeof C=="number"?String(C):C;_.useEffect(()=>{j(zye({shared:E,trigger:A,axisId:L,active:n,defaultIndex:B}))},[j,E,A,L,n,B]);var M=PO(),N=_8(),P=jye(E),{activeIndex:F,isActive:V}=De(Se=>B0e(Se,P,A,B)),$=De(Se=>V0e(Se,P,A,B)),U=De(Se=>K7(Se,P,A,B)),pe=De(Se=>L0e(Se,P,A,B)),ve=$,G=K0e(),K=n??V,[ae,ge]=Hue([ve,K]),xe=P==="axis"?U:void 0;dve(P,A,pe,xe,F,K);var q=D??G;if(q==null)return null;var X=ve??dV;K||(X=dV),l&&X.length&&(X=vue(ve.filter(Se=>Se.value!=null&&(Se.hide!==!0||e.includeHidden)),d,gve));var me=X.length>0,we=_.createElement(Kde,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:u,active:K,coordinate:pe,hasPayload:me,offset:f,position:p,reverseDirection:g,useTranslate3d:v,viewBox:M,wrapperStyle:x,lastBoundingBox:ae,innerRef:ge,hasPortalFromProps:!!D},yve(a,fV(fV({},e),{},{payload:X,label:xe,active:K,coordinate:pe,accessibilityLayer:N})));return _.createElement(_.Fragment,null,m$.createPortal(we,q),K&&_.createElement(q0e,{cursor:S,tooltipEventType:P,coordinate:pe,payload:ve,index:F}))}var mA={},gA={},yA={},hV;function bve(){return hV||(hV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let a,l=null;const u=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),d=()=>{l!==null&&(n.apply(a,l),a=void 0,l=null)},p=()=>{f&&d(),S()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},x=()=>{g!==null&&(clearTimeout(g),g=null)},S=()=>{x(),a=void 0,l=null},E=()=>{d()},A=function(...C){if(i?.aborted)return;a=this,l=C;const D=g==null;v(),u&&D&&d()};return A.schedule=v,A.cancel=S,A.flush=E,i?.addEventListener("abort",S,{once:!0}),A}t.debounce=e})(yA)),yA}var pV;function xve(){return pV||(pV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bve();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:u}=s,f=Array(2);a&&(f[0]="leading"),l&&(f[1]="trailing");let d,p=null;const g=e.debounce(function(...S){d=r.apply(this,S),p=null},i,{edges:f}),v=function(...S){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(d=r.apply(this,S),p=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,S),d)},x=()=>(g.flush(),d);return v.cancel=g.cancel,v.flush=x,v}t.debounce=n})(gA)),gA}var mV;function wve(){return mV||(mV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xve();function n(r,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:l})}t.throttle=n})(mA)),mA}var vA,gV;function Sve(){return gV||(gV=1,vA=wve().throttle),vA}var Tve=Sve();const Eve=Sa(Tve);var wm=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function yV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yV(Object(n),!0).forEach(function(r){Ave(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ave(t,e,n){return(e=_ve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ve(t){var e=kve(t,"string");return typeof e=="symbol"?e:e+""}function kve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xA=_.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:l,maxHeight:u,children:f,debounce:d=0,id:p,className:g,onResize:v,style:x={}}=t,S=_.useRef(null),E=_.useRef();E.current=v,_.useImperativeHandle(e,()=>S.current);var[A,C]=_.useState({containerWidth:r.width,containerHeight:r.height}),D=_.useCallback((j,B)=>{C(M=>{var N=Math.round(j),P=Math.round(B);return M.containerWidth===N&&M.containerHeight===P?M:{containerWidth:N,containerHeight:P}})},[]);_.useEffect(()=>{var j=P=>{var F,{width:V,height:$}=P[0].contentRect;D(V,$),(F=E.current)===null||F===void 0||F.call(E,V,$)};d>0&&(j=Eve(j,d,{trailing:!0,leading:!1}));var B=new ResizeObserver(j),{width:M,height:N}=S.current.getBoundingClientRect();return D(M,N),B.observe(S.current),()=>{B.disconnect()}},[D,d]);var L=_.useMemo(()=>{var{containerWidth:j,containerHeight:B}=A;if(j<0||B<0)return null;wm(Lu(i)||Lu(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),wm(!n||n>0,"The aspect(%s) must be greater than zero.",n);var M=Lu(i)?j:i,N=Lu(s)?B:s;return n&&n>0&&(M?N=M/n:N&&(M=N*n),u&&N>u&&(N=u)),wm(M>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,N,i,s,a,l,n),_.Children.map(f,P=>_.cloneElement(P,{width:M,height:N,style:bA({width:M,height:N},P.props.style)}))},[n,f,s,u,l,a,A,i]);return _.createElement("div",{id:p?"".concat(p):void 0,className:yt("recharts-responsive-container",g),style:bA(bA({},x),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:u}),ref:S},_.createElement("div",{style:{width:0,height:0,overflow:"visible"}},L))}),J7=t=>null;J7.displayName="Cell";function Cve(t,e,n){return(e=Ove(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ove(t){var e=Mve(t,"string");return typeof e=="symbol"?e:e+""}function Mve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Nve{constructor(e){Cve(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function vV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vV(Object(n),!0).forEach(function(r){Ive(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ive(t,e,n){return(e=Pve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pve(t){var e=jve(t,"string");return typeof e=="symbol"?e:e+""}function jve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rve={cacheSize:2e3,enableCache:!0},Z7=Dve({},Rve),bV=new Nve(Z7.cacheSize),Lve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xV="recharts_measurement_span";function Vve(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var wV=(t,e)=>{try{var n=document.getElementById(xV);n||(n=document.createElement("span"),n.setAttribute("id",xV),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Lve,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Sm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Cf.isSsr)return{width:0,height:0};if(!Z7.enableCache)return wV(e,n);var r=Vve(e,n),i=bV.get(r);if(i)return i;var s=wV(e,n);return bV.set(r,s),s},SV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bve=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zve=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Uve=Object.keys(eq),Ld="NaN";function Fve(t,e){return t*eq[e]}class _i{static parse(e){var n,[,r,i]=(n=zve.exec(e))!==null&&n!==void 0?n:[];return new _i(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,rs(e)&&(this.unit=""),n!==""&&!Bve.test(n)&&(this.num=NaN,this.unit=""),Uve.includes(n)&&(this.num=Fve(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new _i(NaN,""):new _i(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new _i(NaN,""):new _i(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new _i(NaN,""):new _i(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new _i(NaN,""):new _i(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return rs(this.num)}}function tq(t){if(t.includes(Ld))return Ld;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=SV.exec(e))!==null&&n!==void 0?n:[],a=_i.parse(r??""),l=_i.parse(s??""),u=i==="*"?a.multiply(l):a.divide(l);if(u.isNaN())return Ld;e=e.replace(SV,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,d,p,g]=(f=TV.exec(e))!==null&&f!==void 0?f:[],v=_i.parse(d??""),x=_i.parse(g??""),S=p==="+"?v.add(x):v.subtract(x);if(S.isNaN())return Ld;e=e.replace(TV,S.toString())}return e}var EV=/\(([^()]*)\)/;function $ve(t){for(var e=t,n;(n=EV.exec(e))!=null;){var[,r]=n;e=e.replace(EV,tq(r))}return e}function Hve(t){var e=t.replace(/\s+/g,"");return e=$ve(e),e=tq(e),e}function qve(t){try{return Hve(t)}catch{return Ld}}function wA(t){var e=qve(t.slice(5,-1));return e===Ld?"":e}var Kve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Wve=["dx","dy","angle","className","breakAll"];function Fk(){return Fk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fk.apply(null,arguments)}function AV(t,e){if(t==null)return{};var n,r,i=Gve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nq=/[ \f\n\r\t\v\u2028\u2029]+/,rq=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];dn(e)||(n?i=e.toString().split(""):i=e.toString().split(nq));var s=i.map(l=>({word:l,width:Sm(l,r).width})),a=n?0:Sm("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Yve=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:l,breakAll:u}=t,f=Ve(s),d=a,p=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(($,U)=>{var{word:pe,width:ve}=U,G=$[$.length-1];if(G&&(r==null||i||G.width+ve+n<Number(r)))G.words.push(pe),G.width+=ve+n;else{var K={words:[pe],width:ve};$.push(K)}return $},[])},g=p(e),v=F=>F.reduce((V,$)=>V.width>$.width?V:$);if(!f||i)return g;var x=g.length>s||v(g).width>Number(r);if(!x)return g;for(var S="",E=F=>{var V=d.slice(0,F),$=rq({breakAll:u,style:l,children:V+S}).wordsWithComputedWidth,U=p($),pe=U.length>s||v(U).width>Number(r);return[pe,U]},A=0,C=d.length-1,D=0,L;A<=C&&D<=d.length-1;){var j=Math.floor((A+C)/2),B=j-1,[M,N]=E(B),[P]=E(j);if(!M&&!P&&(A=j+1),M&&P&&(C=j-1),!M&&P){L=N;break}D++}return L||g},_V=t=>{var e=dn(t)?[]:t.toString().split(nq);return[{words:e}]},Xve=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!Cf.isSsr){var l,u,f=rq({breakAll:s,children:r,style:i});if(f){var{wordsWithComputedWidth:d,spaceWidth:p}=f;l=d,u=p}else return _V(r);return Yve({breakAll:s,children:r,maxLines:a,style:i},l,u,e,n)}return _V(r)},kV="#808080",MM=_.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:l="start",verticalAnchor:u="end",fill:f=kV}=t,d=AV(t,Kve),p=_.useMemo(()=>Xve({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:g,dy:v,angle:x,className:S,breakAll:E}=d,A=AV(d,Wve);if(!eo(n)||!eo(r)||p.length===0)return null;var C=n+(Ve(g)?g:0),D=r+(Ve(v)?v:0),L;switch(u){case"start":L=wA("calc(".concat(s,")"));break;case"middle":L=wA("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:L=wA("calc(".concat(p.length-1," * -").concat(i,")"));break}var j=[];if(a){var B=p[0].width,{width:M}=d;j.push("scale(".concat(Ve(M)?M/B:1,")"))}return x&&j.push("rotate(".concat(x,", ").concat(C,", ").concat(D,")")),j.length&&(A.transform=j.join(" ")),_.createElement("text",Fk({},jn(A,!0),{ref:e,x:C,y:D,className:yt("recharts-text",S),textAnchor:l,fill:f.includes("url")?kV:f}),p.map((N,P)=>{var F=N.words.join(E?"":" ");return _.createElement("tspan",{x:C,dy:P===0?L:i,key:"".concat(F,"-").concat(P)},F)}))});MM.displayName="Text";var Qve=["labelRef"];function Jve(t,e){if(t==null)return{};var n,r,i=Zve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function CV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CV(Object(n),!0).forEach(function(r){ebe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ebe(t,e,n){return(e=tbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tbe(t){var e=nbe(t,"string");return typeof e=="symbol"?e:e+""}function nbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Do(){return Do=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Do.apply(null,arguments)}var iq=_.createContext(null),rbe=t=>{var{x:e,y:n,width:r,height:i,children:s}=t,a=_.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return _.createElement(iq.Provider,{value:a},s)},sq=()=>{var t=_.useContext(iq),e=PO();return t||e},ibe=_.createContext(null),sbe=()=>{var t=_.useContext(ibe),e=De(VH);return t||e},abe=t=>{var{value:e,formatter:n}=t,r=dn(t.children)?e:t.children;return typeof n=="function"?n(r):r},NM=t=>t!=null&&typeof t=="function",obe=(t,e)=>{var n=Ni(e-t),r=Math.min(Math.abs(e-t),360);return n*r},lbe=(t,e,n,r,i)=>{var{offset:s,className:a}=t,{cx:l,cy:u,innerRadius:f,outerRadius:d,startAngle:p,endAngle:g,clockWise:v}=i,x=(f+d)/2,S=obe(p,g),E=S>=0?1:-1,A,C;switch(e){case"insideStart":A=p+E*s,C=v;break;case"insideEnd":A=g-E*s,C=!v;break;case"end":A=g+E*s,C=v;break;default:throw new Error("Unsupported position ".concat(e))}C=S<=0?C:!C;var D=Rr(l,u,x,A),L=Rr(l,u,x,A+(C?1:-1)*359),j="M".concat(D.x,",").concat(D.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(C?0:1,`,
    `).concat(L.x,",").concat(L.y),B=dn(t.id)?Qm("recharts-radial-line-"):t.id;return _.createElement("text",Do({},r,{dominantBaseline:"central",className:yt("recharts-radial-bar-label",a)}),_.createElement("defs",null,_.createElement("path",{id:B,d:j})),_.createElement("textPath",{xlinkHref:"#".concat(B)},n))},cbe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:u}=t,f=(l+u)/2;if(n==="outside"){var{x:d,y:p}=Rr(r,i,a+e,f);return{x:d,y:p,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:v,y:x}=Rr(r,i,g,f);return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},aq=t=>"cx"in t&&Ve(t.cx),ube=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!aq(n)&&(s=n);var{x:a,y:l,width:u,height:f}=e,d=f>=0?1:-1,p=d*r,g=d>0?"end":"start",v=d>0?"start":"end",x=u>=0?1:-1,S=x*r,E=x>0?"end":"start",A=x>0?"start":"end";if(i==="top"){var C={x:a+u/2,y:l-d*r,textAnchor:"middle",verticalAnchor:g};return Dn(Dn({},C),s?{height:Math.max(l-s.y,0),width:u}:{})}if(i==="bottom"){var D={x:a+u/2,y:l+f+p,textAnchor:"middle",verticalAnchor:v};return Dn(Dn({},D),s?{height:Math.max(s.y+s.height-(l+f),0),width:u}:{})}if(i==="left"){var L={x:a-S,y:l+f/2,textAnchor:E,verticalAnchor:"middle"};return Dn(Dn({},L),s?{width:Math.max(L.x-s.x,0),height:f}:{})}if(i==="right"){var j={x:a+u+S,y:l+f/2,textAnchor:A,verticalAnchor:"middle"};return Dn(Dn({},j),s?{width:Math.max(s.x+s.width-j.x,0),height:f}:{})}var B=s?{width:u,height:f}:{};return i==="insideLeft"?Dn({x:a+S,y:l+f/2,textAnchor:A,verticalAnchor:"middle"},B):i==="insideRight"?Dn({x:a+u-S,y:l+f/2,textAnchor:E,verticalAnchor:"middle"},B):i==="insideTop"?Dn({x:a+u/2,y:l+p,textAnchor:"middle",verticalAnchor:v},B):i==="insideBottom"?Dn({x:a+u/2,y:l+f-p,textAnchor:"middle",verticalAnchor:g},B):i==="insideTopLeft"?Dn({x:a+S,y:l+p,textAnchor:A,verticalAnchor:v},B):i==="insideTopRight"?Dn({x:a+u-S,y:l+p,textAnchor:E,verticalAnchor:v},B):i==="insideBottomLeft"?Dn({x:a+S,y:l+f-p,textAnchor:A,verticalAnchor:g},B):i==="insideBottomRight"?Dn({x:a+u-S,y:l+f-p,textAnchor:E,verticalAnchor:g},B):i&&typeof i=="object"&&(Ve(i.x)||Lu(i.x))&&(Ve(i.y)||Lu(i.y))?Dn({x:a+xa(i.x,u),y:l+xa(i.y,f),textAnchor:"end",verticalAnchor:"end"},B):Dn({x:a+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},B)},fbe={offset:5};function Gl(t){var e=Ri(t,fbe),{viewBox:n,position:r,value:i,children:s,content:a,className:l="",textBreakAll:u,labelRef:f}=e,d=sbe(),p=sq(),g=r==="center"?p:d??p,v=n||g;if(!v||dn(i)&&dn(s)&&!_.isValidElement(a)&&typeof a!="function")return null;var x=Dn(Dn({},e),{},{viewBox:v});if(_.isValidElement(a)){var{labelRef:S}=x,E=Jve(x,Qve);return _.cloneElement(a,E)}var A;if(typeof a=="function"){if(A=_.createElement(a,x),_.isValidElement(A))return A}else A=abe(e);var C=aq(v),D=jn(e,!0);if(C&&(r==="insideStart"||r==="insideEnd"||r==="end"))return lbe(e,r,A,D,v);var L=C?cbe(v,e.offset,e.position):ube(e,v);return _.createElement(MM,Do({ref:f,className:yt("recharts-label",l)},D,L,{breakAll:u}),A)}Gl.displayName="Label";var dbe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?_.createElement(Gl,Do({key:"label-implicit"},r)):eo(t)?_.createElement(Gl,Do({key:"label-implicit",value:t},r)):_.isValidElement(t)?t.type===Gl?_.cloneElement(t,Dn({key:"label-implicit"},r)):_.createElement(Gl,Do({key:"label-implicit",content:t},r)):NM(t)?_.createElement(Gl,Do({key:"label-implicit",content:t},r)):t&&typeof t=="object"?_.createElement(Gl,Do({},t,{key:"label-implicit"},r)):null};function hbe(t){var{label:e}=t,n=sq();return dbe(e,n)||null}var SA={},TA={},OV;function pbe(){return OV||(OV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(TA)),TA}var EA={},MV;function mbe(){return MV||(MV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(EA)),EA}var NV;function gbe(){return NV||(NV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pbe(),n=mbe(),r=AO();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(SA)),SA}var AA,DV;function ybe(){return DV||(DV=1,AA=gbe().last),AA}var vbe=ybe();const bbe=Sa(vbe);var xbe=["valueAccessor"],wbe=["dataKey","clockWise","id","textBreakAll"];function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hb.apply(null,arguments)}function IV(t,e){if(t==null)return{};var n,r,i=Sbe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tbe=t=>Array.isArray(t.value)?bbe(t.value):t.value,oq=_.createContext(void 0),lq=oq.Provider,cq=_.createContext(void 0);cq.Provider;function Ebe(){return _.useContext(oq)}function Abe(){return _.useContext(cq)}function Iv(t){var{valueAccessor:e=Tbe}=t,n=IV(t,xbe),{dataKey:r,clockWise:i,id:s,textBreakAll:a}=n,l=IV(n,wbe),u=Ebe(),f=Abe(),d=u||f;return!d||!d.length?null:_.createElement(wa,{className:"recharts-label-list"},d.map((p,g)=>{var v,x=dn(r)?e(p,g):dr(p&&p.payload,r),S=dn(s)?{}:{id:"".concat(s,"-").concat(g)};return _.createElement(Gl,Hb({},jn(p,!0),l,S,{fill:(v=n.fill)!==null&&v!==void 0?v:p.fill,parentViewBox:p.parentViewBox,value:x,textBreakAll:a,viewBox:p.viewBox,key:"label-".concat(g),index:g}))}))}Iv.displayName="LabelList";function uq(t){var{label:e}=t;return e?e===!0?_.createElement(Iv,{key:"labelList-implicit"}):_.isValidElement(e)||NM(e)?_.createElement(Iv,{key:"labelList-implicit",content:e}):typeof e=="object"?_.createElement(Iv,Hb({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function $k(){return $k=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$k.apply(null,arguments)}var fq=t=>{var{cx:e,cy:n,r,className:i}=t,s=yt("recharts-dot",i);return e===+e&&n===+n&&r===+r?_.createElement("circle",$k({},Fc(t),xO(t),{className:s,cx:e,cy:n,r})):null},_be={radiusAxis:{},angleAxis:{}},dq=ls({name:"polarAxis",initialState:_be,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:RDe,removeRadiusAxis:LDe,addAngleAxis:VDe,removeAngleAxis:BDe}=dq.actions,kbe=dq.reducer,_A={},PV;function Cbe(){return PV||(PV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(_A)),_A}var kA,jV;function Obe(){return jV||(jV=1,kA=Cbe().isPlainObject),kA}var Mbe=Obe();const Nbe=Sa(Mbe);function RV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RV(Object(n),!0).forEach(function(r){Dbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dbe(t,e,n){return(e=Ibe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ibe(t){var e=Pbe(t,"string");return typeof e=="symbol"?e:e+""}function Pbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qb.apply(null,arguments)}var VV=(t,e,n,r,i)=>{var s=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-s/2,",").concat(e+i),a+="L ".concat(t+n-s/2-r,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},jbe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rbe=t=>{var e=Ri(t,jbe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:l}=e,{animationEasing:u,animationDuration:f,animationBegin:d,isUpdateAnimationActive:p}=e,g=_.useRef(),[v,x]=_.useState(-1),S=_.useRef(i),E=_.useRef(s),A=_.useRef(a),C=_.useRef(n),D=_.useRef(r),L=D1(t,"trapezoid-");if(_.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var pe=g.current.getTotalLength();pe&&x(pe)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var j=yt("recharts-trapezoid",l);if(!p)return _.createElement("g",null,_.createElement("path",qb({},jn(e,!0),{className:j,d:VV(n,r,i,s,a)})));var B=S.current,M=E.current,N=A.current,P=C.current,F=D.current,V="0px ".concat(v===-1?1:v,"px"),$="".concat(v,"px 0px"),U=C8(["strokeDasharray"],f,u);return _.createElement(N1,{animationId:L,key:L,canBegin:v>0,duration:f,easing:u,isActive:p,begin:d},pe=>{var ve=Fn(B,i,pe),G=Fn(M,s,pe),K=Fn(N,a,pe),ae=Fn(P,n,pe),ge=Fn(F,r,pe);g.current&&(S.current=ve,E.current=G,A.current=K,C.current=ae,D.current=ge);var xe=pe>0?{transition:U,strokeDasharray:$}:{strokeDasharray:V};return _.createElement("path",qb({},jn(e,!0),{className:j,d:VV(ae,ge,ve,G,K),ref:g,style:LV(LV({},xe),e.style)}))})},Lbe=["option","shapeType","propTransformer","activeClassName","isActive"];function Vbe(t,e){if(t==null)return{};var n,r,i=Bbe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function BV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BV(Object(n),!0).forEach(function(r){zbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zbe(t,e,n){return(e=Ube(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ube(t){var e=Fbe(t,"string");return typeof e=="symbol"?e:e+""}function Fbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $be(t,e){return Kb(Kb({},e),t)}function Hbe(t,e){return t==="symbols"}function zV(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return _.createElement(D8,n);case"trapezoid":return _.createElement(Rbe,n);case"sector":return _.createElement(j8,n);case"symbols":if(Hbe(e))return _.createElement(I$,n);break;default:return null}}function qbe(t){return _.isValidElement(t)?t.props:t}function Kbe(t){var{option:e,shapeType:n,propTransformer:r=$be,activeClassName:i="recharts-active-shape",isActive:s}=t,a=Vbe(t,Lbe),l;if(_.isValidElement(e))l=_.cloneElement(e,Kb(Kb({},a),qbe(e)));else if(typeof e=="function")l=e(a);else if(Nbe(e)&&typeof e!="boolean"){var u=r(e,a);l=_.createElement(zV,{shapeType:n,elementProps:u})}else{var f=a;l=_.createElement(zV,{shapeType:n,elementProps:f})}return s?_.createElement(wa,{className:i},l):l}var hq=(t,e)=>{var n=mr();return(r,i)=>s=>{t?.(r,i,s),n(C7({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},pq=t=>{var e=mr();return(n,r)=>i=>{t?.(n,r,i),e(Uye())}},mq=(t,e)=>{var n=mr();return(r,i)=>s=>{t?.(r,i,s),n(Fye({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function gq(t){var{fn:e,args:n}=t,r=mr(),i=ji();return _.useEffect(()=>{if(!i){var s=e(n);return r(Vye(s)),()=>{r(Bye(s))}}},[e,n,r,i]),null}var Wbe=()=>{};function yq(t){var{legendPayload:e}=t,n=mr(),r=ji();return _.useEffect(()=>r?Wbe:(n(Dde(e)),()=>{n(Ide(e))}),[n,r,e]),null}var CA,Gbe=()=>{var[t]=_.useState(()=>Qm("uid-"));return t},Ybe=(CA=FX.useId)!==null&&CA!==void 0?CA:Gbe;function Xbe(t,e){var n=Ybe();return e||(t?"".concat(t,"-").concat(n):n)}var Qbe=_.createContext(void 0),vq=t=>{var{id:e,type:n,children:r}=t,i=Xbe("recharts-".concat(n),e);return _.createElement(Qbe.Provider,{value:i},r(i))},Jbe={cartesianItems:[],polarItems:[]},bq=ls({name:"graphicalItems",initialState:Jbe,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Vo(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Vo(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Vo(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Zbe,replaceCartesianGraphicalItem:exe,removeCartesianGraphicalItem:txe,addPolarGraphicalItem:zDe,removePolarGraphicalItem:UDe}=bq.actions,nxe=bq.reducer;function xq(t){var e=mr(),n=_.useRef(null);return _.useEffect(()=>{n.current===null?e(Zbe(t)):n.current!==t&&e(exe({prev:n.current,next:t})),n.current=t},[e,t]),_.useEffect(()=>()=>{n.current&&(e(txe(n.current)),n.current=null)},[e]),null}function UV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UV(Object(n),!0).forEach(function(r){rxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rxe(t,e,n){return(e=ixe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ixe(t){var e=sxe(t,"string");return typeof e=="symbol"?e:e+""}function sxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var axe={xAxis:{},yAxis:{},zAxis:{}},wq=ls({name:"cartesianAxis",initialState:axe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=FV(FV({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:oxe,removeXAxis:lxe,addYAxis:cxe,removeYAxis:uxe,addZAxis:FDe,removeZAxis:$De,updateYAxisWidth:fxe}=wq.actions,dxe=wq.reducer,hxe=ie([gr],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),pxe=ie([hxe,tl,nl],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),DM=()=>De(pxe),mxe=()=>De(C0e);function $V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$V(Object(n),!0).forEach(function(r){gxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$V(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gxe(t,e,n){return(e=yxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yxe(t){var e=vxe(t,"string");return typeof e=="symbol"?e:e+""}function vxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bxe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var a=HV(HV({index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},jn(i,!1)),xO(i)),l;return _.isValidElement(i)?l=_.cloneElement(i,a):typeof i=="function"?l=i(a):l=_.createElement(fq,a),_.createElement(wa,{className:"recharts-active-dot"},l)};function xxe(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,s=De(mf),a=mxe();if(e==null||a==null)return null;var l=e.find(u=>a.includes(u.payload));return dn(l)?null:bxe({point:l,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r})}var wxe="Invariant failed";function Sxe(t,e){throw new Error(wxe)}var Txe=["x","y"];function Hk(){return Hk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hk.apply(null,arguments)}function qV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qV(Object(n),!0).forEach(function(r){Exe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Exe(t,e,n){return(e=Axe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Axe(t){var e=_xe(t,"string");return typeof e=="symbol"?e:e+""}function _xe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kxe(t,e){if(t==null)return{};var n,r,i=Cxe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Oxe(t,e){var{x:n,y:r}=t,i=kxe(t,Txe),s="".concat(n),a=parseInt(s,10),l="".concat(r),u=parseInt(l,10),f="".concat(e.height||i.height),d=parseInt(f,10),p="".concat(e.width||i.width),g=parseInt(p,10);return Wp(Wp(Wp(Wp(Wp({},e),i),a?{x:a}:{}),u?{y:u}:{}),{},{height:d,width:g,name:e.name,radius:e.radius})}function IM(t){return _.createElement(Kbe,Hk({shapeType:"rectangle",propTransformer:Oxe,activeClassName:"recharts-active-bar"},t))}var Mxe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ve(e))return e;var s=Ve(r)||dn(r);return s?e(r,i):(s||Sxe(),n)}},Nxe={},Sq=ls({name:"errorBars",initialState:Nxe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:HDe,replaceErrorBar:qDe,removeErrorBar:KDe}=Sq.actions,Dxe=Sq.reducer,Ixe=["children"];function Pxe(t,e){if(t==null)return{};var n,r,i=jxe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rxe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Lxe=_.createContext(Rxe);function Tq(t){var{children:e}=t,n=Pxe(t,Ixe);return _.createElement(Lxe.Provider,{value:n},e)}function PM(t,e){var n,r,i=De(f=>il(f,t)),s=De(f=>sl(f,e)),a=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Gi.allowDataOverflow,l=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Yi.allowDataOverflow,u=a||l;return{needClip:u,needClipX:a,needClipY:l}}function Eq(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=DM(),{needClipX:s,needClipY:a,needClip:l}=PM(e,n);if(!l)return null;var{x:u,y:f,width:d,height:p}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:s?u:u-d/2,y:a?f:f-p/2,width:s?d:d*2,height:a?p:p*2}))}var Vxe=["onMouseEnter","onMouseLeave","onClick"],Bxe=["value","background","tooltipPosition"],zxe=["id"],Uxe=["onMouseEnter","onClick","onMouseLeave"];function Ic(){return Ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ic.apply(null,arguments)}function KV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KV(Object(n),!0).forEach(function(r){Fxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fxe(t,e,n){return(e=$xe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $xe(t){var e=Hxe(t,"string");return typeof e=="symbol"?e:e+""}function Hxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wb(t,e){if(t==null)return{};var n,r,i=qxe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Kxe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:A1(n,e),payload:t}]};function Wxe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:a,unit:l}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:A1(s,e),hide:a,type:t.tooltipType,color:t.fill,unit:l}}}function Gxe(t){var e=De(mf),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:l,onClick:u}=s,f=Wb(s,Vxe),d=hq(a,r),p=pq(l),g=mq(u,r);if(!i||n==null)return null;var v=jn(i,!1);return _.createElement(_.Fragment,null,n.map((x,S)=>{var{value:E,background:A,tooltipPosition:C}=x,D=Wb(x,Bxe);if(!A)return null;var L=d(x,S),j=p(x,S),B=g(x,S),M=si(si(si(si(si({option:i,isActive:String(S)===e},D),{},{fill:"#eee"},A),v),wO(f,x,S)),{},{onMouseEnter:L,onMouseLeave:j,onClick:B,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return _.createElement(IM,Ic({key:"background-bar-".concat(M.index)},M))}))}function Yxe(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var a={x:s.x,y:s.y,width:s.width,height:s.height};return si(si({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return _.createElement(lq,{value:e?i:void 0},n)}function Xxe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:a}=t,l=De(mf),u=De(U7),f=n&&String(s)===l&&(u==null||a===u),d=f?n:e;return _.createElement(IM,Ic({},r,i,{isActive:f,option:d,index:s,dataKey:a}))}function Qxe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return _.createElement(IM,Ic({},n,r,{isActive:!1,option:e,index:i,dataKey:s}))}function Jxe(t){var{data:e,props:n}=t,r=Fc(n),{id:i}=r,s=Wb(r,zxe),{shape:a,dataKey:l,activeBar:u}=n,{onMouseEnter:f,onClick:d,onMouseLeave:p}=n,g=Wb(n,Uxe),v=hq(f,l),x=pq(p),S=mq(d,l);return e?_.createElement(_.Fragment,null,e.map((E,A)=>_.createElement(wa,Ic({className:"recharts-bar-rectangle"},wO(g,E,A),{onMouseEnter:v(E,A),onMouseLeave:x(E,A),onClick:S(E,A),key:"rectangle-".concat(E?.x,"-").concat(E?.y,"-").concat(E?.value,"-").concat(A)}),u?_.createElement(Xxe,{shape:a,activeBar:u,baseProps:s,entry:E,index:A,dataKey:l}):_.createElement(Qxe,{shape:a,baseProps:s,entry:E,index:A,dataKey:l})))):null}function Zxe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:u,onAnimationEnd:f,onAnimationStart:d}=e,p=n.current,g=D1(e,"recharts-bar-"),[v,x]=_.useState(!1),S=!v,E=_.useCallback(()=>{typeof f=="function"&&f(),x(!1)},[f]),A=_.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return _.createElement(Yxe,{showLabels:S,rects:r},_.createElement(N1,{animationId:g,begin:a,duration:l,isActive:s,easing:u,onAnimationEnd:E,onAnimationStart:A,key:g},C=>{var D=C===1?r:r?.map((L,j)=>{var B=p&&p[j];if(B)return si(si({},L),{},{x:Fn(B.x,L.x,C),y:Fn(B.y,L.y,C),width:Fn(B.width,L.width,C),height:Fn(B.height,L.height,C)});if(i==="horizontal"){var M=Fn(0,L.height,C);return si(si({},L),{},{y:L.y+L.height-M,height:M})}var N=Fn(0,L.width,C);return si(si({},L),{},{width:N})});return C>0&&(n.current=D??null),D==null?null:_.createElement(wa,null,_.createElement(Jxe,{props:e,data:D}))}),_.createElement(uq,{label:e.label}),e.children)}function e1e(t){var e=_.useRef(null);return _.createElement(Zxe,{previousRectanglesRef:e,props:t})}var Aq=0,t1e=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:dr(t,e)}};class n1e extends _.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:a,needClip:l,background:u,id:f}=this.props;if(e||n==null)return null;var d=yt("recharts-bar",i),p=f;return _.createElement(wa,{className:d,id:f},l&&_.createElement("defs",null,_.createElement(Eq,{clipPathId:p,xAxisId:s,yAxisId:a})),_.createElement(wa,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(p,")"):void 0},_.createElement(Gxe,{data:n,dataKey:r,background:u,allOtherBarProps:this.props}),_.createElement(e1e,this.props)))}}var r1e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Cf.isSsr,legendType:"rect",minPointSize:Aq,xAxisId:0,yAxisId:0};function i1e(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:d}=t,{needClip:p}=PM(e,n),g=M1(),v=ji(),x=ece(t.children,J7),S=De(C=>D1e(C,e,n,v,t.id,x));if(g!=="vertical"&&g!=="horizontal")return null;var E,A=S?.[0];return A==null||A.height==null||A.width==null?E=0:E=g==="vertical"?A.height/2:A.width/2,_.createElement(Tq,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:t1e,errorBarOffset:E},_.createElement(n1e,Ic({},t,{layout:g,needClip:p,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:d})))}function s1e(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:u,yAxisTicks:f,stackedData:d,displayedData:p,offset:g,cells:v,parentViewBox:x}=t,S=e==="horizontal"?l:a,E=d?S.scale.domain():null,A=ude({numericAxis:S});return p.map((C,D)=>{var L,j,B,M,N,P;d?L=ide(d[D],E):(L=dr(C,n),Array.isArray(L)||(L=[A,L]));var F=Mxe(r,Aq)(L[1],D);if(e==="horizontal"){var V,[$,U]=[l.scale(L[0]),l.scale(L[1])];j=LL({axis:a,ticks:u,bandSize:s,offset:i.offset,entry:C,index:D}),B=(V=U??$)!==null&&V!==void 0?V:void 0,M=i.size;var pe=$-U;if(N=rs(pe)?0:pe,P={x:j,y:g.top,width:M,height:g.height},Math.abs(F)>0&&Math.abs(N)<Math.abs(F)){var ve=Ni(N||F)*(Math.abs(F)-Math.abs(N));B-=ve,N+=ve}}else{var[G,K]=[a.scale(L[0]),a.scale(L[1])];if(j=G,B=LL({axis:l,ticks:f,bandSize:s,offset:i.offset,entry:C,index:D}),M=K-G,N=i.size,P={x:g.left,y:B,width:g.width,height:N},Math.abs(F)>0&&Math.abs(M)<Math.abs(F)){var ae=Ni(M||F)*(Math.abs(F)-Math.abs(M));M+=ae}}if(j==null||B==null||M==null||N==null)return null;var ge=si(si({},C),{},{x:j,y:B,width:M,height:N,value:d?L:L[1],payload:C,background:P,tooltipPosition:{x:j+M/2,y:B+N/2},parentViewBox:x},v&&v[D]&&v[D].props);return ge}).filter(Boolean)}function a1e(t){var e=Ri(t,r1e),n=ji();return _.createElement(vq,{id:e.id,type:"bar"},r=>_.createElement(_.Fragment,null,_.createElement(yq,{legendPayload:Kxe(e)}),_.createElement(gq,{fn:Wxe,args:e}),_.createElement(xq,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:cde(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),_.createElement(i1e,Ic({},e,{id:r}))))}var Pv=_.memo(a1e);Pv.displayName="Bar";function WV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WV(Object(n),!0).forEach(function(r){o1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o1e(t,e,n){return(e=l1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l1e(t){var e=c1e(t,"string");return typeof e=="symbol"?e:e+""}function c1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u1e=(t,e)=>e,f1e=(t,e,n)=>n,d1e=(t,e,n,r)=>r,h1e=(t,e,n,r,i)=>i,ty=ie([K1,h1e],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),p1e=ie([ty],t=>t?.maxBarSize),m1e=(t,e,n,r,i,s)=>s,GV=(t,e,n)=>{var r=n??t;if(!dn(r))return xa(r,e,0)},g1e=ie([St,K1,u1e,f1e,d1e],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),y1e=(t,e,n,r)=>{var i=St(t);return i==="horizontal"?Lk(t,"yAxis",n,r):Lk(t,"xAxis",e,r)},v1e=(t,e,n)=>{var r=St(t);return r==="horizontal"?J3(t,"xAxis",e):J3(t,"yAxis",n)},b1e=(t,e,n)=>{var r={},i=t.filter(q1),s=t.filter(f=>f.stackId==null),a=i.reduce((f,d)=>(f[d.stackId]||(f[d.stackId]=[]),f[d.stackId].push(d),f),r),l=Object.entries(a).map(f=>{var[d,p]=f,g=p.map(x=>x.dataKey),v=GV(e,n,p[0].barSize);return{stackId:d,dataKeys:g,barSize:v}}),u=s.map(f=>{var d=[f.dataKey].filter(g=>g!=null),p=GV(e,n,f.barSize);return{stackId:void 0,dataKeys:d,barSize:p}});return[...l,...u]},x1e=ie([g1e,Rge,v1e],b1e),w1e=(t,e,n,r,i)=>{var s,a,l=ty(t,e,n,r,i);if(l!=null){var u=St(t),f=NH(t),{maxBarSize:d}=l,p=dn(d)?f:d,g,v;return u==="horizontal"?(g=Dc(t,"xAxis",e,r),v=Nc(t,"xAxis",e,r)):(g=Dc(t,"yAxis",n,r),v=Nc(t,"yAxis",n,r)),(s=(a=eg(g,v,!0))!==null&&a!==void 0?a:p)!==null&&s!==void 0?s:0}},_q=(t,e,n,r)=>{var i=St(t),s,a;return i==="horizontal"?(s=Dc(t,"xAxis",e,r),a=Nc(t,"xAxis",e,r)):(s=Dc(t,"yAxis",n,r),a=Nc(t,"yAxis",n,r)),eg(s,a)};function S1e(t,e,n,r,i){var s=r.length;if(!(s<1)){var a=xa(t,n,0,!0),l,u=[];if(ss(r[0].barSize)){var f=!1,d=n/s,p=r.reduce((A,C)=>A+(C.barSize||0),0);p+=(s-1)*a,p>=n&&(p-=(s-1)*a,a=0),p>=n&&d>0&&(f=!0,d*=.9,p=s*d);var g=(n-p)/2>>0,v={offset:g-a,size:0};l=r.reduce((A,C)=>{var D,L={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:v.offset+v.size+a,size:f?d:(D=C.barSize)!==null&&D!==void 0?D:0}},j=[...A,L];return v=j[j.length-1].position,j},u)}else{var x=xa(e,n,0,!0);n-2*x-(s-1)*a<=0&&(a=0);var S=(n-2*x-(s-1)*a)/s;S>1&&(S>>=0);var E=ss(i)?Math.min(S,i):S;l=r.reduce((A,C,D)=>[...A,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:x+(S+a)*D+(S-E)/2,size:E}}],u)}return l}}var T1e=(t,e,n,r,i,s,a)=>{var l=dn(a)?e:a,u=S1e(n,r,i!==s?i:s,t,l);return i!==s&&u!=null&&(u=u.map(f=>rv(rv({},f),{},{position:rv(rv({},f.position),{},{offset:f.position.offset-i/2})}))),u},E1e=ie([x1e,NH,jge,DH,w1e,_q,p1e],T1e),A1e=(t,e,n,r)=>Dc(t,"xAxis",e,r),_1e=(t,e,n,r)=>Dc(t,"yAxis",n,r),k1e=(t,e,n,r)=>Nc(t,"xAxis",e,r),C1e=(t,e,n,r)=>Nc(t,"yAxis",n,r),O1e=ie([E1e,ty],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),M1e=(t,e)=>{var n=dM(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===n)}}}},N1e=ie([y1e,ty],M1e),D1e=ie([gr,IO,A1e,_1e,k1e,C1e,O1e,St,B1,_q,N1e,ty,m1e],(t,e,n,r,i,s,a,l,u,f,d,p,g)=>{var{chartData:v,dataStartIndex:x,dataEndIndex:S}=u;if(!(p==null||a==null||e==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||s==null||f==null)){var{data:E}=p,A;if(E!=null&&E.length>0?A=E:A=v?.slice(x,S+1),A!=null)return s1e({layout:l,barSettings:p,pos:a,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:d,displayedData:A,offset:t,cells:g})}}),I1e=t=>{var{chartData:e}=t,n=mr(),r=ji();return _.useEffect(()=>r?()=>{}:(n(lV(e)),()=>{n(lV(void 0))}),[e,n,r]),null},YV={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},kq=ls({name:"brush",initialState:YV,reducers:{setBrushSettings(t,e){return e.payload==null?YV:e.payload}}}),{setBrushSettings:WDe}=kq.actions,P1e=kq.reducer;function j1e(t,e,n){return(e=R1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R1e(t){var e=L1e(t,"string");return typeof e=="symbol"?e:e+""}function L1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jM{static create(e){return new jM(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}j1e(jM,"EPS",1e-4);function V1e(t){return(t%180+180)%180}var B1e=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=V1e(i),a=s*Math.PI/180,l=Math.atan(r/n),u=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(u)},z1e={dots:[],areas:[],lines:[]},Cq=ls({name:"referenceElements",initialState:z1e,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Vo(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Vo(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Vo(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:GDe,removeDot:YDe,addArea:XDe,removeArea:QDe,addLine:JDe,removeLine:ZDe}=Cq.actions,U1e=Cq.reducer,F1e=_.createContext(void 0),$1e=t=>{var{children:e}=t,[n]=_.useState("".concat(Qm("recharts"),"-clip")),r=DM();if(r==null)return null;var{x:i,y:s,width:a,height:l}=r;return _.createElement(F1e.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:s,height:l,width:a}))),e)};function mh(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Oq(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function H1e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return B1e(r,n)}function q1e(t,e,n){var r=n==="width",{x:i,y:s,width:a,height:l}=t;return e===1?{start:r?i:s,end:r?i+a:s+l}:{start:r?i+a:s+l,end:r?i:s}}function Gb(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function K1e(t,e){return Oq(t,e+1)}function W1e(t,e,n,r,i){for(var s=(r||[]).slice(),{start:a,end:l}=e,u=0,f=1,d=a,p=function(){var x=r?.[u];if(x===void 0)return{v:Oq(r,f)};var S=u,E,A=()=>(E===void 0&&(E=n(x,S)),E),C=x.coordinate,D=u===0||Gb(t,C,A,d,l);D||(u=0,d=a,f+=1),D&&(d=C+t*(A()/2+i),u+=f)},g;f<=s.length;)if(g=p(),g)return g.v;return[]}function XV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XV(Object(n),!0).forEach(function(r){G1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G1e(t,e,n){return(e=Y1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y1e(t){var e=X1e(t,"string");return typeof e=="symbol"?e:e+""}function X1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q1e(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:l}=e,{end:u}=e,f=function(g){var v=s[g],x,S=()=>(x===void 0&&(x=n(v,g)),x);if(g===a-1){var E=t*(v.coordinate+t*S()/2-u);s[g]=v=$r($r({},v),{},{tickCoord:E>0?v.coordinate-E*t:v.coordinate})}else s[g]=v=$r($r({},v),{},{tickCoord:v.coordinate});var A=Gb(t,v.tickCoord,S,l,u);A&&(u=v.tickCoord-t*(S()/2+i),s[g]=$r($r({},v),{},{isShow:!0}))},d=a-1;d>=0;d--)f(d);return s}function J1e(t,e,n,r,i,s){var a=(r||[]).slice(),l=a.length,{start:u,end:f}=e;if(s){var d=r[l-1],p=n(d,l-1),g=t*(d.coordinate+t*p/2-f);a[l-1]=d=$r($r({},d),{},{tickCoord:g>0?d.coordinate-g*t:d.coordinate});var v=Gb(t,d.tickCoord,()=>p,u,f);v&&(f=d.tickCoord-t*(p/2+i),a[l-1]=$r($r({},d),{},{isShow:!0}))}for(var x=s?l-1:l,S=function(C){var D=a[C],L,j=()=>(L===void 0&&(L=n(D,C)),L);if(C===0){var B=t*(D.coordinate-t*j()/2-u);a[C]=D=$r($r({},D),{},{tickCoord:B<0?D.coordinate-B*t:D.coordinate})}else a[C]=D=$r($r({},D),{},{tickCoord:D.coordinate});var M=Gb(t,D.tickCoord,j,u,f);M&&(u=D.tickCoord+t*(j()/2+i),a[C]=$r($r({},D),{},{isShow:!0}))},E=0;E<x;E++)S(E);return a}function RM(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:u,tickFormatter:f,unit:d,angle:p}=t;if(!i||!i.length||!r)return[];if(Ve(u)||Cf.isSsr){var g;return(g=K1e(i,Ve(u)?u:0))!==null&&g!==void 0?g:[]}var v=[],x=l==="top"||l==="bottom"?"width":"height",S=d&&x==="width"?Sm(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=(D,L)=>{var j=typeof f=="function"?f(D.value,L):D.value;return x==="width"?H1e(Sm(j,{fontSize:e,letterSpacing:n}),S,p):Sm(j,{fontSize:e,letterSpacing:n})[x]},A=i.length>=2?Ni(i[1].coordinate-i[0].coordinate):1,C=q1e(s,A,x);return u==="equidistantPreserveStart"?W1e(A,C,E,i,a):(u==="preserveStart"||u==="preserveStartEnd"?v=J1e(A,C,E,i,a,u==="preserveStartEnd"):v=Q1e(A,C,E,i,a),v.filter(D=>D.isShow))}var Z1e=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){e.forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>a&&(a=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+s,f=a+u+l+(n?r:0);return Math.round(f)}return 0},ewe=["axisLine","width","height","className","hide","ticks"],twe=["viewBox"],nwe=["viewBox"];function qk(t,e){if(t==null)return{};var n,r,i=rwe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gf.apply(null,arguments)}function QV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QV(Object(n),!0).forEach(function(r){iwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iwe(t,e,n){return(e=swe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function swe(t){var e=awe(t,"string");return typeof e=="symbol"?e:e+""}function awe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LM={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function owe(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:l,otherSvgProps:u}=t;if(!l)return null;var f=Jn(Jn(Jn({},u),jn(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);f=Jn(Jn({},f),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var p=+(s==="left"&&!a||s==="right"&&a);f=Jn(Jn({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return _.createElement("line",gf({},f,{className:yt("recharts-cartesian-axis-line",lh(l,"className"))}))}function lwe(t,e,n,r,i,s,a,l,u){var f,d,p,g,v,x,S=l?-1:1,E=t.tickSize||a,A=Ve(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":f=d=t.coordinate,g=n+ +!l*i,p=g-S*E,x=p-S*u,v=A;break;case"left":p=g=t.coordinate,d=e+ +!l*r,f=d-S*E,v=f-S*u,x=A;break;case"right":p=g=t.coordinate,d=e+ +l*r,f=d+S*E,v=f+S*u,x=A;break;default:f=d=t.coordinate,g=n+ +l*i,p=g+S*E,x=p+S*u,v=A;break}return{line:{x1:f,y1:p,x2:d,y2:g},tick:{x:v,y:x}}}function cwe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function uwe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function fwe(t){var{option:e,tickProps:n,value:r}=t,i,s=yt(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))i=_.cloneElement(e,Jn(Jn({},n),{},{className:s}));else if(typeof e=="function")i=e(Jn(Jn({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=yt(a,e?.className)),i=_.createElement(MM,gf({},n,{className:a}),r)}return i}function dwe(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:s,unit:a,padding:l,tickTextProps:u,orientation:f,mirror:d,x:p,y:g,width:v,height:x,tickSize:S,tickMargin:E,fontSize:A,letterSpacing:C,getTicksConfig:D,events:L}=t,j=RM(Jn(Jn({},D),{},{ticks:e}),A,C),B=cwe(f,d),M=uwe(f,d),N=Fc(D),P=jn(n,!1),F=Jn(Jn({},N),{},{fill:"none"},jn(r,!1)),V=j.map(($,U)=>{var{line:pe,tick:ve}=lwe($,p,g,v,x,f,S,d,E),G=Jn(Jn(Jn(Jn({textAnchor:B,verticalAnchor:M},N),{},{stroke:"none",fill:i},P),ve),{},{index:U,payload:$,visibleTicksCount:j.length,tickFormatter:s,padding:l},u);return _.createElement(wa,gf({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},wO(L,$,U)),r&&_.createElement("line",gf({},F,pe,{className:yt("recharts-cartesian-axis-tick-line",lh(r,"className"))})),n&&_.createElement(fwe,{option:n,tickProps:G,value:"".concat(typeof s=="function"?s($.value,U):$.value).concat(a||"")}))});return V.length>0?_.createElement("g",{className:"recharts-cartesian-axis-ticks"},V):null}var hwe=_.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:l}=t,u=qk(t,ewe),[f,d]=_.useState(""),[p,g]=_.useState(""),v=_.useRef([]);_.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return Z1e({ticks:v.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var x=_.useCallback(S=>{if(S){var E=S.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=Array.from(E);var A=E[0];if(A){var C=window.getComputedStyle(A),D=C.fontSize,L=C.letterSpacing;(D!==f||L!==p)&&(d(D),g(L))}}},[f,p]);return a||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(wa,{className:yt("recharts-cartesian-axis",s),ref:x},_.createElement(owe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Fc(t)}),_.createElement(dwe,{ticks:l,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:f,letterSpacing:p,getTicksConfig:t,events:u}),_.createElement(rbe,{x:t.x,y:t.y,width:t.width,height:t.height},_.createElement(hbe,{label:t.label}),t.children))}),pwe=_.memo(hwe,(t,e)=>{var{viewBox:n}=t,r=qk(t,twe),{viewBox:i}=e,s=qk(e,nwe);return mh(n,i)&&mh(r,s)}),VM=_.forwardRef((t,e)=>{var n=Ri(t,LM);return _.createElement(pwe,gf({},n,{ref:e}))});VM.displayName="CartesianAxis";var mwe=["x1","y1","x2","y2","key"],gwe=["offset"],ywe=["xAxisId","yAxisId"],vwe=["xAxisId","yAxisId"];function JV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JV(Object(n),!0).forEach(function(r){bwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bwe(t,e,n){return(e=xwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xwe(t){var e=wwe(t,"string");return typeof e=="symbol"?e:e+""}function wwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zu.apply(null,arguments)}function Yb(t,e){if(t==null)return{};var n,r,i=Swe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Swe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Twe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:a,ry:l}=t;return _.createElement("rect",{x:r,y:i,ry:l,width:s,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Mq(t,e){var n;if(_.isValidElement(t))n=_.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:s,y2:a,key:l}=e,u=Yb(e,mwe),f=Fc(u),{offset:d}=f,p=Yb(f,gwe);n=_.createElement("line",zu({},p,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:l}))}return n}function Ewe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=Yb(t,ywe),u=i.map((f,d)=>{var p=Wr(Wr({},l),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(d),index:d});return Mq(r,p)});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Awe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=Yb(t,vwe),u=i.map((f,d)=>{var p=Wr(Wr({},l),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(d),index:d});return Mq(r,p)});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function _we(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:a,horizontalPoints:l,horizontal:u=!0}=t;if(!u||!e||!e.length)return null;var f=l.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var d=f.map((p,g)=>{var v=!f[g+1],x=v?i+a-p:f[g+1]-p;if(x<=0)return null;var S=g%e.length;return _.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:x,width:s,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function kwe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:a,height:l,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var d=f.map((p,g)=>{var v=!f[g+1],x=v?i+a-p:f[g+1]-p;if(x<=0)return null;var S=g%n.length;return _.createElement("rect",{key:"react-".concat(g),x:p,y:s,width:x,height:l,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Cwe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return b8(RM(Wr(Wr(Wr({},LM),n),{},{ticks:x8(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},Owe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return b8(RM(Wr(Wr(Wr({},LM),n),{},{ticks:x8(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},Mwe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function jv(t){var e=T8(),n=E8(),r=S8(),i=Wr(Wr({},Ri(t,Mwe)),{},{x:Ve(t.x)?t.x:r.left,y:Ve(t.y)?t.y:r.top,width:Ve(t.width)?t.width:r.width,height:Ve(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:a,x:l,y:u,width:f,height:d,syncWithTicks:p,horizontalValues:g,verticalValues:v}=i,x=ji(),S=De(P=>Z3(P,"xAxis",s,x)),E=De(P=>Z3(P,"yAxis",a,x));if(!Ve(f)||f<=0||!Ve(d)||d<=0||!Ve(l)||l!==+l||!Ve(u)||u!==+u)return null;var A=i.verticalCoordinatesGenerator||Cwe,C=i.horizontalCoordinatesGenerator||Owe,{horizontalPoints:D,verticalPoints:L}=i;if((!D||!D.length)&&typeof C=="function"){var j=g&&g.length,B=C({yAxis:E?Wr(Wr({},E),{},{ticks:j?g:E.ticks}):void 0,width:e,height:n,offset:r},j?!0:p);wm(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(D=B)}if((!L||!L.length)&&typeof A=="function"){var M=v&&v.length,N=A({xAxis:S?Wr(Wr({},S),{},{ticks:M?v:S.ticks}):void 0,width:e,height:n,offset:r},M?!0:p);wm(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(L=N)}return _.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(Twe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(_we,zu({},i,{horizontalPoints:D})),_.createElement(kwe,zu({},i,{verticalPoints:L})),_.createElement(Ewe,zu({},i,{offset:r,horizontalPoints:D,xAxis:S,yAxis:E})),_.createElement(Awe,zu({},i,{offset:r,verticalPoints:L,xAxis:S,yAxis:E})))}jv.displayName="CartesianGrid";var Nq=(t,e,n,r)=>Dc(t,"xAxis",e,r),Dq=(t,e,n,r)=>Nc(t,"xAxis",e,r),Iq=(t,e,n,r)=>Dc(t,"yAxis",n,r),Pq=(t,e,n,r)=>Nc(t,"yAxis",n,r),Nwe=ie([St,Nq,Iq,Dq,Pq],(t,e,n,r,i)=>$c(t,"xAxis")?eg(e,r,!1):eg(n,i,!1)),Dwe=(t,e,n,r,i)=>i;function Iwe(t){return t.type==="line"}var Pwe=ie([K1,Dwe],(t,e)=>t.filter(Iwe).find(n=>n.id===e)),jwe=ie([St,Nq,Iq,Dq,Pq,Pwe,Nwe,B1],(t,e,n,r,i,s,a,l)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:d}=l;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null)){var{dataKey:p,data:g}=s,v;if(g!=null&&g.length>0?v=g:v=u?.slice(f,d+1),v!=null)return rSe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:a,displayedData:v})}}),Rwe=["id"],Lwe=["type","layout","connectNulls","needClip"],Vwe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ZV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZV(Object(n),!0).forEach(function(r){Bwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bwe(t,e,n){return(e=zwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zwe(t){var e=Uwe(t,"string");return typeof e=="symbol"?e:e+""}function Uwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BM(t,e){if(t==null)return{};var n,r,i=Fwe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yf.apply(null,arguments)}var $we=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:A1(n,e),payload:t}]};function Hwe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:l,unit:u}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:A1(a,e),hide:l,type:t.tooltipType,color:t.stroke,unit:u}}}var jq=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function qwe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Kwe=(t,e,n)=>{var r=n.reduce((p,g)=>p+g);if(!r)return jq(e,t);for(var i=Math.floor(t/r),s=t%r,a=e-t,l=[],u=0,f=0;u<n.length;f+=n[u],++u)if(f+n[u]>s){l=[...n.slice(0,u),s-f];break}var d=l.length%2===0?[0,a]:[a];return[...qwe(n,i),...l,...d].map(p=>"".concat(p,"px")).join(", ")};function Wwe(t,e){var n;if(_.isValidElement(t))n=_.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=yt("recharts-line-dot",typeof t!="boolean"?t.className:"");n=_.createElement(fq,yf({},e,{className:r}))}return n}function Gwe(t,e){return t==null?!1:e?!0:t.length===1}function Ywe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:a}=r;if(!Gwe(n,i))return null;var{id:l}=r,u=BM(r,Rwe),f=h$(i),d=Fc(u),p=jn(i,!0),g=n.map((x,S)=>{var E=Qi(Qi(Qi({key:"dot-".concat(S),r:3},d),p),{},{index:S,cx:x.x,cy:x.y,dataKey:s,value:x.value,payload:x.payload,points:n});return Wwe(i,E)}),v={clipPath:a?"url(#clipPath-".concat(f?"":"dots-").concat(e,")"):void 0};return _.createElement(wa,yf({className:"recharts-line-dots",key:"dots"},v),g)}function Xwe(t){var{showLabels:e,children:n,points:r}=t,i=_.useMemo(()=>r?.map(s=>{var a={x:s.x,y:s.y,width:0,height:0};return Qi(Qi({},a),{},{value:s.value,payload:s.payload,viewBox:a,parentViewBox:void 0,fill:void 0})}),[r]);return _.createElement(lq,{value:e?i:null},n)}function eB(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:a,layout:l,connectNulls:u,needClip:f}=s,d=BM(s,Lwe),p=Qi(Qi({},jn(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:a,layout:l,connectNulls:u,strokeDasharray:i??s.strokeDasharray});return _.createElement(_.Fragment,null,r?.length>1&&_.createElement(k8,yf({},p,{pathRef:n})),_.createElement(Ywe,{points:r,clipPathId:e,props:s}))}function Qwe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Jwe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:l,isAnimationActive:u,animationBegin:f,animationDuration:d,animationEasing:p,animateNewValues:g,width:v,height:x,onAnimationEnd:S,onAnimationStart:E}=n,A=i.current,C=D1(n,"recharts-line-"),[D,L]=_.useState(!1),j=!D,B=_.useCallback(()=>{typeof S=="function"&&S(),L(!1)},[S]),M=_.useCallback(()=>{typeof E=="function"&&E(),L(!0)},[E]),N=Qwe(r.current),P=s.current;return _.createElement(Xwe,{points:a,showLabels:j},n.children,_.createElement(N1,{animationId:C,begin:f,duration:d,isActive:u,easing:p,onAnimationEnd:B,onAnimationStart:M,key:C},F=>{var V=Fn(P,N+P,F),$=Math.min(V,N),U;if(u)if(l){var pe="".concat(l).split(/[,\s]+/gim).map(K=>parseFloat(K));U=Kwe($,N,pe)}else U=jq(N,$);else U=l==null?void 0:String(l);if(A){var ve=A.length/a.length,G=F===1?a:a.map((K,ae)=>{var ge=Math.floor(ae*ve);if(A[ge]){var xe=A[ge];return Qi(Qi({},K),{},{x:Fn(xe.x,K.x,F),y:Fn(xe.y,K.y,F)})}return g?Qi(Qi({},K),{},{x:Fn(v*2,K.x,F),y:Fn(x/2,K.y,F)}):Qi(Qi({},K),{},{x:K.x,y:K.y})});return i.current=G,_.createElement(eB,{props:n,points:G,clipPathId:e,pathRef:r,strokeDasharray:U})}return F>0&&N>0&&(i.current=a,s.current=$),_.createElement(eB,{props:n,points:a,clipPathId:e,pathRef:r,strokeDasharray:U})}),_.createElement(uq,{label:n.label}))}function Zwe(t){var{clipPathId:e,props:n}=t,r=_.useRef(null),i=_.useRef(0),s=_.useRef(null);return _.createElement(Jwe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var eSe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:dr(t.payload,e)});class tSe extends _.Component{render(){var e,{hide:n,dot:r,points:i,className:s,xAxisId:a,yAxisId:l,top:u,left:f,width:d,height:p,id:g,needClip:v}=this.props;if(n)return null;var x=yt("recharts-line",s),S=g,{r:E=3,strokeWidth:A=2}=(e=jn(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},C=h$(r),D=E*2+A;return _.createElement(_.Fragment,null,_.createElement(wa,{className:x},v&&_.createElement("defs",null,_.createElement(Eq,{clipPathId:S,xAxisId:a,yAxisId:l}),!C&&_.createElement("clipPath",{id:"clipPath-dots-".concat(S)},_.createElement("rect",{x:f-D/2,y:u-D/2,width:d+D,height:p+D}))),_.createElement(Tq,{xAxisId:a,yAxisId:l,data:i,dataPointFormatter:eSe,errorBarOffset:0},_.createElement(Zwe,{props:this.props,clipPathId:S}))),_.createElement(xxe,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Rq={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Cf.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function nSe(t){var e=Ri(t,Rq),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:u,hide:f,isAnimationActive:d,label:p,legendType:g,xAxisId:v,yAxisId:x,id:S}=e,E=BM(e,Vwe),{needClip:A}=PM(v,x),C=DM(),D=M1(),L=ji(),j=De(F=>jwe(F,v,x,L,S));if(D!=="horizontal"&&D!=="vertical"||j==null||C==null)return null;var{height:B,width:M,x:N,y:P}=C;return _.createElement(tSe,yf({},E,{id:S,connectNulls:l,dot:u,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:d,hide:f,label:p,legendType:g,xAxisId:v,yAxisId:x,points:j,layout:D,height:B,width:M,left:N,top:P,needClip:A}))}function rSe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:l,displayedData:u}=t;return u.map((f,d)=>{var p=dr(f,a);if(e==="horizontal"){var g=RL({axis:n,ticks:i,bandSize:l,entry:f,index:d}),v=dn(p)?null:r.scale(p);return{x:g,y:v,value:p,payload:f}}var x=dn(p)?null:n.scale(p),S=RL({axis:r,ticks:s,bandSize:l,entry:f,index:d});return x==null||S==null?null:{x,y:S,value:p,payload:f}}).filter(Boolean)}function iSe(t){var e=Ri(t,Rq),n=ji();return _.createElement(vq,{id:e.id,type:"line"},r=>_.createElement(_.Fragment,null,_.createElement(yq,{legendPayload:$we(e)}),_.createElement(gq,{fn:Hwe,args:e}),_.createElement(xq,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),_.createElement(nSe,yf({},e,{id:r}))))}var Rv=_.memo(iSe);Rv.displayName="Line";var sSe=["dangerouslySetInnerHTML","ticks"],aSe=["id"],oSe=["domain"],lSe=["domain"];function Kk(){return Kk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kk.apply(null,arguments)}function Xb(t,e){if(t==null)return{};var n,r,i=cSe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uSe(t){var e=mr();return _.useEffect(()=>(e(oxe(t)),()=>{e(lxe(t))}),[t,e]),null}var fSe=t=>{var{xAxisId:e,className:n}=t,r=De(IO),i=ji(),s="xAxis",a=De(E=>Bh(E,s,e,i)),l=De(E=>S7(E,s,e,i)),u=De(E=>v7(E,e)),f=De(E=>Cye(E,e)),d=De(E=>UH(E,e));if(u==null||f==null||d==null)return null;var{dangerouslySetInnerHTML:p,ticks:g}=t,v=Xb(t,sSe),{id:x}=d,S=Xb(d,aSe);return _.createElement(VM,Kk({},v,S,{scale:a,x:f.x,y:f.y,width:u.width,height:u.height,className:yt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l}))},dSe={allowDataOverflow:Gi.allowDataOverflow,allowDecimals:Gi.allowDecimals,allowDuplicatedCategory:Gi.allowDuplicatedCategory,height:Gi.height,hide:!1,mirror:Gi.mirror,orientation:Gi.orientation,padding:Gi.padding,reversed:Gi.reversed,scale:Gi.scale,tickCount:Gi.tickCount,type:Gi.type,xAxisId:0},hSe=t=>{var e,n,r,i,s,a=Ri(t,dSe);return _.createElement(_.Fragment,null,_.createElement(uSe,{interval:(e=a.interval)!==null&&e!==void 0?e:"preserveEnd",id:a.xAxisId,scale:a.scale,type:a.type,padding:a.padding,allowDataOverflow:a.allowDataOverflow,domain:a.domain,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,includeHidden:(n=a.includeHidden)!==null&&n!==void 0?n:!1,reversed:a.reversed,ticks:a.ticks,height:a.height,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(r=a.angle)!==null&&r!==void 0?r:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),_.createElement(fSe,a))},pSe=(t,e)=>{var{domain:n}=t,r=Xb(t,oSe),{domain:i}=e,s=Xb(e,lSe);return mh(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:mh({domain:n},{domain:i}):!1},Lv=_.memo(hSe,pSe);Lv.displayName="XAxis";var mSe=["dangerouslySetInnerHTML","ticks"],gSe=["id"],ySe=["domain"],vSe=["domain"];function Wk(){return Wk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wk.apply(null,arguments)}function Qb(t,e){if(t==null)return{};var n,r,i=bSe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xSe(t){var e=mr();return _.useEffect(()=>(e(cxe(t)),()=>{e(uxe(t))}),[t,e]),null}var wSe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=_.useRef(null),a=_.useRef(null),l=De(IO),u=ji(),f=mr(),d="yAxis",p=De(j=>Bh(j,d,e,u)),g=De(j=>b7(j,e)),v=De(j=>Mye(j,e)),x=De(j=>S7(j,d,e,u)),S=De(j=>FH(j,e));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!g||NM(i)||_.isValidElement(i)||S==null)){var j=s.current;if(j){var B=j.getCalculatedWidth();Math.round(g.width)!==Math.round(B)&&f(fxe({id:e,width:B}))}}},[x,g,f,i,e,r,S]),g==null||v==null||S==null)return null;var{dangerouslySetInnerHTML:E,ticks:A}=t,C=Qb(t,mSe),{id:D}=S,L=Qb(S,gSe);return _.createElement(VM,Wk({},C,L,{ref:s,labelRef:a,scale:p,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:yt("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:x}))},SSe={allowDataOverflow:Yi.allowDataOverflow,allowDecimals:Yi.allowDecimals,allowDuplicatedCategory:Yi.allowDuplicatedCategory,hide:!1,mirror:Yi.mirror,orientation:Yi.orientation,padding:Yi.padding,reversed:Yi.reversed,scale:Yi.scale,tickCount:Yi.tickCount,type:Yi.type,width:Yi.width,yAxisId:0},TSe=t=>{var e,n,r,i,s,a=Ri(t,SSe);return _.createElement(_.Fragment,null,_.createElement(xSe,{interval:(e=a.interval)!==null&&e!==void 0?e:"preserveEnd",id:a.yAxisId,scale:a.scale,type:a.type,domain:a.domain,allowDataOverflow:a.allowDataOverflow,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,padding:a.padding,includeHidden:(n=a.includeHidden)!==null&&n!==void 0?n:!1,reversed:a.reversed,ticks:a.ticks,width:a.width,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(r=a.angle)!==null&&r!==void 0?r:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),_.createElement(wSe,a))},ESe=(t,e)=>{var{domain:n}=t,r=Qb(t,ySe),{domain:i}=e,s=Qb(e,vSe);return mh(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:mh({domain:n},{domain:i}):!1},Vv=_.memo(TSe,ESe);Vv.displayName="YAxis";var OA={exports:{}},MA={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tB;function ASe(){if(tB)return MA;tB=1;var t=Sh();function e(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return MA.useSyncExternalStoreWithSelector=function(u,f,d,p,g){var v=i(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=a(function(){function E(j){if(!A){if(A=!0,C=j,j=p(j),g!==void 0&&x.hasValue){var B=x.value;if(g(B,j))return D=B}return D=j}if(B=D,n(C,j))return B;var M=p(j);return g!==void 0&&g(B,M)?(C=j,B):(C=j,D=M)}var A=!1,C,D,L=d===void 0?null:d;return[function(){return E(f())},L===null?void 0:function(){return E(L())}]},[f,d,p,g]);var S=r(u,v[0],v[1]);return s(function(){x.hasValue=!0,x.value=S},[S]),l(S),S},MA}var nB;function _Se(){return nB||(nB=1,OA.exports=ASe()),OA.exports}_Se();function kSe(t){t()}function CSe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){kSe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var rB={notify(){},get:()=>[]};function OSe(t,e){let n,r=rB,i=0,s=!1;function a(S){d();const E=r.subscribe(S);let A=!1;return()=>{A||(A=!0,E(),p())}}function l(){r.notify()}function u(){x.onStateChange&&x.onStateChange()}function f(){return s}function d(){i++,n||(n=t.subscribe(u),r=CSe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=rB)}function g(){s||(s=!0,d())}function v(){s&&(s=!1,p())}const x={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:f,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return x}var MSe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NSe=MSe(),DSe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ISe=DSe(),PSe=()=>NSe||ISe?_.useLayoutEffect:_.useEffect,jSe=PSe(),RSe=Symbol.for("react-redux-context"),LSe=typeof globalThis<"u"?globalThis:{};function VSe(){if(!_.createContext)return{};const t=LSe[RSe]??=new Map;let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var BSe=VSe();function zSe(t){const{children:e,context:n,serverState:r,store:i}=t,s=_.useMemo(()=>{const u=OSe(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),a=_.useMemo(()=>i.getState(),[i]);jSe(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,a]);const l=n||BSe;return _.createElement(l.Provider,{value:s},e)}var USe=zSe,FSe=(t,e)=>e,zM=ie([FSe,St,VH,nr,L7,al,j0e,gr],z0e),UM=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},Lq=Ks("mouseClick"),Vq=$g();Vq.startListening({actionCreator:Lq,effect:(t,e)=>{var n=t.payload,r=zM(e.getState(),UM(n));r?.activeIndex!=null&&e.dispatch($ye({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Gk=Ks("mouseMove"),Bq=$g();Bq.startListening({actionCreator:Gk,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=wM(r,r.tooltip.settings.shared),s=zM(r,UM(n));i==="axis"&&(s?.activeIndex!=null?e.dispatch(M7({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(O7()))}});var iB={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},zq=ls({name:"rootProps",initialState:iB,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:iB.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),$Se=zq.reducer,{updateOptions:HSe}=zq.actions,Uq=ls({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:eIe}=Uq.actions,qSe=Uq.reducer,Fq=Ks("keyDown"),$q=Ks("focus"),FM=$g();FM.startListening({actionCreator:Fq,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(SM(i,Uh(n))),l=al(n);if(s==="Enter"){var u=$b(n,"axis","hover",String(i.index));e.dispatch(Bk({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var f=Pye(n),d=f==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,g=a+p*d;if(!(l==null||g>=l.length||g<0)){var v=$b(n,"axis","hover",String(g));e.dispatch(Bk({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}});FM.startListening({actionCreator:$q,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=$b(n,"axis","hover",String(s));e.dispatch(Bk({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Ps=Ks("externalEvent"),Hq=$g();Hq.startListening({actionCreator:Ps,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:A0e(n),activeDataKey:U7(n),activeIndex:mf(n),activeLabel:z7(n),activeTooltipIndex:mf(n),isTooltipActive:_0e(n)};t.payload.handler(r,t.payload.reactEvent)}}});var KSe=ie([zh],t=>t.tooltipItemPayloads),WSe=ie([KSe,Zg,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,n);return a}}}),qq=Ks("touchMove"),Kq=$g();Kq.startListening({actionCreator:qq,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=wM(r,r.tooltip.settings.shared);if(i==="axis"){var s=zM(r,UM({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&e.dispatch(M7({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,l=n.touches[0],u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(vde),d=(a=u.getAttribute(bde))!==null&&a!==void 0?a:void 0,p=WSe(e.getState(),f,d);e.dispatch(C7({activeDataKey:d,activeIndex:f,activeCoordinate:p}))}}});var GSe=Y$({brush:P1e,cartesianAxis:dxe,chartData:nve,errorBars:Dxe,graphicalItems:nxe,layout:Ufe,legend:Pde,options:Q0e,polarAxis:kbe,polarOptions:qSe,referenceElements:U1e,rootProps:$Se,tooltip:Hye}),YSe=function(e){return dfe({reducer:GSe,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([Vq.middleware,Bq.middleware,FM.middleware,Hq.middleware,Kq.middleware]),devTools:Cf.devToolsEnabled})};function XSe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=ji(),s=_.useRef(null);if(i)return n;s.current==null&&(s.current=YSe(e));var a=kO;return _.createElement(USe,{context:a,store:s.current},n)}function QSe(t){var{layout:e,width:n,height:r,margin:i}=t,s=mr(),a=ji();return _.useEffect(()=>{a||(s(Vfe(e)),s(Bfe({width:n,height:r})),s(Lfe(i)))},[s,a,e,n,r,i]),null}function JSe(t){var e=mr();return _.useEffect(()=>{e(HSe(t))},[e,t]),null}var ZSe=["children"];function eTe(t,e){if(t==null)return{};var n,r,i=tTe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jb.apply(null,arguments)}var nTe={width:"100%",height:"100%"},rTe=_.forwardRef((t,e)=>{var n=T8(),r=E8(),i=_8();if(!kb(n)||!kb(r))return null;var{children:s,otherAttributes:a,title:l,desc:u}=t,f,d;return typeof a.tabIndex=="number"?f=a.tabIndex:f=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0,_.createElement(p$,Jb({},a,{title:l,desc:u,role:d,tabIndex:f,width:n,height:r,style:nTe,ref:e}),s)}),iTe=t=>{var{children:e}=t,n=De(O1);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return _.createElement(p$,{width:r,height:i,x:a,y:s},e)},sB=_.forwardRef((t,e)=>{var{children:n}=t,r=eTe(t,ZSe),i=ji();return i?_.createElement(iTe,null,n):_.createElement(rTe,Jb({ref:e},r),n)});function sTe(){var t=mr(),[e,n]=_.useState(null),r=De(yde);return _.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;ss(s)&&s!==r&&t(zfe(s))}},[e,t,r]),n}function aB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aTe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aB(Object(n),!0).forEach(function(r){oTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oTe(t,e,n){return(e=lTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lTe(t){var e=cTe(t,"string");return typeof e=="symbol"?e:e+""}function cTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uTe=_.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:u,onMouseEnter:f,onMouseLeave:d,onMouseMove:p,onMouseUp:g,onTouchEnd:v,onTouchMove:x,onTouchStart:S,style:E,width:A}=t,C=mr(),[D,L]=_.useState(null),[j,B]=_.useState(null);fve();var M=sTe(),N=_.useCallback(X=>{M(X),typeof e=="function"&&e(X),L(X),B(X)},[M,e,L,B]),P=_.useCallback(X=>{C(Lq(X)),C(Ps({handler:s,reactEvent:X}))},[C,s]),F=_.useCallback(X=>{C(Gk(X)),C(Ps({handler:f,reactEvent:X}))},[C,f]),V=_.useCallback(X=>{C(O7()),C(Ps({handler:d,reactEvent:X}))},[C,d]),$=_.useCallback(X=>{C(Gk(X)),C(Ps({handler:p,reactEvent:X}))},[C,p]),U=_.useCallback(()=>{C($q())},[C]),pe=_.useCallback(X=>{C(Fq(X.key))},[C]),ve=_.useCallback(X=>{C(Ps({handler:a,reactEvent:X}))},[C,a]),G=_.useCallback(X=>{C(Ps({handler:l,reactEvent:X}))},[C,l]),K=_.useCallback(X=>{C(Ps({handler:u,reactEvent:X}))},[C,u]),ae=_.useCallback(X=>{C(Ps({handler:g,reactEvent:X}))},[C,g]),ge=_.useCallback(X=>{C(Ps({handler:S,reactEvent:X}))},[C,S]),xe=_.useCallback(X=>{C(qq(X)),C(Ps({handler:x,reactEvent:X}))},[C,x]),q=_.useCallback(X=>{C(Ps({handler:v,reactEvent:X}))},[C,v]);return _.createElement(W7.Provider,{value:D},_.createElement(cce.Provider,{value:j},_.createElement("div",{className:yt("recharts-wrapper",r),style:aTe({position:"relative",cursor:"default",width:A,height:i},E),onClick:P,onContextMenu:ve,onDoubleClick:G,onFocus:U,onKeyDown:pe,onMouseDown:K,onMouseEnter:F,onMouseLeave:V,onMouseMove:$,onMouseUp:ae,onTouchEnd:q,onTouchMove:xe,onTouchStart:ge,ref:N},n)))}),fTe=["children","className","width","height","style","compact","title","desc"];function dTe(t,e){if(t==null)return{};var n,r,i=hTe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pTe=_.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:s,style:a,compact:l,title:u,desc:f}=t,d=dTe(t,fTe),p=Fc(d);return l?_.createElement(sB,{otherAttributes:p,title:u,desc:f},n):_.createElement(uTe,{className:r,style:a,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(sB,{otherAttributes:p,title:u,desc:f,ref:e},_.createElement($1e,null,n)))}),mTe=["width","height"];function Yk(){return Yk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yk.apply(null,arguments)}function gTe(t,e){if(t==null)return{};var n,r,i=yTe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vTe={top:5,right:5,bottom:5,left:5},bTe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:vTe,reverseStackOrder:!1,syncMethod:"index"},Wq=_.forwardRef(function(e,n){var r,i=Ri(e.categoricalChartProps,bTe),{width:s,height:a}=i,l=gTe(i,mTe);if(!kb(s)||!kb(a))return null;var{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,categoricalChartProps:g}=e,v={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,eventEmitter:void 0};return _.createElement(XSe,{preloadedState:{options:v},reduxStoreName:(r=g.id)!==null&&r!==void 0?r:u},_.createElement(I1e,{chartData:g.data}),_.createElement(QSe,{width:s,height:a,layout:i.layout,margin:i.margin}),_.createElement(JSe,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(pTe,Yk({},l,{width:s,height:a,ref:n})))}),xTe=["axis"],oB=_.forwardRef((t,e)=>_.createElement(Wq,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xTe,tooltipPayloadSearcher:G7,categoricalChartProps:t,ref:e})),wTe=["axis","item"],STe=_.forwardRef((t,e)=>_.createElement(Wq,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wTe,tooltipPayloadSearcher:G7,categoricalChartProps:t,ref:e}));const TTe=(t,e,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const i=Object.getOwnPropertyDescriptor(t,n),s=Object.getOwnPropertyDescriptor(e,n);!ETe(i,s)&&r||Object.defineProperty(t,n,s)},ETe=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},ATe=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},_Te=(t,e)=>`/* Wrapped ${t}*/
${e}`,kTe=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),CTe=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),OTe=(t,e,n)=>{const r=n===""?"":`with ${n.trim()}() `,i=_Te.bind(null,r,e.toString());Object.defineProperty(i,"name",CTe);const{writable:s,enumerable:a,configurable:l}=kTe;Object.defineProperty(t,"toString",{value:i,writable:s,enumerable:a,configurable:l})};function MTe(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:r}=t;for(const i of Reflect.ownKeys(e))TTe(t,e,i,n);return ATe(t,e),OTe(t,e,r),t}const NTe=new WeakMap,lB=new WeakMap;function Gq(t,{cacheKey:e,cache:n=new Map,maxAge:r}={}){if(r===0)return t;if(typeof r=="number"){if(r>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(r<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const i=function(...s){const a=e?e(s):s[0],l=n.get(a);if(l)return l.data;const u=t.apply(this,s),f=typeof r=="function"?r(...s):r;if(n.set(a,{data:u,maxAge:f?Date.now()+f:Number.POSITIVE_INFINITY}),f&&f>0&&f!==Number.POSITIVE_INFINITY){const d=setTimeout(()=>{n.delete(a)},f);d.unref?.();const p=lB.get(t)??new Set;p.add(d),lB.set(t,p)}return u};return MTe(i,t,{ignoreNonConfigurable:!0}),NTe.set(i,n),i}function DTe(t){return typeof t=="string"}function ITe(t,e,n){return n.indexOf(t)===e}function PTe(t){return t.toLowerCase()===t}function cB(t){return t.indexOf(",")===-1?t:t.split(",")}function Xk(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return Xk(n)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],n=r===void 0?"":r;return Xk(n)}if(t.indexOf("-")===-1||!PTe(t))return t;var i=t.split("-"),s=i[0],a=i[1],l=a===void 0?"":a;return"".concat(s,"-").concat(l.toUpperCase())}function jTe(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,r=n===void 0?!0:n,i=e.fallbackLocale,s=i===void 0?"en-US":i,a=[];if(typeof navigator<"u"){for(var l=navigator.languages||[],u=[],f=0,d=l;f<d.length;f++){var p=d[f];u=u.concat(cB(p))}var g=navigator.language,v=g&&cB(g);a=a.concat(u,v)}return r&&a.push(s),a.filter(DTe).map(Xk).filter(ITe)}var RTe=Gq(jTe,{cacheKey:JSON.stringify});function LTe(t){return RTe(t)[0]||null}var Yq=Gq(LTe,{cacheKey:JSON.stringify});function ol(t,e,n){return function(i,s=n){const a=t(i)+s;return e(a)}}function ny(t){return function(n){return new Date(t(n).getTime()-1)}}function ry(t,e){return function(r){return[t(r),e(r)]}}function hn(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function Wc(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function J1(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function Fh(t){const e=hn(t),n=e+(-e+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const VTe=ol(hn,Fh,-100),Xq=ol(hn,Fh,100),$M=ny(Xq),BTe=ol(hn,$M,-100),Qq=ry(Fh,$M);function Gc(t){const e=hn(t),n=e+(-e+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const Jq=ol(hn,Gc,-10),HM=ol(hn,Gc,10),Z1=ny(HM),Zq=ol(hn,Z1,-10),eK=ry(Gc,Z1);function $h(t){const e=hn(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const tK=ol(hn,$h,-1),qM=ol(hn,$h,1),ew=ny(qM),nK=ol(hn,ew,-1),zTe=ry($h,ew);function KM(t,e){return function(r,i=e){const s=hn(r),a=Wc(r)+i,l=new Date;return l.setFullYear(s,a,1),l.setHours(0,0,0,0),t(l)}}function Df(t){const e=hn(t),n=Wc(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}const rK=KM(Df,-1),WM=KM(Df,1),iy=ny(WM),iK=KM(iy,-1),UTe=ry(Df,iy);function FTe(t,e){return function(r,i=e){const s=hn(r),a=Wc(r),l=J1(r)+i,u=new Date;return u.setFullYear(s,a,l),u.setHours(0,0,0,0),t(u)}}function sy(t){const e=hn(t),n=Wc(t),r=J1(t),i=new Date;return i.setFullYear(e,n,r),i.setHours(0,0,0,0),i}const $Te=FTe(sy,1),GM=ny($Te),HTe=ry(sy,GM);function sK(t){return J1(iy(t))}var jr={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},qTe={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},YM=[0,1,2,3,4,5,6],NA=new Map;function KTe(t){return function(n,r){var i=n||Yq();NA.has(i)||NA.set(i,new Map);var s=NA.get(i);return s.has(t)||s.set(t,new Intl.DateTimeFormat(i||void 0,t).format),s.get(t)(r)}}function WTe(t){var e=new Date(t);return new Date(e.setHours(12))}function If(t){return function(e,n){return KTe(t)(e,WTe(n))}}var GTe={day:"numeric"},YTe={day:"numeric",month:"long",year:"numeric"},XTe={month:"long"},QTe={month:"long",year:"numeric"},JTe={weekday:"short"},ZTe={weekday:"long"},eEe={year:"numeric"},tEe=If(GTe),nEe=If(YTe),rEe=If(XTe),aK=If(QTe),iEe=If(JTe),sEe=If(ZTe),tw=If(eEe),aEe=YM[0],oEe=YM[5],uB=YM[6];function lg(t,e){e===void 0&&(e=jr.ISO_8601);var n=t.getDay();switch(e){case jr.ISO_8601:return(n+6)%7;case jr.ISLAMIC:return(n+1)%7;case jr.HEBREW:case jr.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function lEe(t){var e=Fh(t);return hn(e)}function cEe(t){var e=Gc(t);return hn(e)}function Qk(t,e){e===void 0&&(e=jr.ISO_8601);var n=hn(t),r=Wc(t),i=t.getDate()-lg(t,e);return new Date(n,r,i)}function uEe(t,e){e===void 0&&(e=jr.ISO_8601);var n=e===jr.GREGORY?jr.GREGORY:jr.ISO_8601,r=Qk(t,e),i=hn(t)+1,s,a;do s=new Date(i,0,n===jr.ISO_8601?4:1),a=Qk(s,e),i-=1;while(t<a);return Math.round((r.getTime()-a.getTime())/(864e5*7))+1}function Zu(t,e){switch(t){case"century":return Fh(e);case"decade":return Gc(e);case"year":return $h(e);case"month":return Df(e);case"day":return sy(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function fEe(t,e){switch(t){case"century":return VTe(e);case"decade":return Jq(e);case"year":return tK(e);case"month":return rK(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function oK(t,e){switch(t){case"century":return Xq(e);case"decade":return HM(e);case"year":return qM(e);case"month":return WM(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function dEe(t,e){switch(t){case"decade":return Jq(e,-100);case"year":return tK(e,-10);case"month":return rK(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function hEe(t,e){switch(t){case"decade":return HM(e,100);case"year":return qM(e,10);case"month":return WM(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function lK(t,e){switch(t){case"century":return $M(e);case"decade":return Z1(e);case"year":return ew(e);case"month":return iy(e);case"day":return GM(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function pEe(t,e){switch(t){case"century":return BTe(e);case"decade":return Zq(e);case"year":return nK(e);case"month":return iK(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function mEe(t,e){switch(t){case"decade":return Zq(e,-100);case"year":return nK(e,-10);case"month":return iK(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function fB(t,e){switch(t){case"century":return Qq(e);case"decade":return eK(e);case"year":return zTe(e);case"month":return UTe(e);case"day":return HTe(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function gEe(t,e,n){var r=[e,n].sort(function(i,s){return i.getTime()-s.getTime()});return[Zu(t,r[0]),lK(t,r[1])]}function cK(t,e,n){return n.map(function(r){return(e||tw)(t,r)}).join("  ")}function yEe(t,e,n){return cK(t,e,Qq(n))}function uK(t,e,n){return cK(t,e,eK(n))}function vEe(t){return t.getDay()===new Date().getDay()}function fK(t,e){e===void 0&&(e=jr.ISO_8601);var n=t.getDay();switch(e){case jr.ISLAMIC:case jr.HEBREW:return n===oEe||n===uB;case jr.ISO_8601:case jr.GREGORY:return n===uB||n===aEe;default:throw new Error("Unsupported calendar type.")}}var Va="react-calendar__navigation";function bEe(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,i=r===void 0?aK:r,s=t.formatYear,a=s===void 0?tw:s,l=t.locale,u=t.maxDate,f=t.minDate,d=t.navigationAriaLabel,p=d===void 0?"":d,g=t.navigationAriaLive,v=t.navigationLabel,x=t.next2AriaLabel,S=x===void 0?"":x,E=t.next2Label,A=E===void 0?"":E,C=t.nextAriaLabel,D=C===void 0?"":C,L=t.nextLabel,j=L===void 0?"":L,B=t.prev2AriaLabel,M=B===void 0?"":B,N=t.prev2Label,P=N===void 0?"":N,F=t.prevAriaLabel,V=F===void 0?"":F,$=t.prevLabel,U=$===void 0?"":$,pe=t.setActiveStartDate,ve=t.showDoubleView,G=t.view,K=t.views,ae=K.indexOf(G)>0,ge=G!=="century",xe=fEe(G,e),q=ge?dEe(G,e):void 0,X=oK(G,e),me=ge?hEe(G,e):void 0,we=(function(){if(xe.getFullYear()<0)return!0;var Oe=pEe(G,e);return f&&f>=Oe})(),Se=ge&&(function(){if(q.getFullYear()<0)return!0;var Oe=mEe(G,e);return f&&f>=Oe})(),Ie=u&&u<X,Be=ge&&u&&u<me;function it(){pe(xe,"prev")}function fe(){pe(q,"prev2")}function ze(){pe(X,"next")}function Ke(){pe(me,"next2")}function de(Oe){var bt=(function(){switch(G){case"century":return yEe(l,a,Oe);case"decade":return uK(l,a,Oe);case"year":return a(l,Oe);case"month":return i(l,Oe);default:throw new Error("Invalid view: ".concat(G,"."))}})();return v?v({date:Oe,label:bt,locale:l||Yq()||void 0,view:G}):bt}function kt(){var Oe="".concat(Va,"__label");return y.jsxs("button",{"aria-label":p,"aria-live":g,className:Oe,disabled:!ae,onClick:n,style:{flexGrow:1},type:"button",children:[y.jsx("span",{className:"".concat(Oe,"__labelText ").concat(Oe,"__labelText--from"),children:de(e)}),ve?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"".concat(Oe,"__divider"),children:"  "}),y.jsx("span",{className:"".concat(Oe,"__labelText ").concat(Oe,"__labelText--to"),children:de(X)})]}):null]})}return y.jsxs("div",{className:Va,children:[P!==null&&ge?y.jsx("button",{"aria-label":M,className:"".concat(Va,"__arrow ").concat(Va,"__prev2-button"),disabled:Se,onClick:fe,type:"button",children:P}):null,U!==null&&y.jsx("button",{"aria-label":V,className:"".concat(Va,"__arrow ").concat(Va,"__prev-button"),disabled:we,onClick:it,type:"button",children:U}),kt(),j!==null&&y.jsx("button",{"aria-label":D,className:"".concat(Va,"__arrow ").concat(Va,"__next-button"),disabled:Ie,onClick:ze,type:"button",children:j}),A!==null&&ge?y.jsx("button",{"aria-label":S,className:"".concat(Va,"__arrow ").concat(Va,"__next2-button"),disabled:Be,onClick:Ke,type:"button",children:A}):null]})}var Vd=function(){return Vd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Vd.apply(this,arguments)},xEe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function dB(t){return"".concat(t,"%")}function XM(t){var e=t.children,n=t.className,r=t.count,i=t.direction,s=t.offset,a=t.style,l=t.wrap,u=xEe(t,["children","className","count","direction","offset","style","wrap"]);return y.jsx("div",Vd({className:n,style:Vd({display:"flex",flexDirection:i,flexWrap:l?"wrap":"nowrap"},a)},u,{children:_.Children.map(e,function(f,d){var p=s&&d===0?dB(100*s/r):null;return _.cloneElement(f,Vd(Vd({},f.props),{style:{flexBasis:dB(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:p,marginInlineStart:p,marginInlineEnd:0}}))})}))}function wEe(t,e,n){return e&&e>t?e:n&&n<t?n:t}function cg(t,e){return e[0]<=t&&e[1]>=t}function SEe(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function dK(t,e){return cg(t[0],e)||cg(t[1],e)}function hB(t,e,n){var r=dK(e,t),i=[];if(r){i.push(n);var s=cg(t[0],e),a=cg(t[1],e);s&&i.push("".concat(n,"Start")),a&&i.push("".concat(n,"End")),s&&a&&i.push("".concat(n,"BothEnds"))}return i}function TEe(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function EEe(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,i="react-calendar__tile",s=[i];if(!n)return s;var a=new Date,l=(function(){if(Array.isArray(n))return n;var v=t.dateType;if(!v)throw new Error("dateType is required when date is not an array of two dates");return fB(v,n)})();if(cg(a,l)&&s.push("".concat(i,"--now")),!e||!TEe(e))return s;var u=(function(){if(Array.isArray(e))return e;var v=t.valueType;if(!v)throw new Error("valueType is required when value is not an array of two dates");return fB(v,e)})();SEe(u,l)?s.push("".concat(i,"--active")):dK(u,l)&&s.push("".concat(i,"--hasActive"));var f=hB(u,l,"".concat(i,"--range"));s.push.apply(s,f);var d=Array.isArray(e)?e:[e];if(r&&d.length===1){var p=r>u[0]?[u[0],r]:[r,u[0]],g=hB(p,l,"".concat(i,"--hover"));s.push.apply(s,g)}return s}function nw(t){for(var e=t.className,n=t.count,r=n===void 0?3:n,i=t.dateTransform,s=t.dateType,a=t.end,l=t.hover,u=t.offset,f=t.renderTile,d=t.start,p=t.step,g=p===void 0?1:p,v=t.value,x=t.valueType,S=[],E=d;E<=a;E+=g){var A=i(E);S.push(f({classes:EEe({date:A,dateType:s,hover:l,value:v,valueType:x}),date:A}))}return y.jsx(XM,{className:e,count:r,offset:u,wrap:!0,children:S})}function rw(t){var e=t.activeStartDate,n=t.children,r=t.classes,i=t.date,s=t.formatAbbr,a=t.locale,l=t.maxDate,u=t.maxDateTransform,f=t.minDate,d=t.minDateTransform,p=t.onClick,g=t.onMouseOver,v=t.style,x=t.tileClassName,S=t.tileContent,E=t.tileDisabled,A=t.view,C=_.useMemo(function(){var L={activeStartDate:e,date:i,view:A};return typeof x=="function"?x(L):x},[e,i,x,A]),D=_.useMemo(function(){var L={activeStartDate:e,date:i,view:A};return typeof S=="function"?S(L):S},[e,i,S,A]);return y.jsxs("button",{className:yt(r,C),disabled:f&&d(f)>i||l&&u(l)<i||E?.({activeStartDate:e,date:i,view:A}),onClick:p?function(L){return p(i,L)}:void 0,onFocus:g?function(){return g(i)}:void 0,onMouseOver:g?function(){return g(i)}:void 0,style:v,type:"button",children:[s?y.jsx("abbr",{"aria-label":s(a,i),children:n}):n,D]})}var Jk=function(){return Jk=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Jk.apply(this,arguments)},AEe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},pB="react-calendar__century-view__decades__decade";function _Ee(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentCentury,i=t.formatYear,s=i===void 0?tw:i,a=AEe(t,["classes","currentCentury","formatYear"]),l=a.date,u=a.locale,f=[];return n&&f.push.apply(f,n),f.push(pB),Fh(l).getFullYear()!==r&&f.push("".concat(pB,"--neighboringCentury")),y.jsx(rw,Jk({},a,{classes:f,maxDateTransform:Z1,minDateTransform:Gc,view:"century",children:uK(u,s,l)}))}var Zk=function(){return Zk=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Zk.apply(this,arguments)},mB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function kEe(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,i=t.value,s=t.valueType,a=mB(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),l=lEe(e),u=l+(r?119:99);return y.jsx(nw,{className:"react-calendar__century-view__decades",dateTransform:Gc,dateType:"decade",end:u,hover:n,renderTile:function(f){var d=f.date,p=mB(f,["date"]);return y.jsx(_Ee,Zk({},a,p,{activeStartDate:e,currentCentury:l,date:d}),d.getTime())},start:l,step:10,value:i,valueType:s})}var eC=function(){return eC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},eC.apply(this,arguments)};function CEe(t){function e(){return y.jsx(kEe,eC({},t))}return y.jsx("div",{className:"react-calendar__century-view",children:e()})}var tC=function(){return tC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},tC.apply(this,arguments)},OEe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},gB="react-calendar__decade-view__years__year";function MEe(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentDecade,i=t.formatYear,s=i===void 0?tw:i,a=OEe(t,["classes","currentDecade","formatYear"]),l=a.date,u=a.locale,f=[];return n&&f.push.apply(f,n),f.push(gB),Gc(l).getFullYear()!==r&&f.push("".concat(gB,"--neighboringDecade")),y.jsx(rw,tC({},a,{classes:f,maxDateTransform:ew,minDateTransform:$h,view:"decade",children:s(u,l)}))}var nC=function(){return nC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},nC.apply(this,arguments)},yB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function NEe(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,i=t.value,s=t.valueType,a=yB(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),l=cEe(e),u=l+(r?11:9);return y.jsx(nw,{className:"react-calendar__decade-view__years",dateTransform:$h,dateType:"year",end:u,hover:n,renderTile:function(f){var d=f.date,p=yB(f,["date"]);return y.jsx(MEe,nC({},a,p,{activeStartDate:e,currentDecade:l,date:d}),d.getTime())},start:l,value:i,valueType:s})}var rC=function(){return rC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},rC.apply(this,arguments)};function DEe(t){function e(){return y.jsx(NEe,rC({},t))}return y.jsx("div",{className:"react-calendar__decade-view",children:e()})}var iC=function(){return iC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},iC.apply(this,arguments)},IEe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},vB=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},PEe="react-calendar__year-view__months__month";function jEe(t){var e=t.classes,n=e===void 0?[]:e,r=t.formatMonth,i=r===void 0?rEe:r,s=t.formatMonthYear,a=s===void 0?aK:s,l=IEe(t,["classes","formatMonth","formatMonthYear"]),u=l.date,f=l.locale;return y.jsx(rw,iC({},l,{classes:vB(vB([],n,!0),[PEe],!1),formatAbbr:a,maxDateTransform:iy,minDateTransform:Df,view:"year",children:i(f,u)}))}var sC=function(){return sC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},sC.apply(this,arguments)},bB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function REe(t){var e=t.activeStartDate,n=t.hover,r=t.value,i=t.valueType,s=bB(t,["activeStartDate","hover","value","valueType"]),a=0,l=11,u=hn(e);return y.jsx(nw,{className:"react-calendar__year-view__months",dateTransform:function(f){var d=new Date;return d.setFullYear(u,f,1),Df(d)},dateType:"month",end:l,hover:n,renderTile:function(f){var d=f.date,p=bB(f,["date"]);return y.jsx(jEe,sC({},s,p,{activeStartDate:e,date:d}),d.getTime())},start:a,value:r,valueType:i})}var aC=function(){return aC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},aC.apply(this,arguments)};function LEe(t){function e(){return y.jsx(REe,aC({},t))}return y.jsx("div",{className:"react-calendar__year-view",children:e()})}var oC=function(){return oC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},oC.apply(this,arguments)},VEe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},DA="react-calendar__month-view__days__day";function BEe(t){var e=t.calendarType,n=t.classes,r=n===void 0?[]:n,i=t.currentMonthIndex,s=t.formatDay,a=s===void 0?tEe:s,l=t.formatLongDate,u=l===void 0?nEe:l,f=VEe(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=f.date,p=f.locale,g=[];return r&&g.push.apply(g,r),g.push(DA),fK(d,e)&&g.push("".concat(DA,"--weekend")),d.getMonth()!==i&&g.push("".concat(DA,"--neighboringMonth")),y.jsx(rw,oC({},f,{classes:g,formatAbbr:u,maxDateTransform:GM,minDateTransform:sy,view:"month",children:a(p,d)}))}var lC=function(){return lC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},lC.apply(this,arguments)},xB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function zEe(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,i=t.showFixedNumberOfWeeks,s=t.showNeighboringMonth,a=t.value,l=t.valueType,u=xB(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),f=hn(e),d=Wc(e),p=i||s,g=lg(e,n),v=p?0:g,x=(p?-g:0)+1,S=(function(){if(i)return x+42-1;var E=sK(e);if(s){var A=new Date;A.setFullYear(f,d,E),A.setHours(0,0,0,0);var C=7-lg(A,n)-1;return E+C}return E})();return y.jsx(nw,{className:"react-calendar__month-view__days",count:7,dateTransform:function(E){var A=new Date;return A.setFullYear(f,d,E),sy(A)},dateType:"day",hover:r,end:S,renderTile:function(E){var A=E.date,C=xB(E,["date"]);return y.jsx(BEe,lC({},u,C,{activeStartDate:e,calendarType:n,currentMonthIndex:d,date:A}),A.getTime())},offset:v,start:x,value:a,valueType:l})}var hK="react-calendar__month-view__weekdays",IA="".concat(hK,"__weekday");function UEe(t){for(var e=t.calendarType,n=t.formatShortWeekday,r=n===void 0?iEe:n,i=t.formatWeekday,s=i===void 0?sEe:i,a=t.locale,l=t.onMouseLeave,u=new Date,f=Df(u),d=hn(f),p=Wc(f),g=[],v=1;v<=7;v+=1){var x=new Date(d,p,v-lg(f,e)),S=s(a,x);g.push(y.jsx("div",{className:yt(IA,vEe(x)&&"".concat(IA,"--current"),fK(x,e)&&"".concat(IA,"--weekend")),children:y.jsx("abbr",{"aria-label":S,title:S,children:r(a,x).replace(".","")})},v))}return y.jsx(XM,{className:hK,count:7,onFocus:l,onMouseOver:l,children:g})}var Zb=function(){return Zb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Zb.apply(this,arguments)},wB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},SB="react-calendar__tile";function FEe(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=y.jsx("span",{children:n});if(e){var i=t.date,s=t.onClickWeekNumber,a=t.weekNumber,l=wB(t,["date","onClickWeekNumber","weekNumber"]);return y.jsx("button",Zb({},l,{className:SB,onClick:function(u){return s(a,i,u)},type:"button",children:r}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var l=wB(t,["date","onClickWeekNumber","weekNumber"]);return y.jsx("div",Zb({},l,{className:SB,children:r}))}}function $Ee(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,i=t.onMouseLeave,s=t.showFixedNumberOfWeeks,a=(function(){if(s)return 6;var f=sK(e),d=lg(e,n),p=f-(7-d);return 1+Math.ceil(p/7)})(),l=(function(){for(var f=hn(e),d=Wc(e),p=J1(e),g=[],v=0;v<a;v+=1)g.push(Qk(new Date(f,d,p+v*7),n));return g})(),u=l.map(function(f){return uEe(f,n)});return y.jsx(XM,{className:"react-calendar__month-view__weekNumbers",count:a,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:u.map(function(f,d){var p=l[d];if(!p)throw new Error("date is not defined");return y.jsx(FEe,{date:p,onClickWeekNumber:r,weekNumber:f},f)})})}var cC=function(){return cC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},cC.apply(this,arguments)},HEe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function qEe(t){if(t)for(var e=0,n=Object.entries(qTe);e<n.length;e++){var r=n[e],i=r[0],s=r[1];if(s.includes(t))return i}return jr.ISO_8601}function KEe(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,i=t.showFixedNumberOfWeeks,s=t.calendarType,a=s===void 0?qEe(n):s,l=t.formatShortWeekday,u=t.formatWeekday,f=t.onClickWeekNumber,d=t.showWeekNumbers,p=HEe(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function g(){return y.jsx(UEe,{calendarType:a,formatShortWeekday:l,formatWeekday:u,locale:n,onMouseLeave:r})}function v(){return d?y.jsx($Ee,{activeStartDate:e,calendarType:a,onClickWeekNumber:f,onMouseLeave:r,showFixedNumberOfWeeks:i}):null}function x(){return y.jsx(zEe,cC({calendarType:a},p))}var S="react-calendar__month-view";return y.jsx("div",{className:yt(S,d?"".concat(S,"--weekNumbers"):""),children:y.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[v(),y.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[g(),x()]})]})})}var Bd=function(){return Bd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Bd.apply(this,arguments)},iv="react-calendar",Bv=["century","decade","year","month"],WEe=["decade","year","month","day"],QM=new Date;QM.setFullYear(1,0,1);QM.setHours(0,0,0,0);var GEe=new Date(864e13);function im(t){return t instanceof Date?t:new Date(t)}function pK(t,e){return Bv.slice(Bv.indexOf(t),Bv.indexOf(e)+1)}function YEe(t,e,n){var r=pK(e,n);return r.indexOf(t)!==-1}function JM(t,e,n){return t&&YEe(t,e,n)?t:n}function mK(t){var e=Bv.indexOf(t);return WEe[e]}function XEe(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=im(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function gK(t,e){var n=t.value,r=t.minDate,i=t.maxDate,s=t.maxDetail,a=XEe(n,e);if(!a)return null;var l=mK(s),u=(function(){switch(e){case 0:return Zu(l,a);case 1:return lK(l,a);default:throw new Error("Invalid index value: ".concat(e))}})();return wEe(u,r,i)}var ZM=function(t){return gK(t,0)},yK=function(t){return gK(t,1)},QEe=function(t){return[ZM,yK].map(function(e){return e(t)})};function vK(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,i=t.minDetail,s=t.value,a=t.view,l=JM(a,i,n),u=ZM({value:s,minDate:r,maxDate:e,maxDetail:n})||new Date;return Zu(l,u)}function JEe(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,i=t.defaultView,s=t.maxDate,a=t.maxDetail,l=t.minDate,u=t.minDetail,f=t.value,d=t.view,p=JM(d,u,a),g=e||n;return g?Zu(p,g):vK({maxDate:s,maxDetail:a,minDate:l,minDetail:u,value:f||r,view:d||i})}function PA(t){return t&&(!Array.isArray(t)||t.length===1)}function sv(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var ZEe=_.forwardRef(function(e,n){var r=e.activeStartDate,i=e.allowPartialRange,s=e.calendarType,a=e.className,l=e.defaultActiveStartDate,u=e.defaultValue,f=e.defaultView,d=e.formatDay,p=e.formatLongDate,g=e.formatMonth,v=e.formatMonthYear,x=e.formatShortWeekday,S=e.formatWeekday,E=e.formatYear,A=e.goToRangeStartOnSelect,C=A===void 0?!0:A,D=e.inputRef,L=e.locale,j=e.maxDate,B=j===void 0?GEe:j,M=e.maxDetail,N=M===void 0?"month":M,P=e.minDate,F=P===void 0?QM:P,V=e.minDetail,$=V===void 0?"century":V,U=e.navigationAriaLabel,pe=e.navigationAriaLive,ve=e.navigationLabel,G=e.next2AriaLabel,K=e.next2Label,ae=e.nextAriaLabel,ge=e.nextLabel,xe=e.onActiveStartDateChange,q=e.onChange,X=e.onClickDay,me=e.onClickDecade,we=e.onClickMonth,Se=e.onClickWeekNumber,Ie=e.onClickYear,Be=e.onDrillDown,it=e.onDrillUp,fe=e.onViewChange,ze=e.prev2AriaLabel,Ke=e.prev2Label,de=e.prevAriaLabel,kt=e.prevLabel,Oe=e.returnValue,bt=Oe===void 0?"start":Oe,st=e.selectRange,Kt=e.showDoubleView,pi=e.showFixedNumberOfWeeks,Dt=e.showNavigation,pn=Dt===void 0?!0:Dt,us=e.showNeighboringCentury,rr=e.showNeighboringDecade,Cn=e.showNeighboringMonth,Tt=Cn===void 0?!0:Cn,Xs=e.showWeekNumbers,Qs=e.tileClassName,io=e.tileContent,Vi=e.tileDisabled,Js=e.value,Ea=e.view,Aa=_.useState(l),_a=Aa[0],Yn=Aa[1],vn=_.useState(null),Br=vn[0],Wt=vn[1],so=_.useState(Array.isArray(u)?u.map(function(We){return We!==null?im(We):null}):u!=null?im(u):null),fs=so[0],ul=so[1],Qr=_.useState(f),Zs=Qr[0],Jt=Qr[1],It=r||_a||JEe({activeStartDate:r,defaultActiveStartDate:l,defaultValue:u,defaultView:f,maxDate:B,maxDetail:N,minDate:F,minDetail:$,value:Js,view:Ea}),Ut=(function(){var We=(function(){return st&&PA(fs)?fs:Js!==void 0?Js:fs})();return We?Array.isArray(We)?We.map(function(Pt){return Pt!==null?im(Pt):null}):We!==null?im(We):null:null})(),ir=mK(N),Et=JM(Ea||Zs,$,N),xr=pK($,N),mi=st?Br:null,gi=xr.indexOf(Et)<xr.length-1,fl=xr.indexOf(Et)>0,ds=_.useCallback(function(We){var Pt=(function(){switch(bt){case"start":return ZM;case"end":return yK;case"range":return QEe;default:throw new Error("Invalid returnValue.")}})();return Pt({maxDate:B,maxDetail:N,minDate:F,value:We})},[B,N,F,bt]),hs=_.useCallback(function(We,Pt){Yn(We);var At={action:Pt,activeStartDate:We,value:Ut,view:Et};xe&&!sv(It,We)&&xe(At)},[It,xe,Ut,Et]),ps=_.useCallback(function(We,Pt){var At=(function(){switch(Et){case"century":return me;case"decade":return Ie;case"year":return we;case"month":return X;default:throw new Error("Invalid view: ".concat(Et,"."))}})();At&&At(We,Pt)},[X,me,we,Ie,Et]),Bi=_.useCallback(function(We,Pt){if(gi){ps(We,Pt);var At=xr[xr.indexOf(Et)+1];if(!At)throw new Error("Attempted to drill down from the lowest view.");Yn(We),Jt(At);var sr={action:"drillDown",activeStartDate:We,value:Ut,view:At};xe&&!sv(It,We)&&xe(sr),fe&&Et!==At&&fe(sr),Be&&Be(sr)}},[It,gi,xe,ps,Be,fe,Ut,Et,xr]),Jr=_.useCallback(function(){if(fl){var We=xr[xr.indexOf(Et)-1];if(!We)throw new Error("Attempted to drill up from the highest view.");var Pt=Zu(We,It);Yn(Pt),Jt(We);var At={action:"drillUp",activeStartDate:Pt,value:Ut,view:We};xe&&!sv(It,Pt)&&xe(At),fe&&Et!==We&&fe(At),it&&it(At)}},[It,fl,xe,it,fe,Ut,Et,xr]),ka=_.useCallback(function(We,Pt){var At=Ut;ps(We,Pt);var sr=st&&!PA(At),en;if(st)if(sr)en=Zu(ir,We);else{if(!At)throw new Error("previousValue is required");if(Array.isArray(At))throw new Error("previousValue must not be an array");en=gEe(ir,At,We)}else en=ds(We);var ms=!st||sr||C?vK({maxDate:B,maxDetail:N,minDate:F,minDetail:$,value:en,view:Et}):null;Pt.persist(),Yn(ms),ul(en);var vi={action:"onChange",activeStartDate:ms,value:en,view:Et};if(xe&&!sv(It,ms)&&xe(vi),q)if(st){var ar=PA(en);if(!ar)q(en||null,Pt);else if(i){if(Array.isArray(en))throw new Error("value must not be an array");q([en||null,null],Pt)}}else q(en||null,Pt)},[It,i,ds,C,B,N,F,$,xe,q,ps,st,Ut,ir,Et]);function Zr(We){Wt(We)}function wr(){Wt(null)}_.useImperativeHandle(n,function(){return{activeStartDate:It,drillDown:Bi,drillUp:Jr,onChange:ka,setActiveStartDate:hs,value:Ut,view:Et}},[It,Bi,Jr,ka,hs,Ut,Et]);function Zt(We){var Pt=We?oK(Et,It):Zu(Et,It),At=gi?Bi:ka,sr={activeStartDate:Pt,hover:mi,locale:L,maxDate:B,minDate:F,onClick:At,onMouseOver:st?Zr:void 0,tileClassName:Qs,tileContent:io,tileDisabled:Vi,value:Ut,valueType:ir};switch(Et){case"century":return y.jsx(CEe,Bd({formatYear:E,showNeighboringCentury:us},sr));case"decade":return y.jsx(DEe,Bd({formatYear:E,showNeighboringDecade:rr},sr));case"year":return y.jsx(LEe,Bd({formatMonth:g,formatMonthYear:v},sr));case"month":return y.jsx(KEe,Bd({calendarType:s,formatDay:d,formatLongDate:p,formatShortWeekday:x,formatWeekday:S,onClickWeekNumber:Se,onMouseLeave:st?wr:void 0,showFixedNumberOfWeeks:typeof pi<"u"?pi:Kt,showNeighboringMonth:Tt,showWeekNumbers:Xs},sr));default:throw new Error("Invalid view: ".concat(Et,"."))}}function mn(){return pn?y.jsx(bEe,{activeStartDate:It,drillUp:Jr,formatMonthYear:v,formatYear:E,locale:L,maxDate:B,minDate:F,navigationAriaLabel:U,navigationAriaLive:pe,navigationLabel:ve,next2AriaLabel:G,next2Label:K,nextAriaLabel:ae,nextLabel:ge,prev2AriaLabel:ze,prev2Label:Ke,prevAriaLabel:de,prevLabel:kt,setActiveStartDate:hs,showDoubleView:Kt,view:Et,views:xr}):null}var yi=Array.isArray(Ut)?Ut:[Ut];return y.jsxs("div",{className:yt(iv,st&&yi.length===1&&"".concat(iv,"--selectRange"),Kt&&"".concat(iv,"--doubleView"),a),ref:D,children:[mn(),y.jsxs("div",{className:"".concat(iv,"__viewContainer"),onBlur:st?wr:void 0,onMouseLeave:st?wr:void 0,children:[Zt(),Kt?Zt(!0):null]})]})}),bK=F$();function Cr(t){this.content=t}Cr.prototype={constructor:Cr,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Cr(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Cr(n)},addToStart:function(t,e){return new Cr([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Cr(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Cr(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Cr.from(t),t.size?new Cr(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Cr.from(t),t.size?new Cr(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Cr.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Cr.from=function(t){if(t instanceof Cr)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Cr(e)};function xK(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){let a=xK(i.content,s.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function wK(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let a=t.child(--i),l=e.child(--s),u=a.nodeSize;if(a==l){n-=u,r-=u;continue}if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let f=0,d=Math.min(a.text.length,l.text.length);for(;f<d&&a.text[a.text.length-f-1]==l.text[l.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let f=wK(a.content,l.content,n-1,r-1);if(f)return f}n-=u,r-=u}}class he{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let a=0,l=0;l<n;a++){let u=this.content[a],f=l+u.nodeSize;if(f>e&&r(u,i+l,s||null,a)!==!1&&u.content.size){let d=l+1;u.nodesBetween(Math.max(0,e-d),Math.min(u.content.size,n-d),r,i+d)}l=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",a=!0;return this.nodesBetween(e,n,(l,u)=>{let f=l.isText?l.text.slice(Math.max(e,u)-u,n-u):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&f||l.isTextblock)&&r&&(a?a=!1:s+=r),s+=f},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new he(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,a=0;a<n;s++){let l=this.content[s],u=a+l.nodeSize;u>e&&((a<e||u>n)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,n-a-1))),r.push(l),i+=l.nodeSize),a=u}return new he(r,i)}cutByIndex(e,n){return e==n?he.empty:e==0&&n==this.content.length?this:new he(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new he(i,s)}addToStart(e){return new he([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new he(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return xK(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return wK(this,e,n,r)}findIndex(e){if(e==0)return av(0,e);if(e==this.size)return av(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?av(n+1,s):av(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return he.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new he(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return he.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new he(n||e,r)}static from(e){if(!e)return he.empty;if(e instanceof he)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new he([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}he.empty=new he([],0);const jA={index:0,offset:0};function av(t,e){return jA.index=t,jA.offset=e,jA}function ex(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!ex(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!ex(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let $t=class uC{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ex(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return uC.none;if(e instanceof uC)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};$t.none=[];class tx extends Error{}class Ee{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=TK(this.content,e+this.openStart,n);return r&&new Ee(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Ee(SK(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Ee.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ee(he.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new Ee(e,r,i)}}Ee.empty=new Ee(he.empty,0,0);function SK(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:a,offset:l}=t.findIndex(n);if(i==e||s.isText){if(l!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(SK(s.content,e-i-1,n-i-1)))}function TK(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=TK(a.content,e-s-1,n,a);return l&&t.replaceChild(i,a.copy(l))}function eAe(t,e,n){if(n.openStart>t.depth)throw new tx("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new tx("Inconsistent open depths");return EK(t,e,n,0)}function EK(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let a=EK(t,e,n,r+1);return s.copy(s.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,l=a.content;return tf(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:a,end:l}=tAe(n,t);return tf(s,_K(t,a,l,e,r))}else return tf(s,nx(t,e,r))}function AK(t,e){if(!e.type.compatibleContent(t.type))throw new tx("Cannot join "+e.type.name+" onto "+t.type.name)}function fC(t,e,n){let r=t.node(n);return AK(r,e.node(n)),r}function ef(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Tm(t,e,n,r){let i=(e||t).node(n),s=0,a=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(ef(t.nodeAfter,r),s++));for(let l=s;l<a;l++)ef(i.child(l),r);e&&e.depth==n&&e.textOffset&&ef(e.nodeBefore,r)}function tf(t,e){return t.type.checkContent(e),t.copy(e)}function _K(t,e,n,r,i){let s=t.depth>i&&fC(t,e,i+1),a=r.depth>i&&fC(n,r,i+1),l=[];return Tm(null,t,i,l),s&&a&&e.index(i)==n.index(i)?(AK(s,a),ef(tf(s,_K(t,e,n,r,i+1)),l)):(s&&ef(tf(s,nx(t,e,i+1)),l),Tm(e,n,i,l),a&&ef(tf(a,nx(n,r,i+1)),l)),Tm(r,null,i,l),new he(l)}function nx(t,e,n){let r=[];if(Tm(null,t,n,r),t.depth>n){let i=fC(t,e,n+1);ef(tf(i,nx(t,e,n+1)),r)}return Tm(e,null,n,r),new he(r)}function tAe(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(he.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class ug{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return $t.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new rx(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let a=e;;){let{index:l,offset:u}=a.content.findIndex(s),f=s-u;if(r.push(a,l,i+u),!f||(a=a.child(l),a.isText))break;s=f-1,i+=u+1}return new ug(n,r,s)}static resolveCached(e,n){let r=TB.get(e);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else TB.set(e,r=new nAe);let i=r.elts[r.i]=ug.resolve(e,n);return r.i=(r.i+1)%rAe,i}}class nAe{constructor(){this.elts=[],this.i=0}}const rAe=12,TB=new WeakMap;class rx{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const iAe=Object.create(null);class va{constructor(e,n,r,i=$t.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||he.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&ex(this.attrs,n||e.defaultAttrs||iAe)&&$t.sameSet(this.marks,r||$t.none)}copy(e=null){return e==this.content?this:new va(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new va(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Ee.empty;let i=this.resolve(e),s=this.resolve(n),a=r?0:i.sharedDepth(n),l=i.start(a),f=i.node(a).content.cut(i.pos-l,s.pos-l);return new Ee(f,i.depth-a,s.depth-a)}replace(e,n,r){return eAe(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return ug.resolveCached(this,e)}resolveNoCache(e){return ug.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),kK(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=he.empty,i=0,s=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,s),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let u=i;u<s;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=$t.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!$t.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=he.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}}va.prototype.text=void 0;class ix extends va{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):kK(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ix(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ix(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function kK(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class vf{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new sAe(e,n);if(r.next==null)return vf.empty;let i=CK(r);r.next&&r.err("Unexpected trailing text");let s=dAe(fAe(i));return hAe(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(a,l){let u=a.matchFragment(e,r);if(u&&(!n||u.validEnd))return he.from(l.map(f=>f.createAndFill()));for(let f=0;f<a.next.length;f++){let{type:d,next:p}=a.next[f];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(p)==-1){i.push(p);let g=s(p,l.concat(d));if(g)return g}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let a=[];for(let l=i;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:l,next:u}=s.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||u.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return s}).join(`
`)}}vf.empty=new vf(!0);class sAe{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function CK(t){let e=[];do e.push(aAe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function aAe(t){let e=[];do e.push(oAe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function oAe(t){let e=uAe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=lAe(t,e);else break;return e}function EB(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function lAe(t,e){let n=EB(t),r=n;return t.eat(",")&&(t.next!="}"?r=EB(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function cAe(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let a=n[s];a.isInGroup(e)&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function uAe(t){if(t.eat("(")){let e=CK(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=cAe(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function fAe(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(a,l,u){let f={term:u,to:l};return e[a].push(f),f}function i(a,l){a.forEach(u=>u.to=l)}function s(a,l){if(a.type=="choice")return a.exprs.reduce((u,f)=>u.concat(s(f,l)),[]);if(a.type=="seq")for(let u=0;;u++){let f=s(a.exprs[u],l);if(u==a.exprs.length-1)return f;i(f,l=n())}else if(a.type=="star"){let u=n();return r(l,u),i(s(a.expr,u),u),[r(u)]}else if(a.type=="plus"){let u=n();return i(s(a.expr,l),u),i(s(a.expr,u),u),[r(u)]}else{if(a.type=="opt")return[r(l)].concat(s(a.expr,l));if(a.type=="range"){let u=l;for(let f=0;f<a.min;f++){let d=n();i(s(a.expr,u),d),u=d}if(a.max==-1)i(s(a.expr,u),u);else for(let f=a.min;f<a.max;f++){let d=n();r(u,d),i(s(a.expr,u),d),u=d}return[r(u)]}else{if(a.type=="name")return[r(l,void 0,a.value)];throw new Error("Unknown expr type")}}}}function OK(t,e){return e-t}function AB(t,e){let n=[];return r(e),n.sort(OK);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let a=0;a<s.length;a++){let{term:l,to:u}=s[a];!l&&n.indexOf(u)==-1&&r(u)}}}function dAe(t){let e=Object.create(null);return n(AB(t,0));function n(r){let i=[];r.forEach(a=>{t[a].forEach(({term:l,to:u})=>{if(!l)return;let f;for(let d=0;d<i.length;d++)i[d][0]==l&&(f=i[d][1]);AB(t,u).forEach(d=>{f||i.push([l,f=[]]),f.indexOf(d)==-1&&f.push(d)})})});let s=e[r.join(",")]=new vf(r.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let l=i[a][1].sort(OK);s.next.push({type:i[a][0],next:e[l.join(",")]||n(l)})}return s}}function hAe(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,a=[];for(let l=0;l<i.next.length;l++){let{type:u,next:f}=i.next[l];a.push(u.name),s&&!(u.isText||u.hasRequiredAttrs())&&(s=!1),r.indexOf(f)==-1&&r.push(f)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function MK(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function NK(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function DK(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function IK(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new mAe(t,r,e[r]);return n}let _B=class PK{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=IK(e,r.attrs),this.defaultAttrs=MK(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==vf.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:NK(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new va(this,this.computeAttrs(e),he.from(n),$t.setFrom(r))}createChecked(e=null,n,r){return n=he.from(n),this.checkContent(n),new va(this,this.computeAttrs(e),n,$t.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=he.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(he.empty,!0);return s?new va(this,e,n.append(s),$t.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){DK(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:$t.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,a)=>r[s]=new PK(s,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function pAe(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class mAe{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?pAe(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class iw{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=IK(e,i.attrs),this.excluded=null;let s=MK(this.attrs);this.instance=s?new $t(this,s):null}create(e=null){return!e&&this.instance?this.instance:new $t(this,NK(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,a)=>r[s]=new iw(s,i++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){DK(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class jK{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Cr.from(e.nodes),n.marks=Cr.from(e.marks||{}),this.nodes=_B.compile(this.spec.nodes,this),this.marks=iw.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=vf.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?kB(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:kB(this,a.split(" "))}this.nodeFromJSON=i=>va.fromJSON(this,i),this.markFromJSON=i=>$t.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof _B){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new ix(r,r.defaultAttrs,e,$t.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function kB(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],a=s;if(s)n.push(s);else for(let l in t.marks){let u=t.marks[l];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=u)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function gAe(t){return t.tag!=null}function yAe(t){return t.style!=null}class yc{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(gAe(i))this.tags.push(i);else if(yAe(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new OB(this,n,!1);return r.addAll(e,$t.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new OB(this,n,!0);return r.addAll(e,$t.none,n.from,n.to),Ee.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(xAe(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],l=a.style;if(!(l.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(a.getAttrs){let u=a.getAttrs(n);if(u===!1)continue;a.attrs=u||void 0}return a}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let l=n[a];if((l.priority==null?50:l.priority)<s)break}n.splice(a,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=MB(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=MB(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new yc(e,yc.schemaRules(e)))}}const RK={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},vAe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},LK={ol:!0,ul:!0},fg=1,dC=2,Em=4;function CB(t,e,n){return e!=null?(e?fg:0)|(e==="full"?dC:0):t&&t.whitespace=="pre"?fg|dC:n&~Em}class ov{constructor(e,n,r,i,s,a){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=$t.none,this.match=s||(a&Em?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(he.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&fg)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=he.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(he.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!RK.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class OB{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,a=CB(null,n.preserveWhitespace,0)|(r?Em:0);i?s=new ov(i.type,i.attrs,$t.none,!0,n.topMatch||i.type.contentMatch,a):r?s=new ov(null,null,$t.none,!0,null,a):s=new ov(e.schema.topNodeType,null,$t.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&dC?"full":this.localPreserveWS||(i.options&fg)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),l;LK.hasOwnProperty(a)&&this.parser.normalizeLists&&bAe(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(u?u.ignore:vAe.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let f,d=this.needsBlock;if(RK.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),f=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let p=u&&u.skip?n:this.readStyles(e,n);p&&this.addAll(e,p),f&&this.sync(s),this.needsBlock=d}else{let f=this.readStyles(e,n);f&&this.addElementByRule(e,u,f,u.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=r.getPropertyValue(s);if(a)for(let l=void 0;;){let u=this.parser.matchStyle(s,a,this,l);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(f=>!u.clearMark(f)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)l=u;else break}}return n}addElementByRule(e,n,r,i){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let u=this.enter(a,n.attrs||null,r,n.preserveWhitespace);u&&(s=!0,r=u)}else{let u=this.parser.schema.marks[n.mark];r=r.concat(u.create(n.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u,r,!1));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u,r),this.findAround(e,u,!1)}s&&this.sync(l)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let a=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];a!=l;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let a=this.open,l=0;a>=0;a--){let u=this.nodes[a],f=u.findWrapping(e);if(f&&(!i||i.length>f.length+l)&&(i=f,s=u,!f.length))break;if(u.solid){if(r)break;l+=2}}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let a=$t.none;for(let l of i.concat(e.marks))(s.type?s.type.allowsMarkType(l.type):NB(l.type,e.type))&&(a=l.addToSet(a));return s.content.push(e.mark(a)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let l=CB(e,s,a.options);a.options&Em&&a.content.length==0&&(l|=Em);let u=$t.none;return r=r.filter(f=>(a.type?a.type.allowsMarkType(f.type):NB(f.type,e))?(u=f.addToSet(u),!1):!0),this.nodes.push(new ov(e,n,u,i,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=fg)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=(l,u)=>{for(;l>=0;l--){let f=n[l];if(f==""){if(l==n.length-1||l==0)continue;for(;u>=s;u--)if(a(l-1,u))return!0;return!1}else{let d=u>0||u==0&&i?this.nodes[u].type:r&&u>=s?r.node(u-s).type:null;if(!d||d.name!=f&&!d.isInGroup(f))return!1;u--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function bAe(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&LK.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function xAe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function MB(t){let e={};for(let n in t)e[n]=t[n];return e}function NB(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],a=l=>{s.push(l);for(let u=0;u<l.edgeCount;u++){let{type:f,next:d}=l.edge(u);if(f==e||s.indexOf(d)<0&&a(d))return!0}};if(a(i.contentMatch))return!0}}class Pf{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=RA(n).createDocumentFragment());let i=r,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let l=0,u=0;for(;l<s.length&&u<a.marks.length;){let f=a.marks[u];if(!this.marks[f.type.name]){u++;continue}if(!f.eq(s[l][0])||f.type.spec.spanning===!1)break;l++,u++}for(;l<s.length;)i=s.pop()[1];for(;u<a.marks.length;){let f=a.marks[u++],d=this.serializeMark(f,a.isInline,n);d&&(s.push([f,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=zv(RA(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&zv(RA(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return zv(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Pf(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=DB(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return DB(e.marks)}}function DB(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function RA(t){return t.document||window.document}const IB=new WeakMap;function wAe(t){let e=IB.get(t);return e===void 0&&IB.set(t,e=SAe(t)),e}function SAe(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function zv(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=wAe(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let l,u=n?t.createElementNS(n,i):t.createElement(i),f=e[1],d=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){d=2;for(let p in f)if(f[p]!=null){let g=p.indexOf(" ");g>0?u.setAttributeNS(p.slice(0,g),p.slice(g+1),f[p]):p=="style"&&u.style?u.style.cssText=f[p]:u.setAttribute(p,f[p])}}for(let p=d;p<e.length;p++){let g=e[p];if(g===0){if(p<e.length-1||p>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:v,contentDOM:x}=zv(t,g,n,r);if(u.appendChild(v),x){if(l)throw new RangeError("Multiple content holes");l=x}}}return{dom:u,contentDOM:l}}const VK=65535,BK=Math.pow(2,16);function TAe(t,e){return t+e*BK}function PB(t){return t&VK}function EAe(t){return(t-(t&VK))/BK}const zK=1,UK=2,Uv=4,FK=8;class hC{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&FK)>0}get deletedBefore(){return(this.delInfo&(zK|Uv))>0}get deletedAfter(){return(this.delInfo&(UK|Uv))>0}get deletedAcross(){return(this.delInfo&Uv)>0}}class Zi{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Zi.empty)return Zi.empty}recover(e){let n=0,r=PB(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+EAe(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?i:0);if(u>e)break;let f=this.ranges[l+s],d=this.ranges[l+a],p=u+f;if(e<=p){let g=f?e==u?-1:e==p?1:n:n,v=u+i+(g<0?0:d);if(r)return v;let x=e==(n<0?u:p)?null:TAe(l/3,e-u),S=e==u?UK:e==p?zK:Uv;return(n<0?e!=u:e!=p)&&(S|=FK),new hC(v,S,x)}i+=d-f}return r?e+i:new hC(e+i,0,null)}touches(e,n){let r=0,i=PB(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?r:0);if(u>e)break;let f=this.ranges[l+s],d=u+f;if(e<=d&&l==i*3)return!0;r+=this.ranges[l+a]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],l=a-(this.inverted?s:0),u=a+(this.inverted?0:s),f=this.ranges[i+n],d=this.ranges[i+r];e(l,l+f,u,u+d),s+=d-f}}invert(){return new Zi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Zi.empty:new Zi(e<0?[0,-e,0]:[0,0,e])}}Zi.empty=new Zi([]);class dg{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new dg(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new dg;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],l=a.mapResult(e,n);if(l.recover!=null){let u=this.getMirror(s);if(u!=null&&u>s&&u<this.to){s=u,e=this._maps[u].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new hC(e,i,null)}}const LA=Object.create(null);class Xr{getMap(){return Zi.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=LA[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in LA)throw new RangeError("Duplicate use of step JSON ID "+e);return LA[e]=n,n.prototype.jsonID=e,n}}class qn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new qn(e,null)}static fail(e){return new qn(null,e)}static fromReplace(e,n,r,i){try{return qn.ok(e.replace(n,r,i))}catch(s){if(s instanceof tx)return qn.fail(s.message);throw s}}}function eN(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(eN(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return he.fromArray(r)}class ac extends Xr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Ee(eN(n.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return qn.fromReplace(e,this.from,this.to,s)}invert(){return new ma(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ac(n.pos,r.pos,this.mark)}merge(e){return e instanceof ac&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ac(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ac(n.from,n.to,e.markFromJSON(n.mark))}}Xr.jsonID("addMark",ac);class ma extends Xr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Ee(eN(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return qn.fromReplace(e,this.from,this.to,r)}invert(){return new ac(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ma(n.pos,r.pos,this.mark)}merge(e){return e instanceof ma&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ma(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ma(n.from,n.to,e.markFromJSON(n.mark))}}Xr.jsonID("removeMark",ma);class oc extends Xr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return qn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return qn.fromReplace(e,this.pos,this.pos+1,new Ee(he.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new oc(this.pos,n.marks[i]);return new oc(this.pos,this.mark)}}return new bf(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new oc(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new oc(n.pos,e.markFromJSON(n.mark))}}Xr.jsonID("addNodeMark",oc);class bf extends Xr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return qn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return qn.fromReplace(e,this.pos,this.pos+1,new Ee(he.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new oc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new bf(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new bf(n.pos,e.markFromJSON(n.mark))}}Xr.jsonID("removeNodeMark",bf);class ur extends Xr{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&pC(e,this.from,this.to)?qn.fail("Structure replace would overwrite content"):qn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Zi([this.from,this.to-this.from,this.slice.size])}invert(e){return new ur(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ur(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ur)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Ee.empty:new Ee(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ur(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Ee.empty:new Ee(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ur(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ur(n.from,n.to,Ee.fromJSON(e,n.slice),!!n.structure)}}Xr.jsonID("replace",ur);class hr extends Xr{constructor(e,n,r,i,s,a,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=l}apply(e){if(this.structure&&(pC(e,this.from,this.gapFrom)||pC(e,this.gapTo,this.to)))return qn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return qn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?qn.fromReplace(e,this.from,this.to,r):qn.fail("Content does not fit in gap")}getMap(){return new Zi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new hr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new hr(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new hr(n.from,n.to,n.gapFrom,n.gapTo,Ee.fromJSON(e,n.slice),n.insert,!!n.structure)}}Xr.jsonID("replaceAround",hr);function pC(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function AAe(t,e,n,r){let i=[],s=[],a,l;t.doc.nodesBetween(e,n,(u,f,d)=>{if(!u.isInline)return;let p=u.marks;if(!r.isInSet(p)&&d.type.allowsMarkType(r.type)){let g=Math.max(f,e),v=Math.min(f+u.nodeSize,n),x=r.addToSet(p);for(let S=0;S<p.length;S++)p[S].isInSet(x)||(a&&a.to==g&&a.mark.eq(p[S])?a.to=v:i.push(a=new ma(g,v,p[S])));l&&l.to==g?l.to=v:s.push(l=new ac(g,v,r))}}),i.forEach(u=>t.step(u)),s.forEach(u=>t.step(u))}function _Ae(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(a,l)=>{if(!a.isInline)return;s++;let u=null;if(r instanceof iw){let f=a.marks,d;for(;d=r.isInSet(f);)(u||(u=[])).push(d),f=d.removeFromSet(f)}else r?r.isInSet(a.marks)&&(u=[r]):u=a.marks;if(u&&u.length){let f=Math.min(l+a.nodeSize,n);for(let d=0;d<u.length;d++){let p=u[d],g;for(let v=0;v<i.length;v++){let x=i[v];x.step==s-1&&p.eq(i[v].style)&&(g=x)}g?(g.to=f,g.step=s):i.push({style:p,from:Math.max(l,e),to:f,step:s})}}}),i.forEach(a=>t.step(new ma(a.from,a.to,a.style)))}function tN(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),a=[],l=e+1;for(let u=0;u<s.childCount;u++){let f=s.child(u),d=l+f.nodeSize,p=r.matchType(f.type);if(!p)a.push(new ur(l,d,Ee.empty));else{r=p;for(let g=0;g<f.marks.length;g++)n.allowsMarkType(f.marks[g].type)||t.step(new ma(l,d,f.marks[g]));if(i&&f.isText&&n.whitespace!="pre"){let g,v=/\r?\n|\r/g,x;for(;g=v.exec(f.text);)x||(x=new Ee(he.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),a.push(new ur(l+g.index,l+g.index+g[0].length,x))}}l=d}if(!r.validEnd){let u=r.fillBefore(he.empty,!0);t.replace(l,l,new Ee(u,0,0))}for(let u=a.length-1;u>=0;u--)t.step(a[u])}function kAe(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Hh(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,a,n))return r;if(r==0||i.type.spec.isolating||!kAe(i,s,a))break}return null}function CAe(t,e,n){let{$from:r,$to:i,depth:s}=e,a=r.before(s+1),l=i.after(s+1),u=a,f=l,d=he.empty,p=0;for(let x=s,S=!1;x>n;x--)S||r.index(x)>0?(S=!0,d=he.from(r.node(x).copy(d)),p++):u--;let g=he.empty,v=0;for(let x=s,S=!1;x>n;x--)S||i.after(x+1)<i.end(x)?(S=!0,g=he.from(i.node(x).copy(g)),v++):f++;t.step(new hr(u,f,a,l,new Ee(d.append(g),p,v),d.size-p,!0))}function nN(t,e,n=null,r=t){let i=OAe(t,e),s=i&&MAe(r,e);return s?i.map(jB).concat({type:e,attrs:n}).concat(s.map(jB)):null}function jB(t){return{type:t,attrs:null}}function OAe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return n.canReplaceWith(r,i,a)?s:null}function MAe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let u=(a.length?a[a.length-1]:e).contentMatch;for(let f=r;u&&f<i;f++)u=u.matchType(n.child(f).type);return!u||!u.validEnd?null:a}function NAe(t,e,n){let r=he.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let l=n[a].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=he.from(n[a].type.create(n[a].attrs,r))}let i=e.start,s=e.end;t.step(new hr(i,s,i,s,new Ee(r,0,0),n.length,!0))}function DAe(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(a,l)=>{let u=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,u)&&IAe(t.doc,t.mapping.slice(s).map(l),r)){let f=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!x?f=!1:!v&&x&&(f=!0)}f===!1&&HK(t,a,l,s),tN(t,t.mapping.slice(s).map(l,1),r,void 0,f===null);let d=t.mapping.slice(s),p=d.map(l,1),g=d.map(l+a.nodeSize,1);return t.step(new hr(p,g,p+1,g-1,new Ee(he.from(r.create(u,null,a.marks)),0,0),1,!0)),f===!0&&$K(t,a,l,s),!1}})}function $K(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(i.text);){let u=t.mapping.slice(r).map(n+1+s+a.index);t.replaceWith(u,u+1,e.type.schema.linebreakReplacement.create())}}})}function HK(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+s);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function IAe(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function PAe(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new hr(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Ee(he.from(a),0,0),1,!0))}function zo(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,d=n-2;f>s;f--,d--){let p=i.node(f),g=i.index(f);if(p.type.spec.isolating)return!1;let v=p.content.cutByIndex(g,p.childCount),x=r&&r[d+1];x&&(v=v.replaceChild(0,x.type.create(x.attrs)));let S=r&&r[d]||p;if(!p.canReplace(g+1,p.childCount)||!S.type.validContent(v))return!1}let l=i.indexAfter(s),u=r&&r[0];return i.node(s).canReplaceWith(l,l,u?u.type:i.node(s+1).type)}function jAe(t,e,n=1,r){let i=t.doc.resolve(e),s=he.empty,a=he.empty;for(let l=i.depth,u=i.depth-n,f=n-1;l>u;l--,f--){s=he.from(i.node(l).copy(s));let d=r&&r[f];a=he.from(d?d.type.create(d.attrs,a):i.node(l).copy(a))}t.step(new ur(e,e,new Ee(s.append(a),n,n),!0))}function Yc(t,e){let n=t.resolve(e),r=n.index();return qK(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function RAe(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),a=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function qK(t,e){return!!(t&&e&&!t.isLeaf&&RAe(t,e))}function sw(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,a,l=r.index(i);if(i==r.depth?(s=r.nodeBefore,a=r.nodeAfter):n>0?(s=r.node(i+1),l++,a=r.node(i).maybeChild(l)):(s=r.node(i).maybeChild(l-1),a=r.node(i+1)),s&&!s.isTextblock&&qK(s,a)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function LAe(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),a=s.node().type;if(i&&a.inlineContent){let d=a.whitespace=="pre",p=!!a.contentMatch.matchType(i);d&&!p?r=!1:!d&&p&&(r=!0)}let l=t.steps.length;if(r===!1){let d=t.doc.resolve(e+n);HK(t,d.node(),d.before(),l)}a.inlineContent&&tN(t,e+n-1,a,s.node().contentMatchAt(s.index()),r==null);let u=t.mapping.slice(l),f=u.map(e-n);if(t.step(new ur(f,u.map(e+n,-1),Ee.empty,!0)),r===!0){let d=t.doc.resolve(f);$K(t,d.node(),d.before(),t.steps.length)}return t}function VAe(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function KK(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,u=r.index(a)+(l>0?1:0),f=r.node(a),d=!1;if(s==1)d=f.canReplace(u,u,i);else{let p=f.contentMatchAt(u).findWrapping(i.firstChild.type);d=p&&f.canReplaceWith(u,u,p[0])}if(d)return l==0?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function aw(t,e,n=e,r=Ee.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return WK(i,s,r)?new ur(e,n,r):new BAe(i,s,r).fit()}function WK(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class BAe{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=he.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=he.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,a=r.depth,l=i.depth;for(;a&&l&&s.childCount==1;)s=s.firstChild.content,a--,l--;let u=new Ee(s,a,l);return e>-1?new hr(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new ur(r.pos,i.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=VA(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:u,match:f}=this.frontier[l],d,p=null;if(n==1&&(a?f.matchType(a.type)||(p=f.fillBefore(he.from(a),!1)):s&&u.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:p};if(n==2&&a&&(d=f.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:d};if(s&&f.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=VA(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ee(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=VA(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new Ee(sm(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Ee(sm(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let S=0;S<s.length;S++)this.openFrontierNode(s[S]);let a=this.unplaced,l=r?r.content:a.content,u=a.openStart-e,f=0,d=[],{match:p,type:g}=this.frontier[n];if(i){for(let S=0;S<i.childCount;S++)d.push(i.child(S));p=p.matchFragment(i)}let v=l.size+e-(a.content.size-a.openEnd);for(;f<l.childCount;){let S=l.child(f),E=p.matchType(S.type);if(!E)break;f++,(f>1||u==0||S.content.size)&&(p=E,d.push(GK(S.mark(g.allowedMarks(S.marks)),f==1?u:0,f==l.childCount?v:-1)))}let x=f==l.childCount;x||(v=-1),this.placed=am(this.placed,n,he.from(d)),this.frontier[n].match=p,x&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,E=l;S<v;S++){let A=E.lastChild;this.frontier.push({type:A.type,match:A.contentMatchAt(A.childCount)}),E=A.content}this.unplaced=x?e==0?Ee.empty:new Ee(sm(a.content,e-1,1),e-1,v<0?a.openEnd:e-1):new Ee(sm(a.content,e,f),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!BA(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=BA(e,n,i,r,s);if(a){for(let l=n-1;l>=0;l--){let{match:u,type:f}=this.frontier[l],d=BA(e,l,f,u,!0);if(!d||d.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=am(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=am(this.placed,this.depth,he.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(he.empty,!0);n.childCount&&(this.placed=am(this.placed,this.frontier.length,n))}}function sm(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(sm(t.firstChild.content,e-1,n)))}function am(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(am(t.lastChild.content,e-1,n)))}function VA(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function GK(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,GK(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(he.empty,!0)))),t.copy(r)}function BA(t,e,n,r,i){let s=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,a);return l&&!zAe(n,s.content,a)?l:null}function zAe(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function UAe(t){return t.spec.defining||t.spec.definingForContent}function FAe(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(WK(i,s,r))return t.step(new ur(e,n,r));let a=XK(i,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let l=-(i.depth+1);a.unshift(l);for(let g=i.depth,v=i.pos-1;g>0;g--,v--){let x=i.node(g).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;a.indexOf(g)>-1?l=g:i.before(g)==v&&a.splice(1,0,-g)}let u=a.indexOf(l),f=[],d=r.openStart;for(let g=r.content,v=0;;v++){let x=g.firstChild;if(f.push(x),v==r.openStart)break;g=x.content}for(let g=d-1;g>=0;g--){let v=f[g],x=UAe(v.type);if(x&&!v.sameMarkup(i.node(Math.abs(l)-1)))d=g;else if(x||!v.type.isTextblock)break}for(let g=r.openStart;g>=0;g--){let v=(g+d+1)%(r.openStart+1),x=f[v];if(x)for(let S=0;S<a.length;S++){let E=a[(S+u)%a.length],A=!0;E<0&&(A=!1,E=-E);let C=i.node(E-1),D=i.index(E-1);if(C.canReplaceWith(D,D,x.type,x.marks))return t.replace(i.before(E),A?s.after(E):n,new Ee(YK(r.content,0,r.openStart,v),v,r.openEnd))}}let p=t.steps.length;for(let g=a.length-1;g>=0&&(t.replace(e,n,r),!(t.steps.length>p));g--){let v=a[g];v<0||(e=i.before(v),n=s.after(v))}}function YK(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(YK(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(he.empty,!0))}return t}function $Ae(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=VAe(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Ee(he.from(r),0,0))}function HAe(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=XK(r,i);for(let a=0;a<s.length;a++){let l=s[a],u=a==s.length-1;if(u&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(u||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function XK(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class Qd extends Xr{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return qn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return qn.fromReplace(e,this.pos,this.pos+1,new Ee(he.from(i),0,n.isLeaf?0:1))}getMap(){return Zi.empty}invert(e){return new Qd(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Qd(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Qd(n.pos,n.attr,n.value)}}Xr.jsonID("attr",Qd);class hg extends Xr{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return qn.ok(r)}getMap(){return Zi.empty}invert(e){return new hg(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new hg(n.attr,n.value)}}Xr.jsonID("docAttr",hg);let gh=class extends Error{};gh=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};gh.prototype=Object.create(Error.prototype);gh.prototype.constructor=gh;gh.prototype.name="TransformError";class QK{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new dg}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new gh(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Ee.empty){let i=aw(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Ee(he.from(r),0,0))}delete(e,n){return this.replace(e,n,Ee.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return FAe(this,e,n,r),this}replaceRangeWith(e,n,r){return $Ae(this,e,n,r),this}deleteRange(e,n){return HAe(this,e,n),this}lift(e,n){return CAe(this,e,n),this}join(e,n=1){return LAe(this,e,n),this}wrap(e,n){return NAe(this,e,n),this}setBlockType(e,n=e,r,i=null){return DAe(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return PAe(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Qd(e,n,r)),this}setDocAttribute(e,n){return this.step(new hg(e,n)),this}addNodeMark(e,n){return this.step(new oc(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof $t)n.isInSet(r.marks)&&this.step(new bf(e,n));else{let i=r.marks,s,a=[];for(;s=n.isInSet(i);)a.push(new bf(e,s)),i=s.removeFromSet(i);for(let l=a.length-1;l>=0;l--)this.step(a[l])}return this}split(e,n=1,r){return jAe(this,e,n,r),this}addMark(e,n,r){return AAe(this,e,n,r),this}removeMark(e,n,r){return _Ae(this,e,n,r),this}clearIncompatible(e,n,r){return tN(this,e,n,r),this}}const zA=Object.create(null);class tt{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new qAe(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Ee.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let s=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:u,$to:f}=a[l],d=e.mapping.slice(s);e.replaceRange(d.map(u.pos),d.map(f.pos),l?Ee.empty:n),l==0&&VB(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:l}=i[s],u=e.mapping.slice(r),f=u.map(a.pos),d=u.map(l.pos);s?e.deleteRange(f,d):(e.replaceRangeWith(f,d,n),VB(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new qe(e):kd(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let a=n<0?kd(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):kd(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new ns(e.node(0))}static atStart(e){return kd(e,e,0,0,1)||new ns(e)}static atEnd(e){return kd(e,e,e.content.size,e.childCount,-1)||new ns(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=zA[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in zA)throw new RangeError("Duplicate use of selection JSON ID "+e);return zA[e]=n,n.prototype.jsonID=e,n}getBookmark(){return qe.between(this.$anchor,this.$head).getBookmark()}}tt.prototype.visible=!0;class qAe{constructor(e,n){this.$from=e,this.$to=n}}let RB=!1;function LB(t){!RB&&!t.parent.inlineContent&&(RB=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class qe extends tt{constructor(e,n=e){LB(e),LB(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return tt.near(r);let i=e.resolve(n.map(this.anchor));return new qe(i.parent.inlineContent?i:r,r)}replace(e,n=Ee.empty){if(super.replace(e,n),n==Ee.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof qe&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new ow(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new qe(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=tt.findFrom(n,r,!0)||tt.findFrom(n,-r,!0);if(s)n=s.$head;else return tt.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(tt.findFrom(e,-r,!0)||tt.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new qe(e,n)}}tt.jsonID("text",qe);class ow{constructor(e,n){this.anchor=e,this.head=n}map(e){return new ow(e.map(this.anchor),e.map(this.head))}resolve(e){return qe.between(e.resolve(this.anchor),e.resolve(this.head))}}class Le extends tt{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?tt.near(s):new Le(s)}content(){return new Ee(he.from(this.node),0,0)}eq(e){return e instanceof Le&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new rN(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Le(e.resolve(n.anchor))}static create(e,n){return new Le(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Le.prototype.visible=!1;tt.jsonID("node",Le);class rN{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new ow(r,r):new rN(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Le.isSelectable(r)?new Le(n):tt.near(n)}}class ns extends tt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Ee.empty){if(n==Ee.empty){e.delete(0,e.doc.content.size);let r=tt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new ns(e)}map(e){return new ns(e)}eq(e){return e instanceof ns}getBookmark(){return KAe}}tt.jsonID("all",ns);const KAe={map(){return this},resolve(t){return new ns(t)}};function kd(t,e,n,r,i,s=!1){if(e.inlineContent)return qe.create(t,n);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let l=e.child(a);if(l.isAtom){if(!s&&Le.isSelectable(l))return Le.create(t,n-(i<0?l.nodeSize:0))}else{let u=kd(t,l,n+i,i<0?l.childCount:0,i,s);if(u)return u}n+=l.nodeSize*i}return null}function VB(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof ur||i instanceof hr))return;let s=t.mapping.maps[r],a;s.forEach((l,u,f,d)=>{a==null&&(a=d)}),t.setSelection(tt.near(t.doc.resolve(a),n))}const BB=1,lv=2,zB=4;class WAe extends QK{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|BB)&~lv,this.storedMarks=null,this}get selectionSet(){return(this.updated&BB)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=lv,this}ensureMarks(e){return $t.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&lv)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~lv,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||$t.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(tt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=zB,this}get scrolledIntoView(){return(this.updated&zB)>0}}function UB(t,e){return!e||!t?t:t.bind(e)}class om{constructor(e,n,r){this.name=e,this.init=UB(n.init,r),this.apply=UB(n.apply,r)}}const GAe=[new om("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new om("selection",{init(t,e){return t.selection||tt.atStart(e.doc)},apply(t){return t.selection}}),new om("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new om("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class UA{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=GAe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new om(r.key,r.spec.state,r))})}}class zd{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let u=i?i[a].n:0,f=i?i[a].state:this,d=u<n.length&&l.spec.appendTransaction.call(l,u?n.slice(u):n,f,r);if(d&&r.filterTransaction(d,a)){if(d.setMeta("appendedTransaction",e),!i){i=[];for(let p=0;p<this.config.plugins.length;p++)i.push(p<a?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),s=!0}i&&(i[a]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new zd(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new WAe(this)}static create(e){let n=new UA(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new zd(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new UA(this.schema,e.plugins),r=n.fields,i=new zd(n);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new UA(e.schema,e.plugins),s=new zd(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=va.fromJSON(e.schema,n.doc);else if(a.name=="selection")s.selection=tt.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let u=r[l],f=u.spec.state;if(u.key==a.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){s[a.name]=f.fromJSON.call(u,e,n[l],s);return}}s[a.name]=a.init(e,s)}}),s}}function JK(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=JK(i,e,{})),n[r]=i}return n}class kn{constructor(e){this.spec=e,this.props={},e.props&&JK(e.props,this,this.props),this.key=e.key?e.key.key:ZK("plugin")}getState(e){return e[this.key]}}const FA=Object.create(null);function ZK(t){return t in FA?t+"$"+ ++FA[t]:(FA[t]=0,t+"$")}class br{constructor(e="key"){this.key=ZK(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Dr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},yh=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let mC=null;const Mo=function(t,e,n){let r=mC||(mC=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},YAe=function(){mC=null},xf=function(t,e,n,r){return n&&(FB(t,e,n,r,-1)||FB(t,e,n,r,1))},XAe=/^(img|br|input|textarea|hr)$/i;function FB(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:zs(t))){let a=t.parentNode;if(!a||a.nodeType!=1||ay(t)||XAe.test(t.nodeName)||t.contentEditable=="false")return!1;e=Dr(t)+(i<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=a,e=i<0?zs(t):0}else return!1}}function zs(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function QAe(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=zs(t)}else if(t.parentNode&&!ay(t))e=Dr(t),t=t.parentNode;else return null}}function JAe(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!ay(t))e=Dr(t)+1,t=t.parentNode;else return null}}function ZAe(t,e,n){for(let r=e==0,i=e==zs(t);r||i;){if(t==n)return!0;let s=Dr(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==zs(t)}}function ay(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const lw=function(t){return t.focusNode&&xf(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Iu(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function e_e(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function t_e(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(zs(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(zs(r.startContainer),r.startOffset)}}}const no=typeof navigator<"u"?navigator:null,$B=typeof document<"u"?document:null,Xc=no&&no.userAgent||"",gC=/Edge\/(\d+)/.exec(Xc),eW=/MSIE \d/.exec(Xc),yC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Xc),Ii=!!(eW||yC||gC),vc=eW?document.documentMode:yC?+yC[1]:gC?+gC[1]:0,Hs=!Ii&&/gecko\/(\d+)/i.test(Xc);Hs&&+(/Firefox\/(\d+)/.exec(Xc)||[0,0])[1];const vC=!Ii&&/Chrome\/(\d+)/.exec(Xc),Gr=!!vC,tW=vC?+vC[1]:0,fi=!Ii&&!!no&&/Apple Computer/.test(no.vendor),vh=fi&&(/Mobile\/\w+/.test(Xc)||!!no&&no.maxTouchPoints>2),Ls=vh||(no?/Mac/.test(no.platform):!1),n_e=no?/Win/.test(no.platform):!1,Lo=/Android \d/.test(Xc),oy=!!$B&&"webkitFontSmoothing"in $B.documentElement.style,r_e=oy?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function i_e(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function _o(t,e){return typeof t=="number"?t:t[e]}function s_e(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function HB(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=yh(a);continue}let l=a,u=l==s.body,f=u?i_e(s):s_e(l),d=0,p=0;if(e.top<f.top+_o(r,"top")?p=-(f.top-e.top+_o(i,"top")):e.bottom>f.bottom-_o(r,"bottom")&&(p=e.bottom-e.top>f.bottom-f.top?e.top+_o(i,"top")-f.top:e.bottom-f.bottom+_o(i,"bottom")),e.left<f.left+_o(r,"left")?d=-(f.left-e.left+_o(i,"left")):e.right>f.right-_o(r,"right")&&(d=e.right-f.right+_o(i,"right")),d||p)if(u)s.defaultView.scrollBy(d,p);else{let v=l.scrollLeft,x=l.scrollTop;p&&(l.scrollTop+=p),d&&(l.scrollLeft+=d);let S=l.scrollLeft-v,E=l.scrollTop-x;e={left:e.left-S,top:e.top-E,right:e.right-S,bottom:e.bottom-E}}let g=u?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(g))break;a=g=="absolute"?a.offsetParent:yh(a)}}function a_e(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let l=t.root.elementFromPoint(s,a);if(!l||l==t.dom||!t.dom.contains(l))continue;let u=l.getBoundingClientRect();if(u.top>=n-20){r=l,i=u.top;break}}return{refDOM:r,refTop:i,stack:nW(t.dom)}}function nW(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=yh(r));return e}function o_e({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;rW(n,r==0?0:r-e)}function rW(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let xd=null;function l_e(t){if(t.setActive)return t.setActive();if(xd)return t.focus(xd);let e=nW(t);t.focus(xd==null?{get preventScroll(){return xd={preventScroll:!0},!0}}:void 0),xd||(xd=!1,rW(e,0))}function iW(t,e){let n,r=2e8,i,s=0,a=e.top,l=e.top,u,f;for(let d=t.firstChild,p=0;d;d=d.nextSibling,p++){let g;if(d.nodeType==1)g=d.getClientRects();else if(d.nodeType==3)g=Mo(d).getClientRects();else continue;for(let v=0;v<g.length;v++){let x=g[v];if(x.top<=a&&x.bottom>=l){a=Math.max(x.bottom,a),l=Math.min(x.top,l);let S=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(S<r){n=d,r=S,i=S&&n.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,d.nodeType==1&&S&&(s=p+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!u&&x.left<=e.left&&x.right>=e.left&&(u=d,f={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!n&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(s=p+1)}}return!n&&u&&(n=u,i=f,r=0),n&&n.nodeType==3?c_e(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:iW(n,i)}function c_e(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Kl(r,1);if(s.top!=s.bottom&&iN(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function iN(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function u_e(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function f_e(t,e,n){let{node:r,offset:i}=iW(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function d_e(t,e,n,r){let i=-1;for(let s=e,a=!1;s!=t.dom;){let l=t.docView.nearestDesc(s,!0),u;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((u=l.dom.getBoundingClientRect()).width||u.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!a&&u.left>r.left||u.top>r.top?i=l.posBefore:(!a&&u.right<r.left||u.bottom<r.top)&&(i=l.posAfter),a=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function sW(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let a=t.childNodes[s];if(a.nodeType==1){let l=a.getClientRects();for(let u=0;u<l.length;u++){let f=l[u];if(iN(e,f))return sW(a,e,f)}}if((s=(s+1)%r)==i)break}return t}function h_e(t,e){let n=t.dom.ownerDocument,r,i=0,s=t_e(n,e.left,e.top);s&&({node:r,offset:i}=s);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let f=t.dom.getBoundingClientRect();if(!iN(e,f)||(a=sW(t.dom,e,f),!a))return null}if(fi)for(let f=a;r&&f;f=yh(f))f.draggable&&(r=void 0);if(a=u_e(a,e),r){if(Hs&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d=r.childNodes[i],p;d.nodeName=="IMG"&&(p=d.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&i++}let f;oy&&i&&r.nodeType==1&&(f=r.childNodes[i-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=d_e(t,r,i,e))}l==null&&(l=f_e(t,a,e));let u=t.docView.nearestDesc(a,!0);return{pos:l,inside:u?u.posAtStart-u.border:-1}}function qB(t){return t.top<t.bottom||t.left<t.right}function Kl(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(qB(r))return r}return Array.prototype.find.call(n,qB)||t.getBoundingClientRect()}const p_e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function aW(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),a=oy||Hs;if(r.nodeType==3)if(a&&(p_e.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let u=Kl(Mo(r,i,i),n);if(Hs&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=Kl(Mo(r,i-1,i-1),-1);if(f.top==u.top){let d=Kl(Mo(r,i,i+1),-1);if(d.top!=u.top)return Gp(d,d.left<f.left)}}return u}else{let u=i,f=i,d=n<0?1:-1;return n<0&&!i?(f++,d=-1):n>=0&&i==r.nodeValue.length?(u--,d=1):n<0?u--:f++,Gp(Kl(Mo(r,u,f),d),d<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==zs(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return $A(u.getBoundingClientRect(),!1)}if(s==null&&i<zs(r)){let u=r.childNodes[i];if(u.nodeType==1)return $A(u.getBoundingClientRect(),!0)}return $A(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==zs(r))){let u=r.childNodes[i-1],f=u.nodeType==3?Mo(u,zs(u)-(a?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(f)return Gp(Kl(f,1),!1)}if(s==null&&i<zs(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let f=u?u.nodeType==3?Mo(u,0,a?0:1):u.nodeType==1?u:null:null;if(f)return Gp(Kl(f,-1),!0)}return Gp(Kl(r.nodeType==3?Mo(r):r,-n),n>=0)}function Gp(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function $A(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function oW(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function m_e(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return oW(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let a=aW(t,i.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=Mo(l,0,l.nodeValue.length).getClientRects();else continue;for(let f=0;f<u.length;f++){let d=u[f];if(d.bottom>d.top+1&&(n=="up"?a.top-d.top>(d.bottom-a.top)*2:d.bottom-a.bottom>(a.bottom-d.top)*2))return!1}}return!0})}const g_e=/[\u0590-\u08ac]/;function y_e(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,l=t.domSelection();return l?!g_e.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?s:a:oW(t,e,()=>{let{focusNode:u,focusOffset:f,anchorNode:d,anchorOffset:p}=t.domSelectionRange(),g=l.caretBidiLevel;l.modify("move",n,"character");let v=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:x,focusOffset:S}=t.domSelectionRange(),E=x&&!v.contains(x.nodeType==1?x:x.parentNode)||u==x&&f==S;try{l.collapse(d,p),u&&(u!=d||f!=p)&&l.extend&&l.extend(u,f)}catch{}return g!=null&&(l.caretBidiLevel=g),E}):r.pos==r.start()||r.pos==r.end()}let KB=null,WB=null,GB=!1;function v_e(t,e,n){return KB==e&&WB==n?GB:(KB=e,WB=n,GB=n=="up"||n=="down"?m_e(t,e,n):y_e(t,e,n))}const qs=0,YB=1,Uu=2,ro=3;class ly{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=qs,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,a;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Dr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!n||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let l=i.children[a];if(l.size){i=l;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],l=s+a.size;if(l>e||a instanceof cW){i=e-s;break}s=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof lW&&s.side>=0;r--);if(n<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Dr(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Dr(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,l=0;;l++){let u=this.children[l],f=a+u.size;if(i==-1&&e<=f){let d=a+u.border;if(e>=d&&n<=f-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,d);e=a;for(let p=l;p>0;p--){let g=this.children[p-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){i=Dr(g.dom)+1;break}e-=g.size}i==-1&&(i=0)}if(i>-1&&(f>n||l==this.children.length-1)){n=f;for(let d=l+1;d<this.children.length;d++){let p=this.children[d];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){s=Dr(p.dom);break}n+=p.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=f}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),a=Math.max(e,n);for(let v=0,x=0;v<this.children.length;v++){let S=this.children[v],E=x+S.size;if(s>x&&a<E)return S.setSelection(e-x-S.border,n-x-S.border,r,i);x=E}let l=this.domFromPos(e,e?-1:1),u=n==e?l:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),d=r.domSelectionRange(),p=!1;if((Hs||fi)&&e==n){let{node:v,offset:x}=l;if(v.nodeType==3){if(p=!!(x&&v.nodeValue[x-1]==`
`),p&&x==v.nodeValue.length)for(let S=v,E;S;S=S.parentNode){if(E=S.nextSibling){E.nodeName=="BR"&&(l=u={node:E.parentNode,offset:Dr(E)+1});break}let A=S.pmViewDesc;if(A&&A.node&&A.node.isBlock)break}}else{let S=v.childNodes[x-1];p=S&&(S.nodeName=="BR"||S.contentEditable=="false")}}if(Hs&&d.focusNode&&d.focusNode!=u.node&&d.focusNode.nodeType==1){let v=d.focusNode.childNodes[d.focusOffset];v&&v.contentEditable=="false"&&(i=!0)}if(!(i||p&&fi)&&xf(l.node,l.offset,d.anchorNode,d.anchorOffset)&&xf(u.node,u.offset,d.focusNode,d.focusOffset))return;let g=!1;if((f.extend||e==n)&&!(p&&Hs)){f.collapse(l.node,l.offset);try{e!=n&&f.extend(u.node,u.offset),g=!0}catch{}}if(!g){if(e>n){let x=l;l=u,u=x}let v=document.createRange();v.setEnd(u.node,u.offset),v.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let l=r+s.border,u=a-s.border;if(e>=l&&n<=u){this.dirty=e==r||n==a?Uu:YB,e==l&&n==u&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=ro:s.markDirty(e-l,n-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Uu:ro}r=a}this.dirty=Uu}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Uu:YB;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class lW extends ly{constructor(e,n,r,i){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==qs&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class b_e extends ly{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class wf extends ly{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],a=s&&s(n,i,r);return(!a||!a.dom)&&(a=Pf.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new wf(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&ro||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ro&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=qs){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=qs}}slice(e,n,r){let i=wf.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;n<a&&(s=xC(s,n,a,r)),e>0&&(s=xC(s,0,e,r));for(let l=0;l<s.length;l++)s[l].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class bc extends ly{constructor(e,n,r,i,s,a,l,u,f){super(e,[],s,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,s,a){let l=s.nodeViews[n.type.name],u,f=l&&l(n,s,()=>{if(!u)return a;if(u.parent)return u.parent.posBeforeChild(u)},r,i),d=f&&f.dom,p=f&&f.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:p}=Pf.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!p&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let g=d;return d=dW(d,r,n),f?u=new x_e(e,n,r,i,d,p||null,g,f,s,a+1):n.isText?new cw(e,n,r,i,d,g,s):new bc(e,n,r,i,d,p||null,g,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>he.empty)}return e}matchesNode(e,n,r){return this.dirty==qs&&e.eq(this.node)&&sx(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,a=s&&s.pos>-1?s:null,l=s&&s.pos<0,u=new S_e(this,a&&a.node,e);A_e(this.node,this.innerDeco,(f,d,p)=>{f.spec.marks?u.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!p&&u.syncToMarks(d==this.node.childCount?$t.none:this.node.child(d).marks,r,e),u.placeWidget(f,e,i)},(f,d,p,g)=>{u.syncToMarks(f.marks,r,e);let v;u.findNodeMatch(f,d,p,g)||l&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(v=u.findIndexWithChild(s.node))>-1&&u.updateNodeAt(f,d,p,v,e)||u.updateNextNode(f,d,p,e,g,i)||u.addNode(f,d,p,e,i),i+=f.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Uu)&&(a&&this.protectLocalComposition(e,a),uW(this.contentDOM,this.children,e),vh&&__e(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof qe)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=k_e(this.node.content,a,r-n,i-n);return l<0?null:{node:s,pos:l,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new b_e(this,s,n,i);e.input.compositionNodes.push(a),this.children=xC(this.children,r,r+i.length,e,a)}update(e,n,r,i){return this.dirty==ro||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=qs}updateOuterDeco(e){if(sx(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=fW(this.dom,this.nodeDOM,bC(this.outerDeco,this.node,n),bC(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function XB(t,e,n,r,i){dW(r,e,t);let s=new bc(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class cw extends bc{constructor(e,n,r,i,s,a,l){super(e,n,r,i,s,null,a,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==ro||this.dirty!=qs&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=qs||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=qs,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new cw(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ro)}get domAtom(){return!1}isText(e){return this.node.text==e}}class cW extends ly{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==qs&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class x_e extends bc{constructor(e,n,r,i,s,a,l,u,f,d){super(e,n,r,i,s,a,l,f,d),this.spec=u}update(e,n,r,i){if(this.dirty==ro)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function uW(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let a=e[s],l=a.dom;if(l.parentNode==t){for(;l!=r;)r=QB(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(a instanceof wf){let u=r?r.previousSibling:t.lastChild;uW(a.contentDOM,a.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=QB(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Am=function(t){t&&(this.nodeName=t)};Am.prototype=Object.create(null);const Fu=[new Am];function bC(t,e,n){if(t.length==0)return Fu;let r=n?Fu[0]:new Am,i=[r];for(let s=0;s<t.length;s++){let a=t[s].type.attrs;if(a){a.nodeName&&i.push(r=new Am(a.nodeName));for(let l in a){let u=a[l];u!=null&&(n&&i.length==1&&i.push(r=new Am(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+u:l=="style"?r.style=(r.style?r.style+";":"")+u:l!="nodeName"&&(r[l]=u))}}}return i}function fW(t,e,n,r){if(n==Fu&&r==Fu)return e;let i=e;for(let s=0;s<r.length;s++){let a=r[s],l=n[s];if(s){let u;l&&l.nodeName==a.nodeName&&i!=t&&(u=i.parentNode)&&u.nodeName.toLowerCase()==a.nodeName||(u=document.createElement(a.nodeName),u.pmIsDeco=!0,u.appendChild(i),l=Fu[0]),i=u}w_e(i,l||Fu[0],a)}return i}function w_e(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function dW(t,e,n){return fW(t,t,Fu,bC(e,n,t.nodeType!=1))}function sx(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function QB(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class S_e{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=T_e(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=qs,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let f=this.top.children[u];if(f.matchesMark(e[s])&&!this.isLocked(f.dom)){l=u;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let u=wf.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))s=this.top.children.indexOf(a,this.index);else for(let l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){let f=this.top.children[l];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let a=this.top.children[i];return a.dirty==ro&&a.dom==a.contentDOM&&(a.dirty=Uu),a.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,a){for(let l=this.index;l<this.top.children.length;l++){let u=this.top.children[l];if(u instanceof bc){let f=this.preMatch.matched.get(u);if(f!=null&&f!=s)return!1;let d=u.dom,p,g=this.isLocked(d)&&!(e.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==e.text&&u.dirty!=ro&&sx(n,u.outerDeco));if(!g&&u.update(e,n,r,i))return this.destroyBetween(this.index,l),u.dom!=d&&(this.changed=!0),this.index++,!0;if(!g&&(p=this.recreateWrapper(u,e,n,r,i,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=Uu,p.updateChildren(i,a+1),p.dirty=qs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!sx(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=bc.create(this.top,n,r,i,s,a);if(l.contentDOM){l.children=e.children,e.children=[];for(let u of l.children)u.parent=l}return e.destroy(),l}addNode(e,n,r,i,s){let a=bc.create(this.top,e,n,r,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new lW(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof wf;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof cw)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((fi||Gr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new cW(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function T_e(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,a=[];e:for(;i>0;){let l;for(;;)if(r){let f=n.children[r-1];if(f instanceof wf)n=f,r=f.children.length;else{l=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=l.node;if(u){if(u!=t.child(i-1))break;--i,s.set(l,i),a.push(l)}}return{index:i,matched:s,matches:a.reverse()}}function E_e(t,e){return t.type.side-e.type.side}function A_e(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let f=0;f<t.childCount;f++){let d=t.child(f);r(d,i,e.forChild(s,d),f),s+=d.nodeSize}return}let a=0,l=[],u=null;for(let f=0;;){let d,p;for(;a<i.length&&i[a].to==s;){let E=i[a++];E.widget&&(d?(p||(p=[d])).push(E):d=E)}if(d)if(p){p.sort(E_e);for(let E=0;E<p.length;E++)n(p[E],f,!!u)}else n(d,f,!!u);let g,v;if(u)v=-1,g=u,u=null;else if(f<t.childCount)v=f,g=t.child(f++);else break;for(let E=0;E<l.length;E++)l[E].to<=s&&l.splice(E--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)l.push(i[a++]);let x=s+g.nodeSize;if(g.isText){let E=x;a<i.length&&i[a].from<E&&(E=i[a].from);for(let A=0;A<l.length;A++)l[A].to<E&&(E=l[A].to);E<x&&(u=g.cut(E-s),g=g.cut(0,E-s),x=E,v=-1)}else for(;a<i.length&&i[a].to<x;)a++;let S=g.isInline&&!g.isLeaf?l.filter(E=>!E.inline):l.slice();r(g,S,e.forChild(s,g),v),s=x}}function __e(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function k_e(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let a=t.child(i++),l=s;if(s+=a.nodeSize,!a.isText)continue;let u=a.text;for(;i<t.childCount;){let f=t.child(i++);if(s+=f.nodeSize,!f.isText)break;u+=f.text}if(s>=n){if(s>=r&&u.slice(r-e.length-l,r-l)==e)return r-e.length;let f=l<r?u.lastIndexOf(e,r-l-1):-1;if(f>=0&&f+e.length+l>=n)return l+f;if(n==r&&u.length>=r+e.length-l&&u.slice(r-l,r-l+e.length)==e)return r}}return-1}function xC(t,e,n,r,i){let s=[];for(let a=0,l=0;a<t.length;a++){let u=t[a],f=l,d=l+=u.size;f>=n||d<=e?s.push(u):(f<e&&s.push(u.slice(0,e-f,r)),i&&(s.push(i),i=void 0),d>n&&s.push(u.slice(n-f,u.size,r)))}return s}function sN(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=r.resolve(a),u,f;if(lw(n)){for(u=a;i&&!i.node;)i=i.parent;let p=i.node;if(i&&p.isAtom&&Le.isSelectable(p)&&i.parent&&!(p.isInline&&ZAe(n.focusNode,n.focusOffset,i.dom))){let g=i.posBefore;f=new Le(a==g?l:r.resolve(g))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let p=a,g=a;for(let v=0;v<n.rangeCount;v++){let x=n.getRangeAt(v);p=Math.min(p,t.docView.posFromDOM(x.startContainer,x.startOffset,1)),g=Math.max(g,t.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(p<0)return null;[u,a]=g==t.state.selection.anchor?[g,p]:[p,g],l=r.resolve(a)}else u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let d=r.resolve(u);if(!f){let p=e=="pointer"||t.state.selection.head<l.pos&&!s?1:-1;f=aN(t,d,l,p)}return f}function hW(t){return t.editable?t.hasFocus():mW(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Uo(t,e=!1){let n=t.state.selection;if(pW(t,n),!!hW(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Gr){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&xf(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)O_e(t);else{let{anchor:r,head:i}=n,s,a;JB&&!(n instanceof qe)&&(n.$from.parent.inlineContent||(s=ZB(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=ZB(t,n.to))),t.docView.setSelection(r,i,t,e),JB&&(s&&e6(s),a&&e6(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&C_e(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const JB=fi||Gr&&tW<63;function ZB(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(fi&&i&&i.contentEditable=="false")return HA(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return HA(i);if(s)return HA(s)}}function HA(t){return t.contentEditable="true",fi&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function e6(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function C_e(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!hW(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function O_e(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Dr(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Ii&&vc<=11&&(n.disabled=!0,n.disabled=!1)}function pW(t,e){if(e instanceof Le){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(t6(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else t6(t)}function t6(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function aN(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||qe.between(e,n,r)}function n6(t){return t.editable&&!t.hasFocus()?!1:mW(t)}function mW(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function M_e(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return xf(e.node,e.offset,n.anchorNode,n.anchorOffset)}function wC(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&tt.findFrom(s,e)}function Yl(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function r6(t,e,n){let r=t.state.selection;if(r instanceof qe)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Yl(t,new qe(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=wC(t.state,e);return i&&i instanceof Le?Yl(t,i):!1}else if(!(Ls&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=t.docView.descAt(l))&&!a.contentDOM?Le.isSelectable(s)?Yl(t,new Le(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):oy?Yl(t,new qe(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Le&&r.node.isInline)return Yl(t,new qe(e>0?r.$to:r.$from));{let i=wC(t.state,e);return i?Yl(t,i):!1}}}function ax(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function _m(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function wd(t,e){return e<0?N_e(t):D_e(t)}function N_e(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,a=!1;for(Hs&&n.nodeType==1&&r<ax(n)&&_m(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(_m(l,-1))i=n,s=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(gW(n))break;{let l=n.previousSibling;for(;l&&_m(l,-1);)i=n.parentNode,s=Dr(l),l=l.previousSibling;if(l)n=l,r=ax(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?SC(t,n,r):i&&SC(t,i,s)}function D_e(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=ax(n),s,a;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(_m(l,1))s=n,a=++r;else break}else{if(gW(n))break;{let l=n.nextSibling;for(;l&&_m(l,1);)s=l.parentNode,a=Dr(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=ax(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&SC(t,s,a)}function gW(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function I_e(t,e){for(;t&&e==t.childNodes.length&&!ay(t);)e=Dr(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function P_e(t,e){for(;t&&!e&&!ay(t);)e=Dr(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function SC(t,e,n){if(e.nodeType!=3){let s,a;(a=I_e(e,n))?(e=a,n=0):(s=P_e(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(lw(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Uo(t)},50)}function i6(t,e){let n=t.state.doc.resolve(e);if(!(Gr||n_e)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function s6(t,e,n){let r=t.state.selection;if(r instanceof qe&&!r.empty||n.indexOf("s")>-1||Ls&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=wC(t.state,e);if(a&&a instanceof Le)return Yl(t,a)}if(!i.parent.inlineContent){let a=e<0?i:s,l=r instanceof ns?tt.near(a,e):tt.findFrom(a,e);return l?Yl(t,l):!1}return!1}function a6(t,e){if(!(t.state.selection instanceof qe))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=t.state.tr;return e<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),t.dispatch(a),!0}return!1}function o6(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function j_e(t){if(!fi||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;o6(t,r,"true"),setTimeout(()=>o6(t,r,"false"),20)}return!1}function R_e(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function L_e(t,e){let n=e.keyCode,r=R_e(e);if(n==8||Ls&&n==72&&r=="c")return a6(t,-1)||wd(t,-1);if(n==46&&!e.shiftKey||Ls&&n==68&&r=="c")return a6(t,1)||wd(t,1);if(n==13||n==27)return!0;if(n==37||Ls&&n==66&&r=="c"){let i=n==37?i6(t,t.state.selection.from)=="ltr"?-1:1:-1;return r6(t,i,r)||wd(t,i)}else if(n==39||Ls&&n==70&&r=="c"){let i=n==39?i6(t,t.state.selection.from)=="ltr"?1:-1:1;return r6(t,i,r)||wd(t,i)}else{if(n==38||Ls&&n==80&&r=="c")return s6(t,-1,r)||wd(t,-1);if(n==40||Ls&&n==78&&r=="c")return j_e(t)||s6(t,1,r)||wd(t,1);if(r==(Ls?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function oN(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let v=r.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let a=t.someProp("clipboardSerializer")||Pf.fromSchema(t.state.schema),l=SW(),u=l.createElement("div");u.appendChild(a.serializeFragment(r,{document:l}));let f=u.firstChild,d,p=0;for(;f&&f.nodeType==1&&(d=wW[f.nodeName.toLowerCase()]);){for(let v=d.length-1;v>=0;v--){let x=l.createElement(d[v]);for(;u.firstChild;)x.appendChild(u.firstChild);u.appendChild(x),p++}f=u.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${s}${p?` -${p}`:""} ${JSON.stringify(n)}`);let g=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:g,slice:e}}function yW(t,e,n,r,i){let s=i.parent.type.spec.code,a,l;if(!n&&!e)return null;let u=!!e&&(r||s||!n);if(u){if(t.someProp("transformPastedText",g=>{e=g(e,s||r,t)}),s)return l=new Ee(he.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",g=>{l=g(l,t,!0)}),l;let p=t.someProp("clipboardTextParser",g=>g(e,i,r,t));if(p)l=p;else{let g=i.marks(),{schema:v}=t.state,x=Pf.fromSchema(v);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let E=a.appendChild(document.createElement("p"));S&&E.appendChild(x.serializeNode(v.text(S,g)))})}}else t.someProp("transformPastedHTML",p=>{n=p(n,t)}),a=U_e(n),oy&&F_e(a);let f=a&&a.querySelector("[data-pm-slice]"),d=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let p=+d[3];p>0;p--){let g=a.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;a=g}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||yc.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(u||d),context:i,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!V_e.test(g.parentNode.nodeName)?{ignore:!0}:null}})),d)l=$_e(l6(l,+d[1],+d[2]),d[4]);else if(l=Ee.maxOpen(B_e(l.content,i),!0),l.openStart||l.openEnd){let p=0,g=0;for(let v=l.content.firstChild;p<l.openStart&&!v.type.spec.isolating;p++,v=v.firstChild);for(let v=l.content.lastChild;g<l.openEnd&&!v.type.spec.isolating;g++,v=v.lastChild);l=l6(l,p,g)}return t.someProp("transformPasted",p=>{l=p(l,t,u)}),l}const V_e=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function B_e(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,a=[];if(t.forEach(l=>{if(!a)return;let u=i.findWrapping(l.type),f;if(!u)return a=null;if(f=a.length&&s.length&&bW(u,s,l,a[a.length-1],0))a[a.length-1]=f;else{a.length&&(a[a.length-1]=xW(a[a.length-1],s.length));let d=vW(l,u);a.push(d),i=i.matchType(d.type),s=u}}),a)return he.from(a)}return t}function vW(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,he.from(t));return t}function bW(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=bW(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(he.from(vW(n,t,i+1))))}}function xW(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,xW(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(he.empty,!0);return t.copy(n.append(r))}function TC(t,e,n,r,i,s){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(s=0),i<r-1&&(l=TC(l,e,n,r,i+1,s)),i>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(he.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function l6(t,e,n){return e<t.openStart&&(t=new Ee(TC(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Ee(TC(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const wW={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let c6=null;function SW(){return c6||(c6=document.implementation.createHTMLDocument("title"))}let qA=null;function z_e(t){let e=window.trustedTypes;return e?(qA||(qA=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),qA.createHTML(t)):t}function U_e(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=SW().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&wW[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=z_e(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function F_e(t){let e=t.querySelectorAll(Gr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function $_e(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:a}=t;for(let l=r.length-2;l>=0;l-=2){let u=n.nodes[r[l]];if(!u||u.hasRequiredAttrs())break;i=he.from(u.create(r[l+1],i)),s++,a++}return new Ee(i,s,a)}const di={},hi={},H_e={touchstart:!0,touchmove:!0};class q_e{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function K_e(t){for(let e in di){let n=di[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{G_e(t,r)&&!lN(t,r)&&(t.editable||!(r.type in hi))&&n(t,r)},H_e[e]?{passive:!0}:void 0)}fi&&t.dom.addEventListener("input",()=>null),EC(t)}function lc(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function W_e(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function EC(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>lN(t,r))})}function lN(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function G_e(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Y_e(t,e){!lN(t,e)&&di[e.type]&&(t.editable||!(e.type in hi))&&di[e.type](t,e)}hi.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!EW(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Lo&&Gr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),vh&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Iu(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||L_e(t,n)?n.preventDefault():lc(t,"key")};hi.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};hi.keypress=(t,e)=>{let n=e;if(EW(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ls&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof qe)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function uw(t){return{left:t.clientX,top:t.clientY}}function X_e(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function cN(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(t.someProp(e,l=>a>s.depth?l(t,n,s.nodeAfter,s.before(a),i,!0):l(t,n,s.node(a),s.before(a),i,!1)))return!0;return!1}function Jd(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function Q_e(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Le.isSelectable(r)?(Jd(t,new Le(n)),!0):!1}function J_e(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Le&&(r=n.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let l=a>s.depth?s.nodeAfter:s.node(a);if(Le.isSelectable(l)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(a);break}}return i!=null?(Jd(t,Le.create(t.state.doc,i)),!0):!1}function Z_e(t,e,n,r,i){return cN(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?J_e(t,n):Q_e(t,n))}function eke(t,e,n,r){return cN(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function tke(t,e,n,r){return cN(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||nke(t,n,r)}function nke(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Jd(t,qe.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(a.inlineContent)Jd(t,qe.create(r,l+1,l+1+a.content.size));else if(Le.isSelectable(a))Jd(t,Le.create(r,l));else continue;return!0}}function uN(t){return ox(t)}const TW=Ls?"metaKey":"ctrlKey";di.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=uN(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&X_e(n,t.input.lastClick)&&!n[TW]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let a=t.posAtCoords(uw(n));a&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new rke(t,a,n,!!r)):(s=="doubleClick"?eke:tke)(t,a.pos,a.inside,n)?n.preventDefault():lc(t,"pointer"))};class rke{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[TW],this.allowDefault=r.shiftKey;let s,a;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),a=n.inside;else{let d=e.state.doc.resolve(n.pos);s=d.parent,a=d.depth?d.before():0}const l=i?null:r.target,u=l?e.docView.nearestDesc(l,!0):null;this.target=u&&u.nodeDOM.nodeType==1?u.nodeDOM:null;let{selection:f}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||f instanceof Le&&f.from<=a&&f.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Hs&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),lc(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Uo(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(uw(e))),this.updateAllowDefault(e),this.allowDefault||!n?lc(this.view,"pointer"):Z_e(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||fi&&this.mightDrag&&!this.mightDrag.node.isAtom||Gr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Jd(this.view,tt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):lc(this.view,"pointer")}move(e){this.updateAllowDefault(e),lc(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}di.touchstart=t=>{t.input.lastTouch=Date.now(),uN(t),lc(t,"pointer")};di.touchmove=t=>{t.input.lastTouch=Date.now(),lc(t,"pointer")};di.contextmenu=t=>uN(t);function EW(t,e){return t.composing?!0:fi&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const ike=Lo?5e3:-1;hi.compositionstart=hi.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof qe&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),ox(t,!0),t.markCursor=null;else if(ox(t,!e.selection.empty),Hs&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let l=t.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}t.input.composing=!0}AW(t,ike)};hi.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,AW(t,20))};function AW(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>ox(t),e))}function _W(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=ake());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function ske(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=QAe(e.focusNode,e.focusOffset),r=JAe(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function ake(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function ox(t,e=!1){if(!(Lo&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),_W(t),e||t.docView&&t.docView.dirty){let n=sN(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function oke(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const pg=Ii&&vc<15||vh&&r_e<604;di.copy=hi.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=pg?null:n.clipboardData,a=r.content(),{dom:l,text:u}=oN(t,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",u)):oke(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function lke(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function cke(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?mg(t,r.value,null,i,e):mg(t,r.textContent,r.innerHTML,i,e)},50)}function mg(t,e,n,r,i){let s=yW(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",u=>u(t,i,s||Ee.empty)))return!0;if(!s)return!1;let a=lke(s),l=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function kW(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}hi.paste=(t,e)=>{let n=e;if(t.composing&&!Lo)return;let r=pg?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&mg(t,kW(r),r.getData("text/html"),i,n)?n.preventDefault():cke(t,n)};class CW{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const uke=Ls?"altKey":"ctrlKey";function OW(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[uke]}di.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(uw(n)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Le?i.to-1:i.to))){if(r&&r.mightDrag)a=Le.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let p=t.docView.nearestDesc(n.target,!0);p&&p.node.type.spec.draggable&&p!=t.docView&&(a=Le.create(t.state.doc,p.posBefore))}}let l=(a||t.state.selection).content(),{dom:u,text:f,slice:d}=oN(t,l);(!n.dataTransfer.files.length||!Gr||tW>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(pg?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",pg||n.dataTransfer.setData("text/plain",f),t.dragging=new CW(d,OW(t,n),a)};di.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};hi.dragover=hi.dragenter=(t,e)=>e.preventDefault();hi.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(uw(n));if(!i)return;let s=t.state.doc.resolve(i.pos),a=r&&r.slice;a?t.someProp("transformPasted",x=>{a=x(a,t,!1)}):a=yW(t,kW(n.dataTransfer),pg?null:n.dataTransfer.getData("text/html"),!1,s);let l=!!(r&&OW(t,n));if(t.someProp("handleDrop",x=>x(t,n,a||Ee.empty,l))){n.preventDefault();return}if(!a)return;n.preventDefault();let u=a?KK(t.state.doc,s.pos,a):s.pos;u==null&&(u=s.pos);let f=t.state.tr;if(l){let{node:x}=r;x?x.replace(f):f.deleteSelection()}let d=f.mapping.map(u),p=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,g=f.doc;if(p?f.replaceRangeWith(d,d,a.content.firstChild):f.replaceRange(d,d,a),f.doc.eq(g))return;let v=f.doc.resolve(d);if(p&&Le.isSelectable(a.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(a.content.firstChild))f.setSelection(new Le(v));else{let x=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((S,E,A,C)=>x=C),f.setSelection(aN(t,v,f.doc.resolve(x)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))};di.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Uo(t)},20))};di.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};di.beforeinput=(t,e)=>{if(Gr&&Lo&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Iu(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in hi)di[t]=hi[t];function gg(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class lx{constructor(e,n){this.toDOM=e,this.spec=n||nf,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:a}=e.mapResult(n.from+i,this.side<0?-1:1);return a?null:new li(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof lx&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&gg(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class xc{constructor(e,n){this.attrs=e,this.spec=n||nf}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new li(s,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof xc&&gg(this.attrs,e.attrs)&&gg(this.spec,e.spec)}static is(e){return e.type instanceof xc}destroy(){}}class fN{constructor(e,n){this.attrs=e,this.spec=n||nf}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let a=e.mapResult(n.to+i,-1);return a.deleted||a.pos<=s.pos?null:new li(s.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof fN&&gg(this.attrs,e.attrs)&&gg(this.spec,e.spec)}destroy(){}}class li{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new li(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new li(e,e,new lx(n,r))}static inline(e,n,r,i){return new li(e,n,new xc(r,i))}static node(e,n,r,i){return new li(e,n,new fN(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof xc}get widget(){return this.type instanceof lx}}const Cd=[],nf={};class gn{constructor(e,n){this.local=e.length?e:Cd,this.children=n.length?n:Cd}static create(e,n){return n.length?cx(n,e,0,nf):Hr}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=n&&l.to>=e&&(!s||s(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let l=this.children[a]+1;this.children[a+2].findInner(e-l,n-l,r,i+l,s)}}map(e,n,r){return this==Hr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||nf)}mapInner(e,n,r,i,s){let a;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(e,r,i);u&&u.type.valid(n,u)?(a||(a=[])).push(u):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?fke(this.children,a||[],e,n,r,i,s):a?new gn(a.sort(rf),Cd):Hr}add(e,n){return n.length?this==Hr?gn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((l,u)=>{let f=u+r,d;if(d=NW(n,l,f)){for(i||(i=this.children.slice());s<i.length&&i[s]<u;)s+=3;i[s]==u?i[s+2]=i[s+2].addInner(l,d,f+1):i.splice(s,0,u,u+l.nodeSize,cx(d,l,f+1,nf)),s+=3}});let a=MW(s?DW(n):n,-r);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new gn(a.length?this.local.concat(a).sort(rf):this.local,i||this.children)}remove(e){return e.length==0||this==Hr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,l=r[s]+n,u=r[s+1]+n;for(let d=0,p;d<e.length;d++)(p=e[d])&&p.from>l&&p.to<u&&(e[d]=null,(a||(a=[])).push(p));if(!a)continue;r==this.children&&(r=this.children.slice());let f=r[s+2].removeInner(a,l+1);f!=Hr?r[s+2]=f:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let l=0;l<i.length;l++)i[l].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new gn(i,r):Hr}forChild(e,n){if(this==Hr)return this;if(n.isLeaf)return gn.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let s=e+1,a=s+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<a&&u.to>s&&u.type instanceof xc){let f=Math.max(s,u.from)-s,d=Math.min(a,u.to)-s;f<d&&(i||(i=[])).push(u.copy(f,d))}}if(i){let l=new gn(i.sort(rf),Cd);return r?new rc([l,r]):l}return r||Hr}eq(e){if(this==e)return!0;if(!(e instanceof gn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return dN(this.localsInner(e))}localsInner(e){if(this==Hr)return Cd;if(e.inlineContent||!this.local.some(xc.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof xc||n.push(this.local[r]);return n}forEachSet(e){e(this)}}gn.empty=new gn([],[]);gn.removeOverlap=dN;const Hr=gn.empty;class rc{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,nf));return rc.from(r)}forChild(e,n){if(n.isLeaf)return gn.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Hr&&(s instanceof rc?r=r.concat(s.members):r.push(s))}return rc.from(r)}eq(e){if(!(e instanceof rc)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?dN(r?n:n.sort(rf)):Cd}static from(e){switch(e.length){case 0:return Hr;case 1:return e[0];default:return new rc(e.every(n=>n instanceof gn)?e:e.reduce((n,r)=>n.concat(r instanceof gn?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function fke(t,e,n,r,i,s,a){let l=t.slice();for(let f=0,d=s;f<n.maps.length;f++){let p=0;n.maps[f].forEach((g,v,x,S)=>{let E=S-x-(v-g);for(let A=0;A<l.length;A+=3){let C=l[A+1];if(C<0||g>C+d-p)continue;let D=l[A]+d-p;v>=D?l[A+1]=g<=D?-2:-1:g>=d&&E&&(l[A]+=E,l[A+1]+=E)}p+=E}),d=n.maps[f].map(d,-1)}let u=!1;for(let f=0;f<l.length;f+=3)if(l[f+1]<0){if(l[f+1]==-2){u=!0,l[f+1]=-1;continue}let d=n.map(t[f]+s),p=d-i;if(p<0||p>=r.content.size){u=!0;continue}let g=n.map(t[f+1]+s,-1),v=g-i,{index:x,offset:S}=r.content.findIndex(p),E=r.maybeChild(x);if(E&&S==p&&S+E.nodeSize==v){let A=l[f+2].mapInner(n,E,d+1,t[f]+s+1,a);A!=Hr?(l[f]=p,l[f+1]=v,l[f+2]=A):(l[f+1]=-2,u=!0)}else u=!0}if(u){let f=dke(l,t,e,n,i,s,a),d=cx(f,r,0,a);e=d.local;for(let p=0;p<l.length;p+=3)l[p+1]<0&&(l.splice(p,3),p-=3);for(let p=0,g=0;p<d.children.length;p+=3){let v=d.children[p];for(;g<l.length&&l[g]<v;)g+=3;l.splice(g,0,d.children[p],d.children[p+1],d.children[p+2])}}return new gn(e.sort(rf),l)}function MW(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new li(i.from+e,i.to+e,i.type))}return n}function dke(t,e,n,r,i,s,a){function l(u,f){for(let d=0;d<u.local.length;d++){let p=u.local[d].map(r,i,f);p?n.push(p):a.onRemove&&a.onRemove(u.local[d].spec)}for(let d=0;d<u.children.length;d+=3)l(u.children[d+2],u.children[d]+f+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&l(t[u+2],e[u]+s+1);return n}function NW(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,a;s<t.length;s++)(a=t[s])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),t[s]=null);return i}function DW(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function cx(t,e,n,r){let i=[],s=!1;e.forEach((l,u)=>{let f=NW(t,l,u+n);if(f){s=!0;let d=cx(f,l,n+u+1,r);d!=Hr&&i.push(u,u+l.nodeSize,d)}});let a=MW(s?DW(t):t,-n).sort(rf);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(r.onRemove&&r.onRemove(a[l].spec),a.splice(l--,1));return a.length||i.length?new gn(a,i):Hr}function rf(t,e){return t.from-e.from||t.to-e.to}function dN(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),u6(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),u6(e,i,r.copy(s.from,r.to)));break}}}return e}function u6(t,e,n){for(;e<t.length&&rf(n,t[e])>0;)e++;t.splice(e,0,n)}function KA(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Hr&&e.push(r)}),t.cursorWrapper&&e.push(gn.create(t.state.doc,[t.cursorWrapper.deco])),rc.from(e)}const hke={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},pke=Ii&&vc<=11;class mke{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class gke{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new mke,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Ii&&vc<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),pke&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,hke)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(n6(this.view)){if(this.suppressingSelectionUpdates)return Uo(this.view);if(Ii&&vc<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&xf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=yh(s))n.add(s);for(let s=e.anchorNode;s;s=yh(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&n6(e)&&!this.ignoreSelectionChange(r),s=-1,a=-1,l=!1,u=[];if(e.editable)for(let d=0;d<n.length;d++){let p=this.registerMutation(n[d],u);p&&(s=s<0?p.from:Math.min(p.from,s),a=a<0?p.to:Math.max(p.to,a),p.typeOver&&(l=!0))}if(Hs&&u.length){let d=u.filter(p=>p.nodeName=="BR");if(d.length==2){let[p,g]=d;p.parentNode&&p.parentNode.parentNode==g.parentNode?g.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let g of d){let v=g.parentNode;v&&v.nodeName=="LI"&&(!p||bke(e,p)!=v)&&g.remove()}}}let f=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&lw(r)&&(f=sN(e))&&f.eq(tt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Uo(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,a),yke(e)),this.handleDOMChange(s,a,l,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Uo(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let p=e.addedNodes[d];n.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Ii&&vc<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:p,nextSibling:g}=e.addedNodes[d];(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g)}let a=i&&i.parentNode==e.target?Dr(i)+1:0,l=r.localPosFromDOM(e.target,a,-1),u=s&&s.parentNode==e.target?Dr(s):e.target.childNodes.length,f=r.localPosFromDOM(e.target,u,1);return{from:l,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let f6=new WeakMap,d6=!1;function yke(t){if(!f6.has(t)&&(f6.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Hs,d6)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),d6=!0}}function h6(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return xf(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function vke(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return h6(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?h6(t,n):null}function bke(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function xke(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:a,to:l}=t.docView.parseRange(e,n),u=t.domSelectionRange(),f,d=u.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(f=[{node:d,offset:u.anchorOffset}],lw(u)||f.push({node:u.focusNode,offset:u.focusOffset})),Gr&&t.input.lastKeyCode===8)for(let E=s;E>i;E--){let A=r.childNodes[E-1],C=A.pmViewDesc;if(A.nodeName=="BR"&&!C){s=E;break}if(!C||C.size)break}let p=t.state.doc,g=t.someProp("domParser")||yc.fromSchema(t.state.schema),v=p.resolve(a),x=null,S=g.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:i,to:s,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:wke,context:v});if(f&&f[0].pos!=null){let E=f[0].pos,A=f[1]&&f[1].pos;A==null&&(A=E),x={anchor:E+a,head:A+a}}return{doc:S,sel:x,from:a,to:l}}function wke(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(fi&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||fi&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Ske=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Tke(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let M=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,N=sN(t,M);if(N&&!t.state.selection.eq(N)){if(Gr&&Lo&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",F=>F(t,Iu(13,"Enter"))))return;let P=t.state.tr.setSelection(N);M=="pointer"?P.setMeta("pointer",!0):M=="key"&&P.scrollIntoView(),s&&P.setMeta("composition",s),t.dispatch(P)}return}let a=t.state.doc.resolve(e),l=a.sharedDepth(n);e=a.before(l+1),n=t.state.doc.resolve(n).after(l+1);let u=t.state.selection,f=xke(t,e,n),d=t.state.doc,p=d.slice(f.from,f.to),g,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(g=t.state.selection.to,v="end"):(g=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let x=_ke(p.content,f.doc.content,f.from,g,v);if(x&&t.input.domChangeCount++,(vh&&t.input.lastIOSEnter>Date.now()-225||Lo)&&i.some(M=>M.nodeType==1&&!Ske.test(M.nodeName))&&(!x||x.endA>=x.endB)&&t.someProp("handleKeyDown",M=>M(t,Iu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!x)if(r&&u instanceof qe&&!u.empty&&u.$head.sameParent(u.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))x={start:u.from,endA:u.to,endB:u.to};else{if(f.sel){let M=p6(t,t.state.doc,f.sel);if(M&&!M.eq(t.state.selection)){let N=t.state.tr.setSelection(M);s&&N.setMeta("composition",s),t.dispatch(N)}}return}t.state.selection.from<t.state.selection.to&&x.start==x.endB&&t.state.selection instanceof qe&&(x.start>t.state.selection.from&&x.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?x.start=t.state.selection.from:x.endA<t.state.selection.to&&x.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(x.endB+=t.state.selection.to-x.endA,x.endA=t.state.selection.to)),Ii&&vc<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>f.from&&f.doc.textBetween(x.start-f.from-1,x.start-f.from+1)==" "&&(x.start--,x.endA--,x.endB--);let S=f.doc.resolveNoCache(x.start-f.from),E=f.doc.resolveNoCache(x.endB-f.from),A=d.resolve(x.start),C=S.sameParent(E)&&S.parent.inlineContent&&A.end()>=x.endA;if((vh&&t.input.lastIOSEnter>Date.now()-225&&(!C||i.some(M=>M.nodeName=="DIV"||M.nodeName=="P"))||!C&&S.pos<f.doc.content.size&&(!S.sameParent(E)||!S.parent.inlineContent)&&S.pos<E.pos&&!/\S/.test(f.doc.textBetween(S.pos,E.pos,"","")))&&t.someProp("handleKeyDown",M=>M(t,Iu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>x.start&&Ake(d,x.start,x.endA,S,E)&&t.someProp("handleKeyDown",M=>M(t,Iu(8,"Backspace")))){Lo&&Gr&&t.domObserver.suppressSelectionUpdates();return}Gr&&x.endB==x.start&&(t.input.lastChromeDelete=Date.now()),Lo&&!C&&S.start()!=E.start()&&E.parentOffset==0&&S.depth==E.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==x.endA&&(x.endB-=2,E=f.doc.resolveNoCache(x.endB-f.from),setTimeout(()=>{t.someProp("handleKeyDown",function(M){return M(t,Iu(13,"Enter"))})},20));let D=x.start,L=x.endA,j=M=>{let N=M||t.state.tr.replace(D,L,f.doc.slice(x.start-f.from,x.endB-f.from));if(f.sel){let P=p6(t,N.doc,f.sel);P&&!(Gr&&t.composing&&P.empty&&(x.start!=x.endB||t.input.lastChromeDelete<Date.now()-100)&&(P.head==D||P.head==N.mapping.map(L)-1)||Ii&&P.empty&&P.head==D)&&N.setSelection(P)}return s&&N.setMeta("composition",s),N.scrollIntoView()},B;if(C){if(S.pos==E.pos){Ii&&vc<=11&&S.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Uo(t),20));let M=j(t.state.tr.delete(D,L)),N=d.resolve(x.start).marksAcross(d.resolve(x.endA));N&&M.ensureMarks(N),t.dispatch(M)}else if(x.endA==x.endB&&(B=Eke(S.parent.content.cut(S.parentOffset,E.parentOffset),A.parent.content.cut(A.parentOffset,x.endA-A.start())))){let M=j(t.state.tr);B.type=="add"?M.addMark(D,L,B.mark):M.removeMark(D,L,B.mark),t.dispatch(M)}else if(S.parent.child(S.index()).isText&&S.index()==E.index()-(E.textOffset?0:1)){let M=S.parent.textBetween(S.parentOffset,E.parentOffset),N=()=>j(t.state.tr.insertText(M,D,L));t.someProp("handleTextInput",P=>P(t,D,L,M,N))||t.dispatch(N())}}else t.dispatch(j())}function p6(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:aN(t,e.resolve(n.anchor),e.resolve(n.head))}function Eke(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,a,l,u;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)s=n[d].removeFromSet(s);if(i.length==1&&s.length==0)l=i[0],a="add",u=d=>d.mark(l.addToSet(d.marks));else if(i.length==0&&s.length==1)l=s[0],a="remove",u=d=>d.mark(l.removeFromSet(d.marks));else return null;let f=[];for(let d=0;d<e.childCount;d++)f.push(u(e.child(d)));if(he.from(f).eq(t))return{mark:l,type:a}}function Ake(t,e,n,r,i){if(n-e<=i.pos-r.pos||WA(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let l=s.nodeAfter;return l!=null&&n==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=t.resolve(WA(s,!0,!0));return!a.parent.isTextblock||a.pos>n||WA(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function WA(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function _ke(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let u=Math.max(0,s-Math.min(a,l));r-=a+u-s}if(a<s&&t.size<e.size){let u=r<=s&&r>=a?s-r:0;s-=u,s&&s<e.size&&m6(e.textBetween(s-1,s+1))&&(s+=u?1:-1),l=s+(l-a),a=s}else if(l<s){let u=r<=s&&r>=l?s-r:0;s-=u,s&&s<t.size&&m6(t.textBetween(s-1,s+1))&&(s+=u?1:-1),a=s+(a-l),l=s}return{start:s,endA:a,endB:l}}function m6(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class IW{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new q_e,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(x6),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=v6(this),y6(this),this.nodeViews=b6(this),this.docView=XB(this.state.doc,g6(this),KA(this),this.dom,this),this.domObserver=new gke(this,(r,i,s,a)=>Tke(this,r,i,s,a)),this.domObserver.start(),K_e(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&EC(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(x6),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(_W(this),a=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=b6(this);Cke(v,this.nodeViews)&&(this.nodeViews=v,s=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&EC(this),this.editable=v6(this),y6(this);let u=KA(this),f=g6(this),d=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",p=s||!this.docView.matchesNode(e.doc,f,u);(p||!e.selection.eq(i.selection))&&(a=!0);let g=d=="preserve"&&a&&this.dom.style.overflowAnchor==null&&a_e(this);if(a){this.domObserver.stop();let v=p&&(Ii||Gr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&kke(i.selection,e.selection);if(p){let x=Gr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=ske(this)),(s||!this.docView.update(e.doc,f,u,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=XB(e.doc,f,u,this.dom,this)),x&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&M_e(this))?Uo(this,v):(pW(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():g&&o_e(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Le){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&HB(this,n.getBoundingClientRect(),e)}else HB(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new CW(e.slice,e.move,i<0?void 0:Le.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[e];if(l!=null&&(i=n?n(l):l))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let l=s[a].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(Ii){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&l_e(this.dom),Uo(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return h_e(this,e)}coordsAtPos(e,n=1){return aW(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return v_e(this,n||this.state,e)}pasteHTML(e,n){return mg(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return mg(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return oN(this,e)}destroy(){this.docView&&(W_e(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],KA(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,YAe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Y_e(this,e)}domSelectionRange(){let e=this.domSelection();return e?fi&&this.root.nodeType===11&&e_e(this.dom.ownerDocument)==this.dom&&vke(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}IW.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function g6(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[li.node(0,t.state.doc.content.size,e)]}function y6(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:li.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function v6(t){return!t.someProp("editable",e=>e(t.state)===!1)}function kke(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function b6(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Cke(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function x6(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Pc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ux={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Oke=typeof navigator<"u"&&/Mac/.test(navigator.platform),Mke=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ir=0;Ir<10;Ir++)Pc[48+Ir]=Pc[96+Ir]=String(Ir);for(var Ir=1;Ir<=24;Ir++)Pc[Ir+111]="F"+Ir;for(var Ir=65;Ir<=90;Ir++)Pc[Ir]=String.fromCharCode(Ir+32),ux[Ir]=String.fromCharCode(Ir);for(var GA in Pc)ux.hasOwnProperty(GA)||(ux[GA]=Pc[GA]);function Nke(t){var e=Oke&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Mke&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?ux:Pc)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Dke=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Ike=typeof navigator<"u"&&/Win/.test(navigator.platform);function Pke(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,a;for(let l=0;l<e.length-1;l++){let u=e[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))Dke?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function jke(t){let e=Object.create(null);for(let n in t)e[Pke(n)]=t[n];return e}function YA(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Rke(t){return new kn({props:{handleKeyDown:PW(t)}})}function PW(t){let e=jke(t);return function(n,r){let i=Nke(r),s,a=e[YA(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[YA(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Ike&&r.ctrlKey&&r.altKey)&&(s=Pc[r.keyCode])&&s!=i){let l=e[YA(s,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const hN=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function jW(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const RW=(t,e,n)=>{let r=jW(t,n);if(!r)return!1;let i=pN(r);if(!i){let a=r.blockRange(),l=a&&Hh(a);return l==null?!1:(e&&e(t.tr.lift(a,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(qW(t,i,e,-1))return!0;if(r.parent.content.size==0&&(bh(s,"end")||Le.isSelectable(s)))for(let a=r.depth;;a--){let l=aw(t.doc,r.before(a),r.after(a),Ee.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(bh(s,"end")?tt.findFrom(u.doc.resolve(u.mapping.map(i.pos,-1)),-1):Le.create(u.doc,i.pos-s.nodeSize)),e(u.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},Lke=(t,e,n)=>{let r=jW(t,n);if(!r)return!1;let i=pN(r);return i?LW(t,i,e):!1},Vke=(t,e,n)=>{let r=BW(t,n);if(!r)return!1;let i=mN(r);return i?LW(t,i,e):!1};function LW(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let a=e.nodeAfter,l=a,u=e.pos+1;for(;!l.isTextblock;u++){if(l.type.spec.isolating)return!1;let d=l.firstChild;if(!d)return!1;l=d}let f=aw(t.doc,s,u,Ee.empty);if(!f||f.from!=s||f instanceof ur&&f.slice.size>=u-s)return!1;if(n){let d=t.tr.step(f);d.setSelection(qe.create(d.doc,s)),n(d.scrollIntoView())}return!0}function bh(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const VW=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=pN(r)}let a=s&&s.nodeBefore;return!a||!Le.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Le.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function pN(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function BW(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const zW=(t,e,n)=>{let r=BW(t,n);if(!r)return!1;let i=mN(r);if(!i)return!1;let s=i.nodeAfter;if(qW(t,i,e,1))return!0;if(r.parent.content.size==0&&(bh(s,"start")||Le.isSelectable(s))){let a=aw(t.doc,r.before(),r.after(),Ee.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(bh(s,"start")?tt.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):Le.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},UW=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=mN(r)}let a=s&&s.nodeAfter;return!a||!Le.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Le.create(t.doc,s.pos)).scrollIntoView()),!0)};function mN(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Bke=(t,e)=>{let n=t.selection,r=n instanceof Le,i;if(r){if(n.node.isTextblock||!Yc(t.doc,n.from))return!1;i=n.from}else if(i=sw(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(Le.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},zke=(t,e)=>{let n=t.selection,r;if(n instanceof Le){if(n.node.isTextblock||!Yc(t.doc,n.to))return!1;r=n.to}else if(r=sw(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},Uke=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Hh(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},FW=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function gN(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Fke=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=gN(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let l=n.after(),u=t.tr.replaceWith(l,l,a.createAndFill());u.setSelection(tt.near(u.doc.resolve(l),1)),e(u.scrollIntoView())}return!0},$W=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof ns||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=gN(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(a,s.createAndFill());l.setSelection(qe.create(l.doc,a+1)),e(l.scrollIntoView())}return!0},HW=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(zo(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Hh(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function $ke(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Le&&e.selection.node.isBlock)return!r.parentOffset||!zo(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,l,u=!1,f=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){u=r.end(v)==r.pos+(r.depth-v),f=r.start(v)==r.pos-(r.depth-v),l=gN(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),s.unshift(u&&l?{type:l}:null),a=v;break}else{if(v==1)return!1;s.unshift(null)}let d=e.tr;(e.selection instanceof qe||e.selection instanceof ns)&&d.deleteSelection();let p=d.mapping.map(r.pos),g=zo(d.doc,p,s.length,s);if(g||(s[0]=l?{type:l}:null,g=zo(d.doc,p,s.length,s)),!g)return!1;if(d.split(p,s.length,s),!u&&f&&r.node(a).type!=l){let v=d.mapping.map(r.before(a)),x=d.doc.resolve(v);l&&r.node(a-1).canReplaceWith(x.index(),x.index()+1,l)&&d.setNodeMarkup(d.mapping.map(r.before(a)),l)}return n&&n(d.scrollIntoView()),!0}}const Hke=$ke(),qke=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(Le.create(t.doc,i))),!0)};function Kke(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Yc(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function qW(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,a,l,u=i.type.spec.isolating||s.type.spec.isolating;if(!u&&Kke(t,e,n))return!0;let f=!u&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(a=(l=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&l.matchType(a[0]||s.type).validEnd){if(n){let v=e.pos+s.nodeSize,x=he.empty;for(let A=a.length-1;A>=0;A--)x=he.from(a[A].create(null,x));x=he.from(i.copy(x));let S=t.tr.step(new hr(e.pos-1,v,e.pos,v,new Ee(x,1,0),a.length,!0)),E=S.doc.resolve(v+2*a.length);E.nodeAfter&&E.nodeAfter.type==i.type&&Yc(S.doc,E.pos)&&S.join(E.pos),n(S.scrollIntoView())}return!0}let d=s.type.spec.isolating||r>0&&u?null:tt.findFrom(e,1),p=d&&d.$from.blockRange(d.$to),g=p&&Hh(p);if(g!=null&&g>=e.depth)return n&&n(t.tr.lift(p,g).scrollIntoView()),!0;if(f&&bh(s,"start",!0)&&bh(i,"end")){let v=i,x=[];for(;x.push(v),!v.isTextblock;)v=v.lastChild;let S=s,E=1;for(;!S.isTextblock;S=S.firstChild)E++;if(v.canReplace(v.childCount,v.childCount,S.content)){if(n){let A=he.empty;for(let D=x.length-1;D>=0;D--)A=he.from(x[D].copy(A));let C=t.tr.step(new hr(e.pos-x.length,e.pos+s.nodeSize,e.pos+E,e.pos+s.nodeSize-E,new Ee(A,x.length,0),0,!0));n(C.scrollIntoView())}return!0}}return!1}function KW(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(qe.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const Wke=KW(-1),Gke=KW(1);function Yke(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),l=a&&nN(a,t,e);return l?(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}function w6(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];n.doc.nodesBetween(a,l,(u,f)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(t,e)))if(u.type==t)i=!0;else{let d=n.doc.resolve(f),p=d.index();i=d.parent.canReplaceWith(p,p+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[a];s.setBlockType(l,u,t,e)}r(s.scrollIntoView())}return!0}}function yN(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}yN(hN,RW,VW);yN(hN,zW,UW);yN(FW,$W,HW,Hke);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Xke(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s);if(!a)return!1;let l=r?n.tr:null;return Qke(l,a,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}function Qke(t,e,n,r=null){let i=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let u=a.resolve(e.start-2);s=new rx(u,u,e.depth),e.endIndex<e.parent.childCount&&(e=new rx(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let l=nN(s,n,r,e);return l?(t&&Jke(t,e,l,i,n),!0):!1}function Jke(t,e,n,r,i){let s=he.empty;for(let d=n.length-1;d>=0;d--)s=he.from(n[d].type.create(n[d].attrs,s));t.step(new hr(e.start-(r?2:0),e.end,e.start,e.end,new Ee(s,0,0),n.length,!0));let a=0;for(let d=0;d<n.length;d++)n[d].type==i&&(a=d+1);let l=n.length-a,u=e.start+n.length-(r?2:0),f=e.parent;for(let d=e.startIndex,p=e.endIndex,g=!0;d<p;d++,g=!1)!g&&zo(t.doc,u,l)&&(t.split(u,l),u+=2*l),u+=f.child(d).nodeSize;return t}function Zke(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?eCe(e,n,t,s):tCe(e,n,s):!0:!1}}function eCe(t,e,n,r){let i=t.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new hr(s-1,a,s,a,new Ee(he.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new rx(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const l=Hh(r);if(l==null)return!1;i.lift(r,l);let u=i.doc.resolve(i.mapping.map(s,-1)-1);return Yc(i.doc,u.pos)&&u.nodeBefore.type==u.nodeAfter.type&&i.join(u.pos),e(i.scrollIntoView()),!0}function tCe(t,e,n){let r=t.tr,i=n.parent;for(let v=n.end,x=n.endIndex-1,S=n.startIndex;x>S;x--)v-=i.child(x).nodeSize,r.delete(v-1,v+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,u=n.endIndex==i.childCount,f=s.node(-1),d=s.index(-1);if(!f.canReplace(d+(l?0:1),d+1,a.content.append(u?he.empty:he.from(i))))return!1;let p=s.pos,g=p+a.nodeSize;return r.step(new hr(p-(l?1:0),g+(u?1:0),p+1,g-1,new Ee((l?he.empty:he.from(i.copy(he.empty))).append(u?he.empty:he.from(i.copy(he.empty))),l?0:1,u?0:1),l?0:1)),e(r.scrollIntoView()),!0}function nCe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==t);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let l=s.parent,u=l.child(a-1);if(u.type!=t)return!1;if(n){let f=u.lastChild&&u.lastChild.type==l.type,d=he.from(f?t.create():null),p=new Ee(he.from(t.create(null,he.from(l.type.create(null,d)))),f?3:1,0),g=s.start,v=s.end;n(e.tr.step(new hr(g-(f?3:1),v,g,v,p,1,!0)).scrollIntoView())}return!0}}var rCe=Object.defineProperty,WW=(t,e)=>{for(var n in e)rCe(t,n,{get:e[n],enumerable:!0})};function fw(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var dw=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...f)=>{const d=l(...f)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a=[],l=!!t,u=t||i.tr,f=()=>(!l&&e&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),a.every(p=>p===!0)),d={...Object.fromEntries(Object.entries(n).map(([p,g])=>[p,(...x)=>{const S=this.buildProps(u,e),E=g(...x)(S);return a.push(E),d}])),run:f};return d}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([l,u])=>[l,(...f)=>u(...f)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a={tr:t,editor:r,view:s,state:fw({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...f)=>u(...f)(a)]))}};return a}},iCe=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}};function GW(t,e){const n=new QK(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}var YW=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&YW(r)}return t};function cv(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return YW(n)}function yg(t,e,n){if(t instanceof va||t instanceof he)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return he.fromArray(t.map(l=>e.nodeFromJSON(l)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),yg("",e,n)}if(i){if(n.errorOnInvalidContent){let a=!1,l="";const u=new jK({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(a=!0,l=typeof f=="string"?f:f.outerHTML,null)}]}})});if(n.slice?yc.fromSchema(u).parseSlice(cv(t),n.parseOptions):yc.fromSchema(u).parse(cv(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=yc.fromSchema(e);return n.slice?s.parseSlice(cv(t),n.parseOptions).content:s.parse(cv(t),n.parseOptions)}return yg("",e,n)}function AC(t,e,n={},r={}){return yg(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function sCe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function aCe(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function oCe(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function hw(t){return e=>oCe(e.$from,t)}function je(t,e,n){return t.config[e]===void 0&&t.parent?je(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?je(t.parent,e,n):null}):t.config[e]}function vN(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=je(e,"addExtensions",n);return r?[e,...vN(r())]:e}).flat(10)}function bN(t,e){const n=Pf.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function XW(t){return typeof t=="function"}function Mt(t,e=void 0,...n){return XW(t)?e?t.bind(e)(...n):t(...n):t}function lCe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function vg(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function QW(t){const e=[],{nodeExtensions:n,markExtensions:r}=vg(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage,extensions:i},u=je(a,"addGlobalAttributes",l);if(!u)return;u().forEach(d=>{d.types.forEach(p=>{Object.entries(d.attributes).forEach(([g,v])=>{e.push({type:p,name:g,attribute:{...s,...v}})})})})}),i.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},u=je(a,"addAttributes",l);if(!u)return;const f=u();Object.entries(f).forEach(([d,p])=>{const g={...s,...p};typeof g?.default=="function"&&(g.default=g.default()),g?.isRequired&&g?.default===void 0&&delete g.default,e.push({type:a.name,name:d,attribute:g})})}),e}function _n(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const l=s?String(s).split(" "):[],u=r[i]?r[i].split(" "):[],f=l.filter(d=>!u.includes(d));r[i]=[...u,...f].join(" ")}else if(i==="style"){const l=s?s.split(";").map(d=>d.trim()).filter(Boolean):[],u=r[i]?r[i].split(";").map(d=>d.trim()).filter(Boolean):[],f=new Map;u.forEach(d=>{const[p,g]=d.split(":").map(v=>v.trim());f.set(p,g)}),l.forEach(d=>{const[p,g]=d.split(":").map(v=>v.trim());f.set(p,g)}),r[i]=Array.from(f.entries()).map(([d,p])=>`${d}: ${p}`).join("; ")}else r[i]=s}),r},{})}function fx(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>_n(n,r),{})}function cCe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function S6(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(n):cCe(n.getAttribute(a.name));return l==null?s:{...s,[a.name]:l}},{});return{...r,...i}}}}function T6(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&lCe(n)?!1:n!=null))}function uCe(t,e){var n;const r=QW(t),{nodeExtensions:i,markExtensions:s}=vg(t),a=(n=i.find(f=>je(f,"topNode")))==null?void 0:n.name,l=Object.fromEntries(i.map(f=>{const d=r.filter(A=>A.type===f.name),p={name:f.name,options:f.options,storage:f.storage,editor:e},g=t.reduce((A,C)=>{const D=je(C,"extendNodeSchema",p);return{...A,...D?D(f):{}}},{}),v=T6({...g,content:Mt(je(f,"content",p)),marks:Mt(je(f,"marks",p)),group:Mt(je(f,"group",p)),inline:Mt(je(f,"inline",p)),atom:Mt(je(f,"atom",p)),selectable:Mt(je(f,"selectable",p)),draggable:Mt(je(f,"draggable",p)),code:Mt(je(f,"code",p)),whitespace:Mt(je(f,"whitespace",p)),linebreakReplacement:Mt(je(f,"linebreakReplacement",p)),defining:Mt(je(f,"defining",p)),isolating:Mt(je(f,"isolating",p)),attrs:Object.fromEntries(d.map(A=>{var C,D;return[A.name,{default:(C=A?.attribute)==null?void 0:C.default,validate:(D=A?.attribute)==null?void 0:D.validate}]}))}),x=Mt(je(f,"parseHTML",p));x&&(v.parseDOM=x.map(A=>S6(A,d)));const S=je(f,"renderHTML",p);S&&(v.toDOM=A=>S({node:A,HTMLAttributes:fx(A,d)}));const E=je(f,"renderText",p);return E&&(v.toText=E),[f.name,v]})),u=Object.fromEntries(s.map(f=>{const d=r.filter(E=>E.type===f.name),p={name:f.name,options:f.options,storage:f.storage,editor:e},g=t.reduce((E,A)=>{const C=je(A,"extendMarkSchema",p);return{...E,...C?C(f):{}}},{}),v=T6({...g,inclusive:Mt(je(f,"inclusive",p)),excludes:Mt(je(f,"excludes",p)),group:Mt(je(f,"group",p)),spanning:Mt(je(f,"spanning",p)),code:Mt(je(f,"code",p)),attrs:Object.fromEntries(d.map(E=>{var A,C;return[E.name,{default:(A=E?.attribute)==null?void 0:A.default,validate:(C=E?.attribute)==null?void 0:C.validate}]}))}),x=Mt(je(f,"parseHTML",p));x&&(v.parseDOM=x.map(E=>S6(E,d)));const S=je(f,"renderHTML",p);return S&&(v.toDOM=E=>S({mark:E,HTMLAttributes:fx(E,d)})),[f.name,v]}));return new jK({topNode:a,nodes:l,marks:u})}function fCe(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function xN(t){return t.sort((n,r)=>{const i=je(n,"priority")||100,s=je(r,"priority")||100;return i>s?-1:i<s?1:0})}function JW(t){const e=xN(vN(t)),n=fCe(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function ZW(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let l="";return t.nodesBetween(r,i,(u,f,d,p)=>{var g;u.isBlock&&f>r&&(l+=s);const v=a?.[u.type.name];if(v)return d&&(l+=v({node:u,pos:f,parent:d,index:p,range:e})),!1;u.isText&&(l+=(g=u?.text)==null?void 0:g.slice(Math.max(r,f)-f,i-f))}),l}function dCe(t,e){const n={from:0,to:t.content.size};return ZW(t,n,e)}function eG(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function ll(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function tG(t,e){const n=ll(e,t.schema),{from:r,to:i,empty:s}=t.selection,a=[];s?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,u=>{a.push(...u.marks)});const l=a.find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}function Wn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function hCe(t,e){const n=Wn(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,l=>{s.push(l)});const a=s.reverse().find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function pw(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function nG(t,e){const n=pw(typeof e=="string"?e:e.name,t.schema);return n==="node"?hCe(t,e):n==="mark"?tG(t,e):{}}function pCe(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function mCe(t){const e=pCe(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function rG(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const a=[];if(i.ranges.length)i.forEach((l,u)=>{a.push({from:l,to:u})});else{const{from:l,to:u}=n[s];if(l===void 0||u===void 0)return;a.push({from:l,to:u})}a.forEach(({from:l,to:u})=>{const f=e.slice(s).map(l,-1),d=e.slice(s).map(u),p=e.invert().map(f,-1),g=e.invert().map(d);r.push({oldRange:{from:p,to:g},newRange:{from:f,to:d}})})}),mCe(r)}function wN(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function dx(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:wN(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function iG(t,e,n={}){return t.find(r=>r.type===e&&dx(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function E6(t,e,n={}){return!!iG(t,e,n)}function SN(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(d=>d.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(d=>d.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!iG([...i.node.marks],e,n)))return;let a=i.index,l=t.start()+i.offset,u=a+1,f=l+i.node.nodeSize;for(;a>0&&E6([...t.parent.child(a-1).marks],e,n);)a-=1,l-=t.parent.child(a).nodeSize;for(;u<t.parent.childCount&&E6([...t.parent.child(u).marks],e,n);)f+=t.parent.child(u).nodeSize,u+=1;return{from:l,to:f}}function TN(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),a=SN(s,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(t,e,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),r}var gCe=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,a=null;for(;s>0&&a===null;){const l=i.node(s);l?.type.name===e?a=l:s-=1}return[a,s]};function XA(t,e){return e.nodes[t]||e.marks[t]||null}function Fv(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var yCe=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,a,l)=>{var u,f;const d=((f=(u=i.type.spec).toText)==null?void 0:f.call(u,{node:i,pos:s,parent:a,index:l}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?d:d.slice(0,Math.max(0,r-s))}),n};function _C(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?ll(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(p=>s?s.name===p.type.name:!0).find(p=>dx(p.attrs,n,{strict:!1}));let a=0;const l=[];if(i.forEach(({$from:p,$to:g})=>{const v=p.pos,x=g.pos;t.doc.nodesBetween(v,x,(S,E)=>{if(!S.isText&&!S.marks.length)return;const A=Math.max(v,E),C=Math.min(x,E+S.nodeSize),D=C-A;a+=D,l.push(...S.marks.map(L=>({mark:L,from:A,to:C})))})}),a===0)return!1;const u=l.filter(p=>s?s.name===p.mark.type.name:!0).filter(p=>dx(p.mark.attrs,n,{strict:!1})).reduce((p,g)=>p+g.to-g.from,0),f=l.filter(p=>s?p.mark.type!==s&&p.mark.type.excludes(s):!0).reduce((p,g)=>p+g.to-g.from,0);return(u>0?u+f:u)>=a}function jc(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,a=e?Wn(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(p,g)=>{if(p.isText)return;const v=Math.max(r,g),x=Math.min(i,g+p.nodeSize);l.push({node:p,from:v,to:x})});const u=i-r,f=l.filter(p=>a?a.name===p.node.type.name:!0).filter(p=>dx(p.node.attrs,n,{strict:!1}));return s?!!f.length:f.reduce((p,g)=>p+g.to-g.from,0)>=u}function vCe(t,e,n={}){if(!e)return jc(t,null,n)||_C(t,null,n);const r=pw(e,t.schema);return r==="node"?jc(t,e,n):r==="mark"?_C(t,e,n):!1}var bCe=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=hw(l=>l.type.name===e)(t.selection);if(!s)return!1;const a=t.doc.resolve(s.pos+1);return i.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},xCe=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function A6(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function _6(t,e){const{nodeExtensions:n}=vg(e),r=n.find(a=>a.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Mt(je(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function mw(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(mw(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function sG(t){return t instanceof Le}function aG(t){return t instanceof qe}function $u(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function oG(t,e=null){if(!e)return null;const n=tt.atStart(t),r=tt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?qe.create(t,$u(0,i,s),$u(t.content.size,i,s)):qe.create(t,$u(e,i,s),$u(e,i,s))}function wCe(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof ur||i instanceof hr))return;const s=t.mapping.maps[r];let a=0;s.forEach((l,u,f,d)=>{a===0&&(a=d)}),t.setSelection(tt.near(t.doc.resolve(a),n))}var gw=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},SCe=(t,e)=>{if(wN(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function uv(t){var e;const{editor:n,from:r,to:i,text:s,rules:a,plugin:l}=t,{view:u}=n;if(u.composing)return!1;const f=u.state.doc.resolve(r);if(f.parent.type.spec.code||(e=f.nodeBefore||f.nodeAfter)!=null&&e.marks.find(g=>g.type.spec.code))return!1;let d=!1;const p=yCe(f)+s;return a.forEach(g=>{if(d)return;const v=SCe(p,g.find);if(!v)return;const x=u.state.tr,S=fw({state:u.state,transaction:x}),E={from:r-(v[0].length-s.length),to:i},{commands:A,chain:C,can:D}=new dw({editor:n,state:S});g.handler({state:S,range:E,match:v,commands:A,chain:C,can:D})===null||!x.steps.length||(g.undoable&&x.setMeta(l,{transform:x,from:r,to:i,text:s}),u.dispatch(x),d=!0)}),d}function TCe(t){const{editor:e,rules:n}=t,r=new kn({state:{init(){return null},apply(i,s,a){const l=i.getMeta(r);if(l)return l;const u=i.getMeta("applyInputRules");return!!u&&setTimeout(()=>{let{text:d}=u;typeof d=="string"?d=d:d=bN(he.from(d),a.schema);const{from:p}=u,g=p+d.length;uv({editor:e,from:p,to:g,text:d,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,a,l){return uv({editor:e,from:s,to:a,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&uv({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?uv({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function ECe(t){return Object.prototype.toString.call(t).slice(8,-1)}function fv(t){return ECe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function lG(t,e){const n={...t};return fv(t)&&fv(e)&&Object.keys(e).forEach(r=>{fv(e[r])&&fv(t[r])?n[r]=lG(t[r],e[r]):n[r]=e[r]}),n}var EN=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Mt(je(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Mt(je(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>lG(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},cl=class cG extends EN{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new cG(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(f=>f?.type.name===n.name))return!1;const u=a.find(f=>f?.type.name===n.name);return u&&r.removeStoredMark(u),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function ACe(t){return typeof t=="number"}var _Ce=class{constructor(t){this.find=t.find,this.handler=t.handler}},kCe=(t,e,n)=>{if(wN(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function CCe(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:a,dropEvent:l}=t,{commands:u,chain:f,can:d}=new dw({editor:e,state:n}),p=[];return n.doc.nodesBetween(r,i,(v,x)=>{var S,E,A,C,D;if((E=(S=v.type)==null?void 0:S.spec)!=null&&E.code||!(v.isText||v.isTextblock||v.isInline))return;const L=(D=(C=(A=v.content)==null?void 0:A.size)!=null?C:v.nodeSize)!=null?D:0,j=Math.max(r,x),B=Math.min(i,x+L);if(j>=B)return;const M=v.isText?v.text||"":v.textBetween(j-x,B-x,void 0,"");kCe(M,s.find,a).forEach(P=>{if(P.index===void 0)return;const F=j+P.index+1,V=F+P[0].length,$={from:n.tr.mapping.map(F),to:n.tr.mapping.map(V)},U=s.handler({state:n,range:$,match:P,commands:u,chain:f,can:d,pasteEvent:a,dropEvent:l});p.push(U)})}),p.every(v=>v!==null)}var dv=null,OCe=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function MCe(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const u=({state:d,from:p,to:g,rule:v,pasteEvt:x})=>{const S=d.tr,E=fw({state:d,transaction:S});if(!(!CCe({editor:e,state:E,from:Math.max(p-1,0),to:g.b-1,rule:v,pasteEvent:x,dropEvent:l})||!S.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,S}};return n.map(d=>new kn({view(p){const g=x=>{var S;r=(S=p.dom.parentElement)!=null&&S.contains(x.target)?p.dom.parentElement:null,r&&(dv=e)},v=()=>{dv&&(dv=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(p,g)=>{if(s=r===p.dom.parentElement,l=g,!s){const v=dv;v?.isEditable&&setTimeout(()=>{const x=v.state.selection;x&&v.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(p,g)=>{var v;const x=(v=g.clipboardData)==null?void 0:v.getData("text/html");return a=g,i=!!x?.includes("data-pm-slice"),!1}}},appendTransaction:(p,g,v)=>{const x=p[0],S=x.getMeta("uiEvent")==="paste"&&!i,E=x.getMeta("uiEvent")==="drop"&&!s,A=x.getMeta("applyPasteRules"),C=!!A;if(!S&&!E&&!C)return;if(C){let{text:j}=A;typeof j=="string"?j=j:j=bN(he.from(j),v.schema);const{from:B}=A,M=B+j.length,N=OCe(j);return u({rule:d,state:v,from:B,to:{b:M},pasteEvt:N})}const D=g.doc.content.findDiffStart(v.doc.content),L=g.doc.content.findDiffEnd(v.doc.content);if(!(!ACe(D)||!L||D===L.b))return u({rule:d,state:v,from:D,to:L,pasteEvt:a})}}))}var yw=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=JW(t),this.schema=uCe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:XA(e.name,this.schema)},r=je(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return xN([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:XA(r.name,this.schema)},s=[],a=je(r,"addKeyboardShortcuts",i);let l={};if(r.type==="mark"&&je(r,"exitable",i)&&(l.ArrowRight=()=>cl.handleExit({editor:t,mark:r})),a){const g=Object.fromEntries(Object.entries(a()).map(([v,x])=>[v,()=>x({editor:t})]));l={...l,...g}}const u=Rke(l);s.push(u);const f=je(r,"addInputRules",i);if(A6(r,t.options.enableInputRules)&&f){const g=f();if(g&&g.length){const v=TCe({editor:t,rules:g}),x=Array.isArray(v)?v:[v];s.push(...x)}}const d=je(r,"addPasteRules",i);if(A6(r,t.options.enablePasteRules)&&d){const g=d();if(g&&g.length){const v=MCe({editor:t,rules:g});s.push(...v)}}const p=je(r,"addProseMirrorPlugins",i);if(p){const g=p();s.push(...g)}return s})}get attributes(){return QW(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=vg(this.extensions);return Object.fromEntries(e.filter(n=>!!je(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Wn(n.name,this.schema)},s=je(n,"addNodeView",i);if(!s)return[];const a=(l,u,f,d,p)=>{const g=fx(l,r);return s()({node:l,view:u,getPos:f,decorations:d,innerDecorations:p,editor:t,extension:n,HTMLAttributes:g})};return[n.name,a]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=vg(this.extensions);return Object.fromEntries(e.filter(n=>!!je(n,"addMarkView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:ll(n.name,this.schema)},s=je(n,"addMarkView",i);if(!s)return[];const a=(l,u,f)=>{const d=fx(l,r);return s()({mark:l,view:u,inline:f,editor:t,extension:n,HTMLAttributes:d,updateAttributes:p=>{K2e(l,t,p)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:XA(e.name,this.schema)};e.type==="mark"&&((n=Mt(je(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=je(e,"onBeforeCreate",r),s=je(e,"onCreate",r),a=je(e,"onUpdate",r),l=je(e,"onSelectionUpdate",r),u=je(e,"onTransaction",r),f=je(e,"onFocus",r),d=je(e,"onBlur",r),p=je(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),a&&this.editor.on("update",a),l&&this.editor.on("selectionUpdate",l),u&&this.editor.on("transaction",u),f&&this.editor.on("focus",f),d&&this.editor.on("blur",d),p&&this.editor.on("destroy",p)})}};yw.resolve=JW;yw.sort=xN;yw.flatten=vN;var NCe={};WW(NCe,{ClipboardTextSerializer:()=>fG,Commands:()=>pG,Delete:()=>mG,Drop:()=>gG,Editable:()=>yG,FocusEvents:()=>bG,Keymap:()=>xG,Paste:()=>wG,Tabindex:()=>SG,focusEventsPluginKey:()=>vG});var Qt=class uG extends EN{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new uG(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},fG=Qt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new kn({key:new br("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,a=Math.min(...s.map(d=>d.$from.pos)),l=Math.max(...s.map(d=>d.$to.pos)),u=eG(n);return ZW(r,{from:a,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:u})}}})]}}),dG={};WW(dG,{blur:()=>DCe,clearContent:()=>ICe,clearNodes:()=>PCe,command:()=>jCe,createParagraphNear:()=>RCe,cut:()=>LCe,deleteCurrentNode:()=>VCe,deleteNode:()=>BCe,deleteRange:()=>zCe,deleteSelection:()=>UCe,enter:()=>FCe,exitCode:()=>$Ce,extendMarkRange:()=>HCe,first:()=>qCe,focus:()=>WCe,forEach:()=>GCe,insertContent:()=>YCe,insertContentAt:()=>QCe,joinBackward:()=>e2e,joinDown:()=>ZCe,joinForward:()=>t2e,joinItemBackward:()=>n2e,joinItemForward:()=>r2e,joinTextblockBackward:()=>i2e,joinTextblockForward:()=>s2e,joinUp:()=>JCe,keyboardShortcut:()=>o2e,lift:()=>l2e,liftEmptyBlock:()=>c2e,liftListItem:()=>u2e,newlineInCode:()=>f2e,resetAttributes:()=>d2e,scrollIntoView:()=>h2e,selectAll:()=>p2e,selectNodeBackward:()=>m2e,selectNodeForward:()=>g2e,selectParentNode:()=>y2e,selectTextblockEnd:()=>v2e,selectTextblockStart:()=>b2e,setContent:()=>x2e,setMark:()=>S2e,setMeta:()=>T2e,setNode:()=>E2e,setNodeSelection:()=>A2e,setTextSelection:()=>_2e,sinkListItem:()=>k2e,splitBlock:()=>C2e,splitListItem:()=>O2e,toggleList:()=>M2e,toggleMark:()=>N2e,toggleNode:()=>D2e,toggleWrap:()=>I2e,undoInputRule:()=>P2e,unsetAllMarks:()=>j2e,unsetMark:()=>R2e,updateAttributes:()=>L2e,wrapIn:()=>V2e,wrapInList:()=>B2e});var DCe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),ICe=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),PCe=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:a})=>{t.doc.nodesBetween(s.pos,a.pos,(l,u)=>{if(l.type.isText)return;const{doc:f,mapping:d}=e,p=f.resolve(d.map(u)),g=f.resolve(d.map(u+l.nodeSize)),v=p.blockRange(g);if(!v)return;const x=Hh(v);if(l.type.isTextblock){const{defaultType:S}=p.parent.contentMatchAt(p.index());e.setNodeMarkup(v.start,S)}(x||x===0)&&e.lift(v,x)})}),!0},jCe=t=>e=>t(e),RCe=()=>({state:t,dispatch:e})=>$W(t,e),LCe=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,s.content),r.setSelection(new qe(r.doc.resolve(Math.max(a-1,0)))),!0},VCe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const l=i.before(s),u=i.after(s);t.delete(l,u).scrollIntoView()}return!0}return!1},BCe=t=>({tr:e,state:n,dispatch:r})=>{const i=Wn(t,n.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(r){const u=s.before(a),f=s.after(a);e.delete(u,f).scrollIntoView()}return!0}return!1},zCe=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},UCe=()=>({state:t,dispatch:e})=>hN(t,e),FCe=()=>({commands:t})=>t.keyboardShortcut("Enter"),$Ce=()=>({state:t,dispatch:e})=>Fke(t,e),HCe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=ll(t,r.schema),{doc:a,selection:l}=n,{$from:u,from:f,to:d}=l;if(i){const p=SN(u,s,e);if(p&&p.from<=f&&p.to>=d){const g=qe.create(a,p.from,p.to);n.setSelection(g)}}return!0},qCe=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function KCe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function AN(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var WCe=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{(AN()||KCe())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!aG(n.state.selection))return a(),!0;const l=oG(i.doc,t)||n.state.selection,u=n.state.selection.eq(l);return s&&(u||i.setSelection(l),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},GCe=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),YCe=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),XCe=t=>!("type"in t),QCe=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var a;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const u=E=>{s.emit("contentError",{editor:s,error:E,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{yg(e,s.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(E){u(E)}try{l=yg(e,s.schema,{parseOptions:f,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(E){return u(E),!1}let{from:d,to:p}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},g=!0,v=!0;if((XCe(l)?l:[l]).forEach(E=>{E.check(),g=g?E.isText&&E.marks.length===0:!1,v=v?E.isBlock:!1}),d===p&&v){const{parent:E}=r.doc.resolve(d);E.isTextblock&&!E.type.spec.code&&!E.childCount&&(d-=1,p+=1)}let S;if(g){if(Array.isArray(e))S=e.map(E=>E.text||"").join("");else if(e instanceof he){let E="";e.forEach(A=>{A.text&&(E+=A.text)}),S=E}else typeof e=="object"&&e&&e.text?S=e.text:S=e;r.insertText(S,d,p)}else{S=l;const E=r.doc.resolve(d),A=E.node(),C=E.parentOffset===0,D=A.isText||A.isTextblock,L=A.content.size>0;C&&D&&L&&(d=Math.max(0,d-1)),r.replaceWith(d,p,S)}n.updateSelection&&wCe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:S}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:S})}return!0},JCe=()=>({state:t,dispatch:e})=>Bke(t,e),ZCe=()=>({state:t,dispatch:e})=>zke(t,e),e2e=()=>({state:t,dispatch:e})=>RW(t,e),t2e=()=>({state:t,dispatch:e})=>zW(t,e),n2e=()=>({state:t,dispatch:e,tr:n})=>{try{const r=sw(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},r2e=()=>({state:t,dispatch:e,tr:n})=>{try{const r=sw(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},i2e=()=>({state:t,dispatch:e})=>Lke(t,e),s2e=()=>({state:t,dispatch:e})=>Vke(t,e);function hG(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function a2e(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,a;for(let l=0;l<e.length-1;l+=1){const u=e[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))AN()||hG()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var o2e=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=a2e(t).split(/-(?!$)/),a=s.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,l))});return u?.steps.forEach(f=>{const d=f.map(r.mapping);d&&i&&r.maybeStep(d)}),!0},l2e=(t,e={})=>({state:n,dispatch:r})=>{const i=Wn(t,n.schema);return jc(n,i,e)?Uke(n,r):!1},c2e=()=>({state:t,dispatch:e})=>HW(t,e),u2e=t=>({state:e,dispatch:n})=>{const r=Wn(t,e.schema);return Zke(r)(e,n)},f2e=()=>({state:t,dispatch:e})=>FW(t,e);function k6(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var d2e=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const l=pw(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(s=Wn(t,r.schema)),l==="mark"&&(a=ll(t,r.schema)),i&&n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(f,d)=>{s&&s===f.type&&n.setNodeMarkup(d,void 0,k6(f.attrs,e)),a&&f.marks.length&&f.marks.forEach(p=>{a===p.type&&n.addMark(d,d+f.nodeSize,a.create(k6(p.attrs,e)))})})}),!0):!1},h2e=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),p2e=()=>({tr:t,dispatch:e})=>{if(e){const n=new ns(t.doc);t.setSelection(n)}return!0},m2e=()=>({state:t,dispatch:e})=>VW(t,e),g2e=()=>({state:t,dispatch:e})=>UW(t,e),y2e=()=>({state:t,dispatch:e})=>qke(t,e),v2e=()=>({state:t,dispatch:e})=>Gke(t,e),b2e=()=>({state:t,dispatch:e})=>Wke(t,e),x2e=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:a,commands:l})=>{const{doc:u}=s;if(r.preserveWhitespace!=="full"){const f=AC(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return a&&s.replaceWith(0,u.content.size,f).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:u.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function w2e(t,e,n){var r;const{selection:i}=e;let s=null;if(aG(i)&&(s=i.$cursor),s){const l=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(f=>f.type.excludes(n)))}const{ranges:a}=i;return a.some(({$from:l,$to:u})=>{let f=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,u.pos,(d,p,g)=>{if(f)return!1;if(d.isInline){const v=!g||g.type.allowsMarkType(n),x=!!n.isInSet(d.marks)||!d.marks.some(S=>S.type.excludes(n));f=v&&x}return!f}),f})}var S2e=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:a,ranges:l}=s,u=ll(t,r.schema);if(i)if(a){const f=tG(r,u);n.addStoredMark(u.create({...f,...e}))}else l.forEach(f=>{const d=f.$from.pos,p=f.$to.pos;r.doc.nodesBetween(d,p,(g,v)=>{const x=Math.max(v,d),S=Math.min(v+g.nodeSize,p);g.marks.find(A=>A.type===u)?g.marks.forEach(A=>{u===A.type&&n.addMark(x,S,u.create({...A.attrs,...e}))}):n.addMark(x,S,u.create(e))})});return w2e(r,n,u)},T2e=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),E2e=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=Wn(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:l})=>w6(s,{...a,...e})(n)?!0:l.clearNodes()).command(({state:l})=>w6(s,{...a,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},A2e=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=$u(t,0,r.content.size),s=Le.create(r,i);e.setSelection(s)}return!0},_2e=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,a=qe.atStart(r).from,l=qe.atEnd(r).to,u=$u(i,a,l),f=$u(s,a,l),d=qe.create(r,u,f);e.setSelection(d)}return!0},k2e=t=>({state:e,dispatch:n})=>{const r=Wn(t,e.schema);return nCe(r)(e,n)};function C6(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var C2e=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:a}=e,{$from:l,$to:u}=s,f=i.extensionManager.attributes,d=Fv(f,l.node().type.name,l.node().attrs);if(s instanceof Le&&s.node.isBlock)return!l.parentOffset||!zo(a,l.pos)?!1:(r&&(t&&C6(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const p=u.parentOffset===u.parent.content.size,g=l.depth===0?void 0:sCe(l.node(-1).contentMatchAt(l.indexAfter(-1)));let v=p&&g?[{type:g,attrs:d}]:void 0,x=zo(e.doc,e.mapping.map(l.pos),1,v);if(!v&&!x&&zo(e.doc,e.mapping.map(l.pos),1,g?[{type:g}]:void 0)&&(x=!0,v=g?[{type:g,attrs:d}]:void 0),r){if(x&&(s instanceof qe&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,v),g&&!p&&!l.parentOffset&&l.parent.type!==g)){const S=e.mapping.map(l.before()),E=e.doc.resolve(S);l.node(-1).canReplaceWith(E.index(),E.index()+1,g)&&e.setNodeMarkup(e.mapping.map(l.before()),g)}t&&C6(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return x},O2e=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var a;const l=Wn(t,r.schema),{$from:u,$to:f}=r.selection,d=r.selection.node;if(d&&d.isBlock||u.depth<2||!u.sameParent(f))return!1;const p=u.node(-1);if(p.type!==l)return!1;const g=s.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==l||u.index(-2)!==u.node(-2).childCount-1)return!1;if(i){let A=he.empty;const C=u.index(-1)?1:u.index(-2)?2:3;for(let N=u.depth-C;N>=u.depth-3;N-=1)A=he.from(u.node(N).copy(A));const D=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,L={...Fv(g,u.node().type.name,u.node().attrs),...e},j=((a=l.contentMatch.defaultType)==null?void 0:a.createAndFill(L))||void 0;A=A.append(he.from(l.createAndFill(null,j)||void 0));const B=u.before(u.depth-(C-1));n.replace(B,u.after(-D),new Ee(A,4-C,0));let M=-1;n.doc.nodesBetween(B,n.doc.content.size,(N,P)=>{if(M>-1)return!1;N.isTextblock&&N.content.size===0&&(M=P+1)}),M>-1&&n.setSelection(qe.near(n.doc.resolve(M))),n.scrollIntoView()}return!0}const v=f.pos===u.end()?p.contentMatchAt(0).defaultType:null,x={...Fv(g,p.type.name,p.attrs),...e},S={...Fv(g,u.node().type.name,u.node().attrs),...e};n.delete(u.pos,f.pos);const E=v?[{type:l,attrs:x},{type:v,attrs:S}]:[{type:l,attrs:x}];if(!zo(n.doc,u.pos,2))return!1;if(i){const{selection:A,storedMarks:C}=r,{splittableMarks:D}=s.extensionManager,L=C||A.$to.parentOffset&&A.$from.marks();if(n.split(u.pos,2,E).scrollIntoView(),!L||!i)return!0;const j=L.filter(B=>D.includes(B.type.name));n.ensureMarks(j)}return!0},QA=(t,e)=>{const n=hw(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&Yc(t.doc,n.pos)&&t.join(n.pos),!0},JA=(t,e)=>{const n=hw(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&Yc(t.doc,r)&&t.join(r),!0},M2e=(t,e,n,r={})=>({editor:i,tr:s,state:a,dispatch:l,chain:u,commands:f,can:d})=>{const{extensions:p,splittableMarks:g}=i.extensionManager,v=Wn(t,a.schema),x=Wn(e,a.schema),{selection:S,storedMarks:E}=a,{$from:A,$to:C}=S,D=A.blockRange(C),L=E||S.$to.parentOffset&&S.$from.marks();if(!D)return!1;const j=hw(B=>_6(B.type.name,p))(S);if(D.depth>=1&&j&&D.depth-j.depth<=1){if(j.node.type===v)return f.liftListItem(x);if(_6(j.node.type.name,p)&&v.validContent(j.node.content)&&l)return u().command(()=>(s.setNodeMarkup(j.pos,v),!0)).command(()=>QA(s,v)).command(()=>JA(s,v)).run()}return!n||!L||!l?u().command(()=>d().wrapInList(v,r)?!0:f.clearNodes()).wrapInList(v,r).command(()=>QA(s,v)).command(()=>JA(s,v)).run():u().command(()=>{const B=d().wrapInList(v,r),M=L.filter(N=>g.includes(N.type.name));return s.ensureMarks(M),B?!0:f.clearNodes()}).wrapInList(v,r).command(()=>QA(s,v)).command(()=>JA(s,v)).run()},N2e=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,a=ll(t,r.schema);return _C(r,a,e)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,e)},D2e=(t,e,n={})=>({state:r,commands:i})=>{const s=Wn(t,r.schema),a=Wn(e,r.schema),l=jc(r,s,n);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),l?i.setNode(a,u):i.setNode(s,{...u,...n})},I2e=(t,e={})=>({state:n,commands:r})=>{const i=Wn(t,n.schema);return jc(n,i,e)?r.lift(i):r.wrapIn(i,e)},P2e=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const a=t.tr,l=s.transform;for(let u=l.steps.length-1;u>=0;u-=1)a.step(l.steps[u].invert(l.docs[u]));if(s.text){const u=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,t.schema.text(s.text,u))}else a.delete(s.from,s.to)}return!0}}return!1},j2e=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},R2e=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:l}=n,u=ll(t,r.schema),{$from:f,empty:d,ranges:p}=l;if(!i)return!0;if(d&&a){let{from:g,to:v}=l;const x=(s=f.marks().find(E=>E.type===u))==null?void 0:s.attrs,S=SN(f,u,x);S&&(g=S.from,v=S.to),n.removeMark(g,v,u)}else p.forEach(g=>{n.removeMark(g.$from.pos,g.$to.pos,u)});return n.removeStoredMark(u),!0},L2e=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const l=pw(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(s=Wn(t,r.schema)),l==="mark"&&(a=ll(t,r.schema)),i&&n.selection.ranges.forEach(u=>{const f=u.$from.pos,d=u.$to.pos;let p,g,v,x;n.selection.empty?r.doc.nodesBetween(f,d,(S,E)=>{s&&s===S.type&&(v=Math.max(E,f),x=Math.min(E+S.nodeSize,d),p=E,g=S)}):r.doc.nodesBetween(f,d,(S,E)=>{E<f&&s&&s===S.type&&(v=Math.max(E,f),x=Math.min(E+S.nodeSize,d),p=E,g=S),E>=f&&E<=d&&(s&&s===S.type&&n.setNodeMarkup(E,void 0,{...S.attrs,...e}),a&&S.marks.length&&S.marks.forEach(A=>{if(a===A.type){const C=Math.max(E,f),D=Math.min(E+S.nodeSize,d);n.addMark(C,D,a.create({...A.attrs,...e}))}}))}),g&&(p!==void 0&&n.setNodeMarkup(p,void 0,{...g.attrs,...e}),a&&g.marks.length&&g.marks.forEach(S=>{a===S.type&&n.addMark(v,x,a.create({...S.attrs,...e}))}))}),!0):!1},V2e=(t,e={})=>({state:n,dispatch:r})=>{const i=Wn(t,n.schema);return Yke(i,e)(n,r)},B2e=(t,e={})=>({state:n,dispatch:r})=>{const i=Wn(t,n.schema);return Xke(i,e)(n,r)},pG=Qt.create({name:"commands",addCommands(){return{...dG}}}),mG=Qt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var a,l,u,f;if((f=(u=(l=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:l.filterTransaction)==null?void 0:u.call(l,t))!=null?f:t.getMeta("y-sync$"))return;const d=GW(t.before,[t,...e]);rG(d).forEach(v=>{d.mapping.mapResult(v.oldRange.from).deletedAfter&&d.mapping.mapResult(v.oldRange.to).deletedBefore&&d.before.nodesBetween(v.oldRange.from,v.oldRange.to,(x,S)=>{const E=S+x.nodeSize-2,A=v.oldRange.from<=S&&E<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:x,from:S,to:E,newFrom:d.mapping.map(S),newTo:d.mapping.map(E),deletedRange:v.oldRange,newRange:v.newRange,partial:!A,editor:this.editor,transaction:t,combinedTransform:d})})});const g=d.mapping;d.steps.forEach((v,x)=>{var S,E;if(v instanceof ma){const A=g.slice(x).map(v.from,-1),C=g.slice(x).map(v.to),D=g.invert().map(A,-1),L=g.invert().map(C),j=(S=d.doc.nodeAt(A-1))==null?void 0:S.marks.some(M=>M.eq(v.mark)),B=(E=d.doc.nodeAt(C))==null?void 0:E.marks.some(M=>M.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:D,to:L},newRange:{from:A,to:C},partial:!!(B||j),editor:this.editor,transaction:t,combinedTransform:d})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),gG=Qt.create({name:"drop",addProseMirrorPlugins(){return[new kn({key:new br("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),yG=Qt.create({name:"editable",addProseMirrorPlugins(){return[new kn({key:new br("editable"),props:{editable:()=>this.editor.options.editable}})]}}),vG=new br("focusEvents"),bG=Qt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new kn({key:vG,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),xG=Qt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:l})=>{const{selection:u,doc:f}=l,{empty:d,$anchor:p}=u,{pos:g,parent:v}=p,x=p.parent.isTextblock&&g>0?l.doc.resolve(g-1):p,S=x.parent.type.spec.isolating,E=p.pos-p.parentOffset,A=S&&x.parent.childCount===1?E===p.pos:tt.atStart(f).from===g;return!d||!v.type.isTextblock||v.textContent.length||!A||A&&p.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return AN()||hG()?s:i},addProseMirrorPlugins(){return[new kn({key:new br("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(S=>S.getMeta("composition")))return;const r=t.some(S=>S.docChanged)&&!e.doc.eq(n.doc),i=t.some(S=>S.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:a,to:l}=e.selection,u=tt.atStart(e.doc).from,f=tt.atEnd(e.doc).to;if(s||!(a===u&&l===f)||!mw(n.doc))return;const g=n.tr,v=fw({state:n,transaction:g}),{commands:x}=new dw({editor:this.editor,state:v});if(x.clearNodes(),!!g.steps.length)return g}})]}}),wG=Qt.create({name:"paste",addProseMirrorPlugins(){return[new kn({key:new br("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),SG=Qt.create({name:"tabindex",addProseMirrorPlugins(){return[new kn({key:new br("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),z2e=class Od{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Od(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Od(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Od(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,a=this.pos+r+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(a);if(!i&&l.depth<=this.depth)return;const u=new Od(l,this.editor,i,i?n:null);i&&(u.actualDepth=this.depth+1),e.push(new Od(l,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,a=Object.keys(n);for(let l=0;l<a.length;l+=1){const u=a[l];if(s[u]!==n[u])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===e&&s.every(u=>n[u]===a.node.attrs[u])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},U2e=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function F2e(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var $2e=class extends iCe{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=oG(e,this.options.autofocus);this.editorState=zd.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=F2e(U2e,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=XW(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(a=>!a.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[yG,fG.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),pG,bG,xG,SG,gG,wG,mG].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new yw(r,this)}createCommandManager(){this.commandManager=new dw({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=AC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=AC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new IW(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(f=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(f)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(f=>f.getMeta("focus")||f.getMeta("blur")),l=a?.getMeta("focus"),u=a?.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:a}),u&&this.emit("blur",{editor:this,event:u.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(f=>f.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return nG(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return vCe(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return bN(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return dCe(this.state.doc,{blockSeparator:e,textSerializers:{...eG(this.schema),...n}})}get isEmpty(){return mw(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new z2e(e,this)}get $doc(){return this.$pos(0)}};function Sf(t){return new gw({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Mt(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];if(a){const u=l.search(/\S/),f=n.from+l.indexOf(a),d=f+a.length;if(TN(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(S=>S===t.type&&S!==v.mark.type)).filter(v=>v.to>f).length)return null;d<n.to&&s.delete(d,n.to),f>n.from&&s.delete(n.from+u,f);const g=n.from+u+a.length;s.addMark(n.from+u,g,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function H2e(t){return new gw({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Mt(t.getAttributes,void 0,r)||{},{tr:s}=e,a=n.from;let l=n.to;const u=t.type.create(i);if(r[1]){const f=r[0].lastIndexOf(r[1]);let d=a+f;d>l?d=l:l=d+r[1].length;const p=r[0][r[0].length-1];s.insertText(p,a+r[0].length-1),s.replaceWith(d,l,u)}else if(r[0]){const f=t.type.isInline?a:a-1;s.insert(f,t.type.create(i)).delete(s.mapping.map(a),s.mapping.map(l))}s.scrollIntoView()},undoable:t.undoable})}function kC(t){return new gw({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=Mt(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function xh(t){return new gw({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=Mt(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),u=a.doc.resolve(n.from).blockRange(),f=u&&nN(u,t.type,s);if(!f)return null;if(a.wrap(u,f),t.keepMarks&&t.editor){const{selection:p,storedMarks:g}=e,{splittableMarks:v}=t.editor.extensionManager,x=g||p.$to.parentOffset&&p.$from.marks();if(x){const S=x.filter(E=>v.includes(E.type.name));a.ensureMarks(S)}}if(t.keepAttributes){const p=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(p,s).run()}const d=a.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&Yc(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,d))&&a.join(n.from-1)},undoable:t.undoable})}function q2e(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Le){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}function K2e(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,a=t;i.descendants((l,u)=>{const f=s.mapping.map(u),d=s.mapping.map(u)+l.nodeSize;let p=null;if(l.marks.forEach(v=>{if(v!==a)return!1;p=v}),!p)return;let g=!1;if(Object.keys(n).forEach(v=>{n[v]!==p.attrs[v]&&(g=!0)}),g){const v=t.type.create({...t.attrs,...n});s.removeMark(f,d,t.type),s.addMark(f,d,v)}}),s.docChanged&&e.view.dispatch(s)}var cs=class TG extends EN{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new TG(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Rc(t){return new _Ce({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=Mt(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:a}=e,l=r[r.length-1],u=r[0];let f=n.to;if(l){const d=u.search(/\S/),p=n.from+u.indexOf(l),g=p+l.length;if(TN(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(E=>E===t.type&&E!==x.mark.type)).filter(x=>x.to>p).length)return null;g<n.to&&a.delete(g,n.to),p>n.from&&a.delete(n.from+d,p),f=n.from+d+l.length,a.addMark(n.from+d,f,t.type.create(s||{})),a.removeStoredMark(t.type)}}})}var ZA,O6;function W2e(){return O6||(O6=1,ZA=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!(a==="_owner"&&e.$$typeof)&&!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),ZA}var G2e=W2e();const Y2e=Sa(G2e);var X2e=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},Q2e=({contentComponent:t})=>{const e=bK.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return y.jsx(y.Fragment,{children:Object.values(e)})};function J2e(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:lce.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var Z2e=class extends Pi.Component{constructor(t){var e;super(t),this.editorContentRef=Pi.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=J2e(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:X2e(e,this.editorContentRef),...n}),t?.contentComponent&&y.jsx(Q2e,{contentComponent:t.contentComponent})]})}},eOe=_.forwardRef((t,e)=>{const n=Pi.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Pi.createElement(Z2e,{key:n,innerRef:e,...t})}),tOe=Pi.memo(eOe),nOe=typeof window<"u"?_.useLayoutEffect:_.useEffect,rOe=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function iOe(t){var e;const[n]=_.useState(()=>new rOe(t.editor)),r=$$.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:Y2e);return nOe(()=>n.watch(t.editor),[t.editor,n]),_.useDebugValue(r),r}var sOe=!1,CC=typeof window>"u",aOe=CC||!!(typeof window<"u"&&window.next),oOe=class EG{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?CC||aOe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new $2e(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var a;return i===((a=n.extensions)==null?void 0:a[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?EG.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function lOe(t={},e=[]){const n=_.useRef(t);n.current=t;const[r]=_.useState(()=>new oOe(n)),i=bK.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return _.useDebugValue(i),_.useEffect(r.onRender(e)),iOe({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var cOe=_.createContext({editor:null});cOe.Consumer;var uOe=_.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),fOe=()=>_.useContext(uOe);Pi.forwardRef((t,e)=>{const{onDragStart:n}=fOe(),r=t.as||"div";return y.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Pi.createContext({markViewContentRef:()=>{}});var hx=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},dOe=/^\s*>\s$/,hOe=cs.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return hx("blockquote",{..._n(this.options.HTMLAttributes,t),children:hx("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[xh({find:dOe,type:this.type})]}}),pOe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,mOe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,gOe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,yOe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,vOe=cl.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return hx("strong",{..._n(this.options.HTMLAttributes,t),children:hx("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Sf({find:pOe,type:this.type}),Sf({find:gOe,type:this.type})]},addPasteRules(){return[Rc({find:mOe,type:this.type}),Rc({find:yOe,type:this.type})]}}),bOe=/(^|[^`])`([^`]+)`(?!`)$/,xOe=/(^|[^`])`([^`]+)`(?!`)/g,wOe=cl.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",_n(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Sf({find:bOe,type:this.type})]},addPasteRules(){return[Rc({find:xOe,type:this.type})]}}),e_=4,SOe=/^```([a-z]+)?[\s\n]$/,TOe=/^~~~([a-z]+)?[\s\n]$/,EOe=cs.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:e_,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",_n(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:e_,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;if(s.parent.type!==this.type)return!1;const l=" ".repeat(n);return a?t.commands.insertContent(l):t.commands.command(({tr:u})=>{const{from:f,to:d}=i,v=r.doc.textBetween(f,d,`
`,`
`).split(`
`).map(x=>l+x).join(`
`);return u.replaceWith(f,d,r.schema.text(v)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:e_,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;return s.parent.type!==this.type?!1:a?t.commands.command(({tr:l})=>{var u;const{pos:f}=s,d=s.start(),p=s.end(),v=r.doc.textBetween(d,p,`
`,`
`).split(`
`);let x=0,S=0;const E=f-d;for(let B=0;B<v.length;B+=1){if(S+v[B].length>=E){x=B;break}S+=v[B].length+1}const C=((u=v[x].match(/^ */))==null?void 0:u[0])||"",D=Math.min(C.length,n);if(D===0)return!0;let L=d;for(let B=0;B<x;B+=1)L+=v[B].length+1;return l.delete(L,L+D),f-L<=D&&l.setSelection(qe.create(l.doc,L)),!0}):t.commands.command(({tr:l})=>{const{from:u,to:f}=i,g=r.doc.textBetween(u,f,`
`,`
`).split(`
`).map(v=>{var x;const S=((x=v.match(/^ */))==null?void 0:x[0])||"",E=Math.min(S.length,n);return v.slice(E)}).join(`
`);return l.replaceWith(u,f,r.schema.text(g)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:f})=>(f.setSelection(tt.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[kC({find:SOe,type:this.type,getAttributes:t=>({language:t[1]})}),kC({find:TOe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new kn({key:new br("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i?.mode;if(!n||!s)return!1;const{tr:a,schema:l}=t.state,u=l.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},u)),a.selection.$from.parent.type!==this.type&&a.setSelection(qe.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),AOe=cs.create({name:"doc",topNode:!0,content:"block+"}),_Oe=cs.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",_n(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=r.extensionManager,u=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:d})=>{if(d&&u&&a){const p=u.filter(g=>l.includes(g.type.name));f.ensureMarks(p)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),kOe=cs.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,_n(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>kC({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),COe=cs.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",_n(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!q2e(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return sG(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:a,dispatch:l})=>{if(l){const{$to:u}=a.selection,f=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?a.setSelection(qe.create(a.doc,u.pos+1)):u.nodeAfter.isBlock?a.setSelection(Le.create(a.doc,u.pos)):a.setSelection(qe.create(a.doc,u.pos));else{const d=s.schema.nodes[this.options.nextNodeType]||u.parent.type.contentMatch.defaultType,p=d?.create();p&&(a.insert(f,p),a.setSelection(qe.create(a.doc,f+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[H2e({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),OOe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,MOe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,NOe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,DOe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,IOe=cl.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",_n(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Sf({find:OOe,type:this.type}),Sf({find:NOe,type:this.type})]},addPasteRules(){return[Rc({find:MOe,type:this.type}),Rc({find:DOe,type:this.type})]}});const POe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",jOe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",OC="numeric",MC="ascii",NC="alpha",km="asciinumeric",lm="alphanumeric",DC="domain",AG="emoji",ROe="scheme",LOe="slashscheme",t_="whitespace";function VOe(t,e){return t in e||(e[t]=[]),e[t]}function Hu(t,e,n){e[OC]&&(e[km]=!0,e[lm]=!0),e[MC]&&(e[km]=!0,e[NC]=!0),e[km]&&(e[lm]=!0),e[NC]&&(e[lm]=!0),e[lm]&&(e[DC]=!0),e[AG]&&(e[DC]=!0);for(const r in e){const i=VOe(r,n);i.indexOf(t)<0&&i.push(t)}}function BOe(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Ci(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Ci.groups={};Ci.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Ci.groups;let i;return e&&e.j?i=e:(i=new Ci(e),n&&r&&Hu(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(t[a]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||Ci.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let a,l=i.go(t);if(l?(a=new Ci,Object.assign(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new Ci,s){if(r)if(a.t&&typeof a.t=="string"){const u=Object.assign(BOe(a.t,r),n);Hu(s,u,r)}else n&&Hu(s,n,r);a.t=s}return i.j[t]=a,a}};const et=(t,e,n,r,i)=>t.ta(e,n,r,i),Sn=(t,e,n,r,i)=>t.tr(e,n,r,i),M6=(t,e,n,r,i)=>t.ts(e,n,r,i),ye=(t,e,n,r,i)=>t.tt(e,n,r,i),Oo="WORD",IC="UWORD",_G="ASCIINUMERICAL",kG="ALPHANUMERICAL",bg="LOCALHOST",PC="TLD",jC="UTLD",$v="SCHEME",Md="SLASH_SCHEME",_N="NUM",RC="WS",kN="NL",Cm="OPENBRACE",Om="CLOSEBRACE",px="OPENBRACKET",mx="CLOSEBRACKET",gx="OPENPAREN",yx="CLOSEPAREN",vx="OPENANGLEBRACKET",bx="CLOSEANGLEBRACKET",xx="FULLWIDTHLEFTPAREN",wx="FULLWIDTHRIGHTPAREN",Sx="LEFTCORNERBRACKET",Tx="RIGHTCORNERBRACKET",Ex="LEFTWHITECORNERBRACKET",Ax="RIGHTWHITECORNERBRACKET",_x="FULLWIDTHLESSTHAN",kx="FULLWIDTHGREATERTHAN",Cx="AMPERSAND",Ox="APOSTROPHE",Mx="ASTERISK",Xl="AT",Nx="BACKSLASH",Dx="BACKTICK",Ix="CARET",ic="COLON",CN="COMMA",Px="DOLLAR",za="DOT",jx="EQUALS",ON="EXCLAMATION",Rs="HYPHEN",Mm="PERCENT",Rx="PIPE",Lx="PLUS",Vx="POUND",Nm="QUERY",MN="QUOTE",CG="FULLWIDTHMIDDLEDOT",NN="SEMI",Ua="SLASH",Dm="TILDE",Bx="UNDERSCORE",OG="EMOJI",zx="SYM";var MG=Object.freeze({__proto__:null,ALPHANUMERICAL:kG,AMPERSAND:Cx,APOSTROPHE:Ox,ASCIINUMERICAL:_G,ASTERISK:Mx,AT:Xl,BACKSLASH:Nx,BACKTICK:Dx,CARET:Ix,CLOSEANGLEBRACKET:bx,CLOSEBRACE:Om,CLOSEBRACKET:mx,CLOSEPAREN:yx,COLON:ic,COMMA:CN,DOLLAR:Px,DOT:za,EMOJI:OG,EQUALS:jx,EXCLAMATION:ON,FULLWIDTHGREATERTHAN:kx,FULLWIDTHLEFTPAREN:xx,FULLWIDTHLESSTHAN:_x,FULLWIDTHMIDDLEDOT:CG,FULLWIDTHRIGHTPAREN:wx,HYPHEN:Rs,LEFTCORNERBRACKET:Sx,LEFTWHITECORNERBRACKET:Ex,LOCALHOST:bg,NL:kN,NUM:_N,OPENANGLEBRACKET:vx,OPENBRACE:Cm,OPENBRACKET:px,OPENPAREN:gx,PERCENT:Mm,PIPE:Rx,PLUS:Lx,POUND:Vx,QUERY:Nm,QUOTE:MN,RIGHTCORNERBRACKET:Tx,RIGHTWHITECORNERBRACKET:Ax,SCHEME:$v,SEMI:NN,SLASH:Ua,SLASH_SCHEME:Md,SYM:zx,TILDE:Dm,TLD:PC,UNDERSCORE:Bx,UTLD:jC,UWORD:IC,WORD:Oo,WS:RC});const ko=/[a-z]/,Yp=new RegExp("\\p{L}","u"),n_=new RegExp("\\p{Emoji}","u"),Co=/\d/,r_=/\s/,N6="\r",i_=`
`,zOe="",UOe="",s_="";let hv=null,pv=null;function FOe(t=[]){const e={};Ci.groups=e;const n=new Ci;hv==null&&(hv=D6(POe)),pv==null&&(pv=D6(jOe)),ye(n,"'",Ox),ye(n,"{",Cm),ye(n,"}",Om),ye(n,"[",px),ye(n,"]",mx),ye(n,"(",gx),ye(n,")",yx),ye(n,"<",vx),ye(n,">",bx),ye(n,"",xx),ye(n,"",wx),ye(n,"",Sx),ye(n,"",Tx),ye(n,"",Ex),ye(n,"",Ax),ye(n,"",_x),ye(n,"",kx),ye(n,"&",Cx),ye(n,"*",Mx),ye(n,"@",Xl),ye(n,"`",Dx),ye(n,"^",Ix),ye(n,":",ic),ye(n,",",CN),ye(n,"$",Px),ye(n,".",za),ye(n,"=",jx),ye(n,"!",ON),ye(n,"-",Rs),ye(n,"%",Mm),ye(n,"|",Rx),ye(n,"+",Lx),ye(n,"#",Vx),ye(n,"?",Nm),ye(n,'"',MN),ye(n,"/",Ua),ye(n,";",NN),ye(n,"~",Dm),ye(n,"_",Bx),ye(n,"\\",Nx),ye(n,"",CG);const r=Sn(n,Co,_N,{[OC]:!0});Sn(r,Co,r);const i=Sn(r,ko,_G,{[km]:!0}),s=Sn(r,Yp,kG,{[lm]:!0}),a=Sn(n,ko,Oo,{[MC]:!0});Sn(a,Co,i),Sn(a,ko,a),Sn(i,Co,i),Sn(i,ko,i);const l=Sn(n,Yp,IC,{[NC]:!0});Sn(l,ko),Sn(l,Co,s),Sn(l,Yp,l),Sn(s,Co,s),Sn(s,ko),Sn(s,Yp,s);const u=ye(n,i_,kN,{[t_]:!0}),f=ye(n,N6,RC,{[t_]:!0}),d=Sn(n,r_,RC,{[t_]:!0});ye(n,s_,d),ye(f,i_,u),ye(f,s_,d),Sn(f,r_,d),ye(d,N6),ye(d,i_),Sn(d,r_,d),ye(d,s_,d);const p=Sn(n,n_,OG,{[AG]:!0});ye(p,"#"),Sn(p,n_,p),ye(p,zOe,p);const g=ye(p,UOe);ye(g,"#"),Sn(g,n_,p);const v=[[ko,a],[Co,i]],x=[[ko,null],[Yp,l],[Co,s]];for(let S=0;S<hv.length;S++)$l(n,hv[S],PC,Oo,v);for(let S=0;S<pv.length;S++)$l(n,pv[S],jC,IC,x);Hu(PC,{tld:!0,ascii:!0},e),Hu(jC,{utld:!0,alpha:!0},e),$l(n,"file",$v,Oo,v),$l(n,"mailto",$v,Oo,v),$l(n,"http",Md,Oo,v),$l(n,"https",Md,Oo,v),$l(n,"ftp",Md,Oo,v),$l(n,"ftps",Md,Oo,v),Hu($v,{scheme:!0,ascii:!0},e),Hu(Md,{slashscheme:!0,ascii:!0},e),t=t.sort((S,E)=>S[0]>E[0]?1:-1);for(let S=0;S<t.length;S++){const E=t[S][0],C=t[S][1]?{[ROe]:!0}:{[LOe]:!0};E.indexOf("-")>=0?C[DC]=!0:ko.test(E)?Co.test(E)?C[km]=!0:C[MC]=!0:C[OC]=!0,M6(n,E,E,C)}return M6(n,"localhost",bg,{ascii:!0}),n.jd=new Ci(zx),{start:n,tokens:Object.assign({groups:e},MG)}}function NG(t,e){const n=$Oe(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let s=0,a=0;for(;a<r;){let l=t,u=null,f=0,d=null,p=-1,g=-1;for(;a<r&&(u=l.go(n[a]));)l=u,l.accepts()?(p=0,g=0,d=l):p>=0&&(p+=n[a].length,g++),f+=n[a].length,s+=n[a].length,a++;s-=p,a-=g,f-=p,i.push({t:d.t,v:e.slice(s-f,s),s:s-f,e:s})}return i}function $Oe(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,a=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function $l(t,e,n,r,i){let s;const a=e.length;for(let l=0;l<a-1;l++){const u=e[l];t.j[u]?s=t.j[u]:(s=new Ci(r),s.jr=i.slice(),t.j[u]=s),t=s}return s=new Ci(n),s.jr=i.slice(),t.j[e[a-1]]=s,s}function D6(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+s),10);a>0;a--)n.pop();r+=s}else n.push(t[r]),r++}return e}const xg={defaultProtocol:"http",events:null,format:I6,formatHref:I6,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function DN(t,e=null){let n=Object.assign({},xg);t&&(n=Object.assign(n,t instanceof DN?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}DN.prototype={o:xg,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:xg[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function I6(t){return t}function DG(t,e){this.t="token",this.v=t,this.tk=e}DG.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=xg.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),a={},l=t.get("className",n,e),u=t.get("target",n,e),f=t.get("rel",n,e),d=t.getObj("attributes",n,e),p=t.getObj("events",n,e);return a.href=r,l&&(a.class=l),u&&(a.target=u),f&&(a.rel=f),d&&Object.assign(a,d),{tagName:i,attributes:a,content:s,eventListeners:p}}};function vw(t,e){class n extends DG{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const P6=vw("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),j6=vw("text"),HOe=vw("nl"),mv=vw("url",{isLink:!0,toHref(t=xg.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==bg&&t[1].t===ic}}),Ds=t=>new Ci(t);function qOe({groups:t}){const e=t.domain.concat([Cx,Mx,Xl,Nx,Dx,Ix,Px,jx,Rs,_N,Mm,Rx,Lx,Vx,Ua,zx,Dm,Bx]),n=[Ox,ic,CN,za,ON,Mm,Nm,MN,NN,vx,bx,Cm,Om,mx,px,gx,yx,xx,wx,Sx,Tx,Ex,Ax,_x,kx],r=[Cx,Ox,Mx,Nx,Dx,Ix,Px,jx,Rs,Cm,Om,Mm,Rx,Lx,Vx,Nm,Ua,zx,Dm,Bx],i=Ds(),s=ye(i,Dm);et(s,r,s),et(s,t.domain,s);const a=Ds(),l=Ds(),u=Ds();et(i,t.domain,a),et(i,t.scheme,l),et(i,t.slashscheme,u),et(a,r,s),et(a,t.domain,a);const f=ye(a,Xl);ye(s,Xl,f),ye(l,Xl,f),ye(u,Xl,f);const d=ye(s,za);et(d,r,s),et(d,t.domain,s);const p=Ds();et(f,t.domain,p),et(p,t.domain,p);const g=ye(p,za);et(g,t.domain,p);const v=Ds(P6);et(g,t.tld,v),et(g,t.utld,v),ye(f,bg,v);const x=ye(p,Rs);ye(x,Rs,x),et(x,t.domain,p),et(v,t.domain,p),ye(v,za,g),ye(v,Rs,x);const S=ye(v,ic);et(S,t.numeric,P6);const E=ye(a,Rs),A=ye(a,za);ye(E,Rs,E),et(E,t.domain,a),et(A,r,s),et(A,t.domain,a);const C=Ds(mv);et(A,t.tld,C),et(A,t.utld,C),et(C,t.domain,a),et(C,r,s),ye(C,za,A),ye(C,Rs,E),ye(C,Xl,f);const D=ye(C,ic),L=Ds(mv);et(D,t.numeric,L);const j=Ds(mv),B=Ds();et(j,e,j),et(j,n,B),et(B,e,j),et(B,n,B),ye(C,Ua,j),ye(L,Ua,j);const M=ye(l,ic),N=ye(u,ic),P=ye(N,Ua),F=ye(P,Ua);et(l,t.domain,a),ye(l,za,A),ye(l,Rs,E),et(u,t.domain,a),ye(u,za,A),ye(u,Rs,E),et(M,t.domain,j),ye(M,Ua,j),ye(M,Nm,j),et(F,t.domain,j),et(F,e,j),ye(F,Ua,j);const V=[[Cm,Om],[px,mx],[gx,yx],[vx,bx],[xx,wx],[Sx,Tx],[Ex,Ax],[_x,kx]];for(let $=0;$<V.length;$++){const[U,pe]=V[$],ve=ye(j,U);ye(B,U,ve),ye(ve,pe,j);const G=Ds(mv);et(ve,e,G);const K=Ds();et(ve,n),et(G,e,G),et(G,n,K),et(K,e,G),et(K,n,K),ye(G,pe,j),ye(K,pe,j)}return ye(i,bg,C),ye(i,kN,HOe),{start:i,tokens:MG}}function KOe(t,e,n){let r=n.length,i=0,s=[],a=[];for(;i<r;){let l=t,u=null,f=null,d=0,p=null,g=-1;for(;i<r&&!(u=l.go(n[i].t));)a.push(n[i++]);for(;i<r&&(f=u||l.go(n[i].t));)u=null,l=f,l.accepts()?(g=0,p=l):g>=0&&g++,i++,d++;if(g<0)i-=d,i<r&&(a.push(n[i]),i++);else{a.length>0&&(s.push(a_(j6,e,a)),a=[]),i-=g,d-=g;const v=p.t,x=n.slice(i-d,i);s.push(a_(v,e,x))}}return a.length>0&&s.push(a_(j6,e,a)),s}function a_(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const WOe=typeof console<"u"&&console&&console.warn||(()=>{}),GOe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",rn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function YOe(){return Ci.groups={},rn.scanner=null,rn.parser=null,rn.tokenQueue=[],rn.pluginQueue=[],rn.customSchemes=[],rn.initialized=!1,rn}function R6(t,e=!1){if(rn.initialized&&WOe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${GOe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);rn.customSchemes.push([t,e])}function XOe(){rn.scanner=FOe(rn.customSchemes);for(let t=0;t<rn.tokenQueue.length;t++)rn.tokenQueue[t][1]({scanner:rn.scanner});rn.parser=qOe(rn.scanner.tokens);for(let t=0;t<rn.pluginQueue.length;t++)rn.pluginQueue[t][1]({scanner:rn.scanner,parser:rn.parser});return rn.initialized=!0,rn}function IN(t){return rn.initialized||XOe(),KOe(rn.parser.start,t,NG(rn.scanner.start,t))}IN.scan=NG;function IG(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new DN(n),i=IN(t),s=[];for(let a=0;a<i.length;a++){const l=i[a];l.isLink&&(!e||l.t===e)&&r.check(l)&&s.push(l.toFormattedObject(r))}return s}var PN="[\0- -\u2029]",QOe=new RegExp(PN),JOe=new RegExp(`${PN}$`),ZOe=new RegExp(PN,"g");function eMe(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function tMe(t){return new kn({key:new br("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(f=>f.docChanged)&&!n.doc.eq(r.doc),s=e.some(f=>f.getMeta("preventAutolink"));if(!i||s)return;const{tr:a}=r,l=GW(n.doc,[...e]);if(rG(l).forEach(({newRange:f})=>{const d=aCe(r.doc,f,v=>v.isTextblock);let p,g;if(d.length>1)p=d[0],g=r.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ");else if(d.length){const v=r.doc.textBetween(f.from,f.to," "," ");if(!JOe.test(v))return;p=d[0],g=r.doc.textBetween(p.pos,f.to,void 0," ")}if(p&&g){const v=g.split(QOe).filter(Boolean);if(v.length<=0)return!1;const x=v[v.length-1],S=p.pos+g.lastIndexOf(x);if(!x)return!1;const E=IN(x).map(A=>A.toObject(t.defaultProtocol));if(!eMe(E))return!1;E.filter(A=>A.isLink).map(A=>({...A,from:S+A.start+1,to:S+A.end+1})).filter(A=>r.schema.marks.code?!r.doc.rangeHasMark(A.from,A.to,r.schema.marks.code):!0).filter(A=>t.validate(A.value)).filter(A=>t.shouldAutoLink(A.value)).forEach(A=>{TN(A.from,A.to,r.doc).some(C=>C.mark.type===t.type)||a.addMark(A.from,A.to,t.type.create({href:A.href}))})}}),!!a.steps.length)return a}})}function nMe(t){return new kn({key:new br("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let d=r.target;const p=[];for(;d.nodeName!=="DIV";)p.push(d),d=d.parentNode;a=p.find(g=>g.nodeName==="A")}if(!a)return!1;const l=nG(e.state,t.type.name),u=(i=a?.href)!=null?i:l.href,f=(s=a?.target)!=null?s:l.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),a&&u?(window.open(u,f),!0):!1}}})}function rMe(t){return new kn({key:new br("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:s}=i,{empty:a}=s;if(a)return!1;let l="";r.content.forEach(f=>{l+=f.textContent});const u=IG(l,{defaultProtocol:t.defaultProtocol}).find(f=>f.isLink&&f.value===l);return!l||!u?!1:t.editor.commands.setMark(t.type,{href:u.href})}}})}function ku(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(ZOe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var iMe=cl.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){R6(t);return}R6(t.scheme,t.optionalSlashes)})},onDestroy(){YOe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!ku(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!ku(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!ku(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",_n(this.options.HTMLAttributes,t),0]:["a",_n(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!ku(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!ku(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Rc({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=IG(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!ku(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(tMe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!ku(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(nMe({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(rMe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),sMe=Object.defineProperty,aMe=(t,e)=>{for(var n in e)sMe(t,n,{get:e[n],enumerable:!0})},oMe="listItem",L6="textStyle",V6=/^\s*([-+*])\s$/,PG=cs.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",_n(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(oMe,this.editor.getAttributes(L6)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=xh({find:V6,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=xh({find:V6,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(L6),editor:this.editor})),[t]}}),jG=cs.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",_n(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),lMe={};aMe(lMe,{findListItemPos:()=>cy,getNextListDepth:()=>jN,handleBackspace:()=>LC,handleDelete:()=>VC,hasListBefore:()=>RG,hasListItemAfter:()=>cMe,hasListItemBefore:()=>LG,listItemHasSubList:()=>VG,nextListIsDeeper:()=>BG,nextListIsHigher:()=>zG});var cy=(t,e)=>{const{$from:n}=e.selection,r=Wn(t,e.schema);let i=null,s=n.depth,a=n.pos,l=null;for(;s>0&&l===null;)i=n.node(s),i.type===r?l=s:(s-=1,a-=1);return l===null?null:{$pos:e.doc.resolve(a),depth:l}},jN=(t,e)=>{const n=cy(t,e);if(!n)return!1;const[,r]=gCe(e,t,n.$pos.pos+4);return r},RG=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},LG=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},VG=(t,e,n)=>{if(!n)return!1;const r=Wn(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},LC=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!jc(t.state,e)&&RG(t.state,e,n)){const{$anchor:l}=t.state.selection,u=t.state.doc.resolve(l.before()-1),f=[];u.node().descendants((g,v)=>{g.type.name===e&&f.push({node:g,pos:v})});const d=f.at(-1);if(!d)return!1;const p=t.state.doc.resolve(u.start()+d.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},p.end()).joinForward().run()}if(!jc(t.state,e)||!xCe(t.state))return!1;const r=cy(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=VG(e,t.state,s);return LG(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},BG=(t,e)=>{const n=jN(t,e),r=cy(t,e);return!r||!n?!1:n>r.depth},zG=(t,e)=>{const n=jN(t,e),r=cy(t,e);return!r||!n?!1:n<r.depth},VC=(t,e)=>{if(!jc(t.state,e)||!bCe(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:BG(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():zG(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},cMe=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},UG=Qt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&VC(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&VC(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&LC(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&LC(t,n,r)&&(e=!0)}),e}}}}),uMe="listItem",B6="textStyle",z6=/^(\d+)\.\s$/,FG=cs.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",_n(this.options.HTMLAttributes,n),0]:["ol",_n(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(uMe,this.editor.getAttributes(B6)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=xh({find:z6,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=xh({find:z6,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(B6)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),fMe=/^\s*(\[([( |x])?\])\s$/,dMe=cs.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",_n(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),l=document.createElement("input"),u=document.createElement("div"),f=d=>{var p,g;l.ariaLabel=((g=(p=this.options.a11y)==null?void 0:p.checkboxLabel)==null?void 0:g.call(p,d,l.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};return f(t),s.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",d=>d.preventDefault()),l.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:p}=d.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const v=n();if(typeof v!="number")return!1;const x=g.doc.nodeAt(v);return g.setNodeMarkup(v,void 0,{...x?.attrs,checked:p}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,p)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,p])=>{i.setAttribute(d,p)}),i.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,s.append(l,a),i.append(s,u),Object.entries(e).forEach(([d,p])=>{i.setAttribute(d,p)}),{dom:i,contentDOM:u,update:d=>d.type!==this.type?!1:(i.dataset.checked=d.attrs.checked,l.checked=d.attrs.checked,f(d),!0)}}},addInputRules(){return[xh({find:fMe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),hMe=cs.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",_n(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Qt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(PG.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(jG.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(UG.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(FG.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(dMe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(hMe.configure(this.options.taskList)),t}});var pMe=cs.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",_n(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),mMe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,gMe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,yMe=cl.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",_n(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Sf({find:mMe,type:this.type})]},addPasteRules(){return[Rc({find:gMe,type:this.type})]}}),vMe=cs.create({name:"text",group:"inline"}),$G=cl.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",_n(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function bMe(t={}){return new kn({view(e){return new xMe(e,t)}})}class xMe{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),a=s.width/i.offsetWidth,l=s.height/i.offsetHeight;if(n){let p=e.nodeBefore,g=e.nodeAfter;if(p||g){let v=this.editorView.nodeDOM(this.cursorPos-(p?p.nodeSize:0));if(v){let x=v.getBoundingClientRect(),S=p?x.bottom:x.top;p&&g&&(S=(S+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let E=this.width/2*l;r={left:x.left,right:x.right,top:S-E,bottom:S+E}}}}if(!r){let p=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*a;r={left:p.left-g,right:p.left+g,top:p.top,bottom:p.bottom}}let u=this.editorView.dom.offsetParent;this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let f,d;if(!u||u==document.body&&getComputedStyle(u).position=="static")f=-pageXOffset,d=-pageYOffset;else{let p=u.getBoundingClientRect(),g=p.width/u.offsetWidth,v=p.height/u.offsetHeight;f=p.left-u.scrollLeft*g,d=p.top-u.scrollTop*v}this.element.style.left=(r.left-f)/a+"px",this.element.style.top=(r.top-d)/l+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=KK(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class An extends tt{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return An.valid(r)?new An(r):tt.near(r)}content(){return Ee.empty}eq(e){return e instanceof An&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new An(e.resolve(n.pos))}getBookmark(){return new RN(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!wMe(e)||!SMe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&An.valid(e))return e;let i=e.pos,s=null;for(let a=e.depth;;a--){let l=e.node(a);if(n>0?e.indexAfter(a)<l.childCount:e.index(a)>0){s=l.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=n;let u=e.doc.resolve(i);if(An.valid(u))return u}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!Le.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=a,i+=n;let l=e.doc.resolve(i);if(An.valid(l))return l}return null}}}An.prototype.visible=!1;An.findFrom=An.findGapCursorFrom;tt.jsonID("gapcursor",An);class RN{constructor(e){this.pos=e}map(e){return new RN(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return An.valid(n)?new An(n):tt.near(n)}}function wMe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function SMe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function TMe(){return new kn({props:{decorations:kMe,createSelectionBetween(t,e,n){return e.pos==n.pos&&An.valid(n)?new An(n):null},handleClick:AMe,handleKeyDown:EMe,handleDOMEvents:{beforeinput:_Me}}})}const EMe=PW({ArrowLeft:gv("horiz",-1),ArrowRight:gv("horiz",1),ArrowUp:gv("vert",-1),ArrowDown:gv("vert",1)});function gv(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let a=r.selection,l=e>0?a.$to:a.$from,u=a.empty;if(a instanceof qe){if(!s.endOfTextblock(n)||l.depth==0)return!1;u=!1,l=r.doc.resolve(e>0?l.after():l.before())}let f=An.findGapCursorFrom(l,e,u);return f?(i&&i(r.tr.setSelection(new An(f))),!0):!1}}function AMe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!An.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Le.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new An(r))),!0)}function _Me(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof An))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=he.empty;for(let a=r.length-1;a>=0;a--)i=he.from(r[a].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new Ee(i,0,0));return s.setSelection(qe.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function kMe(t){if(!(t.selection instanceof An))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",gn.create(t.doc,[li.widget(t.selection.head,e,{key:"gapcursor"})])}var Ux=200,pr=function(){};pr.prototype.append=function(e){return e.length?(e=pr.from(e),!this.length&&e||e.length<Ux&&this.leafAppend(e)||this.length<Ux&&e.leafPrepend(this)||this.appendInner(e)):this};pr.prototype.prepend=function(e){return e.length?pr.from(e).append(this):this};pr.prototype.appendInner=function(e){return new CMe(this,e)};pr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?pr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};pr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};pr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};pr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},n,r),i};pr.from=function(e){return e instanceof pr?e:e&&e.length?new HG(e):pr.empty};var HG=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,l){for(var u=s;u<a;u++)if(i(this.values[u],l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,l){for(var u=s-1;u>=a;u--)if(i(this.values[u],l+u)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Ux)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Ux)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(pr);pr.empty=new HG([]);var CMe=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,a){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(s,l),a)===!1||s>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,s)-l,a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,a){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(s,l)-l,a+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(i,l),s,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(pr);const OMe=500;class ha{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=e.tr,l,u,f=[],d=[];return this.items.forEach((p,g)=>{if(!p.step){i||(i=this.remapping(r,g+1),s=i.maps.length),s--,d.push(p);return}if(i){d.push(new Fa(p.map));let v=p.step.map(i.slice(s)),x;v&&a.maybeStep(v).doc&&(x=a.mapping.maps[a.mapping.maps.length-1],f.push(new Fa(x,void 0,void 0,f.length+d.length))),s--,x&&i.appendMap(x,s)}else a.maybeStep(p.step);if(p.selection)return l=i?p.selection.map(i.slice(s)):p.selection,u=new ha(this.items.slice(0,r).append(d.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:a,selection:l}}addTransform(e,n,r,i){let s=[],a=this.eventCount,l=this.items,u=!i&&l.length?l.get(l.length-1):null;for(let d=0;d<e.steps.length;d++){let p=e.steps[d].invert(e.docs[d]),g=new Fa(e.mapping.maps[d],p,n),v;(v=u&&u.merge(g))&&(g=v,d?s.pop():l=l.slice(0,l.length-1)),s.push(g),n&&(a++,n=void 0),i||(u=g)}let f=a-r.depth;return f>NMe&&(l=MMe(l,f),a-=f),new ha(l.append(s),a)}remapping(e,n){let r=new dg;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new ha(this.items.append(e.map(n=>new Fa(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(g=>{g.selection&&l--},i);let u=n;this.items.forEach(g=>{let v=s.getMirror(--u);if(v==null)return;a=Math.min(a,v);let x=s.maps[v];if(g.step){let S=e.steps[v].invert(e.docs[v]),E=g.selection&&g.selection.map(s.slice(u+1,v));E&&l++,r.push(new Fa(x,S,E))}else r.push(new Fa(x))},i);let f=[];for(let g=n;g<a;g++)f.push(new Fa(s.maps[g]));let d=this.items.slice(0,i).append(f).append(r),p=new ha(d,l);return p.emptyItemCount()>OMe&&(p=p.compress(this.items.length-r.length)),p}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((a,l)=>{if(l>=e)i.push(a),a.selection&&s++;else if(a.step){let u=a.step.map(n.slice(r)),f=u&&u.getMap();if(r--,f&&n.appendMap(f,r),u){let d=a.selection&&a.selection.map(n.slice(r));d&&s++;let p=new Fa(f.invert(),u,d),g,v=i.length-1;(g=i.length&&i[v].merge(p))?i[v]=g:i.push(p)}}else a.map&&r--},this.items.length,0),new ha(pr.from(i.reverse()),s)}}ha.empty=new ha(pr.empty,0);function MMe(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Fa{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Fa(n.getMap().invert(),n,this.selection)}}}class Ql{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const NMe=20;function DMe(t,e,n,r){let i=n.getMeta(sf),s;if(i)return i.historyState;n.getMeta(jMe)&&(t=new Ql(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(sf))return a.getMeta(sf).redo?new Ql(t.done.addTransform(n,void 0,r,Hv(e)),t.undone,U6(n.mapping.maps),t.prevTime,t.prevComposition):new Ql(t.done,t.undone.addTransform(n,void 0,r,Hv(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),u=t.prevTime==0||!a&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!IMe(n,t.prevRanges)),f=a?o_(t.prevRanges,n.mapping):U6(n.mapping.maps);return new Ql(t.done.addTransform(n,u?e.selection.getBookmark():void 0,r,Hv(e)),ha.empty,f,n.time,l??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Ql(t.done.rebased(n,s),t.undone.rebased(n,s),o_(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Ql(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),o_(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function IMe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function U6(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,a)=>e.push(s,a));return e}function o_(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function PMe(t,e,n){let r=Hv(e),i=sf.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),l=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),u=new Ql(n?l:s.remaining,n?s.remaining:l,null,0,-1);return s.transform.setSelection(a).setMeta(sf,{redo:n,historyState:u})}let l_=!1,F6=null;function Hv(t){let e=t.plugins;if(F6!=e){l_=!1,F6=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){l_=!0;break}}return l_}const sf=new br("history"),jMe=new br("closeHistory");function RMe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new kn({key:sf,state:{init(){return new Ql(ha.empty,ha.empty,null,0,-1)},apply(e,n,r){return DMe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?KG:r=="historyRedo"?WG:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function qG(t,e){return(n,r)=>{let i=sf.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=PMe(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const KG=qG(!1,!0),WG=qG(!0,!0);Qt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new kn({key:new br("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const a=s-i,l=0,u=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const f=r.tr.deleteRange(l,u);return t=!0,f}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,u=s-r,f=l-u,d=l;return e.deleteRange(f,d),!(this.storage.characters({node:e.doc})>r)}})]}});var LMe=Qt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[bMe(this.options)]}});Qt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new kn({key:new br("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return gn.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((u,f)=>{if(u.isText)return;if(!(i>=f&&i<=f+u.nodeSize-1))return!1;a+=1});let l=0;return t.descendants((u,f)=>{if(u.isText||!(i>=f&&i<=f+u.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&a-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";s.push(li.node(f,f+u.nodeSize,{class:this.options.className}))}),gn.create(t,s)}}})]}});var VMe=Qt.create({name:"gapCursor",addProseMirrorPlugins(){return[TMe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Mt(je(t,"allowGapCursor",n)))!=null?e:null}}}),BMe=Qt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new kn({key:new br("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((a,l)=>{const u=r>=l&&r<=l+a.nodeSize,f=!a.isLeaf&&mw(a);if((u||!this.options.showOnlyCurrent)&&f){const d=[this.options.emptyNodeClass];s&&d.push(this.options.emptyEditorClass);const p=li.node(l,l+a.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:l,hasAnchor:u}):this.options.placeholder});i.push(p)}return this.options.includeChildren}),gn.create(t,i)}}})]}});Qt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new kn({key:new br("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||sG(n.selection)||t.view.dragging?null:gn.create(n.doc,[li.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function $6({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var zMe=Qt.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new br(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new kn({key:t,appendTransaction:(n,r,i)=>{const{doc:s,tr:a,schema:l}=i,u=t.getState(i),f=s.content.size,d=l.nodes[this.options.node];if(u)return a.insert(f,d.create())},state:{init:(n,r)=>{const i=r.tr.doc.lastChild;return!$6({node:i,types:e})},apply:(n,r)=>{if(!n.docChanged)return r;const i=n.doc.lastChild;return!$6({node:i,types:e})}}})]}}),UMe=Qt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>KG(t,e),redo:()=>({state:t,dispatch:e})=>WG(t,e)}},addProseMirrorPlugins(){return[RMe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),FMe=Qt.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(vOe.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(hOe.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(PG.configure(this.options.bulletList)),this.options.code!==!1&&i.push(wOe.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(EOe.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(AOe.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(LMe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(VMe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(_Oe.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(kOe.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(UMe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(COe.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(IOe.configure(this.options.italic)),this.options.listItem!==!1&&i.push(jG.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(UG.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(iMe.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(FG.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(pMe.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(yMe.configure(this.options.strike)),this.options.text!==!1&&i.push(vMe.configure(this.options.text)),this.options.underline!==!1&&i.push($G.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(zMe.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),$Me=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,HMe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,qMe=cl.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",_n(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Sf({find:$Me,type:this.type})]},addPasteRules(){return[Rc({find:HMe,type:this.type})]}}),KMe=20,GG=(t,e=0)=>{const n=[];return!t.children.length||e>KMe||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...GG(r,e+1))}),n},WMe=t=>{if(!t.children.length)return;const e=GG(t);e&&e.forEach(n=>{var r,i;const s=n.getAttribute("style"),a=(i=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:i.getAttribute("style");n.setAttribute("style",`${a};${s}`)})},YG=cl.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&WMe(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",_n(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),GMe=Qt.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const a=s[0].trim().toLowerCase(),l=s.slice(1).join(":").trim();if(a==="background-color")return l.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),XG=Qt.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const a=s[0].trim().toLowerCase(),l=s.slice(1).join(":").trim();if(a==="color")return l.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),YMe=Qt.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),XMe=Qt.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),QMe=Qt.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Qt.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(GMe.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(XG.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(YMe.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(XMe.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(QMe.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(YG.configure(this.options.textStyle)),t}});const as=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M5 12h14"}),y.jsx("path",{d:"M12 5v14"})]}),QG=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"12",cy:"12",r:"1"}),y.jsx("circle",{cx:"19",cy:"12",r:"1"}),y.jsx("circle",{cx:"5",cy:"12",r:"1"})]}),Lr=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),y.jsx("path",{d:"m15 5 4 4"})]}),ui=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M3 6h18"}),y.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),y.jsx("path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),y.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),y.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]}),JMe=t=>y.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),Tf=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),y.jsx("path",{d:"m9 12 2 2 4-4"})]}),Qc=t=>y.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2z"})}),Lc=t=>y.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"m15 18-6-6 6-6"})}),ZMe=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-spin",...t,children:y.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),uy=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M12 5a3 3 0 1 0-5.993.142"}),y.jsx("path",{d:"M18 5a3 3 0 1 0-5.993.142"}),y.jsx("path",{d:"M21 12a3 3 0 1 0-.142-5.993"}),y.jsx("path",{d:"M21 12a3 3 0 1 0 .142 5.993"}),y.jsx("path",{d:"M12 19a3 3 0 1 0 5.993-.142"}),y.jsx("path",{d:"M6 19a3 3 0 1 0 5.993-.142"}),y.jsx("path",{d:"M3 12a3 3 0 1 0 .142 5.993"}),y.jsx("path",{d:"M3 12a3 3 0 1 0-.142-5.993"}),y.jsx("path",{d:"M12 5a3 3 0 0 0 6 0"}),y.jsx("path",{d:"M12 5a3 3 0 0 1 6 0"}),y.jsx("path",{d:"M14.5 5.5A.5.5 0 0 1 15 5h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),y.jsx("path",{d:"M9.5 5.5A.5.5 0 0 1 10 5h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),y.jsx("path",{d:"M18 7.3a.5.5 0 0 0 .5-.5v0a.5.5 0 0 0-.5-.5h0a.5.5 0 0 0-.5.5Z"}),y.jsx("path",{d:"M19.7 9.5A.5.5 0 0 1 20 9h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),y.jsx("path",{d:"M19.7 14.5a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5v0a.5.5 0 0 0-.5-.5h0a.5.5 0 0 0-.5.5Z"}),y.jsx("path",{d:"M18 16.7a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),y.jsx("path",{d:"M14.5 18.5a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5v0a.5.5 0 0 0-.5-.5h0a.5.5 0 0 0-.5.5Z"}),y.jsx("path",{d:"M9.5 18.5a.5.5 0 0 1 .5-.5h0a.5.5 0 0 1 .5.5v0a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5Z"}),y.jsx("path",{d:"M6 16.7a.5.5 0 0 0-.5.5v0a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5Z"}),y.jsx("path",{d:"M4.3 14.5a.5.5 0 0 1-.5.5h0a.5.5 0 0 1-.5-.5v0a.5.5 0 0 1 .5-.5h0a.5.5 0 0 1 .5.5Z"}),y.jsx("path",{d:"M4.3 9.5A.5.5 0 0 0 4 9h0a.5.5 0 0 0-.5.5v0a.5.5 0 0 0 .5.5h0a.5.5 0 0 0 .5-.5Z"}),y.jsx("path",{d:"M6 7.3a.5.5 0 0 1-.5-.5v0a.5.5 0 0 1 .5-.5h0a.5.5 0 0 1 .5.5Z"}),y.jsx("path",{d:"M12 12v0a3 3 0 0 0-3-3v0a3 3 0 0 0-3 3v0a3 3 0 0 0 3 3v0a3 3 0 0 0 3-3Z"}),y.jsx("path",{d:"M12 12h0a3 3 0 0 1 3 3v0a3 3 0 0 1-3 3v0a3 3 0 0 1-3-3v0a3 3 0 0 1 3-3Z"})]}),Gs=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),y.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),y.jsx("path",{d:"M4 22h16"}),y.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),y.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),y.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),JG=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),Vc=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("circle",{cx:"12",cy:"12",r:"6"}),y.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),fy=t=>y.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("circle",{cx:"12",cy:"12",r:"10"})}),BC=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"12",cy:"12",r:"4"}),y.jsx("path",{d:"M12 2v2"}),y.jsx("path",{d:"M12 20v2"}),y.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),y.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),y.jsx("path",{d:"M2 12h2"}),y.jsx("path",{d:"M20 12h2"}),y.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),y.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),qv=t=>y.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}),bw=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),y.jsx("path",{d:"M12 9v4"}),y.jsx("path",{d:"M12 17h.01"})]}),ZG=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m5 8 6 6"}),y.jsx("path",{d:"m4 14 6-6 2-3"}),y.jsx("path",{d:"M2 5h12"}),y.jsx("path",{d:"M7 2h1"}),y.jsx("path",{d:"m22 22-5-10-5 10"}),y.jsx("path",{d:"M14 18h6"})]}),eNe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M2 12h20"}),y.jsx("path",{d:"M20 12v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8"}),y.jsx("path",{d:"M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6"}),y.jsx("path",{d:"M6 6V4"}),y.jsx("path",{d:"M18 6V4"})]}),eY=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("rect",{width:"14",height:"8",x:"5",y:"2",rx:"2"}),y.jsx("rect",{width:"20",height:"12",x:"2",y:"10",rx:"2"}),y.jsx("path",{d:"M6 18h2"}),y.jsx("path",{d:"M16 18h2"})]}),tY=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"12",cy:"8",r:"6"}),y.jsx("path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11"})]}),Ef=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),y.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),xw=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m16 18 6-6-6-6"}),y.jsx("path",{d:"m8 6-6 6 6 6"})]}),dy=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M14.4 14.4 9.6 9.6"}),y.jsx("path",{d:"M18.657 5.343a2 2 0 1 0-2.829-2.828"}),y.jsx("path",{d:"m21.5 8.3-2.8-2.8"}),y.jsx("path",{d:"M8.3 21.5l-2.8-2.8"}),y.jsx("path",{d:"M5.343 18.657a2 2 0 1 0 2.829 2.828"}),y.jsx("path",{d:"M12 12V2l-2.8 2.8"}),y.jsx("path",{d:"m14.8 14.8 2.8 2.8"}),y.jsx("path",{d:"M12 12H2l2.8-2.8"}),y.jsx("path",{d:"m9.2 9.2-2.8-2.8"})]}),hy=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),y.jsx("line",{x1:"4",x2:"4",y1:"22",y2:"15"})]}),jf=t=>y.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"})}),LN=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"}),y.jsx("path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"}),y.jsx("path",{d:"M7 21h10"}),y.jsx("path",{d:"M12 3v18"}),y.jsx("path",{d:"M3 7h18"})]}),tNe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L3 8.4a2.4 2.4 0 0 1 0-3.4l2.6-2.6a2.4 2.4 0 0 1 3.4 0Z"}),y.jsx("path",{d:"m14.5 12.5 2-2"}),y.jsx("path",{d:"m11.5 9.5 2-2"}),y.jsx("path",{d:"m8.5 6.5 2-2"}),y.jsx("path",{d:"m17.5 15.5 2-2"})]}),nNe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 2v6c0 7 4 8 8 8Z"}),y.jsx("path",{d:"M14 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2h-4c-1.25 0-2 .75-2 2v6c0 7 4 8 8 8Z"})]}),wh=t=>y.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),VN=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"12",cy:"10",r:"4"}),y.jsx("path",{d:"M12 14c-3.33 0-10 1.67-10 5v2h20v-2c0-3.33-6.67-5-10-5Z"}),y.jsx("path",{d:"M12 22v-2"}),y.jsx("path",{d:"M16 22v-2"}),y.jsx("path",{d:"M8 22v-2"}),y.jsx("path",{d:"M2 18h20"}),y.jsx("path",{d:"M12 2a5 5 0 0 0-5 5v3h10V7a5 5 0 0 0-5-5Z"})]}),BN=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M7 10v12"}),y.jsx("path",{d:"M18 10V4a2 2 0 0 0-2-2H8.5a2 2 0 0 0-1.9.9L3 10v10h12.5a2.5 2.5 0 0 0 2.5-2.5V10Z"})]}),zC=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z"}),y.jsx("path",{d:"m6.2 5.3 3.1 3.9"}),y.jsx("path",{d:"m12.4 3.6 3.1 3.9"}),y.jsx("path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z"})]}),wg=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M9 18V5l12-2v13"}),y.jsx("circle",{cx:"6",cy:"18",r:"3"}),y.jsx("circle",{cx:"18",cy:"16",r:"3"})]}),ww=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"18",x2:"22",y1:"2",y2:"6"}),y.jsx("path",{d:"M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z"})]}),rNe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),y.jsx("polyline",{points:"16 7 22 7 22 13"})]}),iNe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M12 21.35A5 5 0 0 1 7 19.35V16a5 5 0 0 1 10 0v3.35a5 5 0 0 1-5 2z"}),y.jsx("path",{d:"M12 4V2"}),y.jsx("path",{d:"M17 6V2"}),y.jsx("path",{d:"M7 6V2"})]}),sNe=t=>y.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"})}),zN=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-5 2.5-5C6.5 3 7 5 7 5c0 1.79-1.18 3.24-2.5 4S3 12.38 3 14v2"}),y.jsx("path",{d:"M7 19.82c-1.5-1.3-2.5-3.04-2.5-5.32 0-2.04 1-3.5 2.5-4.5C8.5 8.96 10.5 11 10.5 13c0 1.54-.37 2.94-1 4.14"}),y.jsx("path",{d:"M20 16v-2.38c0-2.12 1.03-3.12 1-5.5s-1.47-5-2.5-5C17.5 3 17 5 17 5c0 1.79 1.18 3.24 2.5 4s1.5 2.58 1.5 4v2"}),y.jsx("path",{d:"M17 19.82c1.5-1.3 2.5-3.04 2.5-5.32 0-2.04-1-3.5-2.5-4.5-1.5 1.04-3.5 3-3.5 5 0 1.54.37 2.94 1 4.14"})]}),aNe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),y.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),y.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),y.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),oNe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.72"}),y.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.72-1.72"})]}),lNe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M14 12a4 4 0 0 0 0-8H6v8"}),y.jsx("path",{d:"M15.5 20a4 4 0 0 0 0-8H6v8Z"})]}),cNe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"19",x2:"10",y1:"4",y2:"4"}),y.jsx("line",{x1:"14",x2:"5",y1:"20",y2:"20"}),y.jsx("line",{x1:"15",x2:"9",y1:"4",y2:"20"})]}),uNe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M6 4v6a6 6 0 0 0 12 0V4"}),y.jsx("line",{x1:"4",x2:"20",y1:"20",y2:"20"})]}),fNe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M16 4H9a3 3 0 0 0-2.83 2M14 12a4 4 0 0 1 0 8H6"}),y.jsx("line",{x1:"4",x2:"20",y1:"12",y2:"12"})]}),dNe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m9 11-6 6v3h9l3-3"}),y.jsx("path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4"})]}),UN={Trophy:Gs,Award:tY,BookOpen:Ef,Code:xw,Dumbbell:dy,Flag:hy,Heart:jf,Star:wh,Zap:Qc,Target:Vc},hNe=t=>y.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),y.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),pNe={Language:ZG,Programming:xw,Design:Qc},mNe={Code:xw,Languages:ZG,Zap:Qc,CookingPot:eNe,Computer:eY,BookOpen:Ef,Dumbbell:dy,Heart:jf,Scale:LN,Star:wh,Music:wg,BrainCircuit:uy},gNe=t=>{if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},yNe=()=>{const t=new Date().getHours();return t<5?{comment:"Burning the midnight oil!",Icon:qv}:t<12?{comment:"The day is full of promise!",Icon:BC}:t<18?{comment:"Hope you're having a great afternoon!",Icon:BC}:t<22?{comment:"Time to wind down.",Icon:qv}:{comment:"A quiet moment.",Icon:qv}};function vNe({name:t}){const[e,n]=_.useState(new Date);_.useEffect(()=>{const f=setInterval(()=>n(new Date),1e3);return()=>clearInterval(f)},[]);const r=e.getDate(),i=e.toLocaleString("en-US",{month:"long"}),s=e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),{comment:a,Icon:l}=yNe(),u=t?.split(" ")[0]||"User";return y.jsxs("div",{className:"text-center mb-10",children:[y.jsx(l,{className:"w-24 h-24 text-amber-400 mx-auto"}),y.jsxs("h1",{className:"text-5xl font-bold mt-4",children:["Welcome back, ",u,"!"]}),y.jsxs("p",{className:"text-xl text-neutral-500 dark:text-neutral-400 mt-2",children:["Today is the ",r,gNe(r)," of ",i]}),y.jsxs("p",{className:"text-lg text-neutral-500 dark:text-neutral-400",children:[s,"  ",a]})]})}const bNe={blue:"hover:text-blue-600 dark:hover:text-blue-300",red:"hover:text-red-600 dark:hover:text-red-300",emerald:"hover:text-emerald-600 dark:hover:text-emerald-300",sky:"hover:text-sky-500 dark:hover:text-sky-300",violet:"hover:text-violet-600 dark:hover:text-violet-300",amber:"hover:text-amber-600 dark:hover:text-amber-300",pink:"hover:text-pink-600 dark:hover:text-pink-300",slate:"hover:text-slate-800 dark:hover:text-slate-200",teal:"hover:text-teal-600 dark:hover:text-teal-300"},xNe={blue:"hover:bg-blue-100/70 dark:hover:bg-blue-900/30",red:"hover:bg-red-100/70 dark:hover:bg-red-900/30",emerald:"hover:bg-emerald-100/70 dark:hover:bg-emerald-900/30",sky:"hover:bg-sky-100/70 dark:hover:bg-sky-900/30",violet:"hover:bg-violet-100/70 dark:hover:bg-violet-900/30",amber:"hover:bg-amber-100/70 dark:hover:bg-amber-900/30",pink:"hover:bg-pink-100/70 dark:hover:bg-pink-900/30",slate:"hover:bg-slate-200/70 dark:hover:bg-slate-800/50",teal:"hover:bg-teal-100/70 dark:hover:bg-teal-900/30"},wNe=["bg-white dark:bg-neutral-800/50","bg-sky-50 dark:bg-sky-950/50","bg-emerald-50 dark:bg-emerald-950/50","bg-rose-50 dark:bg-rose-950/50","bg-amber-50 dark:bg-amber-950/50","bg-violet-50 dark:bg-violet-950/50","bg-slate-100 dark:bg-slate-800","bg-stone-100 dark:bg-stone-800"],Ud={green:{text:"text-emerald-500",glowColors:{c1:"#a7f3d0",c2:"#6ee7b7",c3:"#34d399"}},blue:{text:"text-sky-500",glowColors:{c1:"#bae6fd",c2:"#7dd3fc",c3:"#38bdf8"}},rose:{text:"text-rose-500",glowColors:{c1:"#fecdd3",c2:"#fda4af",c3:"#f43f5e"}},amber:{text:"text-amber-500",glowColors:{c1:"#fde68a",c2:"#fcd34d",c3:"#f59e0b"}},violet:{text:"text-violet-500",glowColors:{c1:"#d8b4fe",c2:"#c084fc",c3:"#a855f7"}}},qh={Default:fy,Zap:Qc,Code:xw,Dumbbell:dy,Book:Ef,Flag:hy,Heart:jf,Star:wh,Trophy:Gs,Music:wg,Computer:eY},SNe=["#000000","#FFFFFF","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899"],wc=[{name:"Default",textClass:"text-neutral-800 dark:text-neutral-200",bgClass:"bg-neutral-500"},{name:"Sky",textClass:"text-sky-500",bgClass:"bg-sky-500"},{name:"Emerald",textClass:"text-emerald-500",bgClass:"bg-emerald-500"},{name:"Rose",textClass:"text-rose-500",bgClass:"bg-rose-500"},{name:"Amber",textClass:"text-amber-500",bgClass:"bg-amber-500"},{name:"Violet",textClass:"text-violet-500",bgClass:"bg-violet-500"}],TNe={ThumbsUp:BN,Zap:Qc,Heart:jf,Award:tY},ENe=t=>!t||isNaN(t)?{comment:"",color:"text-slate-400",iconName:null}:t<18.5?{comment:"Time to power up!",iconName:"Zap",color:"text-cyan-400"}:t<25?{comment:"You're in the sweet spot.",iconName:"ThumbsUp",color:"text-green-400"}:t<30?{comment:"Every choice is a win.",iconName:"Award",color:"text-yellow-400"}:{comment:"Focused on health.",iconName:"Heart",color:"text-red-400"},ANe=(t="")=>t?t.split(" ").map(e=>e.charAt(0)).slice(0,2).join("").toUpperCase():"??",Fx=t=>`hsl(${t/100*120}, 70%, 50%)`,nY=t=>{if(!t)return null;const e=t.toDate?t.toDate():new Date(t),n=new Date;n.setHours(0,0,0,0),e.setHours(0,0,0,0);const r=n-e,i=Math.round(Math.abs(r)/(1e3*60*60*24));let s,a=`${i} days ago`;return r<0?(s="bg-sky-100 text-sky-800 dark:bg-sky-900 dark:text-sky-300",a=`In ${i} days`):i<=7?s="bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":i<=30?s="bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300":s="bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",y.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full whitespace-nowrap ${s}`,children:a})},_Ne=t=>{if(!t||typeof t!="string")return"#";const e=t.trim();return e.startsWith("https://")||e.startsWith("https://")||e.startsWith("//")?e:`//${e}`},rY=(t,e=24)=>t?t.length<=e?t:t.slice(0,e-3).trim()+"...":"",kNe={apiKey:"AIzaSyDrWCHmSHWYwWNjDYYqbV1lASEiJbXeT8U",authDomain:"personal-dashboard-e8c8f.firebaseapp.com",projectId:"personal-dashboard-e8c8f",storageBucket:"personal-dashboard-e8c8f.firebasestorage.app",messagingSenderId:"906260519522",appId:"1:906260519522:web:f7d2e9666e3ee20d260f3b",measurementId:"G-R2Z1CJ9TW6"},Ba="default-app-id",iY=sz(kNe),H6=Dee(iY),la=Ire(iY),Im={"Morning Meal":{color:"#fbbf24",label:"Morning",bg:"bg-amber-50 dark:bg-amber-900/20",border:"border-amber-400",text:"text-amber-600 dark:text-amber-400"},"Night Meal":{color:"#60a5fa",label:"Night",bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-400",text:"text-blue-600 dark:text-blue-400"},Snacks:{color:"#c084fc",label:"Snacks",bg:"bg-purple-50 dark:bg-purple-900/20",border:"border-purple-400",text:"text-purple-600 dark:text-purple-400"}},CNe={color:"#f97316",bg:"bg-orange-50 dark:bg-orange-900/20",border:"border-orange-500",text:"text-orange-600 dark:text-orange-500"};function Sw({isHOF:t,onToggle:e,theme:n="orange"}){const r={orange:"text-amber-500",sky:"text-sky-500",teal:"text-teal-500",slate:"text-slate-500",violet:"text-violet-500",pink:"text-pink-500"},i=r[n]||r.orange;return y.jsxs("button",{onClick:e,className:"flex items-center gap-2 cursor-pointer w-full p-2 rounded-lg bg-black/5 dark:bg-white/5 backdrop-blur-sm border border-black/5 dark:border-white/10",children:[y.jsx(Gs,{className:`w-5 h-5 transition-colors ${t?i:"text-neutral-400"}`}),y.jsx("span",{className:`transition-colors font-semibold ${t?i:"text-neutral-700 dark:text-neutral-300"}`,children:t?"In Hall of Fame":"Add to Hall of Fame"})]})}const FN=({progress:t,color:e})=>{const s=40*Math.PI,a=mO(0),l=sk(a,d=>s-d/100*s),u=sk(a,d=>`${Math.round(d)}`),f=e||Fx(t);return _.useEffect(()=>s$(a,t||0,{duration:1.2,ease:"easeInOut"}).stop,[t,a]),y.jsxs("svg",{height:60,width:60,className:"-rotate-90",children:[y.jsx("circle",{className:"text-neutral-200 dark:text-neutral-700",stroke:"currentColor",fill:"transparent",strokeWidth:5,r:20,cx:30,cy:30}),y.jsx(_e.circle,{stroke:f,fill:"transparent",strokeWidth:5,strokeDasharray:s+" "+s,r:20,cx:30,cy:30,strokeLinecap:"round",style:{strokeDashoffset:l}}),y.jsx(_e.text,{x:"50%",y:"50%",textAnchor:"middle",dy:".3em",className:"text-sm font-bold fill-current text-neutral-700 dark:text-neutral-200",transform:"rotate(90 30,30)",children:u})]})};function ONe({intakeEntries:t,exerciseEntries:e,dailyGoal:n,setDailyGoal:r,onAddIntake:i,onUpdateIntake:s,onDeleteIntake:a,onAddExercise:l,onUpdateExercise:u,onDeleteExercise:f}){const[d,p]=_.useState(new Date().toISOString().slice(0,10)),[g,v]=_.useState({isOpen:!1,entry:null}),[x,S]=_.useState({isOpen:!1,entry:null}),E=_.useMemo(()=>t.filter(N=>N.date===d),[t,d]),A=_.useMemo(()=>e.filter(N=>N.date===d),[e,d]),C=_.useMemo(()=>E.reduce((N,P)=>N+P.calories,0),[E]),D=_.useMemo(()=>A.reduce((N,P)=>{const F=P.calories||0,V=(P.steps||0)*.04;return N+F+V},0),[A]),L=N=>{g.entry?s(N.id,N):i(N),v({isOpen:!1,entry:null})},j=N=>{x.entry?u(N.id,N):l(N),S({isOpen:!1,entry:null})},B=N=>{window.confirm("Are you sure you want to delete this entry?")&&a(N)},M=N=>{window.confirm("Are you sure you want to delete this entry?")&&f(N)};return y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[y.jsxs("div",{className:"lg:col-span-1 space-y-6 flex flex-col",children:[y.jsx(DNe,{intake:C,burned:Math.round(D),goal:n,setGoal:r}),y.jsx(q6,{title:"Today's Intake",entries:E,onAdd:()=>v({isOpen:!0,entry:null}),onEdit:N=>v({isOpen:!0,entry:N}),onDelete:B,categoryStyles:Im,entryComponent:PNe,date:d,setDate:p,themeColor:"blue"}),y.jsx(q6,{title:"Today's Activity",entries:A,onAdd:()=>S({isOpen:!0,entry:null}),onEdit:N=>S({isOpen:!0,entry:N}),onDelete:M,categoryStyles:CNe,entryComponent:jNe,date:d,setDate:p,themeColor:"orange"})]}),y.jsx("div",{className:"lg:col-span-2 space-y-6",children:y.jsx(VNe,{allIntake:t,allExercises:e,dailyGoal:n})}),y.jsxs(qt,{children:[g.isOpen&&y.jsx(RNe,{isOpen:g.isOpen,onClose:()=>v({isOpen:!1,entry:null}),onSave:L,entry:g.entry,date:d,theme:"blue"}),x.isOpen&&y.jsx(LNe,{isOpen:x.isOpen,onClose:()=>S({isOpen:!1,entry:null}),onSave:j,entry:x.entry,date:d,theme:"orange"})]})]})}const MNe=(t,e)=>{const n=t/e;return t===0?{comment:"Let's get started!",icon:y.jsx(Qc,{className:"w-4 h-4"}),bgColor:"bg-white dark:bg-neutral-800/30",textColor:"text-neutral-500"}:n>1.1?{comment:"A feast for the ages!",icon:y.jsx(Gs,{className:"w-4 h-4"}),bgColor:"bg-red-100 dark:bg-red-900/30",textColor:"text-red-500"}:n>1?{comment:"You've hit your goal... and then some!",icon:y.jsx(bw,{className:"w-4 h-4"}),bgColor:"bg-orange-100 dark:bg-orange-900/30",textColor:"text-orange-500"}:n>=.8?{comment:"Almost there, finish strong!",icon:y.jsx(Vc,{className:"w-4 h-4"}),bgColor:"bg-green-100 dark:bg-green-900/30",textColor:"text-green-500"}:{comment:"Nicely balanced day.",icon:y.jsx(BN,{className:"w-4 h-4"}),bgColor:"bg-white dark:bg-neutral-800/30",textColor:"text-neutral-500"}},NNe=t=>t>300?{comment:"Incredible energy!",icon:y.jsx(Qc,{className:"w-4 h-4"}),bgColor:"bg-orange-100 dark:bg-orange-900/30",textColor:"text-orange-500"}:t>200?{comment:"Great workout!",icon:y.jsx(dy,{className:"w-4 h-4"}),bgColor:"bg-white dark:bg-neutral-800/30",textColor:"text-neutral-500"}:t>0?{comment:"Activity logged!",icon:y.jsx(Tf,{className:"w-4 h-4"}),bgColor:"bg-white dark:bg-neutral-800/30",textColor:"text-neutral-500"}:{comment:"Ready to move.",icon:y.jsx(zN,{className:"w-4 h-4"}),bgColor:"bg-white dark:bg-neutral-800/30",textColor:"text-neutral-500"};function DNe({intake:t,burned:e,goal:n,setGoal:r}){const i=MNe(t,n),s=NNe(e);return y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[y.jsxs("div",{className:`p-4 rounded-xl border transition-colors ${i.bgColor} border-blue-200 dark:border-blue-800`,children:[y.jsxs("div",{className:"text-center",children:[y.jsx("span",{className:"font-bold text-blue-800 dark:text-blue-300",children:"Intake"}),y.jsx("p",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400",children:t}),y.jsxs("div",{className:"flex items-center justify-center w-full",children:[y.jsxs("p",{className:"text-sm text-blue-500 dark:text-blue-400",children:["/ ",n," Calorie Goal"]}),y.jsx(INe,{goal:n,setGoal:r})]})]}),y.jsxs("div",{className:`mt-2 flex items-center justify-center gap-2 text-sm font-semibold ${i.textColor}`,children:[i.icon,y.jsx("span",{children:i.comment})]})]}),y.jsxs("div",{className:`p-4 rounded-xl border transition-colors ${s.bgColor} border-orange-200 dark:border-orange-800`,children:[y.jsxs("div",{className:"text-center",children:[y.jsx("span",{className:"font-bold text-orange-800 dark:text-orange-300",children:"Burned"}),y.jsx("p",{className:"text-4xl font-bold text-orange-600 dark:text-orange-400",children:e}),y.jsx("p",{className:"text-sm text-orange-500 dark:text-orange-400",children:"kcal"})]}),y.jsxs("div",{className:`mt-2 flex items-center justify-center gap-2 text-sm font-semibold ${s.textColor}`,children:[s.icon,y.jsx("span",{children:s.comment})]})]})]})}function INe({goal:t,setGoal:e}){const[n,r]=_.useState(!1),[i,s]=_.useState(String(t)),a=()=>{const l=Number(i);isNaN(l)||e(l),r(!1)};return n?y.jsx("div",{className:"flex items-center gap-1 ml-1",children:y.jsx("input",{type:"number",value:i,onChange:l=>s(l.target.value),className:"w-16 p-0.5 text-center bg-blue-100 dark:bg-blue-800 rounded-md text-sm",autoFocus:!0,onBlur:a,onKeyDown:l=>{l.key==="Enter"&&a()}})}):y.jsx("button",{onClick:()=>r(!0),className:"p-1 rounded-full hover:bg-blue-200 dark:hover:bg-blue-700 ml-1",children:y.jsx(ww,{className:"w-3 h-3 text-blue-500"})})}function q6({title:t,entries:e,onAdd:n,onEdit:r,onDelete:i,categoryStyles:s,entryComponent:a,date:l,setDate:u,themeColor:f}){const d=v=>{const[x,S,E]=l.split("-").map(Number),A=new Date(Date.UTC(x,S-1,E));A.setUTCDate(A.getUTCDate()+v),u(A.toISOString().slice(0,10))},g={blue:{title:"text-blue-600 dark:text-blue-400",button:"bg-blue-400/20 dark:bg-blue-500/10 border border-blue-500/30 text-blue-700 dark:text-blue-300 backdrop-blur-sm hover:bg-blue-400/30 dark:hover:bg-blue-500/20",bg:"bg-blue-50/60 dark:bg-blue-950/40 backdrop-blur-lg"},orange:{title:"text-orange-600 dark:text-orange-400",button:"bg-orange-400/20 dark:bg-orange-500/10 border border-orange-500/30 text-orange-700 dark:text-orange-300 backdrop-blur-sm hover:bg-orange-400/30 dark:hover:bg-orange-500/20",bg:"bg-orange-50/60 dark:bg-orange-950/40 backdrop-blur-lg"}}[f];return y.jsxs("div",{className:`flex-grow flex flex-col p-4 rounded-xl border border-neutral-200/50 dark:border-neutral-700/50 ${g.bg}`,children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h3",{className:`font-bold text-lg ${g.title}`,children:t}),y.jsxs("button",{onClick:n,className:`px-3 py-1.5 text-sm font-semibold rounded-lg flex items-center gap-1 transition-colors ${g.button}`,children:[y.jsx(as,{className:"w-4 h-4"})," Add"]})]}),y.jsxs("div",{className:"flex items-center justify-between gap-2 mb-4 text-sm font-semibold text-neutral-600 dark:text-neutral-300",children:[y.jsx("button",{onClick:()=>d(-1),className:"p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5",children:y.jsx(Lc,{className:"w-5 h-5"})}),y.jsx("div",{className:"flex-grow text-center",children:new Date(l+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),y.jsx("button",{onClick:()=>d(1),className:"p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5",children:y.jsx(Lc,{className:"w-5 h-5 rotate-180"})})]}),y.jsxs("div",{className:"space-y-3 overflow-y-auto no-scrollbar flex-grow",children:[e.length===0&&y.jsx("div",{className:"text-center py-10 text-neutral-500",children:y.jsx("p",{className:"mt-2 text-sm",children:"No entries for this day."})}),y.jsx(a,{entries:e,onEdit:r,onDelete:i,categoryStyles:s})]})]})}function PNe({entries:t,onEdit:e,onDelete:n,categoryStyles:r}){const i=t.reduce((a,l)=>(a[l.category]||(a[l.category]=[]),a[l.category].push(l),a),{});return["Morning Meal","Night Meal","Snacks"].map(a=>i[a]&&y.jsxs("div",{children:[y.jsx("h4",{className:`text-sm font-bold mb-1 ml-1 ${r[a].text}`,children:r[a].label}),y.jsx("div",{className:"space-y-1",children:i[a].map(l=>y.jsxs("div",{className:`p-2 rounded-lg flex items-center justify-between group bg-black/5 dark:bg-white/5 backdrop-blur-sm border-l-4 ${r[a].border}`,children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-sm",children:l.name}),y.jsxs("p",{className:"text-xs text-neutral-500",children:[l.calories," kcal (",l.portion,")"]})]}),y.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>e(l),className:"p-1 hover:text-green-500",children:y.jsx(Lr,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>n(l.id),className:"p-1 hover:text-red-500",children:y.jsx(ui,{className:"w-4 h-4"})})]})]},l.id))})]},a))}function jNe({entries:t,onEdit:e,onDelete:n,categoryStyles:r}){return y.jsx("div",{children:y.jsx("div",{className:"space-y-2",children:t.map(i=>{const s=i.name.toLowerCase().includes("steps");return y.jsxs("div",{className:`p-2 rounded-lg flex items-center justify-between group bg-black/5 dark:bg-white/5 backdrop-blur-sm border-l-4 ${r.border}`,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[s?y.jsx(zN,{className:"w-5 h-5"}):y.jsx(dy,{className:"w-5 h-5"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-sm",children:i.name}),y.jsx("p",{className:"text-xs text-neutral-500",children:s?`${i.steps} steps  ${Math.round(i.steps*.04)} kcal`:`${i.calories} kcal ${i.time?`(${i.time} min)`:""}`})]})]}),y.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>e(i),className:"p-1 hover:text-green-500",children:y.jsx(Lr,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>n(i.id),className:"p-1 hover:text-red-500",children:y.jsx(ui,{className:"w-4 h-4"})})]})]},i.id)})})})}function RNe({onClose:t,onSave:e,entry:n,date:r,theme:i="blue"}){const[s,a]=_.useState({date:r,category:"Morning Meal",name:"",calories:"",portion:"",notes:""});_.useEffect(()=>{a(n||{date:r,category:"Morning Meal",name:"",calories:"",portion:"",notes:""})},[n,r]);const l=g=>{const{name:v,value:x}=g.target;a(S=>({...S,[v]:v==="calories"?Number(x):x}))},u=()=>{if(!s.name||!s.calories){alert("Please fill in food name and calories.");return}e(s)},d={blue:{title:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50/80 dark:bg-blue-950/60 backdrop-blur-xl",button:"bg-blue-600",focusRing:"focus:ring-blue-400"}}[i],p=`w-full p-2 bg-black/5 dark:bg-white/5 rounded-md border border-black/5 dark:border-white/10 backdrop-blur-sm focus:ring-2 ${d.focusRing} focus:outline-none`;return y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t,children:y.jsxs(_e.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:`rounded-2xl shadow-xl w-full max-w-md ${d.bg}`,onClick:g=>g.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("h3",{className:`text-xl font-bold mb-4 ${d.title}`,children:[n?"Edit":"Add"," Intake Entry"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("select",{name:"category",value:s.category,onChange:l,className:p,children:Object.keys(Im).map(g=>y.jsx("option",{value:g,children:g},g))}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("input",{type:"text",name:"name",placeholder:"Food Name",value:s.name,onChange:l,className:p}),y.jsx("input",{type:"number",name:"calories",placeholder:"Calories (kcal)",value:s.calories,onChange:l,className:p})]}),y.jsx("input",{type:"text",name:"portion",placeholder:"Portion / Amount",value:s.portion,onChange:l,className:p}),y.jsx("textarea",{name:"notes",placeholder:"Optional notes...",value:s.notes,onChange:l,rows:"2",className:`${p} resize-none`})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:u,className:`px-4 py-2 rounded-lg text-white font-semibold ${d.button}`,children:"Save"})]})]})})}function LNe({onClose:t,onSave:e,entry:n,date:r,theme:i="orange"}){const[s,a]=_.useState("exercise"),[l,u]=_.useState({date:r,name:"",time:"",calories:"",steps:""});_.useEffect(()=>{n?(a(n.steps?"steps":"exercise"),u(n)):(a("exercise"),u({date:r,name:"",time:"",calories:"",steps:""}))},[n,r]);const f=x=>{const{name:S,value:E}=x.target;u(A=>({...A,[S]:Number(E)||E}))},d=()=>{if(s==="exercise"&&(!l.name||!l.calories)){alert("Please fill in an activity name and calories burned.");return}if(s==="steps"&&!l.steps){alert("Please enter your step count.");return}const x=s==="steps"?{...l,name:"Daily Steps",calories:0,time:""}:{...l,steps:""};e(x)},g={orange:{title:"text-orange-600 dark:text-orange-400",bg:"bg-orange-50/80 dark:bg-orange-950/60 backdrop-blur-xl",button:"bg-orange-500",focusRing:"focus:ring-orange-400"}}[i],v=`w-full p-2 bg-black/5 dark:bg-white/5 rounded-md border border-black/5 dark:border-white/10 backdrop-blur-sm focus:ring-2 ${g.focusRing} focus:outline-none`;return y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t,children:y.jsxs(_e.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:`rounded-2xl shadow-xl w-full max-w-md ${g.bg}`,onClick:x=>x.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("h3",{className:`text-xl font-bold mb-2 ${g.title}`,children:[n?"Edit":"Add"," Activity"]}),y.jsxs("div",{className:"flex items-center gap-1 bg-black/5 dark:bg-white/5 p-1 rounded-lg mb-4 border border-black/5 dark:border-white/10",children:[y.jsx("button",{onClick:()=>a("exercise"),className:`w-full px-2 py-1 text-sm rounded-md transition-colors ${s==="exercise"?"bg-white dark:bg-neutral-600":"hover:bg-black/5 dark:hover:bg-white/5"}`,children:"Exercise"}),y.jsx("button",{onClick:()=>a("steps"),className:`w-full px-2 py-1 text-sm rounded-md transition-colors ${s==="steps"?"bg-white dark:bg-neutral-600":"hover:bg-black/5 dark:hover:bg-white/5"}`,children:"Steps"})]}),s==="exercise"?y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",name:"name",placeholder:"Activity (e.g., Running)",value:l.name,onChange:f,className:v}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("input",{type:"number",name:"time",placeholder:"Time (minutes)",value:l.time,onChange:f,className:v}),y.jsx("input",{type:"number",name:"calories",placeholder:"Calories Burned",value:l.calories,onChange:f,className:v})]})]}):y.jsx("div",{className:"space-y-4",children:y.jsx("input",{type:"number",name:"steps",placeholder:"Total Steps for the day",value:l.steps,onChange:f,className:v})})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:d,className:`px-4 py-2 rounded-lg text-white font-semibold ${g.button}`,children:"Save"})]})]})})}function VNe({allIntake:t,allExercises:e,dailyGoal:n}){const[r,i]=_.useState(7),s=document.documentElement.classList.contains("dark")?"dark":"light",a=s==="dark"?"#404040":"#e5e5e5",l=s==="dark"?"#d4d4d4":"#525252",{intakeData:u,burnedData:f,yMax:d}=_.useMemo(()=>{const p={},g={},v=new Set([...t.map(M=>M.date),...e.map(M=>M.date)]);let x=new Date;if(typeof r=="number")x.setDate(x.getDate()-r);else{const M=Array.from(v).map(N=>new Date(N).getTime());M.length>0&&(x=new Date(Math.min(...M)))}const S=new Date,E=typeof r=="number"?new Date(new Date().setDate(S.getDate()-(r-1))):x;for(let M=new Date;M>=E;M.setDate(M.getDate()-1)){const N=M.toISOString().slice(0,10);v.add(N)}Array.from(v).sort((M,N)=>new Date(M)-new Date(N)).filter(M=>new Date(M)>=E).forEach(M=>{p[M]={date:M,"Morning Meal":0,"Night Meal":0,Snacks:0,total:0},g[M]={date:M,total:0}}),t.forEach(M=>{p[M.date]&&(p[M.date][M.category]=(p[M.date][M.category]||0)+M.calories,p[M.date].total+=M.calories)}),e.forEach(M=>{if(g[M.date]){const N=(Number(M.steps)||0)*.04;g[M.date].total+=(Number(M.calories)||0)+N}});const C=Object.values(p).sort((M,N)=>new Date(M.date)-new Date(N.date)),D=Object.values(g).sort((M,N)=>new Date(M.date)-new Date(N.date)),L=Math.max(...C.map(M=>M.total),n),j=Math.max(...D.map(M=>M.total)),B=Math.ceil((Math.max(L,j)+100)/100)*100;return{intakeData:C,burnedData:D,yMax:B}},[t,e,r,n]);return y.jsxs("div",{className:"bg-white/50 dark:bg-neutral-800/30 p-4 rounded-xl border border-neutral-200 dark:border-neutral-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4 px-2",children:[y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[y.jsx(rNe,{className:"w-5 h-5"}),"Analytics"]}),y.jsxs("div",{className:"flex items-center gap-1 bg-neutral-200 dark:bg-neutral-700 p-1 rounded-lg",children:[y.jsx("button",{onClick:()=>i(7),className:`px-2 py-0.5 text-sm rounded-md ${r===7?"bg-white dark:bg-neutral-600":""}`,children:"Week"}),y.jsx("button",{onClick:()=>i(30),className:`px-2 py-0.5 text-sm rounded-md ${r===30?"bg-white dark:bg-neutral-600":""}`,children:"Month"}),y.jsx("button",{onClick:()=>i("all"),className:`px-2 py-0.5 text-sm rounded-md ${r==="all"?"bg-white dark:bg-neutral-600":""}`,children:"All"})]})]}),y.jsx("h4",{className:"font-semibold mb-2 ml-2 text-blue-600 dark:text-blue-400",children:"Intake Trend"}),y.jsx(xA,{width:"100%",height:180,children:y.jsxs(oB,{data:u,margin:{top:5,right:20,left:-10,bottom:5},children:[y.jsx(jv,{strokeDasharray:"3 3",stroke:a}),y.jsx(Lv,{dataKey:"date",tickFormatter:p=>new Date(p+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"}),tick:{fill:l,fontSize:12}}),y.jsx(Vv,{tick:{fill:l,fontSize:12},domain:[0,d]}),y.jsx(pA,{contentStyle:{backgroundColor:s==="dark"?"#262626":"#fff",border:"1px solid #525252"}}),y.jsx(Rv,{type:"monotone",dataKey:"total",name:"Intake",stroke:"#60a5fa",strokeWidth:2,dot:{r:4},activeDot:{r:6}}),y.jsx(Rv,{type:"monotone",dataKey:()=>n,name:"Goal",stroke:"#ef4444",strokeWidth:2,strokeDasharray:"5 5",dot:!1})]})}),y.jsx("h4",{className:"font-semibold mt-6 mb-2 ml-2 text-blue-600 dark:text-blue-400",children:"Intake Breakdown (Last 7 Days)"}),y.jsx(xA,{width:"100%",height:180,children:y.jsxs(STe,{data:u.slice(-7),margin:{top:5,right:20,left:-10,bottom:5},children:[y.jsx(jv,{strokeDasharray:"3 3",stroke:a}),y.jsx(Lv,{dataKey:"date",tickFormatter:p=>new Date(p+"T00:00:00").toLocaleDateString("en-US",{weekday:"short"}),tick:{fill:l,fontSize:12}}),y.jsx(Vv,{tick:{fill:l,fontSize:12},domain:[0,d]}),y.jsx(pA,{contentStyle:{backgroundColor:s==="dark"?"#262626":"#fff",border:"1px solid #525252"}}),y.jsx(Pv,{dataKey:"Morning Meal",stackId:"a",fill:Im["Morning Meal"].color,name:"Morning"}),y.jsx(Pv,{dataKey:"Night Meal",stackId:"a",fill:Im["Night Meal"].color,name:"Night"}),y.jsx(Pv,{dataKey:"Snacks",stackId:"a",fill:Im.Snacks.color,name:"Snacks",radius:[4,4,0,0]})]})}),y.jsx("h4",{className:"font-semibold mt-6 mb-2 ml-2 text-orange-600 dark:text-orange-400",children:"Burned Trend"}),y.jsx(xA,{width:"100%",height:180,children:y.jsxs(oB,{data:f,margin:{top:5,right:20,left:-10,bottom:5},children:[y.jsx(jv,{strokeDasharray:"3 3",stroke:a}),y.jsx(Lv,{dataKey:"date",tickFormatter:p=>new Date(p+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"}),tick:{fill:l,fontSize:12}}),y.jsx(Vv,{tick:{fill:l,fontSize:12},domain:[0,d]}),y.jsx(pA,{contentStyle:{backgroundColor:s==="dark"?"#262626":"#fff",border:"1px solid #525252"}}),y.jsx(Rv,{type:"monotone",dataKey:"total",name:"Burned",stroke:"#f97316",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})]})}function BNe({achievements:t,onAdd:e,onUpdate:n,onDelete:r,theme:i="emerald"}){const[s,a]=_.useState({isOpen:!1,data:null}),l=t.filter(d=>d.type==="earned").sort((d,p)=>new Date(p.date)-new Date(d.date)),u=t.filter(d=>d.type==="planned"),f=d=>{s.data?.id?n("achievements",s.data.id,d):e(d),a({isOpen:!1,data:null})};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:"Showcase"}),y.jsxs("button",{onClick:()=>a({isOpen:!0,data:null,theme:i}),className:"px-4 py-2 bg-emerald-500 text-white font-semibold rounded-lg flex items-center gap-2 hover:bg-emerald-600 transition-colors",children:[y.jsx(as,{className:"w-5 h-5"})," Add Achievement"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(d=>y.jsx(zNe,{achievement:d,onUpdate:n,onDelete:()=>r(d.id),onEdit:()=>a({isOpen:!0,data:d,theme:i})},d.id))}),u.length>0&&y.jsxs(y.Fragment,{children:[y.jsx("h2",{className:"text-3xl font-bold mt-12 mb-6 text-sky-600 dark:text-sky-400",children:"Future Conquests"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(d=>y.jsx(UNe,{achievement:d,onEdit:()=>a({isOpen:!0,data:d,theme:i}),onDelete:()=>r(d.id)},d.id))})]}),y.jsx(qt,{children:s.isOpen&&y.jsx(FNe,{isOpen:s.isOpen,initialData:s.data,onClose:()=>a({isOpen:!1,data:null}),onSave:f,theme:s.theme})})]})}function zNe({achievement:t,onUpdate:e,onDelete:n,onEdit:r}){const[i,s]=_.useState(!1),a=UN[t.icon]||Gs,l=Ud[t.color]||Ud.green,u=d=>{e("achievements",t.id,{color:d}),s(!1)},f={"--glow-c1":l.glowColors.c1,"--glow-c2":l.glowColors.c2,"--glow-c3":l.glowColors.c3};return y.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Math.random()*.2},style:f,className:"showcase-glow hall-of-fame-content group relative bg-white dark:bg-neutral-800/50 rounded-xl p-6 h-full flex flex-col justify-center items-center text-center border border-neutral-200 dark:border-neutral-700",children:[y.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-20",children:[y.jsx("button",{onClick:()=>s(!i),children:y.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-sky-300 to-violet-300"})}),y.jsx("button",{onClick:r,children:y.jsx(Lr,{className:"w-4 h-4 text-neutral-400 hover:text-green-500"})}),y.jsx("button",{onClick:n,children:y.jsx(ui,{className:"w-4 h-4 text-neutral-400 hover:text-red-500"})})]}),i&&y.jsx(_e.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"absolute top-10 right-2 z-10 bg-white dark:bg-neutral-800 p-2 rounded-lg shadow-lg flex gap-2",children:Object.keys(Ud).map(d=>y.jsx("button",{onClick:()=>u(d),children:y.jsx("div",{className:`w-5 h-5 rounded-full ${Ud[d].text.replace("text","bg")}`})},d))}),y.jsx(a,{className:`w-16 h-16 mb-4 transition-colors ${l.text}`}),y.jsx("h3",{className:`font-bold text-lg transition-colors ${l.text}`,children:t.title}),y.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:t.date}),t.comment&&y.jsx("div",{className:"mt-4 text-left",children:y.jsxs("p",{style:{fontFamily:"'Caveat', cursive"},className:"text-lg text-neutral-500 dark:text-neutral-400 opacity-80 break-all",children:['"',t.comment,'"']})})]})}function UNe({achievement:t,onEdit:e,onDelete:n}){const r=UN[t.icon]||Vc;return y.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Math.random()*.2},className:"group relative border-2 border-dashed border-neutral-300 dark:border-neutral-700 rounded-xl p-6 h-full flex flex-col justify-center items-center text-center",children:[y.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:e,children:y.jsx(Lr,{className:"w-4 h-4 text-neutral-400 hover:text-green-500"})}),y.jsx("button",{onClick:n,children:y.jsx(ui,{className:"w-4 h-4 text-neutral-400 hover:text-red-500"})})]}),y.jsx(r,{className:"w-12 h-12 text-neutral-400 dark:text-neutral-500 mb-4"}),y.jsx("h3",{className:"font-semibold text-neutral-600 dark:text-neutral-300",children:t.title})]})}function FNe({initialData:t,onClose:e,onSave:n,theme:r="emerald"}){const[i,s]=_.useState({title:t?.title||"",date:t?.date||"",type:t?.type||"earned",icon:t?.icon||"Trophy",color:t?.color||"green",comment:t?.comment||""}),a=p=>{const{name:g,value:v}=p.target;s(x=>({...x,[g]:v}))},l=()=>{i.title&&n(i)},f={emerald:{title:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50/80 dark:bg-emerald-950/60 backdrop-blur-xl",button:"bg-emerald-500",focusRing:"focus:ring-emerald-400"}}[r],d=`w-full p-2 bg-black/5 dark:bg-white/5 rounded-md border border-black/5 dark:border-white/10 backdrop-blur-sm focus:ring-2 ${f.focusRing} focus:outline-none`;return y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:y.jsxs(_e.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:`rounded-2xl shadow-xl w-full max-w-md ${f.bg}`,onClick:p=>p.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("h3",{className:`text-xl font-bold mb-4 ${f.title}`,children:[t?"Edit":"Add"," Achievement"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",name:"title",placeholder:"Achievement Title",value:i.title,onChange:a,className:d}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("select",{name:"type",value:i.type,onChange:a,className:d,children:[y.jsx("option",{value:"earned",children:"Earned"}),y.jsx("option",{value:"planned",children:"Planned"})]}),y.jsx(Tw,{value:i.icon,onChange:p=>s(g=>({...g,icon:p})),iconMap:UN})]}),i.type==="earned"&&y.jsx("input",{type:"date",name:"date",value:i.date,onChange:a,className:d}),y.jsx("textarea",{name:"comment",placeholder:"Add a personal comment...",value:i.comment,onChange:a,rows:"2",className:`${d} resize-none`}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-semibold text-neutral-500",children:"Theme Color"}),y.jsx("div",{className:"flex items-center justify-around mt-2 bg-black/5 dark:bg-white/5 p-2 rounded-lg",children:Object.keys(Ud).map(p=>y.jsx("button",{onClick:()=>s(g=>({...g,color:p})),className:`w-6 h-6 rounded-full transition-transform ${i.color===p?"scale-125 ring-2 ring-offset-2 ring-blue-500":""}`,children:y.jsx("div",{className:`w-full h-full rounded-full ${Ud[p].text.replace("text","bg")}`})},p))})]})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:l,className:`px-4 py-2 rounded-lg text-white font-semibold ${f.button}`,children:"Save"})]})]})})}function $Ne({isOpen:t,onClose:e,onSave:n,config:r,theme:i="violet"}){const[s,a]=_.useState({name:"",section:"",tags:"",hallOfFame:!1,icon:"Code"});_.useEffect(()=>{t&&a({name:"",section:"",tags:"",hallOfFame:!1,icon:"Code"})},[t]);const l=g=>{const{name:v,value:x,type:S,checked:E}=g.target;a(A=>({...A,[v]:S==="checkbox"?E:x}))},u=()=>{if(!s.name.trim())return;const g={...s,expertise:50,tags:s.tags.split(",").map(v=>v.trim()).filter(Boolean)};n(g),e()},d={violet:{title:"text-violet-600 dark:text-violet-400",bg:"bg-violet-50/80 dark:bg-violet-950/60 backdrop-blur-xl",button:"bg-violet-500",focusRing:"focus:ring-violet-400"},pink:{title:"text-pink-600 dark:text-pink-400",bg:"bg-pink-50/80 dark:bg-pink-950/60 backdrop-blur-xl",button:"bg-pink-500",focusRing:"focus:ring-pink-400"}}[i],p=`w-full p-2 bg-black/5 dark:bg-white/5 rounded-md backdrop-blur-sm focus:ring-2 ${d.focusRing} focus:outline-none`;return y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:y.jsxs(_e.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:`rounded-2xl shadow-xl w-full max-w-md ${d.bg}`,onClick:g=>g.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("h3",{className:`text-xl font-bold mb-4 ${d.title}`,children:["Add New ",r.name]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",name:"name",placeholder:`${r.name} name`,value:s.name,onChange:l,className:p}),!r.hideSection&&y.jsx("input",{type:"text",name:"section",placeholder:r.section,value:s.section,onChange:l,className:p}),r.hasTags&&y.jsx("input",{type:"text",name:"tags",placeholder:"Tags (comma-separated)",value:s.tags,onChange:l,className:p}),y.jsx(Sw,{isHOF:s.hallOfFame,onToggle:()=>a(g=>({...g,hallOfFame:!g.hallOfFame})),theme:i})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:u,className:`px-4 py-2 rounded-lg text-white font-semibold ${d.button}`,children:"Add Item"})]})]})})}function HNe({onClose:t,onSave:e,theme:n="sky"}){const[r,i]=_.useState({title:"",author:"",tags:"",status:"planned",pageCount:"",hallOfFame:!1,startedAt:"",daysToFinish:"",link:""}),s=d=>{const{name:p,value:g,type:v,checked:x}=d.target;i(S=>({...S,[p]:v==="checkbox"?x:g}))},a=()=>{if(!r.title.trim()||!r.author.trim())return;const d={...r,tags:r.tags.split(",").map(p=>p.trim()).filter(Boolean),progress:r.status==="finished"?100:0,rating:0};e(d),t()},l={sky:{title:"text-sky-600 dark:text-sky-400",bg:"bg-sky-50/80 dark:bg-sky-950/60 backdrop-blur-xl",button:"bg-sky-500"},orange:{title:"text-amber-500",bg:"bg-amber-50/80 dark:bg-neutral-800/60 backdrop-blur-xl",button:"bg-amber-500"}},u=l[n]||l.orange,f="w-full p-2 bg-black/5 dark:bg-white/5 rounded-md border border-black/5 dark:border-white/10 backdrop-blur-sm focus:ring-2 focus:ring-sky-400 focus:outline-none";return y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t,children:y.jsxs(_e.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:`rounded-2xl shadow-xl w-full max-w-md ${u.bg}`,onClick:d=>d.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:`text-xl font-bold mb-4 ${u.title}`,children:"Add New Book"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("input",{type:"text",name:"title",value:r.title,onChange:s,placeholder:"Book Title",className:f}),y.jsx("input",{type:"text",name:"author",value:r.author,onChange:s,placeholder:"Author",className:f}),y.jsx("input",{type:"number",name:"pageCount",value:r.pageCount,onChange:s,placeholder:"Page Count",className:f}),y.jsx("input",{type:"text",name:"tags",value:r.tags,onChange:s,placeholder:"Tags (comma-separated)",className:f}),y.jsx("input",{type:"url",name:"link",value:r.link,onChange:s,placeholder:"Link to Book (URL)",className:f}),y.jsxs("select",{name:"status",value:r.status,onChange:s,className:f,children:[y.jsx("option",{value:"planned",children:"Planned to Read"}),y.jsx("option",{value:"reading",children:"Currently Reading"}),y.jsx("option",{value:"finished",children:"Finished"})]}),r.status==="reading"&&y.jsx("input",{type:"date",name:"startedAt",value:r.startedAt,onChange:s,title:"Start Date",className:f}),r.status==="finished"&&y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("input",{type:"date",name:"startedAt",value:r.startedAt,onChange:s,title:"Start Date",className:f}),y.jsx("input",{type:"number",name:"daysToFinish",value:r.daysToFinish,onChange:s,placeholder:"Days to finish",className:f})]}),y.jsx(Sw,{isHOF:r.hallOfFame,onToggle:()=>i(d=>({...d,hallOfFame:!d.hallOfFame})),theme:n})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:a,className:`px-4 py-2 rounded-lg text-white font-semibold ${u.button}`,children:"Add to Library"})]})]})})}function qNe({onClose:t,onSave:e,theme:n="teal"}){const[r,i]=_.useState({title:"",author:"",tags:"",status:"planned",pageCount:"",hallOfFame:!1,startedAt:"",daysToFinish:"",link:""}),s=d=>{const{name:p,value:g,type:v,checked:x}=d.target;i(S=>({...S,[p]:v==="checkbox"?x:g}))},a=()=>{if(!r.title.trim()||!r.author.trim())return;const d={...r,tags:r.tags.split(",").map(p=>p.trim()).filter(Boolean),progress:r.status==="finished"?100:0,rating:0};e(d),t()},u={teal:{title:"text-teal-600 dark:text-teal-400",bg:"bg-teal-50/80 dark:bg-teal-950/60 backdrop-blur-xl",button:"bg-teal-500"}}[n],f="w-full p-2 bg-black/5 dark:bg-white/5 rounded-md border border-black/5 dark:border-white/10 backdrop-blur-sm focus:ring-2 focus:ring-teal-400 focus:outline-none";return y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t,children:y.jsxs(_e.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:`rounded-2xl shadow-xl w-full max-w-md ${u.bg}`,onClick:d=>d.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:`text-xl font-bold mb-4 ${u.title}`,children:"Add New Thesis"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("input",{type:"text",name:"title",value:r.title,onChange:s,placeholder:"Thesis Title",className:f}),y.jsx("input",{type:"text",name:"author",value:r.author,onChange:s,placeholder:"Author / Supervisor",className:f}),y.jsx("input",{type:"number",name:"pageCount",value:r.pageCount,onChange:s,placeholder:"Page Count",className:f}),y.jsx("input",{type:"text",name:"tags",value:r.tags,onChange:s,placeholder:"Tags (e.g., Computer Science)",className:f}),y.jsx("input",{type:"url",name:"link",value:r.link,onChange:s,placeholder:"Link to Thesis (URL)",className:f}),y.jsxs("select",{name:"status",value:r.status,onChange:s,className:f,children:[y.jsx("option",{value:"planned",children:"Planned to Read"}),y.jsx("option",{value:"reading",children:"Currently Reading"}),y.jsx("option",{value:"finished",children:"Finished"})]}),y.jsx(Sw,{isHOF:r.hallOfFame,onToggle:()=>i(d=>({...d,hallOfFame:!d.hallOfFame})),theme:n})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:a,className:`px-4 py-2 rounded-lg text-white font-semibold ${u.button}`,children:"Add to List"})]})]})})}function KNe({isOpen:t,onClose:e,onSave:n,config:r,theme:i="slate"}){const[s,a]=_.useState({title:"",primaryField:"",tags:"",length:"",status:"planned",hallOfFame:!1});_.useEffect(()=>{t&&a({title:"",primaryField:"",tags:"",length:"",status:"planned",hallOfFame:!1})},[t]);const l=g=>{const{name:v,value:x,type:S,checked:E}=g.target;a(A=>({...A,[v]:S==="checkbox"?E:x}))},u=()=>{if(!s.title.trim()||!s.primaryField.trim())return;const g={title:s.title,[r.primaryField.toLowerCase()]:s.primaryField,tags:s.tags.split(",").map(v=>v.trim()).filter(Boolean),status:r.hidePlanned?r.type==="Movie"?"watched":"listened":s.status,length:s.length,hallOfFame:s.hallOfFame,rating:0};n(g),e()},d={slate:{title:"text-slate-600 dark:text-slate-400",bg:"bg-slate-50/80 dark:bg-slate-800/80 backdrop-blur-xl",button:"bg-slate-500",focusRing:"focus:ring-slate-400"},violet:{title:"text-violet-600 dark:text-violet-400",bg:"bg-violet-50/80 dark:bg-violet-950/60 backdrop-blur-xl",button:"bg-violet-500",focusRing:"focus:ring-violet-400"}}[i],p=`w-full p-2 bg-black/5 dark:bg-white/5 rounded-md backdrop-blur-sm focus:ring-2 ${d.focusRing} focus:outline-none`;return y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:y.jsxs(_e.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:`rounded-2xl shadow-xl w-full max-w-md ${d.bg}`,onClick:g=>g.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("h3",{className:`text-xl font-bold mb-4 ${d.title}`,children:["Add New ",r.type]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("input",{type:"text",name:"title",value:s.title,onChange:l,placeholder:r.type+" Title",className:p}),y.jsx("input",{type:"text",name:"primaryField",value:s.primaryField,onChange:l,placeholder:r.primaryField,className:p}),r.hasLength&&y.jsx("input",{type:"number",name:"length",value:s.length,onChange:l,placeholder:"Length (minutes)",className:p}),y.jsx("input",{type:"text",name:"tags",value:s.tags,onChange:l,placeholder:"Tags (comma-separated)",className:p}),!r.hidePlanned&&y.jsxs("select",{name:"status",value:s.status,onChange:l,className:p,children:[y.jsx("option",{value:"planned",children:"Planned"}),y.jsx("option",{value:"watched",children:"Watched"})]}),y.jsx(Sw,{isHOF:s.hallOfFame,onToggle:()=>a(g=>({...g,hallOfFame:!g.hallOfFame})),theme:i})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:u,className:`px-4 py-2 rounded-lg text-white font-semibold ${d.button}`,children:"Add to List"})]})]})})}const WNe={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100}}};function Is({title:t,icon:e,colorTheme:n,gridSpan:r="lg:col-span-1",children:i}){return y.jsxs(_e.div,{variants:WNe,whileHover:{scale:1.03,y:-5},transition:{type:"spring",stiffness:300,damping:20},className:`group rounded-2xl p-4 flex flex-col ${n.widgetBg} ${r}`,children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center transition-transform group-hover:scale-110 ${n.bg}`,children:Pi.cloneElement(e,{className:`w-5 h-5 transition-transform group-hover:rotate-12 ${n.icon}`})}),y.jsx("h3",{className:`font-bold text-lg ${n.title}`,children:t})]}),y.jsx("div",{className:"flex-grow flex flex-col justify-center",children:i})]})}function yv({value:t}){const e=mO(0),n=sk(e,r=>Math.round(r));return _.useEffect(()=>s$(e,t,{duration:1.5,ease:"easeOut"}).stop,[t,e]),y.jsx(_e.span,{children:n})}function GNe({data:t}){const{about:e,lifeGoals:n,importantGoals:r,achievements:i,skills:s,books:a,movies:l,music:u,intakeEntries:f,exerciseEntries:d,objectives:p,diaryEntries:g,theses:v}=t,x=v?.find(K=>K.status==="reading"),S=_.useMemo(()=>{if(!g||g.length===0)return null;const ge=(g.map(xe=>xe.content).join(" ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").match(/[^.!?]+[.!?]+/g)||[]).map(xe=>xe.trim()).filter(xe=>xe.length>20);if(ge.length===0)return null;if(ge.length<=2)return ge.join(" ");for(let xe=ge.length-1;xe>0;xe--){const q=Math.floor(Math.random()*(xe+1));[ge[xe],ge[q]]=[ge[q],ge[xe]]}return ge.slice(0,2).join(" ")},[g]),E=n.find(K=>K.status!=="completed"),A=r.find(K=>K.status!=="completed"),C=i.filter(K=>K.type==="earned").sort((K,ae)=>new Date(ae.date)-new Date(K.date))[0],D=s.sort((K,ae)=>K.expertise-ae.expertise).slice(0,3),L=a.find(K=>K.status==="reading"),j=new Date,B=p.find(K=>K.type==="big"&&K.year===j.getFullYear()&&K.month===j.getMonth()+1),M=u&&u.length>0?u[Math.floor(Math.random()*u.length)]:null,N=new Date(Date.now()-10080*60*1e3),P=a.filter(K=>K.completedAt?.toDate&&K.completedAt.toDate()>N).reduce((K,ae)=>K+(Number(ae.pageCount)||0),0),F=l.filter(K=>K.watchedDate&&new Date(K.watchedDate)>N).reduce((K,ae)=>K+(Number(ae.length)||0),0)/60,V=d.filter(K=>K.date&&new Date(K.date)>N).reduce((K,ae)=>K+(ae.steps||0),0),$=j.toISOString().slice(0,10),U=f.filter(K=>K.date===$).reduce((K,ae)=>K+ae.calories,0),pe=d.filter(K=>K.date===$).reduce((K,ae)=>K+(ae.calories||0)+(ae.steps||0)*.04,0),ve={glass:K=>`bg-${K}-50/60 dark:bg-${K}-950/40 backdrop-blur-lg`,blue:{bg:"bg-blue-100 dark:bg-blue-900/40",icon:"text-blue-500",title:"text-blue-800 dark:text-blue-300",widgetBg:""},red:{bg:"bg-red-100 dark:bg-red-900/40",icon:"text-red-500",title:"text-red-800 dark:text-red-300",widgetBg:""},green:{bg:"bg-emerald-100 dark:bg-emerald-900/40",icon:"text-emerald-500",title:"text-emerald-800 dark:text-emerald-300",widgetBg:""},yellow:{bg:"bg-amber-100 dark:bg-amber-900/40",icon:"text-amber-500",title:"text-amber-800 dark:text-amber-300",widgetBg:""},violet:{bg:"bg-violet-100 dark:bg-violet-900/40",icon:"text-violet-500",title:"text-violet-800 dark:text-violet-300",widgetBg:""},sky:{bg:"bg-sky-100 dark:bg-sky-900/40",icon:"text-sky-500",title:"text-sky-800 dark:text-sky-300",widgetBg:""},teal:{bg:"bg-teal-100 dark:bg-teal-900/40",icon:"text-teal-500",title:"text-teal-800 dark:text-teal-300",widgetBg:""}};Object.keys(ve).forEach(K=>{K!=="glass"&&(ve[K].widgetBg=ve.glass(K==="green"?"emerald":K==="yellow"?"amber":K))});const G={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}};return y.jsxs("div",{children:[y.jsx(vNe,{name:e?.name}),y.jsxs(_e.div,{variants:G,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[y.jsx(Is,{title:"Current Aim",icon:y.jsx(Vc,{}),colorTheme:ve.red,gridSpan:"lg:col-span-4",children:y.jsx("p",{className:"text-2xl font-semibold text-neutral-700 dark:text-neutral-200",children:e?.currentAim||"Set your current aim!"})}),y.jsx(Is,{title:"Weekly Rewind",icon:y.jsx(aNe,{}),colorTheme:ve.yellow,gridSpan:"lg:col-span-2",children:y.jsxs("div",{className:"flex justify-around items-center h-full text-center",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ef,{className:"w-8 h-8 text-neutral-400 dark:text-neutral-500"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:y.jsx(yv,{value:P})}),y.jsx("p",{className:"text-xs text-neutral-500",children:"Pages Read"})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(zC,{className:"w-8 h-8 text-neutral-400 dark:text-neutral-500"}),y.jsxs("div",{children:[y.jsxs("p",{className:"text-3xl font-bold text-sky-600 dark:text-sky-400",children:[F.toFixed(1),y.jsx("span",{className:"text-lg",children:" hr"})]}),y.jsx("p",{className:"text-xs text-neutral-500",children:"Watched"})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(zN,{className:"w-8 h-8 text-neutral-400 dark:text-neutral-500"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:y.jsx(yv,{value:V})}),y.jsx("p",{className:"text-xs text-neutral-500",children:"Steps"})]})]})]})}),y.jsx(Is,{title:"Health Summary",icon:y.jsx(jf,{}),colorTheme:ve.sky,children:y.jsxs("div",{className:"flex justify-around items-center h-full text-center",children:[y.jsxs("div",{className:"flex items-center gap-2 text-blue-500",children:[y.jsx(iNe,{className:"w-6 h-6"}),y.jsx("p",{className:"text-2xl font-bold",children:y.jsx(yv,{value:U})})]}),y.jsxs("div",{className:"flex items-center gap-2 text-orange-500",children:[y.jsx(sNe,{className:"w-6 h-6"}),y.jsx("p",{className:"text-2xl font-bold",children:y.jsx(yv,{value:Math.round(pe)})})]})]})}),y.jsx(Is,{title:"Latest Achievement",icon:y.jsx(Gs,{}),colorTheme:ve.green,children:C?y.jsxs("div",{className:"text-center",children:[y.jsx(Gs,{className:"w-12 h-12 mx-auto mb-2 text-emerald-500"}),y.jsx("p",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:C.title})]}):y.jsx("p",{className:"text-sm text-neutral-500 text-center",children:"No achievements earned yet."})}),y.jsx(Is,{title:"Life Goal",icon:y.jsx(hy,{}),colorTheme:ve.blue,children:E?y.jsx("p",{className:"font-semibold",children:E.title}):y.jsx("p",{className:"text-sm text-neutral-500",children:"No active life goals."})}),y.jsx(Is,{title:"Important Goal",icon:y.jsx(bw,{}),colorTheme:ve.red,children:A?y.jsx("p",{className:"font-semibold",children:A.title}):y.jsx("p",{className:"text-sm text-neutral-500",children:"No important goals set."})}),y.jsx(Is,{title:"Month's Objective",icon:y.jsx(Vc,{}),colorTheme:ve.blue,children:B?y.jsx("p",{className:"font-semibold",children:B.title}):y.jsx("p",{className:"text-sm text-neutral-500",children:"No objective for this month."})}),y.jsx(Is,{title:"Random Jam",icon:y.jsx(wg,{}),colorTheme:ve.violet,children:M?y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold",children:M.title}),y.jsx("p",{className:"text-xs text-neutral-500",children:M.artist})]}):y.jsx("p",{className:"text-sm text-neutral-500",children:"Add some music!"})}),y.jsx(Is,{title:"From the Journal",icon:y.jsx(ww,{}),colorTheme:ve.violet,gridSpan:"lg:col-span-2",children:S?y.jsxs("p",{className:"font-serif italic text-neutral-600 dark:text-neutral-300",children:['"',S,'"']}):y.jsx("p",{className:"text-sm text-neutral-500 text-center",children:"Write a journal entry to see snippets here."})}),y.jsx(Is,{title:"Skills to Improve",icon:y.jsx(uy,{}),colorTheme:ve.violet,gridSpan:"lg:col-span-2",children:y.jsx("div",{className:"space-y-2",children:D.map((K,ae)=>y.jsxs("div",{children:[y.jsx("span",{className:"text-sm font-semibold",children:K.name}),y.jsx("div",{className:"w-full bg-neutral-200 dark:bg-neutral-700 rounded-full h-2.5",children:y.jsx(_e.div,{initial:{width:0},animate:{width:`${K.expertise}%`},transition:{duration:1,ease:"easeOut"},className:"bg-violet-500 h-2.5 rounded-full"})})]},K.name+ae))})}),y.jsx(Is,{title:"Currently Reading",icon:y.jsx(Ef,{}),colorTheme:ve.sky,gridSpan:"lg:col-span-2",children:L?y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-xl",children:L.title}),y.jsx("p",{className:"text-base text-neutral-500 mb-2",children:L.author}),L.pageCount>0?y.jsxs("p",{className:"font-bold text-xl text-sky-700 dark:text-sky-300",children:[Math.round(L.pageCount*(L.progress/100))," / ",L.pageCount," pages read"]}):y.jsx("p",{className:"text-sm italic text-neutral-500",children:"Just beginning the journey..."})]}):y.jsx("p",{className:"text-sm text-neutral-500",children:"Not reading any books right now."})}),y.jsx(Is,{title:"Current Thesis",icon:y.jsx(VN,{}),colorTheme:ve.teal,gridSpan:"lg:col-span-2",children:x?y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-lg",children:x.title}),y.jsx("p",{className:"text-sm text-neutral-500 mb-2",children:x.author}),y.jsx("div",{className:"w-full bg-neutral-200 dark:bg-neutral-700 rounded-full h-2.5",children:y.jsx(_e.div,{initial:{width:0},animate:{width:`${x.progress}%`},transition:{duration:1,ease:"easeOut"},className:"bg-teal-500 h-2.5 rounded-full"})})]}):y.jsx("p",{className:"text-sm text-neutral-500",children:"Not reading any theses right now."})})]})]})}function YNe({entries:t,onDateSelect:e,onAddClick:n}){const r=new Date;return y.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-violet-600 dark:text-violet-400",children:"Journal"}),y.jsxs("button",{onClick:n,className:"px-4 py-2 bg-violet-500 text-white font-semibold rounded-lg flex items-center gap-2 hover:bg-violet-600 transition-colors",children:[y.jsx(as,{className:"w-5 h-5"})," New Entry for Today"]})]}),y.jsx("div",{className:"p-4 bg-white/50 dark:bg-neutral-800/20 rounded-2xl",children:y.jsx(ZEe,{onChange:e,value:r,tileContent:({date:i,view:s})=>s==="month"&&y.jsxs("div",{className:"w-full h-full relative p-2 flex flex-col justify-start items-start",children:[y.jsx("span",{className:"day-number",children:i.getDate()}),t.find(a=>a.id===i.toISOString().slice(0,10))&&y.jsx(_e.div,{initial:{scale:0},animate:{scale:1},className:"absolute bottom-2 left-2 flex items-center justify-center",children:y.jsx(ww,{className:"w-5 h-5 text-violet-500"})})]}),formatShortWeekday:(i,s)=>s.toLocaleDateString("en-US",{weekday:"long"}),nextLabel:y.jsx(Lc,{className:"w-8 h-8 rotate-180"}),prevLabel:y.jsx(Lc,{className:"w-8 h-8"}),next2Label:null,prev2Label:null,onClickMonth:()=>{},view:"month"})})]})}function XNe({entry:t,onEdit:e,onDelete:n,onClose:r}){const i=t.font==="handwriting"?"font-['Caveat',cursive] text-2xl":"font-sans text-base",s=t.date?.toDate?t.date.toDate():new Date(t.date);return y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:r,children:y.jsxs(_e.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white dark:bg-neutral-900 rounded-2xl shadow-xl w-full max-w-2xl h-[80vh] flex flex-col",onClick:a=>a.stopPropagation(),children:[y.jsxs("div",{className:"p-4 border-b dark:border-neutral-800 flex justify-between items-center shrink-0",children:[y.jsx("h3",{className:"font-bold text-lg text-violet-700 dark:text-violet-400",children:t.title||s.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:e,className:"p-2 rounded-lg bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200",children:y.jsx(Lr,{className:"w-5 h-5"})}),y.jsx("button",{onClick:n,className:"p-2 rounded-lg bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200",children:y.jsx(ui,{className:"w-5 h-5"})})]})]}),y.jsx("div",{className:"flex-grow p-8 overflow-y-auto notebook-bg",children:y.jsx("div",{className:`prose dark:prose-invert max-w-none ${i}`,dangerouslySetInnerHTML:{__html:t.content}})})]})})}const Xp=({onClick:t,isActive:e,icon:n,children:r})=>y.jsx("button",{type:"button",onClick:t,className:`p-2 rounded-md transition-colors ${e?"bg-violet-100 dark:bg-violet-900 text-violet-500":"hover:bg-neutral-100 dark:hover:bg-neutral-700"}`,children:n||r}),QNe=({editor:t})=>{const[,e]=_.useState(0),n=_.useCallback(()=>e(r=>r+1),[]);return _.useEffect(()=>{if(t)return t.on("update",n),t.on("selectionUpdate",n),()=>{t.off("update",n),t.off("selectionUpdate",n)}},[t,n]),t?y.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-2 rounded-t-xl border-b border-neutral-200 dark:border-neutral-700 flex flex-wrap items-center gap-2",children:[y.jsx(Xp,{onClick:()=>t.chain().focus().toggleBold().run(),isActive:t.isActive("bold"),icon:y.jsx(lNe,{className:"w-5 h-5"})}),y.jsx(Xp,{onClick:()=>t.chain().focus().toggleItalic().run(),isActive:t.isActive("italic"),icon:y.jsx(cNe,{className:"w-5 h-5"})}),y.jsx(Xp,{onClick:()=>t.chain().focus().toggleUnderline().run(),isActive:t.isActive("underline"),icon:y.jsx(uNe,{className:"w-5 h-5"})}),y.jsx(Xp,{onClick:()=>t.chain().focus().toggleStrike().run(),isActive:t.isActive("strike"),icon:y.jsx(fNe,{className:"w-5 h-5"})}),y.jsx(Xp,{onClick:()=>t.chain().focus().toggleHighlight({color:"#fef9c3"}).run(),isActive:t.isActive("highlight"),icon:y.jsx(dNe,{className:"w-5 h-5"})}),y.jsx("div",{className:"flex gap-1 p-1",children:SNe.map(r=>y.jsx("button",{type:"button",onClick:()=>t.chain().focus().setColor(r).run(),className:`w-5 h-5 rounded ${t.isActive("textStyle",{color:r})?"ring-2 ring-offset-2 ring-violet-500 dark:ring-offset-neutral-800":""} ${r==="#FFFFFF"?"border border-neutral-400":""}`,style:{backgroundColor:r}},r))})]}):null};function JNe({entry:t,onSave:e,onClose:n}){const[r,i]=_.useState(t?.title||""),s=t?.date?.toDate?t.date.toDate():t?.date||new Date,a=lOe({extensions:[FMe,$G,qMe.configure({multicolor:!0}),YG,XG,BMe.configure({placeholder:"Start writing your story..."})],content:t?.content||"",editorProps:{attributes:{class:"prose dark:prose-invert max-w-none focus:outline-none"}}}),l=()=>{a&&e(r,a.getHTML(),"sans")};return y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:n,children:y.jsxs(_e.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white dark:bg-neutral-900 rounded-2xl shadow-xl w-full max-w-3xl h-[80vh] flex flex-col",onClick:u=>u.stopPropagation(),children:[y.jsx("div",{className:"p-6 shrink-0 space-y-3",children:y.jsx("input",{type:"text",value:r,onChange:u=>i(u.target.value),placeholder:`Entry for ${new Date(s).toLocaleDateString("en-US",{month:"long",day:"numeric"})}`,className:"text-2xl font-bold text-violet-600 dark:text-violet-400 bg-transparent w-full focus:outline-none"})}),y.jsxs("div",{className:"px-6 flex-grow flex flex-col min-h-0",children:[y.jsx(QNe,{editor:a}),y.jsx("div",{className:"flex-grow overflow-y-auto border border-t-0 border-neutral-200 dark:border-neutral-700 rounded-b-xl notebook-bg p-4",children:y.jsx(tOe,{editor:a,className:"font-sans"})})]}),y.jsxs("div",{className:"flex justify-end gap-2 p-6 shrink-0",children:[y.jsx("button",{onClick:n,className:"px-4 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-700 font-semibold hover:bg-neutral-300 dark:hover:bg-neutral-600",children:"Cancel"}),y.jsx("button",{onClick:l,className:"px-4 py-2 rounded-lg bg-violet-500 hover:bg-violet-600 text-white font-semibold",children:t?.id?"Save Changes":"Add Entry"})]})]})})}function ZNe({entries:t,addEntry:e,updateEntry:n,deleteEntry:r}){const[i,s]=_.useState({view:null,data:null}),[a,l]=_.useState(!1),u=p=>{const g=p.toISOString().slice(0,10),v=t.find(x=>x.id===g);s(v?{view:"display",data:v}:{view:"edit",data:{date:p}})},f=async(p,g,v)=>{const x=i.data.date,S=x?.toDate?x.toDate():x,E=S.toISOString().slice(0,10),A=t.find(C=>C.id===E);s({view:null,data:null}),A?await n(E,{...A,title:p,content:g,font:v}):await e(E,{id:E,title:p,content:g,font:v,date:S}),l(!0),setTimeout(()=>{l(!1)},1500)},d=p=>{window.confirm("Are you sure you want to delete this entry?")&&(r(p),s({view:null,data:null}))};return y.jsxs("div",{children:[y.jsx(YNe,{entries:t,onDateSelect:u,onAddClick:()=>{const p=new Date;p.setHours(0,0,0,0),u(p)}}),y.jsxs(qt,{children:[i.view==="display"&&y.jsx(XNe,{entry:i.data,onClose:()=>s({view:null,data:null}),onEdit:()=>s({view:"edit",data:i.data}),onDelete:()=>d(i.data.id)}),i.view==="edit"&&y.jsx(JNe,{entry:i.data,onClose:()=>s({view:null,data:null}),onSave:f})]}),y.jsx(qt,{children:a&&y.jsx(eDe,{})})]})}function eDe(){return y.jsx(_e.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:300,damping:20},className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:y.jsxs("div",{className:"bg-white/80 dark:bg-neutral-800/80 backdrop-blur-md p-6 rounded-2xl flex flex-col items-center gap-4 shadow-2xl",children:[y.jsx(Tf,{className:"w-16 h-16 text-green-500"}),y.jsx("p",{className:"font-bold text-xl text-neutral-700 dark:text-neutral-200",children:"Changes Saved!"})]})})}function tDe(){const[t,e]=_.useState(null),[n,r]=_.useState(!0),[i,s]=_.useState("dark"),[a,l]=_.useState([]),[u,f]=_.useState([]),[d,p]=_.useState([]),[g,v]=_.useState([]),[x,S]=_.useState([]),[E,A]=_.useState([]),[C,D]=_.useState([]),[L,j]=_.useState([]),[B,M]=_.useState([]),[N,P]=_.useState([]),[F,V]=_.useState(null),[$,U]=_.useState([]),[pe,ve]=_.useState(2200),[G,K]=_.useState(null),[ae,ge]=_.useState([]),[xe,q]=_.useState([]),X=(te,Ne)=>{const jt=[...te.subTasks||[]];jt.length>0&&(jt[jt.length-1].completed=!1),Ne(te.id,{status:"in-progress",completedAt:null,subTasks:jt})},[me,we]=_.useState(new Date().getFullYear()),[Se,Ie]=_.useState(new Date().getMonth()+1),[Be,it]=_.useState(null),[fe,ze]=_.useState({isOpen:!1,type:null,data:{}}),[Ke,de]=_.useState(()=>Array.from({length:5},(te,Ne)=>new Date().getFullYear()-2+Ne)),[kt,Oe]=_.useState(!1),[bt,st]=_.useState("dashboard"),[Kt,pi]=_.useState({item:null,type:null}),Dt=(te,Ne)=>pi({item:te,type:Ne}),pn=()=>pi({item:null,type:null}),us=()=>s(te=>te==="light"?"dark":"light");_.useEffect(()=>{const te=window.document.documentElement;i==="dark"?te.classList.add("dark"):te.classList.remove("dark");const Ne="hall-of-fame-style";let jt=document.getElementById(Ne);jt||(jt=document.createElement("style"),jt.id=Ne,document.head.appendChild(jt));const Xn="linear-gradient(rgba(38, 38, 38, 0.93), rgba(38, 38, 38, 0.93)), linear-gradient(145deg, #fef9c3, #fcd34d, #d97706, #fcd34d, #fef9c3)",Gt="linear-gradient(145deg, #fffbeb, #fefce8)";jt.innerHTML=`
        @property --angle {
          syntax: '<angle>';
          initial-value: 0deg;
          inherits: false;
        }
        .hall-of-fame-glow { position: relative; }
        .hall-of-fame-glow::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0; margin: 9px; border-radius: inherit;
            
            /* UPDATED: A softer, less vibrant gold for the glow */
            background: conic-gradient(from var(--angle), #eab308, #facc15, #fde047, #facc15, #eab308);
            
            animation: rotate 2s linear infinite; filter: blur(12px);
        }
        /* Light mode default style */
        .hof-bg-themed {
            background-image: ${Gt};
        }
        /* Dark mode override */
        .dark .hof-bg-themed {
            background-image: ${Xn};
        }
        .identity-core-glow { position: relative; }
        .identity-core-glow::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0; margin: -8px; border-radius: inherit;
            background: conic-gradient(from var(--angle), #818cf8, #c084fc, #f0abfc, #c084fc, #818cf8);
            animation: rotate 2s linear infinite; filter: blur(6px);
        }
        .hall-of-fame-glow-button { position: relative; }
        .hall-of-fame-glow-button::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0; margin: -2px; border-radius: inherit;
            background: conic-gradient(from var(--angle), #eab308, #facc15, #fde047, #facc15, #eab308);
            animation: rotate 2s linear infinite; filter: blur(2px);
        }
        .grey-glow-button { position: relative; }
        .grey-glow-button::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0; margin: -2px; border-radius: inherit;
            background: conic-gradient(from var(--angle), #a1a1aa, #e5e5e5, #fafafa, #e5e5e5, #a1a1aa);
            animation: rotate 3s linear infinite; filter: blur(2px);
        }
        .cyan-glow-button { position: relative; }
        .cyan-glow-button::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0; margin: -2px; border-radius: inherit;
            background: conic-gradient(from var(--angle), #22d3ee, #67e8f9, #a5f3fc, #67e8f9, #22d3ee);
            animation: rotate 3s linear infinite; filter: blur(3px);
        }
            .showcase-glow { position: relative; }
        .showcase-glow::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0; margin: -2px; border-radius: inherit;
            /* This now uses CSS variables for each color within the rotating gradient */
            background: conic-gradient(from var(--angle), var(--glow-c1), var(--glow-c2), var(--glow-c3), var(--glow-c2), var(--glow-c1));
            animation: rotate 4s linear infinite;
            filter: blur(8px);
            opacity: 0.5;
        }
        .hall-of-fame-content { position: relative; z-index: 1; border-radius: inherit; }
        @keyframes rotate { from { --angle: 0deg; } to { --angle: 360deg; } }
        
            /* --- ADD THESE NEW STYLES AT THE END, BEFORE THE CLOSING BACKTICK --- */
    
    /* New Teal HOF Background */
    .hof-bg-teal {
        background-image: linear-gradient(145deg, #f0fdfa, #ccfbf1);
    }
    .dark .hof-bg-teal {
        background-image: linear-gradient(rgba(13, 44, 42, 0.93), rgba(13, 44, 42, 0.93)), linear-gradient(145deg, #2dd4bf, #14b8a6, #0d9488);
    }

    /* New Teal HOF Glow */
    .hof-glow-teal { position: relative; }
    .hof-glow-teal::before {
        content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
        z-index: 0; margin: -2px; border-radius: inherit;
        background: conic-gradient(from var(--angle), #5eead4, #2dd4bf, #14b8a6, #2dd4bf, #5eead4);
        animation: rotate 4s linear infinite;
        filter: blur(8px);
        opacity: 0.7;
    }
        /* Sky Blue HOF Background */
    .hof-bg-sky {
        background-image: linear-gradient(145deg, #f0f9ff, #e0f2fe);
    }
    .dark .hof-bg-sky {
        background-image: linear-gradient(rgba(8, 32, 50, 0.93), rgba(8, 32, 50, 0.93)), linear-gradient(145deg, #0ea5e9, #38bdf8, #7dd3fc);
    }

    /* Sky Blue HOF Glow */
    .hof-glow-sky { position: relative; }
    .hof-glow-sky::before {
        content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
        z-index: 0; margin: -2px; border-radius: inherit;
        background: conic-gradient(from var(--angle), #7dd3fc, #38bdf8, #0ea5e9, #38bdf8, #7dd3fc);
        animation: rotate 4s linear infinite;
        filter: blur(8px);
        opacity: 0.7;
    }

    /* --- ADD THESE NEW STYLES AT THE END --- */

    /* New Violet HOF Background */
    .hof-bg-violet {
        background-image: linear-gradient(145deg, #f5f3ff, #ede9fe);
    }
    .dark .hof-bg-violet {
        background-image: linear-gradient(rgba(30, 16, 54, 0.93), rgba(30, 16, 54, 0.93)), linear-gradient(145deg, #8b5cf6, #a78bfa, #c4b5fd);
    }

    /* New Violet HOF Glow */
    .hof-glow-violet { position: relative; }
    .hof-glow-violet::before {
        content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
        z-index: 0; margin: -2px; border-radius: inherit;
        background: conic-gradient(from var(--angle), #c084fc, #a855f7, #8b5cf6, #a855f7, #c084fc);
        animation: rotate 4s linear infinite; filter: blur(8px); opacity: 0.7;
    }

    /* New Pink HOF Background */
    .hof-bg-pink {
        background-image: linear-gradient(145deg, #fdf2f8, #fce7f3);
    }
    .dark .hof-bg-pink {
        background-image: linear-gradient(rgba(58, 14, 32, 0.93), rgba(58, 14, 32, 0.93)), linear-gradient(145deg, #ec4899, #f472b6, #f9a8d4);
    }

    /* New Pink HOF Glow */
    .hof-glow-pink { position: relative; }
    .hof-glow-pink::before {
        content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
        z-index: 0; margin: -2px; border-radius: inherit;
        background: conic-gradient(from var(--angle), #f9a8d4, #f472b6, #ec4899, #f472b6, #f9a8d4);
        animation: rotate 4s linear infinite; filter: blur(8px); opacity: 0.7;
    }


    /* --- ADD THESE NEW STYLES AT THE END --- */

    /* New Slate HOF Background */
    .hof-bg-slate {
        background-image: linear-gradient(145deg, #f8fafc, #f1f5f9);
    }
    .dark .hof-bg-slate {
        background-image: linear-gradient(rgba(15, 23, 42, 0.93), rgba(15, 23, 42, 0.93)), linear-gradient(145deg, #475569, #334155, #1e293b);
    }

    /* New Slate HOF Glow */
    .hof-glow-slate { position: relative; }
    .hof-glow-slate::before {
        content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
        z-index: 0; margin: -2px; border-radius: inherit;
        background: conic-gradient(from var(--angle), #cbd5e1, #94a3b8, #64748b, #94a3b8, #cbd5e1);
        animation: rotate 5s linear infinite;
        filter: blur(8px);
        opacity: 0.6;
    }

        
/* --- FINAL, POLISHED DIARY & CALENDAR STYLES --- */
.notebook-bg {
    background-color: #FDFDF6;
    background-image: linear-gradient(to bottom, rgba(212, 212, 212, 0.2) 1px, transparent 1px);
    background-size: 100% 2.5rem;
    line-height: 2.5rem;
}
.dark .notebook-bg {
    background-color: #202022;
    background-image: linear-gradient(to bottom, rgba(82, 82, 82, 0.2) 1px, transparent 1px);
}

/* FINAL Calendar Theme */
.react-calendar { width: 100%; border: none; background: transparent; font-family: inherit; }
.react-calendar__navigation { display: flex; align-items: center; justify-content: center; gap: 0.5rem; margin-bottom: 1rem; }
.react-calendar__navigation__label { 
    font-size: 1.5rem; font-weight: bold; flex-grow: 0; border: none !important;
    background: none !important; color: #8b5cf6; pointer-events: none;
}
.dark .react-calendar__navigation__label { color: #c084fc; }
.react-calendar__navigation__arrow {
    width: 40px; height: 40px; border-radius: 9999px; font-size: 2rem;
    color: #a78bfa; transition: background 0.2s;
}
.react-calendar__navigation__arrow:enabled:hover { background-color: #f5f3ff !important; }
.dark .react-calendar__navigation__arrow:enabled:hover { background-color: #2e243e !important; }

/* --- FIX: Force a 7-column grid for weekdays --- */
.react-calendar__month-view__weekdays {
    display: grid !important;
    grid-template-columns: repeat(7, 1fr) !important;
    gap: 0.5rem;
    margin-bottom: 0.5rem; padding: 0.5rem 0;
    border-radius: 0.75rem; background: #f5f3ff;
}
.dark .react-calendar__month-view__weekdays { background: #2e243e; }
.react-calendar__month-view__weekdays__weekday { text-align: center; font-weight: 600; color: #a855f7; }
.dark .react-calendar__month-view__weekdays__weekday { color: #c084fc; }
.react-calendar__month-view__weekdays__weekday abbr { text-decoration: none; }

/* --- FIX: Force a 7-column grid for days --- */
.react-calendar__month-view__days {
    display: grid !important;
    grid-template-columns: repeat(7, 1fr) !important;
    gap: 0.5rem !important;
}

.react-calendar__tile {
    height: 110px; padding: 0; position: relative;
    background: #fafafa; border-radius: 0.75rem;
    transition: all 0.2s ease-in-out; border: 1px solid #f3f4f6;
}
.dark .react-calendar__tile { background: #1f1f22; border: 1px solid #3f3f46; }
.react-calendar__tile:enabled:hover { background: #ede9fe; transform: translateY(-2px); }
.dark .react-calendar__tile:enabled:hover { background: #2e243e; border-color: #a78bfa; }
.react-calendar__tile--now { border: 2px solid #a78bfa; }
.react-calendar__tile--active { background: #8b5cf6 !important; }
.react-calendar__tile--active .day-number { color: #e9d5ff !important; }
.react-calendar__month-view__days__day--neighboringMonth { background: #fbfbff; }
.react-calendar__month-view__days__day--neighboringMonth .day-number { color: #e5e7eb !important; }
.dark .react-calendar__month-view__days__day--neighboringMonth { background: #222225; }
.dark .react-calendar__month-view__days__day--neighboringMonth .day-number { color: #3f3f46 !important; }
.react-calendar__tile abbr { display: none; }

.day-number {
    position: absolute; top: 0.5rem; left: 0.5rem;
    font-size: 0.8rem; font-weight: 600; color: #a1a1aa; z-index: 0;
}
.dark .day-number { color: #52525b; }

/* Placeholder Styles for the Editor */
.ProseMirror p.is-editor-empty:first-child::before {
  content: attr(data-placeholder); float: left; color: #a1a1aa;
  pointer-events: none; height: 0; opacity: 0.7;
  font-family: 'Caveat', cursive;
}
    `},[i]),_.useEffect(()=>{const te=document.createElement("link");te.href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&display=swap",te.rel="stylesheet",document.head.appendChild(te)},[]),_.useEffect(()=>{const te=wZ(H6,async Ne=>{if(Ne)e(Ne),r(!1);else try{await mZ(H6)}catch(jt){console.error("Critical authentication error:",jt),r(!1)}});return()=>te()},[]),_.useEffect(()=>{if(!t)return;const te=[];Object.entries({objectives:l,lifeGoals:f,importantGoals:p}).forEach(([dt,ys])=>{const ao=WR(jT(la,"artifacts",Ba,"users",t.uid,dt),Fre("orderIndex")),pt=RT(ao,ni=>{ys(ni.docs.map(zr=>({id:zr.id,...zr.data()})))},ni=>console.error(`Error fetching ${dt}:`,ni));te.push(pt)}),Object.entries({skills:v,achievements:S,books:A,theses:D,likes:j,movies:M,music:P,diaries:ge,intakeEntries:U,exerciseEntries:q}).forEach(([dt,ys])=>{const ao=WR(jT(la,"artifacts",Ba,"users",t.uid,dt)),pt=RT(ao,ni=>{ys(ni.docs.map(zr=>({id:zr.id,...zr.data()})))},ni=>console.error(`Error fetching ${dt}:`,ni));te.push(pt)});const Xn=Hl(la,"artifacts",Ba,"users",t.uid,"about","main"),Gt=RT(Xn,dt=>{V(dt.exists()?{id:dt.id,...dt.data()}:null)},dt=>console.error("Error fetching about info:",dt));return te.push(Gt),()=>te.forEach(dt=>dt())},[t]);const rr=(te,Ne)=>Wre(jT(la,"artifacts",Ba,"users",t.uid,te),{...Ne,ownerId:t.uid,createdAt:Wd()}),Cn=(te,Ne,jt)=>Kre(Hl(la,"artifacts",Ba,"users",t.uid,te,Ne),{...jt,updatedAt:Wd()}),Tt=(te,Ne)=>XR(Hl(la,"artifacts",Ba,"users",t.uid,te,Ne)),Xs=te=>rr("objectives",{...te,month:Se}),Qs=(te,Ne)=>Cn("objectives",te,Ne),io=te=>Tt("objectives",te),Vi=te=>rr("lifeGoals",te),Js=(te,Ne)=>Cn("lifeGoals",te,Ne),Ea=te=>Tt("lifeGoals",te),Aa=te=>rr("importantGoals",te),_a=(te,Ne)=>Cn("importantGoals",te,Ne),Yn=te=>Tt("importantGoals",te),vn=te=>rr("skills",te),Br=(te,Ne)=>Cn("skills",te,Ne),Wt=te=>Tt("skills",te),so=te=>rr("likes",te),fs=(te,Ne)=>Cn("likes",te,Ne),ul=te=>Tt("likes",te),Qr=te=>rr("achievements",te),Zs=te=>Tt("achievements",te),Jt=te=>rr("books",te),It=(te,Ne)=>Cn("books",te,Ne),Ut=te=>Tt("books",te),ir=te=>rr("theses",te),Et=(te,Ne)=>Cn("theses",te,Ne),xr=te=>Tt("theses",te),mi=te=>rr("movies",te),gi=(te,Ne)=>Cn("movies",te,Ne),fl=te=>Tt("movies",te),ds=te=>rr("music",te),hs=(te,Ne)=>Cn("music",te,Ne),ps=te=>Tt("music",te),Bi=te=>rr("intakeEntries",te),Jr=(te,Ne)=>Cn("intakeEntries",te,Ne),ka=te=>Tt("intakeEntries",te),Zr=te=>rr("exerciseEntries",te),wr=(te,Ne)=>Cn("exerciseEntries",te,Ne),Zt=te=>Tt("exerciseEntries",te),mn=(te,Ne)=>qre(Hl(la,"artifacts",Ba,"users",t.uid,"diaries",te),{...Ne,ownerId:t.uid,updatedAt:Wd()},{merge:!0}),yi=te=>XR(Hl(la,"artifacts",Ba,"users",t.uid,"diaries",te)),We=te=>Cn("about","main",te),Pt=async(te,Ne)=>{if(!Ne||Ne.length===0)return Qs(te,{status:"in-progress",completedAt:null});try{const jt=Xre(la),Xn=Hl(la,"artifacts",Ba,"users",t.uid,"objectives",te);jt.update(Xn,{status:"in-progress",completedAt:null});const Gt=Ne[Ne.length-1],dt=Hl(la,"artifacts",Ba,"users",t.uid,"objectives",Gt.id);jt.update(dt,{status:"in-progress"}),await jt.commit()}catch(jt){console.error("Error reverting objective completion: ",jt)}},At=_.useMemo(()=>a.filter(te=>te.year===me&&(Se===null||te.month===Se)).sort((te,Ne)=>te.orderIndex-Ne.orderIndex),[a,me,Se]),sr=_.useMemo(()=>At.filter(te=>te.type==="big"),[At]),en=_.useMemo(()=>At.filter(te=>te.type==="small"&&te.parentObjectiveId).reduce((te,Ne)=>({...te,[Ne.parentObjectiveId]:[...te[Ne.parentObjectiveId]||[],Ne]}),{}),[At]),ms=_.useMemo(()=>a.find(te=>te.id===Be),[Be,a]),vi=()=>de(te=>[...te,Math.max(...te)+1]);if(n)return y.jsx(nDe,{});if(!t)return y.jsx("div",{className:"flex items-center justify-center h-screen bg-neutral-900 text-white",children:"Connecting..."});const ar=(te,Ne={})=>ze({isOpen:!0,type:te,data:Ne}),ei=()=>ze({isOpen:!1,type:null,data:{}}),gs=te=>{K({...te,type:"life"})},bn=te=>{K({...te,type:"important"})},Jc={lifeGoals:u,importantGoals:d,objectives:a,addLifeGoal:Vi,updateLifeGoal:Js,deleteLifeGoal:Ea,addImportantGoal:Aa,updateImportantGoal:_a,deleteImportantGoal:Yn,selectedObjectiveId:Be,selectedObjective:ms,setSelectedObjectiveId:it,onUpdateObjective:Qs,deleteObjective:io,years:Ke,addNextYear:vi,currentYear:me,setCurrentYear:we,selectedMonth:Se,setSelectedMonth:Ie,bigObjectives:sr,smallObjectivesByParent:en,onSelectObjective:it,onAddBigObjective:()=>ar("addBig",{year:me}),onAddSmallObjective:te=>ar("addSmall",{year:me,parentObjectiveId:te}),onEditObjective:te=>ar("edit",te),revertObjectiveCompletion:Pt},Zc={about:F,lifeGoals:u,importantGoals:d,achievements:x,skills:g,likes:L,books:E,movies:B,music:N,intakeEntries:$,exerciseEntries:xe,dailyCalorieGoal:pe,objectives:a,smallObjectivesByParent:en,diaryEntries:ae,theses:C},ti={dashboard:{title:"Dashboard",icon:y.jsx(hNe,{}),themeColor:"slate",component:y.jsx(GNe,{data:Zc})},diary:{title:"Diary",icon:y.jsx(ww,{}),themeColor:"violet",component:y.jsx(ZNe,{entries:ae,addEntry:mn,updateEntry:mn,deleteEntry:yi})},lifeGoals:{title:"Life Goals",icon:y.jsx(hy,{}),themeColor:"blue",component:y.jsx(uDe,{goals:u,onAdd:Vi,onUpdate:Js,onDelete:Ea,onEdit:gs,onRevert:X})},importantGoals:{title:"Important Goals",icon:y.jsx(bw,{}),themeColor:"red",component:y.jsx(fDe,{goals:d,onAdd:Aa,onUpdate:_a,onDelete:Yn,onEdit:bn,onRevert:X})},yearlyObjectives:{title:"Yearly Objectives",icon:y.jsx(Vc,{}),themeColor:"blue",component:y.jsx(dDe,{...Jc})},about:{title:"About Me",icon:y.jsx(JG,{}),themeColor:"slate",component:y.jsx(vDe,{about:F,onUpdate:We})},skills:{title:"My Skills",icon:y.jsx(uy,{}),themeColor:"violet",component:y.jsx(K6,{items:g,onAdd:vn,onUpdate:Br,onDelete:Wt,sectionIcons:pNe,config:{name:"Skill",section:"Category",colorHue:120,hasTags:!0,hasExpertise:!0},theme:"violet"})},likes:{title:"Hobbies",icon:y.jsx(BN,{}),themeColor:"pink",component:y.jsx(K6,{items:L,onAdd:so,onUpdate:fs,onDelete:ul,sectionIcons:{},config:{name:"Hobby",section:"Category",colorHue:200,hasTags:!0,hasExpertise:!0,hideSection:!0},theme:"pink"})},achievements:{title:"My Achievements",icon:y.jsx(Gs,{}),themeColor:"emerald",component:y.jsx(BNe,{achievements:x,onAdd:Qr,onUpdate:Cn,onDelete:Zs})},library:{title:"My Library",icon:y.jsx(Ef,{}),themeColor:"sky",component:y.jsx(TDe,{books:E,onAdd:Jt,onUpdate:It,onDelete:Ut,onEdit:te=>Dt(te,"book"),theme:"sky"})},thesis:{title:"My Theses",icon:y.jsx(VN,{}),themeColor:"teal",component:y.jsx(EDe,{theses:C,onAdd:ir,onUpdate:Et,onDelete:xr,onEdit:te=>Dt(te,"thesis"),theme:"teal"})},movies:{title:"My Movies",icon:y.jsx(zC,{}),themeColor:"slate",component:y.jsx(W6,{items:B,onAdd:mi,onUpdate:gi,onDelete:fl,config:{type:"Movie",primaryField:"Director",mediaIcon:y.jsx(zC,{}),colorHue:300,hasLength:!0},onEdit:te=>Dt(te,"movie"),theme:"slate"})},music:{title:"My Music",icon:y.jsx(wg,{}),themeColor:"violet",component:y.jsx(W6,{items:N,onAdd:ds,onUpdate:hs,onDelete:ps,config:{type:"Album/Song",primaryField:"Artist",mediaIcon:y.jsx(wg,{}),colorHue:250,hidePlanned:!0},onEdit:te=>Dt(te,"music"),theme:"violet"})},calories:{title:"Health Tracker",icon:y.jsx(jf,{}),themeColor:"sky",component:y.jsx(ONe,{intakeEntries:$,exerciseEntries:xe,onAddIntake:Bi,onUpdateIntake:Jr,onDeleteIntake:ka,onAddExercise:Zr,onUpdateExercise:wr,onDeleteExercise:Zt,dailyGoal:pe,setDailyGoal:ve})}},zi={teal:"text-teal-600 dark:text-teal-400",sky:"text-sky-600 dark:text-sky-400",slate:"text-slate-600 dark:text-slate-400",violet:"text-violet-600 dark:text-violet-400",pink:"text-pink-600 dark:text-pink-400",emerald:"text-emerald-600 dark:text-emerald-400",blue:"text-blue-600 dark:text-blue-400",red:"text-red-600 dark:text-red-400",default:"text-neutral-800 dark:text-neutral-100"},eu=ti[bt]?.themeColor||"default",tu=zi[eu]||zi.default;return y.jsxs("div",{className:"bg-background text-content min-h-screen font-sans antialiased transition-colors",children:[y.jsxs("div",{className:"relative z-10",children:[y.jsx("header",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-4 pb-2",children:y.jsx("h1",{style:{fontFamily:"'Caveat', cursive"},className:`text-5xl font-bold tracking-tight text-center sm:text-left ${tu}`,children:ti[bt]?.title||"Dashboard"})}),y.jsx("main",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8 pt-0",children:y.jsx(qt,{mode:"wait",children:y.jsx(_e.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.2},children:ti[bt]?.component},bt)})})]}),y.jsx(qt,{children:kt&&y.jsxs(y.Fragment,{children:[y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>Oe(!1),className:"fixed inset-0 bg-black/50 z-20"}),y.jsx(iDe,{activeView:bt,setActiveView:st,panelConfig:ti,theme:i,toggleTheme:us,closeMenu:()=>Oe(!1)})]})}),y.jsx(_e.div,{initial:!1,animate:kt?"open":"closed",className:"fixed top-5 left-5 z-40",children:y.jsx(rDe,{toggle:()=>Oe(!kt)})}),y.jsx("div",{className:"relative z-50",children:y.jsxs(qt,{children:[fe.isOpen&&y.jsx(yDe,{isOpen:fe.isOpen,type:fe.type,initialData:fe.data,onClose:ei,onSave:fe.type==="edit"?Qs:Xs}),Kt.item&&y.jsx(kDe,{isOpen:!!Kt.item,onClose:pn,item:Kt.item,type:Kt.type,onSave:Kt.type==="book"?It:Kt.type==="thesis"?Et:Kt.type==="movie"?gi:hs}),G&&y.jsx(oDe,{editingGoal:G,setEditingGoal:K,onSave:G.type==="life"?Js:_a,onClose:()=>K(null)})]})})]})}const nDe=()=>y.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-neutral-900 text-white",children:[y.jsx(ZMe,{className:"w-12 h-12 mb-4"}),y.jsx("h1",{className:"text-2xl font-bold text-neutral-100",children:"Loading Dashboard"}),y.jsx("p",{className:"text-neutral-400",children:"Please wait a moment..."})]}),c_=t=>y.jsx(_e.path,{fill:"transparent",strokeWidth:"3",stroke:"hsl(0, 0%, 18%)",strokeLinecap:"round",...t});function rDe({toggle:t}){return y.jsx("button",{onClick:t,className:"fixed top-5 left-5 w-12 h-12 rounded-full z-50 bg-white/70 dark:bg-neutral-800/70 backdrop-blur-sm flex items-center justify-center border border-neutral-200 dark:border-neutral-700",children:y.jsxs("svg",{width:"23",height:"23",viewBox:"0 0 23 23",children:[y.jsx(c_,{variants:{closed:{d:"M 3 5.5 L 20 5.5"},open:{d:"M 5 18 L 18 5"}},className:"stroke-neutral-800 dark:stroke-neutral-200"}),y.jsx(c_,{d:"M 3 11.5 L 20 11.5",variants:{closed:{opacity:1},open:{opacity:0}},transition:{duration:.1},className:"stroke-neutral-800 dark:stroke-neutral-200"}),y.jsx(c_,{variants:{closed:{d:"M 3 17.5 L 20 17.5"},open:{d:"M 5 5 L 18 18"}},className:"stroke-neutral-800 dark:stroke-neutral-200"})]})})}function iDe({activeView:t,setActiveView:e,panelConfig:n,theme:r,toggleTheme:i,closeMenu:s}){return y.jsxs(_e.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 left-0 h-full w-64 bg-white/80 dark:bg-neutral-900/70 backdrop-blur-lg border-r border-white/30 dark:border-white/10 flex flex-col justify-between p-4 z-30",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold mt-20 mb-6 px-4",children:"Menu"}),y.jsx("nav",{className:"flex flex-col gap-2",children:Object.keys(n).map(a=>{const{title:l,icon:u,themeColor:f}=n[a],d=t===a,p=`bg-${f}-500 text-white`,g=`text-neutral-600 dark:text-neutral-300 ${xNe[f]} ${bNe[f]}`;return y.jsxs("button",{onClick:()=>{e(a),s()},className:`flex items-center gap-4 px-4 py-2.5 rounded-lg text-left transition-colors ${d?p:g}`,children:[Pi.cloneElement(u,{className:"w-6 h-6"}),y.jsx("span",{className:"font-semibold",children:l})]},a)})})]}),y.jsx("div",{className:"px-4 pb-4",children:y.jsx(sDe,{theme:r,toggleTheme:i})})]})}const sDe=({theme:t,toggleTheme:e})=>y.jsx("div",{className:`flex items-center w-14 h-8 rounded-full p-1 cursor-pointer ${t==="light"?"bg-neutral-200 justify-start":"bg-blue-500 justify-end"}`,onClick:e,children:y.jsx(_e.div,{layout:!0,transition:{type:"spring",stiffness:700,damping:30},className:"w-6 h-6 rounded-full bg-white flex items-center justify-center",children:t==="dark"?y.jsx(qv,{className:"w-4 h-4 text-blue-500"}):y.jsx(BC,{className:"w-4 h-4 text-yellow-500"})})});function aDe({onClose:t,subTask:e,onSave:n}){const[r,i]=_.useState(e);_.useEffect(()=>{i(e)},[e]);const s=a=>{const{name:l,value:u}=a.target;i(f=>({...f,[l]:u}))};return y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4",onClick:t,children:y.jsxs(_e.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-xl w-full max-w-sm",onClick:a=>a.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:"text-xl font-bold mb-4",children:"Edit Sub-task"}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",name:"text",value:r.text,onChange:s,className:"w-full p-2 bg-neutral-100 dark:bg-neutral-700 rounded-md"}),y.jsxs("div",{className:"flex items-center gap-4 bg-neutral-100 dark:bg-neutral-700 p-2 rounded-lg",children:[y.jsx(Tw,{value:r.icon||"Default",onChange:a=>i(l=>({...l,icon:a})),iconMap:qh}),y.jsx("div",{className:"flex-grow flex items-center justify-around",children:wc.map(a=>y.jsx("button",{onClick:()=>i(l=>({...l,color:a.textClass})),className:`w-6 h-6 rounded-full transition-transform ${r.color===a.textClass?"scale-125 ring-2 ring-offset-2 ring-blue-500":""}`,children:y.jsx("div",{className:`w-full h-full rounded-full ${a.bgClass}`})},a.name))})]})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-neutral-50 dark:bg-neutral-800/50 flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-700 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:()=>n(r),className:"px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold",children:"Save"})]})]})})}function oDe({editingGoal:t,setEditingGoal:e,onSave:n,onClose:r}){const[i,s]=_.useState(null),[a,l]=_.useState(""),u=x=>x?(x.toDate?x.toDate():new Date(x)).toISOString().split("T")[0]:"",f=x=>{const S=new Date(x.target.value);e(E=>({...E,createdAt:S}))},d=()=>{if(!a.trim())return;const x={id:crypto.randomUUID(),text:a.trim(),completed:!1,icon:"Default",color:wc[0].textClass},S=[...t.subTasks||[],x];e(E=>({...E,subTasks:S})),l("")},p=x=>{if(window.confirm("Delete this sub-task?")){const S=(t.subTasks||[]).filter(E=>E.id!==x);e(E=>({...E,subTasks:S}))}},g=x=>{const S=(t.subTasks||[]).map(E=>E.id===x.id?x:E);e(E=>({...E,subTasks:S})),s(null)},v=()=>{if(t&&t.title.trim()){const{isNowIncomplete:x,...S}=t;x&&(S.status="in-progress",S.completedAt=null),n(t.id,S),r()}};return y.jsxs(y.Fragment,{children:[y.jsx(_e.div,{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:r,children:y.jsxs(_e.div,{initial:{scale:.9},animate:{scale:1},className:"bg-white dark:bg-neutral-800 p-6 rounded-xl w-full max-w-md",onClick:x=>x.stopPropagation(),children:[y.jsxs("h3",{className:"font-bold text-lg mb-4",children:["Edit ",t.type==="life"?"Life":"Important"," Goal"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",placeholder:"Goal Title",value:t.title,onChange:x=>e(S=>({...S,title:x.target.value})),className:"w-full bg-neutral-100 dark:bg-neutral-700 p-2 rounded-lg"}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-semibold text-neutral-500",children:"Date Created"}),y.jsx("input",{type:"date",value:u(t.createdAt),onChange:f,className:"w-full bg-neutral-100 dark:bg-neutral-700 p-2 rounded-lg mt-1"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-semibold text-neutral-500",children:"Sub-tasks"}),y.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:(t.subTasks||[]).map(x=>y.jsxs("div",{className:"flex items-center gap-2 bg-neutral-100 dark:bg-neutral-700/50 p-2 rounded-lg group",children:[y.jsx("span",{className:"flex-grow text-sm",children:x.text}),y.jsx("button",{onClick:()=>s(x),className:"p-1 opacity-50 group-hover:opacity-100",children:y.jsx(Lr,{className:"w-4 h-4 text-neutral-500"})}),y.jsx("button",{onClick:()=>p(x.id),className:"p-1 opacity-50 group-hover:opacity-100",children:y.jsx(ui,{className:"w-4 h-4 text-red-500"})})]},x.id))}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",value:a,onChange:x=>l(x.target.value),onKeyDown:x=>x.key==="Enter"&&d(),placeholder:"Add a new sub-task...",className:"w-full bg-neutral-100 dark:bg-neutral-700 px-3 py-2 rounded-lg text-sm"}),y.jsx("button",{onClick:d,className:"px-3 py-2 bg-blue-600 text-white font-semibold rounded-lg text-sm",children:"Add"})]})]}),t.status==="completed"&&y.jsxs("div",{onClick:()=>e({...t,isNowIncomplete:!t.isNowIncomplete}),className:"flex items-center gap-3 cursor-pointer text-sm text-neutral-600 dark:text-neutral-300",children:[t.isNowIncomplete?y.jsx(Tf,{className:`w-6 h-6 ${t.type==="life"?"text-blue-500":"text-red-500"}`}):y.jsx(fy,{className:"w-6 h-6 text-neutral-400"}),y.jsx("span",{children:"Mark as in-progress again"})]})]}),y.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[y.jsx("button",{onClick:r,className:"px-3 py-1 rounded-lg bg-neutral-200 dark:bg-neutral-600",children:"Cancel"}),y.jsx("button",{onClick:v,className:"px-3 py-1 rounded-lg bg-blue-600 text-white",children:"Save Changes"})]})]})}),y.jsx(qt,{children:i&&y.jsx(aDe,{isOpen:!!i,onClose:()=>s(null),subTask:i,onSave:g})})]})}function sY({goals:t,isImportant:e=!1,onEdit:n,onDelete:r,onRevert:i}){return y.jsxs("div",{children:[y.jsxs("h3",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[y.jsx(Tf,{className:"w-6 h-6 text-green-500"}),"Completed Goals"]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.jsx(qt,{children:t.map(s=>y.jsxs(_e.div,{layoutId:s.id,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`group relative p-3 rounded-lg flex items-center gap-3 ${e?"bg-red-100 dark:bg-red-950/40":"bg-green-50 dark:bg-green-900/20"}`,children:[y.jsx("button",{onClick:()=>i(s),children:e?y.jsx(Vc,{className:"w-6 h-6 text-red-500 shrink-0"}):y.jsx(Tf,{className:"w-6 h-6 text-green-500 shrink-0"})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-sm truncate",children:s.title}),y.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:`Completed in ${Math.ceil(Math.abs((s.completedAt?.toDate()||new Date)-(s.createdAt?.toDate()||new Date))/(1e3*60*60*24))} days`})]}),y.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>n(s),children:y.jsx(Lr,{className:"w-4 h-4 text-neutral-500"})}),y.jsx("button",{onClick:()=>r(s.id),children:y.jsx(ui,{className:"w-4 h-4 text-neutral-500"})})]})]},s.id))})})]})}function aY({isOpen:t,onClose:e,onSave:n,themeColor:r}){const[i,s]=_.useState(""),[a,l]=_.useState([]),[u,f]=_.useState(""),[d,p]=_.useState("Default"),[g,v]=_.useState(wc[0].textClass);_.useEffect(()=>{t&&(s(""),l([]),f(""),p("Default"),v(wc[0].textClass))},[t]);const x=()=>{if(!u.trim())return;const j={id:crypto.randomUUID(),text:u,completed:!1,icon:d,color:g};l([...a,j]),f("")},S=j=>{l(a.filter(B=>B.id!==j))},E=()=>{if(!i.trim()){alert("Please enter a goal title.");return}const j={title:i,subTasks:a,status:"in-progress",orderIndex:Date.now(),createdAt:new Date};n(j),e()},C={blue:{title:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50/80 dark:bg-blue-950/60 backdrop-blur-xl",focusRing:"focus:ring-blue-400"},red:{title:"text-red-600 dark:text-red-400",bg:"bg-red-50/80 dark:bg-red-950/60 backdrop-blur-xl",focusRing:"focus:ring-red-400"}}[r],D=`w-full bg-black/5 dark:bg-white/5 rounded-md backdrop-blur-sm focus:ring-2 ${C.focusRing} focus:outline-none`,L="bg-black/5 dark:bg-white/5 rounded-lg";return y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:e,children:y.jsxs(_e.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:`rounded-2xl shadow-xl w-full max-w-lg ${C.bg}`,onClick:j=>j.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:`text-xl font-bold mb-4 ${C.title}`,children:"Create New Goal"}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",value:i,onChange:j=>s(j.target.value),placeholder:"New Goal Title",className:`${D} p-2`,autoFocus:!0}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-semibold text-neutral-500",children:"Sub-tasks"}),y.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:a.map(j=>y.jsxs("div",{className:`flex items-center gap-2 p-2 group ${L}`,children:[y.jsx("span",{className:"flex-grow text-sm",children:j.text}),y.jsx("button",{onClick:()=>S(j.id),className:"p-1 opacity-50 group-hover:opacity-100",children:y.jsx(ui,{className:"w-4 h-4 text-red-500"})})]},j.id))}),y.jsxs("div",{className:`p-2 rounded-lg ${L}`,children:[y.jsx("input",{type:"text",value:u,onChange:j=>f(j.target.value),onKeyDown:j=>j.key==="Enter"&&x(),placeholder:"Add a new sub-task...",className:"w-full bg-transparent px-1 py-1 text-sm focus:outline-none"}),y.jsxs("div",{className:"flex items-center gap-4 pt-2 mt-2 border-t border-black/10 dark:border-white/10",children:[y.jsx(Tw,{value:d,onChange:p,iconMap:qh}),y.jsx("div",{className:"flex-grow flex items-center justify-around",children:wc.map(j=>y.jsx("button",{onClick:()=>v(j.textClass),className:`w-6 h-6 rounded-full transition-transform ${g===j.textClass?"scale-125 ring-2 ring-offset-2 ring-blue-500":""}`,children:y.jsx("div",{className:`w-full h-full rounded-full ${j.bgClass}`})},j.name))}),y.jsx("button",{onClick:x,className:"px-3 py-1 bg-neutral-200/50 dark:bg-neutral-600/50 font-semibold rounded-md text-sm",children:"Add"})]})]})]})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:E,className:`px-4 py-2 rounded-lg bg-${r}-600 text-white font-semibold`,children:"Create Goal"})]})]})})}function oY({title:t,icon:e,goals:n,onUpdate:r,onDelete:i,onEdit:s,themeColor:a,onAddClick:l}){const u=a==="blue"?lDe:cDe;return y.jsxs("div",{className:"mb-12 p-6 rounded-2xl",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[e,y.jsx("h2",{className:`text-3xl font-extrabold tracking-tight text-${a}-600 dark:text-${a}-400`,children:t})]}),y.jsxs("button",{onClick:l,className:`px-4 py-2 bg-${a}-600 text-white font-semibold rounded-lg flex items-center gap-2`,children:[y.jsx(as,{className:"w-5 h-5"})," Add"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.jsx(qt,{children:n.map(f=>y.jsx(u,{goal:f,onUpdate:r,onDelete:i,onEdit:s},f.id))})})]})}function lDe({goal:t,onUpdate:e,onDelete:n,onEdit:r}){const i=t.subTasks||[],s=i.filter(f=>f.completed).length,a=i.length>0?Math.round(s/i.length*100):t.status==="completed"?100:0,l=t.color||"bg-white dark:bg-neutral-800/50",u=f=>{const d=i.map(p=>p.id===f?{...p,completed:!p.completed}:p);d.filter(p=>p.completed).length===d.length&&d.length>0?e(t.id,{subTasks:d,status:"completed",completedAt:Wd()}):e(t.id,{subTasks:d,status:"in-progress",completedAt:null})};return y.jsxs(_e.div,{layoutId:t.id,transition:{type:"spring",stiffness:400,damping:30},className:`group relative p-4 rounded-xl flex flex-col gap-3 ${l}`,children:[y.jsxs("div",{className:"flex justify-between items-start gap-3",children:[y.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[y.jsx("div",{className:"flex-shrink-0",children:y.jsx(FN,{progress:a,color:Fx(a)})}),y.jsx("p",{className:"font-bold pt-1 break-words",children:t.title})]}),y.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[nY(t.createdAt),y.jsx($N,{onEdit:()=>r(t),onDelete:()=>n(t.id),onChangeColor:f=>e(t.id,{color:f})})]})]}),y.jsx("div",{className:"space-y-1 flex-grow pl-16",children:i.map(f=>{const d=qh[f.icon]||fy,p=f.completed?"text-green-500":f.color||"text-neutral-500";return y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>u(f.id),children:y.jsx(d,{className:`w-5 h-5 ${p}`})}),y.jsx("span",{className:`text-sm ${f.completed?"line-through text-neutral-400":f.color}`,children:f.text})]},f.id)})}),y.jsxs("button",{onClick:()=>r(t),className:"mt-2 text-sm flex items-center gap-2 text-blue-500 hover:text-blue-600 font-medium pl-16",children:[y.jsx(as,{className:"w-4 h-4"})," Add sub-task"]})]})}function cDe({goal:t,onUpdate:e,onDelete:n,onEdit:r}){const i=d=>`hsl(${d/100*30}, 80%, 50%)`,s=t.subTasks||[],a=s.filter(d=>d.completed).length,l=s.length>0?Math.round(a/s.length*100):t.status==="completed"?100:0,u=t.color||"bg-white dark:bg-neutral-800/50",f=d=>{const p=s.map(g=>g.id===d?{...g,completed:!g.completed}:g);p.filter(g=>g.completed).length===p.length&&p.length>0?e(t.id,{subTasks:p,status:"completed",completedAt:Wd()}):e(t.id,{subTasks:p,status:"in-progress",completedAt:null})};return y.jsxs(_e.div,{layoutId:t.id,transition:{type:"spring",stiffness:400,damping:30},className:`group relative p-4 rounded-xl flex flex-col gap-3 ${u}`,children:[y.jsxs("div",{className:"flex justify-between items-start gap-3",children:[y.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[y.jsx("div",{className:"flex-shrink-0",children:y.jsx(FN,{progress:l,color:i(l)})}),y.jsx("p",{className:"font-bold pt-1 break-words",children:t.title})]}),y.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[nY(t.createdAt),y.jsx($N,{onEdit:()=>r(t),onDelete:()=>n(t.id),onChangeColor:d=>e(t.id,{color:d})})]})]}),y.jsx("div",{className:"space-y-1 flex-grow pl-16",children:s.map(d=>{const p=qh[d.icon]||fy,g=d.completed?"text-green-500":d.color||"text-neutral-500";return y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>f(d.id),children:y.jsx(p,{className:`w-5 h-5 ${g}`})}),y.jsx("span",{className:`text-sm ${d.completed?"line-through text-neutral-400":d.color}`,children:d.text})]},d.id)})}),y.jsxs("button",{onClick:()=>r(t),className:"mt-2 text-sm flex items-center gap-2 text-blue-500 hover:text-blue-600 font-medium pl-16",children:[y.jsx(as,{className:"w-4 h-4"})," Add sub-task"]})]})}function uDe({goals:t,onAdd:e,onUpdate:n,onDelete:r,onEdit:i,onRevert:s}){const[a,l]=_.useState(!1),u=t.filter(d=>d.status!=="completed"),f=t.filter(d=>d.status==="completed");return y.jsxs("div",{className:"space-y-8",children:[y.jsx(oY,{title:"Life Goals",icon:y.jsx(hy,{className:"w-8 h-8 text-blue-500"}),goals:u,onUpdate:n,onDelete:r,onEdit:i,themeColor:"blue",onAddClick:()=>l(!0)}),f.length>0&&y.jsx(sY,{goals:f,onEdit:i,onDelete:r,onRevert:d=>s(d,n)}),y.jsx(qt,{children:a&&y.jsx(aY,{isOpen:a,onClose:()=>l(!1),onSave:e,themeColor:"blue"})})]})}function fDe({goals:t,onAdd:e,onUpdate:n,onDelete:r,onEdit:i,onRevert:s}){const[a,l]=_.useState(!1),u=t.filter(d=>d.status!=="completed"),f=t.filter(d=>d.status==="completed");return y.jsxs("div",{className:"space-y-8",children:[y.jsx(oY,{title:"Important Goals",icon:y.jsx(bw,{className:"w-8 h-8 text-red-500"}),goals:u,onUpdate:n,onDelete:r,onEdit:i,themeColor:"red",onAddClick:()=>l(!0)}),f.length>0&&y.jsx(sY,{goals:f,isImportant:!0,onEdit:i,onDelete:r,onRevert:d=>s(d,n)}),y.jsx(qt,{children:a&&y.jsx(aY,{isOpen:a,onClose:()=>l(!1),onSave:e,themeColor:"red"})})]})}function dDe(t){return y.jsx(qt,{mode:"wait",children:t.selectedObjectiveId?y.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:y.jsx(gDe,{objective:t.selectedObjective,onBack:()=>t.setSelectedObjectiveId(null),onUpdate:t.onUpdateObjective,onDelete:t.deleteObjective})},"detail"):y.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:y.jsx(hDe,{...t})},"timeline")})}function hDe({years:t,addNextYear:e,currentYear:n,setCurrentYear:r,selectedMonth:i,setSelectedMonth:s,bigObjectives:a,smallObjectivesByParent:l,onSelectObjective:u,onAddBigObjective:f,onAddSmallObjective:d,onUpdateObjective:p,onDeleteObjective:g,onEditObjective:v,revertObjectiveCompletion:x}){const S=_.useRef(null);_.useEffect(()=>{const A=S.current;A&&A.querySelector(`[data-year="${n}"]`)?.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[n]);const E=_.useMemo(()=>a.filter(A=>A.year===n&&(!i||A.month===i)),[n,i,a]);return y.jsxs("div",{children:[y.jsxs("div",{className:"sticky top-0 bg-background/80 backdrop-blur-sm py-4 z-10 -mx-4 px-4 space-y-3",children:[y.jsxs("div",{ref:S,className:"flex items-center space-x-2 overflow-x-auto snap-x snap-mandatory no-scrollbar pb-2",children:[t.map(A=>y.jsx("button",{"data-year":A,onClick:()=>r(A),className:`snap-center shrink-0 px-4 py-2 text-lg font-semibold rounded-full ${n===A?"bg-blue-600 text-white shadow-lg":"bg-neutral-200 dark:bg-neutral-800"}`,children:A},A)),y.jsx("button",{onClick:e,className:"snap-start shrink-0 w-10 h-10 flex items-center justify-center bg-neutral-200 dark:bg-neutral-800 rounded-full",children:y.jsx(as,{className:"w-6 h-6"})})]}),y.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[y.jsx("button",{onClick:()=>s(null),className:`shrink-0 px-3 py-1 text-sm rounded-full font-semibold ${i===null?"bg-blue-200 text-blue-800":"bg-neutral-200 dark:bg-neutral-800"}`,children:"Year"}),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((A,C)=>y.jsx("button",{onClick:()=>s(C+1),className:`shrink-0 px-3 py-1 text-sm rounded-full ${i===C+1?"bg-blue-200 text-blue-800":"bg-neutral-200 dark:bg-neutral-800"}`,children:A},A))]})]}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-3xl font-bold",children:i?`${new Date(0,i-1).toLocaleString("default",{month:"long"})} ${n}`:`${n} Overview`}),y.jsxs(_e.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md",children:[y.jsx(as,{className:"w-5 h-5"})," New"]})]}),E.length>0?y.jsx("div",{className:"columns-1 md:columns-2 xl:columns-3 gap-6 space-y-6",children:y.jsx(qt,{children:E.map(A=>y.jsx(pDe,{objective:A,selectedMonth:i,smallObjectives:l[A.id]||[],onSelect:()=>u(A.id),onAddSmallObjective:d,onUpdateObjective:p,onDeleteObjective:g,onEditObjective:v,onRevertCompletion:x},A.id))})}):y.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-neutral-300 dark:border-neutral-700 rounded-2xl",children:[y.jsx(Qc,{className:"w-12 h-12 mx-auto text-neutral-400"}),y.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"No objectives for this period."})]})]})]})}function pDe({objective:t,smallObjectives:e,onSelect:n,onAddSmallObjective:r,onUpdateObjective:i,onDeleteObjective:s,onEditObjective:a,selectedMonth:l,onRevertCompletion:u}){const f=_.useMemo(()=>{if(e.length===0)return t.progress||0;const x=e.filter(S=>S.status==="completed").length;return Math.round(x/e.length*100)},[e,t.progress]);_.useEffect(()=>{f===100&&t.status!=="completed"&&i(t.id,{status:"completed",completedAt:Wd()})},[f,t.status,t.id,i]);const d=t.status==="completed",p=t.color||"bg-white dark:bg-neutral-800/50",g=()=>{const x=new Date(t.year,(t.month||1)-1,t.day||1);if(l){const S=String(t.day||"").padStart(2,"0"),E=x.toLocaleDateString("en-US",{weekday:"short"}).toUpperCase();return`${S}/${E}`}else{const S=x.toLocaleDateString("en-US",{month:"short"}).toUpperCase(),E=String(t.day||"").padStart(2,"0");return`${S}/${E}`}},v=()=>{const x=new Date(t.year,(t.month||1)-1,t.day||1),S=new Date;S.setHours(0,0,0,0),x.setHours(0,0,0,0);const E=S-x,A=Math.round(Math.abs(E)/(1e3*60*60*24));if(E<0)return y.jsxs("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full bg-sky-100 text-sky-800 dark:bg-sky-900 dark:text-sky-300",children:["Starts in ",A," days"]});let C="bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";return A>30?C="bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":A>7&&(C="bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300"),y.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${C}`,children:[A," days ago"]})};return y.jsx(_e.div,{layout:!0,transition:{type:"spring",stiffness:400,damping:30},style:{breakInside:"avoid",borderColor:d?"transparent":Fx(f)},className:`rounded-2xl shadow-sm w-full ${d?"p-3":`p-4 border-l-4 ${p}`}`,children:y.jsx(qt,{initial:!1,mode:"wait",children:d?y.jsxs(_e.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-3",children:[y.jsx("button",{onClick:()=>u(t.id,e),children:y.jsx(Tf,{className:"w-8 h-8 text-green-500 shrink-0"})}),y.jsxs("div",{className:"flex-grow",children:[y.jsx("p",{className:"font-semibold text-neutral-800 dark:text-neutral-200 opacity-60 truncate",children:t.title}),y.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 font-semibold",children:`Completed in ${Math.ceil(Math.abs((t.completedAt?.toDate()||new Date)-(t.createdAt?.toDate()||new Date))/(1e3*60*60*24))} days`})]}),y.jsx("p",{className:"text-xs font-semibold text-neutral-400 dark:text-neutral-500 shrink-0",children:g()})]},"completed"):y.jsxs(_e.div,{exit:{opacity:0},className:"flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(FN,{progress:f,color:Fx(f)}),y.jsx("h3",{onClick:n,className:"text-lg font-bold cursor-pointer hover:text-blue-500",children:t.title})]}),y.jsxs("div",{className:"flex flex-col items-end gap-2",children:[v(),y.jsx($N,{onEdit:()=>a(t),onDelete:()=>s(t.id),onChangeColor:x=>i(t.id,{color:x})})]})]}),y.jsx("div",{className:"space-y-1 flex-grow pl-14",children:e.map(x=>y.jsx(mDe,{objective:x,onUpdateObjective:i,onEdit:()=>a(x)},x.id))}),y.jsxs("button",{onClick:()=>r(t.id),className:"mt-3 text-sm flex items-center gap-2 text-blue-500 hover:text-blue-600 font-medium pl-14",children:[y.jsx(as,{className:"w-4 h-4"})," Add sub-task"]})]},"active")})})}function mDe({objective:t,onUpdateObjective:e,onEdit:n}){const r=t.status==="completed",i=()=>e(t.id,{status:r?"in-progress":"completed"}),s=qh[t.icon]||fy,a=t.color||"text-neutral-800 dark:text-neutral-200",l=r?"text-green-500":t.color||"text-neutral-500";return y.jsxs("div",{className:"flex items-center gap-3 group p-1.5 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800/50",children:[y.jsx("button",{onClick:i,className:"flex-shrink-0",children:y.jsx(s,{className:`w-6 h-6 transition-colors ${l}`})}),y.jsx("span",{onDoubleClick:n,className:`flex-grow transition-colors ${a} ${r?"line-through text-neutral-400 dark:text-neutral-500":""}`,children:t.title}),y.jsx("button",{onClick:n,className:"opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:y.jsx(Lr,{className:"w-4 h-4 text-neutral-500"})})]})}function gDe({objective:t,onBack:e,onUpdate:n,onDelete:r}){return t?y.jsxs("div",{className:"max-w-3xl mx-auto",children:[y.jsxs("button",{onClick:e,className:"flex items-center gap-2 mb-6 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200",children:[y.jsx(Lc,{className:"w-5 h-5"})," Back to Timeline"]}),y.jsxs("div",{className:"bg-white dark:bg-neutral-800/50 rounded-2xl border border-neutral-200 dark:border-neutral-700 shadow-sm p-8",children:[y.jsx("input",{type:"text",defaultValue:t.title,onBlur:i=>n(t.id,{title:i.target.value}),className:"text-4xl font-bold bg-transparent w-full focus:outline-none mb-4"}),y.jsx("textarea",{defaultValue:t.description,onBlur:i=>n(t.id,{description:i.target.value}),placeholder:"Add a description...",className:"w-full h-32 bg-transparent text-neutral-600 dark:text-neutral-300 focus:outline-none resize-none"}),y.jsxs("div",{className:"mt-8 pt-6 border-t border-neutral-200 dark:border-neutral-700",children:[y.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Comments"}),y.jsxs("div",{className:"text-center text-neutral-500",children:[y.jsx(JMe,{className:"w-8 h-8 mx-auto mb-2"}),y.jsx("p",{children:"Comments feature coming soon!"})]})]}),y.jsx("div",{className:"mt-8 pt-6 border-t border-neutral-200 dark:border-neutral-700 flex justify-end",children:y.jsxs("button",{onClick:()=>{r(t.id),e()},className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white font-semibold rounded-lg shadow-md hover:bg-red-700 transition-all",children:[y.jsx(ui,{className:"w-5 h-5"})," Delete Objective"]})})]})]}):null}function yDe({isOpen:t,type:e,initialData:n,onClose:r,onSave:i}){const[s,a]=_.useState(""),[l,u]=_.useState(String(n.year||new Date().getFullYear())),[f,d]=_.useState(String(n.month||new Date().getMonth()+1)),[p,g]=_.useState(String(n.day||new Date().getDate())),[v,x]=_.useState(n.icon||"Default"),[S,E]=_.useState(n.color||wc[0].textClass),[A,C]=_.useState(!1);_.useEffect(()=>{t&&(a(n.title||""),u(String(n.year||new Date().getFullYear())),d(String(n.month||new Date().getMonth()+1)),g(String(n.day||new Date().getDate())),x(n.icon||"Default"),E(n.color||wc[0].textClass))},[t,n]);const D=async()=>{if(!s.trim())return;C(!0);const P={...n,title:s,year:Number(l),month:Number(f),day:Number(p),icon:v,color:S,type:e==="addBig"?"big":"small",status:n.status||"not-started",progress:n.progress||0,orderIndex:n.orderIndex||Date.now()};e==="edit"?await i(n.id,{title:s,year:Number(l),month:Number(f),day:Number(p),icon:v,color:S}):await i(P),C(!1),r()},L=e==="addBig"?"New Objective":e==="addSmall"?"New Task":"Edit Task",j=e==="edit"&&n.type==="small",M={blue:{title:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50/80 dark:bg-blue-950/60 backdrop-blur-xl",button:"bg-blue-600",focusRing:"focus:ring-blue-400"}}.blue,N=`w-full p-2 bg-black/5 dark:bg-white/5 rounded-md backdrop-blur-sm focus:ring-2 ${M.focusRing} focus:outline-none`;return y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:r,children:y.jsxs(_e.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:`rounded-2xl shadow-xl w-full max-w-md ${M.bg}`,onClick:P=>P.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:`text-xl font-bold mb-4 ${M.title}`,children:L}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",value:s,onChange:P=>a(P.target.value),placeholder:"e.g., Learn a new programming language",className:N,autoFocus:!0}),(e==="addBig"||e==="edit"&&n.type==="big")&&y.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[y.jsx("input",{type:"number",placeholder:"Year",value:l,onChange:P=>u(P.target.value),className:N}),y.jsx("select",{value:f,onChange:P=>d(P.target.value),className:N,children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((P,F)=>y.jsx("option",{value:F+1,children:P},P))}),y.jsx("input",{type:"number",placeholder:"Day",value:p,onChange:P=>g(P.target.value),className:N})]}),j&&y.jsxs("div",{className:"space-y-3 pt-2",children:[y.jsx("label",{className:"text-sm font-semibold text-neutral-500",children:"Customize Task"}),y.jsxs("div",{className:"flex items-center gap-4 bg-black/5 dark:bg-white/5 p-2 rounded-lg",children:[y.jsx(Tw,{value:v,onChange:x,iconMap:qh}),y.jsx("div",{className:"flex-grow flex items-center justify-around",children:wc.map(P=>y.jsx("button",{onClick:()=>E(P.textClass),className:`w-6 h-6 rounded-full transition-transform ${S===P.textClass?"scale-125 ring-2 ring-offset-2 ring-blue-500":""}`,children:y.jsx("div",{className:`w-full h-full rounded-full ${P.bgClass}`})},P.name))})]})]})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:r,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:D,disabled:A,className:`px-4 py-2 rounded-lg text-white font-semibold ${M.button}`,children:A?"Saving...":"Save"})]})]})})}function $N({onEdit:t,onDelete:e,onChangeColor:n}){const[r,i]=_.useState(!1),[s,a]=_.useState(!1),l=_.useRef(null);_.useEffect(()=>{const f=d=>{l.current&&!l.current.contains(d.target)&&(i(!1),a(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const u=f=>{n(f),i(!1),a(!1)};return y.jsxs("div",{className:"relative",ref:l,children:[y.jsx("button",{onClick:()=>i(!r),className:"p-1 rounded-full hover:bg-neutral-200 dark:hover:bg-neutral-700",children:y.jsx(QG,{className:"w-5 h-5"})}),y.jsx(qt,{children:r&&y.jsx(_e.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 mt-2 w-48 bg-white dark:bg-neutral-800 rounded-lg shadow-lg border border-neutral-200 dark:border-neutral-700 z-20",children:s?y.jsxs("div",{className:"p-2",children:[y.jsxs("button",{onClick:()=>a(!1),className:"flex items-center gap-2 text-sm mb-2 p-1",children:[y.jsx(Lc,{className:"w-4 h-4"})," Back"]}),y.jsx("div",{className:"grid grid-cols-4 gap-2",children:wNe.map(f=>y.jsx("button",{onClick:()=>u(f),className:`w-8 h-8 rounded-full ${f} border border-black/10`},f))})]}):y.jsxs("div",{children:[y.jsxs("button",{onClick:t,className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm hover:bg-neutral-100 dark:hover:bg-neutral-700",children:[y.jsx(Lr,{className:"w-4 h-4"})," Edit"]}),y.jsxs("button",{onClick:()=>a(!0),className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm hover:bg-neutral-100 dark:hover:bg-neutral-700",children:[y.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-sky-300 to-violet-300"})," Change Color"]}),y.jsxs("button",{onClick:e,className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-red-500 hover:bg-red-500 hover:text-white",children:[y.jsx(ui,{className:"w-4 h-4"})," Delete"]})]})})})]})}function vDe({about:t,onUpdate:e}){const[n,r]=_.useState({name:"",weight:"",height:"",mbti:"",university:"",major:"",motto:"",currentAim:"",weightHistory:[]}),[i,s]=_.useState(!1);_.useEffect(()=>{r(t?{name:t.name||"",weight:t.weight||"",height:t.height||"",mbti:t.mbti||"",university:t.university||"",major:t.major||"",motto:t.motto||"",currentAim:t.currentAim||"",weightHistory:Array.isArray(t.weightHistory)?t.weightHistory:[]}:{name:"",weight:"",height:"",mbti:"",university:"",major:"",motto:"",currentAim:"",weightHistory:[]})},[t]);const a=_.useCallback((f,d)=>{const p=parseFloat(f),g=parseFloat(d);if(p>0&&g>0){const v=g/100;return(p/(v*v)).toFixed(1)}return null},[]),l=_.useMemo(()=>a(n.weight,n.height),[n.weight,n.height,a]),u=(f,d)=>{e({[f]:d})};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 text-slate-700 dark:text-slate-300",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsx(bDe,{initials:ANe(n.name)}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[y.jsx(u_,{label:"WEIGHT (KG)",value:n.weight,onSave:f=>u("weight",f),icon:y.jsx(LN,{})}),y.jsx(u_,{label:"HEIGHT (CM)",value:n.height,onSave:f=>u("height",f),icon:y.jsx(tNe,{})})]}),y.jsx(u_,{label:"BMI",value:l||"N/A",isStatic:!0,icon:y.jsx(jf,{})}),y.jsx(xDe,{weightHistory:n.weightHistory,onEditClick:()=>s(!0)})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsx(Sd,{label:"NAME",value:n.name,onSave:f=>u("name",f),icon:y.jsx(JG,{})}),y.jsx(Sd,{label:"MBTI Personality",value:n.mbti,onSave:f=>u("mbti",f),icon:y.jsx(uy,{})}),y.jsx(Sd,{label:"UNIVERSITY",value:n.university,onSave:f=>u("university",f),icon:y.jsx(VN,{})}),y.jsx(Sd,{label:"MAJOR",value:n.major,onSave:f=>u("major",f),icon:y.jsx(Ef,{})}),y.jsx(Sd,{label:"MOTTO",value:n.motto,onSave:f=>u("motto",f),icon:y.jsx(nNe,{})}),y.jsx(Sd,{label:"CURRENT AIM",value:n.currentAim,onSave:f=>u("currentAim",f),icon:y.jsx(Vc,{})})]})]}),y.jsx(qt,{children:i&&y.jsx(SDe,{isOpen:i,onClose:()=>s(!1),weightHistory:n.weightHistory,onSave:f=>u("weightHistory",f)})})]})}const bDe=({initials:t})=>y.jsx("div",{className:"identity-core-glow rounded-full w-56 h-56 flex items-center justify-center mx-auto",children:y.jsx("div",{className:"hall-of-fame-content bg-white dark:bg-slate-900 rounded-full w-full h-full flex flex-col items-center justify-center border-2 border-cyan-400/50",children:y.jsx("span",{className:"text-8xl font-bold text-cyan-600 dark:text-cyan-300 opacity-70",children:t})})}),u_=({label:t,value:e,onSave:n,icon:r,isStatic:i=!1})=>{const[s,a]=_.useState(String(e||"")),[l,u]=_.useState(!1);_.useEffect(()=>{a(String(e||""))},[e]);const f=()=>{n(s),u(!1)},d=t==="BMI"?ENe(e):null,p=d?.iconName?TNe[d.iconName]:null,g=d?d.color:"text-cyan-600 dark:text-cyan-300";return y.jsxs("div",{className:"bg-white/50 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700 backdrop-blur-sm relative group",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[Pi.cloneElement(r,{className:"w-5 h-5 text-purple-400"}),y.jsx("label",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 tracking-widest",children:t})]}),y.jsx("div",{className:"flex items-baseline gap-3 mt-1",children:l?y.jsx("input",{type:"text",value:s,onChange:v=>a(v.target.value),onBlur:f,onKeyDown:v=>v.key==="Enter"&&f(),className:"w-full bg-transparent text-3xl font-bold text-cyan-600 dark:text-cyan-300 focus:outline-none focus:ring-1 focus:ring-cyan-500 rounded-md px-1",autoFocus:!0}):y.jsxs(y.Fragment,{children:[y.jsx("p",{className:`text-3xl font-bold ${g}`,children:e}),d&&d.comment&&y.jsxs("div",{className:`flex items-center gap-1.5 text-lg font-semibold opacity-60 ${d.color}`,children:[p&&y.jsx(p,{className:"w-8 h-8"}),y.jsx("span",{children:d.comment})]})]})}),!i&&!l&&y.jsx("button",{onClick:()=>u(!0),className:"absolute top-3 right-3 p-1 opacity-20 group-hover:opacity-100 transition-opacity",children:y.jsx(Lr,{className:"w-4 h-4 text-slate-400"})})]})},Sd=({label:t,value:e,onSave:n,icon:r,type:i="input"})=>{const[s,a]=_.useState(e),[l,u]=_.useState(!1);_.useEffect(()=>{a(e)},[e]);const f=()=>{n(s),u(!1)};return y.jsxs("div",{className:"bg-white/50 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700 backdrop-blur-sm relative group",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[Pi.cloneElement(r,{className:"w-5 h-5 text-purple-400"}),y.jsx("label",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 tracking-widest",children:t})]}),l?i==="textarea"?y.jsx("textarea",{value:s,onChange:d=>a(d.target.value),onBlur:f,className:"w-full bg-slate-100 dark:bg-slate-700 text-lg text-slate-800 dark:text-slate-200 focus:outline-none focus:ring-1 focus:ring-cyan-500 rounded-md p-1 resize-none",autoFocus:!0,rows:3}):y.jsx("input",{type:"text",value:s,onChange:d=>a(d.target.value),onBlur:f,onKeyDown:d=>d.key==="Enter"&&f(),className:"w-full bg-slate-100 dark:bg-slate-700 text-lg text-slate-800 dark:text-slate-200 focus:outline-none focus:ring-1 focus:ring-cyan-500 rounded-md p-1",autoFocus:!0}):y.jsx("p",{onDoubleClick:()=>u(!0),className:`text-lg text-slate-800 dark:text-slate-200 truncate ${i==="textarea"?"h-[72px] whitespace-normal":"h-auto"}`,children:e}),y.jsx("button",{onClick:()=>u(!0),className:"absolute top-3 right-3 p-1 opacity-20 group-hover:opacity-100 transition-opacity",children:y.jsx(Lr,{className:"w-4 h-4 text-slate-400"})})]})};function K6({items:t,onAdd:e,onUpdate:n,onDelete:r,config:i,theme:s="violet"}){const[a,l]=_.useState(!1),[u,f]=_.useState(null),d={Skill:"bg-violet-500 hover:bg-violet-600",Hobby:"bg-pink-500 hover:bg-pink-600"},g={violet:{mainBg:"bg-violet-50 dark:bg-violet-950/40",borderColor:"#a78bfa",tag:"bg-violet-100 dark:bg-violet-900 text-violet-800 dark:text-violet-200",hofGlow:"hof-glow-violet",hofBg:"p-3 rounded-lg hof-bg-violet hall-of-fame-content group",hofTitle:"text-violet-300",hofTag:"bg-violet-500/20 text-violet-200"},pink:{mainBg:"bg-pink-50 dark:bg-pink-950/40",borderColor:"#f472b6",tag:"bg-pink-100 dark:bg-pink-900 text-pink-800 dark:text-pink-200",hofGlow:"hof-glow-pink",hofBg:"p-3 rounded-lg hof-bg-pink hall-of-fame-content group",hofTitle:"text-pink-300",hofTag:"bg-pink-500/20 text-pink-200"}}[s],v=_.useMemo(()=>{const A=t.filter(L=>!L.hallOfFame),C=t.filter(L=>L.hallOfFame),D=L=>L.reduce((j,B)=>{const M=B.section||"General";return j[M]||(j[M]=[]),j[M].push(B),j},{});return{regular:D(A),hallOfFame:D(C)}},[t]),x=()=>{u&&u.name.trim()&&(n(u.id,{name:u.name,section:u.section,tags:Array.isArray(u.tags)?u.tags:u.tags.split(",").map(A=>A.trim()),expertise:u.expertise}),f(null))},S=(A,C)=>{const D=y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("span",{className:`font-semibold ${C?g.hofTitle:"text-neutral-500 dark:text-neutral-400"}`,children:A.name}),y.jsxs("div",{className:"flex items-center gap-2",children:[i.hasExpertise&&y.jsxs("span",{className:"text-sm font-semibold",style:{color:g.borderColor},children:[A.expertise,"%"]}),y.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>f({...A,tags:Array.isArray(A.tags)?A.tags.join(", "):""}),children:y.jsx(Lr,{className:`w-4 h-4 ${C?"text-neutral-300 hover:text-white":"text-neutral-400 hover:text-blue-500"}`})}),y.jsx("button",{onClick:()=>r(A.id),children:y.jsx(ui,{className:`w-4 h-4 ${C?"text-neutral-300 hover:text-red-400":"text-neutral-400 hover:text-red-500"}`})})]})]})]}),i.hasExpertise&&y.jsx("input",{type:"range",min:"0",max:"100",value:A.expertise,onChange:L=>n(A.id,{expertise:parseInt(L.target.value)}),className:"w-full h-2 bg-neutral-200 dark:bg-neutral-700 rounded-lg appearance-none cursor-pointer",style:{accentColor:g.borderColor}}),i.hasTags&&A.tags&&y.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:A.tags.map(L=>y.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${C?g.hofTag:g.tag}`,children:L},L))})]});return C?y.jsx("div",{className:`${g.hofGlow} rounded-lg`,children:y.jsx("div",{className:g.hofBg,children:D})},A.id):y.jsx("div",{className:`p-3 rounded-lg border-l-4 group ${g.mainBg}`,style:{borderColor:g.borderColor},children:D},A.id)},E=A=>Object.entries(A).map(([C,D])=>{const L=mNe[D[0]?.icon]||uy,j={color:g.borderColor};return y.jsxs("div",{className:"space-y-4",children:[!i.hideSection&&y.jsxs("h3",{style:j,className:"flex items-center gap-2 font-bold text-xl",children:[y.jsx(L,{className:"w-5 h-5"}),C]}),y.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(18rem,1fr))] gap-4",children:D.map(B=>S(B,!1))})]},C)});return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"flex justify-end items-center mb-6",children:y.jsxs("button",{onClick:()=>l(!0),className:`px-4 py-2 text-white font-semibold rounded-lg flex items-center gap-2 transition-colors ${d[i.name]}`,children:[y.jsx(as,{className:"w-5 h-5"})," Add New ",i.name]})}),Object.keys(v.hallOfFame).length>0&&y.jsxs("div",{className:"mb-8",children:[y.jsxs("h3",{className:"font-bold text-xl mb-4 flex items-center gap-2",style:{color:g.borderColor},children:[y.jsx(Gs,{})," Hall of Fame"]}),y.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(18rem,1fr))] gap-4",children:Object.values(v.hallOfFame).flat().map(A=>S(A,!0))})]}),y.jsx("div",{className:"space-y-6",children:i.hideSection?y.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(18rem,1fr))] gap-4",children:Object.values(v.regular).flat().map(A=>S(A,!1))}):E(v.regular)}),y.jsxs(qt,{children:[a&&y.jsx($Ne,{isOpen:a,onClose:()=>l(!1),onSave:e,config:i,theme:s}),u&&y.jsx(_e.div,{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",onClick:()=>f(null),children:y.jsxs(_e.div,{className:"bg-neutral-100 dark:bg-neutral-800 p-6 rounded-xl w-full max-w-md",onClick:A=>A.stopPropagation(),children:[y.jsxs("h3",{className:"font-bold text-lg mb-4",children:["Edit ",i.name]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"text",value:u.name,onChange:A=>f(C=>({...C,name:A.target.value})),className:"w-full p-2 bg-white dark:bg-neutral-700 rounded-lg"}),!i.hideSection&&y.jsx("input",{type:"text",value:u.section,onChange:A=>f(C=>({...C,section:A.target.value})),className:"w-full p-2 bg-white dark:bg-neutral-700 rounded-lg"}),i.hasTags&&y.jsx("input",{type:"text",value:u.tags,onChange:A=>f(C=>({...C,tags:A.target.value})),className:"w-full p-2 bg-white dark:bg-neutral-700 rounded-lg"})]}),y.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[y.jsx("button",{onClick:()=>f(null),className:"px-3 py-1 rounded-lg bg-neutral-200 dark:bg-neutral-600",children:"Cancel"}),y.jsx("button",{onClick:x,className:"px-3 py-1 rounded-lg bg-blue-600 text-white",children:"Save"})]})]})})]})]})}function Tw({value:t,onChange:e,iconMap:n}){const[r,i]=_.useState(!1),s=_.useRef(null),a=n[t];return _.useEffect(()=>{const l=u=>{s.current&&!s.current.contains(u.target)&&i(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),y.jsxs("div",{className:"relative",ref:s,children:[y.jsx("button",{type:"button",onClick:()=>i(!r),className:"flex-grow flex items-center justify-center p-2 bg-neutral-200 dark:bg-neutral-800 rounded-md",children:y.jsx(a,{className:"w-5 h-5 text-blue-500"})}),y.jsx(qt,{children:r&&y.jsx(_e.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full mt-1 w-48 bg-white dark:bg-neutral-700 rounded-md shadow-lg z-10 p-2 grid grid-cols-5 gap-2",children:Object.keys(n).map(l=>{const u=n[l];return y.jsx("button",{type:"button",onClick:()=>{e(l),i(!1)},className:"p-2 rounded hover:bg-neutral-100 dark:hover:bg-neutral-600",children:y.jsx(u,{className:"w-5 h-5 text-blue-500"})},l)})})})]})}function xDe({weightHistory:t,onEditClick:e}){return y.jsxs("div",{className:"w-full bg-white/50 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700 backdrop-blur-sm relative group",children:[y.jsxs("label",{className:"flex items-center gap-2 font-semibold text-slate-500 dark:text-slate-400 mb-2",children:[y.jsx(LN,{className:"w-5 h-5 text-purple-400"}),y.jsx("span",{className:"text-sm tracking-widest",children:"WEIGHT HISTORY"})]}),y.jsx(wDe,{data:t}),y.jsx("button",{onClick:e,className:"absolute top-3 right-3 p-1 opacity-20 group-hover:opacity-100 transition-opacity",children:y.jsx(Lr,{className:"w-4 h-4 text-slate-400"})})]})}function wDe({data:t}){if(!t||t.length<2)return y.jsx("div",{className:"text-center text-sm text-slate-500 py-10",children:"Not enough data to draw a chart."});const e=300,n=150,r={top:10,right:10,bottom:20,left:30},i=[...t].sort((D,L)=>D.year-L.year||D.month-L.month),s=i.map(D=>D.weight),a=Math.min(...s),l=Math.max(...s),u=Math.floor(a/5)*5,f=Math.ceil(l/5)*5,d=f-u,p=Array.from({length:4},(D,L)=>Math.round(u+L*d/3)),g=[...new Set(i.map(D=>D.year))].sort(),v=g[0],x=g[g.length-1],S=(x-v+1)*12,E=i.map(D=>{const j=((D.year-v)*12+(D.month-1))/(S-1)*(e-r.left-r.right)+r.left,B=n-r.bottom-(D.weight-u)/(f-u||1)*(n-r.top-r.bottom);return`${j},${B}`}).join(" "),A=`M${r.left},${n-r.bottom} L${E} L${e-r.right},${n-r.bottom} Z`,C=g.filter((D,L)=>L%2===0);return y.jsxs("svg",{viewBox:`0 0 ${e} ${n}`,className:"w-full h-auto",children:[y.jsxs("defs",{children:[y.jsxs("linearGradient",{id:"lineGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[y.jsx("stop",{offset:"0%",stopColor:"#818cf8"}),y.jsx("stop",{offset:"100%",stopColor:"#22d3ee"})]}),y.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[y.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),y.jsxs("feMerge",{children:[y.jsx("feMergeNode",{in:"coloredBlur"}),y.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),y.jsxs("linearGradient",{id:"areaGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"0%",stopColor:"#22d3ee",stopOpacity:"0.3"}),y.jsx("stop",{offset:"100%",stopColor:"#818cf8",stopOpacity:"0"})]})]}),p.map(D=>{const L=n-r.bottom-(D-u)/(f-u||1)*(n-r.top-r.bottom);return y.jsxs("g",{children:[y.jsx("line",{x1:r.left-4,y1:L,x2:e-r.right,y2:L,stroke:"currentColor",className:"text-slate-700 dark:text-slate-700/50",strokeWidth:"0.5",strokeDasharray:"2"}),y.jsxs("text",{x:r.left-8,y:L+3,className:"text-[7px] fill-current text-slate-500 dark:text-slate-400",textAnchor:"end",children:[D,"kg"]})]},D)}),y.jsx("path",{d:A,fill:"url(#areaGradient)"}),y.jsx("polyline",{fill:"none",stroke:"url(#lineGradient)",strokeWidth:"2",points:E,filter:"url(#glow)"}),C.map(D=>{const j=(D-v)/(x-v||1)*(e-r.left-r.right)+r.left;return y.jsx("text",{x:j,y:n-5,className:"text-[7px] fill-current text-slate-500 dark:text-slate-400",textAnchor:"middle",children:D},D)})]})}function SDe({isOpen:t,onClose:e,weightHistory:n,onSave:r}){const[i,s]=_.useState(new Date().getFullYear()),[a,l]=_.useState(Array(12).fill(0)),[u,f]=_.useState(""),d=_.useMemo(()=>n.some(E=>E.year===i),[i,n]);_.useEffect(()=>{if(t){const E=Array(12).fill(0);d&&n.filter(C=>C.year===i).forEach(C=>{E[C.month-1]=C.weight||0}),l(E)}},[i,t,d,n]);const p=(E,A)=>{const C=[...a];C[E]=parseFloat(A)||0,l(C)},g=()=>{const E=n.filter(C=>C.year!==i),A=a.map((C,D)=>({year:i,month:D+1,weight:C})).filter(C=>C.weight>0);r([...E,...A]),e()},v=E=>{s(A=>A+E)},x=()=>{const E=parseFloat(u);!isNaN(E)&&E>=0&&(l(Array(12).fill(E)),f(""))},S={bg:"bg-slate-50/80 dark:bg-slate-800/80 backdrop-blur-xl",title:"text-slate-600 dark:text-slate-300",container:"bg-black/5 dark:bg-white/5 rounded-lg",input:"bg-white/50 dark:bg-slate-700/50"};return y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:y.jsxs(_e.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:30},className:`rounded-2xl shadow-xl w-full max-w-lg border border-black/5 dark:border-white/10 ${S.bg}`,onClick:E=>E.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:`text-xl font-bold mb-4 ${S.title}`,children:"Edit Weight History"}),y.jsxs("div",{className:`flex items-center justify-center gap-4 mb-4 p-2 ${S.container}`,children:[y.jsx("button",{onClick:()=>v(-1),className:"p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10",children:y.jsx(Lc,{className:"w-5 h-5 text-neutral-600 dark:text-slate-300"})}),y.jsx("input",{type:"number",value:i,onChange:E=>s(parseInt(E.target.value)||new Date().getFullYear()),className:"p-1 w-24 bg-transparent text-center text-lg font-bold text-neutral-800 dark:text-slate-100 focus:outline-none"}),y.jsx("button",{onClick:()=>v(1),className:"p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10",children:y.jsx(Lc,{className:"w-5 h-5 text-neutral-600 dark:text-slate-300 rotate-180"})})]}),y.jsxs("div",{className:`flex items-center gap-2 mb-6 p-2 ${S.container}`,children:[y.jsx("input",{type:"number",placeholder:"Set all to...",value:u,onChange:E=>f(E.target.value),className:`w-full p-1 text-center text-sm text-neutral-800 dark:text-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-cyan-400 ${S.input}`}),y.jsx("button",{onClick:x,className:"px-3 py-1 text-sm font-semibold text-white bg-cyan-500 hover:bg-cyan-600 rounded-md",children:"Apply"})]}),y.jsx("div",{className:"grid grid-cols-4 gap-4 text-sm",children:a.map((E,A)=>y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-xs text-center text-neutral-500 dark:text-slate-400 mb-1",children:new Date(0,A).toLocaleString("default",{month:"short"})}),y.jsx("input",{type:"number",value:E,onChange:C=>p(A,C.target.value),className:`p-1 text-center text-neutral-800 dark:text-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-cyan-400 ${S.input}`})]},A))})]}),y.jsxs("div",{className:"px-6 py-4 bg-black/5 dark:bg-black/10 backdrop-blur-sm flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg bg-neutral-200/50 dark:bg-neutral-700/50 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:g,className:"px-4 py-2 rounded-lg bg-cyan-500 hover:bg-cyan-600 text-white font-semibold",children:d?"Update Values":"Add Year"})]})]})})}function TDe({books:t,onAdd:e,onUpdate:n,onDelete:r,onEdit:i,theme:s}){const[a,l]=_.useState(!1),u=t.filter(A=>A.status==="reading"&&!A.hallOfFame),f=t.filter(A=>A.status==="planned"&&!A.hallOfFame),d=t.filter(A=>A.hallOfFame),p=_.useMemo(()=>t.filter(A=>A.status==="finished"),[t]),g=_.useMemo(()=>p.reduce((A,C)=>A+(Number(C.pageCount)||0),0),[p]),v=p.length,x=p.filter(A=>!A.hallOfFame),S={sky:{textColor:"text-sky-500",buttonBg:"bg-sky-500 hover:bg-sky-600"},orange:{textColor:"text-orange-500",buttonBg:"bg-amber-500 hover:bg-amber-600"}},E=S[s]||S.orange;return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("div",{className:"flex items-center gap-8 md:gap-12",children:[y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:`font-bold text-3xl ${E.textColor}`,children:g.toLocaleString()}),y.jsx("p",{className:"text-sm font-semibold text-neutral-500",children:"Total Pages Read"})]}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:`font-bold text-3xl ${E.textColor}`,children:v}),y.jsx("p",{className:"text-sm font-semibold text-neutral-500",children:"Books Read"})]})]}),y.jsxs("button",{onClick:()=>l(!0),className:`px-4 py-2 text-white font-semibold rounded-lg flex items-center gap-2 transition-colors ${E.buttonBg}`,children:[y.jsx(as,{className:"w-5 h-5"})," Add New Book"]})]}),y.jsxs("div",{className:"space-y-8",children:[y.jsx(cc,{title:"Currently Reading",titleColor:"text-blue-500",books:u,onUpdate:n,onDelete:r,onEdit:i,isGridView:!0,theme:s}),y.jsx(cc,{title:"Planned",titleColor:"text-neutral-500",books:f,onUpdate:n,onDelete:r,onEdit:i,isGridView:!0,theme:s}),d.length>0&&y.jsx(cc,{title:"Hall of Fame",books:d,onUpdate:n,onDelete:r,onEdit:i,isGridView:!0,isHOF:!0,theme:s}),y.jsx(cc,{title:"Finished Books",titleColor:"text-emerald-500",books:x,onUpdate:n,onDelete:r,isGridView:!0,onEdit:i,theme:s})]}),y.jsx(qt,{children:a&&y.jsx(HNe,{isOpen:a,onClose:()=>l(!1),onSave:e,theme:s})})]})}function EDe({theses:t,onAdd:e,onUpdate:n,onDelete:r,onEdit:i,theme:s}){const[a,l]=_.useState(!1),u=t.filter(A=>A.status==="reading"&&!A.hallOfFame),f=_.useMemo(()=>t.filter(A=>A.status==="finished"),[t]),d=t.filter(A=>A.status==="planned"&&!A.hallOfFame),p=t.filter(A=>A.hallOfFame),g=_.useMemo(()=>f.reduce((A,C)=>A+(Number(C.pageCount)||0),0),[f]),v=f.length,x=f.filter(A=>!A.hallOfFame),E={teal:{textColor:"text-teal-500",buttonBg:"bg-teal-500 hover:bg-teal-600"}}[s];return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("div",{className:"flex items-center gap-8 md:gap-12",children:[y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:`font-bold text-3xl ${E.textColor}`,children:g.toLocaleString()}),y.jsx("p",{className:"text-sm font-semibold text-neutral-500",children:"Total Pages Read"})]}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:`font-bold text-3xl ${E.textColor}`,children:v}),y.jsx("p",{className:"text-sm font-semibold text-neutral-500",children:"Theses Read"})]})]}),y.jsxs("button",{onClick:()=>l(!0),className:`px-4 py-2 text-white font-semibold rounded-lg flex items-center gap-2 transition-colors ${E.buttonBg}`,children:[y.jsx(as,{className:"w-5 h-5"})," Add New Thesis"]})]}),y.jsxs("div",{className:"space-y-8",children:[y.jsx(cc,{title:"Currently Reading",titleColor:"text-blue-500",books:u,onUpdate:n,onDelete:r,onEdit:i,isGridView:!0,theme:s}),y.jsx(cc,{title:"Planned",titleColor:"text-neutral-500",books:d,onUpdate:n,onDelete:r,onEdit:i,isGridView:!0,theme:s}),p.length>0&&y.jsx(cc,{title:"Hall of Fame",books:p,onUpdate:n,onDelete:r,onEdit:i,isGridView:!0,isHOF:!0,theme:s}),y.jsx(cc,{title:"Finished Theses",titleColor:"text-emerald-500",books:x,onUpdate:n,onDelete:r,isGridView:!0,onEdit:i})]}),y.jsx(qt,{children:a&&y.jsx(qNe,{isOpen:a,onClose:()=>l(!1),onSave:e,theme:s})})]})}const cc=({title:t,books:e,onUpdate:n,onDelete:r,onEdit:i,isGridView:s=!1,isHOF:a=!1,titleColor:l="text-neutral-800 dark:text-neutral-200",theme:u})=>{const f={sky:"text-sky-500",teal:"text-teal-500"}[u];return y.jsxs("div",{className:"mb-6",children:[t&&y.jsxs("h3",{className:`font-bold text-xl mb-4 flex items-center gap-2 ${a?f:l}`,children:[a&&y.jsx(Gs,{className:"w-5 h-5"}),t]}),y.jsxs("div",{className:s?"grid grid-cols-[repeat(auto-fill,minmax(18rem,1fr))] gap-4":"space-y-4",children:[e.map(d=>y.jsx(ADe,{book:d,onUpdate:n,onDelete:r,onEdit:i,theme:u},d.id)),e.length===0&&y.jsx("p",{className:"text-sm text-neutral-500",children:"No books in this section."})]})]})};function ADe({book:t,onUpdate:e,onDelete:n,onEdit:r,theme:i="sky"}){const a={sky:{mainBg:"bg-sky-50 dark:bg-sky-950/40",tag:"bg-sky-100 dark:bg-sky-900 text-sky-800 dark:text-sky-200",progressAccent:()=>"#38bdf8",hofGlow:"hof-glow-sky",hofBg:"p-4 rounded-lg flex gap-4 items-center hof-bg-sky hall-of-fame-content",hofTitle:"text-sky-600 dark:text-sky-300",hofAuthor:"text-sky-700/80 dark:text-neutral-300/80",hofTag:"bg-sky-500/10 text-sky-700 dark:bg-sky-200/20 dark:text-sky-200",starColor:"text-sky-400"},teal:{mainBg:"bg-teal-50 dark:bg-teal-950/40",tag:"bg-teal-100 dark:bg-teal-900 text-teal-800 dark:text-teal-200",progressAccent:()=>"#14b8a6",hofGlow:"hof-glow-teal",hofBg:"p-4 rounded-lg flex gap-4 items-center hof-bg-teal text-stone-700 dark:text-neutral-300 hall-of-fame-content",hofTitle:"text-teal-400",hofAuthor:"text-teal-100/80",hofTag:"bg-teal-500/20 text-teal-200",starColor:"text-teal-400"}}[i],[l,u]=_.useState(!1),f=t.hallOfFame?"transparent":a.progressAccent(t.progress||0),d=rY(t.title,24),p=x=>{const S={progress:x};x===100?(S.status="finished",S.completedAt=new Date):S.status="reading",e(t.id,S)},g=_.useMemo(()=>{if(t.status==="finished"&&(t.startedAt||t.createdAt)&&t.completedAt){const x=(t.startedAt||t.createdAt).toDate?(t.startedAt||t.createdAt).toDate():new Date(t.startedAt||t.createdAt),S=t.completedAt.toDate?t.completedAt.toDate():new Date(t.completedAt),E=Math.abs(S-x);return Math.ceil(E/(1e3*60*60*24))}return null},[t]),v=y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`w-20 h-30 object-cover rounded-md shrink-0 flex items-center justify-center p-1 text-center ${t.hallOfFame?"bg-black/5 dark:bg-black/20":"bg-neutral-200 dark:bg-neutral-700"}`,children:y.jsx("span",{className:"text-xs font-semibold",style:{wordBreak:"break-word"},children:d})}),y.jsxs("div",{className:"relative flex-grow flex flex-col justify-between min-w-0",children:[y.jsxs("div",{children:[y.jsx("p",{className:`font-bold text-lg ${t.hallOfFame?a.hofTitle:""} break-words`,title:t.title,children:d}),y.jsx("p",{className:`text-sm ${t.hallOfFame?a.hofAuthor:"opacity-80"}`,children:t.author}),y.jsxs("p",{className:`text-xs ${t.hallOfFame?"text-neutral-400":"opacity-60"}`,children:[t.pageCount," pages"]}),y.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(t.tags||[]).map(x=>y.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${t.hallOfFame?a.hofTag:a.tag}`,children:x},x))})]}),y.jsxs("div",{children:[t.status==="reading"&&y.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[y.jsx("input",{type:"range",min:"0",max:"100",value:t.progress,onChange:x=>p(parseInt(x.target.value)),className:"w-full h-2 bg-neutral-200 dark:bg-neutral-700 rounded-lg appearance-none cursor-pointer",style:{accentColor:f}}),y.jsxs("span",{className:"text-sm font-semibold w-8",children:[t.progress,"%"]}),y.jsx("button",{onClick:()=>e(t.id,{status:"finished",progress:100,completedAt:new Date}),className:"p-1 rounded-full hover:bg-green-100 dark:hover:bg-green-800",title:"Mark as Read",children:y.jsx(Tf,{className:"w-5 h-5 text-green-500"})})]}),t.status==="finished"&&y.jsxs("div",{className:"mt-2 flex flex-col items-start gap-2",children:[g&&y.jsxs("p",{className:`text-xs font-semibold ${t.hallOfFame?"text-green-400":"text-green-500"}`,children:["Read in ",g," days"]}),!t.hallOfFame&&y.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(x=>y.jsx("button",{onClick:()=>e(t.id,{rating:x}),children:y.jsx(wh,{className:`w-5 h-5 ${t.rating>=x?`${a.starColor} fill-current`:"text-neutral-300 dark:text-neutral-600"}`})},x))})]}),t.status==="planned"&&y.jsx("button",{onClick:()=>e(t.id,{status:"reading",startedAt:new Date}),className:"mt-2 text-sm font-semibold text-blue-500",children:"Start Reading"})]}),y.jsx(qt,{children:l&&y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute top-2 right-2 z-20",children:y.jsx(CDe,{onEdit:()=>r(t),onDelete:()=>n(t.id),item:t})})})]})]});return t.hallOfFame?y.jsx("div",{className:`${a.hofGlow} rounded-lg`,children:y.jsx("div",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:a.hofBg,children:v})}):y.jsx("div",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:`p-4 rounded-lg flex gap-4 border-l-4 ${a.mainBg}`,style:{borderColor:f},children:v})}function W6({items:t,onAdd:e,onUpdate:n,onDelete:r,config:i,onEdit:s,theme:a}){const[l,u]=_.useState(!1),f=t.filter(C=>C.status==="planned"&&!C.hallOfFame),d=t.filter(C=>C.hallOfFame),p=_.useMemo(()=>t.filter(C=>C.status==="watched"||C.status==="listened"),[t]),g=_.useMemo(()=>{if(!i.hasLength)return 0;const C=p.reduce((D,L)=>D+(Number(L.length)||0),0);return Math.round(C/60)},[p,i.hasLength]),v=i.type==="Movie"?p.length:0,x=i.type==="Album/Song"?p.length:0,S=p.filter(C=>!C.hallOfFame),A={Movie:{btn:"bg-slate-500 hover:bg-slate-600",text:"text-slate-500"},"Album/Song":{btn:"bg-violet-500 hover:bg-violet-600",text:"text-violet-500"}}[i.type];return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("div",{className:"flex items-center gap-8 md:gap-12",children:i.hasLength?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:`font-bold text-3xl ${A.text}`,children:g}),y.jsx("p",{className:"text-sm font-semibold text-neutral-500",children:"Total Hours Watched"})]}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:`font-bold text-3xl ${A.text}`,children:v}),y.jsx("p",{className:"text-sm font-semibold text-neutral-500",children:"Movies Watched"})]})]}):y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:`font-bold text-3xl ${A.text}`,children:x}),y.jsx("p",{className:"text-sm font-semibold text-neutral-500",children:"Total Listened"})]})}),y.jsxs("button",{onClick:()=>u(!0),className:`px-4 py-2 text-white font-semibold rounded-lg flex items-center gap-2 transition-colors ${A.btn}`,children:[y.jsx(as,{className:"w-5 h-5"})," Add New ",i.type]})]}),!i.hidePlanned&&y.jsx("div",{className:"mb-12",children:y.jsx(f_,{title:"Planned",items:f,onUpdate:n,onDelete:r,config:i,onEdit:s,isGridView:!0,titleColor:"text-neutral-500",theme:a})}),d.length>0&&y.jsx(f_,{title:"Hall of Fame",items:d,onUpdate:n,onDelete:r,config:i,isGridView:!0,isHOF:!0,onEdit:s,theme:a}),y.jsx("div",{className:"mt-8",children:y.jsx(f_,{items:S,onUpdate:n,onDelete:r,config:i,isGridView:!0,onEdit:s,title:i.type==="Movie"?"Watched":"Listened",titleColor:"text-emerald-500",theme:a})}),y.jsx(qt,{children:l&&y.jsx(KNe,{isOpen:l,onClose:()=>u(!1),onSave:e,config:i,theme:a})})]})}const f_=({title:t,items:e,onUpdate:n,onDelete:r,config:i,onEdit:s,isGridView:a=!1,isHOF:l=!1,titleColor:u="text-neutral-800 dark:text-neutral-200",theme:f})=>{const d={slate:"text-slate-500",violet:"text-violet-500"}[f]||"text-amber-500";return y.jsxs("div",{className:`mb-6 ${l?"mb-12":""}`,children:[t&&y.jsxs("h3",{className:`font-bold text-xl mb-4 flex items-center gap-2 ${l?d:u}`,children:[l&&y.jsx(Gs,{className:"w-5 h-5"}),t]}),y.jsxs("div",{className:a?i.type==="Album/Song"?"grid grid-cols-[repeat(auto-fill,minmax(9rem,2fr))] gap-4":"grid grid-cols-[repeat(auto-fill,minmax(22rem,1fr))] gap-4":"space-y-4",children:[e.map(p=>y.jsx(_De,{item:p,onUpdate:n,onDelete:r,config:i,onEdit:s,theme:f},p.id)),e.length===0&&y.jsx("p",{className:"text-sm text-neutral-500",children:"No items in this section."})]})]})};function _De({item:t,onUpdate:e,onDelete:n,config:r,onEdit:i,theme:s="slate"}){const a=t[r.primaryField.toLowerCase()],[l,u]=_.useState(!1),f=r.type==="Album/Song",p={slate:{mainBg:"bg-slate-50 dark:bg-slate-800/30",tag:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300",hofGlow:"hof-glow-slate",hofBg:"p-4 rounded-lg flex gap-4 items-center hof-bg-slate hall-of-fame-content",hofTitle:"text-slate-600 dark:text-slate-300",hofSubtle:"text-slate-500 dark:text-slate-400",hofTag:"bg-slate-500/20 text-slate-300",mainIcon:"text-slate-300 dark:text-slate-600",hofMainIcon:"text-slate-400/70 dark:text-slate-500/50",starColor:"text-slate-400"},violet:{mainBg:"bg-violet-50 dark:bg-violet-950/40",iconBg:"bg-violet-100 dark:bg-violet-900/40",hofGlow:"hof-glow-violet",hofBg:"hall-of-fame-content rounded-lg flex flex-col items-start h-50 relative hof-bg-violet overflow-hidden",hofTitle:"text-violet-300",mainIcon:"text-violet-300 dark:text-violet-600",hofMainIcon:"text-violet-400/70",starColor:"text-violet-400"}}[s],g=rY(t.title,24);if(f){const x=y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`h-1/2 w-full flex items-center justify-center rounded-t-lg ${t.hallOfFame?"bg-black/5":p.iconBg}`,children:Pi.cloneElement(r.mediaIcon,{className:`w-2/5 h-2/5 ${t.hallOfFame?p.hofMainIcon:p.mainIcon}`})}),y.jsxs("div",{className:"h-1/2 w-full flex flex-col justify-between p-3",children:[y.jsxs("div",{children:[y.jsx("p",{className:`font-bold truncate ${t.hallOfFame?p.hofTitle:""}`,children:t.title}),y.jsx("p",{className:`text-sm opacity-70 truncate ${t.hallOfFame?"text-neutral-300":""}`,children:a})]}),y.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(S=>y.jsx("button",{onClick:()=>e(t.id,{rating:S}),children:y.jsx(wh,{className:`w-5 h-5 transition-colors ${t.rating>=S?`${p.starColor} fill-current`:"text-neutral-300 dark:text-neutral-600"}`})},S))})]})]});return t.hallOfFame?y.jsx("div",{className:`${p.hofGlow} rounded-lg max-w-xs`,children:y.jsxs("div",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:p.hofBg,children:[x,y.jsx(qt,{children:l&&y.jsxs(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute top-2 right-2 flex items-center gap-1 z-20",children:[y.jsx("button",{onClick:()=>i(t),className:"p-1.5 rounded-full bg-black/20 hover:bg-green-500/50 backdrop-blur-sm transition-colors",children:y.jsx(Lr,{className:"w-4 h-4 text-white"})}),y.jsx("button",{onClick:()=>n(t.id),className:"p-1.5 rounded-full bg-black/20 hover:bg-red-500/50 backdrop-blur-sm transition-colors",children:y.jsx(ui,{className:"w-4 h-4 text-white"})})]})})]})}):y.jsxs("div",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:`rounded-lg flex flex-col items-start h-50 shadow-sm relative overflow-hidden ${p.mainBg}`,children:[x,y.jsx(qt,{children:l&&y.jsxs(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute top-2 right-2 flex items-center gap-1 z-20",children:[y.jsx("button",{onClick:()=>i(t),className:"p-1.5 rounded-full bg-black/20 hover:bg-green-500/50 backdrop-blur-sm transition-colors",children:y.jsx(Lr,{className:"w-4 h-4 text-white"})}),y.jsx("button",{onClick:()=>n(t.id),className:"p-1.5 rounded-full bg-black/20 hover:bg-red-500/50 backdrop-blur-sm transition-colors",children:y.jsx(ui,{className:"w-4 h-4 text-white"})})]})})]})}const v=y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`shrink-0 ${t.hallOfFame?p.hofMainIcon:p.mainIcon}`,children:Pi.cloneElement(r.mediaIcon,{className:"w-16 h-16"})}),y.jsxs("div",{className:"flex-grow relative min-w-0",children:[y.jsx("div",{className:"flex justify-between items-start",children:y.jsxs("div",{children:[y.jsx("p",{className:`font-bold text-lg ${t.hallOfFame?p.hofTitle:""}`,title:t.title,children:g}),y.jsx("p",{className:`text-sm ${t.hallOfFame?p.hofSubtle:"text-neutral-500"}`,children:a}),t.length&&y.jsxs("p",{className:`text-xs ${t.hallOfFame?p.hofSubtle:"text-neutral-400"}`,children:[t.length," min"]}),t.watchedDate&&y.jsxs("p",{className:`text-xs ${t.hallOfFame?p.hofSubtle:"text-neutral-400"}`,children:["Watched on ",t.watchedDate]}),y.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(t.tags||[]).map(x=>y.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${t.hallOfFame?p.hofTag:p.tag}`,children:x},x))})]})}),y.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.hallOfFame?y.jsx("div",{}):y.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(x=>y.jsx("button",{onClick:()=>e(t.id,{rating:x,status:r.type==="Movie"?"watched":"listened"}),children:y.jsx(wh,{className:`w-5 h-5 ${t.rating>=x?`${p.starColor} fill-current`:"text-neutral-300 dark:text-neutral-600"}`})},x))}),t.status==="planned"&&y.jsx("button",{onClick:()=>e(t.id,{status:"watched",watchedDate:new Date().toISOString().split("T")[0]}),className:"text-sm font-semibold text-blue-500",children:"Watched"})]}),y.jsx(qt,{children:l&&y.jsxs(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute top-1.5 right-1.5 flex items-center gap-1 z-20",children:[y.jsx("button",{onClick:()=>i(t),className:"p-1.5 rounded-full bg-black/20 hover:bg-green-500/50 backdrop-blur-sm transition-colors",children:y.jsx(Lr,{className:"w-4 h-4 text-white"})}),y.jsx("button",{onClick:()=>n(t.id),className:"p-1.5 rounded-full bg-black/20 hover:bg-red-500/50 backdrop-blur-sm transition-colors",children:y.jsx(ui,{className:"w-4 h-4 text-white"})})]})})]})]});return t.hallOfFame?y.jsx("div",{className:`${p.hofGlow} rounded-lg w-full`,children:y.jsx("div",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:p.hofBg,children:v})}):y.jsx("div",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:`p-4 rounded-lg flex gap-4 ${p.mainBg}`,children:v})}function kDe({isOpen:t,onClose:e,item:n,type:r,onSave:i}){const[s,a]=_.useState({});_.useEffect(()=>{n&&a({...n,tags:Array.isArray(n.tags)?n.tags.join(", "):""})},[n]);const l=d=>{const{name:p,value:g,type:v,checked:x}=d.target;a(S=>({...S,[p]:v==="checkbox"?x:g}))},u=()=>{const d={...s,tags:s.tags.split(",").map(p=>p.trim()).filter(Boolean),pageCount:s.pageCount?parseInt(s.pageCount):0,length:s.length?parseInt(s.length):0};i(n.id,d),e()};if(!t)return null;const f={book:{title:"Book",primaryField:"author",hasPageCount:!0},thesis:{title:"Thesis",primaryField:"author",hasPageCount:!0},movie:{title:"Movie",primaryField:"director",hasLength:!0,hasWatchedDate:!0},music:{title:"Music",primaryField:"artist"}}[r];return y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:y.jsxs(_e.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-xl w-full max-w-md",onClick:d=>d.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Edit ",f.title]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("input",{type:"text",name:"title",value:s.title||"",onChange:l,placeholder:"Title",className:"w-full p-2 bg-neutral-100 dark:bg-neutral-700 rounded-md"}),y.jsx("input",{type:"text",name:f.primaryField,value:s[f.primaryField]||"",onChange:l,placeholder:f.primaryField.charAt(0).toUpperCase()+f.primaryField.slice(1),className:"w-full p-2 bg-neutral-100 dark:bg-neutral-700 rounded-md"}),f.hasPageCount&&y.jsx("input",{type:"number",name:"pageCount",value:s.pageCount||"",onChange:l,placeholder:"Page Count",className:"w-full p-2 bg-neutral-100 dark:bg-neutral-700 rounded-md"}),f.hasLength&&y.jsx("input",{type:"number",name:"length",value:s.length||"",onChange:l,placeholder:"Length (minutes)",className:"w-full p-2 bg-neutral-100 dark:bg-neutral-700 rounded-md"}),f.hasWatchedDate&&s.status==="watched"&&y.jsx("input",{type:"date",name:"watchedDate",value:s.watchedDate||"",onChange:l,className:"w-full p-2 bg-neutral-100 dark:bg-neutral-700 rounded-md"}),(r==="book"||r==="thesis")&&y.jsx("input",{type:"url",name:"link",value:s.link||"",onChange:l,placeholder:"Link to Thesis (URL)",className:"w-full p-2 bg-neutral-100 dark:bg-neutral-700 rounded-md"}),y.jsx("input",{type:"text",name:"tags",value:s.tags||"",onChange:l,placeholder:"Tags (comma-separated)",className:"w-full p-2 bg-neutral-100 dark:bg-neutral-700 rounded-md"}),y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[y.jsx("input",{type:"checkbox",name:"hallOfFame",checked:s.hallOfFame||!1,onChange:l}),y.jsx(Gs,{className:"w-5 h-5 text-amber-500"}),y.jsx("span",{children:"Hall of Fame"})]})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-neutral-50 dark:bg-neutral-800/50 flex justify-end gap-3 rounded-b-2xl",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-700 hover:bg-neutral-300 dark:hover:bg-neutral-600 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:u,className:"px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold",children:"Save"})]})]})})}function CDe({onEdit:t,onDelete:e,item:n}){const[r,i]=_.useState(!1),s=_.useRef(null);_.useEffect(()=>{const l=u=>{s.current&&!s.current.contains(u.target)&&i(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const a=n&&n.link&&n.link.trim()!=="";return y.jsxs("div",{className:"relative",ref:s,children:[y.jsx("button",{onClick:()=>i(!r),className:"p-1.5 rounded-full bg-black/20 hover:bg-black/40 backdrop-blur-sm transition-colors",children:y.jsx(QG,{className:"w-4 h-4 text-white"})}),y.jsx(qt,{children:r&&y.jsxs(_e.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 mt-2 w-40 bg-white dark:bg-neutral-800 rounded-lg shadow-lg border border-neutral-200 dark:border-neutral-700 z-20",children:[y.jsxs("button",{onClick:()=>{t(),i(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm hover:bg-neutral-100 dark:hover:bg-neutral-700",children:[y.jsx(Lr,{className:"w-4 h-4"})," Edit"]}),a&&y.jsxs("a",{href:_Ne(n.link),target:"_blank",rel:"noopener noreferrer",className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-teal-500 hover:bg-teal-500 hover:text-white",children:[y.jsx(oNe,{className:"w-4 h-4"})," Go to Link"]}),y.jsxs("button",{onClick:()=>{e(),i(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-red-500 hover:bg-red-500 hover:text-white",children:[y.jsx(ui,{className:"w-4 h-4"})," Delete"]})]})})]})}GX.createRoot(document.getElementById("root")).render(y.jsx(_.StrictMode,{children:y.jsx(tDe,{})}));
